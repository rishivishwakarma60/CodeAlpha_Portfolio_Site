!function e(t,n,i){function r(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,(function(e){var n=t[a][1][e];return r(n||e)}),c,c.exports,e,t,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(e,t,n){var i=e("acorn"),r=e("acorn-walk"),o=e("../../../core/pubSub.js"),a=e("./kombucha.js");t.exports=function(e,t,n){var s=[],u=window.readLine,l=window.readInt,c=window.readFloat,d=window.readBoolean,p=window.print,h=window.println,f=console.log;function m(e){return["var __private_inputs="+JSON.stringify(e)+";","var currInput = 0;","readLine = readInt = readFloat = readBoolean =function() {return __private_inputs[currInput++];};","print=quietPrint; println=quietPrintln;console.log=quietPrintln;"].join("\n")}function g(t,n){e.stop();var i=m(n),r=e.runner.run(m(n)+t,{lineOffset:i.split("\n").length-1}),o=e.cleanNewLine(window.globalCodeHSConsoleInstance.flushQuietOutput().join("\n")).split("\n").filter((function(e,t,n){return""!==e||0!==t&&t!==n.length-1})),a=e.runner.__graphics__?e.runner.__graphics__.elements:[];return e.stop(),window.readLine=u,window.readInt=l,window.readFloat=c,window.readBoolean=d,window.print=p,window.println=h,console.log=f,{console:o,graphics:a,runnerData:r,hasError:r.hasError,error:r.error}}return{testSuite:function(e){_.defaults(e,{inputs:[],beforeRun:function(){},afterRun:function(){}}),s.push((function(){return a.suite((function(){var o,a;try{o=i.parse(t),a=i.parse(n)}catch(e){}var s={student:t,solution:n,studentAST:o,solutionAST:a},u=e.beforeRun(s,r),l={student:g(s.student,e.inputs.concat(u)),solution:g(s.solution,e.inputs.concat(u))},c=l.student.error;return l.student.hasError&&(l.student=""),!e.ignoreErrors&&c?[{success:!1,test:"You had an error in your code:",solutionOutput:"",studentOutput:c,showDiff:!1}]:(e.afterRun(l),[])}))}))},run:function(){var t,n,i=!!e.runner.__graphics__&&e.runner.__graphics__.canvasExists();i&&(null==(t=e.runner.__graphics__.getWidth())&&(t=400),null==(n=e.runner.__graphics__.getHeight())&&(n=480));var r=_.flatten(s.map((function(e){return e()})));o.trigger("autograder:addTests",{tests:r}),i&&e.runner.__graphics__.setSize(t,n)},error:function(e){o.trigger("autograder:addTests",{tests:[{success:!1,test:"Error",solutionOutput:"",studentOutput:"",message:"There was an error grading your code. Make sure you can run your code without producing an error.",showDiff:!1}]})},expect:a.expect,assertEqual:a.assertEqual,assertContains:a.assertContains,assertLineContains:a.assertLineContains,assertLineExists:a.assertLineExists}}},{"../../../core/pubSub.js":60,"./kombucha.js":5,acorn:270,"acorn-walk":269}],2:[function(e,t,n){t.exports="// Each testSuite represents a single run of the student and solution code.\ntestSuite({\n    // `inputs` is the data to pass to user input functions (like readInt)\n    inputs: [],\n    // ignoreErrors lets you allow code to pass, even if it doesnt successfully run\n    ignoreErrors: false,\n    // `beforeRun` is a function that gets called prior to running the student\n    // and solution code. When called, the function gets called with a single\n    // argument `code`. Any changes to the code object will be remain when the\n    // code is eventually run.\n    beforeRun: function(code) {\n        // code => {\n        //     student: 'The student's code',\n        //     solution: 'The solution code',\n        // }\n        // In beforeRun, you can test things about the student's code.\n        // For example:\n        expect(code.student).toContain('if');\n        expect(code.student).toContain('else');\n    },\n    // `afterRun` is a function that gets called after running the student and\n    // solution code. When called, the function gets called with a single\n    // argument `output`, which is the result of running the code.\n    afterRun: function(output) {\n        // output => {\n        //     student: {\n        //         graphics: [GraphicsElement],\n        //         console: [String],\n        //         runnerData: [Object]\n        //     },\n        //     solution: {\n        //         graphics: [GraphicsElement],\n        //         console: [String],\n        //         runnerData: [Object]\n        //     },\n        // }\n        // In afterRun, you can test things about the student's output.\n        // For example:\n        expect(output.student.graphics).toEqual(output.solution.graphics);\n        expect(output.student.console).toContain(5);\n    }\n});\n"},{}],3:[function(e,t,n){t.exports="try {\n    (function() {\n        // Public API for testing framework\n        var testSuite = __private_context.graderApi.testSuite;\n\n        var assertEqual = __private_context.graderApi.assertEqual;\n        var assertContains = __private_context.graderApi.assertContains;\n        var assertLineContains = __private_context.graderApi.assertLineContains;\n        var assertLineExists = __private_context.graderApi.assertLineExists;\n        var expect = __private_context.graderApi.expect;\n\n        // TestSuites to Run\n        ${testSuites};\n\n        // Run test Suites!\n        __private_context.graderApi.run();\n    })();\n} catch (e) {\n    __private_context.graderApi.error(e.message);\n}\n"},{}],4:[function(e,t,n){var i=e("lodash"),r=e("../../../core/constants.js"),o=e("./grader-api.js"),a=e("../../../editor/editorUtils.js").safeEval,s=e("./wrapper.js"),u=e("./grader-example.txt");var l={generalAutograderJs:{type:"generalAutograderJs",title:"JavaScript General Autograder",languages:[r.ProgrammingLanguage.JAVASCRIPT],progTypes:[r.ProgramType.CONSOLE,r.ProgramType.GRAPHICS,r.ProgramType.GRAPHICS_NO_CONSOLE,r.ProgramType.JAVASCRIPT_FUNCTION],schema:{type:"object",properties:{run:{title:"Run this Grader?",type:"boolean",default:!1},testCode:{title:"Test Code",type:"string",required:!0,default:u}}},form:["run",{key:"testCode",condition:"model.run",type:"ace",style:"height: 500px; border-radius: 3px; border: 1px solid "+r.Colors.LIGHT_GREY,aceOptions:{mode:"javascript",onLoad:function(e){e.getSession().setUseWorker(!1)}}}]}};t.exports={shouldRun:function(e){return i.has(e.editor.autograderConfig,"generalAutograderJs")&&e.editor.autograderConfig.generalAutograderJs.run},run:function(e,t){var n=t.autograderConfig.generalAutograderJs.testCode,i=s(n),r={graderApi:o(t,e.original,t.solutionCode["default.js"])};a(i,r,"__private_context")},config:l}},{"../../../core/constants.js":58,"../../../editor/editorUtils.js":73,"./grader-api.js":1,"./grader-example.txt":2,"./wrapper.js":6,lodash:504}],5:[function(e,t,n){"use strict";var i=e("lodash"),r=[];function o(e){return i.isString(e)?e:JSON.stringify(e,null,2)}var a=function(e,t,n){var a=function(t){var n=o(this.actual),i=o(e);return"Expected "+n+(this.negated?" not ":" ")+t+" "+i}.bind(this),s=function(){var r=this.negated^t.apply(this),s=i.isNull(this.overrideTestName)?a(n):this.overrideTestName,u=i.isNull(this.overrideExpected)?o(e):o(this.overrideExpected),l=i.isNull(this.overrideStudent)?o(this.actual):o(this.overrideStudent),c=i.isNull(this.overrideMessagePass)?"Success":o(this.overrideMessagePass),d=i.isNull(this.overrideMessageFail)?"Try Again":o(this.overrideMessageFail);return{success:r,test:s,solutionOutput:u,studentOutput:l,message:r?c:d,showDiff:!i.isNull(this.overrideShowDiff)&&this.overrideShowDiff}}.bind(this);return r.push(s),this},s=function(e){this.negated=e.negated,this.actual=e.actual,this.overrideTestName=null,this.overrideExpected=null,this.overrideStudent=null,this.overrideMessagePass=null,this.overrideMessageFail=null,this.overrideShowDiff=null};s.prototype.toBe=function(e){return a.call(this,e,(function(){return this.actual==e}),"to be")},s.prototype.toEqual=function(e){return a.call(this,e,(function(){return i.isEqual(this.actual,e)}),"to equal")},s.prototype.toContain=function(e){return a.call(this,e,(function(){return-1!==this.actual.indexOf(e)}),"to contain")},s.prototype.toStartWith=function(e){return a.call(this,e,(function(){return i.startsWith(this.actual,e)}),"to start with")},s.prototype.toEndWith=function(e){return a.call(this,e,(function(){return i.endsWith(this.actual,e)}),"to end with")},s.prototype.toBeGreaterThan=function(e){return a.call(this,e,(function(){return this.actual>e}),"to be greater than")},s.prototype.toBeGreaterThanOrEqualTo=function(e){return a.call(this,e,(function(){return this.actual>=e}),"to be greater than or equal to")},s.prototype.toBeLessThan=function(e){return a.call(this,e,(function(){return this.actual<e}),"to be less than")},s.prototype.toBeLessThanOrEqualTo=function(e){return a.call(this,e,(function(){return this.actual<=e}),"to be less than or equal to")},s.prototype.toBeUndefined=function(e){return a.call(this,e,(function(){return void 0===e}),"to be undefined.")},s.prototype.withOptions=function(e){return this.overrideMessagePass=i.isUndefined(e.messagePass)?this.overrideMessagePass:e.messagePass,this.overrideMessageFail=i.isUndefined(e.messageFail)?this.overrideMessageFail:e.messageFail,this.overrideTestName=i.isUndefined(e.testName)?this.overrideTestName:e.testName,this.overrideShowDiff=i.isUndefined(e.showDiff)?this.overrideShowDiff:e.showDiff,this.overrideStudent=i.isUndefined(e.studentOutput)?this.overrideStudent:e.studentOutput,this.overrideExpected=i.isUndefined(e.solutionOutput)?this.overrideExpected:e.solutionOutput,this};var u=function(e){var t=new s({actual:e});return t.not=new s({actual:e,negated:!0}),t};t.exports={suite:function(e){var t=e(),n=r.map((function(e){return e()}));return r=[],t.concat(n)},expect:u,assertEqual:function(e){u(e.studentOutput).toEqual(e.solutionOutput).withOptions({testName:e.testName,solutionOutput:e.solutionOutput,messageFail:e.messageFail,messagePass:e.messagePass,showDiff:e.showDiff})},assertContains:function(e){u(e.studentOutput.join("")).toContain(e.item).withOptions({testName:e.testName,solutionOutput:e.solutionOutput,messageFail:e.messageFail,messagePass:e.messagePass,showDiff:e.showDiff})},assertLineContains:function(e){u(e.studentOutput[e.line]).toContain(e.item).withOptions({testName:e.testName,solutionOutput:e.solutionOutput,messageFail:e.messageFail,messagePass:e.messagePass,showDiff:e.showDiff})},assertLineExists:function(e){u(e.studentOutput[e.line]).not.toBeUndefined().withOptions({testName:e.testName,solutionOutput:e.solutionOutput,messageFail:e.messageFail,messagePass:e.messagePass,showDiff:e.showDiff})}}},{lodash:504}],6:[function(e,t,n){var i=e("es6-template-strings"),r=e("./grader-template.txt");t.exports=function(e){return i(r,{testSuites:e})}},{"./grader-template.txt":3,"es6-template-strings":416}],7:[function(e,t,n){"use strict";var i=e("lodash"),r=e("../../../core/constants.js"),o=e("../../../core/pubSub.js"),a=e("es6-template-strings"),s=e("./templates/grader.txt"),u=e("../autograder-python/grader-example.txt");var l={generalAutograderPython:{type:"generalAutograderPython",title:"Python General Autograder",languages:[r.ProgrammingLanguage.PYTHON],schema:{type:"object",properties:{run:{title:"Run this Grader?",type:"boolean",default:!1},testCode:{title:"Test Code",type:"string",required:!0,default:u}}},form:["run",{key:"testCode",condition:"model.run",type:"ace",style:"height: 500px; border-radius: 3px; border: 1px solid "+r.Colors.LIGHT_GREY,aceOptions:{mode:"python",onLoad:function(e){e.getSession().setUseWorker(!1)}}}]}};t.exports={shouldRun:function(e){return i.has(e.editor.autograderConfig,"generalAutograderPython")&&e.editor.autograderConfig.generalAutograderPython.run&&e.editor.typeTester.isPython2()},run:function(e,t){e["grader.py"]=a(s,{studentCode:e.original,solutionCode:t.solutionCode["main.py"],tests:t.autograderConfig.generalAutograderPython.testCode});var n=$.Deferred();return t.runner.exec("python2.7 grader.py",e,{}).then((function(e){e=Array.prototype.concat.apply([],JSON.parse(e)).filter((function(e){return void 0!==e.success})).map((function(e){return i.mapValues(e,(function(e){return"True"===e||"False"!==e&&e}))})),o.trigger("autograder:addTests",{tests:e}),n.resolve()})),n},config:l}},{"../../../core/constants.js":58,"../../../core/pubSub.js":60,"../autograder-python/grader-example.txt":11,"./templates/grader.txt":8,"es6-template-strings":416,lodash:504}],8:[function(e,t,n){t.exports='import sys\nimport StringIO\nimport contextlib\n\n### yerba\nimport json\nimport operator\n\ninputs = []\ncurrent_input = 0\n\ndef readLine(*args):\n    return readOverwrite()\n\ndef readInt(*args):\n    return readOverwrite()\n\ndef readFloat(*args):\n    return readOverwrite()\n\ndef input(*args):\n    return readOverwrite()\n\ndef readOverwrite():\n    global current_input\n    global inputs\n    try:\n        val = inputs[current_input]\n    except IndexError:\n        val = 0\n    else:\n        current_input += 1\n    return val\n\n\nclass expect(object):\n\n    """Represents a logical expectation.\n\n    """\n\n    # a static class variable for storing all expectations\n    expectations = []\n\n    def __init__(self, actual, negated=False):\n        """Create an expectation.\n\n        Parameters\n        ----------\n        actual: primitive\n            The actual on which we\'re making expectations.\n        negated: boolean\n            Indicates if the expectation should be false.\n\n        """\n        self.negated = negated\n        self.actual = actual\n\n        self.override_test_name = \'\'\n        self.override_solution_output = \'\'\n        self.override_student_output = \'\'\n        self.override_message_pass = \'\'\n        self.override_message_fail = \'\'\n        self.override_show_diff = \'\'\n\n    def __call__(self):\n        """Evaluate the expectation."""\n        return self.assertion()\n\n    def __make_assertion(self, partial, message, expected):\n        """Make an assertion operation to evaluate later.\n\n        Parameters\n        ----------\n        partial: function\n            The assertion to evaluated.\n        message: string\n            A message describing the assertion.\n        expected: primitive\n            The operand for the expression. There may be none.\n        """\n        def assertion():\n            passed = bool(int(self.negated) ^ int(partial()))\n            pass_message = (\n                self.override_message_pass\n                if self.override_message_pass\n                else \'Success\'\n            )\n            fail_message = (\n                self.override_message_fail\n                if self.override_message_fail\n                else \'Failure\'\n            )\n            test_name = (\n                self.override_test_name\n                if self.override_test_name\n                else self._generate_description(message, expected)\n            )\n            student_output = (\n                self.override_student_output\n                if self.override_student_output\n                else self.actual\n            )\n            result = {\n                # "True" and "False" need to be strings, otherwise they\n                # are lowercased when stringified by JS and cause parse errors.\n                \'success\': "True" if passed else "False",\n                \'test\': test_name,\n                \'solutionOutput\': self.override_solution_output,\n                \'studentOutput\': student_output,\n                \'message\': pass_message if passed else fail_message,\n                \'showDiff\': "True" if self.override_show_diff else "False"\n            }\n            return result\n\n        self.expectations.append(assertion)\n        self.assertion = assertion\n\n        return assertion\n\n    def __partial(self, op, expected):\n        """Create a partial.\n\n        Parameters\n        ----------\n        op: object\n            Operator used to compare actual and expected.\n        expected: primitive\n            Item compared against actual. Can be None.\n\n        Returns function.\n\n        """\n        def wrapper():\n            try:\n                # try to strip whitespace if operands are strings\n                return op(self.actual.strip(\'\\n\'), expected.strip(\'\\n\'))\n            except AttributeError:\n                # otherwise proceed on non-string operands\n                return op(self.actual, expected)\n\n        return wrapper\n\n    def _generate_description(self, message, expected):\n        """Create an understandable description for the test.\n\n        Parameters\n        ----------\n        message: string\n            A string describing the expectation.\n        expected: primitive\n            A primitive that was used in the comparison.\n\n        Returns a string.\n\n        """\n        description = "Expected {} {}".format(json.dumps(self.actual), message)\n\n        description += " {}".format(json.dumps(expected))\n\n        return description\n\n    def to_be(self, expected):\n        """Create expectation that self.actual == expected.\n\n        Parameters\n        ----------\n        expected: primitive\n            The primitive to compare with self.actual.\n\n        Returns an expect object.\n\n        """\n        self.__make_assertion(self.__partial(operator.is_, expected),\n                              \'to be\',\n                              expected)\n        return self\n\n    def not_to_be(self, expected):\n        """Create expectation that self.actual != expected.\n\n        Parameters\n        ----------\n        expected: primitive\n            The primitive to compare with self.actual.\n\n        Returns an expect object.\n\n        """\n        self.negated = True\n        self.__make_assertion(self.__partial(operator.is_, expected),\n                              \'not to be\',\n                              expected)\n        return self\n\n    def to_be_greater_than(self, expected):\n        """Create expectation that self.actual > expected.\n\n        Parameters\n        ----------\n        expected: primitive\n            The primitive to compare with self.actual.\n\n        Returns an expect object.\n\n        """\n        self.__make_assertion(self.__partial(operator.gt, expected),\n                              \'to be greater than\',\n                              expected)\n        return self\n\n    def to_be_greater_than_or_equal_to(self, expected):\n        """Create expectation that self.actual >= expected.\n\n        Parameters\n        ----------\n        expected: primitive\n            The primitive to compare with self.actual.\n\n        Returns an expect object.\n\n        """\n        self.__make_assertion(self.__partial(operator.ge, expected),\n                              \'to be greater than or equal to\',\n                              expected)\n        return self\n\n    def to_be_less_than(self, expected):\n        """Create expectation that self.actual < expected.\n\n        Parameters\n        ----------\n        expected: primitive\n            The primitive to compare with self.actual.\n\n        Returns an expect object.\n\n        """\n        self.__make_assertion(self.__partial(operator.lt, expected),\n                              \'to be less than\',\n                              expected)\n        return self\n\n    def to_be_less_than_or_equal_to(self, expected):\n        """Create expectation that self.actual <= expected.\n\n        Parameters\n        ----------\n        expected: primitive\n            The primitive to compare with self.actual.\n\n        Returns an expect object.\n\n        """\n        self.__make_assertion(self.__partial(operator.le, expected),\n                              \'to be less than or equal to\',\n                              expected)\n        return self\n\n    def to_contain(self, expected):\n        """Create expectation that self.actual contains expected.\n\n        Parameters\n        ----------\n        expected: primitive\n            The primitive to search for in self.actual.\n\n        Returns an expect object.\n\n        """\n        self.__make_assertion(self.__partial(operator.contains, expected),\n                              \'to contain\',\n                              expected)\n        return self\n\n    def not_to_contain(self, expected):\n        """Create expectation that self.actual does not contain expected.\n\n        Parameters\n        ----------\n        expected: primitive\n            The primitive to search for in self.actual.\n\n        Returns an expect object.\n\n        """\n        self.negated = True\n        self.__make_assertion(self.__partial(operator.contains, expected),\n                              \'not to contain\',\n                              expected)\n        return self\n\n    def to_contain_line(self, expected):\n        """Create expectation that a line in self.actual contains expected.\n        Parameters\n        ----------\n        expected: primitive\n            The primitive to search for in self.actual.\n\n        Returns an expect object.\n\n        """\n        self.__make_assertion(self.__partial(line_contains, expected),\n                              \'to contain line\',\n                              expected)\n        return self\n\n    def not_to_contain_line(self, expected):\n        """Create expectation that a line self.actual doesn\'t contain expected.\n\n        Parameters\n        ----------\n        expected: primitive\n            The primitive to search for in self.actual.\n\n        Returns an expect object.\n\n        """\n        self.negated = True\n        self.__make_assertion(self.__partial(line_contains, expected),\n                              \'not to contain line\',\n                              expected)\n        return self\n\n    def to_equal(self, expected):\n        """Create expectation that self.actual is equal to expected.\n\n        Parameters\n        ----------\n        expected: primitive\n            The primitive to compare with self.actual.\n\n        Returns an expect object.\n        """\n        self.__make_assertion(self.__partial(operator.eq, expected),\n                              \'to equal\',\n                              expected)\n        return self\n\n    def not_to_equal(self, expected):\n        """Create expectation that self.actual is not equal to expected.\n\n        Parameters\n        ----------\n        expected: primitive\n            The primitive to compare with self.actual.\n\n        Returns an expect object.\n        """\n        self.negated = True\n        self.__make_assertion(self.__partial(operator.eq, expected),\n                              \'not to equal\',\n                              expected)\n        return self\n\n    def to_be_truthy(self):\n        """Create expectation that self.actual is Truthy.\n\n        Returns an expect object.\n\n        """\n        self.__make_assertion(self.__partial(lambda actual, _: bool(actual), None),\n                              \'to be\',\n                              \'truthy\')\n        return self\n\n    def to_be_falsey(self):\n        """Create expectation that self.actual is Falsey.\n\n        Returns an expect object.\n\n        """\n        self.negated = True\n        self.__make_assertion(self.__partial(lambda actual, _: bool(actual), None),\n                              \'to be\',\n                              \'falsey\')\n        return self\n\n    def with_options(self, message_pass=\'\',\n                     message_fail=\'\', test_name=\'\', show_diff=False,\n                     solution_output=\'\', student_output=\'\'):\n        """Pass options to override test results.\n\n        Parameters\n        ----------\n        message_pass: string\n            A message to print on passing.\n        message_fail: string\n            A message to print on failing.\n        test_name: string\n            The name of the test.\n        show_diff: boolean\n            Whether or not to show the diff in the results.\n        solution_output: string\n            A solution output to be shown in the reuslts.\n\n        """\n        self.override_message_pass = message_pass if message_pass else self.override_message_pass\n        self.override_message_fail = message_fail if message_fail else self.override_message_fail\n        self.override_test_name = test_name if test_name else self.override_test_name\n        self.override_show_diff = show_diff if show_diff else self.override_show_diff\n        # TODO -- change api.\n        self.override_solution_output = solution_output if solution_output else self.override_solution_output\n        self.override_student_output = student_output if student_output else self.override_student_output\n\n        return self\n\n    ########################################################\n    ## Below are assertions for Turtle Python.\n    ########################################################\n\n    def to_contain_command(self, expected):\n        """Create expectation that self.actual contains the command `expected`.\n\n        Returns an expect object.\n\n        """\n        self.override_test_name = \'Expected your commands to contain {}.\'.format(expected)\n        self.__make_assertion(self.__partial(contains_command, expected),\n                              \'to contain command\',\n                              expected)\n        return self\n\ndef line_contains(lhs, rhs):\n    """An operator to check if a line in lhs string contains rhs.\n\n    Parameters\n    ----------\n    lhs: string\n        The left hand side of the operation.\n    rhs: string\n        The right hand side of the operation.\n\n    Returns boolean.\n\n    """\n    lines = lhs.split(\'\\n\')\n    return rhs in lines\n\ndef _flush_expectations():\n    """Flushes expectations.\n\n    Returns a list.\n\n    """\n    flushed_expectations = expect.expectations\n    expect.expectations = []\n    return flushed_expectations\n\n\ndef contains_command(lhs, rhs):\n    """An operator to check if a list of commands (lhs) contains command (rhs).\n\n    Parameters\n    ----------\n    lhs: list\n        The left hand side of the operation, a list of commands.\n        Their format is [(\'command_name\', (arg1, arg2)), ...].\n    rhs: string\n        The right hand side of the operation, a string of the comand that\n        should bein the lhs. \'forward\', \'backward\', etc.\n\n    Returns boolean.\n\n    """\n    return any([(command[0] == rhs) for command in lhs])\n\n\n@contextlib.contextmanager\ndef stdoutIO(stdout=None):\n    old = sys.stdout\n    if stdout is None:\n        stdout = StringIO.StringIO()\n    sys.stdout = stdout\n    yield stdout\n    sys.stdout = old\n\nclass PythonTestSuite(object):\n    """A test suite object, from which test suites are inherited."""\n\n    suites = []\n\n    def __init__(self):\n        PythonTestSuite.suites += [self]\n\n    def before_run(*args):\n        pass\n\n    def after_run(*args):\n        pass\n\ndef strip_comments(text):\n    """Naively removes comments from a string.\n\n    Parameters\n    ----------\n    text: string\n        String of code to remove comments from.\n\n    Returns string.\n\n    """\n    quote_chars = ["\'", \'"\']\n    result = []\n    for line in text.split(\'\\n\'):\n        try:\n            # find index of comment character\n            delim_index = line.index(\'#\')\n        except ValueError:\n            # no comment character\n            result.append(line)\n        else:\n            # side of string before comment\n            left_side = line[:delim_index]\n            # extract all quote characters from left_side\n            quotes = \'\'.join([ch for ch in left_side if ch in quote_chars])\n            quote_stack = []\n            for quote in quotes:\n                # if it\'s a matching quote, a string is closed\n                if quote_stack and quote_stack[len(quote_stack) - 1] == quote:\n                    quote_stack.pop()\n                # otherwise, push it on\n                else:\n                    quote_stack.append(quote)\n            # if the quote stack is empty, then the # is outside a string\n            if quote_stack == []:\n                result.append(left_side)\n            # otherwise the # is within a string, append the entire line\n            else:\n                result.append(line)\n    return \'\\n\'.join(result)\n\n${tests}\n\nstudent_code = """\n${studentCode}\n"""\nsolution_code = """\n${solutionCode}\n"""\n\n__private_context = []\n\nfor i, suite in enumerate(PythonTestSuite.suites):\n    results = {}\n    # BEFORE RUN\n    suite.before_run(student_code, solution_code)\n\n    before_run_test_results = []\n    for e in _flush_expectations():\n        result = e()\n        before_run_test_results.append(result)\n\n    __private_context.append(before_run_test_results)\n\n    # EVALUATE\n    inputs = suite.inputs\n    current_input = 0\n    with stdoutIO() as _s:\n        try:\n            exec(student_code)\n        except:\n            print("Something wrong with the code")\n    student_output = _s.getvalue()\n    # EVALUATE\n    inputs = suite.inputs\n    current_input = 0\n    with stdoutIO() as ss:\n        try:\n            exec(solution_code)\n        except:\n            print("Something wrong with the code")\n    solution_output = ss.getvalue()\n\n    # AFTER RUN\n    suite.after_run(student_code, solution_code, student_output, solution_output)\n    after_run_test_results = []\n    for e in _flush_expectations():\n        result = e()\n        after_run_test_results.append(result)\n\n    __private_context.append(after_run_test_results)\n\n    __private_context.append(results)\n\nprint(json.dumps(__private_context))\n'},{}],9:[function(e,t,n){"use strict";var i=e("lodash"),r=e("../../../core/constants.js"),o=e("../../../core/pubSub.js"),a=e("es6-template-strings"),s=e("./templates/grader.txt"),u=e("../autograder-python/grader-example.txt");var l={generalAutograderPython:{type:"generalAutograderPython",title:"Python General Autograder",languages:[r.ProgrammingLanguage.PYTHON],schema:{type:"object",properties:{run:{title:"Run this Grader?",type:"boolean",default:!1},testCode:{title:"Test Code",type:"string",required:!0,default:u}}},form:["run",{key:"testCode",condition:"model.run",type:"ace",style:"height: 500px; border-radius: 3px; border: 1px solid "+r.Colors.LIGHT_GREY,aceOptions:{mode:"python",onLoad:function(e){e.getSession().setUseWorker(!1)}}}]}};t.exports={shouldRun:function(e){return i.has(e.editor.autograderConfig,"generalAutograderPython")&&e.editor.autograderConfig.generalAutograderPython.run&&(e.editor.typeTester.isPython3()||e.editor.typeTester.isPythonDataScience()||e.editor.typeTester.isPythonDataScienceGraphics())},run:function(e,t){e["grader.py"]=a(s,{tests:t.autograderConfig.generalAutograderPython.testCode}),e["solutioncode.py"]=t.solutionCode["main.py"],e["studentcode.py"]=e.original;var n=$.Deferred();return(t.wasShimmed?t.graderExec("python3 grader.py",e,{}):t.runner.exec("python3 grader.py",e,{})).then((function(e){try{e=JSON.parse(e).flat(1/0)}catch(t){e=[{success:!1,message:e}]}e=e.filter((function(e){return void 0!==e.success})).map((function(e){return i.mapValues(e,(function(e){return"True"===e||"False"!==e&&e}))})),o.trigger("autograder:addTests",{tests:e}),n.resolve()})),n},config:l}},{"../../../core/constants.js":58,"../../../core/pubSub.js":60,"../autograder-python/grader-example.txt":11,"./templates/grader.txt":10,"es6-template-strings":416,lodash:504}],10:[function(e,t,n){t.exports='import sys\nimport io\nimport contextlib\nimport ast\n\n### yerba\nimport json\nimport operator\n\ninputs = []\ncurrent_input = 0\n\ndef readLine(*args):\n    return readOverwrite()\n\ndef readInt(*args):\n    return readOverwrite()\n\ndef readFloat(*args):\n    return readOverwrite()\n\ndef input(*args):\n    return readOverwrite()\n\ndef readOverwrite():\n    global current_input\n    global inputs\n    try:\n        val = inputs[current_input]\n    except IndexError:\n        val = 0\n    else:\n        current_input += 1\n    return val\n\n\nclass expect(object):\n\n    """Represents a logical expectation.\n\n    """\n\n    # a static class variable for storing all expectations\n    expectations = []\n\n    def __init__(self, actual, negated=False):\n        """Create an expectation.\n\n        Parameters\n        ----------\n        actual: primitive\n            The actual on which we\'re making expectations.\n        negated: boolean\n            Indicates if the expectation should be false.\n\n        """\n        self.negated = negated\n        self.actual = actual\n\n        self.override_test_name = \'\'\n        self.override_solution_output = \'\'\n        self.override_student_output = \'\'\n        self.override_message_pass = \'\'\n        self.override_message_fail = \'\'\n        self.override_show_diff = \'\'\n\n    def __call__(self):\n        """Evaluate the expectation."""\n        return self.assertion()\n\n    def __make_assertion(self, partial, message, expected):\n        """Make an assertion operation to evaluate later.\n\n        Parameters\n        ----------\n        partial: function\n            The assertion to evaluated.\n        message: string\n            A message describing the assertion.\n        expected: primitive\n            The operand for the expression. There may be none.\n        """\n        def assertion():\n            passed = bool(int(self.negated) ^ int(partial()))\n            pass_message = (\n                self.override_message_pass\n                if self.override_message_pass\n                else \'Success\'\n            )\n            fail_message = (\n                self.override_message_fail\n                if self.override_message_fail\n                else \'Failure\'\n            )\n            test_name = (\n                self.override_test_name\n                if self.override_test_name\n                else self._generate_description(message, expected)\n            )\n            student_output = (\n                self.override_student_output\n                if self.override_student_output\n                else self.actual\n            )\n            result = {\n                # "True" and "False" need to be strings, otherwise they\n                # are lowercased when stringified by JS and cause parse errors.\n                \'success\': "True" if passed else "False",\n                \'test\': test_name,\n                \'solutionOutput\': self.override_solution_output,\n                \'studentOutput\': student_output,\n                \'message\': pass_message if passed else fail_message,\n                \'showDiff\': "True" if self.override_show_diff else "False"\n            }\n            return result\n\n        self.expectations.append(assertion)\n        self.assertion = assertion\n\n        return assertion\n\n    def __partial(self, op, expected):\n        """Create a partial.\n\n        Parameters\n        ----------\n        op: object\n            Operator used to compare actual and expected.\n        expected: primitive\n            Item compared against actual. Can be None.\n\n        Returns function.\n\n        """\n        def wrapper():\n            try:\n                # try to strip whitespace if operands are strings\n                return op(self.actual.strip(\'\\n\'), expected.strip(\'\\n\'))\n            except AttributeError:\n                # otherwise proceed on non-string operands\n                return op(self.actual, expected)\n\n        return wrapper\n\n    def _generate_description(self, message, expected):\n        """Create an understandable description for the test.\n\n        Parameters\n        ----------\n        message: string\n            A string describing the expectation.\n        expected: primitive\n            A primitive that was used in the comparison.\n\n        Returns a string.\n\n        """\n        description = "Expected {} {}".format(json.dumps(self.actual), message)\n\n        description += " {}".format(json.dumps(expected))\n\n        return description\n\n    def to_be(self, expected):\n        """Create expectation that self.actual == expected.\n\n        Parameters\n        ----------\n        expected: primitive\n            The primitive to compare with self.actual.\n\n        Returns an expect object.\n\n        """\n        self.__make_assertion(self.__partial(operator.is_, expected),\n                              \'to be\',\n                              expected)\n        return self\n\n    def not_to_be(self, expected):\n        """Create expectation that self.actual != expected.\n\n        Parameters\n        ----------\n        expected: primitive\n            The primitive to compare with self.actual.\n\n        Returns an expect object.\n\n        """\n        self.negated = True\n        self.__make_assertion(self.__partial(operator.is_, expected),\n                              \'not to be\',\n                              expected)\n        return self\n\n    def to_be_greater_than(self, expected):\n        """Create expectation that self.actual > expected.\n\n        Parameters\n        ----------\n        expected: primitive\n            The primitive to compare with self.actual.\n\n        Returns an expect object.\n\n        """\n        self.__make_assertion(self.__partial(operator.gt, expected),\n                              \'to be greater than\',\n                              expected)\n        return self\n\n    def to_be_greater_than_or_equal_to(self, expected):\n        """Create expectation that self.actual >= expected.\n\n        Parameters\n        ----------\n        expected: primitive\n            The primitive to compare with self.actual.\n\n        Returns an expect object.\n\n        """\n        self.__make_assertion(self.__partial(operator.ge, expected),\n                              \'to be greater than or equal to\',\n                              expected)\n        return self\n\n    def to_be_less_than(self, expected):\n        """Create expectation that self.actual < expected.\n\n        Parameters\n        ----------\n        expected: primitive\n            The primitive to compare with self.actual.\n\n        Returns an expect object.\n\n        """\n        self.__make_assertion(self.__partial(operator.lt, expected),\n                              \'to be less than\',\n                              expected)\n        return self\n\n    def to_be_less_than_or_equal_to(self, expected):\n        """Create expectation that self.actual <= expected.\n\n        Parameters\n        ----------\n        expected: primitive\n            The primitive to compare with self.actual.\n\n        Returns an expect object.\n\n        """\n        self.__make_assertion(self.__partial(operator.le, expected),\n                              \'to be less than or equal to\',\n                              expected)\n        return self\n\n    def to_contain(self, expected):\n        """Create expectation that self.actual contains expected.\n\n        Parameters\n        ----------\n        expected: primitive\n            The primitive to search for in self.actual.\n\n        Returns an expect object.\n\n        """\n        self.__make_assertion(self.__partial(operator.contains, expected),\n                              \'to contain\',\n                              expected)\n        return self\n\n    def not_to_contain(self, expected):\n        """Create expectation that self.actual does not contain expected.\n\n        Parameters\n        ----------\n        expected: primitive\n            The primitive to search for in self.actual.\n\n        Returns an expect object.\n\n        """\n        self.negated = True\n        self.__make_assertion(self.__partial(operator.contains, expected),\n                              \'not to contain\',\n                              expected)\n        return self\n\n    def to_contain_line(self, expected):\n        """Create expectation that a line in self.actual contains expected.\n        Parameters\n        ----------\n        expected: primitive\n            The primitive to search for in self.actual.\n\n        Returns an expect object.\n\n        """\n        self.__make_assertion(self.__partial(line_contains, expected),\n                              \'to contain line\',\n                              expected)\n        return self\n\n    def not_to_contain_line(self, expected):\n        """Create expectation that a line self.actual doesn\'t contain expected.\n\n        Parameters\n        ----------\n        expected: primitive\n            The primitive to search for in self.actual.\n\n        Returns an expect object.\n\n        """\n        self.negated = True\n        self.__make_assertion(self.__partial(line_contains, expected),\n                              \'not to contain line\',\n                              expected)\n        return self\n\n    def to_equal(self, expected):\n        """Create expectation that self.actual is equal to expected.\n\n        Parameters\n        ----------\n        expected: primitive\n            The primitive to compare with self.actual.\n\n        Returns an expect object.\n        """\n        self.__make_assertion(self.__partial(operator.eq, expected),\n                              \'to equal\',\n                              expected)\n        return self\n\n    def not_to_equal(self, expected):\n        """Create expectation that self.actual is not equal to expected.\n\n        Parameters\n        ----------\n        expected: primitive\n            The primitive to compare with self.actual.\n\n        Returns an expect object.\n        """\n        self.negated = True\n        self.__make_assertion(self.__partial(operator.eq, expected),\n                              \'not to equal\',\n                              expected)\n        return self\n\n    def to_be_truthy(self):\n        """Create expectation that self.actual is Truthy.\n\n        Returns an expect object.\n\n        """\n        self.__make_assertion(self.__partial(lambda actual, _: bool(actual), None),\n                              \'to be\',\n                              \'truthy\')\n        return self\n\n    def to_be_falsey(self):\n        """Create expectation that self.actual is Falsey.\n\n        Returns an expect object.\n\n        """\n        self.negated = True\n        self.__make_assertion(self.__partial(lambda actual, _: bool(actual), None),\n                              \'to be\',\n                              \'falsey\')\n        return self\n\n    def with_options(self, message_pass=\'\',\n                     message_fail=\'\', test_name=\'\', show_diff=False,\n                     solution_output=\'\', student_output=\'\'):\n        """Pass options to override test results.\n\n        Parameters\n        ----------\n        message_pass: string\n            A message to print on passing.\n        message_fail: string\n            A message to print on failing.\n        test_name: string\n            The name of the test.\n        show_diff: boolean\n            Whether or not to show the diff in the results.\n        solution_output: string\n            A solution output to be shown in the reuslts.\n\n        """\n        self.override_message_pass = message_pass if message_pass else self.override_message_pass\n        self.override_message_fail = message_fail if message_fail else self.override_message_fail\n        self.override_test_name = test_name if test_name else self.override_test_name\n        self.override_show_diff = show_diff if show_diff else self.override_show_diff\n        # TODO -- change api.\n        self.override_solution_output = solution_output if solution_output else self.override_solution_output\n        self.override_student_output = student_output if student_output else self.override_student_output\n\n        return self\n\n    ########################################################\n    ## Below are assertions for Turtle Python.\n    ########################################################\n\n    def to_contain_command(self, expected):\n        """Create expectation that self.actual contains the command `expected`.\n\n        Returns an expect object.\n\n        """\n        self.override_test_name = \'Expected your commands to contain {}.\'.format(expected)\n        self.__make_assertion(self.__partial(contains_command, expected),\n                              \'to contain command\',\n                              expected)\n        return self\n\ndef line_contains(lhs, rhs):\n    """An operator to check if a line in lhs string contains rhs.\n\n    Parameters\n    ----------\n    lhs: string\n        The left hand side of the operation.\n    rhs: string\n        The right hand side of the operation.\n\n    Returns boolean.\n\n    """\n    lines = lhs.split(\'\\n\')\n    return rhs in lines\n\ndef _flush_expectations():\n    """Flushes expectations.\n\n    Returns a list.\n\n    """\n    flushed_expectations = expect.expectations\n    expect.expectations = []\n    return flushed_expectations\n\n\ndef contains_command(lhs, rhs):\n    """An operator to check if a list of commands (lhs) contains command (rhs).\n\n    Parameters\n    ----------\n    lhs: list\n        The left hand side of the operation, a list of commands.\n        Their format is [(\'command_name\', (arg1, arg2)), ...].\n    rhs: string\n        The right hand side of the operation, a string of the comand that\n        should bein the lhs. \'forward\', \'backward\', etc.\n\n    Returns boolean.\n\n    """\n    return any([(command[0] == rhs) for command in lhs])\n\n\n@contextlib.contextmanager\ndef stdoutIO(stdout=None):\n    old = sys.stdout\n    if stdout is None:\n        stdout = io.StringIO()\n    sys.stdout = stdout\n    yield stdout\n    sys.stdout = old\n\nclass PythonTestSuite(object):\n    """A test suite object, from which test suites are inherited."""\n\n    suites = []\n\n    def __init__(self):\n        PythonTestSuite.suites += [self]\n\n    def before_run(*args):\n        pass\n\n    def after_run(*args):\n        pass\n\ndef strip_comments(text):\n    """Naively removes comments from a string.\n\n    Parameters\n    ----------\n    text: string\n        String of code to remove comments from.\n\n    Returns string.\n\n    """\n    quote_chars = ["\'", \'"\']\n    result = []\n    for line in text.split(\'\\n\'):\n        try:\n            # find index of comment character\n            delim_index = line.index(\'#\')\n        except ValueError:\n            # no comment character\n            result.append(line)\n        else:\n            # side of string before comment\n            left_side = line[:delim_index]\n            # extract all quote characters from left_side\n            quotes = \'\'.join([ch for ch in left_side if ch in quote_chars])\n            quote_stack = []\n            for quote in quotes:\n                # if it\'s a matching quote, a string is closed\n                if quote_stack and quote_stack[len(quote_stack) - 1] == quote:\n                    quote_stack.pop()\n                # otherwise, push it on\n                else:\n                    quote_stack.append(quote)\n            # if the quote stack is empty, then the # is outside a string\n            if quote_stack == []:\n                result.append(left_side)\n            # otherwise the # is within a string, append the entire line\n            else:\n                result.append(line)\n    return \'\\n\'.join(result)\n\n${tests}\n\nstudent_code = open(\'studentcode.py\').read()\nsolution_code = open(\'solutioncode.py\').read()\n\n__private_context = []\n\nfor e in _flush_expectations():\n    result = e()\n    __private_context.append(result)\n\nfor i, suite in enumerate(PythonTestSuite.suites):\n    results = {}\n    # BEFORE RUN\n    # modifications is either None or an object with keys\n    # student_code, solution_code, and inputs\n    modifications = suite.before_run(student_code, solution_code)\n    try:\n        student_code = modifications[\'student_code\']\n        solution_code = modifications[\'solution_code\']\n        suite.inputs.extend(modifications[\'inputs\'])\n    except:\n        pass\n\n    before_run_test_results = []\n    for e in _flush_expectations():\n        result = e()\n        before_run_test_results.append(result)\n\n    __private_context.append(before_run_test_results)\n\n    # EVALUATE\n    inputs = suite.inputs\n    current_input = 0\n    with stdoutIO() as _s:\n        try:\n            exec(student_code)\n        except:\n            print("Something wrong with the code")\n    student_output = _s.getvalue()\n    # EVALUATE\n    inputs = suite.inputs\n    current_input = 0\n    with stdoutIO() as ss:\n        try:\n            exec(solution_code)\n        except:\n            print("Something wrong with the code")\n    solution_output = ss.getvalue()\n\n    # AFTER RUN\n    suite.after_run(student_code, solution_code, student_output, solution_output)\n    after_run_test_results = []\n    for e in _flush_expectations():\n        result = e()\n        after_run_test_results.append(result)\n\n    __private_context.append(after_run_test_results)\n\n    __private_context.append(results)\n\nprint(json.dumps(__private_context))\n'},{}],11:[function(e,t,n){t.exports="class Suite(PythonTestSuite):\n    \n    # Any values that should be passed to any call to `input`\n    inputs = []\n\n    # Write any tests that should run before the code is evaluated\n    def before_run(self, student_code, solution_code):\n        # expect(student_code).to_contain('def my_function(param1):')\n        # expect(student_code).to_be('answer')\n        pass\n\n    # Write any tests that should run after the code is evaluated\n    def after_run(self, student_code, solution_code, student_output, solution_output):\n        # expect(student_output).to_contain('Hello World!')\n        pass\n\nSuite()\n\n# notes for Python 3 Autograders\n\n# the before_run function can return none, or an object shaped like this:\n# {'student_code': string, 'solution_code': string, 'inputs': list}\n# these will replace the existing student_code and solution_code, \n# and the inputs will be extended on this suite's inputs\n\n# using `ast`\n# if you'd like to parse student code using the `ast` module, define a subclass of\n# the ast.NodeVisitor class which will be used to traverse the code tree:\n# class Visitor(ast.NodeVisitor):\n#\n#     def generic_visit(self, node):\n#         ast.NodeVisitor.generic_visit(self, node)\n#\n#     def visit_NodeType(self, node):\n#         # specific behavior...\n#\n#         self.generic_visit(node)\n\n# then parse and traverse the code like this:\n# visitor = Visitor()\n# visitor.visit(ast.parse(student_code))\n\n# the abstract grammar for the ast is defined here:\n# https://docs.python.org/3.6/library/ast.html#abstract-grammar\n# here's an example of a Visitor that will pull out the contents of\n# a for loop:\n\n# class ForLoopVisitor(ast.NodeVisitor):\n#     for_loop_variable_name = ''\n#     for_loop_range = []\n#     def visit_For(self, node):\n#         import pdb;pdb.set_trace()\n#         if isinstance(node.target, ast.Name):\n#             self.for_loop_variable_name = node.target.id\n#         if isinstance(node.iter, ast.Call):\n#             # extract the numerical value from the ast.Nums\n#             self.for_loop_range = list(map(lambda num: num.n, node.iter.args))\n\n# student_code = '\\nfor x in range(10):\\n  print(x)\\n'\n# v = ForLoopVisitor()\n# v.visit(ast.parse(student_code))\n# print('For loop iterating {} to {}'.format(v.for_loop_variable_name, v.for_loop_range))"},{}],12:[function(e,t,n){"use strict";var i,r,o=e("../../../core/settings.js").STATIC_URL,a=e("lodash"),s=e("../../../core/constants.js"),u=e("./templates/helpers.txt"),l=e("../../../core/pubSub.js"),c=e("../../../editor/errors.js"),d=e("../../../editor/editorUtils.js").safeSkulpt,p=e("es6-template-strings"),h=e("./templates/yerba.txt"),f=e("./templates/afterRunTemplate.txt"),m=e("./templates/beforeRunTemplate.txt"),g=e("./templates/evaluateCodeTemplate.txt"),y=e("./grader-example.txt");var v={generalAutograderPython:{type:"generalAutograderPython",title:"Python General Autograder",languages:[s.ProgrammingLanguage.PYTHON],schema:{type:"object",properties:{run:{title:"Run this Grader?",type:"boolean",default:!1},testCode:{title:"Test Code",type:"string",required:!0,default:y}}},form:["run",{key:"testCode",condition:"model.run",type:"ace",style:"height: 500px; border-radius: 3px; border: 1px solid "+s.Colors.LIGHT_GREY,aceOptions:{mode:"python",onLoad:function(e){e.getSession().setUseWorker(!1)}}}]}};t.exports={shouldRun:function(e){return a.has(e.editor.autograderConfig,"generalAutograderPython")&&e.editor.autograderConfig.generalAutograderPython.run&&e.editor.typeTester.isPython()},run:function(e,t){var n,s;if(i=[],r=window.Sk.output,window.Sk.externalLibraries={json:{path:o+"lib/skulpt-external/json/__init__.js",dependencies:[o+"lib/skulpt-external/json/stringify.js"]}},window.pageSpecific.isBlockly){var y=new window.Blockly.Workspace,v=window.Blockly.Xml.textToDom(e.original);window.Blockly.Xml.domToWorkspace(v,y),s=window.Blockly.Python.workspaceToCode(y),n=t.solutionCode["main.xml"]}else s=e.original,n=t.solutionCode["main.py"];var _={inputs:[],student_code:s,solution_code:n,tests:t.autograderConfig.generalAutograderPython.testCode},b=$.Deferred();return function(e){var t=$.Deferred(),n=p(m,{yerba:h,context:JSON.stringify(e),tests:e.tests,helpers:u}),i="";return window.Sk.configure({output:function(e){i+=e}}),d("<stdin>",!1,n,!0).then((function(){var e,n=i.split(/__context__\n/);try{e=JSON.parse(n[1]),t.resolve(e)}catch(e){t.reject()}})),t}(_).then((function(e){return function(e){(window.Sk.TurtleGraphics||(window.Sk.TurtleGraphics={})).target=void 0;var t=$.Deferred(),n=p(g,{student_code:e.student_code.split("\n").map((function(e){return"        "+e})).join("\n")+"\n        pass",solution_code:e.solution_code.split("\n").map((function(e){return"    "+e})).join("\n"),helpers:u,tests:e.tests,testSuites:e.test_suites,context:JSON.stringify(e)}),i="";return window.Sk.configure({output:function(e){i+=e}}),d("<stdin>",!1,n,!0).then((function(){var n=i.split(/__suite__\n/).slice(1);a.each(n,(function(t,n){var i=t.split(/__student__\n|__solution__\n/).slice(1);e.test_suites[n].student_output=i[0],e.test_suites[n].solution_output=i[1]})),t.resolve(e)})),t}(e)})).then((function(e){return function(e){var t=$.Deferred(),n=p(f,{context:JSON.stringify(e),tests:e.tests,yerba:h,helpers:u}),r="";return window.Sk.configure({output:function(e){r+=e}}),d("<stdin>",!1,n,!0).then((function(){var e,n=r.split(/__context__\n/);try{e=JSON.parse(n[1]),a.each(e.test_suites,(function(e){i.push.apply(i,e.test_results)})),t.resolve()}catch(e){t.reject()}})),t}(e)})).then((function(e){i=i.map((function(e){return a.mapValues(e,(function(e){return"True"===e||"False"!==e&&e}))})),l.trigger("autograder:addTests",{tests:i})})).fail((function(){c.hide(),c.show({errorDisplay:"graderError"}),l.trigger("autograder:addTests",{tests:[]})})).always((function(){b.resolve(),window.Sk.configure({output:r}),(window.Sk.TurtleGraphics||(window.Sk.TurtleGraphics={})).target="python-canvas"})),b},config:v}},{"../../../core/constants.js":58,"../../../core/pubSub.js":60,"../../../core/settings.js":61,"../../../editor/editorUtils.js":73,"../../../editor/errors.js":76,"./grader-example.txt":11,"./templates/afterRunTemplate.txt":13,"./templates/beforeRunTemplate.txt":14,"./templates/evaluateCodeTemplate.txt":15,"./templates/helpers.txt":16,"./templates/yerba.txt":17,"es6-template-strings":416,lodash:504}],13:[function(e,t,n){t.exports="import json\n\n__private_context = ${context}\n\n${yerba}\n${helpers}\n${tests}\n\nfor i, suite in enumerate(PythonTestSuite.suites):\n    suite_context = __private_context['test_suites'][i]\n    suite.after_run(suite_context['student_code'], suite_context['solution_code'],\n                    suite_context['student_output'], suite_context['solution_output'])\n\n    test_results = []\n    for e in _flush_expectations():\n        result = e()\n        test_results.append(result)\n\n    # add this result to the suite\n    __private_context['test_suites'][i]['test_results'] += test_results\n\nprint('__context__\\n' + json.dumps(__private_context))\n"},{}],14:[function(e,t,n){t.exports="import json\n__private_context = ${context}\n\n${yerba}\n${helpers}\n# tests create and instantiate new subclasses of the PythonTestSuite class\n# the PythonTestSuite initialize method adds the suite to the private context.\n${tests}\n# put private context in student code and solution code\nsolution_code = __private_context['solution_code']\nstudent_code = __private_context['student_code']\n\n__private_context['test_suites'] = []\n\nfor suite in PythonTestSuite.suites:\n    suite.before_run(student_code, solution_code)\n\n    test_results = []\n    for e in _flush_expectations():\n        result = e()\n        test_results.append(result)\n\n    __private_context['test_suites'].append({\n        'test_results': test_results,\n        'student_code': student_code,\n        'solution_code': solution_code\n    })\n\nprint('__context__\\n' + json.dumps(__private_context))\n"},{}],15:[function(e,t,n){t.exports="import json\n\n__private_context = ${context}\n__private_context['current_input'] = 0\n\ninputs = []\ncurrent_input = 0\n\ndef readLine(*args):\n    return readOverwrite()\n\ndef readInt(*args):\n    return readOverwrite()\n\ndef readFloat(*args):\n    return readOverwrite()\n\ndef input(*args):\n    return readOverwrite()\n\ndef readOverwrite():\n    global current_input\n    global inputs\n    try:\n        val = inputs[current_input]\n    except IndexError:\n        val = 0\n    else:\n        current_input += 1\n    return val\n\n${helpers}\n${tests}\n\nfor suite in PythonTestSuite.suites:\n    print '__suite__'\n    inputs = suite.inputs\n    current_input = 0\n\n    print '__student__'\n    try:\n    # student_code is indented before being templated in\n${student_code}\n    except:\n        print('Runtime error')\n    # reset inputs\n    current_input = 0\n    print '__solution__'\n    # student_code is indented before being templated in\n${solution_code}\n"},{}],16:[function(e,t,n){t.exports='"""Helpers for Skulpt autograder runs."""\n\nclass PythonTestSuite(object):\n    """A test suite object, from which test suites are inherited."""\n\n    suites = []\n\n    def __init__(self):\n        PythonTestSuite.suites += [self]\n\n    def before_run(*args):\n        pass\n\n    def after_run(*args):\n        pass\n\ndef strip_comments(text):\n    """Naively removes comments from a string.\n\n    Parameters\n    ----------\n    text: string\n        String of code to remove comments from.\n\n    Returns string.\n\n    """\n    quote_chars = ["\'", \'"\']\n    result = []\n    for line in text.split(\'\\n\'):\n        try:\n            # find index of comment character\n            delim_index = line.index(\'#\')\n        except ValueError:\n            # no comment character\n            result.append(line)\n        else:\n            # side of string before comment\n            left_side = line[:delim_index]\n            # extract all quote characters from left_side\n            quotes = \'\'.join([ch for ch in left_side if ch in quote_chars])\n            quote_stack = []\n            for quote in quotes:\n                # if it\'s a matching quote, a string is closed\n                if quote_stack and quote_stack[len(quote_stack) - 1] == quote:\n                    quote_stack.pop()\n                # otherwise, push it on\n                else:\n                    quote_stack.append(quote)\n            # if the quote stack is empty, then the # is outside a string\n            if quote_stack == []:\n                result.append(left_side)\n            # otherwise the # is within a string, append the entire line\n            else:\n                result.append(line)\n    return \'\\n\'.join(result)\n'},{}],17:[function(e,t,n){t.exports='import json\nimport operator\n\nclass expect(object):\n\n    """Represents a logical expectation.\n\n    """\n\n    # a static class variable for storing all expectations\n    expectations = []\n\n    def __init__(self, actual, negated=False):\n        """Create an expectation.\n\n        Parameters\n        ----------\n        actual: primitive\n            The actual on which we\'re making expectations.\n        negated: boolean\n            Indicates if the expectation should be false.\n\n        """\n        self.negated = negated\n        self.actual = actual\n\n        self.override_test_name = \'\'\n        self.override_solution_output = \'\'\n        self.override_student_output = \'\'\n        self.override_message_pass = \'\'\n        self.override_message_fail = \'\'\n        self.override_show_diff = \'\'\n\n    def __call__(self):\n        """Evaluate the expectation."""\n        return self.assertion()\n\n    def __make_assertion(self, partial, message, expected):\n        """Make an assertion operation to evaluate later.\n\n        Parameters\n        ----------\n        partial: function\n            The assertion to evaluated.\n        message: string\n            A message describing the assertion.\n        expected: primitive\n            The operand for the expression. There may be none.\n        """\n        def assertion():\n            passed = bool(int(self.negated) ^ int(partial()))\n            pass_message = (\n                self.override_message_pass\n                if self.override_message_pass\n                else \'Success\'\n            )\n            fail_message = (\n                self.override_message_fail\n                if self.override_message_fail\n                else \'Failure\'\n            )\n            test_name = (\n                self.override_test_name\n                if self.override_test_name\n                else self._generate_description(message, expected)\n            )\n            student_output = (\n                self.override_student_output\n                if self.override_student_output\n                else self.actual\n            )\n            result = {\n                # "True" and "False" need to be strings, otherwise they\n                # are lowercased when stringified by JS and cause parse errors.\n                \'success\': "True" if passed else "False",\n                \'test\': test_name,\n                \'solutionOutput\': self.override_solution_output,\n                \'studentOutput\': student_output,\n                \'message\': pass_message if passed else fail_message,\n                \'showDiff\': "True" if self.override_show_diff else "False"\n            }\n            return result\n\n        self.expectations.append(assertion)\n        self.assertion = assertion\n\n        return assertion\n\n    def __partial(self, op, expected):\n        """Create a partial.\n\n        Parameters\n        ----------\n        op: object\n            Operator used to compare actual and expected.\n        expected: primitive\n            Item compared against actual. Can be None.\n\n        Returns function.\n\n        """\n        def wrapper():\n            try:\n                # try to strip whitespace if operands are strings\n                return op(self.actual.strip(\'\\n\'), expected.strip(\'\\n\'))\n            except AttributeError:\n                # otherwise proceed on non-string operands\n                return op(self.actual, expected)\n\n        return wrapper\n\n    def _generate_description(self, message, expected):\n        """Create an understandable description for the test.\n\n        Parameters\n        ----------\n        message: string\n            A string describing the expectation.\n        expected: primitive\n            A primitive that was used in the comparison.\n\n        Returns a string.\n\n        """\n        description = "Expected {} {}".format(json.dumps(self.actual), message)\n\n        description += " {}".format(json.dumps(expected))\n\n        return description\n\n    def to_be(self, expected):\n        """Create expectation that self.actual == expected.\n\n        Parameters\n        ----------\n        expected: primitive\n            The primitive to compare with self.actual.\n\n        Returns an expect object.\n\n        """\n        self.__make_assertion(self.__partial(operator.is_, expected),\n                              \'to be\',\n                              expected)\n        return self\n\n    def not_to_be(self, expected):\n        """Create expectation that self.actual != expected.\n\n        Parameters\n        ----------\n        expected: primitive\n            The primitive to compare with self.actual.\n\n        Returns an expect object.\n\n        """\n        self.negated = True\n        self.__make_assertion(self.__partial(operator.is_, expected),\n                              \'not to be\',\n                              expected)\n        return self\n\n    def to_be_greater_than(self, expected):\n        """Create expectation that self.actual > expected.\n\n        Parameters\n        ----------\n        expected: primitive\n            The primitive to compare with self.actual.\n\n        Returns an expect object.\n\n        """\n        self.__make_assertion(self.__partial(operator.gt, expected),\n                              \'to be greater than\',\n                              expected)\n        return self\n\n    def to_be_greater_than_or_equal_to(self, expected):\n        """Create expectation that self.actual >= expected.\n\n        Parameters\n        ----------\n        expected: primitive\n            The primitive to compare with self.actual.\n\n        Returns an expect object.\n\n        """\n        self.__make_assertion(self.__partial(operator.ge, expected),\n                              \'to be greater than or equal to\',\n                              expected)\n        return self\n\n    def to_be_less_than(self, expected):\n        """Create expectation that self.actual < expected.\n\n        Parameters\n        ----------\n        expected: primitive\n            The primitive to compare with self.actual.\n\n        Returns an expect object.\n\n        """\n        self.__make_assertion(self.__partial(operator.lt, expected),\n                              \'to be less than\',\n                              expected)\n        return self\n\n    def to_be_less_than_or_equal_to(self, expected):\n        """Create expectation that self.actual <= expected.\n\n        Parameters\n        ----------\n        expected: primitive\n            The primitive to compare with self.actual.\n\n        Returns an expect object.\n\n        """\n        self.__make_assertion(self.__partial(operator.le, expected),\n                              \'to be less than or equal to\',\n                              expected)\n        return self\n\n    def to_contain(self, expected):\n        """Create expectation that self.actual contains expected.\n\n        Parameters\n        ----------\n        expected: primitive\n            The primitive to search for in self.actual.\n\n        Returns an expect object.\n\n        """\n        self.__make_assertion(self.__partial(operator.contains, expected),\n                              \'to contain\',\n                              expected)\n        return self\n\n    def not_to_contain(self, expected):\n        """Create expectation that self.actual does not contain expected.\n\n        Parameters\n        ----------\n        expected: primitive\n            The primitive to search for in self.actual.\n\n        Returns an expect object.\n\n        """\n        self.negated = True\n        self.__make_assertion(self.__partial(operator.contains, expected),\n                              \'not to contain\',\n                              expected)\n        return self\n\n    def to_contain_line(self, expected):\n        """Create expectation that a line in self.actual contains expected.\n        Parameters\n        ----------\n        expected: primitive\n            The primitive to search for in self.actual.\n\n        Returns an expect object.\n\n        """\n        self.__make_assertion(self.__partial(line_contains, expected),\n                              \'to contain line\',\n                              expected)\n        return self\n\n    def not_to_contain_line(self, expected):\n        """Create expectation that a line self.actual doesn\'t contain expected.\n\n        Parameters\n        ----------\n        expected: primitive\n            The primitive to search for in self.actual.\n\n        Returns an expect object.\n\n        """\n        self.negated = True\n        self.__make_assertion(self.__partial(line_contains, expected),\n                              \'not to contain line\',\n                              expected)\n        return self\n\n    def to_equal(self, expected):\n        """Create expectation that self.actual is equal to expected.\n\n        Parameters\n        ----------\n        expected: primitive\n            The primitive to compare with self.actual.\n\n        Returns an expect object.\n        """\n        self.__make_assertion(self.__partial(operator.eq, expected),\n                              \'to equal\',\n                              expected)\n        return self\n\n    def not_to_equal(self, expected):\n        """Create expectation that self.actual is not equal to expected.\n\n        Parameters\n        ----------\n        expected: primitive\n            The primitive to compare with self.actual.\n\n        Returns an expect object.\n        """\n        self.negated = True\n        self.__make_assertion(self.__partial(operator.eq, expected),\n                              \'not to equal\',\n                              expected)\n        return self\n\n    def to_be_truthy(self):\n        """Create expectation that self.actual is Truthy.\n\n        Returns an expect object.\n\n        """\n        self.__make_assertion(self.__partial(lambda actual, _: bool(actual), None),\n                              \'to be\',\n                              \'truthy\')\n        return self\n\n    def to_be_falsey(self):\n        """Create expectation that self.actual is Falsey.\n\n        Returns an expect object.\n\n        """\n        self.negated = True\n        self.__make_assertion(self.__partial(lambda actual, _: bool(actual), None),\n                              \'to be\',\n                              \'falsey\')\n        return self\n\n    def with_options(self, message_pass=\'\',\n                     message_fail=\'\', test_name=\'\', show_diff=False,\n                     solution_output=\'\', student_output=\'\'):\n        """Pass options to override test results.\n\n        Parameters\n        ----------\n        message_pass: string\n            A message to print on passing.\n        message_fail: string\n            A message to print on failing.\n        test_name: string\n            The name of the test.\n        show_diff: boolean\n            Whether or not to show the diff in the results.\n        solution_output: string\n            A solution output to be shown in the reuslts.\n\n        """\n        self.override_message_pass = message_pass if message_pass else self.override_message_pass\n        self.override_message_fail = message_fail if message_fail else self.override_message_fail\n        self.override_test_name = test_name if test_name else self.override_test_name\n        self.override_show_diff = show_diff if show_diff else self.override_show_diff\n        # TODO -- change api.\n        self.override_solution_output = solution_output if solution_output else self.override_solution_output\n        self.override_student_output = student_output if student_output else self.override_student_output\n\n        return self\n\n    ########################################################\n    ## Below are assertions for Turtle Python.\n    ########################################################\n\n    def to_contain_command(self, expected):\n        """Create expectation that self.actual contains the command `expected`.\n\n        Returns an expect object.\n\n        """\n        self.override_test_name = \'Expected your commands to contain {}.\'.format(expected)\n        self.__make_assertion(self.__partial(contains_command, expected),\n                              \'to contain command\',\n                              expected)\n        return self\n\ndef line_contains(lhs, rhs):\n    """An operator to check if a line in lhs string contains rhs.\n\n    Parameters\n    ----------\n    lhs: string\n        The left hand side of the operation.\n    rhs: string\n        The right hand side of the operation.\n\n    Returns boolean.\n\n    """\n    lines = lhs.split(\'\\n\')\n    return rhs in lines\n\ndef _flush_expectations():\n    """Flushes expectations.\n\n    Returns a list.\n\n    """\n    flushed_expectations = expect.expectations\n    expect.expectations = []\n    return flushed_expectations\n\n\ndef contains_command(lhs, rhs):\n    """An operator to check if a list of commands (lhs) contains command (rhs).\n\n    Parameters\n    ----------\n    lhs: list\n        The left hand side of the operation, a list of commands.\n        Their format is [(\'command_name\', (arg1, arg2)), ...].\n    rhs: string\n        The right hand side of the operation, a string of the comand that\n        should bein the lhs. \'forward\', \'backward\', etc.\n\n    Returns boolean.\n\n    """\n    return any([(command[0] == rhs) for command in lhs])\n'},{}],18:[function(e,t,n){t.exports="# Any values that should be passed to any call to `input`\ninputs = []\n\n# Write any tests that should run before the code is evaluated\ndef before_run(student_code, solution_code):\n    # expect(student_code).to_contain('def my_function(param1):')\n    # expect(student_code).to_be('answer')\n    pass\n\n# Write any tests that should run after the code is evaluated\ndef after_run(student_code, solution_code, student_commands, solution_commands):\n    # expect(student_commands).to_equal(solution_commands)\n    pass\n"},{}],19:[function(e,t,n){"use strict";var i,r,o=e("../../../core/settings.js").STATIC_URL,a=e("lodash"),s=e("../../../core/constants.js"),u=e("../autograder-python/templates/helpers.txt"),l=e("../../../core/pubSub.js"),c=e("../../../editor/errors.js"),d=e("../../../editor/editorUtils.js").safeSkulpt,p=e("es6-template-strings"),h=e("../autograder-python/templates/yerba.txt"),f=e("../../../editor/runners/templates/turtle.txt"),m=e("./templates/afterRunTemplate.txt"),g=e("./templates/beforeRunTemplate.txt"),y=e("./templates/evaluateCodeTemplate.txt"),v=e("./grader-example.txt");var _={generalAutograderPythonTurtle:{type:"generalAutograderPythonTurtle",title:"Python Turtle General Autograder",languages:[s.ProgrammingLanguage.PYTHON],progTypes:[s.ProgramType.PYTHON_TURTLE],schema:{type:"object",properties:{run:{title:"Run this Grader?",type:"boolean",default:!1},testCode:{title:"Test Code",type:"string",required:!0,default:v}}},form:["run",{key:"testCode",condition:"model.run",type:"ace",style:"height: 500px; border-radius: 3px; border: 1px solid "+s.Colors.LIGHT_GREY,aceOptions:{mode:"python",onLoad:function(e){e.getSession().setUseWorker(!1)}}}]}};t.exports={shouldRun:function(e){return a.has(e.editor.autograderConfig,"generalAutograderPythonTurtle")&&e.editor.autograderConfig.generalAutograderPythonTurtle.run},run:function(e,t){var n,s;if(i=[],r=window.Sk.output,window.Sk.externalLibraries={json:{path:o+"lib/skulpt-external/json/__init__.js",dependencies:[o+"lib/skulpt-external/json/stringify.js"]}},window.pageSpecific.isBlockly){var v=new window.Blockly.Workspace,_=window.Blockly.Xml.textToDom(e.original);window.Blockly.Xml.domToWorkspace(_,v),s=window.Blockly.Python.workspaceToCode(v),n=t.solutionCode["main.xml"]}else s=e.original,n=t.solutionCode["main.py"];var b={inputs:[],student_code:s,solution_code:n,tests:t.autograderConfig.generalAutograderPythonTurtle.testCode},w=$.Deferred();return function(e){var t=$.Deferred(),n=p(g,{yerba:h,context:JSON.stringify(e),tests:e.tests,helpers:u}),r="";return window.Sk.configure({output:function(e){r+=e}}),d("<stdin>",!1,n,!0).then((function(){var e,n=r.split(/__context__\n/);try{e=JSON.parse(n[1]),i.push.apply(i,e.test_results),t.resolve(e)}catch(e){t.reject()}})),t}(b).then((function(e){return function(e){$("<div></div>").addClass("gone").attr("id","testing-canvas").appendTo("body");var t=$.Deferred(),n=p(y,{student_code:e.modified_code.split("\n").map((function(e){return"    "+e})).join("\n"),solution_code:e.solution_code,context:JSON.stringify(e),turtle:p(f,{coords:""}),helper_code:window.pageSpecific.helper_code||""}),i="";return window.Sk.configure({output:function(e){i+=e}}),window.Sk.TurtleGraphics.target="testing-canvas",d("<stdin>",!1,n,!0).then((function(){var e,n=i.split(/__solution__\n|__context__\n/);try{(e=JSON.parse(n[2])).student_output=n[0],e.solution_output=n[1],t.resolve(e)}catch(e){t.reject()}})),t}(e)})).then((function(e){return function(e){var t=$.Deferred(),n=p(m,{context:JSON.stringify(e),tests:e.tests,yerba:h,helpers:u}),r="";return window.Sk.configure({output:function(e){r+=e}}),d("<stdin>",!1,n,!0).then((function(){var e,n=r.split(/__context__\n/);try{e=JSON.parse(n[1]);var o=JSON.parse(e.test_results);i=i.concat(o.map((function(e){return JSON.parse(e)}))),t.resolve()}catch(e){t.reject()}})).catch((function(){t.reject()})),t}(e)})).then((function(e){i=i.map((function(e){return a.mapValues(e,(function(e){return"True"===e||"False"!==e&&e}))})),l.trigger("autograder:addTests",{tests:i})})).fail((function(){c.hide(),c.show({errorDisplay:"graderError"}),l.trigger("autograder:addTests",{tests:[]})})).always((function(){w.resolve(),window.Sk.configure({output:r}),window.Sk.TurtleGraphics.target="python-canvas"})),w},config:_}},{"../../../core/constants.js":58,"../../../core/pubSub.js":60,"../../../core/settings.js":61,"../../../editor/editorUtils.js":73,"../../../editor/errors.js":76,"../../../editor/runners/templates/turtle.txt":152,"../autograder-python/templates/helpers.txt":16,"../autograder-python/templates/yerba.txt":17,"./grader-example.txt":18,"./templates/afterRunTemplate.txt":20,"./templates/beforeRunTemplate.txt":21,"./templates/evaluateCodeTemplate.txt":22,"es6-template-strings":416,lodash:504}],20:[function(e,t,n){t.exports="import json\n\n__private_context = ${context}\n\n${yerba}\n${helpers}\nstudent_code = __private_context['student_code']\nstudent_output = __private_context['student_output']\nsolution_code = __private_context['solution_code']\nsolution_output = __private_context['solution_output']\nstudent_commands = __private_context['student_commands']\nsolution_commands = __private_context['solution_commands']\n${tests}\n\nafter_run(student_code, solution_code, student_commands, solution_commands)\n\ntest_results = []\nfor e in expect.expectations:\n    result = e()\n    test_results.append(json.dumps(result))\n\n__private_context['test_results'] = json.dumps(test_results)\n\nprint('__context__\\n' + json.dumps(__private_context))\n"},{}],21:[function(e,t,n){t.exports="import json\n\n__private_context = ${context}\n${yerba}\n${helpers}\n${tests}\n# copy the inputs to the private context\n__private_context['inputs'] = inputs[:]\n# put private context in student code and solution code\nsolution_code = __private_context['solution_code']\nstudent_code = __private_context['student_code']\n\n\nbefore_run(student_code, solution_code)\n\ntest_results = []\nfor e in expect.expectations:\n    result = e()\n    test_results.append(result)\n\n__private_context['test_results'] = test_results\n__private_context['modified_code'] = student_code\nprint('__context__\\n' + json.dumps(__private_context))\n"},{}],22:[function(e,t,n){t.exports="import json\n\n__private_context = ${context}\n\n__private_context['current_input'] = 0\n\n# turtle helpers\n${turtle}\n# make the turtle very VERY **fast** by not refreshing the screen at all\n__turtle.tracer(0,0)\n\ndef readOverwrite():\n    try:\n        val = __private_context['inputs'][__private_context['current_input']]\n    except IndexError:\n        val = 0\n    else:\n        __private_context['current_input'] += 1\n    return val\n\ndef readLine(*args):\n    return readOverwrite()\n\ndef readInt(*args):\n    return readOverwrite()\n\ndef readFloat(*args):\n    return readOverwrite()\n\ndef input(*args):\n    return readOverwrite()\n${helper_code}\ntry:\n    # student_code is indented before being templated in\n${student_code}\n    # include pass just in case student code is empty.\n    __turtle.update()\n    pass\nexcept:\n    print('Runtime error')\nelse:\n    # attach the command history (part of the wrapped studentCode) to context\n    __private_context['student_commands'] = __command_history\n    __command_history = []\nprint '__solution__'\n${solution_code}\n__turtle.update()\n__private_context['solution_commands'] = __command_history\nprint('__context__\\n' + json.dumps(__private_context))\n"},{}],23:[function(require,module,exports){"use strict";var C=require("../../core/constants.js"),PubSub=require("../../core/pubSub.js");function shouldRun(e){return e.editor.getProgrammingLanguage()===C.ProgrammingLanguage.HTML&&(e.editor.typeTester.isExercise()||e.editor.typeTester.isChallenge())&&!_.isEmpty(e.editor.autograderCode)}function writeCodeToIframe(e,t){var n=t.contentDocument;n.open();var i,r='<base href="'+window.pageSpecific.externalProgramURL+'" />',o="<head>"+r+"</head>",a=e.indexOf("<html>"),s=e.indexOf("<head>");i=-1===a&&-1===s?r+e:-1===s?e.slice(0,a+6)+o+e.slice(a+6):e.slice(0,s+6)+r+e.slice(s+6),n.write(i),n.close()}function run(code,editor){var isAbacus=window.pageSpecific.isAbacus,codeText,currentCode;if(isAbacus){var fileEntries=Object.entries(editor.autograderCode),jsFileEntries=fileEntries.filter((function(e){return e[0].endsWith(".js")})),jsFileContents=jsFileEntries.map((function(e){return e[1]}));codeText=jsFileContents.join("\n"),currentCode=editor.getCurrentCode()}else codeText=$("#htmlAutograder").text(),currentCode=editor.currentCode;var codeTree=_.cloneDeep(currentCode),runCompleted=$.Deferred(),jqueryIframes=[],iframePromises=[],$codeTree=_.mapValues(codeTree,(function(e,t){if(_.includes(t,".html")){var n=document.createElement("iframe");n.style.display="none",window.document.body.appendChild(n);var i=$.Deferred();n.onload=function(){i.resolve()},iframePromises.push(i),writeCodeToIframe(e,n);var r=$(n);return jqueryIframes.push(r),r.contents()}return e}));return $.when.apply($,iframePromises).done((function(){var autograderCode=getAutograderCode(codeText),testResults=eval(autograderCode);PubSub.trigger("autograder:addTests",{tests:testResults}),jqueryIframes.forEach((function(e){e.remove()})),runCompleted.resolve()})),runCompleted}function getAutograderCode(e){return"(function(){ "+e+"\nvar grader = new HtmlAutograder(codeTree, $codeTree);return grader.runHtmlAutograder();}());"}module.exports={shouldRun:shouldRun,run:run}},{"../../core/constants.js":58,"../../core/pubSub.js":60}],24:[function(e,t,n){"use strict";var i=e("../../core/pubSub.js"),r=e("lodash");t.exports={shouldRun:function(e){return e.editor.typeTester.isJava()&&e.editor.typeTester.isExercise()&&!e.editor.typeTester.codeHubJava()&&!e.editor.typeTester.isKarel()&&!r.isEmpty(e.editor.autograderCode)&&!e.run2},run:function(e,t){var n={};Object.keys(t.currentCode).forEach((function(e){n[e]=t.currentCode[e]})),Object.keys(t.autograderCode).forEach((function(e){n[e]=t.autograderCode[e]}));var r=$.Deferred();return t.runner.run(n,{mainClass:"Grader",itemID:t.itemID,codeUserID:t.codeUserID}).done((function(e){e.forEach((function(e){e.showDiff=!0})),i.trigger("autograder:addTests",{tests:e}),window.CodeHSConsole.clear(),r.resolve()})),r}}},{"../../core/pubSub.js":60,lodash:504}],25:[function(e,t,n){"use strict";var i=e("../../core/pubSub.js"),r=e("lodash");t.exports={shouldRun:function(e){var t=e.editor.autograderCode&&e.editor.autograderCode["test.sh"];return e.editor.typeTester.isJava()&&!t&&(e.editor.typeTester.isExercise()||e.editor.typeTester.isChallenge())&&e.editor.typeTester.codeHubJava()&&!e.editor.typeTester.isKarel()&&!r.isEmpty(e.editor.autograderCode)&&!e.run2},run:function(e,t){var n={};Object.entries(t.getCurrentCode()).forEach((function(e){var t=e[0],i=e[1];n[t]=i})),Object.keys(t.autograderCode).forEach((function(e){n[e]=t.autograderCode[e]}));var r=$.Deferred(),o="javac -cp /app/json.jar:/app/java-util-1.19.3.jar "+Object.keys(n).filter((function(e){return e.endsWith(".java")})).join(" ")+" && java -cp /app/json.jar:/app/java-util-1.19.3.jar:. Grader";return(t.wasShimmed?t.graderExec(o,n,{mainClass:"Grader",itemID:t.itemID,codeUserID:t.codeUserID}):t.runner.exec(o,n,{mainClass:"Grader",itemID:t.itemID,codeUserID:t.codeUserID})).then((function(e){if(e.length){try{e=JSON.parse(e.split("__unittests__")[1]).tests}catch(t){e=[]}e.forEach((function(e){e.showDiff=!0})),i.trigger("autograder:addTests",{tests:e})}window.CodeHSConsole.clear(),r.resolve()})),r}}},{"../../core/pubSub.js":60,lodash:504}],26:[function(e,t,n){"use strict";var i=e("../../core/pubSub.js");t.exports={shouldRun:function(e){return e.editor.autograderCode&&e.editor.autograderCode["test.sh"]},run:function(e,t){var n={};Object.entries(t.getCurrentCode()).forEach((function(e){var t=e[0],i=e[1];n[t]=i})),Object.keys(t.autograderCode).forEach((function(e){n[e]=t.autograderCode[e]}));var r=$.Deferred();return t.graderExec("bash test.sh",n,{itemID:t.itemID,codeUserID:t.codeUserID}).then((function(e){if(e.length){try{e=JSON.parse(e.split("__unittests__")[1]).tests}catch(t){e=[]}i.trigger("autograder:addTests",{tests:e})}r.resolve()})),r}}},{"../../core/pubSub.js":60}],27:[function(e,t,n){"use strict";var i=e("lodash"),r=e("../../core/pubSub.js"),o=e("../../core/constants.js");var a={graphicsGrader:{type:"graphicsGrader",title:"Graphics Grader",progTypes:[o.ProgramType.GRAPHICS,o.ProgramType.GRAPHICS_NO_CONSOLE],schema:{type:"object",properties:{run:{title:"Run this Grader?",type:"boolean",default:!1},tests:{type:"array",items:{title:"Graphics Test",type:"object",properties:{description:{type:"string",required:!0},x:{type:"string",required:!1},y:{type:"string",required:!1},width:{type:"string",required:!1},height:{type:"string",required:!1},radius:{type:"string",required:!1},color:{type:"string",required:!1},label:{type:"string",required:!1},type:{type:"string",required:!1}}}}}},form:["run",{key:"tests",condition:"model.run",type:"tabarray",title:'{{ "Test "+$index }}',items:["tests[].description","tests[].x","tests[].y","tests[].width","tests[].height","tests[].radius","tests[].color","tests[].label","tests[].type"]}]}};t.exports={shouldRun:function(e){return i.has(e.editor.autograderConfig,"graphicsGrader")&&e.editor.autograderConfig.graphicsGrader.run},run:function(e,t){var n=t.autograderConfig.graphicsGrader,o=[];t.runner.run(e.withoutComments),i.each(n.tests,(function(e){var n=t.runner.__graphics__.elementExistsWithParameters(e);o.push({success:n,messagePass:e.description,messageFail:e.description})})),r.trigger("autograder:addTests",{tests:o,category:"Functionality"})},config:a}},{"../../core/constants.js":58,"../../core/pubSub.js":60,lodash:504}],28:[function(e,t,n){t.exports=[e("./autograderTestSh.js"),e("./autograderHtml.js"),e("./autograderJava.js"),e("./autograderJavaNewServers.js"),e("./graphicsGrader.js"),e("./karelBeforeAfter.js"),e("./karelStyle.js"),e("./requirements.js"),e("./sqlOutputChecker.js"),e("./style.js"),e("./superKarelStyle.js"),e("./unitTestGraderJava.js"),e("./unitTestGraderJavaNewServers.js"),e("./unitTestGraderJs.js"),e("./unitTestGraderPython.js"),e("./unitTestGraderPython3.js"),e("./unitTestGraderCpp.js"),e("./autograder-js"),e("./autograder-python"),e("./autograder-turtle"),e("./autograder-python-2"),e("./autograder-python-3")]},{"./autograder-js":4,"./autograder-python":12,"./autograder-python-2":7,"./autograder-python-3":9,"./autograder-turtle":19,"./autograderHtml.js":23,"./autograderJava.js":24,"./autograderJavaNewServers.js":25,"./autograderTestSh.js":26,"./graphicsGrader.js":27,"./karelBeforeAfter.js":29,"./karelStyle.js":30,"./requirements.js":31,"./sqlOutputChecker.js":32,"./style.js":33,"./superKarelStyle.js":34,"./unitTestGraderCpp.js":35,"./unitTestGraderJava.js":36,"./unitTestGraderJavaNewServers.js":37,"./unitTestGraderJs.js":38,"./unitTestGraderPython.js":39,"./unitTestGraderPython3.js":40}],29:[function(e,t,n){"use strict";var i=e("../../core/pubSub.js");t.exports={shouldRun:function(e){return e.editor.typeTester.isKarel()},run:function(e,t){var n,r,o=[],a=e.original,s=t.worlds,u=t.runner.getWorld().getId(),l=window.pageSpecific.preferredLang;t.runner.setGradingMode(!0);for(var c=0;c<s.length;c++)if(void 0!==s[c].solution_world){t.runner.loadWorld(s[c]);try{if("es"===l)n="Mundo: ",r=". Tienes un error de sintaxis en su codigo";else n="World: ",r=". You have a syntax error in your code";var d=t.runner.run(a,{grading:!0});if(d.hasError){o.push({success:!1,message:n+t.runner.getWorld().getName()+r+": \n"+d.error.message});continue}if(t.typeTester.isPython())if(t.runner.karelRunner.applyCommandsToWorld(t.runner.getWorld(),t.runner.getCommandList(a)))throw"Error in your code";var p=t.runner.tester.testSolution({autograding:!0});o.push({success:p.success,message:n+t.runner.getWorld().getName()})}catch(e){console.log("Error in grading:"),console.log(e),o.push({success:!1,message:n+t.runner.getWorld().getName()+r+"."})}}i.trigger("autograder:addTests",{tests:_.map(o,(function(e){return e.category="Functionality",e}))}),t.runner.setGradingMode(!1),t.runner.loadWorldById(u)}}},{"../../core/pubSub.js":60}],30:[function(e,t,n){"use strict";var i=e("lodash"),r=e("../utils.js").defaultRun,o=e("../../editor/karel/karelUtils.js").testCommandStyle,a=e("../../editor/editorUtils.js").testIndentation,s={indentation:function(e){var t=a(e.code.original),n=i.pluck(t,"line").join(", "),r="",o="",s="";if("es"===window.pageSpecific.preferredLang)r="Genial! Tu cdigo est correctamente indentado.",o="Parece que la indentacin est incorrecta en ",s=t.length>1?"las lineas ":"la linea ";else r="Awesome! Your code is indented properly.",o="It looks like your indentation is off on ",s=t.length>1?"lines ":"line ";e.testResults.push({success:0===t.length,messagePass:r,messageFail:o+s+n})},commandStyle:function(e){for(var t=e.code.withoutComments.split("\n"),n=!0,i=!1,r=window.pageSpecific.preferredLang,a=0;a<t.length;a++){var s=t[a]+"\n",u="";if(-1==s.indexOf("function")){var l=o(s);if(l.command&&(i=!0),!l.isValid){if(n=!1,l.multipleCommandsOnLine)if("es"===r)u="En la linea "+(a+1)+": "+l.reason;else u="On line "+(a+1)+": "+l.reason;else if("es"===r)u="Comando invlido: <code>"+l.command.command+"</code> Debera ser <code>"+l.validCommand+"</code><br>"+l.reason;else u="Invalid command: <code>"+l.command.command+"</code> Should be: <code>"+l.validCommand+"</code><br/>"+l.reason;e.testResults.push({success:n,message:u});break}}}if(!i){if("es"===r)u=" No tienes ningn comando en este programa.";else u="You don't have any commands in this program.";e.testResults.push({success:!1,message:u})}if(n){if("es"===r)u="Gran trabajo! Todos tus comandos lucen bien";else u="Nice job! Your commands all look good.";e.testResults.push({success:!0,message:u})}},codeOutsideStart:function(e){for(var t=function(e){return" "==e||"\n"==e||"\t"==e},n="",i=0,r=!1,o=!1,a=e.code.withoutComments,s=0;s<a.length;s++){var u=a[s];if(t(u)||"{"==u||"}"==u?(n="","{"==u?i++:"}"==u&&i--):n+=u,"}"==u&&0===i&&(o=!1,n=""),r&&"{"==u&&(r=!1,o=!0),!o&&"function"==n&&t(a[s+1])&&(r=!0),!o&&!r&&-1=="function".indexOf(n)&&""!==$.trim(n)){var l="start function",c="";e.editor.typeTester.isJavaKarel()&&(l="run method"),c="It looks like you have code outside of the "+l+". Make sure all of your code goes inside of the "+l+".",e.testResults.push({success:!1,message:c});break}}}};var u=r({tests:s,category:"Style"});t.exports={shouldRun:function(e){return e.editor.typeTester.isJsKarel()||e.editor.typeTester.isJavaKarel()},run:u,config:{indentation:{type:"style",title:"Indentation",schema:{type:"object",properties:{run:{title:"Run this Grader?",type:"boolean",default:!0}}},form:["run"]},commandStyle:{type:"style",title:"Command Style",schema:{type:"object",properties:{run:{title:"Run this Grader?",type:"boolean",default:!0}}},form:["run"]},codeOutsideStart:{type:"style",title:"Code Outside Start/Run",schema:{type:"object",properties:{run:{title:"Run this Grader?",type:"boolean",default:!0}}},form:["run"]}},tests:s}},{"../../editor/editorUtils.js":73,"../../editor/karel/karelUtils.js":85,"../utils.js":42,lodash:504}],31:[function(e,t,n){"use strict";var i=e("lodash"),r=e("../../editor/karel/karelUtils.js");var o={forloop:function(e){var t=window.pageSpecific.preferredLang;if(null===/for\s*\(.*\)/g.exec(e.code.withoutComments)){var n="";if("es"===t)n="Necesitas tener un for loop en este problema.";else n="You need to have a for loop in this problem.";e.testResults.push({success:!1,message:n})}else{if("es"===t)n="Tienes un for loop en este programa";else n="You have a for loop in this program.";e.testResults.push({success:!0,message:n})}for(var r,o=new RegExp("for\\s*\\(\\s*(var\\s+)?([A-z]+\\w*)*\\s*=\\s*([0-9]+);\\s*([A-z]+\\w*)*\\s*<\\s*([0-9]+);\\s*([A-z]+\\w*)*\\s*\\+\\+\\)","g"),a=0;null!==(r=o.exec(e.code.withoutComments));){if(++a>1)return void e.testResults.push({success:!1,message:"You should only have one for loop in this program."});var s=[r[2],r[4],r[6]],u=r[3],l=r[5];if(void 0!==r[1])s[0]!==s[1]||s[0]!==s[2]?e.testResults.push({success:!1,message:"Your for loop uses different letters in each part. You need to use <code>i</code> in each part."}):"i"!==s[0]&&e.testResults.push({success:!1,message:"Your for loop should use <code>i</code> as the letter instead of <code>"+s[0]+"</code>"});else{var c="var";e.editor.typeTester.isJavaKarel()&&(c="int"),e.testResults.push({success:!1,message:"You need to write the word <code>"+c+"</code> in the beginning of your for loop."})}i.has(e.config,"start")&&u!=e.config.start&&e.testResults.push({success:!1,message:"Your for loop should start at <code>"+e.config.start+"</code>, but it starts at <code>"+u+"</code>."}),i.has(e.config,"end")&&l!=e.config.end&&e.testResults.push({success:!1,message:"Your for loop should end at <code>"+e.config.end+"</code>, but it ends at <code>"+l+"</code>."})}},needsComments:function(e){var t,n;if("es"===window.pageSpecific.preferredLang)t="Tu cdigo tiene comentarios.",n="Tu cdigo no tiene comentarios";else t="Your code has comments.",n="Your code does not have any comments.";e.testResults.push({success:e.code.original!=e.code.withoutComments,messagePass:t,messageFail:n})},requiredFunctions:function(e){i.each(e.config.functions,(function(t,n){!function(t,n){var o,a=window.pageSpecific.preferredLang,s=i.keys(e.code.functions),u=i.map(s,(function(e){return e.toLowerCase()})),l=!0,c=!i.has(e.code.functions,t),d=i.contains(u,t.toLowerCase()),p="function";if(e.editor.typeTester.isJavaKarel()&&(p="method"),c&&d){var h=u.indexOf(t.toLowerCase());o="es"===a?"Corrige tu capitalizacin. Tu funcin se llama <code>"+s[h]+"</code> pero debera llamarse <code>"+t+"</code>":"Fix up your capitalization. Your "+p+" is named <code>"+s[h]+"</code> but should be called <code>"+t+"</code>.",e.testResults.push({success:!1,message:o})}else if(c)o="es"===a?"Necesitas definir una funcin llamada "+t:"You need to define a "+p+" called <code>"+t+"</code>",e.testResults.push({success:!1,message:o});else{if(i.has(n,"contents")){var f=r.getContentsOfFunction(e.code.withoutComments,t),m=n.contents;o="es"===a?"Tu funcin <code>"+t+"</code> tiene el contenido equivocado":"Your <code>"+t+"</code> "+p+" has the wrong contents.",i.isEqual(f,m)||(e.testResults.push({success:!1,message:o}),l=!1)}if(i.has(n,"minCalls")){var g=r.collectCommands(e.code.withoutComments);i.filter(g,(function(e){return e.base===t})).length<n.minCalls&&(o="es"===a?"Tu cdigo no llama la funcin <code>"+t+"</code> suficientes veces":"Your code doesn't call the <code>"+t+"</code> "+p+" enough times.",e.testResults.push({success:!1,message:o}),l=!1)}l&&("es"===a&&(o="Gran trabajo! Escribiste una buena funcin <code>"+t+"</code>."),e.testResults.push({success:!0,message:"Nice job! You wrote a good <code>"+t+"</code> "+p+"."}))}}(n=i.has(t,"name")?t.name:n,t)}))},minFunctions:function(e){var t,n=window.pageSpecific.preferredLang,r=i.keys(e.code.functions).length,o=r>=e.config.min,a="function";if(e.editor.typeTester.isJavaKarel()&&(a="method"),"es"===n)t="Dividiste el problema en "+r+" funciones","";else t="You broke the problem down into "+r+" "+a+"s.","";e.testResults.push({success:o,messagePass:t,messageFail:"You need to break the problem down into more "+a+"s. You defined "+r+" "+a+"(s), but you need to define at least "+e.config.min+"."})}};var a=(0,e("../utils.js").defaultRun)({tests:o,category:"Style"});t.exports={shouldRun:function(e){return e.editor.typeTester.isJsKarel()||e.editor.typeTester.isJavaKarel()||e.editor.typeTester.isConsole()||e.editor.typeTester.isGraphics()},run:a,config:{forloop:{type:"requirements",title:"For Loop",schema:{type:"object",properties:{run:{title:"Run this Grader?",type:"boolean",default:!1},start:{type:"integer",default:0},end:{type:"integer",default:0}}},form:["run",{key:"start",condition:"model.run"},{key:"end",condition:"model.run"}]},needsComments:{type:"requirements",title:"Needs Comments",schema:{type:"object",properties:{run:{title:"Run this Grader?",type:"boolean",default:!1}}},form:["run"]},requiredFunctions:{type:"requirements",title:"Required Functions/Methods",schema:{type:"object",description:"Functions/Methods which you require the student to have",properties:{run:{title:"Run this Grader?",type:"boolean",default:!1},functions:{type:"array",items:{title:"Function",type:"object",properties:{name:{type:"string",description:"Function/Method name",required:!0},minCalls:{type:"integer",description:"Minimum number of times this function/method should be called"},content:{type:"string",description:"The contents of the function/method"}}},default:[]}}},form:["run",{key:"functions",condition:"model.run",type:"tabarray",title:'{{ value.name || "Tab "+$index }}',items:["functions[].name","functions[].minCalls",{key:"functions[].content",type:"textarea"}]}]},minFunctions:{type:"requirements",title:"Min Functions/Methods",schema:{type:"object",properties:{run:{title:"Run this Grader?",type:"boolean",default:!1},min:{type:"integer",default:0}}},form:["run",{key:"min",condition:"model.run"}]}},tests:o}},{"../../editor/karel/karelUtils.js":85,"../utils.js":42,lodash:504}],32:[function(e,t,n){"use strict";var i=e("lodash"),r=e("../../core/pubSub.js"),o=e("../../editor/runners/sqlRunner.js");function a(e,t){return new o(t).getResults(e,!0)}t.exports={shouldRun:function(e){return i.has(e.editor.autograderConfig,"sqlOutputChecker")&&e.editor.typeTester.isSQL()},run:function(e,t){var n=t.autograderConfig.sqlOutputChecker,o=[];!function(e){var t=a(e.studentCode,e.editor),n=a(e.solution,e.editor),r=void 0!==t[0];if(e.testResults.push({success:r,messagePass:"You returned a result table!",messageFail:"Your query did not return any data."}),r){var o=t[0].columns.length==n[0].columns.length;if(e.testResults.push({success:o,messagePass:"Correct number of result columns.",messageFail:"You returned "+t[0].columns.length+" columns but we expected "+n[0].columns.length+" columns"}),o){var s=i.isEqual(t[0].columns,n[0].columns);if(e.testResults.push({success:s,messagePass:"Correct result columns.",messageFail:"Incorrect result columns."}),s){var u=i.isEqual(t[0],n[0]);e.testResults.push({success:u,messagePass:"Correct output.",messageFail:"Incorrect output."})}}}}({studentCode:e.withoutComments,solution:n.solution,editor:t,testResults:o}),r.trigger("autograder:addTests",{tests:o,category:"Functionality"})}}},{"../../core/pubSub.js":60,"../../editor/runners/sqlRunner.js":148,lodash:504}],33:[function(e,t,n){"use strict";var i=e("lodash"),r=e("../utils.js").defaultRun,o=e("../../editor/editorUtils.js").linesWithoutSemicolons;var a={functionsFirstLetterLowercase:function(e){var t,n,r=window.pageSpecific.preferredLang,o=i.filter(i.keys(e.code.functions),(function(e){return e[0].toLowerCase()!=e[0]})),a="function";if(e.editor.typeTester.isJavaKarel()&&(a="method"),"es"===r)t="Todas tus funciones comienzan con una letra minscula.",n="Algunas de tus funciones (<code>"+o.join(", ")+"</code>) no comienzan con una letra minscula.";else t="Your "+a+"s all start with a lowercase letter.",n="Some of your "+a+"s (<code>"+o.join(", ")+"</code>) do not start with a lowercase letter.";e.testResults.push({success:0===o.length,messagePass:t,messageFail:n})},nestedFunctions:function(e){var t,n=window.pageSpecific.preferredLang,r=/function\s+(\w+)\s*\([\w\W\s]*\)\s*{/,o=i.keys(e.code.functions),a="function";if(e.editor.typeTester.isJavaKarel())if("es"===n)a="mtodo";else a="method";for(var s=0;s<o.length;s++){var u,l=e.code.functions[o[s]].match(r);if(l){if("es"===n)u="Tienes una funcin <code>"+l[1]+"</code> anidada dentro de otra funcin <code>"+o[s]+"</code>. Asegrate de poner tus funciones una despus de la otra.";else u="You have a "+a+" <code>"+l[1]+"</code> nested inside another "+a+" <code>"+o[s]+"</code>. Make sure to put your "+a+"s one after the other.";return void e.testResults.push({success:!1,message:u})}}if("es"===n)t="No tienes "+a+"s anidadas";else t="You have no nested "+a+"s.";e.testResults.push({success:!0,messagePass:t})},emptyFunctions:function(e){var t=window.pageSpecific.preferredLang,n="start",r="function";e.editor.typeTester.isJavaKarel()&&(n="run",r="method"),i.each(e.code.functions,(function(i,o){var a;if("start"==o)if("es"===t)a="No tienes ningn cdigo en tu funcin <code>"+n+"()</code>. Asegrese de poner el cdigo dentro de la funcin"+n;else a="You don't have any code in your <code>"+n+"()</code> "+r+". Make sure to put code inside the "+n+" "+r+".";else if("es"===t)a="No tienes ningn cdigo en tu funcin "+n+"Asegrate de usar la funcin o eliminarla.";else a="You don't have any code in your <code>"+o+"</code> "+r+". Make sure to use the "+r+" or get rid of it.";""===$.trim(i)&&e.testResults.push({success:!1,message:a})}))},functionRedefinition:function(e){var t,n=/\W*function\s+([\w\$]+)\(/g,r=[],o="function";for(e.editor.typeTester.isJavaKarel()&&(o="method");null!==(t=n.exec(e.code.withoutComments));){var a=t[1];i.contains(r,a)?e.testResults.push({success:!1,message:"It looks like you defined <code>"+a+"</code> twice. Make sure you only define "+o+"s once."}):r.push(a)}},testMissingSemicolons:function(e){var t=e.code.original,n=o(t),i="";if("es"===window.pageSpecific.preferredLang)i="Te falta un punto y coma en las siguientes lneas: "+n.join(", ");else i="You are missing a semicolon on the following lines: "+n.join(", ");n.length>0&&e.testResults.push({success:!1,message:i})}};var s=r({tests:a,category:"Style"});t.exports={shouldRun:function(e){return e.editor.typeTester.isJsKarel()||e.editor.typeTester.isJavaKarel()||e.editor.typeTester.isConsole()||e.editor.typeTester.isGraphics()},run:s,config:{functionsFirstLetterLowercase:{type:"style",title:"Functions/Methods First Letter Lowercase",schema:{type:"object",properties:{run:{title:"Run this Grader?",type:"boolean",default:!0}}},form:["run"]},nestedFunctions:{type:"style",title:"Nested Functions/Methods",schema:{type:"object",properties:{run:{title:"Run this Grader?",type:"boolean",default:!0}}},form:["run"]},emptyFunctions:{type:"style",title:"Empty Functions/Methods",schema:{type:"object",properties:{run:{title:"Run this Grader?",type:"boolean",default:!0}}},form:["run"]},functionRedefinition:{type:"style",title:"Function/Method Redefinition",schema:{type:"object",properties:{run:{title:"Run this Grader?",type:"boolean",default:!0}}},form:["run"]},testMissingSemicolons:{type:"style",title:"Missing Semicolons",schema:{type:"object",properties:{run:{title:"Run this Grader?",type:"boolean",default:!0}}},form:["run"]}},tests:a}},{"../../editor/editorUtils.js":73,"../utils.js":42,lodash:504}],34:[function(e,t,n){"use strict";var i=e("lodash"),r=e("../utils.js").defaultRun;function o(e){var t,n;if("es"===window.pageSpecific.preferredLang)t="No debes redefinir <code>",n="</code> porque SuperKarel ya las conoce.";else t="You should not redefine <code>",n="</code> because SuperKarel already knows it.";i.has(e.code.functions,"turnRight")&&e.testResults.push({success:!1,message:t+"turnRight()"+n}),i.has(e.code.functions,"turnAround")&&e.testResults.push({success:!1,message:t+"turnAround()"+n})}o.defaults={run:!0};var a={noRedefineSuperKarel:o};var s=r({tests:a,category:"Style"});t.exports={shouldRun:function(e){return e.editor.typeTester.isSuperKarel()},run:s,config:{noRedefineSuperKarel:{type:"style",title:"No Redefine Super Karel",schema:{type:"object",properties:{run:{title:"Run this Grader?",type:"boolean",default:!0}}},form:["run"]}},tests:a}},{"../utils.js":42,lodash:504}],35:[function(e,t,n){"use strict";var i=e("lodash"),r=e("../../core/pubSub.js"),o=e("../wrappers/unitTestWrapperCpp.js"),a=e("../../editor/errors.js");t.exports={shouldRun:function(e){return i.has(e.editor.autograderConfig,"unitTestGraderCpp")&&e.editor.typeTester.isUnitTestCpp()},run:function(e,t){var n=t.autograderConfig.unitTestGraderCpp,i=o({studentCode:t.currentCode,solutionCode:t.solutionCode,testCases:n.tests,functionName:n.funcName,functionDeclaration:n.functionDeclaration,globalSetup:n.globalSetupCode}),s=$.Deferred();return t.runner.exec("make > output 2>&1 && ./grader || (echo compilationerror: && cat output)",i,{itemID:t.itemID,codeUserID:t.codeUserID}).then((function(e){var n=[];try{n=e.split("|").filter((function(e){return e.length>0})).map(JSON.parse)}catch(r){if(e.indexOf("compilationerror")>-1){var i,o=e.split("compilationerror:")[1],u=o.match(/student.cpp:(\d+):\d+/);u&&(i=u[1]),a.show({editor:t,message:"<pre>"+o+"</pre>",lineNumber:parseInt(i),fileName:"Unit Test",errorDisplay:"errorList",progtype:t.progtype,langType:"c++",log:!1})}n=[{message:"You had a compilation error in your code.",success:!1,isHiddenTest:!1,solutionOutput:"",studentOutput:"",test:"Oops!"}]}finally{n.forEach((function(e){if("Error"===e.test){var n=2===e.errorArgs.length?e.errorArgs[1]:void 0,i=0,r="";n&&n.length>=4&&(i=n[1],r=n[3]),a.show({editor:t,message:e.errorType+" <pre>"+r+"</pre>",lineNumber:parseInt(i),fileName:"Unit Test",errorDisplay:"errorList",progtype:t.progtype,langType:"python",log:!1})}e.showDiff=!0})),r.trigger("autograder:addTests",{tests:n}),s.resolve()}})),s}}},{"../../core/pubSub.js":60,"../../editor/errors.js":76,"../wrappers/unitTestWrapperCpp.js":55,lodash:504}],36:[function(e,t,n){"use strict";var i=e("lodash"),r=e("../../core/pubSub.js"),o=e("../wrappers/unitTestWrapperJava.js");t.exports={shouldRun:function(e){return i.has(e.editor.autograderConfig,"javaMethodUnitTests")&&e.editor.typeTester.isUnitTestJava()&&!e.editor.typeTester.codeHubJava()},run:function(e,t){var n,i=t.autograderConfig.javaMethodUnitTests,a=(n={mainClass:t.mainClass,studentCode:t.currentCode,solutionCode:t.solutionCode,testCases:i.tests},o({mainClass:n.mainClass,studentCode:n.studentCode,solutionCode:n.solutionCode,testCases:n.testCases}));delete a["Scratchpad.java"];var s=$.Deferred();return t.runner.run(a,{mainClass:"Grader",itemID:t.itemID,codeUserID:t.codeUserID}).done((function(e){e.forEach((function(e){e.showDiff=!0})),r.trigger("autograder:addTests",{tests:e}),s.resolve()})),s}}},{"../../core/pubSub.js":60,"../wrappers/unitTestWrapperJava.js":56,lodash:504}],37:[function(e,t,n){"use strict";var i=e("lodash"),r=e("../../core/pubSub.js"),o=e("../wrappers/unitTestWrapperJava.js");t.exports={shouldRun:function(e){return i.has(e.editor.autograderConfig,"javaMethodUnitTests")&&e.editor.typeTester.isUnitTestJava()&&e.editor.typeTester.codeHubJava()},run:function(e,t){var n,i=t.autograderConfig.javaMethodUnitTests,a=(n={mainClass:t.mainClass,studentCode:t.getCurrentCode(),solutionCode:t.solutionCode,testCases:i.tests},o({mainClass:n.mainClass,studentCode:n.studentCode,solutionCode:n.solutionCode,testCases:n.testCases}));delete a["Scratchpad.java"];var s=$.Deferred(),u="javac -cp /app/json.jar:/app/java-util-1.19.3.jar "+Object.keys(a).filter((function(e){return e.endsWith(".java")})).join(" ")+" && java -cp /app/json.jar:/app/java-util-1.19.3.jar:. Grader";return(t.wasShimmed?t.graderExec(u,a,{mainClass:"Grader",itemID:t.itemID,codeUserID:t.codeUserID}):t.runner.exec(u,a,{mainClass:"Grader",itemID:t.itemID,codeUserID:t.codeUserID})).then((function(e){try{e=JSON.parse(e.split("__unittests__")[1]).tests}catch(t){e=[]}finally{e.forEach((function(e){e.showDiff=!0})),r.trigger("autograder:addTests",{tests:e}),s.resolve()}})),s}}},{"../../core/pubSub.js":60,"../wrappers/unitTestWrapperJava.js":56,lodash:504}],38:[function(e,t,n){"use strict";var i=e("lodash"),r=e("../../core/pubSub.js"),o=e("../../editor/runners/unitTestRunnerJs.js"),a=e("../../editor/errors.js");t.exports={shouldRun:function(e){return i.has(e.editor.autograderConfig,"unitTestGraderJs")&&e.editor.typeTester.isUnitTestJavascript()},run:function(e,t){var n=t.autograderConfig.unitTestGraderJs,i=$("#JavascriptUnitTest").text();i=i||"(function() {\n        var testResults = [];\n        %StudentCode% // student code\n        %SolutionCode% // solution code\n        function assertEquals(test, studentOutput, solutionOutput, passMsg, failMsg, isHiddenTest) {\n            // Deep compare the results with underscore.\n            var success = _.isEqual(studentOutput, solutionOutput);\n            var message = success ? passMsg : failMsg;\n            testResults.push({\n                message:message,\n                // Stringify to get pretty printed objects and arrays.\n                solutionOutput: JSON.stringify(solutionOutput),\n                studentOutput: JSON.stringify(studentOutput),\n                success: success,\n                test:test,\n                isHiddenTest: isHiddenTest\n            });\n        }\n        %TestCases%\n        return testResults;\n    })();";var s='%SetupCode%assertEquals("%TestCall%", %StudentCall%,%SolutionCall%, "%PassMsg%", "%FailMsg%", %IsHiddenTest%);',u="",l="",c=0;n.tests.forEach((function(e){var t=e.call.slice(0,e.call.indexOf("("))+"wrapper"+c+"()",n=e.setupCode||"";l=s.replace("%TestCall%",e.call.replace(/"/g,'\\"').replace(/'/g,"\\'")).replace("%SetupCode%",n).replace("%StudentCall%",e.call).replace("%SolutionCall%",e.call.replace("(","Solution(")).replace("%PassMsg%",e.messagePass).replace("%FailMsg%",e.messageFail).replace("%IsHiddenTest%",e.isHiddenTest),u+="function "+t+"{"+l+"}"+t+";",c++}));var d=t.getCurrentCode()["Unit Test"];i=i.replace("%StudentCode%",d).replace("%SolutionCode%",n.solution).replace("%TestCases%",u);var p=new o(t).run(i);p.hasError?a.show({editor:t,message:p.error.name+": "+p.error.message,fileName:"Unit Test",errorDisplay:"errorList",progtype:t.progtype,langType:"non-karel-js",rawError:p.error,log:!1}):r.trigger("autograder:addTests",{tests:p.result})}}},{"../../core/pubSub.js":60,"../../editor/errors.js":76,"../../editor/runners/unitTestRunnerJs.js":156,lodash:504}],39:[function(e,t,n){"use strict";var i=e("lodash"),r=e("../../core/pubSub.js"),o=e("../../editor/runners/unitTestRunnerPython.js");t.exports={shouldRun:function(e){return i.has(e.editor.autograderConfig,"unitTestGraderPython")&&e.editor.typeTester.isUnitTestPython()},run:function(e,t){var n=t.autograderConfig.unitTestGraderPython,i=$("#PythonUnitTest").text(),a='%SetupCode%assertEquals("%TestCall%", %StudentCall%,%SolutionCall%, "%PassMsg%", "%FailMsg%", %IsHiddenTest%)\n',s="",u="",l=0;n.tests.forEach((function(e){var t=e.call.slice(0,e.call.indexOf("("))+"wrapper"+l+"()",n=e.setupCode||"";u=a.replace("%TestCall%",e.call.replace(/"/g,'\\"').replace(/'/g,"\\'")).replace("%SetupCode%",n+"\n    ").replace("%StudentCall%",e.call).replace("%SolutionCall%",e.call.replace("(","Solution(")).replace("%PassMsg%",e.messagePass).replace("%FailMsg%",e.messageFail).replace("%IsHiddenTest%",e.isHiddenTest?"True":"False"),s+="def "+t+":\n    "+u+"\n"+t+"\n",l++}));var c=t.currentCode["Unit Test"];i=i.replace("%GlobalSetupCode%",n.globalSetupCode||"").replace("%StudentCode%",c).replace("%SolutionCode%",n.solution).replace("%TestCases%",s);var d=$.Deferred();return new o(t).run(i).done((function(e){r.trigger("autograder:addTests",{tests:e}),d.resolve()})),d}}},{"../../core/pubSub.js":60,"../../editor/runners/unitTestRunnerPython.js":157,lodash:504}],40:[function(e,t,n){"use strict";var i=e("lodash"),r=e("../../core/pubSub.js"),o=e("../wrappers/unitTestWrapperPython3.js"),a=e("../../editor/errors.js");t.exports={shouldRun:function(e){return i.has(e.editor.autograderConfig,"unitTestGraderPython")&&e.editor.typeTester.isUnitTestPython3()},run:function(e,t){var n=t.autograderConfig.unitTestGraderPython,i=o({studentCode:t.getCurrentCode(),solutionCode:t.solutionCode,testCases:n.tests,functionName:n.funcName,globalSetup:n.globalSetupCode}),s=$.Deferred();return(t.wasShimmed?t.graderExec("python3 grader.py",i,{itemID:t.itemID,codeUserID:t.codeUserID}):t.runner.exec("python3 grader.py",i,{itemID:t.itemID,codeUserID:t.codeUserID})).then((function(e){var n;try{n=JSON.parse(e.split("__unittests__")[1])}catch(t){n=[{message:e,success:!1,isHiddenTest:!1,solutionOutput:"",studentOutput:"",test:"Oops!"}]}finally{n.forEach((function(e){if("Error"===e.test){var n=2===e.errorArgs.length?e.errorArgs[1]:void 0,i=0,r="";n&&n.length>=4&&(i=n[1],r=n[3]),a.show({editor:t,message:e.errorType+" <pre>"+r+"</pre>",lineNumber:parseInt(i),fileName:"Unit Test",errorDisplay:"errorList",progtype:t.progtype,langType:"python",log:!1})}e.showDiff=!0})),r.trigger("autograder:addTests",{tests:n}),s.resolve()}})),s}}},{"../../core/pubSub.js":60,"../../editor/errors.js":76,"../wrappers/unitTestWrapperPython3.js":57,lodash:504}],41:[function(e,t,n){"use strict";var i=e("lodash"),r=e("../utils/ajax.js"),o=e("../core/pubSub.js"),a=e("./components"),s=e("../editor/editorUtils.js").removeComments,u=e("../editor/karelTranslator.js"),l=e("../templates/autograder.hbs"),c={};function d(e){function t(e){return" "==e||"\n"==e||"\t"==e}for(var n="",i="",r="",o=0,a=!1,s=!1,u=!1,l={},c=0;c<e.length;c++){var d=e[c];if(t(d)||"{"==d||"}"==d?(n="","{"==d?o++:"}"==d&&o--):n+=d,s&&"}"==d&&0===o&&(l[i]=r,s=!1,n="",r="",i=""),s&&(r+=d),a&&"{"==d)for(a=!1,s=!0;t(e[c+1]);)c++;!a||t(d)||u||"("==d||")"==d||(i+=d),a&&"("==d?u=!0:a&&")"==d&&(u=!1),!s&&"function"==n&&t(e[c+1])&&(a=!0)}return l}function p(e){var t={};return t.original=e,t.withoutComments=s(t.original),t.functions=d(t.withoutComments),t}function h(e,t,n,r,s){if(r=r||{},r=i.defaults(r,{displayPopup:!0,editor:n}),(c={}).Additional=s=s||[],n.typeTester.isJavaKarel()){e=new u("java","js").translateJavaToJavaScript(e,!1)}t.grading=t.grading||{},t.prog_type=n.progTypeString,t.sqlSetup=n.sqlSetup;var l=p(e),d=i.map(a,(function(e){if(e.shouldRun(r))try{return e.run(l,n)}catch(e){return e}}));$.when.apply($,d).then((function(){var e=i.values(c).concat(s),t=[].concat.apply([],e),a=t.length,u=t.filter((function(e){return e.success})).length;try{document.getElementById("score-text").innerHTML=u+"/"+a;var l=u/a*100,p=100-l;document.getElementById("green-bar").style.width=l+"%",document.getElementById("grey-bar").style.width=p+"%",100==l?document.getElementById("green-bar").style.borderRadius="10px":100==p?document.getElementById("grey-bar").style.borderRadius="10px":(document.getElementById("green-bar").style.borderRadius="10px 0 0 10px",document.getElementById("grey-bar").style.borderRadius="0 10px 10px 0")}catch(e){}var h=0===t.length&&i.some(d);r.displayPopup?o.trigger("autograder:testingComplete",{tests:c,isOwnPage:n.isOwnPage(),isHourOfCode:n.isHourOfCode(),hasError:h}):o.trigger("gradingtab:unitTestsComplete",{tests:t,hasError:h,runsCompleted:d})}))}function f(e,t){t=t||c,i.has(e,"messagePass")&&(e.success?e.message=e.messagePass:e.message=e.messageFail,delete e.messagePass,delete e.messageFail);var n=e.category||"Functionality";t[n]?t[n].push(e):t[n]=[e]}Handlebars.registerHelper("ifCond",(function(e,t,n,i){switch(t){case"==":return e==n?i.fn(this):i.inverse(this);case"===":return e===n?i.fn(this):i.inverse(this);case"!=":return e!=n?i.fn(this):i.inverse(this);case"!==":return e!==n?i.fn(this):i.inverse(this);case"<":return e<n?i.fn(this):i.inverse(this);case"<=":return e<=n?i.fn(this):i.inverse(this);case">":return e>n?i.fn(this):i.inverse(this);case">=":return e>=n?i.fn(this):i.inverse(this);case"&&":return e&&n?i.fn(this):i.inverse(this);case"||":return e||n?i.fn(this):i.inverse(this);default:return i.inverse(this)}}));function m(e){var t=window.Handlebars.compile(l),n=e.tests,r=e.hasError||!1,a=function(e){return i.flatten(i.values(e))}(n),s=function(e){return e.filter((function(e){return e.aiTestCase}))}(a),u=function(e){return e.length}(a),c=function(e){return i.every(i.pluck(e,"success"))}(a)&&!r,d={funcTests:n.Functionality,styleTests:n.Style,aiTests:s,passed:c,hasTests:u,isUserLoggedIn:window.userData.isAuthenticated,ownPage:e.isOwnPage,isHourOfCode:e.isHourOfCode,isPractice:window.IS_PRACTICE,isPracticeLoggedOut:window.PRACTICE_LOGGED_OUT_EDITOR,isAbacus:window.pageSpecific.isAbacus||!1,prefLang:window.pageSpecific.preferredLang,freeResponse:window.pageSpecific.useFreeResponseAutograder||!1,aiGradingInProgress:e.aiGradingInProgress||!1,nextUrl:$("#next-url").data("url")+"#",practiceUrl:$("#practice-url").data("url")+"#"};$("#autograder-modal").modal("hide"),$("#autograder-modal").remove();var p=t(d);$("body").append(p),$("#autograder-modal").modal({backdrop:"static"}),$(".alert-close").on("click",(function(){o.trigger("utils:enableButton","#submit-button"),$("#autograder-modal").modal("hide"),$("#autograder-modal").remove()}))}o.on("autograder:testingComplete",(function(e){m(e)})),o.on("autograder:addTests",(function(e){i.each(e.tests,(function(e){f(e,c)}))})),o.on("autograder:run",(function(e,t,n,s){var l=[];function d(){o.trigger("editor:sr:statusUpdate","Code saved succesfully, running tests now"),window.pageSpecific.newAutograderSystem?function(e,t,n,r,s){r=r||{},r=i.defaults(r,{displayPopup:!0,editor:n}),c={},s=s||[],n.typeTester.isJavaKarel()&&(e=new u("java","js").translateJavaToJavaScript(e,!1));t.grading=t.grading||{},t.prog_type=n.progTypeString,t.sqlSetup=n.sqlSetup;var l=p(e);window.pageSpecific.newAutograderSystem.tests.map((function(e){return function(){0===e.type?n.autograderCode=e.data:1===e.type&&(n.autograderConfig=e.data);var t=a.map((function(e){if(e.shouldRun(r))try{return e.run(l,n)}catch(e){return e}}));return Promise.all(t)}})).reduce((function(e,t){return e.then(t)}),Promise.resolve()).then((function(){var e=i.values(c),t=0===e.length;r.displayPopup?o.trigger("autograder:testingComplete",{tests:e.concat(s),isOwnPage:n.isOwnPage(),isHourOfCode:!1,hasError:t}):o.trigger("gradingtab:unitTestsComplete",{tests:i.flatten(e).concat(s)})}))}(e,t,n,s,l):h(e,t,n,s,l),r.send({method:"track_autograder_run",app:"events",data:{item_id:n.itemID,user_id:n.codeUserID,code:e,student_assignment_id:n.studentAssignmentID,from_submit_button:s.displayPopup}})}void 0!==s.aiTestCases?(s.aiCacheOnly||m({aiGradingInProgress:!0,tests:{}}),r.send({app:"ai",method:"ai_autograde",data:{item_id:n.itemID,student_id:n.codeUserID,student_assignment_id:n.studentAssignmentID,test_cases:s.aiTestCases,cache_only:s.aiCacheOnly},success:function(e){"ok"===e.status?(o.trigger("editor:sr:statusUpdate","Code Check has been Completed"),l=e.result.map((function(e){return{success:e.pass,message:e.reason||e.criteria,category:e.criteria,showDropdown:!1,showDiff:!1,solutionOutput:null,studentOutput:null,isHiddenTest:!1,aiTestCase:!0}})),d()):s.aiCacheOnly?d():window.toastr.error(e.message)},error:function(e){window.toastr.error("Something went wrong with the AI, please try again.")}})):d()})),t.exports={Components:a,run:h,addTest:f,getCodeObject:p,getFunctionContents:d}},{"../core/pubSub.js":60,"../editor/editorUtils.js":73,"../editor/karelTranslator.js":88,"../templates/autograder.hbs":177,"../utils/ajax.js":185,"./components":28,lodash:504}],42:[function(e,t,n){"use strict";var i=e("lodash"),r=e("../core/pubSub.js");t.exports={defaultRun:function(e){return function(t,n){var o=[],a={testResults:o,code:t,editor:n};i.each(e.tests,(function(e,t){var i=n.autograderConfig[t];a.config=i,a.config&&a.config.run&&e(a)})),r.trigger("autograder:addTests",{tests:i.map(o,(function(t){return t.category=e.category,t}))})}}}},{"../core/pubSub.js":60,lodash:504}],43:[function(e,t,n){t.exports="all: grader\n\ngrader: grader.o\n\tg++ -o grader grader.o student.o solution.o\n\n%.o : %.cpp\n\tg++ -g -o $@ -c $<\n\ngrader.o: grader.cpp student.o solution.o\n"},{}],44:[function(e,t,n){t.exports='#include <iostream>   // std::cout\n#include "solution.h"\n#include "student.h"\n\n// TODO: https://stackoverflow.com/questions/43799070/include-as-in-c\n// change the way imports work to support #includes in the student and solution files\n\ntemplate <typename T>\nvoid assert(std::string test_name, T solutionResult, T studentResult, std::string message_pass, std::string message_fail, bool is_hidden) {\n\tbool passed = (studentResult == solutionResult);\n    // ye may speak\n    std::cout.clear();\n    // utter chaos. we could do a library or something for writing JSON or just our own format\n    // for parsing, but this was fastest to do i guess.\n\tstd::cout << "{\\"message\\": \\"" << (passed ? message_pass : message_fail) << "\\"," << std::endl;\n    std::cout << "\\"test\\": \\"" << test_name << "\\"," << std::endl;\n    std::cout << "\\"success\\": " << (passed ? "true" : "false") << "," << std::endl;\n    std::cout << "\\"isHiddenTest\\": " << (is_hidden ? "true" : "false") << "," << std::endl;\n    std::cout << "\\"studentOutput\\": \\"" << studentResult << "\\",";\n    std::cout << "\\"solutionOutput\\": \\"" << solutionResult << "\\"";\n    std::cout << "}|";\n}\n\nint main() {\n    ${assertions}\n    std::cout.clear();\n}\n'},{}],45:[function(e,t,n){t.exports="namespace Solution {\n    ${solutionFunctionDefinition}\n}"},{}],46:[function(e,t,n){t.exports="namespace Solution {\n    extern ${solutionFunctionDeclaration};\n}\n"},{}],47:[function(e,t,n){t.exports="${studentFunctionDefinition}"},{}],48:[function(e,t,n){t.exports='namespace Student {\n\t#include "student.cpp"\n}\n'},{}],49:[function(e,t,n){t.exports='// SILENCE\nstd::cout.setstate(std::ios_base::failbit);\nassert("${fName}(${args})", Solution::${fName}(${args}), Student::${fName}(${args}), "${mPass}", "${mFail}", ${hidden ? true : false});\n'},{}],50:[function(e,t,n){t.exports='import java.util.ArrayList;\nimport java.lang.StringBuilder;\nimport java.util.*;\nimport java.util.regex.*;\n\nimport org.json.*;\nimport com.cedarsoftware.util.*;\n\nclass Autograder {\n    public Autograder() {\n        tests = new ArrayList<TestCase>();\n    }\n\n    public <T> void assertEqual(String test, T studentOutput, T solutionOutput, String messagePass, String messageFail, boolean isHiddenTest) {\n        String studentOutputString = outputToString(studentOutput);\n        String solutionOutputString = outputToString(solutionOutput);\n        boolean success = compare(studentOutput, solutionOutput);\n        String message = success ? messagePass : messageFail;\n        tests.add(new TestCase(test, success, message, studentOutputString, solutionOutputString, isHiddenTest));\n    }\n\n    private static final double DOUBLE_EPSILON = 1e-6;\n    private static final double FLOAT_EPSILON = 1e-6;\n    private static final double NEAR_ZERO_TOLERANCE = 0.001;\n\n    /**\n     * Compare if two floating point numbers are within a given range\n     *\n     * Source:\n     * https://github.com/jdereg/java-util/blob/master/src/main/java/com/cedarsoftware/util/DeepEquals.java#L507\n     */\n    private static boolean compareFloatingPointNumbers(Object a, Object b, double epsilon) {\n        double a1 = a instanceof Double ? (Double) a : (Float) a;\n        double b1 = b instanceof Double ? (Double) b : (Float) b;\n        return nearlyEqual(a1, b1, epsilon);\n    }\n\n    /**\n     * Correctly handles floating point comparisions. <br>\n     * source: http://floating-point-gui.de/errors/comparison/\n     *\n     * Source:\n     * https://github.com/jdereg/java-util/blob/master/src/main/java/com/cedarsoftware/util/DeepEquals.java#L523\n     *\n     * @param a       first number\n     * @param b       second number\n     * @param epsilon double tolerance value\n     * @return true if a and b are close enough\n     */\n    private static boolean nearlyEqual(double a, double b, double epsilon) {\n        final double absA = Math.abs(a);\n        final double absB = Math.abs(b);\n        final double diff = Math.abs(a - b);\n\n        if (a == b) { // shortcut, handles infinities\n            return true;\n        } else if (a == 0 || b == 0 || diff < Double.MIN_NORMAL) {\n            return diff < NEAR_ZERO_TOLERANCE;\n            // return diff < (epsilon * Double.MIN_NORMAL);\n            // The above line was used in the original form of this `nearlyEqual`\n            // method found in the JavaUtil library. We have changed the logic\n            // to better suit our needs. The issue was that it is much\n            // stricter when one value is nearly zero and the other is exactly\n            // zero. This point is documented here:\n            // http://floating-point-gui.de/errors/comparison/\n        } else { // use relative error\n            return diff / (absA + absB) < epsilon;\n        }\n    }\n\n    private static boolean compare(Object studentOutput, Object solutionOutput) {\n        if (studentOutput instanceof Double && solutionOutput instanceof Double) {\n            return compareFloatingPointNumbers(studentOutput, solutionOutput, DOUBLE_EPSILON);\n        } else if (studentOutput instanceof Float && solutionOutput instanceof Float) {\n            return compareFloatingPointNumbers(studentOutput, solutionOutput, FLOAT_EPSILON);\n        } else {\n            return DeepEquals.deepEquals(studentOutput, solutionOutput);\n        }\n    }\n\n    /**\n     * Static method to convert arbitrary objects to strings.\n     *\n     * Currently supports Array, List, and Object.\n     */\n    private static String outputToString(Object output) {\n        // Array support\n        if (output.getClass().isArray()) {\n            if (output instanceof byte[])\n                return Arrays.toString((byte[]) output);\n            else if (output instanceof short[])\n                return Arrays.toString((short[]) output);\n            else if (output instanceof int[])\n                return Arrays.toString((int[]) output);\n            else if (output instanceof long[])\n                return Arrays.toString((long[]) output);\n            else if (output instanceof char[])\n                return Arrays.toString((char[]) output);\n            else if (output instanceof float[])\n                return Arrays.toString((float[]) output);\n            else if (output instanceof double[])\n                return Arrays.toString((double[]) output);\n            else if (output instanceof boolean[])\n                return Arrays.toString((boolean[]) output);\n            else\n                return Arrays.deepToString((Object[]) output);\n        // List support\n        } else if(output instanceof List) {\n            // Inefficient, but clean and easy to understand.\n            return Arrays.deepToString(((List)output).toArray());\n        // Catch all\n        } else {\n            // TODO Add type string annotation for every output. This should\n            // be handled in a separate method.\n            if (output instanceof Float) {\n                return output.toString() + "f";\n            } else {\n                return output.toString();\n            }\n        }\n    }\n\n    public String toString() {\n        JSONObject jsonResults = new JSONObject();\n        JSONArray jsonTests = new JSONArray();\n        jsonResults.put("tests", jsonTests);\n        for (int i = 0; i < tests.size(); i++) {\n            TestCase test = tests.get(i);\n            JSONObject jsonTest = new JSONObject();\n            jsonTest.put("success", test.success);\n            jsonTest.put("test", test.test);\n            jsonTest.put("message", test.message);\n            jsonTest.put("studentOutput", test.studentOutput);\n            jsonTest.put("solutionOutput", test.solutionOutput);\n            jsonTest.put("isHiddenTest", test.isHiddenTest);\n            jsonTests.put(jsonTest);\n        }\n        return "__unittests__" + jsonResults.toString();\n    }\n\n    private ArrayList<TestCase> tests;\n\n    class TestCase {\n        public TestCase(String test, boolean success, String message, Object studentOutput, Object solutionOutput, boolean isHiddenTest) {\n            this.success = success;\n            this.message = message;\n            this.studentOutput = studentOutput;\n            this.solutionOutput = solutionOutput;\n            this.test = test;\n            this.isHiddenTest = isHiddenTest;\n        }\n\n        private String message;\n        private boolean success;\n        private Object studentOutput;\n        private Object solutionOutput;\n        private String test;\n        private boolean isHiddenTest;\n    }\n}\n'},{}],51:[function(e,t,n){t.exports="import java.util.*;\n\npublic class Grader extends Autograder {\n    ${studentUnitTestCode} // student code\n\n    ${solutionUnitTestCode} // solution code\n\n    public static void main(String [] args) {\n        Grader grader = new Grader();\n        ${testCases}\n        System.out.println(grader);\n    }\n}\n"},{}],52:[function(e,t,n){t.exports='{\n    Object studentOutput;\n    try {\n        ${setupCode}\n        studentOutput = grader.${studentCall};\n    } catch (Exception e) {\n        studentOutput = e;\n    }\n\n\n    Object solutionOutput;\n    try {\n        ${setupCode}\n        solutionOutput = grader.${solutionCall};\n    } catch (Exception e) {\n        solutionOutput = e;\n    }\n\n    grader.assertEqual(\n        ${studentCallString},\n        studentOutput,\n        solutionOutput,\n        "${messagePass}",\n        "${messageFail}",\n        ${isHiddenTest}\n    );\n}\n'},{}],53:[function(e,t,n){t.exports='import json\nimport operator\n\ndef deep_eq(_v1, _v2):\n    def _deep_dict_eq(d1, d2):\n        k1, k2 = (sorted(d1.keys()), sorted(d2.keys()))\n        if k1 != k2:\n            return False\n        return operator.eq(sum(deep_eq(d1[k], d2[k]) for k in k1), len(k1))\n\n    def _deep_iter_eq(l1, l2):\n        if len(l1) != len(l2):\n            return False\n        return operator.eq(sum(deep_eq(v1, v2) for v1, v2 in zip(l1, l2)), len(l1))\n\n    def op(a, b):\n        _op = operator.eq\n        return _op(a, b)\n\n    c1, c2 = (_v1, _v2)\n\n    if isinstance(_v1, str):\n        pass\n    else:\n        if isinstance(_v1, dict):\n            op = _deep_dict_eq\n        else:\n            try:\n                c1, c2 = list(_v1), list(_v2)\n            except TypeError:\n                c1, c2 = _v1, _v2\n            else:\n                op = _deep_iter_eq\n\n    return op(c1, c2)\n\ntest_results = []\n\ndef assert_equals(test, student_output, solution_output, pass_msg="Good job!", fail_msg="Try again!", is_hidden=False):\n    success = deep_eq(student_output, solution_output)\n    message = pass_msg if success else fail_msg\n\n    test_results.append({\n      "message": message,\n      # Convert to strings to avoid being parsed back into objects on js side.\n      "solutionOutput": str(solution_output),\n      "studentOutput": str(student_output),\n      "success": success,\n      "test": test,\n      "isHiddenTest": is_hidden\n    });\n\n${globalSetup}\n\nstudent_import_error = False\nsolution_import_error = False\ntry:\n    from studentcode import ${functionName} as __student_function\nexcept Exception as e:\n    student_import_error = True\n    if e.__class__ == ImportError:\n        test_results.append({\n            "message": \'You need to define a function called "${functionName}"\',\n            # Convert to strings to avoid being parsed back into objects on js side.\n            "solutionOutput": "",\n            "studentOutput": "",\n            "success": False,\n            "test": "Define ${functionName}",\n            "isHiddenTest": False\n        })\n    else:\n        test_results.append({\n            "message": "Error",\n            "errorType": e.__class__.__name__,\n            "errorArgs": e.args,\n            # Convert to strings to avoid being parsed back into objects on js side.\n            "solutionOutput": "",\n            "studentOutput": "",\n            "success": False,\n            "test": "Error",\n            "isHiddenTest": False\n        })\n\ntry:\n    from solutioncode import ${functionName} as __solution_function\nexcept ImportError:\n    solution_import_error = True\n    test_results.append({\n        "message": \'We messed up. Send a link to this problem to support@codehs.com\',\n        # Convert to strings to avoid being parsed back into objects on js side.\n        "solutionOutput": "",\n        "studentOutput": "",\n        "success": False,\n        "test": "Oops!",\n        "isHiddenTest": False\n    })\n\nif (student_import_error or solution_import_error):\n    # there\'s a templating issue where the testCases have to be the whole way\n    # to the left, so i\'m exiting here rather than inverting the "if" above\n    # and putting the testCases here\n    print(\'__unittests__\' + json.dumps(test_results))\n    import sys;sys.exit()\n\n# TestCases will be inserted here via js.\n${testCases}\n\n\'\'\' Print out the results of the tests.\nWe append __unittests__ to the beginning of the results so that any misc\nuser stdio (prints) will not interfere with our rewiring of stdio to get the\nresults of the unit tests. After appending we only have to search for the\nstdio which begins with __unittests__ to know we have received the results.\'\'\'\n\nprint(\'__unittests__\' + json.dumps(test_results))\n'},{}],54:[function(e,t,n){t.exports="__student_output = (\n    'Oops! There was a problem' +\n    ' that prevented your code from running.'\n)\n__solution_output = (\n    'Oops! There was a problem' +\n    ' with our autograder. Please contact support@codehs.com.'\n)\n\ntry:\n    ${setupCode}\n    __student_output = ${studentCall}\nexcept Exception as e:\n    __student_output = e\n\ntry:\n    ${setupCode}\n    __solution_output = ${solutionCall}\nexcept Exception as e:\n    __solution_output = e\n\nassert_equals(${studentCallString}, __student_output, __solution_output, \"${messagePass}\", \"${messageFail}\", ${isHiddenTest} )\n"},{}],55:[function(e,t,n){var i=e("es6-template-strings"),r=e("./templates/cpp/grader.cpp.txt"),o=e("./templates/cpp/student.h.txt"),a=e("./templates/cpp/solution.h.txt"),s=e("./templates/cpp/student.cpp.txt"),u=e("./templates/cpp/solution.cpp.txt"),l=e("./templates/cpp/test.cpp.txt"),c=e("./templates/cpp/Makefile.txt");t.exports=function(e){var t=e.studentCode["Unit Test"],n=e.solutionCode["Unit Test"];return{"grader.cpp":i(r,{assertions:e.testCases.map((function(t){return function(e,t){return i(l,{fName:t,args:e.args,mPass:e.messagePass,mFail:e.messageFail,hidden:e.isHiddenTest})}(t,e.functionName)})).join("\n")}),"student.h":i(o,{studentFunctionDeclaration:e.functionDeclaration}),"student.cpp":i(s,{studentFunctionDefinition:t}),"solution.h":i(a,{solutionFunctionDeclaration:e.functionDeclaration}),"solution.cpp":i(u,{solutionFunctionDefinition:n}),Makefile:c}}},{"./templates/cpp/Makefile.txt":43,"./templates/cpp/grader.cpp.txt":44,"./templates/cpp/solution.cpp.txt":45,"./templates/cpp/solution.h.txt":46,"./templates/cpp/student.cpp.txt":47,"./templates/cpp/student.h.txt":48,"./templates/cpp/test.cpp.txt":49,"es6-template-strings":416}],56:[function(e,t,n){var i=e("es6-template-strings"),r=e("./templates/java/Grader.java"),o=e("./templates/java/Autograder.java"),a=e("./templates/java/test-case-template.java");t.exports=function(e){var t=e.mainClass;t&&"Scratchpad.java"!==t||(t="Unit Test");var n,s,u=e.solutionCode[t].match(/([a-zA-Z0-9]+)\(/)[1],l={studentUnitTestCode:e.studentCode[t],solutionUnitTestCode:e.solutionCode[t].replace(new RegExp(u+"\\(","g"),u+"Solution("),testCases:(n=e.testCases,s=[],n.forEach((function(e){s.push(i(a,{studentCallString:JSON.stringify(e.call),studentCall:e.call,solutionCall:e.call.replace("(","Solution("),messagePass:e.messagePass||"Great!",messageFail:e.messageFail||"Not Quite",setupCode:e.setupCode||"",isHiddenTest:e.isHiddenTest||!1}))})),s.join("\n"))},c={"Grader.java":i(r,l),"Autograder.java":o};return Object.keys(e.studentCode).forEach((function(n){n!==t&&(c[n]=e.studentCode[n])})),c}},{"./templates/java/Autograder.java":50,"./templates/java/Grader.java":51,"./templates/java/test-case-template.java":52,"es6-template-strings":416}],57:[function(e,t,n){var i=e("es6-template-strings"),r=e("./templates/python3/grader.txt"),o=e("./templates/python3/test-case-template.txt");t.exports=function(e){var t,n,a={studentUnitTestCode:e.studentCode["Unit Test"],globalSetup:e.globalSetup,solutionUnitTestCode:e.solutionCode["Unit Test"].replace("(","_solution("),testCases:(t=e.testCases,n=[],t.forEach((function(e){n.push(i(o,{studentCallString:JSON.stringify(e.call),studentCall:"__student_function("+e.args+")",solutionCall:"__solution_function("+e.args+")",messagePass:e.messagePass||"Great!",messageFail:e.messageFail||"Not Quite",setupCode:e.setupCode||"",isHiddenTest:e.isHiddenTest?"True":"False"}))})),n.join("\n")),functionName:e.functionName};return{"grader.py":i(r,a),"studentcode.py":e.studentCode["Unit Test"],"solutioncode.py":e.solutionCode["Unit Test"]}}},{"./templates/python3/grader.txt":53,"./templates/python3/test-case-template.txt":54,"es6-template-strings":416}],58:[function(e,t,n){t.exports={AEStates:{AE_TO_COUNTRY:{dmonday:["CAN","GBR","AFG","AGO","ABW","BHS","BEL","BVT","BRN","BFA","CMR","CHL","COM","HRV","DNK","ETH","FJI","ATF","GRL","GGY","GUY","HUN","IRL","KAZ","KWT","LBR","MDG","MTQ","MDA","NAM","NER","PSE","PAN","POL","REU","SHN","VCT","SXM","ZAF","SUR","TJK","TUV","ARE","UMI","URY","ZMB"],adam:[],afuller:["JAM","ASM","ARM","BLR","BIH","CCK","COK","CZE","SLV","FLK","GUF","GEO","GTM","HND","IRN","KIR","PRK","LSO","LUX","MKD","MLI","MCO","MOZ","NOR","PLW","PHL","PRI","RWA","MAF","SEN","SLB","SSD","LKA","SWE","ERI","FIN","DEU","GRD","HTI","ISL","ISR","JEY","KGZ","LBY","MWI","DZA","AZE","BOL","IOT","BDI","CAF","CXR","COD","CIV","ECU"],hannahbray:["ARG","ESP","MEX","PER","WSM","SRB","SVN","SGS","CHE","TON","TKM","VIR","ESH","ALA","AIA","ATA","BGD","BLZ","BTN","BES","CYM","COG","CYP","DOM","MAR","NLD","NCL","NFK","RUS","LCA","SAU","SVK","SWZ","TZA","TLS","TGO","UKR","VEN","LIE","MYS","MUS","FSM","MSR","MMR","NPL","NIU","PRY","STP","SGP","SJM","MRT","MYT","MNE","NRU","NZL","NGA","PNG","PRT","ROU","KNA","SMR","SLE"],tmeng:["CHN","TKL","TUR","VUT","VNM","WLF","EST","GAB","GHA","GLP","GNB","HMD","IND","IMN","ITA","JOR","LAO","EGY","GNQ","PYF","GMB","GRC","GIN","HKG","IRQ","JPN","LVA","TWN","THA","TUN","UGA","UZB","ZWE","SYC","SOM","SDN","SYR","FRO","FRA","GIB","GUM","VAT","IDN","KEN","LBN","LTU","MDV","MHL"],sting:["KOR","AUS","MAC","MLT","MNG","NIC","MNP","OMN","PAK","PCN","QAT","BLM","SPM","AND","AUT","BRB","BEN","BWA","VGB","KHM","TCD","COL","CRI","CUW","ALB","ANT","ATG","BHR","BMU","BRA","BGR","CPV","CUB","DJI","DMA","TTO","TCA","UMI","YEM"]},AE_TO_STATE:{nate:["FL","MA","ME","NC","NH","RI","VT"],adam:[],haley:["CT","NJ","NY","TX"],hannahbray:["CO","DC","DE","MD","PA","VA","WV"],tmeng:["ID","MT","NV","OR","UT","WA","WY"],kcollins:["AL","GA","LA","MS","SC"],sting:["AK","AZ","CA","NM","OK"],afuller:["IA","IL","MI","MN","ND","OH","SD","WI"],dmonday:["AR","KS","KY","MO","NE","TN"],hperez:[],mark:["IN"]},BANK:["HI"],COUNTRY_TO_AE:{CAN:"dmonday",GBR:"dmonday",AFG:"dmonday",AGO:"dmonday",ABW:"dmonday",BHS:"dmonday",BEL:"dmonday",BVT:"dmonday",BRN:"dmonday",BFA:"dmonday",CMR:"dmonday",CHL:"dmonday",COM:"dmonday",HRV:"dmonday",DNK:"dmonday",ETH:"dmonday",FJI:"dmonday",ATF:"dmonday",GRL:"dmonday",GGY:"dmonday",GUY:"dmonday",HUN:"dmonday",IRL:"dmonday",KAZ:"dmonday",KWT:"dmonday",LBR:"dmonday",MDG:"dmonday",MTQ:"dmonday",MDA:"dmonday",NAM:"dmonday",NER:"dmonday",PSE:"dmonday",PAN:"dmonday",POL:"dmonday",REU:"dmonday",SHN:"dmonday",VCT:"dmonday",SXM:"dmonday",ZAF:"dmonday",SUR:"dmonday",TJK:"dmonday",TUV:"dmonday",ARE:"dmonday",UMI:"sting",URY:"dmonday",ZMB:"dmonday",JAM:"afuller",ASM:"afuller",ARM:"afuller",BLR:"afuller",BIH:"afuller",CCK:"afuller",COK:"afuller",CZE:"afuller",SLV:"afuller",FLK:"afuller",GUF:"afuller",GEO:"afuller",GTM:"afuller",HND:"afuller",IRN:"afuller",KIR:"afuller",PRK:"afuller",LSO:"afuller",LUX:"afuller",MKD:"afuller",MLI:"afuller",MCO:"afuller",MOZ:"afuller",NOR:"afuller",PLW:"afuller",PHL:"afuller",PRI:"afuller",RWA:"afuller",MAF:"afuller",SEN:"afuller",SLB:"afuller",SSD:"afuller",LKA:"afuller",SWE:"afuller",ERI:"afuller",FIN:"afuller",DEU:"afuller",GRD:"afuller",HTI:"afuller",ISL:"afuller",ISR:"afuller",JEY:"afuller",KGZ:"afuller",LBY:"afuller",MWI:"afuller",DZA:"afuller",AZE:"afuller",BOL:"afuller",IOT:"afuller",BDI:"afuller",CAF:"afuller",CXR:"afuller",COD:"afuller",CIV:"afuller",ECU:"afuller",ARG:"hannahbray",ESP:"hannahbray",MEX:"hannahbray",PER:"hannahbray",WSM:"hannahbray",SRB:"hannahbray",SVN:"hannahbray",SGS:"hannahbray",CHE:"hannahbray",TON:"hannahbray",TKM:"hannahbray",VIR:"hannahbray",ESH:"hannahbray",ALA:"hannahbray",AIA:"hannahbray",ATA:"hannahbray",BGD:"hannahbray",BLZ:"hannahbray",BTN:"hannahbray",BES:"hannahbray",CYM:"hannahbray",COG:"hannahbray",CYP:"hannahbray",DOM:"hannahbray",MAR:"hannahbray",NLD:"hannahbray",NCL:"hannahbray",NFK:"hannahbray",RUS:"hannahbray",LCA:"hannahbray",SAU:"hannahbray",SVK:"hannahbray",SWZ:"hannahbray",TZA:"hannahbray",TLS:"hannahbray",TGO:"hannahbray",UKR:"hannahbray",VEN:"hannahbray",LIE:"hannahbray",MYS:"hannahbray",MUS:"hannahbray",FSM:"hannahbray",MSR:"hannahbray",MMR:"hannahbray",NPL:"hannahbray",NIU:"hannahbray",PRY:"hannahbray",STP:"hannahbray",SGP:"hannahbray",SJM:"hannahbray",MRT:"hannahbray",MYT:"hannahbray",MNE:"hannahbray",NRU:"hannahbray",NZL:"hannahbray",NGA:"hannahbray",PNG:"hannahbray",PRT:"hannahbray",ROU:"hannahbray",KNA:"hannahbray",SMR:"hannahbray",SLE:"hannahbray",CHN:"tmeng",TKL:"tmeng",TUR:"tmeng",VUT:"tmeng",VNM:"tmeng",WLF:"tmeng",EST:"tmeng",GAB:"tmeng",GHA:"tmeng",GLP:"tmeng",GNB:"tmeng",HMD:"tmeng",IND:"tmeng",IMN:"tmeng",ITA:"tmeng",JOR:"tmeng",LAO:"tmeng",EGY:"tmeng",GNQ:"tmeng",PYF:"tmeng",GMB:"tmeng",GRC:"tmeng",GIN:"tmeng",HKG:"tmeng",IRQ:"tmeng",JPN:"tmeng",LVA:"tmeng",TWN:"tmeng",THA:"tmeng",TUN:"tmeng",UGA:"tmeng",UZB:"tmeng",ZWE:"tmeng",SYC:"tmeng",SOM:"tmeng",SDN:"tmeng",SYR:"tmeng",FRO:"tmeng",FRA:"tmeng",GIB:"tmeng",GUM:"tmeng",VAT:"tmeng",IDN:"tmeng",KEN:"tmeng",LBN:"tmeng",LTU:"tmeng",MDV:"tmeng",MHL:"tmeng",KOR:"sting",AUS:"sting",MAC:"sting",MLT:"sting",MNG:"sting",NIC:"sting",MNP:"sting",OMN:"sting",PAK:"sting",PCN:"sting",QAT:"sting",BLM:"sting",SPM:"sting",AND:"sting",AUT:"sting",BRB:"sting",BEN:"sting",BWA:"sting",VGB:"sting",KHM:"sting",TCD:"sting",COL:"sting",CRI:"sting",CUW:"sting",ALB:"sting",ANT:"sting",ATG:"sting",BHR:"sting",BMU:"sting",BRA:"sting",BGR:"sting",CPV:"sting",CUB:"sting",DJI:"sting",DMA:"sting",TTO:"sting",TCA:"sting",YEM:"sting"},STATE_TO_AE:{FL:"nate",MA:"nate",ME:"nate",NC:"nate",NH:"nate",RI:"nate",VT:"nate",CT:"haley",NJ:"haley",NY:"haley",TX:"haley",CO:"hannahbray",DC:"hannahbray",DE:"hannahbray",MD:"hannahbray",PA:"hannahbray",VA:"hannahbray",WV:"hannahbray",ID:"tmeng",MT:"tmeng",NV:"tmeng",OR:"tmeng",UT:"tmeng",WA:"tmeng",WY:"tmeng",AL:"kcollins",GA:"kcollins",LA:"kcollins",MS:"kcollins",SC:"kcollins",AK:"sting",AZ:"sting",CA:"sting",NM:"sting",OK:"sting",IA:"afuller",IL:"afuller",MI:"afuller",MN:"afuller",ND:"afuller",OH:"afuller",SD:"afuller",WI:"afuller",AR:"dmonday",KS:"dmonday",KY:"dmonday",MO:"dmonday",NE:"dmonday",TN:"dmonday",IN:"mark"},STRINGS:{},ae:"sting",countries:["KOR","AUS","MAC","MLT","MNG","NIC","MNP","OMN","PAK","PCN","QAT","BLM","SPM","AND","AUT","BRB","BEN","BWA","VGB","KHM","TCD","COL","CRI","CUW","ALB","ANT","ATG","BHR","BMU","BRA","BGR","CPV","CUB","DJI","DMA","TTO","TCA","UMI","YEM"],country:"YEM",state:"IN",states:["IN"]},AIAutograderSetting:{BACKGROUND:1,CHOICES:[[0,"Off"],[1,"Background"],[2,"Immediate"]],IMMEDIATE:2,OFF:0,STRINGS:{0:"Off",1:"Background",2:"Immediate"}},AIModel:{ANTHROPIC:[6,7],CHOICES:[[0,"gpt-3.5-turbo"],[1,"gpt-4"],[2,"command"],[3,"command-nightly"],[4,"command-light"],[5,"command-light-nightly"],[6,"claude-2"],[7,"claude-instant-1"]],CHS_TOKENS_PER_DOLLAR:1e5,CLAUDE:6,CLAUDE_INSTANT:7,COHERE:[2,3,4,5],COMMAND:2,COMMAND_LIGHT:4,COMMAND_LIGHT_NIGHTLY:5,COMMAND_NIGHTLY:3,COMPLETION_PRICE_DICT:{0:.0015,1:.06,8:.03,6:.03268,7:.00551,2:0,3:0,4:0,5:0},GPT_3_5_TURBO:0,GPT_4:1,GPT_4_TURBO:8,MAX_TOKENS_DICT:{0:4096,1:8192,2:4096,3:4096,4:4096,5:4096,6:8192,7:8192},OPEN_AI:[0,1,8],PROMPT_PRICE_DICT:{0:5e-4,1:.03,8:.01,6:.01102,7:.00163,2:0,3:0,4:0,5:0},STRINGS:{0:"gpt-3.5-turbo",1:"gpt-4",8:"gpt-4-1106-preview",2:"command",3:"command-nightly",4:"command-light",5:"command-light-nightly",6:"claude-2",7:"claude-instant-1"}},AIRequestType:{AUTOGRADE:4,CHANGE_DIFFICULTY:3,CHOICES:[[0,"Student Hint"],[1,"Suggested Grade"],[3,"Change Difficulty"],[4,"Autograde"]],LIVE_CHOICES:[[0,"Student Hint"],[1,"Suggested Grade"],[4,"Autograde"]],STRINGS:{0:"Student Hint",1:"Suggested Grade",3:"Change Difficulty",4:"Autograde"},STUDENT_HINT:0,SUGGESTED_GRADE:1},APCSPStandardCTP:{CHOICES:[["P1","Connecting Computing"],["P2","Creating Computational Artifacts"],["P3","Abstracting"],["P4","Analyzing Problems and Artifacts"],["P5","Communicating"],["P6","Collaborating"]],DESCRIPTION:{P1:"Connecting Computing",P2:"Creating Computational Artifacts",P3:"Abstracting",P4:"Analyzing Problems and Artifacts",P5:"Communicating",P6:"Collaborating"},STRINGS:{}},APCSPStandardEU:{CHOICES:[["1.1","Creative development can be an essential process for creating computational artifacts."],["1.2","Computing enables people to use creative development processes to create computational artifacts for creative expression or to solve a problem."],["1.3","Computing can extend traditional forms of human expression and experience."],["2.1","A variety of abstractions built upon binary sequences can be used to represent all digital data."],["2.2","Multiple levels of abstraction are used to write programs or create other computational artifacts"],["2.3","Models and simulations use abstraction to generate new understanding and knowledge."],["3.1","People use computer programs to process information to gain insight and knowledge."],["3.2","Computing facilitates exploration and the discovery of connections in information."],["3.3","There are trade offs when representing information as digital data."],["4.1","Algorithms are precise sequences of instructions for processes that can be executed by a computer and are implemented using programming languages."],["4.2","Algorithms can solve many but not all computational problems."],["5.1","Programs can be developed for creative expression, to satisfy personal curiosity, to create new knowledge, or to solve problems (to help people, organizations, or society)."],["5.2","People write programs to execute algorithms."],["5.3","Programming is facilitated by appropriate abstractions."],["5.4","Programs are developed, maintained, and used by people for different purposes."],["5.5","Programming uses mathematical and logical concepts."],["6.1","The Internet is a network of autonomous systems."],["6.2","Characteristics of the Internet influence the systems built on it."],["6.3","Cybersecurity is an important concern for the Internet and the systems built on it."],["7.1","Computing enhances communication, interaction, and cognition."],["7.2","Computing enables innovation in nearly every field."],["7.3","Computing has global effects -- both beneficial and harmful -- on people and society."],["7.4","Computing innovations influence and are influenced by the economic, social, and cultural contexts in which they are designed and used."],["7.5","An investigative process is aided by effective organization and selection of resources. Appropriate technologies and tools facilitate the accessing of information and enable the ability to evaluate the credibility of sources."]],DESCRIPTION:{1.1:"Creative development can be an essential process for creating computational artifacts.",1.2:"Computing enables people to use creative development processes to create computational artifacts for creative expression or to solve a problem.",1.3:"Computing can extend traditional forms of human expression and experience.",2.1:"A variety of abstractions built upon binary sequences can be used to represent all digital data.",2.2:"Multiple levels of abstraction are used to write programs or create other computational artifacts",2.3:"Models and simulations use abstraction to generate new understanding and knowledge.",3.1:"People use computer programs to process information to gain insight and knowledge.",3.2:"Computing facilitates exploration and the discovery of connections in information.",3.3:"There are trade offs when representing information as digital data.",4.1:"Algorithms are precise sequences of instructions for processes that can be executed by a computer and are implemented using programming languages.",4.2:"Algorithms can solve many but not all computational problems.",5.1:"Programs can be developed for creative expression, to satisfy personal curiosity, to create new knowledge, or to solve problems (to help people, organizations, or society).",5.2:"People write programs to execute algorithms.",5.3:"Programming is facilitated by appropriate abstractions.",5.4:"Programs are developed, maintained, and used by people for different purposes.",5.5:"Programming uses mathematical and logical concepts.",6.1:"The Internet is a network of autonomous systems.",6.2:"Characteristics of the Internet influence the systems built on it.",6.3:"Cybersecurity is an important concern for the Internet and the systems built on it.",7.1:"Computing enhances communication, interaction, and cognition.",7.2:"Computing enables innovation in nearly every field.",7.3:"Computing has global effects -- both beneficial and harmful -- on people and society.",7.4:"Computing innovations influence and are influenced by the economic, social, and cultural contexts in which they are designed and used.",7.5:"An investigative process is aided by effective organization and selection of resources. Appropriate technologies and tools facilitate the accessing of information and enable the ability to evaluate the credibility of sources."},STRINGS:{}},APCSPStandardEUToLO:{MAP:{1.1:["1.1.1"],1.2:["1.2.1","1.2.2","1.2.3","1.2.4","1.2.5"],1.3:["1.3.1"],2.1:["2.1.1","2.1.2"],2.2:["2.2.1","2.2.2","2.2.3"],2.3:["2.3.1","2.3.2"],3.1:["3.1.1","3.1.2","3.1.3"],3.2:["3.2.1","3.2.2"],3.3:["3.3.1"],4.1:["4.1.1","4.1.2"],4.2:["4.2.1","4.2.2","4.2.3","4.2.4"],5.1:["5.1.1","5.1.2","5.1.3"],5.2:["5.2.1"],5.3:["5.3.1"],5.4:["5.4.1"],5.5:["5.5.1"],6.1:["6.1.1"],6.2:["6.2.1","6.2.2"],6.3:["6.3.1"],7.1:["7.1.1","7.1.2"],7.2:["7.2.1"],7.3:["7.3.1"],7.4:["7.4.1"],7.5:["7.5.1","7.5.2"]},STRINGS:{},k:"7.5.2",v:"7.5"},APCSPStandardLO:{APCSP_LO_TO_EU:{"1.1.1":"1.1","1.2.1":"1.2","1.2.2":"1.2","1.2.3":"1.2","1.2.4":"1.2","1.2.5":"1.2","1.3.1":"1.3","2.1.1":"2.1","2.1.2":"2.1","2.2.1":"2.2","2.2.2":"2.2","2.2.3":"2.2","2.3.1":"2.3","2.3.2":"2.3","3.1.1":"3.1","3.1.2":"3.1","3.1.3":"3.1","3.2.1":"3.2","3.2.2":"3.2","3.3.1":"3.3","4.1.1":"4.1","4.1.2":"4.1","4.2.1":"4.2","4.2.2":"4.2","4.2.3":"4.2","4.2.4":"4.2","5.1.1":"5.1","5.1.2":"5.1","5.1.3":"5.1","5.2.1":"5.2","5.3.1":"5.3","5.4.1":"5.4","5.5.1":"5.5","6.1.1":"6.1","6.2.1":"6.2","6.2.2":"6.2","6.3.1":"6.3","7.1.1":"7.1","7.1.2":"7.1","7.2.1":"7.2","7.3.1":"7.3","7.4.1":"7.4","7.5.1":"7.5","7.5.2":"7.5"},CHOICES:[["1.1.1","Apply a creative development process when creating computational artifacts. [P2]"],["1.2.1","Create a computational artifact for creative expression. [P2]"],["1.2.2","Create a computational artifact using computing tools and techniques to solve a problem. [P2]"],["1.2.3","Create a new computational artifact by combining or modifying existing artifacts. [P2]"],["1.2.4","Collaborate in the creation of computational artifacts. [P6]"],["1.2.5","Analyze the correctness, usability, functionality, and suitability of computational artifacts. [P4]"],["1.3.1","Use computing tools and techniques for creative expression. [P2]"],["2.1.1","Describe the variety of abstractions used to represent data. [P3]"],["2.1.2","Explain how binary sequences are used to represent digital data. [P5]"],["2.2.1","Develop an abstraction when writing a program or creating other computational artifacts. [P2]"],["2.2.2","Use multiple levels of abstraction to write programs. [P3]"],["2.2.3","Identify multiple levels of abstractions that are used when writing programs. [P3]"],["2.3.1","Use models and simulations to represent phenomena. [P3]"],["2.3.2","Use models and simulations to formulate, refine, and test hypotheses. [P3]"],["3.1.1","Find patterns, and test hypotheses about digitally processed information to gain insight and knowledge. [P4]"],["3.1.2","Collaborate when processing information to gain insight and knowledge. [P6]"],["3.1.3","Explain the insight and knowledge gained from digitally processed data by using appropriate visualizations, notations, and precise language. [P5]"],["3.2.1","Extract information from data to discover and explain connections or trends. [P1]"],["3.2.2","Determine how large data sets impact the use of computational processes to discover information and knowledge. [P3]"],["3.3.1","Analyze how data representation, storage, security, and transmission of data involve computational manipulation of information. [P4]"],["4.1.1","Develop an algorithm for implementation in a program. [P2]"],["4.1.2","Express an algorithm in a language. [P5]"],["4.2.1","Explain the difference between algorithms that run in a reasonable time and those that do not run in a reasonable time. [P1]"],["4.2.2","Explain the difference between solvable and unsolvable problems in computer science. [P1]"],["4.2.3","Explain the existence of undecidable problems in computer science. [P1]"],["4.2.4","Evaluate algorithms analytically and empirically for efficiency, correctness, and clarity. [P4]"],["5.1.1","Develop a program for creative expression, to satisfy personal curiosity, or to create new knowledge. [P2]"],["5.1.2","Develop a correct program to solve problems. [P2]"],["5.1.3","Collaborate to develop a program. [P6]"],["5.2.1","Explain how programs implement algorithms. [P3]"],["5.3.1","Use abstraction to manage complexity in programs. [P3]"],["5.4.1","Evaluate the correctness of a program. [P4]"],["5.5.1","Employ appropriate mathematical and logical concepts in programming. [P1]"],["6.1.1","Explain the abstractions in the Internet and how the Internet functions. [P3]"],["6.2.1","Explain characteristics of the Internet and the systems built on it. [P5]"],["6.2.2","Explain how the characteristics of the Internet influence the systems built on it. [P4]"],["6.3.1","Identify existing cybersecurity concerns and potential options to address these issues with the Internet and the systems built on it. [P1]"],["7.1.1","Explain how computing innovations affect communication, interaction, and cognition. [P4]"],["7.1.2","Explain how people participate in a problem-solving process that scales. [P4]"],["7.2.1","Explain how computing has impacted innovations in other fields. [P1]"],["7.3.1","Analyze the beneficial and harmful effects of computing. [P4]"],["7.4.1","Explain the connections between computing and real-world contexts, including economic, social, and cultural contexts. [P1]"],["7.5.1","Access, manage, and attribute information using effective strategies. [P1]"],["7.5.2","Evaluate online and print sources for appropriateness and credibility. [P5]"]],DESCRIPTION:{"1.1.1":"Apply a creative development process when creating computational artifacts. [P2]","1.2.1":"Create a computational artifact for creative expression. [P2]","1.2.2":"Create a computational artifact using computing tools and techniques to solve a problem. [P2]","1.2.3":"Create a new computational artifact by combining or modifying existing artifacts. [P2]","1.2.4":"Collaborate in the creation of computational artifacts. [P6]","1.2.5":"Analyze the correctness, usability, functionality, and suitability of computational artifacts. [P4]","1.3.1":"Use computing tools and techniques for creative expression. [P2]","2.1.1":"Describe the variety of abstractions used to represent data. [P3]","2.1.2":"Explain how binary sequences are used to represent digital data. [P5]","2.2.1":"Develop an abstraction when writing a program or creating other computational artifacts. [P2]","2.2.2":"Use multiple levels of abstraction to write programs. [P3]","2.2.3":"Identify multiple levels of abstractions that are used when writing programs. [P3]","2.3.1":"Use models and simulations to represent phenomena. [P3]","2.3.2":"Use models and simulations to formulate, refine, and test hypotheses. [P3]","3.1.1":"Find patterns, and test hypotheses about digitally processed information to gain insight and knowledge. [P4]","3.1.2":"Collaborate when processing information to gain insight and knowledge. [P6]","3.1.3":"Explain the insight and knowledge gained from digitally processed data by using appropriate visualizations, notations, and precise language. [P5]","3.2.1":"Extract information from data to discover and explain connections or trends. [P1]","3.2.2":"Determine how large data sets impact the use of computational processes to discover information and knowledge. [P3]","3.3.1":"Analyze how data representation, storage, security, and transmission of data involve computational manipulation of information. [P4]","4.1.1":"Develop an algorithm for implementation in a program. [P2]","4.1.2":"Express an algorithm in a language. [P5]","4.2.1":"Explain the difference between algorithms that run in a reasonable time and those that do not run in a reasonable time. [P1]","4.2.2":"Explain the difference between solvable and unsolvable problems in computer science. [P1]","4.2.3":"Explain the existence of undecidable problems in computer science. [P1]","4.2.4":"Evaluate algorithms analytically and empirically for efficiency, correctness, and clarity. [P4]","5.1.1":"Develop a program for creative expression, to satisfy personal curiosity, or to create new knowledge. [P2]","5.1.2":"Develop a correct program to solve problems. [P2]","5.1.3":"Collaborate to develop a program. [P6]","5.2.1":"Explain how programs implement algorithms. [P3]","5.3.1":"Use abstraction to manage complexity in programs. [P3]","5.4.1":"Evaluate the correctness of a program. [P4]","5.5.1":"Employ appropriate mathematical and logical concepts in programming. [P1]","6.1.1":"Explain the abstractions in the Internet and how the Internet functions. [P3]","6.2.1":"Explain characteristics of the Internet and the systems built on it. [P5]","6.2.2":"Explain how the characteristics of the Internet influence the systems built on it. [P4]","6.3.1":"Identify existing cybersecurity concerns and potential options to address these issues with the Internet and the systems built on it. [P1]","7.1.1":"Explain how computing innovations affect communication, interaction, and cognition. [P4]","7.1.2":"Explain how people participate in a problem-solving process that scales. [P4]","7.2.1":"Explain how computing has impacted innovations in other fields. [P1]","7.3.1":"Analyze the beneficial and harmful effects of computing. [P4]","7.4.1":"Explain the connections between computing and real-world contexts, including economic, social, and cultural contexts. [P1]","7.5.1":"Access, manage, and attribute information using effective strategies. [P1]","7.5.2":"Evaluate online and print sources for appropriateness and credibility. [P5]"},STRINGS:{}},APCSPStandardLOToCTP:{MAP:{"1.1.1":"P2","1.2.1":"P2","1.2.2":"P2","1.2.3":"P2","1.2.4":"P6","1.2.5":"P4","1.3.1":"P2","2.1.1":"P3","2.1.2":"P5","2.2.1":"P2","2.2.2":"P3","2.2.3":"P3","2.3.1":"P3","2.3.2":"P3","3.1.1":"P4","3.1.2":"P6","3.1.3":"P5","3.2.1":"P1","3.2.2":"P3","3.3.1":"P4","4.1.1":"P2","4.1.2":"P5","4.2.1":"P1","4.2.2":"P1","4.2.3":"P1","4.2.4":"P4","5.1.1":"P2","5.1.2":"P2","5.1.3":"P6","5.2.1":"P3","5.3.1":"P3","5.4.1":"P4","5.5.1":"P1","6.1.1":"P3","6.2.1":"P5","6.2.2":"P4","6.3.1":"P1","7.1.1":"P4","7.1.2":"P4","7.2.1":"P1","7.3.1":"P4","7.4.1":"P1","7.5.1":"P1","7.5.2":"P5"},STRINGS:{}},AbacusProjectType:{BASH:"bash",BLOCKLY_MUSIC:"blockly-music",BRYTHON_CONSOLE:"brython-console",BRYTHON_GRAPHICS:"brython-graphics",BRYTHON_PROCESSING:"brython-processing",C:"c",CPP:"cpp",C_SHARP:"c-sharp",HTML:"html",JAVA:"java",JAVA_CONSOLE:"java-console",JAVA_GRAPHICS:"java-graphics",JAVA_PROCESSING:"java-processing",JS_CONSOLE:"javascript-console",JS_GRAPHICS:"javascript-graphics",JS_GRAPHICS_NO_CONSOLE:"javascript-graphics-no-console",JS_KAREL:"javascript-karel",LUA:"lua",NODE:"node",P5:"p5",P5_PLAY:"p5-play",PRETTY_NAMES:{"javascript-graphics":"JavaScript Graphics","javascript-console":"JavaScript Console","javascript-karel":"JavaScript Karel","javascript-graphics-no-console":"JavaScript Graphics (No Console)",java:"Java","java-console":"Java (Console)",scheme:"Scheme",python:"Python 3",python2:"Python 2",python3:"Python 3",turtle:"Python Turtle",sql:"SQL","plain-text":"Plain Text",p5:"P5.js",c:"C",cpp:"C++",html:"HTML","javascript-vanilla":"JavaScript","brython-processing":"Brython Processing","brython-graphics":"Brython Graphics","brython-console":"Brython Console",bash:"Bash","java-graphics":"Java Graphics with Swing","python-graphics":"Python Graphics with TKinter","java-processing":"Java Processing","blockly-music":"Blockly Music",swift:"Swift",typescript:"TypeScript",node:"Node",lua:"Lua","c-sharp":"C#","p5-play":"p5play"},PROGRAM_TYPES:{"javascript-graphics":4,"javascript-console":3,"javascript-karel":1,"javascript-graphics-no-console":16,java:12,"java-console":22,scheme:58,python:56,python2:55,python3:56,turtle:15,sql:17,p5:57,c:45,cpp:47,html:5,"javascript-vanilla":63,"brython-processing":71,"brython-graphics":78,"brython-console":79,bash:60,"java-graphics":61,"python-graphics":62,"java-processing":75,"blockly-music":59,swift:77,typescript:84,node:80,lua:85,"c-sharp":86,"p5-play":87},PYTHON:"python",PYTHON2:"python2",PYTHON3:"python3",PYTHON_GRAPHICS:"python-graphics",SCHEME:"scheme",SQL:"sql",STRINGS:{},SWIFT:"swift",TRANSITIONS:{"javascript-graphics":{"JavaScript Graphics (No Console)":"javascript-graphics-no-console","JavaScript Console":"javascript-console"},"javascript-console":{"JavaScript Graphics (No Console)":"javascript-graphics-no-console","JavaScript Graphics":"javascript-graphics"},"javascript-graphics-no-console":{"JavaScript Graphics":"javascript-graphics","JavaScript Console":"javascript-console"},java:{"Java Processing":"java-processing","Java Graphics with Swing":"java-graphics"},python2:{"Brython Graphics":"brython-graphics","Python 3":"python3","Python Graphics with TKinter":"python-graphics"},python3:{"Brython Graphics":"brython-graphics","Python 2":"python2","Python Graphics with TKinter":"python-graphics"},"brython-graphics":{"Python 2":"python2","Python 3":"python3","Python Graphics with TKinter":"python-graphics"},"java-graphics":{Java:"java","Java Processing":"java-processing"},"python-graphics":{"Brython Graphics":"brython-graphics","Python 2":"python2","Python 3":"python3"},"java-processing":{Java:"java","Java Graphics with Swing":"java-graphics"}},TURTLE:"turtle",TXT:"plain-text",TYPESCRIPT:"typescript",VANILLA_JS:"javascript-vanilla",group:"java-types",proj_type:"p5-play",transitions:{Java:"java","Java Graphics with Swing":"java-graphics"}},AcademicSessionType:{CHOICES:[[0,"Full Year"],[11,"First Semester"],[12,"Second Semester"],[21,"Second Trimester"],[23,"Third Trimester"],[31,"First Quarter"],[32,"Second Quarter"],[11,"First Semester"],[33,"Third Quarter"],[34,"Fourth Quarter"],[40,"Summer"],[50,"Other"]],FIRST_QUARTER:31,FIRST_SEMESTER:11,FIRST_TRIMESTER:21,FOURTH_QUARTER:34,FULL_YEAR:0,GRADING_PERIOD:60,LTI_MAPPING:{gradingPeriod:60,semester:11,schoolYear:0,term:21},OTHER:50,SECOND_QUARTER:32,SECOND_SEMESTER:12,SECOND_TRIMESTER:22,STRINGS:{0:"Full Year",11:"First Semester",12:"Second Semester",21:"First Trimester",22:"Second Trimester",23:"Third Trimester",31:"First Quarter",32:"Second Quarter",33:"Third Quarter",34:"Fourth Quarter",40:"Summer",50:"Other"},SUMMER:40,TERM_TYPE_CHOICES:{4:[0],3:[11,22],2:[21,22,23],1:[31,32,33,34]},THIRD_QUARTER:33,THIRD_TRIMESTER:23},AdCampaigns:{HOC_2015:24,STRINGS:{}},AddClassErrorMessage:{ARCHIVED_CLASS_CODE:5,BAD_CLASS_CODE:0,CHOICES:[[0,"Sorry, we could not find a section with that code."],[1,"Sorry, that section is already full."],[2,"It looks like you are already in that section."],[3,"You do not have permission to join that section."],[5,"Sorry, that section is no longer active."],[6,"Sorry, this section is not open for enrollment."],[7,"Sorry, this section has concluded."],[8,"There was an error."]],FULL_CLASS_CODE:1,GENERIC:8,GOOGLE_CLASSROOM_CODE:4,MESSAGE:{0:"Sorry, we could not find a section with that code.",1:"Sorry, that section is already full.",2:"It looks like you are already in that section.",3:"You do not have permission to join that section.",4:"Sorry, you must be added via Google Classroom.",5:"Sorry, that section is no longer active.",6:"Sorry, this section is not open for enrollment.",7:"Sorry, this section has concluded.",8:"There was an error."},NO_PERMISSION_CLASS_CODE:3,SAME_CLASS_CODE:2,SECTION_ENDED:7,SECTION_LOCKED:6,STRINGS:{}},AgeGroup:{AGE_14_TO_17:2,AGE_18_TO_24:3,AGE_25_TO_44:4,AGE_45_TO_64:5,AGE_65_PLUS:6,AGE_GROUPS:[["","Age Group"],[0,"Unknown"],[2,"14 - 17"],[3,"18 - 24"],[4,"25 - 44"],[5,"45 - 64"],[6,"65 +"]],STRINGS:{0:"Unknown",2:"14 - 17",3:"18 - 24",4:"25 - 44",5:"45 - 64",6:"65 +"},UNKNOWN:0},AnnouncementAssigneeMode:{ALL_STUDENTS:0,CHOICES:[[0,"All Students"],[1,"Individual Students"]],INDIVIDUAL_STUDENTS:1,STRINGS:{0:"All Students",1:"Individual Students"}},AnnouncementType:{CHOICES:[[0,"Tutor"],[1,"Teacher"],[2,"Paid Teacher"],[3,"Free Teacher"]],FREE_TEACHER:3,PAID_TEACHER:2,STRINGS:{0:"Tutor",1:"Teacher",2:"Paid Teacher",3:"Free Teacher"},TEACHER:1,TUTOR:0},ArrStatus:{CHOICES:[[0,"Unrenewed"],[1,"Lost"],[2,"Contracted"],[3,"Renewed"],[4,"Expanded"],[5,"New"],[6,"Quote Sent"],[7,"Under Contract"]],COLORS:{0:"grey",1:"red",2:"yellow",3:"green",4:"blue",5:"purple",6:"grey",7:"grey"},CONTRACTED:2,EXPANDED:4,LOST:1,NEW:5,QUOTE_SENT:6,RENEWED:3,STRINGS:{0:"Unrenewed",1:"Lost",2:"Contracted",3:"Renewed",4:"Expanded",5:"New",6:"Quote Sent",7:"Under Contract"},UNDER_CONTRACT:7,UNRENEWED:0,UNRENEWED_STAGES:[0,6,7]},AssessmentType:{ASSESSMENT_CHOICES:[[0,"none"],[1,"project"],[2,"unit-quiz"]],NONE:0,PROJECT:1,STRINGS:{0:"none",1:"project",2:"unit-quiz"},UNIT_QUIZ:2},AssignmentAttempt:{ANSWERS_SHOWN:[58,59],ATTEMPT_TYPES:[[100,"Quiz"]],BACKFILLED_DATA:5,CLICKED_SUBMIT:1,CORRECTNESS_SHOWN:[56,57,58,59],DEFAULT_QUIZ_RESULT_DISPLAY:59,DEFAULT_QUIZ_RESULT_DISPLAY_BY_TYPE:{"Check for Understanding":59,"AP Practice":58,Final:58,Midterm:58,"Unit Quiz":58},NO_CHOICES_RESULT_DISPLAY:[52,54],NO_RESULTS:52,NO_SCORE_SEE_CHOICES:53,QUESTIONS_COMPLETED:4,QUIZ_RESULT_DISPLAY_CHOICES:[[52,"No results"],[53,"No score, see answer choices"],[54,"Score only"],[55,"Show score and answer choices"],[56,"Show correctness after submission"],[57,"Show correctness immediately"],[58,"Show answers after submission"],[59,"Show answers immediately"]],QUIZ_RESULT_DISPLAY_CONSTANTS:[52,53,54,55,56,57,58,59],QUIZ_TYPE:100,SCORE_AND_CHOICES_ONLY:55,SCORE_ONLY:54,SCORE_SEE_ANSWERS_AT_END:58,SCORE_SEE_ANSWERS_IMMEDIATELY:59,SCORE_SEE_CORRECTNESS_AT_END:56,SCORE_SEE_CORRECTNESS_IMMEDIATELY:57,SCORE_SHOWN_AT_END:[54,55,56,57,58,59],SCORE_SHOWN_IMMEDIATELY:[57,59],STRINGS:{0:"Unsubmitted",1:"Clicked Submit",2:"Time Limit Reached",3:"Closed by Teacher",4:"Completed all Questions",5:"Backfilled Data",100:"Quiz",52:"No results",53:"No score, see answer choices",54:"Score only",55:"Show score and answer choices",56:"Show correctness after submission",57:"Show correctness immediately",58:"Show answers after submission",59:"Show answers immediately"},SUBMISSION_TYPES:[[0,"Unsubmitted"],[1,"Clicked Submit"],[2,"Time Limit Reached"],[3,"Closed by Teacher"],[4,"Completed all Questions"],[5,"Backfilled Data"]],TEACHER_CLOSED:3,TIME_LIMIT_REACHED:2,UNSUBMITTED:0},AssignmentAvailability:{AVAILABLE:0,CHOICES:[[0,"Available"],[1,"Locked"],[2,"Scheduled"]],LOCKED:1,SCHEDULED:2,STRINGS:{0:"Available",1:"Locked",2:"Scheduled"}},AssignmentSettingFields:{ALLOW_BLOCKS:"allow_blocks",AUTO_GRADE:"auto_grade",AVAILABILITY_END:"availability_end",AVAILABILITY_START:"availability_start",AVAILABILITY_STATUS:"availability_status",DESCRIPTION:"description",DUE_DATE:"due_date",FREE_DEFAULTS:{description:"",due_date:null,availability_status:0,availability_start:null,availability_end:null,in_gradebook:!0,prevent_copy_paste:!1,shuffle_quiz_questions:!1,auto_grade:!1},IN_GRADEBOOK:"in_gradebook",ITEM:"item",PREVENT_COPY_PASTE:"prevent_copy_paste",PROPAGATE_FIELDS:["title","description","allow_blocks","availability_status","availability_start","shuffle_quiz_questions","availability_end","prevent_copy_paste","item","due_date","in_gradebook","auto_grade"],PRO_SETTINGS:["availability_start","description","availability_status","shuffle_quiz_questions","availability_end","prevent_copy_paste","due_date","in_gradebook","auto_grade"],SHUFFLE_QUIZ_QUESTIONS:"shuffle_quiz_questions",STRINGS:{},TITLE:"title"},AssignmentType:{CHOICES:[[1,"Classwork"],[2,"Homework"],[3,"Quiz"],[4,"Exam"],[5,"Exit Ticket"],[6,"Extra Credit"],[7,"Misc"]],CLASSWORK:1,EXAM:4,EXIT_TICKET:5,EXTRA_CREDIT:6,HOMEWORK:2,MISC:7,QUIZ:3,STRINGS:{1:"Classwork",2:"Homework",3:"Quiz",4:"Exam",5:"Exit Ticket",6:"Extra Credit",7:"Misc"}},AuthorType:{CHOICES:[[0,"CodeHS"],[1,"Teacher"],[2,"Tutor"],[3,"Student"],[4,"Teacher Duplicated"],[5,"Zip Upload"],[6,"Github Import"]],CODEHS:0,GITHUB_IMPORT:6,STRINGS:{0:"CodeHS",1:"Teacher",2:"Tutor",3:"Student",4:"Teacher Duplicated",5:"Zip Upload",6:"Github Import"},STUDENT:3,TEACHER:1,TEACHER_DUPLICATED:4,TUTOR:2,ZIP_UPLOAD:5,key:6,val:"Github Import"},BannedEmails:{BANNED_DOMAINS:["qq.com","vip.qq.com","qq.comm","qq.co","qq.cm","qq.con","qq.om","qq.cn","qq.com.cn","qqq.com","qq.comqq","qq163.com","21cn.com","pp.com","12.com","63.com","189.cn","189.com","163.com","126.com","139.com","123.com","136.com","263.com","sina.com","sina.cn","sina.com.cn","tom.com","sohu.com","yahoo.com.cn","yahoo.com.hk","yahoo.cn","sogou.com","yeah.net","foxmail.com","ebdoor.com","live.cn","monternet.com","ruyi.com","001.igg.biz","027168.com","0815.ru","0815.ry","0815.su","0845.ru","0box.eu","0clickemail.com","0-mail.com","0mixmail.info","0u.ro","0v.ro","0w.ro","0wnd.net","0wnd.org","0x00.name","0x207.info","1000rebates.stream","100likers.com","10host.top","10mail.com","10mail.org","10minut.com.pl","10minutemail.be","10minutemail.cf","10minutemail.co.uk","10minutemail.co.za","10minutemail.com","10minutemail.de","10minutemail.ga","10minutemail.gq","10minutemail.info","10minutemail.ml","10minutemail.net","10minutemail.nl","10minutemail.org","10minutemail.ru","10minutemail.us","10minutemailbox.com","10minutenemail.de","10minutesmail.com","10minutesmail.fr","10minutesmail.net","10minutesmail.ru","10vpn.info","10x.es","10x9.com","11top.xyz","123-m.com","126.com","12hosting.net","12houremail.com","12minutemail.com","12minutemail.net","12storage.com","139.com","140unichars.com","147.cl","14n.co.uk","15qm.com","15qm-mail.red","163.com","1-8.biz","188.com","1ce.us","1chuan.com","1clck2.com","1fsdfdsfsdf.tk","1mail.ml","1pad.de","1rentcar.top","1s.fr","1ss.noip.me","1st-forms.com","1to1mail.org","1usemail.com","1webmail.info","1zhuan.com","2.emailfake.ml","20boxme.org","2000rebates.stream","2012-2016.ru","2014mail.ru","20email.eu","20email.it","20mail.eu","20mail.in","20mail.it","20minute.email","20minutemail.com","2120001.net","21cn.com","225522.ml","24hourmail.com","24hourmail.net","291.usa.cc","2ch.coms.hk","2ch.orgs.hk","2-ch.space","2ether.net","2fdgdfgdfgdf.tk","2prong.com","2sea.org","2sea.xyz","30minutemail.com","30minutenmail.eu","30wave.com","33mail.com","36ru.com","3d-painting.com","3ew.usa.cc","3l6.com","3mail.ga","3trtretgfrfe.tk","4.fackme.gq","418.dk","420blaze.it","42o.org","44556677.igg.biz","466453.usa.cc","487.nut.cc","4gfdsgfdgfd.tk","4mail.cf","4mail.ga","4-n.us","4nmv.ru","4pet.ro","4tb.host","4w.io","4warding.com","4warding.net","4warding.org","510520.org","54np.club","55hosting.net","5dsmartstore.com","5ghgfhfghfgh.tk","5gramos.com","5july.org","5mail.cf","5mail.ga","5music.info","5music.top","5oz.ru","5x25.com","5ymail.com","6.emailfake.ml","60minutemail.com","60-minuten-mail.de","672643.net","675hosting.com","675hosting.net","675hosting.org","69-ew.tk","6hjgjhgkilkj.tk","6ip.us","6mail.cf","6mail.ga","6mail.ml","6paq.com","6url.com","69postix.info","75hosting.com","75hosting.net","75hosting.org","7days-printing.com","7ddf32e.info","7mail.ga","7mail.ml","7mail7.com","7rent.top","7tags.com","7uy35p.tk","806.flu.cc","80665.com","8127ep.com","8191.at","88clean.pro","8chan.co","8mail.cf","8mail.ga","8mail.ml","900k.es","99experts.com","9mail.cf","9me.site","9ox.net","9q.ro","a.a.fbmail.usa.cc","a0.igg.biz","a0f7ukc.com","a1.usa.cc","a2.flu.cc","a41odgz7jh.com","a45.in","a54pd15op.com","aaaw45e.com","abacuswe.us","abakiss.com","a-bc.net","abcmail.email","abcz.info.tm","abilitywe.us","abovewe.us","absolutewe.us","abundantwe.us","abusemail.de","abuser.eu","abyssemail.com","abyssmail.com","ac20mail.in","academiccommunity.com","academywe.us","acceleratewe.us","accentwe.us","acceptwe.us","acclaimwe.us","accordwe.us","accreditedwe.us","acentri.com","acgapp.hk","achievementwe.us","achievewe.us","acornwe.us","activatewe.us","activitywe.us","acuitywe.us","acumenwe.us","adaptivewe.us","adaptwe.us","adbet.co","add3000.pp.ua","adeptwe.us","adesktop.com","adipex7z.com","adiq.eu","admiralwe.us","adobeccepdm.com","adoniswe.us","adpugh.org","adresseemailtemporaire.com","adrianou.gq","adsd.org","advantagewe.us","advantimo.com","adventurewe.us","adventwe.us","advisorwe.us","advocatewe.us","adwaterandstir.com","adx-telecom.com","aegia.net","aegiscorp.net","aegiswe.us","aelo.es","aeonpsi.com","affiliatedwe.us","affinitywe.us","affluentwe.us","affordablewe.us","afmail.com","afrobacon.com","afterhourswe.us","agedmail.com","agendawe.us","agger.ro","agilewe.us","agtx.net","agustusmp3.xyz","aheadwe.us","ahk.jp","airmailhub.com","airsi.de","aistis.xyz","ajaxapp.net","aji.kr","akademiyauspexa.xyz","akapost.com","akash9.gq","akerd.com","akgq701.com","akorde.al","aktiefmail.nl","albionwe.us","alchemywe.us","aldeyaa.ae","alfamailr.org","aliaswe.us","alienware13.com","aligamel.com","alimunjaya.xyz","alisongamel.com","alivance.com","alivewe.us","allaccesswe.us","allamericanwe.us","allaroundwe.us","alldirectbuy.com","allegiancewe.us","allegrowe.us","allen.nom.za","allgoodwe.us","alliancewe.us","allinonewe.us","alloutwe.us","allowed.org","alloywe.us","allprowe.us","allseasonswe.us","allstarwe.us","allthegoodnamesaretaken.org","allurewe.us","almondwe.us","alph.wtf","alphaomegawe.us","alpinewe.us","al-qaeda.us","alsheim.no-ip.org","altairwe.us","altitudewe.us","altuswe.us","alumnimp3.xyz","amadeuswe.us","amail.club","amail.com","amail4.me","ama-trade.de","ama-trans.de","amav.ro","amazon.coms.hk","amazon-aws.org","ambassadorwe.us","amberwe.us","ambiancewe.us","ambitiouswe.us","amelabs.com","americanawe.us","americasbestwe.us","americaswe.us","amicuswe.us","amigowe.us","amilegit.com","amiri.net","amiriindustries.com","amitywe.us","amoksystems.com","amplewe.us","amplifiedwe.us","amplifywe.us","ampsylike.com","an.id.au","analysiswe.us","analyticalwe.us","analyticswe.us","analyticwe.us","anappfor.com","anappthat.com","andreihusanu.ro","andthen.us","animesos.com","anit.ro","ano-mail.net","anonbox.net","anon-mail.de","anonmail.xyz","anonmails.de","anonymail.dk","anonymbox.com","anonymize.com","anonymized.org","anonymous-email.net","anonymousfeedback.net","anonymousmail.org","anonymousness.com","anonymousspeech.com","anotherdomaincyka.tk","anywhere.pw","ansibleemail.com","anthony-junkmail.com","anthropologycommunity.com","antichef.com","antichef.net","antireg.com","antireg.ru","antispam.de","antispam24.de","antispammail.de","ao4ffqty.com","aoeuhtns.com","apfelkorps.de","aphlog.com","apkmd.com","appc.se","appinventor.nl","appixie.com","apps.dj","arduino.hk","ariasexy.tk","ariaz.jetzt","armyspy.com","arno.fi","aron.us","arroisijewellery.com","art-en-ligne.pro","artman-conception.com","arur01.tk","arurgitu.gq","arurimport.ml","arvato-community.de","asana.biz","aschenbrandt.net","asdasd.nl","asdasd.ru","asdfasdfmail.net","asdfghmail.com","asdfmail.net","ashleyandrew.com","asiarap.usa.cc","asooemail.net","asorent.com","ass.pp.ua","asspoo.com","assurancespourmoi.eu","astonut.cf","astonut.ga","astonut.ml","astonut.tk","astroempires.info","asu.mx","asu.su","at.hm","at0mik.org","atvclub.msk.ru","augmentationtechnology.com","auti.st","autorobotica.com","autotwollow.com","aver.com","averdov.com","avia-tonic.fr","avls.pt","awatum.de","awiki.org","aws910.com","ax80mail.com","axeprim.eu","axiz.org","axon7zte.com","axsup.net","ay33rs.flu.cc","azazazatashkent.tk","azcomputerworks.com","azjuggalos.com","azmeil.tk","b0.nut.cc","b1of96u.com","b2cmail.de","b9x45v1m.com","babau.cf","babau.ga","babau.gq","babau.ml","backalleybowling.info","backflip.cf","badgerland.eu","badhus.org","badoop.com","badpotato.tk","bakar.bid","balanc3r.com","ballsofsteel.net","bandai.nom.co","banhbeovodich.vn","banit.club","banit.me","bareed.ws","barryogorman.com","barrypov.com","barryspov.com","bartdevos.be","bartoparcadecabinet.com","basscode.org","bauwerke-online.com","baxomale.ht.cx","bazaaboom.com","bbhost.us","bcast.ws","bcb.ro","bccto.me","bdmuzic.pw","bearsarefuzzy.com","beck-it.net","beddly.com","beefmilk.com","beerolympics.se","begoz.com","bei.kr","belamail.org","belastingdienst.pw","belljonestax.com","benipaula.org","beo.kr","bestchoiceusedcar.com","bestoption25.club","bestvpn.top","betr.co","bfo.kr","bgtmail.com","bgx.ro","bho.hu","bho.kr","bidourlnks.com","big1.us","bigprofessor.so","bigstring.com","bigwhoop.co.za","bigwiki.xyz","bij.pl","bin.8191.at","binka.me","binkmail.com","binnary.com","biometicsliquidvitamins.com","bio-muesli.info","bio-muesli.net","bione.co","bitwerke.com","bitymails.us","biz.st","bko.kr","blackmarket.to","bladesmail.net","blip.ch","bloatbox.com","blogmyway.org","blogos.com","blogos.net","blogspam.ro","bloq.ro","bloxter.cu.cc","bluebottle.com","bluedumpling.info","bluewerks.com","blutig.me","boatmail.us","bobmail.info","bobmurchison.com","bodhi.lawlita.com","bofthew.com","bogotadc.info","boimail.com","bongobongo.cf","bongobongo.ga","bongobongo.ml","bongobongo.tk","bonobo.email","bookthemmore.com","bootybay.de","bopunkten.se","borged.com","borged.net","borged.org","bossmail.de","bot.nu","boun.cr","bouncr.com","box.yadavnaresh.com.np","boxformail.in","boximail.com","boxmail.co","boxtemp.com.br","brainonfire.net","brandallday.net","brasx.org","breadtimes.press","breakthru.com","brefmail.com","brennendesreich.de","briggsmarcus.com","britishintelligence.co.uk","broadbandninja.com","browniesgoreng.com","brownieslumer.com","bsnow.net","bspamfree.org","bspooky.com","bst-72.com","btb-notes.com","btc.email","btcmail.pw","btizet.pl","buffemail.com","bugmenever.com","bugmenot.com","bugmenot.ml","bulrushpress.com","bum.net","bumpymail.com","bunchofidiots.com","bund.us","bundes-li.ga","bungabunga.cf","bunsenhoneydew.com","burgercentral.us","burnthespam.info","burstmail.info","businessbackend.com","businesscredit.xyz","businesssuccessislifesuccess.com","buspad.org","buxap.com","buy003.com","buygapfashion.com","buymoreplays.com","buyordie.info","buyusedlibrarybooks.org","bwa33.net","by8006l.com","byebyemail.com","byespm.com","byom.de","c2.hu","c4utar.ml","c51vsgq.com","c7fk799.com","cachedot.net","cafecar.xyz","californiafitnessdeals.com","cam4you.cc","campano.cl","candymail.de","cane.pw","car101.pro","carbtc.net","card.zp.ua","carrnelpartners.com","cars2.club","cartelera.org","caseedu.tk","casualdx.com","cavi.mx","cbair.com","cbes.net","cc.liamria","cdnqa.com","cdpa.cc","ce.mintemail.com","ceed.se","cek.pm","cellurl.com","cem.net","centermail.com","centermail.net","centrallosana.ga","central-servers.xyz","cetpass.com","cfo2go.ro","ch.tc","chacuo.net","chammy.info","changingemail.com","cheap3ddigitalcameras.com","cheaphorde.com","cheaphub.net","cheatmail.de","checknew.pw","chef.asana.biz","chewiemail.com","chibakenma.ml","chickenkiller.com","chielo.com","childsavetrust.org","chilelinks.cl","chilkat.com","chinatov.com","chithinh.com","choco.la","chogmail.com","choicemail1.com","chong-mail.com","chong-mail.net","chong-mail.org","chris.burgercentral.us","christopherfretz.com","chumpstakingdumps.com","cid.kr","cigar-auctions.com","civilizationdesign.xyz","civvic.ro","civx.org","ckaazaza.tk","ckiso.com","cko.kr","cl.gl","cl0ne.net","clandest.in","clashatclintonemail.com","clay.xyz","cl-cl.org","clean.pro","clearwatermail.info","clickanerd.net","clinicatbf.com","clintonemailhearing.com","clipmail.eu","clixser.com","c1oramn.com","cloud99.pro","cloud99.top","clrmail.com","cls-audio.club","clubfier.com","cmail.club","cmail.com","cmail.net","cmail.org","cnamed.com","cnew.ir","cnmsg.net","cnn.coms.hk","cnsds.de","co.cc","cobarekyo1.ml","cobin2hood.com","cock.li","cocodani.cf","cocovpn.com","codeandscotch.com","codivide.com","codupmyspace.com","codyting.com","cognitiveways.xyz","coieo.com","colafanta.cf","coldemail.info","colorweb.cf","com.ar","comilzilla.org","communitybuildingworks.xyz","compareshippingrates.org","completegolfswing.com","coms.hk","comsafe-mail.net","comwest.de","concealed.company","conf.work","confidential.life","config.work","consumerriot.com","contbay.com","contentwanted.com","contractor.net","contrasto.cu.cc","cookiecooker.de","cool.fr.nf","coolandwacky.us","coolimpool.org","correo.blogos.net","cortex.kicks-ass.net","cosmorph.com","courriel.fr.nf","courrieltemporaire.com","coza.ro","cpsystems.ru","cr97mt49.com","crankhole.com","crankmails.com","crapmail.org","crastination.de","crazespaces.pw","crazymailing.com","cream.pink","cross-law.ga","cross-law.gq","crossroadsmail.com","crotslep.ml","crotslep.tk","crypemail.info","crymail2.com","cryp.email","csh.ro","csoftmail.cn","cszbl.com","ctmailing.us","ctos.ch","cu.cc","cubiclink.com","cultmovie.com","cumallover.me","curlhph.tk","curryworld.de","cust.in","customs2g3.com","cutout.club","cuvox.de","cyber-innovation.club","cyber-phone.eu","cybersex.com","cylab.org","czqjii8.com","d3p.dk","d58pb91.com","d8u.us","dab.ro","dacha-24.ru","dacoolest.com","daemsteam.com","daintly.com","damai.webcam","dammexe.net","damnthespam.com","dancemanual.com","dandikmail.com","darkharvestfilms.com","darknode.org","daryxfox.net","dasdasdascyka.tk","dash-pads.com","dataarca.com","datafilehost","datarca.com","datazo.ca","datum2.com","davidkoh.net","davidlcreative.com","dayrep.com","dbo.kr","dbunker.com","dcemail.com","ddcrew.com","ddnsfree.com","ddosed.us","de.sytes.net","de-a.org","deadaddress.com","deadchildren.org","deadfake.cf","deadfake.ga","deadfake.ml","deadfake.tk","deadspam.com","deagot.com","dealja.com","dealrek.com","decoymail.mx","deekayen.us","de-fake.instafly.cf","defomail.com","degradedfun.net","delayload.com","delayload.net","delikkt.de","demen.ml","derder.net","derkombi.de","der-kombi.de","derluxuswagen.de","despam.it","despammed.com","devnullmail.com","dextm.ro","deyom.com","dfgggg.org","dfgh.net","dfghj.ml","dharmatel.net","dhm.ro","dialogus.com","diapaulpainting.com","dicksinhisan.us","dicksinmyan.us","digdown.xyz","digitalmariachis.com","digitalsanctuary.com","dildosfromspace.com","dingbone.com","dinkmail.com","disaq.com","disario.info","disbox.org","disbox.net","discard.cf","discard.email","discard.ga","discard.gq","discard.ml","discard.tk","discard-email.cf","discardmail.com","discardmail.de","discordmail.com","discoverwatch.com","disign-concept.eu","disign-revelation.com","dispo.in","dispomail.eu","disposable.cf","disposable.ga","disposable.ml","disposableaddress.com","disposable-email.ml","disposableemail.org","disposableemailaddresses.com","disposableinbox.com","disposablemails.com","dispose.it","disposeamail.com","disposemail.com","dispostable.com","divad.ga","divermail.com","divismail.ru","diwaq.com","dko.kr","dlemail.ru","dm.w3internet.co.uk","dm.w3internet.co.ukexample.com","dmail.kyty.net","dmarc.ro","dnsdeer.com","dnses.ro","doanart.com","dob.jp","docmail.com","docs.coms.hk","dodgeit.com","dodgemail.de","dodgit.com","dodgit.org","dodsi.com","doiea.com","dolphinnet.net","domforfb1.tk","domforfb18.tk","domforfb19.tk","domforfb2.tk","domforfb23.tk","domforfb27.tk","domforfb29.tk","domforfb3.tk","domforfb4.tk","domforfb5.tk","domforfb6.tk","domforfb7.tk","domforfb8.tk","domforfb9.tk","domozmail.com","donemail.ru","dontreg.com","dontsendmespam.de","doquier.tk","dotman.de","dot-ml.ml","dot-ml.tk","dotmsg.com","dotslashrage.com","douchelounge.com","doxcity.net","doy.kr","dozvon-spb.ru","dp76.com","dqkerui.com","dr.com","dr69.site","dragons-spirit.org","drama.tw","drdrb.com","drdrb.net","dred.ru","drevo.si","drivetagdev.com","droolingfanboy.de","dropcake.de","droplar.com","droplister.com","dropmail.me","drynic.com","dsiay.com","dspwebservices.com","dt.com","duam.net","duck2.club","dudmail.com","duk33.com","dukedish.com","dumpandjunk.com","dump-email.info","dumpmail.de","dumpyemail.com","durandinterstellar.com","duskmail.com","dwse.edu.pl","dyceroprojects.com","dynu.net","dz17.net","dz-geek.org","e0yk-mail.ml","e3z.de","e4ward.com","e7n06wz.com","eastwan.net","easytrashmail.com","easy-trash-mail.com","eatmea2z.club","eatrnet.com","eb609s25w.com","ebano.campano.cl","ebeschlussbuch.de","ebs.com.ar","ecallheandi.com","echt-mail.de","eco.ilmale.it","ecolo-online.fr","edgex.ru","edinburgh-airporthotels.com","edrishn.xyz","edv.to","ee1.pl","ee2.pl","eelmail.com","efo.kr","efxs.ca","eho.kr","einfach.to","einmalmail.de","einrot.com","einrot.de","eintagsmail.de","elearningjournal.org","electro.mn","elitevipatlantamodels.com","ely.kr","email.cbes.net","e-mail.com","email.net","e-mail.net","e-mail.org","email60.com","emailage.cf","emailage.ga","emailage.gq","emailage.ml","emailage.tk","emaildienst.de","email-fake.cf","emailfake.com","email-fake.com","email-fake.ga","email-fake.gq","emailfake.ml","email-fake.ml","emailfake.nut.cc","email-fake.tk","emailfreedom.ml","emailgo.de","emailhearing.com","emailias.com","emailigo.de","emailinfive.com","emailisvalid.com","email-jetable.fr","emaillime.com","emailll.org","emailmenow.info","emailmiser.com","emailo.pro","emailondeck.com","emailproxsy.com","emailresort.com","emails.ga","emailsecurer.com","emailsensei.com","emailsingularity.net","emailspam.cf","emailspam.ga","emailspam.gq","emailspam.ml","emailspam.tk","emailsy.info","emailtea.com","emailtech.info","emailtemporanea.com","emailtemporanea.net","emailtemporar.ro","emailtemporario.com.br","emailthe.net","emailtmp.com","emailto.de","emailure.net","emailwarden.com","emailx.at.hm","emailxfer.com","emailz.cf","emailz.ga","emailz.gq","emailz.ml","emeil.in","emeil.ir","emeraldwebmail.com","emeyle.com","emil.com","emkei.cf","emkei.ga","emkei.gq","emkei.ml","emkei.tk","eml.pp.ua","emlhub.com","emlpro.com","emltmp.com","empireanime.ga","empiremail.de","emy.kr","emz.net","endrix.org","enterto.com","enu.kr","envy17.com","eny.kr","eonmech.com","epb.ro","ephemail.net","ephemeral.email","e-postkasten.com","e-postkasten.de","e-postkasten.eu","e-postkasten.info","eqeqeqeqe.tk","eqiluxspam.ga","erasf.com","ericjohnson.ml","ero-tube.org","esc.la","escapehatchapp.com","ese.kr","esemay.com","esgeneri.com","esprity.com","esseriod.com","estate-invest.fr","etgdev.de","eth2btc.info","ether123.net","ethereum1.top","ethersports.org","etlgr.com","etranquil.com","etranquil.net","etranquil.org","euaqa.com","evanfox.info","everytg.ml","evopo.com","evyush.com","ewa.kr","example.com","exi.kr","exitstageleft.net","explodemail.com","express.net.ua","extremail.ru","eyepaste.com","ez.lv","ezfill.club","ezfill.com","ezlo.co","ezstest.com","f.moza.pl","f4k.es","f5.si","facebook-email.cf","facebook-email.ga","facebook-email.ml","facebookmail.gq","facebookmail.ml","fackme.gq","fadingemail.com","fag.wf","failbone.com","faithkills.com","faithkills.org","fake-box.com","fakedemail.com","fake-email.pp.ua","fakeinbox.cf","fakeinbox.com","fakeinbox.ga","fakeinbox.ml","fakeinbox.tk","fakeinformation.com","fake-mail.cf","fakemail.fr","fake-mail.ga","fake-mail.ml","fakemailgenerator.com","fakemailz.com","fammix.com","fangoh.com","fansworldwide.de","fantasymail.de","farrse.co.uk","fartwallet.com","fastacura.com","fastchevy.com","fastchrysler.com","fastemails.us","fastermail.com","fasternet.biz","fastkawasaki.com","fast-mail.fr","fastmailforyou.net","fastmazda.com","fastmitsubishi.com","fastnissan.com","fastsubaru.com","fastsuzuki.com","fasttoyota.com","fastyamaha.com","fatflap.com","faze.biz","fbi.coms.hk","fbma.tk","fbmail1.ml","fc66998.com","fddns.ml","fdfdsfds.com","feamail.com","fer-gabon.org","fetchnet.co.uk","fettometern.com","fghmail.net","ficken.de","fictionsite.com","fido.be","fightallspam.com","figjs.com","figshot.com","fiifke.de","filbert4u.com","filberts4u.com","film-blog.biz","filzmail.com","findu.pl","fingermouse.org","fir.hk","fishfortomorrow.xyz","fivemail.de","fixmail.tk","fizmail.com","flashbox.5july.org","fleckens.hu","flemail.com","flemail.ru","flitafir.de","flowu.com","flu.cc","flurre.com","flurred.com","flyinggeek.net","flyspam.com","fly-ts.de","fmail.pw","fnzm.net","foobarbot.net","foodbooto.com","footard.com","foquita.com","forecastertests.com","foreskin.cf","foreskin.ga","foreskin.gq","foreskin.tk","forgetmail.com","fornow.eu","forspam.net","forward.cat","four.fackme.gq","foxja.com","foxtrotter.info","foy.kr","fr.nf","fr33mail.info","fragolina2.tk","francanet.com.br","frapmail.com","frappina.tk","frappina99.tk","freebabysittercam.com","freeblackbootytube.com","freebullets.net","freecat.net","freechristianbookstore.com","freedompop.us","free-email.cf","free-email.ga","freefattymovies.com","freelance-france.eu","freeletter.me","freemail.ms","freemails.cf","freemails.ga","freemails.ml","freemeil.ga","freemeil.gq","freemeil.ml","freemeil.tk","freemommyvids.com","freeplumpervideos.com","freeschoolgirlvids.com","freeshemaledvds.com","freesistercam.com","freesistervids.com","freeteenbums.com","freetubearchive.com","freunde.ru","freundin.ru","friendlymail.co.uk","front14.org","fsagc.xyz","fsfsdf.org","ftp.sh","ftpinc.ca","fuckedupload.com","fuckingduh.com","fuckme69.club","fudgerub.com","fuirio.com","fulvie.com","fun2.biz","fun64.com","fun64.net","funnycodesnippets.com","funnymail.de","furusato.tokyo","furzauflunge.de","fuwamofu.com","fux0ringduh.com","fw2.me","fw6m0bd.com","fxnxs.com","fyii.de","g.ycn.ro","g4hdrop.us","gaf.oseanografi.id","gafy.net","gaggle.net","galaxy.tv","gally.jp","game.com","gamegregious.com","games4free.flu.cc","gamgling.com","garage46.com","garasikita.pw","garbagecollector.org","garbagemail.org","gardenscape.ca","garizo.com","garliclife.com","garrymccooey.com","gav0.com","gawab.com","geew.ru","gehensiemirnichtaufdensack.de","geldwaschmaschine.de","gelitik.in","genderfuck.net","geronra.com","germanmails.biz","gero.us","geschent.biz","get.pp.ua","get1mail.com","get2mail.fr","getairmail.cf","getairmail.com","getairmail.ga","getairmail.gq","getairmail.ml","getairmail.tk","getapet.net","geteit.com","get-mail.cf","get-mail.ga","get-mail.ml","get-mail.tk","getmails.eu","getnada.com","getnowtoday.cf","getonemail.com","getonemail.net","gfcom.com","ghosttexter.de","giaiphapmuasam.com","giantmail.de","gibit.us","ginzi.be","ginzi.co.uk","ginzi.es","ginzi.net","ginzy.co.uk","ginzy.eu","girlsindetention.com","girlsundertheinfluence.com","gishpuppy.com","giuras.club","giuypaiw8.com","givmail.com","gleeze.com","glitch.sx","globaltouron.com","glubex.com","glucosegrin.com","gmaildottrick.com","gmailssdf.com","gmal.com","g-meil.com","gmial.com","gnctr-calgary.com","go2usa.info","go2vpn.net","goat.si","godataflow.xyz","godut.com","goemailgo.com","gok.kr","golemico.com","golfilla.info","golidi.net","gomail.in","goodjab.club","googdad.tk","goranko.ga","gorillaswithdirtyarmpits.com","gothere.biz","gotmail.com","gotmail.net","gotmail.org","gotti.otherinbox.com","gowikibooks.com","gowikicampus.com","gowikicars.com","gowikifilms.com","gowikigames.com","gowikimusic.com","gowikimusic.great-host.in","gowikinetwork.com","gowikitravel.com","gowikitv.com","gqlsryi.xyz","grandmamail.com","grandmasmail.com","gratislose.de","great-host.in","greenhousemail.com","greensloth.com","greenst.info","greggamel.com","greggamel.net","gregorsky.zone","gregorygamel.com","gregorygamel.net","greyjack.com","grish.de","griuc.schule","grn.cc","grr.la","gs-arc.org","gsredcross.org","gsrv.co.uk","gsxstring.ga","gudanglowongan.com","guerillamail.biz","guerillamail.com","guerillamail.de","guerillamail.info","guerillamail.net","guerillamail.org","guerillamailblock.com","guerrillamail.biz","guerrillamail.com","guerrillamail.de","guerrillamail.info","guerrillamail.net","guerrillamail.org","guerrillamailblock.com","gustr.com","gwspt71.com","gynzi.co.uk","gynzi.es","gynzy.at","gynzy.es","gynzy.eu","gynzy.gr","gynzy.info","gynzy.lt","gynzy.mobi","gynzy.pl","gynzy.ro","gynzy.sk","gzb.ro","h.mintemail.com","h1z8ckvz.com","h2-yy.nut.cc","h8s.org","h9js8y6.com","habitue.net","hacccc.com","hacked.jp","hackersquad.tk","hackrz.xyz","hackthatbit.ch","hahawrong.com","haltospam.com","happygoluckyclub.com","happykorea.club","happykoreas.xyz","haqed.com","harakirimail.com","haribu.com","haribu.net","harmonyst.xyz","hartbot.de","hasanmail.ml","hash.pp.ua","hatespam.org","hat-geld.de","hawrong.com","haydoo.com","hazelnut4u.com","hazelnuts4u.com","hazmatshipping.org","hcac.net","hdmoviestore.us","headstrong.de","healyourself.xyz","heathenhammer.com","heathenhero.com","hecat.es","hellodream.mobi","helloricky.com","helpinghandtaxcenter.org","herp.in","herpderp.nl","hezll.com","hi2.in","hi5.si","hiddencorner.xyz","hiddentragedy.com","hidebox.org","hidemail.de","hidemail.pro","hidemail.us","hideme.be","hidemyass.com","hidzz.com","highbros.org","hiru-dea.com","hitbts.com","hix.kr","hmail.us","hmamail.com","hmh.ro","hoanggiaanh.com","hoanglong.tech","hochsitze.com","hoer.pw","holl.ga","honor-8.com","hopemail.biz","hornyalwary.top","horsefucker.org","horvathurtablahoz.ml","hostcalls.com","hostmonitor.net","hotakama.tk","hotmai.com","hot-mail.cf","hot-mail.ga","hot-mail.gq","hot-mail.ml","hot-mail.tk","hotmails.com","hotmial.com","hotpop.com","housat.com","hpc.tw","hs.vc","hsbc.coms.hk","hstermail.com","ht.cx","huajiachem.cn","hukkmu.tk","hulapla.de","humaility.com","humn.ws.gy","hungpackage.com","hunrap.usa.cc","hush.ai","hush.com","hushmail.cf","huskion.net","hvastudiesucces.nl","hvtechnical.com","hwsye.net","i201zzf8x.com","i2pmail.org","i-3gk.cf","i-3gk.ga","i-3gk.gq","i-3gk.ml","i4j0j3iz0.com","iaoss.com","ibm.coms.hk","ibnuh.bz","ibsats.com","icantbelieveineedtoexplainthisshit.com","icemovie.link","ichigo.me","icx.in","icx.ro","id.au","idigo.org","ieatspam.eu","ieatspam.info","ieh-mail.de","ige.es","igg.biz","ignoremail.com","ihateyoualot.info","ihaxyour.info","ihazspam.ca","iheartspam.org","ikbenspamvrij.nl","iki.kr","iku.us","illistnoise.com","ilmale.it","ilnostrogrossograssomatrimoniomolisano.com","ilovespam.com","imails.info","imankul.com","imgof.com","imgv.de","immo-gerance.info","imovie.link","imstations.com","inaby.com","inapplicable.org","inbax.tk","inbound.plus","inbox.si","inbox2.info","inboxalias.com","inboxbear.com","inboxclean.com","inboxclean.org","inboxdesign.me","inboxed.im","inboxed.pw","inboxhub.net","inboxproxy.com","inboxstore.me","inclusiveprogress.com","incognitomail.com","incognitomail.net","incognitomail.org","incq.com","ind.st","indieclad.com","indirect.ws","indomaed.pw","indomina.cf","indonesianherbalmedicine.com","indoserver.stream","indosukses.press","ineec.net","infest.org","infocom.zp.ua","info-radio.ml","inggo.org","inmynetwork.cf","inmynetwork.ga","inmynetwork.gq","inmynetwork.ml","inmynetwork.tk","inoutmail.de","inoutmail.eu","inoutmail.info","inoutmail.net","inpowiki.xyz","insanumingeniumhomebrew.com","insorg-mail.info","instantblingmail.info","instantemailaddress.com","instantlyemail.com","instant-mail.de","instantmail.fr","instantmailaddress.com","intel.coms.hk","internetoftags.com","interserver.ga","interstats.org","intersteller.com","iozak.com","ip4.pp.ua","ip6.li","ip6.pp.ua","ipdeer.com","ipoo.org","ippandansei.tk","ipsur.org","ipswell.com","irabops.com","irc.so","ircbox.xyz","irish2me.com","irishspringrealty.com","iroid.com","ironiebehindert.de","irr.kr","irssi.tv","is.af","isdaq.com","islam.igg.biz","ispuntheweb.com","ispyco.ru","istakalisa.club","istii.ro","isukrainestillacountry.com","it7.ovh","i-taiwan.tv","itmtx.com","itsme.edu.pl","itunesgiftcodegenerator.com","iwi.net","ixx.io","j3rqt89ez.com","jafps.com","jamit.com.au","janproz.com","jcpclothing.ga","jdmadventures.com","jdz.ro","jellow.ml","jellyrolls.com","jeramywebb.com","je-recycle.info","jetable.com","jetable.fr.nf","jetable.net","jetable.org","jetable.pp.ua","jetableemail.com","jet-renovation.fr","jil.kr","jmail.ro","jnxjn.com","jobbikszimpatizans.hu","jobposts.net","jobs-to-be-done.net","joelpet.com","joetestalot.com","jopho.com","josefadventures.org","josse.ltd","jourrapide.com","j-p.us","jpco.org","jredm.com","jsonp.ro","jsrsolutions.com","jswfdb48z.com","jto.kr","jungkamushukum.com","junk.to","junk1e.com","junkmail.com","junkmail.ga","junkmail.gq","jupimail.com","just4spam.com","justemail.ml","justonemail.net","jv6hgh1.com","jwk4227ufn.com","jwork.ru","jyliananderik.com","k3663a40w.com","k4ds.org","kadag.ir","kademen.com","kah.pw","kaijenwan.com","kakadua.net","kalapi.org","kampoeng3d.club","kamsg.com","kanker.website","kaovo.com","karatraman.ml","kariplan.com","kartvelo.com","kasmail.com","kaspop.com","katztube.com","kazelink.ml","kcrw.de","keepmymail.com","kein.hk","keinhirn.de","keinpardon.de","keipino.de","kekecog.com","kemptvillebaseball.com","kemska.pw","kennedy808.com","ketiksms.club","kiani.com","kickmark.com","kiham.club","killmail.com","killmail.net","kimsdisk.com","kingsq.ga","kiois.com","kir.ch.tc","kismail.ru","kisstwink.com","kitnastar.com","kitten-mittons.com","klammlose.org","klassmaster.com","klassmaster.net","klipp.su","klipschx12.com","kloap.com","kludgemush.com","klzlk.com","kmhow.com","knol-power.nl","koiqe.com","kommunity.biz","kon42.com","kook.ml","kopagas.com","kopaka.net","kormail.xyz","kosmetik-obatkuat.com","kostenlosemailadresse.de","koszmail.pl","kozow.com","krsw.tk","krypton.tk","kuai909.com","kuaijenwan.com","kuatcak.cf","kuatcak.tk","kuatmail.gq","kuatmail.tk","kuhrap.com","kulturbetrieb.info","kumail8.info","kurzepost.de","kusrc.com","kwift.net","kwilco.net","kyal.pl","l33r.eu","l5.ca","l8oaypr.com","labetteraverouge.at","labo.ch","lacedmail.com","lackmail.net","lackmail.ru","ladymacbeth.tk","lags.us","lain.ch","lajoska.pe.hu","lakelivingstonrealestate.com","lal.kr","landmail.co","laoeq.com","laoho.com","last-chance.pro","lastmail.co","lastmail.com","lavabit.com","lawlita.com","lazyinbox.com","lazyinbox.us","lbe.kr","l-c-a.us","ldop.com","ldtp.com","ledoktre.com","lee.mx","leeching.net","leemail.me","legalrc.loan","lellno.gq","lenovog4.com","lesbugs.com","letmeinonthis.com","letmymail.com","letsmail9.com","letthemeatspam.com","lexisense.com","lez.se","lgxscreen.com","lhsdv.com","liamcyrus.com","libox.fr","lifebyfood.com","lifetotech.com","ligsb.com","likesyouback.com","lillemap.net","lilo.me","lilylee.com","lindenbaumjapan.com","link2mail.net","linkedintuts2016.pw","linuxmail.so","linuxpl.eu","liquidmail.de","litedrop.com","liveradio.tk","lkgn.se","lko.kr","llogin.ru","lmcudh4h.com","loadby.us","loan101.pro","localserv.no-ip.org","locanto1.club","locantofuck.top","locantospot.top","locantowsite.club","locateme10.com","locomodev.net","login-email.cf","login-email.ga","login-email.ml","login-email.tk","logular.com","loh.pp.ua","loin.in","lol.ovpn.to","lolfreak.net","lolitka.cf","lolitka.ga","lolitka.gq","lolito.tk","lolmail.biz","lom.kr","london2.space","lookugly.com","lopl.co.cc","lordsofts.com","lortemail.dk","losemymail.com","lostpositive.xyz","lovebitco.in","lovefall.ml","lovemeleaveme.com","lovesea.gq","loy.kr","lpfmgmtltd.com","lr7.us","lr78.com","lroid.com","lru.me","luckymail.org","lucyu.com","lukecarriere.com","lukemail.info","lukop.dk","luo.kr","luv2.us","lyfestylecreditsolutions.com","m21.cc","m2r60ff.com","m4ilweb.info","maaill.com","maboard.com","macr2.com","macromaid.com","magamail.com","maggotymeat.ga","magicbox.ro","maidlow.info","mail.aws910.com","mail.bccto.com","mail.bccto.me","mail.by","mail.illistnoise.com","mail.mailinator.com","mail.me","mail.mezimages.net","mail.partskyline.com","mail.wtf","mail.zp.ua","mail1.drama.tw","mail1.hacked.jp","mail1.ismoke.hk","mail1.i-taiwan.tv","mail1.kaohsiung.tv","mail1.kein.hk","mail114.net","mail1a.de","mail2.drama.tw","mail2.info.tm","mail2.ntuz.me","mail2.space","mail2.worksmobile.ml","mail2000.ru","mail21.cc","mail22.club","mail22.space","mail2rss.org","mail2tor.com","mail2world.com","mail3.drama.tw","mail333.com","mail4.drama.tw","mail4trash.com","mail4-us.org","mail4you.usa.cc","mail5.drama.tw","mail666.ru","mail707.com","mail72.com","mailabconline.com","mailadadad.org","mailapi.ru","mailback.com","mailbidon.com","mailbiz.biz","mailblocks.com","mailblog.biz","mailbox52.ga","mailbox72.biz","mailbox80.biz","mailbox92.biz","mailbucket.org","mailcat.biz","mailcatch.com","mailchop.com","mailcker.com","mailde.de","mailde.info","maildrop.cc","maildrop.cf","maildrop.ga","maildrop.gq","maildrop.ml","maildu.de","maildump.tk","maildx.com","mail-easy.fr","maileater.com","mailed.in","mailed.ro","maileimer.de","maileme101.com","mailexpire.com","mailf5.com","mailfa.tk","mail-fake.com","mailfall.com","mail-filter.com","mailfish.de","mailforspam.com","mailfree.ga","mailfree.gq","mailfree.ml","mailfreeonline.com","mailfs.com","mailgov.info","mailguard.me","mailgutter.com","mailhazard.com","mailhazard.us","mailhero.io","mailhz.me","mailimate.com","mailin8r.com","mailinatar.com","mailinater.com","mailinator.co.uk","mailinator.com","mailinator.gq","mailinator.info","mailinator.net","mailinator.org","mailinator.pl","mailinator.us","mailinator2.com","mailincubator.com","mailismagic.com","mailita.tk","mailjunk.cf","mailjunk.ga","mailjunk.gq","mailjunk.ml","mailjunk.tk","mailkor.xyz","mailmate.com","mailme.gq","mailme.ir","mailme.lv","mailme24.com","mailmetrash.com","mailmetrash.comilzilla.org","mailmoat.com","mailmoth.com","mailms.com","mailna.biz","mailna.in","mailna.me","mailnator.com","mailnesia.com","mailnull.com","mailonaut.com","mailorc.com","mailorg.org","mail-owl.com","mailpick.biz","mailpooch.com","mailproxsy.com","mailquack.com","mailrc.biz","mailrock.biz","mailsac.com","mailscheap.us","mailscrap.com","mailseal.de","mailshell.com","mailsiphon.com","mailslapping.com","mailslite.com","mailspam.xyz","mailspeed.ru","mailsucker.net","mail-temp.com","mailtemp.info","mailtemp.net","mailtemporaire.com","mail-temporaire.com","mailtemporaire.fr","mail-temporaire.fr","mail-tester.com","mailthunder.ml","mailtome.de","mailtothis.com","mailtrash.net","mailtrix.net","mailtv.net","mailtv.tv","mailwithyou.com","mailzi.ru","mailzilla.com","mailzilla.org","majorleaguemail.com","makemenaughty.club","makemetheking.com","malahov.de","malayalamdtp.com","malibucoding.com","mallinator.com","mandraghen.cf","manifestgenerator.com","mansiondev.com","manybrain.com","mao.igg.biz","markmurfin.com","martyvole.ml","mastahype.net","maswae.world","matchpol.net","materiali.ml","mattmason.xyz","max88.club","mbe.kr","mbx.cc","mcache.net","mciek.com","mechanicalresumes.com","medsheet.com","meepsheep.eu","mega.zik.dj","meinspamschutz.de","mejjang.xyz","meltedbrownies.com","meltmail.com","merry.pink","messagebeamer.de","messageden.net","messagesafe.co","messwiththebestdielikethe.rest","metroset.net","mettamarketingsolutions.com","metuwar.tk","mezimages.net","mfsa.ru","mhwolf.net","miaferrari.com","micsocks.net","midcoastcustoms.com","midcoastcustoms.net","midcoastsolutions.com","midcoastsolutions.net","midlertidig.com","midlertidig.net","midlertidig.org","mierdamail.com","migmail.net","migmail.pl","migserver2.ml","migumail.com","mihanmail.ir","mihep.com","mijnhva.nl","milavitsaromania.ro","mildin.org.ua","mindless.com","minecraftrabbithole.com","minex-coin.com","ministry-of-silly-walks.de","minsmail.com","mintemail.com","miodonski.ch","miraigames.net","misterpinball.de","mji.ro","mjukglass.nu","mko.kr","mkpfilm.com","ml8.ca","mm.my","mm5.se","mmail.igg.biz","mmailinater.com","mmmmail.com","moakt.co","moakt.com","moakt.ws","mobi.web.id","mobileninja.co.uk","mobilevpn.top","moburl.com","mockmyid.co","mockmyid.com","moeri.org","mohmal.com","mohmal.im","mohmal.in","mohmal.tech","momentics.ru","moncourrier.fr.nf","monemail.fr.nf","moneypipe.net","monmail.fr.nf","monumentmail.com","moonwake.com","moot.es","morahdsl.cf","moreawesomethanyou.com","moreorcs.com","morriesworld.ml","motique.de","mountainregionallibrary.net","mox.pp.ua","moza.pl","mozej.com","mr24.co","mrblacklist.gq","mrresourcepacks.tk","msa.minsmail.com","msgden.com","msgos.com","msgsafe.ninja","msk.ru","mspeciosa.com","msrc.ml","mswork.ru","msxd.com","mt2009.com","mt2014.com","mt2015.com","mt2016.com","mt2017.com","mtmdev.com","muathegame.com","muchomail.com","mucincanon.com","muehlacker.tk","muell.email","mufux.com","mugglenet.org","muimail.com","munoubengoshi.gq","mustbedestroyed.org","mutant.me","muttwalker.net","mvrht.com","mvrht.net","mwarner.org","mx0.wwwnew.eu","mxfuel.com","my.vondata.com.ar","my10minutemail.com","myalias.pw","mybitti.de","mycard.net.ua","mycleaninbox.net","mycorneroftheinter.net","myde.ml","mydemo.equipment","myecho.es","myemailboxy.com","myindohome.services","myinterserver.ml","mykickassideas.com","mymail-in.net","mymailjos.cf","mymailjos.ga","mymailjos.tk","mymailoasis.com","mymailto.cf","mymailto.ga","myn4s.ddns.net","myneocards.cz","mynetstore.de","mynetwork.cf","myopang.com","mypacks.net","mypartyclip.de","myphantomemail.com","mysamp.de","myspaceinc.com","myspaceinc.net","myspaceinc.org","myspacepimpedup.com","myspamless.com","mystvpn.com","mytemp.email","mytempemail.com","mytempmail.com","mythnick.club","mytrashmail.com","mywarnernet.net","myzx.com","n1nja.org","nabuma.com","nacho.pw","nada.email","nada.ltd","nakedtruth.biz","nanonym.ch","napalm51.cf","napalm51.ga","napalm51.gq","napalm51.ml","napalm51.tk","nationalgardeningclub.com","naturalious.com","naver.com","nctuiem.xyz","negated.com","neibu306.com","neibu963.com","neko2.net","neomailbox.com","nepwk.com","nervmich.net","nervtmich.net","net.ua","netmails.com","netmails.net","netricity.nl","netris.net","netviewer-france.com","netzidiot.de","neverbox.com","nevermail.de","newbpotato.tk","newdawnnm.xyz","new-purse.com","nextstopvalhalla.com","nezdiro.org","nezzart.com","nfast.net","nguyenusedcars.com","nh3.ro","nice-4u.com","nicewoodenbaskets.com","nicknassar.com","niepodam.pl","nie-podam.pl","nigge.rs","nike.coms.hk","nincsmail.com","nincsmail.hu","niwl.net","nko.kr","nl.szucsati.net","nm7.cc","nmail.cf","nnh.com","nnot.net","noblepioneer.com","nobugmail.com","nobulk.com","nobuma.com","noclickemail.com","nodezine.com","nodie.cc","nodnor.club","nogmailspam.info","noicd.com","nokiamail.com","nom.za","nomail.cf","nomail.ch","nomail.ga","nomail.nodns.xyz","nomail.pw","nomail.xl.cx","nomail2me.com","nomailthankyou.com","nomorespamemails.com","nonexisted.nondomain","nonspam.eu","nonspammer.de","nonze.ro","noref.in","norih.com","norseforce.com","northemquest.com","no-spam.ws","nospam.ze.tc","nospam4.us","nospamfor.us","nospammail.net","no-spammers.com","nospamthanks.info","nostrajewellery.xyz","nothingtoseehere.ca","nbox.notif.me","notif.me","notmailinator.com","notrnailinator.com","notsharingmy.info","no-ux.com","now.im","noway.pw","nowhere.org","nowmymail.com","npv.kr","nsaking.de","ntlhelp.net","ntub.cf","nubescontrol.com","nullbox.info","nuo.kr","nurfuerspam.de","nus.edu.sg","nut.cc","nutpa.net","nuts2trade.com","nwldx.com","ny7.me","o.spamtrap.ro","o060bgr3qg.com","o2stk.org","o7i.net","oai.asia","oalsp.com","obfusko.com","objectmail.com","obo.kr","obobbo.com","obxpestcontrol.com","oceancares.xyz","odaymail.com","odnorazovoe.ru","oerpub.org","offshore-proxies.net","ohaaa.de","ohdomain.xyz","ohi.tw","ohioticketpayments.xyz","oing.cf","okclprojects.com","okrent.us","okzk.com","olypmall.ru","omail.pro","omnievents.org","one.pl","one2mail.info","onebiginbox.com","onelegalplan.com","onemoremail.net","oneoffemail.com","oneoffmail.com","one-time.email","onewaymail.com","onlatedotcom.info","online.ms","onlineidea.info","onqin.com","ontyne.biz","oolus.com","oopi.org","opayq.com","opendns.ro","opentrash.com","opmmedia.ga","opp24.com","orangotango.cf","orangotango.ga","orangotango.gq","orangotango.ml","orangotango.tk","ordinaryamerican.net","oreidresume.com","org.ua","orgmbx.cc","oroki.de","oshietechan.link","otherinbox.codupmyspace.com","otherinbox.com","ourklips.com","ourpreviewdomain.com","outlawspam.com","outlookpro.net","ovpn.to","ovvee.com","owlpic.com","ownsyou.de","oxopoha.com","oyu.kr","ozyl.de","p33.org","p71ce1m.com","pa9e.com","pagamenti.tk","pakadebu.ga","paller.cf","pancakemail.com","paplease.com","parkcrestlakewood.xyz","parlimentpetitioner.tk","partskyline.com","pastebitch.com","paulfucksallthebitches.com","pavilionx2.com","payperex2.com","pc1520.com","pcmylife.com","pcusers.otherinbox.com","pe.hu","peapz.com","pecdo.com","pedimed-szczecin.pl","pencalc.xyz","penis.computer","penisgoes.in","pepbot.com","peppe.usa.cc","pepsi.coms.hk","personal-email.ml","peterdethier.com","petrzilka.net","pfui.ru","photo-impact.eu","photomark.net","phpbb.uu.gl","phus8kajuspa.cu.cc","pi.vu","pidmail.com","pig.pp.ua","pii.at","piki.si","pimpedupmyspace.com","pinehill-seattle.org","pingir.com","pisls.com","pjjkp.com","plexolan.de","plhk.ru","ploae.com","plw.me","podam.pl","poh.pp.ua","pojok.ml","pokemail.net","pokiemobile.com","polacy-dungannon.tk","polarkingxx.ml","politikerclub.de","poliusraas.tk","polyfaust.com","pooae.com","poofy.org","pookmail.com","poopiebutt.club","pop3.xyz","popesodomy.com","popgx.com","popmail.io","popmailserv.org","porco.cf","porco.ga","porco.gq","porco.ml","postacin.com","postalmail.biz","postonline.me","poutineyourface.com","powered.name","powlearn.com","poy.kr","pp.ua","ppetw.com","predatorrat.cf","predatorrat.ga","predatorrat.gq","predatorrat.ml","predatorrat.tk","premium-mail.fr","premiumperson.website","primabananen.net","privacy.net","privatdemail.net","privy-mail.com","privymail.de","privy-mail.de","procrackers.com","projectcl.com","project-xhabbo.com","proprietativalcea.ro","propscore.com","pro-tag.org","proxymail.eu","proxyparking.com","prs7.xyz","prtnx.com","prtz.eu","psh.me","psles.com","psoxs.com","psychedelicwarrior.xyz","pterodactyl.email","puglieisi.com","puji.pro","pulpmail.us","pumps-fashion.com","punkass.com","purcell.email","purelogistics.org","put2.net","puttanamaiala.tk","putthisinyourspamdatabase.com","pw.islam.igg.biz","pwp.lv","pwrby.com","q314.net","q5vm7pi9.com","qafatwallet.com","qasti.com","qbfree.us","qbi.kr","qc.to","qibl.at","qipmail.net","qiq.us","qisdo.com","qisoa.com","qj97r73md7v5.com","qoika.com","qq.my","qs2k.com","qsl.ro","qt1.ddns.net","qtum-ico.com","quadrafit.com","querydirect.com","quickinbox.com","quickmail.nl","quickreport.it","qvap.ru","qvy.me","qwickmail.com","r0.igg.biz","r4nd0m.de","r8r4p0cb.com","ra3.us","rabin.ca","rabiot.reisen","radecoratingltd.com","raetp9.com","rainmail.biz","rainwaterstudios.org","rajeshcon.cf","raketenmann.de","rancidhome.net","randomail.net","rao.kr","raqid.com","rarame.club","rawhidefc.org","rawmails.com","rax.la","raxtest.com","rbb.org","rcasd.com","rcpt.at","rcs7.xyz","reality-concept.club","reallymymail.com","realtyalerts.ca","receiveee.com","recipeforfailure.com","recode.me","reconmail.com","recursor.net","recyclemail.dk","redchan.it","reddithub.com","redfeathercrow.com","redpeanut.com","reftoken.net","refurhost.com","regbypass.com","regbypass.comsafe-mail.net","re-gister.com","regspaces.tk","rejectmail.com","rejo.technology","reliable-mail.com","remail.cf","remail.ga","remarkable.rocks","remote.li","renraku.in","reptilegenetics.com","resgedvgfed.tk","resolution4print.info","retkesbusz.nut.cc","revolvingdoorhoax.org","rfc822.org","rgphotos.net","rhombushorizons.com","rhyta.com","riamof.club","ricrk.com","riddermark.de","risingsuntouch.com","riski.cf","rklips.com","rko.kr","rkomo.com","rma.ec","rmqkr.net","rnailinator.com","ro.lt","robertspcrepair.com","rollindo.agency","ronnierage.net","rooftest.net","rootfest.net","rotaniliam.com","row.kr","rowe-solutions.com","royal.net","royaldoodles.org","rppkn.com","rq6668f.com","rr-0.cu.cc","rr-1.cu.cc","rr-2.cu.cc","rr-3.cu.cc","rrwbltw.xyz","rtotlmail.net","rtrtr.com","rudymail.ml","ruffrey.com","ruggedinbox.com","rumgel.com","runi.ca","ruru.be","rustydoor.com","ruu.kr","rvb.ro","rxtx.us","ryanb.com","s.bungabunga.cf","s0ny.net","s33db0x.com","s51zdw001.com","sabrestlouis.com","sach.ir","sackboii.com","safaat.cf","safe-mail.net","safermail.info","safersignup.com","safersignup.de","safetymail.info","safetypost.de","saharanightstempe.com","salmeow.tk","salonyfryzjerskie.info","samsclass.info","sandelf.de","sandwhichvideo.com","sanfinder.com","sanim.net","sanstr.com","sapya.com","sasa22.usa.cc","sast.ro","satukosong.com","sausen.com","savelife.ml","saynotospams.com","scatmail.com","scay.net","scbox.one.pl","schachrol.com","schafmail.de","schmeissweg.tk","schrott-email.de","sd3.in","sdf.org","sdfghyj.tk","searzh.com","secmail.pw","secretemail.de","sector2.org","secured-link.net","securehost.com.es","secure-mail.biz","secure-mail.cc","secure-mail.cn","secureserver.usa.cc","seekapps.com","sejaa.lv","selfdestructingmail.com","selfdestructingmail.org","semutkecil.com","semut-kecil.com","send22u.info","send-email.org","sendfree.org","sendingspecialflyers.com","sendspamhere.com","sendto.cf","senseless-entertainment.com","server.ms","servermaps.net","service4.ml","services391.com","sexforswingers.com","sexical.com","sexyalwasmi.top","sezet.com","sfmail.top","shapoo.ch","sharedmailbox.org","sharklasers.com","shhmail.com","shhuut.org","shieldedmail.com","shieldemail.com","shiftmail.com","shipfromto.com","shiphazmat.org","shipping-regulations.com","shippingterms.org","shitaway.cf","shitaway.ga","shitaway.gq","shitaway.ml","shitaway.tk","shitmail.de","shitmail.me","shitmail.org","shitposting.agency","shitware.nl","shmeriously.com","shockinmytown.cu.cc","shonky.info","shortmail.net","shotmail.ru","showme.social","showslow.de","shrib.com","shuffle.email","shurs.xyz","shut.name","shut.ws","sibmail.com","sify.com","sikux.com","siliwangi.ga","simpleitsecurity.info","simscity.cf","sin.cl","sina.com","sinda.club","sinfiltro.cl","singlespride.com","sinnlos-mail.de","sino.tw","siteposter.net","sizzlemctwizzle.com","sjuaq.com","skeefmail.com","skrx.tk","sky-inbox.com","sky-mail.ga","sky-ts.de","slapsfromlastnight.com","slaskpost.se","slave-auctions.net","slippery.email","slipry.net","slopsbox.com","slothmail.net","slowfoodfoothills.xyz","slowslow.de","slsrs.ru","slu21svky.com","slushmail.com","slutty.horse","sly.io","smallker.tk","smapfree24.com","smapfree24.de","smapfree24.eu","smapfree24.info","smapfree24.org","smashmail.de","smellfear.com","smellrear.com","smellypotato.tk","smoug.net","smsforum.ro","smtp99.com","smwg.info","snakemail.com","sneakemail.com","sneakmail.de","snkmail.com","socialfurry.org","social-mailer.tk","sofimail.com","sofortmail.de","sofort-mail.de","softpls.asia","sogetthis.com","sohu.com","sohu.net","soisz.com","solar-impact.pro","solvemail.info","solventtrap.wiki","sonshi.cf","soodmail.com","soodomail.com","soodonims.com","soon.it","sosmanga.com","spa.com","spaereplease.com","spam.flu.cc","spam.igg.biz","spam.la","spam.nut.cc","spam.org.es","spam.su","spam.usa.cc","spam4.me","spamail.de","spamarrest.com","spamavert.com","spam-be-gone.com","spambob.com","spambob.net","spambob.org","spambog.com","spambog.de","spambog.net","spambog.ru","spambooger.com","spambox.info","spambox.irishspringrealty.com","spambox.org","spambox.us","spamcannon.com","spamcannon.net","spamcero.com","spamcon.org","spamcorptastic.com","spamcowboy.com","spamcowboy.net","spamcowboy.org","spamday.com","spamdecoy.net","spamex.com","spamfighter.cf","spamfighter.ga","spamfighter.gq","spamfighter.ml","spamfighter.tk","spamfree.eu","spamfree24.com","spamfree24.de","spamfree24.eu","spamfree24.info","spamfree24.net","spamfree24.org","spamgoes.in","spamgourmet.com","spamgourmet.net","spamgourmet.org","spamherelots.com","spamhereplease.com","spamhole.com","spamify.com","spaminator.de","spamkill.info","spaml.com","spaml.de","spamlot.net","spammedic.com","spammotel.com","spamobox.com","spamoff.de","spamsalad.in","spamserver.cf","spamserver.ml","spamserver.tk","spamslicer.com","spamspot.com","spamstack.net","spamthis.co.uk","spamthisplease.com","spamtrail.com","spamtrap.co","spamtrap.ro","spamtroll.net","spamwc.de","spamwc.ga","spb.ru","speed.1s.fr","speedgaus.net","sperma.cf","spikio.com","spoofmail.de","spr.io","spritzzone.de","spybox.de","squizzy.de","squizzy.eu","squizzy.net","sqoai.com","sraka.xyz","sroff.com","sry.li","s-s.flu.cc","ssgjylc1013.com","ssoia.com","stanfordujjain.com","starlight-breaker.net","startfu.com","startkeys.com","statdvr.com","stathost.net","statiix.com","stealthypost.org","steambot.net","steamprank.com","stexsy.com","stg.malibucoding.com","stinkefinger.net","stophabbos.tk","stop-my-spam.cf","stop-my-spam.com","stop-my-spam.ga","stop-my-spam.ml","stop-my-spam.pp.ua","stop-my-spam.tk","storj99.com","storj99.top","stpetersandstpauls.xyz","streamfly.biz","streamfly.link","streetwisemail.com","stromox.com","stuckmail.com","studiopolka.tokyo","stuffmail.de","stumpfwerk.com","suburbanthug.com","suckmyd.com","sucknfuck.site","sudolife.me","sudolife.net","sudomail.biz","sudomail.com","sudomail.net","sudoverse.com","sudoverse.net","sudoweb.net","sudoworld.com","sudoworld.net","suioe.com","super-auswahl.de","supergreatmail.com","supermailer.jp","superplatyna.com","superrito.com","superstachel.de","suremail.info","surveyrnonkey.net","susi.ml","sute.jp","svk.jp","svxr.org","sweetpotato.ml","sweetxxx.de","swift10minutemail.com","sxylc113.com","sylvannet.com","symphonyresume.com","syujob.accountants","szerz.com","szucsati.net","t24e4p7.com","tm2mail.com","t3t97d1d.com","tafmail.com","tafoi.gr","taglead.com","tagmymedia.com","tagyourself.com","takedowns.org","talkinator.com","tanukis.org","taosjw.com","tapchicuoihoi.com","tarzanmail.cf","tarzanmail.ml","taskforcetech.com","tb-on-line.net","tdf-illustration.com","teamspeak3.ga","techemail.com","techgroup.me","techmail.info","teerest.com","teewars.org","tefl.ro","telecomix.pl","teleosaurs.xyz","teleworm.com","teleworm.us","tellos.xyz","temp.emeraldwebmail.com","temp.headstrong.de","temp1.club","temp15qm.com","temp2.club","tempail.com","tempalias.com","tempemail.biz","tempemail.co.za","tempemail.com","tempe-mail.com","tempemail.net","tempemail.org","tempemails.io","tempinbox.co.uk","tempinbox.com","tempmail.co","temp-mail.com","tempmail.de","temp-mail.de","tempmail.eu","tempmail.it","temp-mail.net","temp-mail.org","tempmail.pro","temp-mail.ru","tempmail.space","tempmail.us","tempmail2.com","tempmaildemo.com","tempmailer.com","tempmailer.de","tempomail.fr","temporamail.com","temporarily.de","temporarioemail.com.br","temporaryemail.net","temporaryemail.us","temporaryforwarding.com","temporaryinbox.com","temporarymailaddress.com","tempsky.com","tempthe.net","tempymail.com","tinoza.org","ternaklele.ga","test.com","test.de","testudine.com","tfwno.gf","thanksnospam.info","thankyou2010.com","thc.st","theaperturelabs.com","theaperturescience.com","theaviors.com","thebearshark.com","thebest4ever.com","thecloudindex.com","thediamants.org","thelightningmail.net","thelimestones.com","thembones.com.au","themostemail.com","theopposition.club","theplug.org","thereddoors.online","thescrappermovie.com","thespawningpool.com","theteastory.info","thetrash.email","thex.ro","thietbivanphong.asia","thisisnotmyrealemail.com","thismail.net","thisurl.website","thnikka.com","thraml.com","thrma.com","throam.com","thrott.com","throwam.com","throwawayemail.com","throwawayemailaddress.com","throwawaymail.com","throya.com","thunkinator.org","thxmate.com","tic.ec","ticket-please.ga","tijdelijkmailadres.nl","tilien.com","timekr.xyz","timgiarevn.com","timkassouf.com","tinyurl24.com","tipsb.com","tittbit.in","tiv.cc","tizi.com","tkitc.de","tkmy88m.com","tko.kr","tlpn.org","tm.slsrs.ru","tmail.com","tmail.ws","tmailinator.com","tmails.net","tmo.kr","tmpeml.info","tmpjr.me","tmpmail.net","tntitans.club","toddsbighug.com","toi.kr","toiea.com","tokem.co","tokenmail.de","tokuriders.club","tom.com","tonymanso.com","tool.pp.ua","toomail.biz","toon.ml","toothandmail.com","top101.de","top1mail.ru","top1post.ru","top9appz.info","topinrock.cf","topmall.com","topmall.info","topmall.org","topofertasdehoy.com","topranklist.de","toprumours.com","tormail.net","tormail.org","toss.pw","tosunkaya.com","totalvista.com","totesmail.com","tp-qa-mail.com","tqoai.com","tqosi.com","tracciabi.li","tradermail.info","tralalajos.ga","tralalajos.gq","tralalajos.ml","tralalajos.tk","tranceversal.com","trash2009.com","trash2010.com","trash2011.com","trash247.com","trash4.me","trash-amil.com","trashcanmail.com","trashdevil.com","trashdevil.de","trashemail.de","trashemails.de","trashinbox.com","trashmail.at","trash-mail.at","trash-mail.cf","trashmail.com","trash-mail.com","trashmail.de","trash-mail.de","trash-mail.ga","trash-mail.gq","trashmail.io","trashmail.me","trash-mail.ml","trashmail.net","trash-mail.net","trashmail.org","trash-mail.tk","trashmail.ws","trashmailer.com","trash-me.com","trashymail.com","trashymail.net","trasz.com","trayna.com","trbvm.com","trbvn.com","trbvo.com","trebusinde.cf","trebusinde.ml","trendingtopic.cl","trialmail.de","trickmail.net","trillianpro.com","trollproject.com","tropicalbass.info","trungtamtoeic.com","tryalert.com","ts-by-tashkent.cf","ts-by-tashkent.ga","ts-by-tashkent.gq","ts-by-tashkent.ml","ts-by-tashkent.tk","ttszuo.xyz","tualias.com","tucumcaritonite.com","tug.minecraftrabbithole.com","turoid.com","turual.com","tvchd.com","tverya.com","tweakly.net","twinmail.de","twocowmail.net","twkly.ml","twoweirdtricks.com","txt7e99.com","txtadvertise.com","tyhe.ro","tyldd.com","tz.tz","u14269.gq","u14269.ml","u6lvty2.com","ua3jx7n0w3.com","uacro.com","ubismail.net","ubm.md","ucche.us","ucupdong.ml","ucylu.com","uemail99.com","ufacturing.com","ufgqgrid.xyz","ugimail.net","uggsrock.com","uguuchantele.com","uha.kr","uhhu.ru","uikd.com","ujijima1129.gq","uk.to","ukexample.com","uko.kr","umail.net","umy.kr","undo.it","unids.com","unimark.org","unit7lahaina.com","unlimit.com","unmail.ru","uny.kr","upliftnow.com","uplipht.com","uploadnolimit.com","upy.kr","urbanchickencoop.com","urfey.com","urfunktion.se","uroid.com","us.af","us.to","usa.cc","uscaves.com","used-product.fr","username.e4ward.com","ushijima1129.cf","ushijima1129.ga","ushijima1129.gq","ushijima1129.ml","ushijima1129.tk","utiket.us","uu.gl","uvy.kr","uwork4.us","uyhip.com","uyu.kr","uz6tgwk.com","vaasfc4.tk","vaati.org","vaffanculo.gq","valemail.net","valhalladev.com","vanacken.xyz","vankin.de","vba.kr","vctel.com","vda.ro","vdig.com","vektik.com","venompen.com","verdejo.com","vermutlich.net","veryday.ch","veryday.eu","veryday.info","veryrealemail.com","vesa.pw","vfemail.net","vickaentb.cf","vickaentb.ga","vickaentb.gq","vickaentb.ml","vickaentb.tk","victime.ninja","victoriantwins.com","vidchart.com","viditag.com","viewcastmedia.com","viewcastmedia.net","viewcastmedia.org","viewcastmediae","vihost.ml","vihost.tk","vikingsonly.com","vinernet.com","vipmail.name","vipmail.pw","vip-mail.tk","vipsohu.net","vipxm.net","viralplays.com","viroleni.cu.cc","visa.coms.hk","vistomail.com","vixletdev.com","vkcode.ru","vmail.me","vmailing.info","vmani.com","vmpanda.com","vncoders.net","vnedu.me","voidbay.com","vomoto.com","vorga.org","votiputox.org","voxelcore.com","vpn.st","vpn33.top","vps30.com","vps911.net","vpsorg.pro","vpsorg.top","vpstraffic.com","vrmtr.com","vrsim.ir","vs904a6.com","vsimcard.com","vssms.com","vtxmail.us","vubby.com","vuiy.pw","vzlom4ik.tk","vztc.com","w22fe21.com","w3internet.co.uk","w4i3em6r.com","w918bsq.com","w9f.de","w9y9640c.com","wakingupesther.com","walala.org","walkmail.net","walkmail.ru","wallm.com","warau-kadoni.com","wasd.10mail.org","wasdfgh.cf","wasdfgh.ga","wasdfgh.gq","wasdfgh.ml","wasdfgh.tk","wasteland.rfc822.org","watchever.biz","watchfull.net","watch-harry-potter.com","watchironman3onlinefreefullmovie.com","wawi.es","wazabi.club","wbml.net","web.id","web2mailco.com","webarnak.fr.eu.org","web-contact.info","webcontact-france.eu","webemail.me","web-emailbox.eu","web-ideal.fr","webm4il.info","web-mail.pp.ua","webmeetme.com","webtrip.ch","webuser.in","wee.my","wef.gr","wefjo.grn.cc","wegas.ru","wegwerfadresse.de","wegwerf-email.at","wegwerfemail.com","wegwerfemail.de","weg-werf-email.de","wegwerf-email.de","wegwerfemail.info","wegwerfemail.net","wegwerf-email.net","wegwerfemail.org","wegwerf-email-addressen.de","wegwerfemailadresse.com","wegwerf-email-adressen.de","wegwerf-emails.de","wegwerfmail.de","wegwerfmail.info","wegwerfmail.net","wegwerfmail.org","wegwerpmailadres.nl","wegwrfmail.de","wegwrfmail.net","wegwrfmail.org","welikecookies.com","wem.com","wetrainbayarea.com","wetrainbayarea.org","wfgdfhj.tk","wg0.com","wh4f.org","whatiaas.com","whatifanalytics.com","whatpaas.com","whatsaas.com","whiffles.org","whitebot.ru","whopy.com","whtjddn.33mail.com","whyspam.me","wibblesmith.com","wickmail.net","widget.gg","wierie.tk","wiki.8191.at","wil.kr","wilemail.com","willhackforfood.biz","willselfdestruct.com","wimsg.com","winemaven.info","wins.com.br","wishan.net","wiz2.site","wlist.ro","wmail.cf","wmail.club","wolfmission.com","wolfsmail.ml","wolfsmail.tk","wolfsmails.tk","wollan.info","worldspace.link","wormseo.cn","wpg.im","wr9v6at7.com","wralawfirm.com","writeme.com","writeme.us","wronghead.com","ws.gy","wudet.men","wupics.com","wuzup.net","wuzupmail.net","www.bccto.com","www.bccto.me","www.e4ward.com","www.gishpuppy.com","www.live.co.kr.beo.kr","www.mailinator.com","www.redpeanut.com","wwwnew.eu","wxnw.net","wyvernia.net","wzukltd.com","x.ip6.li","x1x.spb.ru","x1x22716.com","x24.com","x4y.club","x5a9m8ugq.com","x8h8x941l.com","xagloo.co","xagloo.com","xcode.ro","xcompress.com","xcpy.com","xemaps.com","xents.com","xing886.uu.gl","xjoi.com","xl.cx","xlgaokao.com","xmail.com","xmaily.com","xn--9kq967o.com","xost.us","xoxox.cc","xoxy.net","xperiae5.com","xrho.com","xwaretech.com","xwaretech.info","xwaretech.net","xww.ro","xx-9.tk","xxhamsterxx.ga","xxlocanto.us","xxolocanto.us","xxqx3802.com","xy9ce.tk","xyzfree.net","xzsok.com","y.bcb.ro","y59.jp","ya.yomail.info","yadavnaresh.com.np","yandere.cu.cc","yanet.me","yapped.net","yaqp.com","yasser.ru","ycare.de","ycn.ro","ye.vc","yeah.net","yedi.org","yentzscholarship.xyz","yep.it","ygroupvideoarchive.com","ygroupvideoarchive.net","yhg.biz","ymail.net","ymail.org","ynmrealty.com","yodx.ro","yogamaven.com","yomail.info","yoo.ro","yop.ze.cx","yopmail.com","yopmail.fr","yopmail.gq","yopmail.info","yopmail.net","yopmail.org","yopmail.pp.ua","yordanmail.cf","yoru-dea.com","you.e4ward.com","youcankeepit.info","yougotgoated.com","youmail.ga","youmailr.com","youneedmore.info","youporn.flu.cc","youporn.igg.biz","youporn.usa.cc","yourdomain.com","yourewronghereswhy.com","yourlms.biz","yourtube.ml","youzend.net","you-spam.com","ypmail.webarnak.fr.eu.org","yroid.com","yspend.com","yugasandrika.com","yui.it","yuurok.com","yxzx.net","yy-h2.nut.cc","yyhmail.com","yyj295r31.com","yyolf.net","yytv.ddns.net","z0d.eu","z1p.biz","z7az14m.com","z86.ru","za.com","zain.site","zainmax.net","zaktouni.fr","zane.rocks","zasod.com","zasve.info","zavio.nl","ze.cx","ze.tc","zebins.com","zebins.eu","zebra.email","zehnminuten.de","zehnminutenmail.de","zepp.dk","zeta-telecom.com","zetmail.com","zfymail.com","zhcne.com","zhorachu.com","zhouemail.510520.org","zik.dj","zippymail.info","zipsendtest.com","zipzaps.de","zmail.info.tm","zoaxe.com","zoemail.com","zoemail.net","zoemail.org","zoetropes.org","zombie-hive.com","zomg.info","zp.ua","zumpul.com","zxcv.com","zxcvbnm.com","zxcxc.com","zzi.us","zzz.com","ethereal.email","c7fk799.com","amail.club","mvrht.net","zamge.com","0mixmail.info","69postix.info","nada.email","send22u.info","nada.ltd","banit.club","cmail.club","banit.me","zebra.email","qwfox.com","coolyour.pw","soioa.com","ziyap.com","ckoie.com","sawoe.com","tutanota.com","miauj.com","kumail8.info","mail4-us.org","loanins.org","carins.io","arockee.com","nwytg.com","emailsy.info","eth2btc.info","web2mailco.com","duck2.club","mozej.com","emlpro.com","cars2.club","its0k.com","myself.com","pdold.com","xvx.us"],NUMBERS_DOT_COM_REGEX:"\\d+\\.com",STRINGS:{}},BannedNames:{STRINGS:{},WWW_COM_URL_REGEX:"www\\..*\\.com"},BlocklyMusicSettings:{BLOCKLY_TOOLBOX_XML:2,BLOCK_DEFINITIONS:0,HELPER_CODE:1,SETTINGS:{0:"\nwindow.Blockly.Blocks['instrument_options'] = {\n    init: function() {\n        this.setColour(65);\n        this.setTooltip('Select an instrument to play');\n        this.setOutput(true, 'Sound');\n        this.appendDummyInput()\n            .appendField(' ')\n            .appendField(\n                new window.Blockly.FieldDropdown([\n                    ['hi hat',\n                    'https://codehs.com/uploads/8c57db4cd3e716ef5ba6506feb6a8c51'],\n                    ['bass kick',\n                    'https://codehs.com/uploads/56851c6c8380604bb869c3e737a749fd'],\n                    ['high tom',\n                    'https://codehs.com/uploads/7c805c82574ba9ab991ae20cc011b446'],\n                    ['mid-high tom',\n                    'https://codehs.com/uploads/51f941f3e4447e57c1b15ddfe4bc8c97'],\n                    ['mid tom',\n                    'https://codehs.com/uploads/3f695293c407af09f7e7db21ad6b0681'],\n                    ['low tom',\n                    'https://codehs.com/uploads/54f62461e91941dca377c785000cda53'],\n                    ['snare',\n                    'https://codehs.com/uploads/c8cd12a7468d719c4cdee70a8948ac39'],\n                    ['cymbal',\n                    'https://codehs.com/uploads/c386ae58e7bf155370c09af8ed5bf3fa'],\n                    ['guitar riff',\n                    'https://codehs.com/uploads/7651052d2e55253b06a49a40531bbd4f'],\n                    ['guitar chord',\n                    'https://codehs.com/uploads/a1af8801c56cb13208af7c7538fe1604'],\n                ]),\n                'INSTRUMENT'\n            );\n    }\n};\n\nwindow.Blockly.Blocks['instrument_options_techno'] = {\n    init: function() {\n        this.setColour(65);\n        this.setTooltip('Select an instrument to play');\n        this.setOutput(true, 'Sound');\n        this.appendDummyInput()\n            .appendField(' ')\n            .appendField(\n                new window.Blockly.FieldDropdown([\n                    ['electro bass kick',\n                    'https://codehs.com/uploads/b4158b3500d6a6481369dc5180fb7b4c'],\n                    ['high tom',\n                    'https://codehs.com/uploads/7c805c82574ba9ab991ae20cc011b446'],\n                    ['mid-high tom',\n                    'https://codehs.com/uploads/51f941f3e4447e57c1b15ddfe4bc8c97'],\n                    ['mid tom',\n                    'https://codehs.com/uploads/3f695293c407af09f7e7db21ad6b0681'],\n                    ['low tom',\n                    'https://codehs.com/uploads/54f62461e91941dca377c785000cda53'],\n                    ['clap',\n                    'https://codehs.com/uploads/79b51a63ceb68aa9171d6083c1ed815f'],\n                    ['shaker',\n                    'https://codehs.com/uploads/2e174ac0d952c51be90efb3021f7f040'],\n                    ['high clave',\n                    'https://codehs.com/uploads/689bfebeff70cc3901a6c3ebc94285d1'],\n                    ['low clave',\n                    'https://codehs.com/uploads/eac50fcf5dd5bf3f4eb8d62bfbe22d89'],\n                    ['reverse hi hat',\n                    'https://codehs.com/uploads/653a5ebc7f4ace01d9dc057005557396'],\n                    ['chirp',\n                    'https://codehs.com/uploads/baec7d7459bbed219dab0953b96812ca'],\n                    ['ding',\n                    'https://codehs.com/uploads/5e98273baf360259614ada4ebe3b4061'],\n                    ['reverberation',\n                    'https://codehs.com/uploads/1dbd7f3cfcac34a78105311785371c1c'],\n                    ['techno guitar riff',\n                    'https://codehs.com/uploads/2ea7ed0df9e43d1bf4b21822a7633d60'],\n                ]),\n                'INSTRUMENT'\n            );\n    }\n};\n\nwindow.Blockly.Blocks['instrument_options_hip_hop'] = {\n    init: function() {\n        this.setColour(65);\n        this.setTooltip('Select an instrument to play');\n        this.setOutput(true, 'Sound');\n        this.appendDummyInput()\n            .appendField(' ')\n            .appendField(\n                new window.Blockly.FieldDropdown([\n                    ['bass kick 1',\n                    'https://codehs.com/uploads/d40d494efa93e14c0e6dc9c4fa1f3055'],\n                    ['bass kick 2',\n                    'https://codehs.com/uploads/498d70f961b58c236f76312d62467326'],\n                    ['bass kick 3',\n                    'https://codehs.com/uploads/9f718f86232027f91c30cfd032159932'],\n                    ['bass kick 4',\n                    'https://codehs.com/uploads/d742579358d128d6f9161b2790a26e79'],\n                    ['bass kick 5',\n                    'https://codehs.com/uploads/31cafd0a9831c4714c765233ad82962a'],\n                    ['bass kick 6',\n                    'https://codehs.com/uploads/dbc84999ff8ab37cfda33efbd8547647'],\n                    ['bass kick 7',\n                    'https://codehs.com/uploads/e3ea5bc42e45945e99e03bdb041cb5c1'],\n                    ['hi hat 1',\n                    'https://codehs.com/uploads/e8bdc35706d408b4340f1dbcf1f2bf49'],\n                    ['hi hat 2',\n                    'https://codehs.com/uploads/1e7b3aec154f68f633d55d80dcc693a5'],\n                    ['hi hat 3',\n                    'https://codehs.com/uploads/b3dcfc9430927491c0b61f909b6d54e3'],\n                    ['hi hat 4',\n                    'https://codehs.com/uploads/c8a08088dad66a69dfe6e498d4e75f5c'],\n                    ['hi hat 5',\n                    'https://codehs.com/uploads/d717faa75d0365e839850d6e4f2f0d07'],\n                    ['hi hat 6',\n                    'https://codehs.com/uploads/23658a4d793d680589aa5515e14df051'],\n                    ['hi hat 7',\n                    'https://codehs.com/uploads/8e32c8215c493f9242f33fa83dc7ff0e'],\n                    ['snare 1',\n                    'https://codehs.com/uploads/85e7e36b5b70dfdc55cf8d66d189c12d'],\n                    ['snare 2',\n                    'https://codehs.com/uploads/1cd15d1f3cc96708a4258d3247bd6018'],\n                    ['snare 3',\n                    'https://codehs.com/uploads/ed05502c1230cf7b44cece163daff003'],\n                    ['snare 4',\n                    'https://codehs.com/uploads/cfe735c81ad0818dfcac120a58db581b'],\n                    ['snare 5',\n                    'https://codehs.com/uploads/fd89f0a8ab887e66901577d52d6572f3'],\n                    ['snare 6',\n                    'https://codehs.com/uploads/13f9e882963aeb6eefef9768efe75b9e'],\n                    ['snare 7',\n                    'https://codehs.com/uploads/78eddf3d59d9cd4bc5e20df636457d7d'],\n                    ['tom 1',\n                    'https://codehs.com/uploads/eaf3abd6a264892ad6fcd557be4f44fe'],\n                    ['tom 2',\n                    'https://codehs.com/uploads/e2b3a7b7da8afadf65c4e1ac27d49a2a'],\n                    ['shaker',\n                    'https://codehs.com/uploads/2e174ac0d952c51be90efb3021f7f040'],\n                    ['mixed cymbal',\n                    'https://codehs.com/uploads/de20e727e3b6e4a5ebc4972aa4c512a8'],\n                    ['record scratch',\n                    'https://codehs.com/uploads/fa9b5563717e6c71f587fd4280667263'],\n                    ['clap',\n                    'https://codehs.com/uploads/79b51a63ceb68aa9171d6083c1ed815f'],\n                ]),\n                'INSTRUMENT'\n            );\n    }\n};\n\nwindow.Blockly.Blocks['instrument_options_jazz'] = {\n    init: function() {\n        this.setColour(65);\n        this.setTooltip('Select an instrument to play');\n        this.setOutput(true, 'Sound');\n        this.appendDummyInput()\n            .appendField(' ')\n            .appendField(\n                new window.Blockly.FieldDropdown([\n                    ['jazz bass kick 1',\n                    'https://codehs.com/uploads/69a0e116a74b1138eef4f5cbd2e93e40'],\n                    ['jazz bass kick 2',\n                    'https://codehs.com/uploads/4ba32090a1544132193f4ba8469102b3'],\n                    ['jazz brush 1',\n                    'https://codehs.com/uploads/b825c5a81d33b4bac0fbde5e4cf69660'],\n                    ['jazz brush 2',\n                    'https://codehs.com/uploads/6f7c198a8df4dc7b01da57181afa495d'],\n                    ['jazz high hat 1',\n                    'https://codehs.com/uploads/a4bc459dafe1093e5c582332e15016ef'],\n                    ['jazz high hat 2',\n                    'https://codehs.com/uploads/5ea915b6069e345a2850ccfca3745ee0'],\n                    ['jazz percussion 1',\n                    'https://codehs.com/uploads/6d96864ec6aa42332bb83b0e61510e18'],\n                    ['jazz percussion 2',\n                    'https://codehs.com/uploads/895bf229fac865ae416b6fab5bab091d'],\n                    ['jazz percussion 3',\n                    'https://codehs.com/uploads/6a8c052076b81a2dc9685b5985c38cbf'],\n                    ['jazz percussion 4',\n                    'https://codehs.com/uploads/d13cc03b6866fe63d41d606d9dafa86e'],\n                    ['jazz percussion 5',\n                    'https://codehs.com/uploads/f97902f68678ca06d6eed928d13d6bd0'],\n                    ['jazz snare 1',\n                    'https://codehs.com/uploads/6656ef919a1c10c3da74335e107b4006'],\n                    ['jazz snare 2',\n                    'https://codehs.com/uploads/21cab20ffce70ddb9358e34ac724ff55'],\n                    ['jazz snare 3',\n                    'https://codehs.com/uploads/04e5aac6e24225acea2d0ab2dddc870c'],\n                    ['jazz snare 4',\n                    'https://codehs.com/uploads/562575445c0d980476ef89a53832e4be'],\n                    ['jazz snare 5',\n                    'https://codehs.com/uploads/1ecd96abb802a5a9d3b81dd1f21512a7'],\n                    ['saxophone 1',\n                    'https://codehs.com/uploads/9a61fbdb6040e956908dd47743ccfe81'],\n                    ['saxophone 2',\n                    'https://codehs.com/uploads/4c705af0aae24e750463aec8bf927f92'],\n                    ['saxophone 3',\n                    'https://codehs.com/uploads/c89b4db436dfd95e6fa8d1446fb88721'],\n                    ['saxophone 4',\n                    'https://codehs.com/uploads/aabbfd431f0811daaff7558c2aa19446'],\n                    ['saxophone 5',\n                    'https://codehs.com/uploads/1267b99fc3ae1409d5a3aa31cfa0d4f2'],\n                ]),\n                'INSTRUMENT'\n            );\n    }\n};\n\nwindow.Blockly.Blocks['instrument_options_misc'] = {\n    init: function() {\n        this.setColour(65);\n        this.setTooltip('Select an instrument to play');\n        this.setOutput(true, 'Sound');\n        this.appendDummyInput()\n            .appendField(' ')\n            .appendField(\n                new window.Blockly.FieldDropdown([\n                    ['bark',\n                    'https://static1.codehs.com/audio/bark3.mp3'],\n                    ['cat',\n                    'https://codehs.com/uploads/57158a6e38e8d16d1cfa7aebb087de55'],\n                    ['tiger growl',\n                    'https://codehs.com/uploads/248add71fd2117da23699eb9ef4ee453'],\n                    ['laser',\n                    'https://codehs.com/uploads/b53efc6db67f53a7a047e8bd6068adc7'],\n                    ['organ riff',\n                    'https://codehs.com/uploads/4226a2d6d0d3c5338f51390bd3079415'],\n                    ['explosion',\n                    'https://static1.codehs.com/audio/explosion.mp3'],\n                    ['service bell',\n                    'https://codehs.com/uploads/58905e81002aeb2dae5ace527815171d'],\n                    ['cheer',\n                    'https://codehs.com/uploads/eb81704a593e78ab102bf3a6905b5d9d'],\n                    ['whistle',\n                    'https://codehs.com/uploads/9937e7d0b059215b579a4e68900ed461'],\n                    ['bouncing ball',\n                    'https://codehs.com/uploads/d8d08572bfd7f20927fefd9dec85a3b6'],\n                    ['reverberation',\n                    'https://codehs.com/uploads/1dbd7f3cfcac34a78105311785371c1c'],\n                    ['grunt',\n                    'https://codehs.com/uploads/95a3d4154a008bf30eb8999c1b31e2a6'],\n                    ['sonar ping pong',\n                    'https://codehs.com/uploads/ce1b12c721d9e6606feaf79d5830c0d1'],\n                    ['ball rattling',\n                    'https://codehs.com/uploads/c280ca50d564cfc4159b5630be3a86e2'],\n                    ['tennis racket',\n                    'https://codehs.com/uploads/14d24fa7325fbb854b95c0e450321dc2'],\n                    [\"bounce\",\n                    \"https://codehs.com/uploads/a1f2ddef19dfce46f7e820342beaebfb\"],\n                ]),\n                'INSTRUMENT'\n            );\n    }\n};\n\nwindow.Blockly.JavaScript['instrument_options'] = function(block) {\n    var instrument = block.getFieldValue('INSTRUMENT');\n    return [instrument, window.Blockly.JavaScript.ORDER_ATOMIC];\n};\n\nwindow.Blockly.JavaScript['instrument_options_techno'] = function(block) {\n    var instrument = block.getFieldValue('INSTRUMENT');\n    return [instrument, window.Blockly.JavaScript.ORDER_ATOMIC];\n};\n\nwindow.Blockly.JavaScript['instrument_options_hip_hop'] = function(block) {\n    var instrument = block.getFieldValue('INSTRUMENT');\n    return [instrument, window.Blockly.JavaScript.ORDER_ATOMIC];\n};\n\nwindow.Blockly.JavaScript['instrument_options_jazz'] = function(block) {\n    var instrument = block.getFieldValue('INSTRUMENT');\n    return [instrument, window.Blockly.JavaScript.ORDER_ATOMIC];\n};\n\nwindow.Blockly.JavaScript['instrument_options_misc'] = function(block) {\n    var instrument = block.getFieldValue('INSTRUMENT');\n    return [instrument, window.Blockly.JavaScript.ORDER_ATOMIC];\n};\n\n\nwindow.Blockly.Blocks['instrument_custom'] = {\n    init: function() {\n        this.setColour(65);\n        this.setTooltip('INSTRUMENT');\n        this.setOutput(true, 'Sound');\n        this.appendDummyInput()\n            .appendField(' ')\n            .appendField(\n                new window.Blockly.FieldTextInput(\n                    'https://codehs.com/uploads/79b51a63ceb68aa9171d6083c1ed815f'\n                ),\n                'INSTRUMENT'\n            );\n    }\n};\n\nBlockly.JavaScript['instrument_custom'] = function(block) {\n    var instrument = block.getFieldValue('INSTRUMENT');\n    return [instrument, Blockly.JavaScript.ORDER_ATOMIC];\n};\n\nBlockly.Blocks['note_name'] = {\n  init: function() {\n    this.appendDummyInput()\n        .appendField(\"Note\");\n    this.appendDummyInput()\n        .appendField(new Blockly.FieldDropdown([\n            [\"A\",\"A\"],\n            [\"A#\",\"A#\"],\n            [\"B\",\"B\"],\n            [\"C\",\"C\"],\n            [\"C#\",\"C#\"],\n            [\"D\",\"D\"],\n            [\"D#\",\"D#\"],\n            [\"E\",\"E\"],\n            [\"F\",\"F\"],\n            [\"F#\",\"F#\"],\n            [\"G\",\"G\"],\n            [\"G#\",\"G#\"],\n        ]), \"NOTE\");\n    this.appendDummyInput()\n        .appendField(\"Octave\");\n    this.appendDummyInput()\n        .appendField(new Blockly.FieldNumber(4, 1, 8, 1), \"OCTAVE\");\n    this.setInputsInline(true);\n    this.setOutput(true, \"Sound\");\n    this.setColour(160);\n this.setTooltip(\"Block representing a note\");\n this.setHelpUrl(\"\");\n  }\n};\n\nBlockly.JavaScript['note_name'] = function(block) {\n  var dropdown_note = block.getFieldValue('NOTE');\n  var number_octave = block.getFieldValue('OCTAVE');\n  var code = \"\" + dropdown_note + number_octave;\n  return [code, Blockly.JavaScript.ORDER_ATOMIC];\n};\n\nBlockly.Blocks['chord_name'] = {\n  init: function() {\n    this.appendDummyInput()\n        .appendField(\"Chord\");\n    this.appendDummyInput()\n        .appendField(new Blockly.FieldDropdown([\n            [\"A\",\"A\"],\n            [\"A#\",\"A#\"],\n            [\"B\",\"B\"],\n            [\"C\",\"C\"],\n            [\"C#\",\"C#\"],\n            [\"D\",\"D\"],\n            [\"D#\",\"D#\"],\n            [\"E\",\"E\"],\n            [\"F\",\"F\"],\n            [\"F#\",\"F#\"],\n            [\"G\",\"G\"],\n            [\"G#\",\"G#\"],\n        ]), \"NAME\");\n    this.appendDummyInput()\n        .appendField(new Blockly.FieldDropdown([\n            [\"Major\", \"Major\"],\n            [\"Minor\", \"Minor\"],\n        ]), \"MODE\")\n    this.appendDummyInput()\n        .appendField(\"Octave\");\n    this.appendDummyInput()\n        .appendField(new Blockly.FieldNumber(4, 1, 8, 1), \"OCTAVE\");\n    this.setInputsInline(true);\n    this.setOutput(true, \"Sound\");\n    this.setColour(160);\n this.setTooltip(\"Block representing a chord\");\n this.setHelpUrl(\"\");\n  }\n};\n\nBlockly.JavaScript['chord_name'] = function(block) {\n  var dropdown_name = block.getFieldValue('NAME');\n  var dropdown_mode = block.getFieldValue('MODE');\n  var number_octave = block.getFieldValue('OCTAVE');\n\n  var chordMap = {\n      \"CMajor\": [\"C\", \"E\", \"G\"],\n      \"CMinor\": [\"C\", \"D#\", \"G\"],\n      \"C#Major\": [\"C#\", \"E#\", \"G#\"],\n      \"C#Minor\": [\"C#\", \"E\", \"G#\"],\n      \"DMajor\": [\"D\", \"F#\", \"A\"],\n      \"DMinor\": [\"D\", \"F\", \"A\"],\n      \"D#Major\": [\"D#\", \"G\", \"A#\"],\n      \"D#Minor\": [\"D#\", \"F#\", \"A#\"],\n      \"EMajor\": [\"E\", \"G#\", \"B\"],\n      \"EMinor\": [\"E\", \"G\", \"B\"],\n      \"FMajor\": [\"F\", \"A\", \"C\"],\n      \"FMinor\": [\"F\", \"G#\", \"C\"],\n      \"F#Major\": [\"F#\", \"A#\", \"C#\"],\n      \"F#Minor\": [\"F#\", \"A\", \"C#\"],\n      \"GMajor\": [\"G\", \"B\", \"D\"],\n      \"GMinor\": [\"G\", \"A#\", \"D\"],\n      \"G#Major\": [\"G#\", \"C\", \"D#\"],\n      \"G#Minor\": [\"G#\", \"B\", \"D#\"],\n      \"AMajor\": [\"A\", \"C#\", \"E\"],\n      \"AMinor\": [\"A\", \"C\", \"E\"],\n      \"A#Major\": [\"A#\", \"D\", \"F\"],\n      \"A#Minor\": [\"A#\", \"E#\", \"F\"],\n      \"BMajor\": [\"B\", \"D#\", \"F#\"],\n      \"BMinor\": [\"B\", \"D\", \"F#\"],\n  }\n  var name = dropdown_name + dropdown_mode;\n  var chord = chordMap[name];\n  var chordString =\"[\";\n  for(var i = 0; i < chord.length; i++){\n      chordString += '\"' + chord[i] + number_octave + '\",';\n  }\n  chordString += \"]\";\n\n  return [chordString, Blockly.JavaScript.ORDER_ATOMIC];\n};\n\nwindow.Blockly.Blocks['music_beats'] = {\n    init: function() {\n        this.setColour(330);\n        this.setTooltip('BEATS');\n        this.setInputsInline(true);\n        this.setPreviousStatement(true);\n        this.setNextStatement(true);\n\n        this.appendDummyInput()\n            .appendField(' ')\n            .appendField(\n                new window.Blockly.FieldCheckbox('FALSE'),\n                'BEAT1'\n            );\n        this.appendDummyInput()\n            .appendField(' ')\n            .appendField(\n                new window.Blockly.FieldCheckbox('FALSE'),\n                'BEAT2'\n            );\n        this.appendDummyInput()\n            .appendField(' ')\n            .appendField(\n                new window.Blockly.FieldCheckbox('FALSE'),\n                'BEAT3'\n            );\n        this.appendDummyInput()\n            .appendField(' ')\n            .appendField(\n                new window.Blockly.FieldCheckbox('FALSE'),\n                'BEAT4'\n            );\n        this.appendDummyInput()\n            .appendField(' ')\n            .appendField(\n                new window.Blockly.FieldCheckbox('FALSE'),\n                'BEAT5'\n            );\n        this.appendDummyInput()\n            .appendField(' ')\n            .appendField(\n                new window.Blockly.FieldCheckbox('FALSE'),\n                'BEAT6'\n            );\n        this.appendDummyInput()\n            .appendField(' ')\n            .appendField(\n                new window.Blockly.FieldCheckbox('FALSE'),\n                'BEAT7'\n            );\n        this.appendDummyInput()\n            .appendField(' ')\n            .appendField(\n                new window.Blockly.FieldCheckbox('FALSE'),\n                'BEAT8'\n            );\n        this.appendValueInput('INSTRUMENT')\n            .setCheck('Sound');\n    },\n};\n\nwindow.Blockly.JavaScript['music_beats'] = function(block) {\n    var beats = [];\n    beats.push(block.getFieldValue('BEAT1') === 'TRUE' ? '1' : '0');\n    beats.push(block.getFieldValue('BEAT2') === 'TRUE' ? '1' : '0');\n    beats.push(block.getFieldValue('BEAT3') === 'TRUE' ? '1' : '0');\n    beats.push(block.getFieldValue('BEAT4') === 'TRUE' ? '1' : '0');\n    beats.push(block.getFieldValue('BEAT5') === 'TRUE' ? '1' : '0');\n    beats.push(block.getFieldValue('BEAT6') === 'TRUE' ? '1' : '0');\n    beats.push(block.getFieldValue('BEAT7') === 'TRUE' ? '1' : '0');\n    beats.push(block.getFieldValue('BEAT8') === 'TRUE' ? '1' : '0');\n\n    var instrument = Blockly.JavaScript.valueToCode(\n        this, 'INSTRUMENT', Blockly.JavaScript.ORDER_ATOMIC\n    );\n    var chordToNotes = {\n        'Cmajor':[\"C\"]\n    }\n\n    var code = 'addMusicBeats(' + \"'\" + instrument + \"',\" + '[' + beats.join(', ') + ']);'\n\n    return code;\n\n    if(instrument.startsWith('http')){\n        var addSound = (\n            'hasTonePlayers = true;' +\n            'SOUNDS[measureBuilding].push(new window.Tone.Player(\"' +\n            (instrument || 'https://codehs.com/uploads/79b51a63ceb68aa9171d6083c1ed815f') +\n            '\").fan(fft).toMaster());'\n        );\n    } else if (instrument.startsWith('[')){\n        var addSound = 'SOUNDS[measureBuilding].push('\n            + (instrument || '[\"C4\", \"E4\", \"G4\"]')\n            + ');';\n    } else {\n        var addSound = 'SOUNDS[measureBuilding].push(\"' + (instrument || 'C4') + '\");';\n    }\n\n    var addMeasure = 'MEASURES[measureBuilding].push([' + beats.join(', ') + ']);';\n    return addSound + addMeasure;\n};\n\nwindow.Blockly.Blocks['set_tempo'] = {\n    init: function() {\n        this.setColour(65);\n        this.setInputsInline(true);\n        this.setPreviousStatement(true);\n        this.setNextStatement(true);\n        this.setTooltip('Set how fast the song will play (beats per minute)');\n        this.appendValueInput('TEMPO')\n            .setCheck('Number')\n            .appendField('Tempo: ');\n    },\n};\nwindow.Blockly.JavaScript['set_tempo'] = function(block) {\n    var tempo = Blockly.JavaScript.valueToCode(\n        this,\n        'TEMPO',\n        window.Blockly.JavaScript.ORDER_ATOMIC\n    );\n    return 'TEMPO = ' + (isNaN(tempo)  || tempo <= 0 ? 120 : tempo) + ';';\n};\n\nwindow.Blockly.Blocks['add_measure'] = {\n  init: function() {\n    this.appendDummyInput()\n        .appendField(\"Add Measure\");\n    this.appendStatementInput(\"MEASURE_STATEMENTS\")\n        .setCheck(null);\n    this.setPreviousStatement(true, null);\n    this.setNextStatement(true, null);\n    this.setColour(240);\n    this.setTooltip(\"Add a new measure of beats to your song\");\n    this.setHelpUrl(\"\");\n  }\n};\n\nwindow.Blockly.JavaScript['add_measure'] = function(block) {\n    var statements_lines = window.Blockly.JavaScript.statementToCode(block, 'MEASURE_STATEMENTS');\n    // TODO: Assemble JavaScript into code variable.\n\n    var code = (\n        'measureBuilding++;' +\n        'MEASURES.push([]);' +\n        'SOUNDS.push([]);'\n    );\n    return code + statements_lines;\n};\n\nBlockly.Blocks['set_on_color'] = {\n  init: function() {\n    this.appendDummyInput()\n        .appendField(\"Set On Color\")\n        .appendField(new Blockly.FieldColour(\"#ff0000\"), \"ON_COLOR\");\n    this.setInputsInline(true);\n    this.setPreviousStatement(true, null);\n    this.setNextStatement(true, null);\n    this.setColour(255);\n this.setTooltip(\"Set the color of beat tiles that are on\");\n this.setHelpUrl(\"\");\n  }\n};\n\nBlockly.JavaScript['set_on_color'] = function(block) {\n  var colour_name = block.getFieldValue('ON_COLOR');\n  var code = 'ON_COLOR = \"' + colour_name + '\";';\n  return code;\n};\n\nBlockly.Blocks['set_on_highlight_color'] = {\n  init: function() {\n    this.appendDummyInput()\n        .appendField(\"Set On Highlight Color\")\n        .appendField(new Blockly.FieldColour(\"#ff0000\"), \"ON_HIGHLIGHT_COLOR\");\n    this.setInputsInline(true);\n    this.setPreviousStatement(true, null);\n    this.setNextStatement(true, null);\n    this.setColour(255);\n this.setTooltip(\"Set the color of beat tiles that are on and highlighted\");\n this.setHelpUrl(\"\");\n  }\n};\n\nBlockly.JavaScript['set_on_highlight_color'] = function(block) {\n  var colour_name = block.getFieldValue('ON_HIGHLIGHT_COLOR');\n  var code = 'ON_HIGHLIGHT = \"' + colour_name + '\";';\n  return code;\n};\n\nBlockly.Blocks['set_off_color'] = {\n  init: function() {\n    this.appendDummyInput()\n        .appendField(\"Set Off Color\")\n        .appendField(new Blockly.FieldColour(\"#ff0000\"), \"OFF_COLOR\");\n    this.setInputsInline(true);\n    this.setPreviousStatement(true, null);\n    this.setNextStatement(true, null);\n    this.setColour(255);\n this.setTooltip(\"Set the color of beat tiles that are off\");\n this.setHelpUrl(\"\");\n  }\n};\n\nBlockly.JavaScript['set_off_color'] = function(block) {\n  var colour_name = block.getFieldValue('OFF_COLOR');\n  var code = 'OFF_COLOR = \"' + colour_name + '\";';\n  return code;\n};\n\nBlockly.Blocks['set_off_highlight_color'] = {\n  init: function() {\n    this.appendDummyInput()\n        .appendField(\"Set Off Highlight Color\")\n        .appendField(new Blockly.FieldColour(\"#ff0000\"), \"OFF_HIGHLIGHT_COLOR\");\n    this.setInputsInline(true);\n    this.setPreviousStatement(true, null);\n    this.setNextStatement(true, null);\n    this.setColour(255);\n this.setTooltip(\"Set the color of beat tiles that are off and highlighted\");\n this.setHelpUrl(\"\");\n  }\n};\n\nBlockly.JavaScript['set_off_highlight_color'] = function(block) {\n  var colour_name = block.getFieldValue('OFF_HIGHLIGHT_COLOR');\n  var code = 'OFF_HIGHLIGHT = \"' + colour_name + '\";';\n  return code;\n};\n\nwindow.Blockly.Blocks['set_viz_type'] = {\n    init: function() {\n        this.setColour(230);\n        this.setPreviousStatement(true);\n        this.setNextStatement(true);\n        this.appendDummyInput().appendField('Set Visualization Type');\n        this.setTooltip('Choose the type of visualization');\n        this.setInputsInline(true);\n        this.appendDummyInput()\n            .appendField(\n                new window.Blockly.FieldDropdown([\n                    ['grid', 'grid'],\n                    ['bar', 'bar'],\n                    ['circle', 'circle'],\n                    ['slider', 'slider']\n                ]),\n                'VIZTYPE'\n            );\n    },\n};\nwindow.Blockly.JavaScript['set_viz_type'] = function(block) {\n    return 'VISUALIZATION_TYPE = \"' + block.getFieldValue('VIZTYPE') + '\";';\n};\n\nwindow.Blockly.Blocks['set_color_scheme'] = {\n    init: function() {\n        this.setColour(230);\n        this.setPreviousStatement(true);\n        this.setNextStatement(true);\n        this.appendDummyInput().appendField('Set Color Scheme');\n        this.setTooltip('Choose the color scheme of the visualization');\n        this.setInputsInline(true);\n        this.appendDummyInput()\n            .appendField(\n                new window.Blockly.FieldDropdown([\n                    ['random', 'random'],\n                    ['sunset', 'sunset'],\n                    ['ocean', 'ocean'],\n                    ['flower', 'flower']\n                ]),\n                'COLOR'\n            );\n    },\n};\nwindow.Blockly.JavaScript['set_color_scheme'] = function(block) {\n    return 'COLOR_SCHEME = \"' + block.getFieldValue('COLOR') + '\";';\n};\n\nwindow.Blockly.Blocks['main_audio_program'] = {\n    init: function() {\n        this.setColour(160);\n        this.appendDummyInput().appendField('Song');\n        this.setTooltip('Place measures to build your song.');\n        this.appendStatementInput('DO');\n        this.setDeletable(false);\n    },\n};\n\nwindow.Blockly.JavaScript['main_audio_program'] = function(block) {\n    return (\n        'init();' +\n        'function main_program_function(){' +\n        window.Blockly.JavaScript.statementToCode(block, 'DO') +\n        '}main_program_function();playAudio();'\n    );\n};\n",1:'\nsetFullscreen();\nvar TEMPO = 200; // beats per minute\n\n/** === CREATE YOUR MEASURE OF DRUM BEATS HERE ===\n * There are 8 beats in the measure\n * 1 means the instrument will play at that beat.\n * 0 means the instrument will not play at that beat.\n */\n// var MEASURE = [];\nvar MEASURES = [];\nvar VISUALIZATION_TYPE = "grid";\nvar COLOR_SCHEME = "random";\nvar BEATS_PER_MEASURE = 8;\n\nvar SOUNDS = [];\n\n// var ON_COLOR = new Color(234, 79, 79);\n// var OFF_COLOR = new Color(242, 193, 193);\n// var ON_HIGHLIGHT = new Color(79, 100, 234);\n// var OFF_HIGHLIGHT = new Color(175, 183, 234);\nvar ON_COLOR = Randomizer.nextColor();\nvar OFF_COLOR = Randomizer.nextColor();\nvar ON_HIGHLIGHT = Randomizer.nextColor();\nvar OFF_HIGHLIGHT = Randomizer.nextColor();\nvar MIN_RED = Randomizer.nextInt(0, 255);\nvar MIN_GREEN = Randomizer.nextInt(0, 255);\nvar MIN_BLUE = Randomizer.nextInt(0, 255);\nvar MAX_RED = Randomizer.nextInt(0, 255);\nvar MAX_GREEN = Randomizer.nextInt(0, 255);\nvar MAX_BLUE = Randomizer.nextInt(0, 255);\nvar GAP = 4;\nvar VIZ_DELAY = 10;\nvar BOX_WIDTH;\nvar BOX_HEIGHT;\nvar WIDTH = getWidth();\nvar BASE_Y = getHeight();\nvar MAX_COLOR_VAL = 255;\nvar TOP_Y = 0;\n\nvar soundGrid;\nvar currentBeat = 0;\nvar measureBuilding = -1;\nvar measurePlaying = 0;\nvar synth;\nvar fft;\nvar hasTonePlayers = false;\nvar stopRecording;\n\nfunction setupAudioRecording() {\n    const toneContext = window.Tone.context;\n    const destination = toneContext.createMediaStreamDestination();\n    const recorder = new MediaRecorder(destination.stream);\n\n    const audioData = [];\n    const downloadElement = document.createElement("a");\n    recorder.addEventListener("dataavailable", (e) => audioData.push(e.data));\n    recorder.addEventListener("stop", (e) => {\n        downloadElement.href = URL.createObjectURL(\n            new Blob(audioData, { type: "audio/mpeg" })\n        );\n        downloadElement.setAttribute("download", "recording.mp3");\n        downloadElement.click();\n    });\n\n    fft.connect(destination);\n    recorder.start();\n\n    stopRecording = function () {\n        recorder.stop();\n    };\n}\n\nfunction playAudio() {\n    if (MEASURES.length) {\n        if (!SOUNDS[0].length) {\n            showText("Measure 1 is empty!");\n            return;\n        }\n        recalc();\n        var delay = (1 / TEMPO) * 60000; // Milliseconds per beat\n\n        synth = new window.Tone.PolySynth(10, window.Tone.Synth)\n            .fan(fft)\n            .toMaster();\n\n        if (hasTonePlayers) {\n            showText("Loading sounds...");\n            window.Tone.Buffer.on("load", function () {\n                removeAll();\n                setTimer(playGrid, delay);\n                if (VISUALIZATION_TYPE != "grid") {\n                    setTimer(updateViz, VIZ_DELAY);\n                } else {\n                    mouseClickMethod(toggleBox);\n                }\n            });\n        } else {\n            setTimer(playGrid, delay);\n            if (VISUALIZATION_TYPE != "grid") {\n                setTimer(updateViz, VIZ_DELAY);\n            } else {\n                mouseClickMethod(toggleBox);\n            }\n        }\n    } else {\n        showText("Create a measure!");\n    }\n}\n\nfunction updateViz() {\n    var fftValues = fft.getValue();\n    // Normalize fftValues\n    for (var i = 0; i < fftValues.length; i++) {\n        fftValues[i] = Math.min(\n            Math.max((fftValues[i] + 140) * 2, 0),\n            MAX_COLOR_VAL\n        );\n    }\n    visualize(fftValues);\n}\n\nfunction visualize(frame) {\n    if (VISUALIZATION_TYPE == "slider") {\n        sliderVisualization(frame);\n    } else if (VISUALIZATION_TYPE == "circle") {\n        circleVisualization(frame);\n    } else {\n        barVisualization(frame);\n    }\n}\n\n/*\n * Visualizes the frame array by making a vertical bar for each index\n * of the array. The height of the bar represents how loud that note of the\n * music is. Low indices represent low frequencies in the song (low notes)\n * high indices represent high frequencies in the song (high notes)\n */\nfunction barVisualization(frame) {\n    // Remove all the bars from the last point in the song\n    removeAll();\n\n    // Set the width of the bars\n    var barWidth = (WIDTH - GAP) / frame.length - GAP;\n\n    // Loop over the song data and make one bar for each index in the array\n    for (var i = 0; i < frame.length; i++) {\n        // Set the height of this bar to be the loudness at this index\n        var barHeight = frame[i];\n\n        // Make the bar\n        var bar = new Rectangle(barWidth, barHeight);\n        bar.setPosition(GAP + (barWidth + GAP) * i, BASE_Y - barHeight);\n\n        /*\n         * The color can be expressed as three values RGB for red, green, blue.\n         * Set the red value to be the max possible value\n         * Set the green value to be the max value minus how high the bar is\n         * Set the blue value to be the same as the bar height\n         * The result is a yellow bar that gets more pink the higher it is!\n         */\n        var color = getColor(barHeight);\n        bar.setColor(color);\n\n        add(bar);\n    }\n}\n\n/**\n * This function will be called every time the song changes\n * It is passed an array of audio data (a single frame in the song).\n * The low indices are low notes\n * and the high indices are high notes.\n * Visualize the array!\n */\nfunction sliderVisualization(frame) {\n    removeAll();\n\n    drawSliders(frame);\n\n    var space = WIDTH / frame.length;\n\n    for (var i = 0; i < frame.length; i++) {\n        var circle = new Circle(space / 2);\n        circle.setColor(getColor(frame[i]));\n        circle.setPosition(GAP + space * i, BASE_Y - frame[i]);\n        add(circle);\n    }\n}\n\n/**\n * Visualizes the given array of audio data by making several\n * circles across the center of the screen.\n * The left circles get big when there are a lot of low notes.\n * The right circles get big when there are a lot of high notes.\n * The circles are yellow when they are small, and pink when they are big!\n */\nfunction circleVisualization(frame) {\n    removeAll();\n\n    for (var i = 0; i < frame.length; i++) {\n        var radius = frame[i] / 2;\n\n        var circle = new Circle(radius);\n\n        var x = (getWidth() / frame.length) * i;\n        var y = getHeight() / 2;\n\n        circle.setPosition(x, y);\n\n        /*\n         * The color can be expressed as three values RGB for red, green, blue.\n         * Set the red value to be the max possible value\n         * Set the green value to be the max value minus how big the circle is\n         * Set the blue value to be the same as the circle radius\n         * The result is a yellow circle that gets more pink the bigger it is!\n         */\n        var color = getColor(frame[i]);\n        circle.setColor(color);\n        add(circle);\n    }\n}\n\n// Gets the proper color for the slider, based on height\nfunction getColor(height) {\n    if (COLOR_SCHEME == "sunset") {\n        return new Color(MAX_COLOR_VAL, MAX_COLOR_VAL - height, height);\n    } else if (COLOR_SCHEME == "ocean") {\n        return new Color(MAX_COLOR_VAL - height, MAX_COLOR_VAL, height);\n    } else if (COLOR_SCHEME == "flower") {\n        return new Color(height, MAX_COLOR_VAL - height, MAX_COLOR_VAL);\n    }\n    // Use the random MIN_COLOR and MAX_COLOR values\n    var ratio = Math.min(height / MAX_COLOR_VAL, 1);\n    var redRange = MAX_RED - MIN_RED;\n    var greenRange = MAX_GREEN - MIN_GREEN;\n    var blueRange = MAX_BLUE - MIN_BLUE;\n    var red = Math.max(Math.min(MIN_RED + ratio * redRange, MAX_COLOR_VAL), 0);\n    var green = Math.max(\n        Math.min(MIN_GREEN + ratio * greenRange, MAX_COLOR_VAL),\n        0\n    );\n    var blue = Math.max(\n        Math.min(MIN_BLUE + ratio * blueRange, MAX_COLOR_VAL),\n        0\n    );\n    return new Color(red, green, blue);\n}\n\n// Draws vertical lines on the screen for each slider\nfunction drawSliders(frame) {\n    var space = WIDTH / frame.length;\n\n    for (var i = 0; i < frame.length; i++) {\n        var line = new Line(GAP + space * i, TOP_Y, GAP + space * i, BASE_Y);\n        line.setColor(getColor(frame[i]));\n        add(line);\n    }\n}\n\nfunction showText(message) {\n    var text = new Text(message, "30px Monument Extended");\n    text.setPosition(\n        getWidth() / 2 - text.getWidth() / 2,\n        getHeight() / 2 + text.getHeight() / 2\n    );\n    add(text);\n}\n\nfunction playGrid() {\n    drawMeasure(soundGrid, currentBeat);\n    currentBeat = (currentBeat + 1) % BEATS_PER_MEASURE;\n    if (currentBeat == 0) {\n        measurePlaying = (measurePlaying + 1) % MEASURES.length;\n        recalc();\n    }\n}\n\nfunction toggleBox(e) {\n    var row = Math.floor(e.getY() / (GAP + BOX_HEIGHT));\n    var col = Math.floor(e.getX() / (GAP + BOX_WIDTH));\n\n    if (soundGrid.get(row, col) == 0) {\n        soundGrid.set(row, col, 1);\n    } else {\n        soundGrid.set(row, col, 0);\n    }\n}\n\nfunction drawMeasure(grid, currentBeat) {\n    if (VISUALIZATION_TYPE == "grid") {\n        removeAll();\n    }\n    for (var col = 0; col < grid.numCols(); col++) {\n        for (var row = 0; row < grid.numRows(); row++) {\n            var box = new Rectangle(BOX_WIDTH, BOX_HEIGHT);\n            box.setPosition(\n                GAP + col * (GAP + BOX_WIDTH),\n                GAP + row * (GAP + BOX_HEIGHT)\n            );\n            if (grid.get(row, col) == 1) {\n                if (currentBeat == col) {\n                    box.setColor(ON_HIGHLIGHT);\n                    var sound = SOUNDS[measurePlaying][row];\n                    if (\n                        sound.constructor === Array ||\n                        typeof sound === "string" ||\n                        sound instanceof String\n                    ) {\n                        // Sound is a note or chord, trigger it\n                        synth.triggerAttackRelease(sound, "4n");\n                    } else {\n                        // Sound is a player for an audio file, play the file\n                        sound.restart();\n                    }\n                } else {\n                    box.setColor(ON_COLOR);\n                }\n            } else {\n                if (currentBeat == col) {\n                    box.setColor(OFF_HIGHLIGHT);\n                } else {\n                    box.setColor(OFF_COLOR);\n                }\n            }\n            if (VISUALIZATION_TYPE == "grid") {\n                add(box);\n            }\n        }\n    }\n}\n\nfunction init() {\n    fft = new window.Tone.FFT(32);\n    if (typeof recordAudio !== "undefined" && recordAudio) {\n        setupAudioRecording();\n    }\n}\n\nfunction recalc() {\n    if (!SOUNDS[measurePlaying].length) {\n        stopAllTimers();\n        removeAll();\n        showText("Measure " + (measurePlaying + 1) + " is empty!");\n    } else {\n        BOX_WIDTH = (getWidth() - GAP) / BEATS_PER_MEASURE - GAP;\n        BOX_HEIGHT = (getHeight() - GAP) / SOUNDS[measurePlaying].length - GAP;\n        soundGrid = new Grid(SOUNDS[measurePlaying].length, BEATS_PER_MEASURE);\n        soundGrid.initFromArray(MEASURES[measurePlaying]);\n        BASE_Y = getHeight();\n        WIDTH = getWidth();\n    }\n}\n\n/**\n * Safely adds a sound to SOUNDS and MEASURES\n * So the error message will pop up to tell them they need to add a measure\n **/\nfunction addMusicBeats(instrument, beats) {\n    if (measureBuilding == -1) return;\n\n    if (instrument.startsWith("http")) {\n        hasTonePlayers = true;\n        SOUNDS[measureBuilding].push(\n            new window.Tone.Player(instrument).fan(fft).toMaster()\n        );\n    } else if (instrument.startsWith("[")) {\n        SOUNDS[measureBuilding].push(\n            instrument.replace(/["[\\]]/g, "").split(",", 3)\n        );\n    } else {\n        SOUNDS[measureBuilding].push(instrument || "C4");\n    }\n\n    MEASURES[measureBuilding].push(beats);\n}\n',2:'\n<xml xmlns="http://www.w3.org/1999/xhtml" id="toolbox" style="display: none;">\n\n<category name="Measures" colour="#5b5ba5">\n\n<block type="add_measure">\n</block>\n\n</category>\n\n<category name="Beats" colour="#a55b93">\n\n<block type="music_beats">\n\n<field name="BEAT1">FALSE\n</field>\n\n<field name="BEAT2">FALSE\n</field>\n\n<field name="BEAT3">FALSE\n</field>\n\n<field name="BEAT4">FALSE\n</field>\n\n<field name="BEAT5">FALSE\n</field>\n\n<field name="BEAT6">FALSE\n</field>\n\n<field name="BEAT7">FALSE\n</field>\n\n<field name="BEAT8">FALSE\n</field>\n\n</block>\n\n<block type="set_tempo">\n\n<value name="TEMPO">\n\n<block type="math_number">\n\n<field name="NUM">120\n</field>\n\n</block>\n\n</value>\n\n</block>\n\n</category>\n\n<category name="Drum Sounds" colour="#a5a55b" expanded="true">\n\n<category name="Rock Sounds" colour="#a5a55b">\n\n<block type="instrument_options">\n\n<field name="INSTRUMENT">https://codehs.com/uploads/8c57db4cd3e716ef5ba6506feb6a8c51\n</field>\n\n</block>\n\n</category>\n\n<category name="Hip Hop Sounds" colour="#a5a55b">\n\n<block type="instrument_options_hip_hop">\n\n<field name="INSTRUMENT">https://codehs.com/uploads/d40d494efa93e14c0e6dc9c4fa1f3055\n</field>\n\n</block>\n\n</category>\n\n<category name="Jazz Sounds" colour="#a5a55b">\n\n<block type="instrument_options_jazz">\n\n<field name="INSTRUMENT">https://codehs.com/uploads/69a0e116a74b1138eef4f5cbd2e93e40\n</field>\n\n</block>\n\n</category>\n\n<category name="Techno Sounds" colour="#a5a55b">\n\n<block type="instrument_options_techno">\n\n<field name="INSTRUMENT">https://codehs.com/uploads/b4158b3500d6a6481369dc5180fb7b4c\n</field>\n\n</block>\n\n</category>\n\n<category name="Random Sounds" colour="#a5a55b">\n\n<block type="instrument_options_misc">\n\n<field name="INSTRUMENT">https://static1.codehs.com/audio/bark3.mp3\n</field>\n\n</block>\n\n</category>\n\n<category name="Your Own Sound" colour="#a5a55b">\n\n<block type="instrument_custom">\n\n<field name="INSTRUMENT">https://codehs.com/uploads/79b51a63ceb68aa9171d6083c1ed815f\n</field>\n\n</block>\n\n</category>\n\n</category>\n\n<category name="Synth Sounds" colour="#5ba580">\n\n<block type="note_name">\n\n<field name="NOTE">C\n</field>\n\n<field name="OCTAVE">4\n</field>\n\n</block>\n\n<block type="chord_name">\n\n<field name="NAME">C\n</field>\n\n<field name="MODE">Major\n</field>\n\n<field name="OCTAVE">4\n</field>\n\n</block>\n\n</category>\n\n<category name="Visualization" colour="#6d5ba5">\n\n<block type="set_viz_type">\n\n<field name="VIZTYPE">grid\n</field>\n\n</block>\n\n<block type="set_color_scheme">\n\n<field name="COLOR">random\n</field>\n\n</block>\n\n<block type="set_on_color">\n\n<field name="ON_COLOR">#ff0000\n</field>\n\n</block>\n\n<block type="set_off_color">\n\n<field name="OFF_COLOR">#ff0000\n</field>\n\n</block>\n\n<block type="set_on_highlight_color">\n\n<field name="ON_HIGHLIGHT_COLOR">#ff0000\n</field>\n\n</block>\n\n<block type="set_off_highlight_color">\n\n<field name="OFF_HIGHLIGHT_COLOR">#ff0000\n</field>\n\n</block>\n\n</category>\n\n<category name="Loops" colour="#5CA65C">\n\n<block type="controls_repeat_ext">\n\n<value name="TIMES">\n\n<shadow type="math_number">\n\n<field name="NUM">10\n</field>\n\n</shadow>\n\n</value>\n\n</block>\n\n</category>\n\n<category name="Example Beats" colour="#5b5ba5" expanded="false">\n\n<category name="West Coast Beat" colour="#5b5ba5">\n\n<block type="add_measure" id="#:K,VE$9U%#]spVP*:wC">\n<statement name="MEASURE_STATEMENTS">\n<block type="set_tempo" id="R+)%gZD2ez,kx|Kij=a%">\n<value name="TEMPO">\n<block type="math_number" id="=/F[4=j8f6w0cU=Z9OMs">\n<field name="NUM">90\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="1^/FM+y*S_wgKE4sPB@g">\n<field name="BEAT1">FALSE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">FALSE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">FALSE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">FALSE\n</field>\n<field name="BEAT8">FALSE\n</field>\n<value name="INSTRUMENT">\n<block type="instrument_custom" id="y,ZkcBiE]r?v`MdsOh+#">\n<field name="INSTRUMENT">https://codehs.com/uploads/44c3fd8a010a85875c3089ee86f31560\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="dJMQ[%R;sNOi0VgSTD!9">\n<field name="BEAT1">TRUE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">FALSE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">FALSE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">FALSE\n</field>\n<field name="BEAT8">FALSE\n</field>\n<value name="INSTRUMENT">\n<block type="instrument_custom" id="dQic=ZfZm[zAF_R=pwS9">\n<field name="INSTRUMENT">https://codehs.com/uploads/d74d94cd6398645a8d7da41829cf6af2\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="ij{TxO8*TxX`vy*a`K[B">\n<field name="BEAT1">FALSE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">FALSE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">FALSE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">FALSE\n</field>\n<field name="BEAT8">FALSE\n</field>\n<value name="INSTRUMENT">\n<block type="instrument_options_jazz" id="fQHO5G+5!`cMz?e88/m}">\n<field name="INSTRUMENT">https://codehs.com/uploads/4ba32090a1544132193f4ba8469102b3\n</field>\n</block>\n</value>\n</block>\n</next>\n</block>\n</next>\n</block>\n</next>\n</block>\n</statement>\n<next>\n<block type="add_measure" id="Q^qxL6CbP_lbk:0dMdx|">\n<statement name="MEASURE_STATEMENTS">\n<block type="music_beats" id="B:#FOu0MEZg83O!S~7sd">\n<field name="BEAT1">FALSE\n</field>\n<field name="BEAT2">TRUE\n</field>\n<field name="BEAT3">FALSE\n</field>\n<field name="BEAT4">TRUE\n</field>\n<field name="BEAT5">FALSE\n</field>\n<field name="BEAT6">TRUE\n</field>\n<field name="BEAT7">FALSE\n</field>\n<field name="BEAT8">TRUE\n</field>\n<value name="INSTRUMENT">\n<block type="instrument_custom" id="yhC1DHx%eK#`UsFS{Bp+">\n<field name="INSTRUMENT">https://codehs.com/uploads/44c3fd8a010a85875c3089ee86f31560\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="7RiBto_Sas9nCdApF.v+">\n<field name="BEAT1">TRUE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">FALSE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">FALSE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">FALSE\n</field>\n<field name="BEAT8">FALSE\n</field>\n<value name="INSTRUMENT">\n<block type="instrument_custom" id="B4-X~R)U9cW@faFMzWzV">\n<field name="INSTRUMENT">https://codehs.com/uploads/d74d94cd6398645a8d7da41829cf6af2\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="$raJ[6.e9|Qaykasn*Ad">\n<field name="BEAT1">FALSE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">FALSE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">FALSE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">FALSE\n</field>\n<field name="BEAT8">FALSE\n</field>\n<value name="INSTRUMENT">\n<block type="instrument_options_jazz" id="U^Bii%TC^ypT_50]L1J_">\n<field name="INSTRUMENT">https://codehs.com/uploads/4ba32090a1544132193f4ba8469102b3\n</field>\n</block>\n</value>\n</block>\n</next>\n</block>\n</next>\n</block>\n</statement>\n<next>\n<block type="controls_repeat_ext" id="g2*`]@u1foYu/g[p/io6">\n<value name="TIMES">\n<block type="math_number" id="s(p=32somjDc$Jpf+Mfb">\n<field name="NUM">2\n</field>\n</block>\n</value>\n<statement name="DO">\n<block type="add_measure" id="s0TzTNE|D{}$t/92%q+[">\n<statement name="MEASURE_STATEMENTS">\n<block type="music_beats" id="V-j5peoAwi%OnOPH;Rsj">\n<field name="BEAT1">FALSE\n</field>\n<field name="BEAT2">TRUE\n</field>\n<field name="BEAT3">FALSE\n</field>\n<field name="BEAT4">TRUE\n</field>\n<field name="BEAT5">FALSE\n</field>\n<field name="BEAT6">TRUE\n</field>\n<field name="BEAT7">FALSE\n</field>\n<field name="BEAT8">TRUE\n</field>\n<value name="INSTRUMENT">\n<block type="instrument_custom" id="rU}Uk_T[$;|K6F-SbOX,">\n<field name="INSTRUMENT">https://codehs.com/uploads/44c3fd8a010a85875c3089ee86f31560\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="7jh}71@eg#JjgaF1$EhJ">\n<field name="BEAT1">TRUE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">FALSE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">FALSE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">FALSE\n</field>\n<field name="BEAT8">FALSE\n</field>\n<value name="INSTRUMENT">\n<block type="instrument_custom" id="0p#Ph+8N!?x2N}sAW1Jw">\n<field name="INSTRUMENT">https://codehs.com/uploads/d74d94cd6398645a8d7da41829cf6af2\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="r+6-+]c-~8?ZP@]xvSzG">\n<field name="BEAT1">TRUE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">TRUE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">TRUE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">TRUE\n</field>\n<field name="BEAT8">FALSE\n</field>\n<value name="INSTRUMENT">\n<block type="instrument_options" id="aFZ/qdU/s+O/iDlmzdTz">\n<field name="INSTRUMENT">https://codehs.com/uploads/56851c6c8380604bb869c3e737a749fd\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="+yQUIfl{#KH%=YgV3[.]">\n<field name="BEAT1">TRUE\n</field>\n<field name="BEAT2">TRUE\n</field>\n<field name="BEAT3">TRUE\n</field>\n<field name="BEAT4">TRUE\n</field>\n<field name="BEAT5">TRUE\n</field>\n<field name="BEAT6">TRUE\n</field>\n<field name="BEAT7">TRUE\n</field>\n<field name="BEAT8">TRUE\n</field>\n<value name="INSTRUMENT">\n<block type="instrument_options_hip_hop" id="Edm98S:M:)3M0H8fC2Wk">\n<field name="INSTRUMENT">https://codehs.com/uploads/b3dcfc9430927491c0b61f909b6d54e3\n</field>\n</block>\n</value>\n</block>\n</next>\n</block>\n</next>\n</block>\n</next>\n</block>\n</statement>\n</block>\n</statement>\n</block>\n</next>\n</block>\n</next>\n</block>\n\n</category>\n\n<category name="Classic Hip Hop Beat" colour="#5b5ba5">\n\n<block type="controls_repeat_ext" id="5^TH27%odPR;A3pN1kfA">\n<value name="TIMES">\n<shadow type="math_number" id="Z~x7{.:W,7:eDm{L.d;1">\n<field name="NUM">2\n</field>\n</shadow>\n</value>\n<statement name="DO">\n<block type="add_measure" id="#:K,VE$9U%#]spVP*:wC">\n<statement name="MEASURE_STATEMENTS">\n<block type="set_tempo" id="--twEZu_3_hHW,q%Yi|K">\n<value name="TEMPO">\n<block type="math_number" id="aMx@T7L%j2NTt:lG;{.A">\n<field name="NUM">88\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="Zk?iVFwGiU/(8G!{:o(H">\n<field name="BEAT1">TRUE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">FALSE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">TRUE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">FALSE\n</field>\n<field name="BEAT8">FALSE\n</field>\n<value name="INSTRUMENT">\n<block type="instrument_custom" id="4i5{$p*4^(^[]0T!yI)t">\n<field name="INSTRUMENT">https://codehs.com/uploads/2f6ec54916d9240e4016041f75ec84f4\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="MK,6-JW/5qVGiH?2$_Wl">\n<field name="BEAT1">TRUE\n</field>\n<field name="BEAT2">TRUE\n</field>\n<field name="BEAT3">TRUE\n</field>\n<field name="BEAT4">TRUE\n</field>\n<field name="BEAT5">TRUE\n</field>\n<field name="BEAT6">TRUE\n</field>\n<field name="BEAT7">TRUE\n</field>\n<field name="BEAT8">TRUE\n</field>\n<value name="INSTRUMENT">\n<block type="instrument_options_hip_hop" id="WF(2heqnbqhy+B;1kjKC">\n<field name="INSTRUMENT">https://codehs.com/uploads/e8bdc35706d408b4340f1dbcf1f2bf49\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="dtMo}-9kNibZ1B8=R6q2">\n<field name="BEAT1">FALSE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">FALSE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">FALSE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">FALSE\n</field>\n<field name="BEAT8">FALSE\n</field>\n<value name="INSTRUMENT">\n<block type="instrument_options_hip_hop" id=".JbsA4(f5ob~={Uc7v!O">\n<field name="INSTRUMENT">https://codehs.com/uploads/85e7e36b5b70dfdc55cf8d66d189c12d\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="qVnobn=N1);!27LDS_|z">\n<field name="BEAT1">FALSE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">FALSE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">FALSE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">TRUE\n</field>\n<field name="BEAT8">FALSE\n</field>\n<value name="INSTRUMENT">\n<block type="instrument_options_hip_hop" id="IWlDo4/!Mac-+^2/sDtL">\n<field name="INSTRUMENT">https://codehs.com/uploads/d40d494efa93e14c0e6dc9c4fa1f3055\n</field>\n</block>\n</value>\n</block>\n</next>\n</block>\n</next>\n</block>\n</next>\n</block>\n</next>\n</block>\n</statement>\n</block>\n</statement>\n<next>\n<block type="controls_repeat_ext" id="jtr+)s?O]?3UzADvuXfZ">\n<value name="TIMES">\n<block type="math_number" id="x#Rhmq6$y^Y-B709|#!0">\n<field name="NUM">2\n</field>\n</block>\n</value>\n<statement name="DO">\n<block type="add_measure" id="}yA8L=7f(1UMrACWiJS,">\n<statement name="MEASURE_STATEMENTS">\n<block type="music_beats" id="_Uacr#FG+Ib7J,WHC~Lr">\n<field name="BEAT1">TRUE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">FALSE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">TRUE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">FALSE\n</field>\n<field name="BEAT8">FALSE\n</field>\n<value name="INSTRUMENT">\n<block type="instrument_custom" id="YckAkvV!2~yMsm3Mav`a">\n<field name="INSTRUMENT">https://codehs.com/uploads/2f6ec54916d9240e4016041f75ec84f4\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="81BJU~!Qe)Dg*UA%SHEX">\n<field name="BEAT1">TRUE\n</field>\n<field name="BEAT2">TRUE\n</field>\n<field name="BEAT3">TRUE\n</field>\n<field name="BEAT4">TRUE\n</field>\n<field name="BEAT5">TRUE\n</field>\n<field name="BEAT6">TRUE\n</field>\n<field name="BEAT7">TRUE\n</field>\n<field name="BEAT8">TRUE\n</field>\n<value name="INSTRUMENT">\n<block type="instrument_options_hip_hop" id="zi|DqxA3OwHF8X-f1.WW">\n<field name="INSTRUMENT">https://codehs.com/uploads/e8bdc35706d408b4340f1dbcf1f2bf49\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id=".HEV(;IT_XL?%2/GC?4{">\n<field name="BEAT1">FALSE\n</field>\n<field name="BEAT2">TRUE\n</field>\n<field name="BEAT3">FALSE\n</field>\n<field name="BEAT4">TRUE\n</field>\n<field name="BEAT5">FALSE\n</field>\n<field name="BEAT6">TRUE\n</field>\n<field name="BEAT7">FALSE\n</field>\n<field name="BEAT8">TRUE\n</field>\n<value name="INSTRUMENT">\n<block type="instrument_options_hip_hop" id="h:e^eye=fsjxzp9p,zHz">\n<field name="INSTRUMENT">https://codehs.com/uploads/85e7e36b5b70dfdc55cf8d66d189c12d\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="LHX30kJM/xA0`=nBs|1y">\n<field name="BEAT1">TRUE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">TRUE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">TRUE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">TRUE\n</field>\n<field name="BEAT8">FALSE\n</field>\n<value name="INSTRUMENT">\n<block type="instrument_options_hip_hop" id="s`GU64D#+Sfmonqf3Z-i">\n<field name="INSTRUMENT">https://codehs.com/uploads/d40d494efa93e14c0e6dc9c4fa1f3055\n</field>\n</block>\n</value>\n</block>\n</next>\n</block>\n</next>\n</block>\n</next>\n</block>\n</statement>\n</block>\n</statement>\n</block>\n</next>\n</block>\n\n</category>\n\n<category name="Trap Beat" colour="#5b5ba5">\n\n<block type="controls_repeat_ext" id="WEpL4TTX[=09lQ?/w`{y">\n<value name="TIMES">\n<shadow type="math_number" id="H^R1(rV^Kdu30#vA)qV:">\n<field name="NUM">2\n</field>\n</shadow>\n</value>\n<statement name="DO">\n<block type="set_tempo" id="cunt.Qms+MYvr3Z*1(QR">\n<value name="TEMPO">\n<block type="math_number" id="i_nA-~]O?$H*ruxEhCbZ">\n<field name="NUM">140\n</field>\n</block>\n</value>\n<next>\n<block type="add_measure" id="NHFN+yGM,wXV=%rm,rM(">\n<statement name="MEASURE_STATEMENTS">\n<block type="music_beats" id="U_@0[D3C.cRWeOq^1pX-">\n<field name="BEAT1">TRUE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">FALSE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">FALSE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">FALSE\n</field>\n<field name="BEAT8">FALSE\n</field>\n<value name="INSTRUMENT">\n<block type="note_name" id="@Gg30WUc_ia)}T{ry|ql">\n<field name="NOTE">E\n</field>\n<field name="OCTAVE">3\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="Ioc]#Bx1XE:Wl_w;J4s;">\n<field name="BEAT1">FALSE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">TRUE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">FALSE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">FALSE\n</field>\n<field name="BEAT8">FALSE\n</field>\n<value name="INSTRUMENT">\n<block type="note_name" id="sD].={zvwZ%R}Kd+_z$A">\n<field name="NOTE">A\n</field>\n<field name="OCTAVE">3\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="e5LmE(3pgbbH4Mi~5}Xt">\n<field name="BEAT1">FALSE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">FALSE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">FALSE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">FALSE\n</field>\n<field name="BEAT8">FALSE\n</field>\n<value name="INSTRUMENT">\n<block type="note_name" id="Df4L1p47[V8o%?=AeN6B">\n<field name="NOTE">D\n</field>\n<field name="OCTAVE">3\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="(}l31T~m(8};8rHZLhf_">\n<field name="BEAT1">FALSE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">FALSE\n</field>\n<field name="BEAT4">TRUE\n</field>\n<field name="BEAT5">FALSE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">FALSE\n</field>\n<field name="BEAT8">FALSE\n</field>\n<value name="INSTRUMENT">\n<block type="note_name" id="*QMF?_k$c3!~QKPkEJNz">\n<field name="NOTE">B\n</field>\n<field name="OCTAVE">3\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="zMnyKI{dgO*3wITepw,U">\n<field name="BEAT1">FALSE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">FALSE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">TRUE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">FALSE\n</field>\n<field name="BEAT8">FALSE\n</field>\n<value name="INSTRUMENT">\n<block type="note_name" id="_G?9$=OXw?9E~=E!y~Cy">\n<field name="NOTE">C\n</field>\n<field name="OCTAVE">4\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="%-HsCVr}Q?1|.y!G`bF_">\n<field name="BEAT1">FALSE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">FALSE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">FALSE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">FALSE\n</field>\n<field name="BEAT8">FALSE\n</field>\n<value name="INSTRUMENT">\n<block type="note_name" id="y=SIP07AWMC-Rqo]=]sG">\n<field name="NOTE">F\n</field>\n<field name="OCTAVE">3\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="3!.dq!cl;MDz%%/8s-[#">\n<field name="BEAT1">FALSE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">FALSE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">FALSE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">TRUE\n</field>\n<field name="BEAT8">FALSE\n</field>\n<value name="INSTRUMENT">\n<block type="note_name" id="[c=MR/`X_+]MfNEPq=2k">\n<field name="NOTE">B\n</field>\n<field name="OCTAVE">3\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="!Rr.rbs}qs,/ls9zh$(*">\n<field name="BEAT1">FALSE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">FALSE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">FALSE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">FALSE\n</field>\n<field name="BEAT8">TRUE\n</field>\n<value name="INSTRUMENT">\n<block type="note_name" id="]jskz}P!7n5Ga,O2x.Lu">\n<field name="NOTE">F\n</field>\n<field name="OCTAVE">2\n</field>\n</block>\n</value>\n</block>\n</next>\n</block>\n</next>\n</block>\n</next>\n</block>\n</next>\n</block>\n</next>\n</block>\n</next>\n</block>\n</next>\n</block>\n</statement>\n</block>\n</next>\n</block>\n</statement>\n<next>\n<block type="controls_repeat_ext" id="Ix5yzcesEWq}-=M|2qZL">\n<value name="TIMES">\n<shadow type="math_number" id="HJ!($Az~lKD8l_U!-1U!">\n<field name="NUM">2\n</field>\n</shadow>\n</value>\n<statement name="DO">\n<block type="add_measure" id="cDFo#tU(s,%._)uU]Reg">\n<statement name="MEASURE_STATEMENTS">\n<block type="music_beats" id="orw@mA^x+W`(/V)L,|sj">\n<field name="BEAT1">TRUE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">FALSE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">FALSE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">FALSE\n</field>\n<field name="BEAT8">FALSE\n</field>\n<value name="INSTRUMENT">\n<block type="note_name" id="HcXrrK9SKQjuyA0Ps4[U">\n<field name="NOTE">E\n</field>\n<field name="OCTAVE">3\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="C:5LJ$o+,i)e2CQb1(+3">\n<field name="BEAT1">FALSE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">TRUE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">FALSE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">FALSE\n</field>\n<field name="BEAT8">FALSE\n</field>\n<value name="INSTRUMENT">\n<block type="note_name" id="~YIOq{K/%EmDMT*B#~sa">\n<field name="NOTE">A\n</field>\n<field name="OCTAVE">3\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="w-p7E3(3*:)r,p|$eSpG">\n<field name="BEAT1">FALSE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">FALSE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">FALSE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">FALSE\n</field>\n<field name="BEAT8">FALSE\n</field>\n<value name="INSTRUMENT">\n<block type="note_name" id="+P*xi`)xv~`!HufGqljh">\n<field name="NOTE">D\n</field>\n<field name="OCTAVE">3\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="bhg*//Tknc71@xklaf)^">\n<field name="BEAT1">FALSE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">FALSE\n</field>\n<field name="BEAT4">TRUE\n</field>\n<field name="BEAT5">FALSE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">FALSE\n</field>\n<field name="BEAT8">FALSE\n</field>\n<value name="INSTRUMENT">\n<block type="note_name" id="/(jt%r{%g3dx8b81q6oq">\n<field name="NOTE">B\n</field>\n<field name="OCTAVE">3\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="nbk5P.B!#{`K9V#lXRZ_">\n<field name="BEAT1">FALSE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">FALSE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">TRUE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">FALSE\n</field>\n<field name="BEAT8">FALSE\n</field>\n<value name="INSTRUMENT">\n<block type="note_name" id="-!Kh0e{%@B1Qsw)dtdDD">\n<field name="NOTE">C\n</field>\n<field name="OCTAVE">4\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="q}4BvD,:9Fz7~I1cV!aP">\n<field name="BEAT1">FALSE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">FALSE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">FALSE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">FALSE\n</field>\n<field name="BEAT8">FALSE\n</field>\n<value name="INSTRUMENT">\n<block type="note_name" id="dyGn(#a8.NJUlMY4f_#W">\n<field name="NOTE">F\n</field>\n<field name="OCTAVE">3\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="}j:Y}`.j1B$n0G;)0:?Y">\n<field name="BEAT1">FALSE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">FALSE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">FALSE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">TRUE\n</field>\n<field name="BEAT8">FALSE\n</field>\n<value name="INSTRUMENT">\n<block type="note_name" id="pWaq^0BRd%_;7Y-)Qd@:">\n<field name="NOTE">B\n</field>\n<field name="OCTAVE">3\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="f:UmS8=d_-,Hu865H}8s">\n<field name="BEAT1">FALSE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">FALSE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">FALSE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">FALSE\n</field>\n<field name="BEAT8">TRUE\n</field>\n<value name="INSTRUMENT">\n<block type="note_name" id="SKd;Pty$pHLj8z4c|J|P">\n<field name="NOTE">F\n</field>\n<field name="OCTAVE">2\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="{qa|YeI^+/c=?)52nL;i">\n<field name="BEAT1">TRUE\n</field>\n<field name="BEAT2">TRUE\n</field>\n<field name="BEAT3">TRUE\n</field>\n<field name="BEAT4">TRUE\n</field>\n<field name="BEAT5">TRUE\n</field>\n<field name="BEAT6">TRUE\n</field>\n<field name="BEAT7">TRUE\n</field>\n<field name="BEAT8">TRUE\n</field>\n<value name="INSTRUMENT">\n<block type="instrument_options_hip_hop" id="5R^-C[:w$II.Y%UW@W-x">\n<field name="INSTRUMENT">https://codehs.com/uploads/c8a08088dad66a69dfe6e498d4e75f5c\n</field>\n</block>\n</value>\n</block>\n</next>\n</block>\n</next>\n</block>\n</next>\n</block>\n</next>\n</block>\n</next>\n</block>\n</next>\n</block>\n</next>\n</block>\n</next>\n</block>\n</statement>\n</block>\n</statement>\n<next>\n<block type="controls_repeat_ext" id="U_Y,)-Cd`RF.AWDr:mQR">\n<value name="TIMES">\n<shadow type="math_number" id=":6;,t*7*+sT5VL1;0GAn">\n<field name="NUM">3\n</field>\n</shadow>\n</value>\n<statement name="DO">\n<block type="add_measure" id="ZN+7Z:$!iW,:-@%3I+?d">\n<statement name="MEASURE_STATEMENTS">\n<block type="music_beats" id="vX78o5%Da2m3c5me~go,">\n<field name="BEAT1">TRUE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">FALSE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">FALSE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">FALSE\n</field>\n<field name="BEAT8">FALSE\n</field>\n<value name="INSTRUMENT">\n<block type="note_name" id="SW2{o_4!C*_?x0roju!]">\n<field name="NOTE">E\n</field>\n<field name="OCTAVE">3\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="4EpHXJ%Zq.JzCz6@G_3Y">\n<field name="BEAT1">FALSE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">TRUE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">FALSE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">FALSE\n</field>\n<field name="BEAT8">FALSE\n</field>\n<value name="INSTRUMENT">\n<block type="note_name" id="Iz*:B0BXPH}HY#V_{dkt">\n<field name="NOTE">A\n</field>\n<field name="OCTAVE">3\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="?x9*}QvoSr^=MC74F$Bx">\n<field name="BEAT1">FALSE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">FALSE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">FALSE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">FALSE\n</field>\n<field name="BEAT8">FALSE\n</field>\n<value name="INSTRUMENT">\n<block type="note_name" id="FV9dD)Ug-.)(}AJkLc+h">\n<field name="NOTE">D\n</field>\n<field name="OCTAVE">3\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="M}IeZ:G@_qFhJGD0N#XF">\n<field name="BEAT1">FALSE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">FALSE\n</field>\n<field name="BEAT4">TRUE\n</field>\n<field name="BEAT5">FALSE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">FALSE\n</field>\n<field name="BEAT8">FALSE\n</field>\n<value name="INSTRUMENT">\n<block type="note_name" id="XGum,QBOS6,/6iaFp{L.">\n<field name="NOTE">B\n</field>\n<field name="OCTAVE">3\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="!7Xl#CXi=E7?,Um5QsU3">\n<field name="BEAT1">FALSE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">FALSE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">TRUE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">FALSE\n</field>\n<field name="BEAT8">FALSE\n</field>\n<value name="INSTRUMENT">\n<block type="note_name" id="9+#fNOUPP#Dp#b6bqJhQ">\n<field name="NOTE">C\n</field>\n<field name="OCTAVE">4\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="7@uz?375EBSj{prED].7">\n<field name="BEAT1">FALSE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">FALSE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">FALSE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">FALSE\n</field>\n<field name="BEAT8">FALSE\n</field>\n<value name="INSTRUMENT">\n<block type="note_name" id="^g|,zbl$h6mW!]anp^N/">\n<field name="NOTE">F\n</field>\n<field name="OCTAVE">3\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="@@#}6HSU%!Lmmg6^#[Bu">\n<field name="BEAT1">FALSE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">FALSE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">FALSE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">TRUE\n</field>\n<field name="BEAT8">FALSE\n</field>\n<value name="INSTRUMENT">\n<block type="note_name" id="jN^VZa}n+5Y(.?r5{.v/">\n<field name="NOTE">B\n</field>\n<field name="OCTAVE">3\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="%S)w#o9zE$371NEZ$y9S">\n<field name="BEAT1">FALSE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">FALSE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">FALSE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">FALSE\n</field>\n<field name="BEAT8">TRUE\n</field>\n<value name="INSTRUMENT">\n<block type="note_name" id="0sWkaE_@:M[0r^N(f1uO">\n<field name="NOTE">F\n</field>\n<field name="OCTAVE">2\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="{pr.,-e]7JA2Brsdn4P9">\n<field name="BEAT1">TRUE\n</field>\n<field name="BEAT2">TRUE\n</field>\n<field name="BEAT3">TRUE\n</field>\n<field name="BEAT4">TRUE\n</field>\n<field name="BEAT5">TRUE\n</field>\n<field name="BEAT6">TRUE\n</field>\n<field name="BEAT7">TRUE\n</field>\n<field name="BEAT8">TRUE\n</field>\n<value name="INSTRUMENT">\n<block type="instrument_options_hip_hop" id="EQX[_U(M{M|45ByQjRz_">\n<field name="INSTRUMENT">https://codehs.com/uploads/c8a08088dad66a69dfe6e498d4e75f5c\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="rc:J{:s;I8ZZ$%hM?wHW">\n<field name="BEAT1">TRUE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">FALSE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">TRUE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">FALSE\n</field>\n<field name="BEAT8">FALSE\n</field>\n<value name="INSTRUMENT">\n<block type="instrument_custom" id="a,P5,24*bU}$q_C{gkb9">\n<field name="INSTRUMENT">https://codehs.com/uploads/c6b4b65da57bade7baf2e12096782338\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="66EhUl}hu*3-yY=.RrA$">\n<field name="BEAT1">FALSE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">TRUE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">FALSE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">TRUE\n</field>\n<field name="BEAT8">FALSE\n</field>\n<value name="INSTRUMENT">\n<block type="instrument_options" id="m8VWoM5=7kW;U3dbf/V{">\n<field name="INSTRUMENT">https://codehs.com/uploads/c8cd12a7468d719c4cdee70a8948ac39\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="SCj4Ntc]5[V}f1p9sEUF">\n<field name="BEAT1">TRUE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">FALSE\n</field>\n<field name="BEAT4">TRUE\n</field>\n<field name="BEAT5">FALSE\n</field>\n<field name="BEAT6">TRUE\n</field>\n<field name="BEAT7">FALSE\n</field>\n<field name="BEAT8">TRUE\n</field>\n<value name="INSTRUMENT">\n<block type="instrument_options_hip_hop" id="f2TI3w]70g5q+Z-hnU4*">\n<field name="INSTRUMENT">https://codehs.com/uploads/d40d494efa93e14c0e6dc9c4fa1f3055\n</field>\n</block>\n</value>\n</block>\n</next>\n</block>\n</next>\n</block>\n</next>\n</block>\n</next>\n</block>\n</next>\n</block>\n</next>\n</block>\n</next>\n</block>\n</next>\n</block>\n</next>\n</block>\n</next>\n</block>\n</next>\n</block>\n</statement>\n</block>\n</statement>\n<next>\n<block type="controls_repeat_ext" id="!rbJp?B@Mkhk.K5@{,r)">\n<value name="TIMES">\n<shadow type="math_number" id="gW[Mf!3PtyA;:D{;VE]a">\n<field name="NUM">1\n</field>\n</shadow>\n</value>\n<statement name="DO">\n<block type="add_measure" id="RuZ+Ld#z];U/}Uv6wm;K">\n<statement name="MEASURE_STATEMENTS">\n<block type="music_beats" id="$WVcYkbu0iq+{OrU4B]6">\n<field name="BEAT1">TRUE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">FALSE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">FALSE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">FALSE\n</field>\n<field name="BEAT8">FALSE\n</field>\n<value name="INSTRUMENT">\n<block type="note_name" id="Qg$3cLH(kYc)IA0Ra?`l">\n<field name="NOTE">E\n</field>\n<field name="OCTAVE">3\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="U3Bv=-pnOqa~IEyj0F}G">\n<field name="BEAT1">FALSE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">TRUE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">FALSE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">FALSE\n</field>\n<field name="BEAT8">FALSE\n</field>\n<value name="INSTRUMENT">\n<block type="note_name" id="`7k(5;3Hj;%?nAa`514D">\n<field name="NOTE">A\n</field>\n<field name="OCTAVE">3\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="]H^W1V|Y|AOuP]ZkshmP">\n<field name="BEAT1">FALSE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">FALSE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">FALSE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">FALSE\n</field>\n<field name="BEAT8">FALSE\n</field>\n<value name="INSTRUMENT">\n<block type="note_name" id="A()^sft[yLRqO=_}eqEI">\n<field name="NOTE">D\n</field>\n<field name="OCTAVE">3\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="nK5BW944`^.H=|(g;Qx:">\n<field name="BEAT1">FALSE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">FALSE\n</field>\n<field name="BEAT4">TRUE\n</field>\n<field name="BEAT5">FALSE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">FALSE\n</field>\n<field name="BEAT8">FALSE\n</field>\n<value name="INSTRUMENT">\n<block type="note_name" id="+=yAF*rQ`|}GV,M+adYP">\n<field name="NOTE">B\n</field>\n<field name="OCTAVE">3\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="?sCF;bp2!O1HXV!0x%qZ">\n<field name="BEAT1">FALSE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">FALSE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">TRUE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">FALSE\n</field>\n<field name="BEAT8">FALSE\n</field>\n<value name="INSTRUMENT">\n<block type="note_name" id="BgM`I==!JqMlw|BL?a#m">\n<field name="NOTE">C\n</field>\n<field name="OCTAVE">4\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="**Y{rCIx0%WN^mP#?L;y">\n<field name="BEAT1">FALSE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">FALSE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">FALSE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">FALSE\n</field>\n<field name="BEAT8">FALSE\n</field>\n<value name="INSTRUMENT">\n<block type="note_name" id=":1rUzfxO,hos6^+0H]n~">\n<field name="NOTE">F\n</field>\n<field name="OCTAVE">3\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="Fo4o@d/gwO]+u1q?1MR3">\n<field name="BEAT1">FALSE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">FALSE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">FALSE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">TRUE\n</field>\n<field name="BEAT8">FALSE\n</field>\n<value name="INSTRUMENT">\n<block type="note_name" id="GEP[tn]]|?8I~hk^GxL-">\n<field name="NOTE">B\n</field>\n<field name="OCTAVE">3\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="^ui3uu|]Zf@G_Oq,ADqe">\n<field name="BEAT1">FALSE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">FALSE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">FALSE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">FALSE\n</field>\n<field name="BEAT8">TRUE\n</field>\n<value name="INSTRUMENT">\n<block type="note_name" id="QcV(Hmfdhxnu!2rt6)wX">\n<field name="NOTE">F\n</field>\n<field name="OCTAVE">2\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="Z9hv;O_du1G?X;]vcw-@">\n<field name="BEAT1">TRUE\n</field>\n<field name="BEAT2">TRUE\n</field>\n<field name="BEAT3">TRUE\n</field>\n<field name="BEAT4">TRUE\n</field>\n<field name="BEAT5">TRUE\n</field>\n<field name="BEAT6">TRUE\n</field>\n<field name="BEAT7">TRUE\n</field>\n<field name="BEAT8">TRUE\n</field>\n<value name="INSTRUMENT">\n<block type="instrument_options_hip_hop" id="9nZ(zCKbvC2*6LuUAsp4">\n<field name="INSTRUMENT">https://codehs.com/uploads/c8a08088dad66a69dfe6e498d4e75f5c\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="M^Zlyd]]M$57)Z:.4BX1">\n<field name="BEAT1">FALSE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">FALSE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">FALSE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">FALSE\n</field>\n<field name="BEAT8">FALSE\n</field>\n<value name="INSTRUMENT">\n<block type="instrument_custom" id="1yzN=%$U+Xdx3F0~9$NG">\n<field name="INSTRUMENT">https://codehs.com/uploads/c6b4b65da57bade7baf2e12096782338\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="JP#2vNSIi7(OtF9U9B/3">\n<field name="BEAT1">FALSE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">FALSE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">FALSE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">TRUE\n</field>\n<field name="BEAT8">TRUE\n</field>\n<value name="INSTRUMENT">\n<block type="instrument_options" id="#s9pX;I(1159t`XJL+EE">\n<field name="INSTRUMENT">https://codehs.com/uploads/c8cd12a7468d719c4cdee70a8948ac39\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="r/FGHb1OSI#D.zj:=_k`">\n<field name="BEAT1">TRUE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">FALSE\n</field>\n<field name="BEAT4">TRUE\n</field>\n<field name="BEAT5">FALSE\n</field>\n<field name="BEAT6">TRUE\n</field>\n<field name="BEAT7">FALSE\n</field>\n<field name="BEAT8">TRUE\n</field>\n<value name="INSTRUMENT">\n<block type="instrument_options_hip_hop" id="lJAmCzc90KfoRkuHN@{A">\n<field name="INSTRUMENT">https://codehs.com/uploads/d40d494efa93e14c0e6dc9c4fa1f3055\n</field>\n</block>\n</value>\n</block>\n</next>\n</block>\n</next>\n</block>\n</next>\n</block>\n</next>\n</block>\n</next>\n</block>\n</next>\n</block>\n</next>\n</block>\n</next>\n</block>\n</next>\n</block>\n</next>\n</block>\n</next>\n</block>\n</statement>\n</block>\n</statement>\n</block>\n</next>\n</block>\n</next>\n</block>\n</next>\n</block>\n\n</category>\n\n<category name="Reggaeton Beat" colour="#5b5ba5">\n\n<block type="add_measure" id="#:K,VE$9U%#]spVP*:wC">\n<statement name="MEASURE_STATEMENTS">\n<block type="set_tempo" id="hJt$r)V-meS5T?LC1T/#">\n<value name="TEMPO">\n<block type="math_number" id="7g*86}^^KTimPI.{t7kW">\n<field name="NUM">96\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="1^/FM+y*S_wgKE4sPB@g">\n<field name="BEAT1">TRUE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">FALSE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">FALSE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">FALSE\n</field>\n<field name="BEAT8">FALSE\n</field>\n<value name="INSTRUMENT">\n<block type="note_name" id="RVn_mD=kF(N?6JnB`~_C">\n<field name="NOTE">C\n</field>\n<field name="OCTAVE">4\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="dJMQ[%R;sNOi0VgSTD!9">\n<field name="BEAT1">FALSE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">FALSE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">FALSE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">FALSE\n</field>\n<field name="BEAT8">FALSE\n</field>\n<value name="INSTRUMENT">\n<block type="note_name" id="8U-48%4Xx~x?i+u@au0)">\n<field name="NOTE">C\n</field>\n<field name="OCTAVE">5\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="ij{TxO8*TxX`vy*a`K[B">\n<field name="BEAT1">FALSE\n</field>\n<field name="BEAT2">TRUE\n</field>\n<field name="BEAT3">FALSE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">FALSE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">FALSE\n</field>\n<field name="BEAT8">FALSE\n</field>\n<value name="INSTRUMENT">\n<block type="note_name" id=")Fjek*Kxz=(!8IuQL)MI">\n<field name="NOTE">G\n</field>\n<field name="OCTAVE">4\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="_6XLEO`mDv(#j`k*D,J8">\n<field name="BEAT1">FALSE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">TRUE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">FALSE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">FALSE\n</field>\n<field name="BEAT8">FALSE\n</field>\n<value name="INSTRUMENT">\n<block type="note_name" id="s82B+$QNJoz6371vYr/{">\n<field name="NOTE">F\n</field>\n<field name="OCTAVE">4\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="i,7AM{jqc[HZK[j#!x^@">\n<field name="BEAT1">FALSE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">FALSE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">TRUE\n</field>\n<field name="BEAT6">TRUE\n</field>\n<field name="BEAT7">TRUE\n</field>\n<field name="BEAT8">FALSE\n</field>\n<value name="INSTRUMENT">\n<block type="note_name" id="e_{eDvD_e%f_RSv51As:">\n<field name="NOTE">D\n</field>\n<field name="OCTAVE">4\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="PY|ChrYVEQ3HFIny[$)~">\n<field name="BEAT1">FALSE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">FALSE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">FALSE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">FALSE\n</field>\n<field name="BEAT8">TRUE\n</field>\n<value name="INSTRUMENT">\n<block type="note_name" id="qF#1ELh,v!s}*G8_,}H=">\n<field name="NOTE">G\n</field>\n<field name="OCTAVE">3\n</field>\n</block>\n</value>\n</block>\n</next>\n</block>\n</next>\n</block>\n</next>\n</block>\n</next>\n</block>\n</next>\n</block>\n</next>\n</block>\n</statement>\n<next>\n<block type="add_measure" id="+dNjxr07)Urh~rYY/~9Y">\n<statement name="MEASURE_STATEMENTS">\n<block type="music_beats" id="4(b3*WJX9/4r~oKr_S=?">\n<field name="BEAT1">TRUE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">FALSE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">FALSE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">FALSE\n</field>\n<field name="BEAT8">FALSE\n</field>\n<value name="INSTRUMENT">\n<block type="note_name" id="c9^kn9pXut~FU2ImoM)%">\n<field name="NOTE">C\n</field>\n<field name="OCTAVE">4\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="l|C:_f(.E5GRjR/NOb^N">\n<field name="BEAT1">FALSE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">FALSE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">FALSE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">FALSE\n</field>\n<field name="BEAT8">FALSE\n</field>\n<value name="INSTRUMENT">\n<block type="note_name" id="uR8x2$K$4.;jldl1Bi_E">\n<field name="NOTE">C\n</field>\n<field name="OCTAVE">5\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="CE+uSBqB@7r?Kq#=]{F^">\n<field name="BEAT1">FALSE\n</field>\n<field name="BEAT2">TRUE\n</field>\n<field name="BEAT3">FALSE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">FALSE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">FALSE\n</field>\n<field name="BEAT8">FALSE\n</field>\n<value name="INSTRUMENT">\n<block type="note_name" id="]7i4vY=z%|y}vZZ:c@DD">\n<field name="NOTE">G\n</field>\n<field name="OCTAVE">4\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="}B9=dC9DJoeX]YIl;sGt">\n<field name="BEAT1">FALSE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">TRUE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">FALSE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">FALSE\n</field>\n<field name="BEAT8">FALSE\n</field>\n<value name="INSTRUMENT">\n<block type="note_name" id="|8@VNiQCR_?x7=JV}Gd?">\n<field name="NOTE">F\n</field>\n<field name="OCTAVE">4\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="W/tcF/_O$TL9~?$!sb0~">\n<field name="BEAT1">FALSE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">FALSE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">TRUE\n</field>\n<field name="BEAT6">TRUE\n</field>\n<field name="BEAT7">TRUE\n</field>\n<field name="BEAT8">FALSE\n</field>\n<value name="INSTRUMENT">\n<block type="note_name" id="HI_XYi*?~)9Y2wzX;%(f">\n<field name="NOTE">D\n</field>\n<field name="OCTAVE">4\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="WAf+B/Ab:{$M((VoZMaF">\n<field name="BEAT1">FALSE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">FALSE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">FALSE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">FALSE\n</field>\n<field name="BEAT8">TRUE\n</field>\n<value name="INSTRUMENT">\n<block type="note_name" id="@=/uBl1kU*EFc*/la{$o">\n<field name="NOTE">G\n</field>\n<field name="OCTAVE">3\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="b`Po.8;A~nsbz.hOd,_V">\n<field name="BEAT1">TRUE\n</field>\n<field name="BEAT2">TRUE\n</field>\n<field name="BEAT3">TRUE\n</field>\n<field name="BEAT4">TRUE\n</field>\n<field name="BEAT5">TRUE\n</field>\n<field name="BEAT6">TRUE\n</field>\n<field name="BEAT7">TRUE\n</field>\n<field name="BEAT8">TRUE\n</field>\n<value name="INSTRUMENT">\n<block type="instrument_custom" id=";J|k$kmE_EjMOpHn{+mf">\n<field name="INSTRUMENT">https://codehs.com/uploads/3ac869b7447028098a88a1880bd9866f\n</field>\n</block>\n</value>\n</block>\n</next>\n</block>\n</next>\n</block>\n</next>\n</block>\n</next>\n</block>\n</next>\n</block>\n</next>\n</block>\n</statement>\n<next>\n<block type="controls_repeat_ext" id=".{~NLb6Bi~AX-!Zu-G#e">\n<value name="TIMES">\n<block type="math_number" id="q/1G4=;:QFG3ZoKV[fFq">\n<field name="NUM">4\n</field>\n</block>\n</value>\n<statement name="DO">\n<block type="add_measure" id="yS=:;U]I^in~L(W-w,VT">\n<statement name="MEASURE_STATEMENTS">\n<block type="music_beats" id="4L$JF9;Ys8*_=n@G@ii4">\n<field name="BEAT1">TRUE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">FALSE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">FALSE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">FALSE\n</field>\n<field name="BEAT8">FALSE\n</field>\n<value name="INSTRUMENT">\n<block type="note_name" id="r3B0Rqhj[i@e.Sl!5D3a">\n<field name="NOTE">C\n</field>\n<field name="OCTAVE">4\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="-Qn)Z_Y;H#zT-P;AA@E-">\n<field name="BEAT1">FALSE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">FALSE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">FALSE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">FALSE\n</field>\n<field name="BEAT8">FALSE\n</field>\n<value name="INSTRUMENT">\n<block type="note_name" id="};g*$^:[|K%_KE88_53L">\n<field name="NOTE">C\n</field>\n<field name="OCTAVE">5\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="PjOSHRLFI6dQtgY=}2Cb">\n<field name="BEAT1">FALSE\n</field>\n<field name="BEAT2">TRUE\n</field>\n<field name="BEAT3">FALSE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">FALSE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">FALSE\n</field>\n<field name="BEAT8">FALSE\n</field>\n<value name="INSTRUMENT">\n<block type="note_name" id="_7x@~t/;LQJqhElk$EfV">\n<field name="NOTE">G\n</field>\n<field name="OCTAVE">4\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="94nJ|2OLCf44BVduJ]co">\n<field name="BEAT1">FALSE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">TRUE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">FALSE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">FALSE\n</field>\n<field name="BEAT8">FALSE\n</field>\n<value name="INSTRUMENT">\n<block type="note_name" id="7Kqy`z$e|,E8[FBTi1/5">\n<field name="NOTE">F\n</field>\n<field name="OCTAVE">4\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="3ODHaq?Nl8:sJ|AeA5:B">\n<field name="BEAT1">FALSE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">FALSE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">TRUE\n</field>\n<field name="BEAT6">TRUE\n</field>\n<field name="BEAT7">TRUE\n</field>\n<field name="BEAT8">FALSE\n</field>\n<value name="INSTRUMENT">\n<block type="note_name" id="r2i)iTzselc4_4(_wfr0">\n<field name="NOTE">D\n</field>\n<field name="OCTAVE">4\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="B9E.[q$*MtlA[h4j(jP!">\n<field name="BEAT1">FALSE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">FALSE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">FALSE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">FALSE\n</field>\n<field name="BEAT8">TRUE\n</field>\n<value name="INSTRUMENT">\n<block type="note_name" id=".;K5eP=B,y33TZtQi$M]">\n<field name="NOTE">G\n</field>\n<field name="OCTAVE">3\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="`YM[@#aoKok0oaYPonkJ">\n<field name="BEAT1">TRUE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">FALSE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">TRUE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">FALSE\n</field>\n<field name="BEAT8">FALSE\n</field>\n<value name="INSTRUMENT">\n<block type="instrument_custom" id="Ph^mR%T,/64;f+Uu2%40">\n<field name="INSTRUMENT">https://codehs.com/uploads/18bd516483c81a978a4fa439a72727ed\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="B}fY2fsVwL$gNgHvdU~=">\n<field name="BEAT1">TRUE\n</field>\n<field name="BEAT2">TRUE\n</field>\n<field name="BEAT3">TRUE\n</field>\n<field name="BEAT4">TRUE\n</field>\n<field name="BEAT5">TRUE\n</field>\n<field name="BEAT6">TRUE\n</field>\n<field name="BEAT7">TRUE\n</field>\n<field name="BEAT8">TRUE\n</field>\n<value name="INSTRUMENT">\n<block type="instrument_custom" id="IyGgg=B]4(-,WgCLbpI0">\n<field name="INSTRUMENT">https://codehs.com/uploads/3ac869b7447028098a88a1880bd9866f\n</field>\n</block>\n</value>\n</block>\n</next>\n</block>\n</next>\n</block>\n</next>\n</block>\n</next>\n</block>\n</next>\n</block>\n</next>\n</block>\n</next>\n</block>\n</statement>\n</block>\n</statement>\n</block>\n</next>\n</block>\n</next>\n</block>\n\n</category>\n\n<category name="Afro Beat" colour="#5b5ba5">\n\n<block type="controls_repeat_ext" id="5^TH27%odPR;A3pN1kfA">\n<value name="TIMES">\n<shadow type="math_number" id="Z~x7{.:W,7:eDm{L.d;1">\n<field name="NUM">2\n</field>\n</shadow>\n</value>\n<statement name="DO">\n<block type="set_tempo" id="B))u_v#nM(i/Z!gq+vl1">\n<value name="TEMPO">\n<block type="math_number" id="uY]6xcixYu(Z3V,!Z-~R">\n<field name="NUM">106\n</field>\n</block>\n</value>\n<next>\n<block type="add_measure" id="#:K,VE$9U%#]spVP*:wC">\n<statement name="MEASURE_STATEMENTS">\n<block type="music_beats" id="dJMQ[%R;sNOi0VgSTD!9">\n<field name="BEAT1">FALSE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">FALSE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">FALSE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">FALSE\n</field>\n<field name="BEAT8">FALSE\n</field>\n<value name="INSTRUMENT">\n<block type="instrument_custom" id="zm#80qhu_i]z]EcxW(w7">\n<field name="INSTRUMENT">https://codehs.com/uploads/b47bffba71418b62e16b33f3f29d2508\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="Dz|/1Q6X^~I@{SR9~`eQ">\n<field name="BEAT1">TRUE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">FALSE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">TRUE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">FALSE\n</field>\n<field name="BEAT8">FALSE\n</field>\n<value name="INSTRUMENT">\n<block type="instrument_options_hip_hop" id="Mi9]JSNBzSe):6JMC!KY">\n<field name="INSTRUMENT">https://codehs.com/uploads/31cafd0a9831c4714c765233ad82962a\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="ij{TxO8*TxX`vy*a`K[B">\n<field name="BEAT1">TRUE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">FALSE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">FALSE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">FALSE\n</field>\n<field name="BEAT8">FALSE\n</field>\n<value name="INSTRUMENT">\n<block type="chord_name" id="[wM3AsYooT4syg%eT0WO">\n<field name="NAME">E\n</field>\n<field name="MODE">Minor\n</field>\n<field name="OCTAVE">4\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="DBX}(t[h8i1#`ce{S`B(">\n<field name="BEAT1">FALSE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">FALSE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">TRUE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">FALSE\n</field>\n<field name="BEAT8">FALSE\n</field>\n<value name="INSTRUMENT">\n<block type="chord_name" id="b-{G.[k$6T6T~tbD[r9W">\n<field name="NAME">B\n</field>\n<field name="MODE">Minor\n</field>\n<field name="OCTAVE">4\n</field>\n</block>\n</value>\n</block>\n</next>\n</block>\n</next>\n</block>\n</next>\n</block>\n</statement>\n</block>\n</next>\n</block>\n</statement>\n<next>\n<block type="controls_repeat_ext" id="IQQ05W#2?=ym:l47+Vdf">\n<value name="TIMES">\n<block type="math_number" id="Unq=Vw/j?j{jU`C]ObM@">\n<field name="NUM">4\n</field>\n</block>\n</value>\n<statement name="DO">\n<block type="add_measure" id="AQ|9yVbu*3KVQj^2KdsC">\n<statement name="MEASURE_STATEMENTS">\n<block type="music_beats" id="r[hrw6xSGZ59?@A@g@~h">\n<field name="BEAT1">TRUE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">FALSE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">FALSE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">FALSE\n</field>\n<field name="BEAT8">FALSE\n</field>\n<value name="INSTRUMENT">\n<block type="instrument_custom" id="i+X:)]/@$F4SIpV#Ic^$">\n<field name="INSTRUMENT">https://codehs.com/uploads/b47bffba71418b62e16b33f3f29d2508\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="Vfm%,2mQIsKn6C{Vr{x/">\n<field name="BEAT1">TRUE\n</field>\n<field name="BEAT2">TRUE\n</field>\n<field name="BEAT3">TRUE\n</field>\n<field name="BEAT4">TRUE\n</field>\n<field name="BEAT5">TRUE\n</field>\n<field name="BEAT6">TRUE\n</field>\n<field name="BEAT7">TRUE\n</field>\n<field name="BEAT8">TRUE\n</field>\n<value name="INSTRUMENT">\n<block type="instrument_options_hip_hop" id="+:whVi/Z+891{qV/NOy;">\n<field name="INSTRUMENT">https://codehs.com/uploads/31cafd0a9831c4714c765233ad82962a\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="JDF|L3QDOwM9IBoP9m2(">\n<field name="BEAT1">TRUE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">FALSE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">FALSE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">FALSE\n</field>\n<field name="BEAT8">FALSE\n</field>\n<value name="INSTRUMENT">\n<block type="chord_name" id="8ZvB9gRF/J^tCF{pVpjZ">\n<field name="NAME">E\n</field>\n<field name="MODE">Minor\n</field>\n<field name="OCTAVE">4\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="$DwieqN!KH*#|)aj:6Hh">\n<field name="BEAT1">FALSE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">FALSE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">TRUE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">FALSE\n</field>\n<field name="BEAT8">FALSE\n</field>\n<value name="INSTRUMENT">\n<block type="chord_name" id="O?N;G(~-0])L#KoXXU^}">\n<field name="NAME">B\n</field>\n<field name="MODE">Minor\n</field>\n<field name="OCTAVE">4\n</field>\n</block>\n</value>\n<next>\n<block type="music_beats" id="B^1QT6Sz(qV{~ifVdTRE">\n<field name="BEAT1">FALSE\n</field>\n<field name="BEAT2">FALSE\n</field>\n<field name="BEAT3">TRUE\n</field>\n<field name="BEAT4">FALSE\n</field>\n<field name="BEAT5">FALSE\n</field>\n<field name="BEAT6">FALSE\n</field>\n<field name="BEAT7">TRUE\n</field>\n<field name="BEAT8">FALSE\n</field>\n<value name="INSTRUMENT">\n<block type="instrument_options_jazz" id="*HnmxvA~3d2pu5k7Hl38">\n<field name="INSTRUMENT">https://codehs.com/uploads/6656ef919a1c10c3da74335e107b4006\n</field>\n</block>\n</value>\n</block>\n</next>\n</block>\n</next>\n</block>\n</next>\n</block>\n</next>\n</block>\n</statement>\n</block>\n</statement>\n</block>\n</next>\n</block>\n\n</category>\n\n</category>\n\n</xml>\n'},SONG_SAMPLES:[["Jumbo","Drum Circle",87,"drum_circle"],["Marshall Watson","Feel The Bass Drum",158,"feel_the_bass_drum"],["Trout Recordings","Hidden By The Breeze",88,"hidden_by_the_breeze"],["Jumbo","Kemet",90,"kemet"],["DJ Dhiggs","Dive In",154,"dive_in"],["Kiri T","Queen",133,"queen"],["Christian Davis","Noise",96,"noise"],["Chela Rivas","Control",126,"control"],["Mike Floss","Top",130,"top"],["Ian Ka$h","Gutter",120,"gutter"],["Dhruv Goel","Uns",90,"uns"],["Dhruv Goel","Koi Bachaye",68,"koi_bachaye"],["Jumbo","Hypebeast",150,"hype_beast"],["Lady Jazmon","King",130,"king"],["Adam Griffith & Austin Woodward","Warateiru",113,"warateiru"],["Kiri T","Chickabumbum",95,"chickabumbum"],["Kiri T","I Wish You Had Stayed",114,"i_wish_you_had_stayed"],["Ian Ka$h","No worries",162,"no_worries"]],STRINGS:{}},BlogPost:{CHOICES:[[0,"Coding in the Wild"],[1,"Read Write Code"],[2,"Twitter"],[3,"Other"]],CODING_IN_THE_WILD:0,OTHER:3,READ_WRITE_CODE:1,STRINGS:{0:"Coding in the Wild",1:"Read Write Code",2:"Twitter",3:"Other"},TWITTER:2},BlogPostType:{ANNOUNCEMENT:2,CASE_STUDY:0,CHOICES:[[0,"Case Study"],[1,"Teacher Feature"],[2,"Announcement"],[3,"Student Story"],[4,"News"],[5,"Coding in the Wild"],[6,"Other"]],CODING_IN_THE_WILD:5,NEWS:4,OTHER:6,STRINGS:{0:"Case Study",1:"Teacher Feature",2:"Announcement",3:"Student Story",4:"News",5:"Coding in the Wild",6:"Other"},STUDENT_STORY:3,TEACHER_FEATURE:1},CSTAGradeLevel:{CHOICES:[[0,"K-2nd"],[1,"3rd-5th"],[2,"6th-8th"],[3,"9th-10th"],[4,"11th-12th"]],CHOICES_WITH_UNKNOWN:[[-1,"Unknown"],[0,"K-2nd"],[1,"3rd-5th"],[2,"6th-8th"],[3,"9th-10th"],[4,"11th-12th"]],ELEVENTH_TO_TWELFTH:4,K_TO_SECOND:0,NINTH_TO_TENTH:3,SIXTH_TO_EIGTH:2,STANDARDS_STRINGS:{0:"1A",1:"1B",2:"2",3:"3A",4:"3B"},STRINGS:{"-1":"Unknown",0:"K-2nd",1:"3rd-5th",2:"6th-8th",3:"9th-10th",4:"11th-12th"},THIRD_TO_FIFTH:1,UNKNOWN:-1},CertificationExam:{CERTIFICATION:0,CHOICES:[[0,"Certification"],[1,"Microcredential"]],MICROCREDENTIAL:1,STRINGS:{0:"Certification",1:"Microcredential"}},Certifications:{ALL_ASSIGNMENT_IDS:[22080523,22080526,22080529,22080532,22080535,46464835,44455532,44455533,44455534,44455535,44455536,46464836,131549095],AUTO_PASS_THRESHOLDS:{22080523:23,22080526:27,22080529:27,22080532:27,22080535:27,46464835:27,44455532:null,44455533:null,44455534:null,44455535:null,44455536:null,46464836:null},CERTIFICATION_ASSIGNMENT_IDS:[22080523,22080526,22080529,22080532,22080535,46464835,131549095],CERTIFICATION_ASSIGNMENT_ID_TO_SLUG:{22080523:"java",22080526:"javascript",22080529:"webdesign",22080532:"python",22080535:"cybersecurity",46464835:"webdev",131549095:"cybersecurity2"},CERTIFICATION_ID_TO_IMG:{22080523:"java1.png",22080526:"javascript1.png",22080529:"webdesign1.png",22080532:"python1.png",22080535:"cybersecurity1.png",46464835:"webdev1.png",131549095:"cybersecurity2.png"},CERTIFICATION_ID_TO_PDF:{22080523:"JavaCertification_PDF",22080526:"JavaScriptCertification_PDF",22080529:"WebDesignCertification_PDF",22080532:"PythonCertification_PDF",22080535:"CybersecurityCertification_PDF",46464835:"WebDevCertification_PDF",131549095:"Cybersecurity2Certification_PDF"},CERTIFICATION_SLUG_ORDER:["java","javascript","webdesign","python","cybersecurity","cybersecurity2","webdev"],CERTIFICATION_SLUG_TO_ASSIGNMENT_ID:{java:22080523,javascript:22080526,webdesign:22080529,python:22080532,cybersecurity:22080535,webdev:46464835,cybersecurity2:131549095},COURSE_ID_TO_CERTIFICATION_ID:{6165:22080523,53:22080523,1:22080526,17663:22080529,5657:22080532,3433:22080535,6560:22080535,7968:46464835,7606:131549095},COURSE_ID_TO_MICROCREDENTIAL_ID:{6165:44455532,53:44455532,1:44455533,17663:44455534,5657:44455535,3433:44455536,6560:44455536,7968:46464835},CYBER_SECURITY_2_CERTIFICATION:131549095,CYBER_SECURITY_CERTIFICATION:22080535,CYBER_SECURITY_MICROCREDENTIAL:44455536,DRAFT_FAIL:4,DRAFT_PASS:5,DRAFT_STATUSES:[4,5],DRAFT_TO_FINALIZED_MAP:{4:0,5:1},EDITABLE_STATUSES:[3,5,4,1,0],FAIL:0,FINALIZED_STATUSES:[0,1],JAVASCRIPT_CERTIFICATION:22080526,JAVASCRIPT_MICROCREDENTIAL:44455533,JAVA_CERTIFICATION:22080523,JAVA_MICROCREDENTIAL:44455532,MICROCREDENTIAL_ASSIGNMENT_ID_TO_SLUG:{44455532:"java",44455533:"javascript",44455534:"webdesign",44455535:"python",44455536:"cybersecurity",46464836:"webdev"},MICROCREDENTIAL_ID_TO_IMG:{44455532:"java1.png",44455533:"javascript1.png",44455534:"webdesign1.png",44455535:"python1.png",44455536:"cybersecurity1.png",46464836:"webdev1.png"},MICROCREDENTIAL_ID_TO_PDF:{44455532:"JavaCertification_PDF",44455533:"JavaScriptCertification_PDF",44455534:"WebDesignCertification_PDF",44455535:"PythonCertification_PDF",44455536:"CybersecurityCertification_PDF",46464836:"WebDevCertification_PDF"},MICROCREDENTIAL_SLUG_ORDER:["java","javascript","webdesign","python","cybersecurity","webdev"],MICROCREDENTIAL_SLUG_TO_ASSIGNMENT_ID:{java:44455532,javascript:44455533,webdesign:44455534,python:44455535,cybersecurity:44455536,webdev:46464836},NONE:-1,PASS:1,PENDING_REVIEW:3,PRETTY_STRINGS:{22080523:"Java Level 1",22080526:"JavaScript Level 1",22080529:"Web Design Level 1",22080532:"Python Level 1",22080535:"Cybersecurity Level 1",46464835:"Web Development Level 1",131549095:"Cybersecurity Level 2",44455532:"Java Level 1",44455533:"JavaScript Level 1",44455534:"Web Design Level 1",44455535:"Python Level 1",44455536:"Cybersecurity Level 1",46464836:"Web Development Level 1"},PRETTY_STRINGS_LANG:{22080523:"Java",22080526:"JavaScript",22080529:"Web Design",22080532:"Python",22080535:"Cybersecurity",46464835:"Web Development",131549095:"Cybersecurity",44455532:"Java",44455533:"JavaScript",44455534:"Web Design",44455535:"Python",44455536:"Web Development"},PYTHON_CERTIFICATION:22080532,PYTHON_MICROCREDENTIAL:44455535,STATUSES:[[-1,"None"],[0,"No Pass"],[1,"Pass"],[3,"Pending Review"],[4,"No Pass - Draft"],[5,"Pass - Draft"]],STRINGS:{"-1":"None",0:"No Pass",1:"Pass",3:"Pending Review",4:"No Pass - Draft",5:"Pass - Draft"},WEB_DESIGN_CERTIFICATION:22080529,WEB_DESIGN_MICROCREDENTIAL:44455534,WEB_DEV_CERTIFICATION:46464835,WEB_DEV_MICROCREDENTIAL:46464836},CheatFlagStatus:{CHEAT_DETECTION_FLAGGER_ID:1605962,CHOICES:[[0,"Not Reviewed"],[1,"Confirmed"],[2,"Dismissed"],[3,"Ignored"]],CONFIRMED:1,DISMISSED:2,IGNORED:3,NOT_REVIEWED:0,STRINGS:{0:"Not Reviewed",1:"Confirmed",2:"Dismissed",3:"Ignored"}},CheatFlagType:{CHEAT_TOOL_DETECTED:6,CHOICES:[[0,"None"],[1,"Not Enough Time Spent"],[2,"Insufficent History"],[3,"Copy and Pasted"],[4,"Similarity to Solution"],[5,"Similarity to Student"],[6,"Cheat Tool Detected"]],COPY_AND_PASTED:3,INSUFFICENT_HISTORY:2,NONE:0,NOT_ENOUGH_TIME_SPENT:1,SIMILARITY_TO_SOLUTION:4,SIMILARITY_TO_STUDENT:5,STRINGS:{0:"None",1:"Not Enough Time Spent",2:"Insufficent History",3:"Copy and Pasted",4:"Similarity to Solution",5:"Similarity to Student",6:"Cheat Tool Detected"}},Checkout:{ACCOUNT_MANAGER_USERS:[["Erin Grady","erin"],["Bianca Ramchandana","bianca"],["Julia Ellingwood","juliaellingwood"],["Ryan Hart","ryan"],["Lucas Meek","lucas"],["Sara Jenis","sara"],["Mike Kelly","mike"],["Anayo Ordu","anayo"],["Michael Vizzi","michaelvizzi"],["Mark Dozier","mark"],["Adrienne Brazil","adriennebrazil"],["Eric Crewes","ericcrewes"],["Ryan Childers","ryanchilders"],["Jason Graf","jasongraf"],["Jennifer Canelli","jennifercanelli"],["Nicole Goldberg","nicolegoldberg"]],BANK_TRANSFER:32,CART:102,CHECK:30,CLASS_STRINGS:{200:"none",201:"lost",202:"expanded",203:"contracted",204:"unchanged",205:"new",206:"quote-sent",207:"district-expansion"},CONFIRM:106,CONTRACTED:203,CREDIT_CARD:31,CUSTOM:101,DEAL_PAYMENT_TYPES:[[30,"Check"],[31,"Credit card"],[32,"Bank transfer"],[34,"Purchase order"],[33,"Mixed payments"]],DISTRICT_EXPANSION:207,DURATION_TYPES:[[20,"Semester"],[21,"Year"]],EXPANDED:202,INVOICE:107,LOST:201,MIXED_PAYMENTS:33,NEW_DEAL:205,NEXT_DEAL_CHANGE_TYPES:[[200,"None - Current Year"],[201,"Lost"],[202,"Expanded"],[203,"Contracted"],[204,"No Change"],[206,"Quote Sent"],[207,"District Expansion"]],NO_CHANGE:204,NO_DEAL:200,PAYMENT:105,PAYMENT_TYPES:[[30,"Check"],[31,"Credit card"],[32,"Bank transfer"],[34,"Purchase order"]],PREV_DEAL_CHANGE_TYPES:[[202,"Expanded"],[203,"Contracted"],[204,"No Change"],[205,"New Deal"],[207,"District Expansion"]],PRICING:100,PURCHASE_ORDER:34,QUOTE:103,QUOTE_SENT:206,SCHOOL:104,SEMESTER:20,STEPS:[102,104,105,106,107],STRINGS:{20:"Semester",21:"Year",30:"Check",31:"Credit card",32:"Bank transfer",33:"Mixed payments",34:"Purchase order",200:"None - Current Year",201:"Lost",202:"Expanded",203:"Contracted",204:"No Change",205:"New Deal",206:"Quote Sent",207:"District Expansion"},YEAR:21},ClassAccess:{BRONZE:9,CHOICES:[[0,"Free"],[1,"Pro"],[2,"Super"],[4,"Virtual"],[7,"Starter"],[9,"Bronze"],[10,"Silver"],[15,"Gold"],[20,"Unlimited"]],CHOICES_WITH_NONE:[[-1,"None"],[0,"Free"],[1,"Pro"],[2,"Super"],[4,"Virtual"],[7,"Starter"],[9,"Bronze"],[10,"Silver"],[15,"Gold"],[20,"Unlimited"]],COLORS:{0:"orange",1:"green",2:"teal",3:"blue",4:"purple",7:"silver",9:"silver",10:"silver",15:"gold",20:"blue",30:"teal"},CONTRACT_LENGTH_TO_HS_LICENSE_PRICE:{7:{1:4500,2:4500,3:4100},9:{1:5500,2:5500,3:4500},10:{1:7500,2:7200,3:6700},15:{1:10300,2:9900,3:9700},20:{1:15500,2:14500,3:13500}},CONTRACT_LENGTH_TO_MINI_SECTION_PRICE:{1:1600,2:1500,3:1200},CONTRACT_LENGTH_TO_MS_LICENSE_PRICE:{15:{1:6700,2:6300,3:6100},20:{1:10500,2:9500,3:8500}},CONTRACT_LENGTH_TO_PD_PRICE:{1:1450,2:1350,3:1250},CONTRACT_LENGTH_TO_SECTION_PRICE:{1:2600,2:2500,3:2100},COVID_TRIAL:105,DEMO:104,FREE:0,FREE_TYPE:100,FREE_UPGRADE:102,GOLD:15,LICENSE:30,NONE:-1,PAID_PLANS:[[1,"Pro"],[2,"Super"],[4,"Virtual"],[7,"Starter"],[9,"Bronze"],[10,"Silver"],[15,"Gold"],[20,"Unlimited"]],PD_PRICE:1750,PRICING:{1:{0:0,1:2500,2:3500},53:{1:3e3,2:4e3},6512:{1:3e3,2:4e3},4114:{1:2500,2:3500},649:{0:0,1:2500,2:3500}},PRICING_TABLE_OPTIONS:[[0,"Free"],[1,"Pro"],[30,"Site License"]],PRO:1,PURCHASE:103,SECTION_PRICE:{1:2500,2:3500},SILVER:10,STARTER:7,STRINGS:{"-1":"None",0:"Free",1:"Pro",2:"Super",4:"Virtual",7:"Starter",9:"Bronze",10:"Silver",15:"Gold",20:"Unlimited",30:"Site License",100:"Free",101:"Trial",102:"Free Upgrade",103:"Purchase",104:"Demo",105:"Trial"},SUPER:2,TRIAL:101,TYPE_CHOICES:[[100,"Free"],[101,"Trial"],[102,"Free Upgrade"],[103,"Purchase"],[104,"Demo"]],ULTRA:3,UNLIMITED:20,VIRTUAL:4,choice:[20,"Unlimited"]},ClassAccessFeature:{ACTIVITY_MINIMAP:7,ACTIVITY_PROGRESS:8,ANNOUNCEMENTS:32,ASSIGNMENT_FEED:26,ATTENDANCE:31,CLASS_SANDBOX:6,CLASS_SYLLABUS:25,CODE_SEARCH:16,CODE_TIMELINE:11,CUSTOM_ITEM_ABSOLUTE_MAX:2e3,DAILY_ACTIVITY_FEED:35,FAST_GRADE:12,GRADEBOOK:0,GRADEBOOK_EXPORT:1,GRADE_ASSIGNMENT:27,GRADE_MODE:24,INFO:{10:{},25:{name:"Section Syllabus",blurb:"The Section Syllabus gives you a generated syllabus for the section. The syllabus contains dates for when units and lessons will be covered in your class."},0:{name:"Gradebook",blurb:"The Gradebook tool lets you track progress of your students compared to where you expect them to be and easily assign grades based off of that. View what exercises each student has completed, the generated grade, and a distribution of grades across your class. Update the expected progress or grading schema option to experiment with different variations.",screenshot:"gradebook.png"},15:{name:"Weekly Progress tool",blurb:"The Weekly Progress tool lets you see the progress of each of your students in a week by week view.",screenshot:"weekly_progress.png"},2:{name:"Quiz Reports tool",blurb:"The Quiz Reports tool lets you see how your students are doing on all of the quizzes in the course. You can see a table that shows you overall grades per quiz for each student as well as a table for each quiz that shows you which questions each student answers correctly or incorrectly.",screenshot:"quiz_reports.png"},3:{name:"Problem Guides",blurb:"Problem guides give you an in-depth look at each programming problem in our courses. They provide several sample solutions, explanations, common bugs students see in the exercise, and tips and tricks for you to help your students write their solutions. <br><br>Check out a sample guide <a href='/problemguides/1/item/19'>here</a>.",screenshot:null},20:{name:"Printable Problem Guides",blurb:"Printable Problem guides give you the same in-depth look at each programming problem that is in our regular Problem Guides but in a clean, printable format. They include solutions, explanations, common bugs students see in the exercise, and tips and tricks  for you to help your students write their solutions.",screenshot:null},4:{name:"Module Progress Tracker",blurb:"The Module Progress Tracker gives you a high level overview of where your students are at in a course.",screenshot:"module_progress_demo.png"},5:{name:"Syllabus tool",blurb:"The Syllabus tool allows you to plan your class meetings by creating a syllabus. Everything is linked to and tied to problems in the course as well as learning objectives discussion problems, and vocabulary. You can view a sample syllabus <a href='/syllabus/sample'>here</a>.",screenshot:null},6:{name:"Class Sandbox page",blurb:"The Class Sandbox page lets you see the sandbox programs that your students have created in their own sandbox. This is a great tool for you to see what extra projects your students are making that are outside of the normal curriculum.",screenshot:null},7:{name:"Activity Minimaps",blurb:"Activity minimaps give you a way to see how active a student or class was on a given day or given week. You can see the level of activity at a glance to get insights into when your students are working and how much they are working. Darker days mean more activity. Hover over a day to see more information. Here's a sample:",screenshot:"activity_minimap.png"},8:{name:"Activity Progress Tracker",blurb:"The Activity Progress Tracker gives you a granular activity by activity view of what programs your students have completed and the status of each one. It allows you to get a complete sense of the progress of your students based on exactly what they have completed. You can also easily view the student's code by clicking on one of the circles. This will take you to their editor page with the current version of their code, so you can review it.",screenshot:"activity_progress.png"},9:{name:"Lesson Progress Tracker",blurb:"The Lesson Progress Tracker gives you a lesson by lesson view of what lessons your students have completed and the status of each one. ",screenshot:null},11:{name:"Code Timeline",blurb:"The Code Timeline gives you a visual representation of when your students coded over time. Easily check which problems are stumping your students or keep an eye out for students who might be copying others' code.",screenshot:null},12:{name:"Fast Grade Mode",blurb:"Fast grade mode lets you zoom through student submissions and grade them all without needing to reload the page. This tool is optimized for grading lots of problems really quickly. Use keyboard shortcuts, canned responses, and filtering to make grading a breeze and give your students fast feedback.",screenshot:"fast_grade.png"},13:{name:"Quiz Report Downloads",blurb:"Quiz reports can be downloaded as a CSV or XLS files for offline usage.",screenshot:null},14:{name:"Quiz Reset",blurb:"",screenshot:null},34:{name:"Quiz Retakes",blurb:"",screenshot:null},17:{name:"Lesson Activity Progress Tracker",blurb:"The Lesson Activity Progress Tracker gives you an activity by activity view of what activities in the lesson your students have completed and the status of each one. ",screenshot:"lesson_activity_progress.png"},23:{name:"Activity Time Tracker",blurb:"The Activity Time Tracker gives you a granular activity by activity view of what programs your students have completed and the status of each one, as well as, the time each student has spent on an activity and how many tries it took to complete.",screenshot:"activity_time_tracker.png"},18:{name:"Handouts",blurb:"Handouts are additional resources to supplement student learning and reinforce lesson concepts. There are handout versions for teachers as well as for students. They are invaluable resources to help teachers reinforceprogramming concepts.",screenshot:null},19:{name:"Playlists",blurb:"",screenshot:null},22:{name:"Solution References",blurb:"Solution references show you an easy to access solution guide to each activity. For programming activities, it gives you code for a sample solution. For quizzes, it shows you the correct answer to each question. You can also see the answer reasons for each choice, so you can explain to students why an answer is correct or why an answer is incorrect.",screenshot:null},24:{name:"Grade Mode",blurb:"Grade mode lets you zoom through student submissions and grade them all without needing to go back to the dashboard.",screenshot:null},26:{name:"Assignment Feed",blurb:"The Assignment Feed allows you to see a feed of actions on your students' assignments. You will be able to see actions like first views, submissions, and grades.",screenshot:null},27:{name:"Grade Assignment",blurb:"This page gives you a snapshot of a single assignment for a section. You can see a histogram of your students and a table with their grades and statuses with easy links to give grades."},29:{name:"Login History",blurb:"Filter and see the history of logins for your students."},30:{name:"Most Recent Activity",blurb:"See the activity each of your students has worked on most recently. It's a great way to keep on top of what your students are curently working on from one page. It can be especially useful in a virtual classroom."},31:{name:"Attendance",blurb:"Check attendance automatically. You'll see your student roster along with whether or not they have been on CodeHS today, what time they first logged on, and the time of their most recent activity."},32:{name:"Announcements",blurb:"Send Announcements to students in your section."},35:{name:"Daily Activity Feed",blurb:"See the daily activity of each of your students. You'll see when they logged on, logged off, the amount of time they spent on the site, and which assignments they spent their time on each day."},36:{name:"Realtime Dashboard",blurb:"See your students working in realtime. You'll see their attendance, what assignment they currently have open, and a log of all their activity which updates as they work."},37:{name:"Question of the Day Dashboard",blurb:"See your students' progress on the Question of the Day. You can see which students have attempted the question, their answers, and statistics on how your section is doing as a whole."}},LABS:21,LESSON_ACTIVITY_PROGRESS:17,LESSON_PROGRESS:9,LOGIN_HISTORY:29,MAX_CUSTOM_ITEMS:{"-1":20,0:20},MIN_REQUIRED_PLAN:{0:1,1:2,2:1,3:1,20:1,4:1,5:1,6:1,7:1,8:1,9:1,10:4,11:1,12:1,13:1,14:1,34:1,15:1,16:1,17:1,18:1,19:1,21:1,23:1,24:1,25:1,26:1,27:1,28:1,29:1,30:1,31:1,32:1,33:1,35:1,36:1,37:1},MODULE_PROGRESS:4,MOST_RECENT_ACTIVITY:30,PLAYLISTS:19,PRINTABLE_PROBLEM_GUIDES:20,PROBLEM_GUIDES:3,QOTD_DASHBOARD:37,QUIZ_REPORTS:2,QUIZ_REPORT_DOWNLOADS:13,QUIZ_RESETS:14,QUIZ_RETAKES:34,REALTIME_DASHBOARD:36,RESOURCES:18,SECTION_VISITOR_SESSIONS:33,SOLUTION_REFERENCES:22,STRINGS:{},STUDENT_PROGRAM_SHOWCASE:28,SYLLABUS:5,TIME_TRACKING:23,TUTOR_GRADING:10,USER_ACTIVE_DAY_HISTORY:29,WEEKLY_PROGRESS:15},ClassCourseLevel:{AP:4,CHOICES:[[1,"Remedial"],[2,"Regular"],[3,"Honors"],[4,"Advanced Placement"],[0,"Unknown"]],HONORS:3,REGULAR:2,REMEDIAL:1,STRINGS:{0:"Unknown",1:"Remedial",2:"Regular",3:"Honors",4:"Advanced Placement"},UNKNOWN:0},ClassPage:{ACCESS_CONTROLS:22,ACTIVE_DAY_HISTORY:120,ACTIVITY_MINIMAP:12,ACTIVITY_PROGRESS:3,ALL_COURSE_SETTINGS:37,ANNOUNCEMENTS:123,ASSIGNMENTS:100,ASSIGNMENT_AUTO_GRADE:110,ASSIGNMENT_BLOCKS:114,ASSIGNMENT_COPY_PASTE:115,ASSIGNMENT_COURSE_SETTING_LINKS:[22,23,110,114,111,115,116,124,125],ASSIGNMENT_DUE_DATES_AND_ACCESS_CONTROLS:125,ASSIGNMENT_FEED:102,ASSIGNMENT_GRADES:101,ASSIGNMENT_GRADING_HISTORY:118,ASSIGNMENT_HANDOUTS:127,ASSIGNMENT_IS_ASSIGNED:111,ASSIGNMENT_IS_ASSIGNED_TO_GOOGLE_CLASSROOM:124,ASSIGNMENT_LESSON_PLANS:128,ASSIGNMENT_LESSON_PROGRESS:104,ASSIGNMENT_LOGIN_HISTORY:119,ASSIGNMENT_MODULE_PROGRESS:105,ASSIGNMENT_MORE_LINKS:[102,24,13,12,17,21,118,119],ASSIGNMENT_OVERVIEW:117,ASSIGNMENT_PROBLEM_GUIDES:130,ASSIGNMENT_PROGRESS:103,ASSIGNMENT_PROGRESS_ITEMS:[103,104,105,106,107,109,134],ASSIGNMENT_QUIZ_SCORES:106,ASSIGNMENT_QUIZ_SHUFFLE:116,ASSIGNMENT_REVIEW:108,ASSIGNMENT_SECTION_PROGRESS:132,ASSIGNMENT_SOLUTIONS:129,ASSIGNMENT_TIME_TRACKING:109,ASSIGNMENT_WEEKLY_PROGRESS:107,ATTENDANCE:122,AWARD_BADGES:24,BREADCRUMB_TOOL_STRINGS:{22:"Access Controls",23:"Due Date Settings",125:"Due Dates + Access Controls",114:"Block/Text Settings",111:"Is Assigned Settings",115:"Copy/Paste Prevention"},BREADCRUMB_URL_NAMES:{22:"lms-access-controls-section",23:"edit-due-dates-section",125:"due-dates-and-access-controls-section",114:"blocks-vertical",111:"is-assigned-vertical",115:"copy-paste-vertical"},CLASS_ACTIVITY:13,CLASS_PROGRESS_ITEMS:[4,3,7,16,18,38],CLASS_SANDBOX:34,CODEREVIEW_DASHBOARD:51,CODE_REVIEW:26,CODE_SEARCH:19,CODE_TIMELINE:17,COURSES_PROGRESS:38,COURSE_SETTING_LINKS:[22,23,37],DAILY_ACTIVITY_FEED:39,DUE_DATE_SETTINGS:23,ENROLLMENT_HISTORY:131,GRADEBOOK:8,GRADING_HISTORY:14,LABS:35,LESSON_PLANS:25,LESSON_PROGRESS:7,LINKS:5,LINKS_ITEMS:[17,11,12,13,14,15,50,21,24,31,32,33],LOGIN_HISTORY:27,MESSAGE_HISTORY:15,MODULE_PROGRESS:4,MOST_RECENT_ACTIVITY:121,POSTTEST_RESULTS_SUMMARY:33,PRETEST_RESULTS_SUMMARY:32,PROJECT_ASSESSMENTS:36,QOTD_DASHBOARD:134,QUEUES:2,QUEUE_SETTINGS:52,QUIZ_SCORES:16,REALTIME_DASHBOARD:133,ROSTER:1,SANDBOX:11,SECTION_ASSIGNMENT_EDIT:113,SECTION_VISITOR_SESSIONS:126,SETTINGS:10,SINGLE_ASSIGNMENT_GRADE:112,STRINGS:{4:"Module Progress",16:"Quiz Scores",18:"Weekly Progress",24:"Award Badges",52:"Queue Settings",22:"Access Controls",23:"Due Date Settings",31:"Survey Results Tracking",13:"Class Activity",19:"Code Search",32:"Pretest Results Summary",33:"Posttest Results Summary",17:"Code Timeline",37:"Course Settings",38:"Courses Progress",122:"Attendance",123:"Announcements",131:"Enrollment History",39:"Daily Activity Feed",134:"Question of the Day Scores"},STUDENT_PROGRAM_SHOWCASE:21,SUBMISSION_FEED:50,SURVEY_RESULTS_TRACKING:31,SYLLABI:9,SYLLABUS_PROGRESS:29,SYLLABUS_PROGRESS_DATE:30,TIME_TRACKING:28,WEEKLY_PROGRESS:18},ClassPlan:{FREE:0,FULL_ACCESS:1,PAID_ACCESS_HELP_CREDITS:10,PAID_BASIC:4,PAID_BASIC_MONTHLY:5,PAID_FINISHED:9,PAID_PLANS:[4,5,6,10],PAID_PREMIUM:6,PLAN_TYPES:[[0,"Free Trial"],[1,"Full Access"],[3,"Workshop"],[4,"Paid Basic"],[5,"Paid Basic Monthly"],[6,"Paid Premium"],[8,"Teacher Training"],[9,"Paid and Finished"],[10,"Paid Access with Help Credits"]],STRINGS:{0:"Free Trial",1:"Full Access",3:"Workshop",4:"Paid Basic",5:"Paid Basic Monthly",6:"Paid Premium",8:"Teacher Training",9:"Paid and Finished",10:"Paid Access with Help Credits"},TEACHER_TRAINING:8,WORKSHOP:3},ClassSet:{CHOICES:[[494,"PD"],[498,"Elementary"]],ELEMENTARY_ID:498,PD_ID:494,STRINGS:{494:"PD",498:"Elementary"}},CodeHSMe:{MAX_SUBDOMAIN_LENGTH:63,STRINGS:{}},CodeHSMeFlagStatus:{BLOCKED:1,CHOICES:[[1,"Blocked"],[2,"Unblocked"]],STRINGS:{1:"Blocked",2:"Unblocked"},UNBLOCKED:2},CodeHSTeam:{ACCOUNT_MANAGEMENT:20,AES_AND_AMS:["adam","lnelson","afuller","hperez","ericcrewes","zachbrelsford","hannahbray","nate","dmonday","adriennebrazil","kcollins","sting","tmeng","dstoner","jasongraf","ryanchilders","alyssaricker","haley","brandon","alesha","eaustin","mholley","mike","meg"],AE_TEAM:["nate","haley","hannahbray","tmeng","kcollins","sting","afuller","dmonday"],AM_TEAM:["mike","adriennebrazil","ericcrewes","ryanchilders","jasongraf","alyssaricker","zachbrelsford","mholley","dstoner","eaustin","lnelson"],CSM_TEAM:["bianca","mark","kayla","sara","anayo","katiebillie","alexblack","mollyhagan","bdelgado","dkarmik","efoley"],CURRICULUM_TEAM:["evelyn","jennifer","david","rachel","ryan","darylwong","mattarnold","alexnunez","lisakilper","sandyahlstrom","juliatrigo","koshea","jmahin","kwilliams"],EDUCATION_TEAM:["evelyn","jennifer","david","rachel","ryan","darylwong","mattarnold","alexnunez","lisakilper","sandyahlstrom","juliatrigo","koshea","jmahin","kwilliams","lea","lindsayroberts","portiamorrell","robin","lgrant","dkleinhans","tdevane"],FULL_SALES_TEAM:["adam","lnelson","afuller","hperez","ericcrewes","dkarmik","zachbrelsford","hannahbray","nate","dmonday","adriennebrazil","kcollins","alexblack","sting","bianca","tmeng","kayla","dstoner","anayo","jasongraf","ryanchilders","alyssaricker","haley","brandon","alesha","mollyhagan","bdelgado","eaustin","mark","sara","katiebillie","efoley","mholley","mike","meg"],FULL_SUPPORT_TEAM:["dkarmik","garethdebhardt","alexblack","bianca","ehernandez","kayla","jyu","anayo","nsmith","mjavor","bdelgado","gary","mark","iyarce","sara","katiebillie","efoley","mstaloch","mollyhagan"],OPERATIONS_TEAM:["adrianne","miri","mduskwood","jliang"],PD_TEAM:["lea","lindsayroberts","portiamorrell","robin","lgrant","dkleinhans","tdevane"],REVENUE_TEAMS:[[10,"Sales"],[20,"Account Management"]],SALES:10,SALES_AND_AM_TEAM:["meg","alesha","nate","adam","brandon","haley","hannahbray","tmeng","kcollins","dmonday","afuller","sting","hperez","mike","adriennebrazil","ericcrewes","ryanchilders","jasongraf","alyssaricker","zachbrelsford","mholley","dstoner","eaustin","lnelson"],SALES_TEAM:["meg","alesha","nate","adam","brandon","haley","hannahbray","tmeng","kcollins","dmonday","afuller","sting","hperez","mike","adriennebrazil","ericcrewes","ryanchilders","jasongraf","alyssaricker","zachbrelsford","mholley","dstoner","eaustin","lnelson"],STRINGS:{10:"Sales",20:"Account Management"},SUPPORT_TEAM:["gary","garethdebhardt","mstaloch","jyu","mjavor","ehernandez","nsmith","iyarce"]},CodeReview:{CLASS_NAMES:{0:"not-reviewed",1:"reviewed",2:"passed-review"},NOT_REVIEWED:0,PASSED_REVIEW:2,REVIEWED:1,STATUS_CHOICES:[[0,"Not Reviewed"],[1,"Reviewed"],[2,"Passed Review"]],STRINGS:{0:"Not Reviewed",1:"Reviewed",2:"Passed Review"}},CodingExperience:{ADVANCED:30,BEGINNER:10,CHOICES:[[0,"Unknown"],[10,"Beginner"],[20,"Intermediate"],[30,"Advanced"]],INTERMEDIATE:20,STRINGS:{0:"Unknown",10:"Beginner",20:"Intermediate",30:"Advanced"},UNKNOWN:0,VALUES:{Unknown:0,Beginner:10,Intermediate:20,Advanced:30},key:30,val:"Advanced"},Colors:{BLUE:"#27a9e1",HOVER_BLUE:"#2499cc",LIGHT_GREY:"#dee5e9",STRINGS:{},TEAL:"#00a79d",TEXT_ALT:"#555555"},Complete:{BASIC_SUBMIT:6,CHOICES:[[-1,"NO_STATUS"],[0,"STARTED"],[1,"SUBMITTED"],[2,"FUNC_DONE"],[3,"PASSED"],[4,"REJECTED"],[5,"CORRECT"],[6,"BASIC_SUBMIT"]],CSS:{1:"submitted",2:"func-done",3:"complete",4:"rejected",5:"func-correct",6:"submitted","-1":"not-started"},CSS_REVERSE:{started:0,submitted:6,"func-done":2,complete:3,rejected:4,"func-correct":5,"not-started":-1},FUNC_DONE:2,GRADE_CHOICES:[[2,"Functionality OK"],[3,"Pass"],[4,"Reject"]],GRADE_STATUSES:{2:"Functionality OK",3:"Pass",4:"Reject"},MSG:{0:"Started",1:"Submitted",2:"Functionality OK",3:"Passed",4:"Not Approved",5:"Submitted",6:"Submitted"},NO_STATUS:-1,PASSED:3,REJECTED:4,STARTED:0,STRINGS:{"-1":"NO_STATUS",0:"STARTED",1:"SUBMITTED",2:"FUNC_DONE",3:"PASSED",4:"REJECTED",5:"CORRECT",6:"BASIC_SUBMIT"},SUBMITTED:1,SUBMIT_CORRECT:5},Constants:{STRINGS:{}},ContactMethod:{CHOICES:[[1,"Phone"],[2,"Text"],[3,"Email"],[4,"No preference"],[0,"Unknown"]],EMAIL:3,NO_PREFERENCE:4,PHONE:1,STRINGS:{0:"Unknown",1:"Phone",2:"Text",3:"Email",4:"No preference"},TEXT:2,UNKNOWN:0},ContentConfig:{AVAILABLE:0,CHOICES:[[0,"Available"],[1,"Locked"],[2,"Scheduled"]],COFFEE_DEFAULTS:[57924,79049,59278,77969,115730,78995,57940,59350,61015,79068,78879,57888,137904,94841,78902,81145,59259,95996],CONFIG_DEFAULTS:{send_to_queue:!1,item_visibility:0,due_date:null},DOGS_DEFAULTS:[256,195,260,7,203,269,22,87,281,25,160,162,226,175,111,112,53,62,63],END:11,FIELD_NAME:{10:"start_availability_datetime",11:"end_availability_datetime"},HABITATS_DEFAULTS:[209601,199748,204294,199111,200200,206922,199755,208848,198737,199889,199062,199960,199898,199206,198442,198702,204598,202364],LOCKED:1,MEMORY_DEFAULTS:[168193,160265,160272,160277,160284,160296,222764,160303,214842,160315,214084,154695,158794,205649,158802,158804,153947,205660,158814,160097,153954,154723,153959,160103,153964,212849,153972,205686,160119,165750,154745,219769,160251,160124,153982,160897,155266,205699,160129,156809,160138,175248,160144,160150,223639,185754,223644,160157,223651,160937,223405,160173,223662,160944,223668,223673,160188,160198,188615,160206,160215,175322,160227,223716,187365,213737,160235,213742,160244,168187],SCHEDULED:2,START:10,STRINGS:{0:"Available",1:"Locked",2:"Scheduled"}},ContentFeedback:{CLOSED:2,IN_PROGRESS:1,OPEN:0,RESOLVED:3,STATUS_CHOICES:[[0,"Open"],[1,"In Progress"],[2,"Closed"],[3,"Resolved"]],STRINGS:{0:"Open",1:"In Progress",2:"Closed",3:"Resolved"}},ContentFeedbackPriority:{CHOICES:[[0,"High"],[1,"Medium"],[2,"Low"],[3,"No priority"]],HIGH:0,LOW:2,MEDIUM:1,NONE:3,STRINGS:{0:"High",1:"Medium",2:"Low",3:"No priority"}},Contest:{BEATS_UNLOCKED_CONTEST:915,BEATS_UNLOCKED_CONTEST_ORIGINAL:124,STRINGS:{}},ContractAgreementType:{AUTORENEWAL_ORDER:40,CHOICES:[[10,"Contract"],[20,"Order"],[30,"Implicit Order"],[40,"Autorenewal Order"],[50,"Generated Quote"]],CONTRACT:10,EXTERNAL_NAMES:{10:"Contract",20:"Order",30:"Order",40:"Contract",50:"Quote"},GENERATED_QUOTE:50,IMPLICIT_ORDER:30,ORDER:20,STRINGS:{10:"Contract",20:"Order",30:"Implicit Order",40:"Autorenewal Order",50:"Generated Quote"}},ContractBillingFrequency:{ANNUAL:1,CHOICES:[[1,"Annual"],[2,"Upfront"],[3,"Custom"]],CUSTOM:3,STRINGS:{1:"Annual",2:"Upfront",3:"Custom"},UPFRONT:2},ContractNote:{CHOICES:[[10,"CodeHS Team"],[20,"Sales Admins"]],CODEHS_TEAM:10,SALES_ADMINS:20,STRINGS:{10:"CodeHS Team",20:"Sales Admins"}},ContractNoteType:{APPROVAL:2,CHOICES:[[1,"General"],[2,"Approval"]],GENERAL:1,STRINGS:{1:"General",2:"Approval"}},ContractStatus:{CHOICES:[[10,"Draft"],[20,"Quote"],[25,"PO Received"],[30,"Needs Signature"],[40,"Contract"]],CONTRACT:40,DRAFT:10,NEED_SIGNATURE:30,PO_RECEIVED:25,QUOTE:20,STRINGS:{10:"Draft",20:"Quote",25:"PO Received",30:"Needs Signature",40:"Contract"}},ContractTemplate:{AUTORENEWAL:30,CHOICES:[[10,"contract"],[15,"msa_plus_order"],[20,"order"],[30,"autorenewal contract"],[40,"order_only [1 page]"],[50,"order_form [2 pages]"]],CONTRACT_NO_MSA:10,MSA:15,ORDER:20,ORDER_FORM:50,ORDER_ONLY:40,STRINGS:{10:"contract",15:"msa_plus_order",20:"order",30:"autorenewal contract",40:"order_only [1 page]",50:"order_form [2 pages]"}},Countries:{CHOICES:[["ABW","Aruba"],["AFG","Afghanistan"],["AGO","Angola"],["AIA","Anguilla"],["ALA","land Islands"],["ALB","Albania"],["AND","Andorra"],["ARE","United Arab Emirates"],["ARG","Argentina"],["ARM","Armenia"],["ASM","American Samoa"],["ATA","Antarctica"],["ATF","French Southern Territories"],["ATG","Antigua and Barbuda"],["AUS","Australia"],["AUT","Austria"],["AZE","Azerbaijan"],["BDI","Burundi"],["BEL","Belgium"],["BEN","Benin"],["BES","Bonaire, Sint Eustatius and Saba"],["BFA","Burkina Faso"],["BGD","Bangladesh"],["BGR","Bulgaria"],["BHR","Bahrain"],["BHS","Bahamas"],["BIH","Bosnia and Herzegovina"],["BLM","Saint Barthlemy"],["BLR","Belarus"],["BLZ","Belize"],["BMU","Bermuda"],["BOL","Bolivia, Plurinational State of"],["BRA","Brazil"],["BRB","Barbados"],["BRN","Brunei Darussalam"],["BTN","Bhutan"],["BVT","Bouvet Island"],["BWA","Botswana"],["CAF","Central African Republic"],["CAN","Canada"],["CCK","Cocos (Keeling) Islands"],["CHE","Switzerland"],["CHL","Chile"],["CHN","China"],["CIV","Cte d'Ivoire"],["CMR","Cameroon"],["COD","Congo, The Democratic Republic of the"],["COG","Congo"],["COK","Cook Islands"],["COL","Colombia"],["COM","Comoros"],["CPV","Cabo Verde"],["CRI","Costa Rica"],["CUB","Cuba"],["CUW","Curaao"],["CXR","Christmas Island"],["CYM","Cayman Islands"],["CYP","Cyprus"],["CZE","Czechia"],["DEU","Germany"],["DJI","Djibouti"],["DMA","Dominica"],["DNK","Denmark"],["DOM","Dominican Republic"],["DZA","Algeria"],["ECU","Ecuador"],["EGY","Egypt"],["ERI","Eritrea"],["ESH","Western Sahara"],["ESP","Spain"],["EST","Estonia"],["ETH","Ethiopia"],["FIN","Finland"],["FJI","Fiji"],["FLK","Falkland Islands (Malvinas)"],["FRA","France"],["FRO","Faroe Islands"],["FSM","Micronesia, Federated States of"],["GAB","Gabon"],["GBR","United Kingdom"],["GEO","Georgia"],["GGY","Guernsey"],["GHA","Ghana"],["GIB","Gibraltar"],["GIN","Guinea"],["GLP","Guadeloupe"],["GMB","Gambia"],["GNB","Guinea-Bissau"],["GNQ","Equatorial Guinea"],["GRC","Greece"],["GRD","Grenada"],["GRL","Greenland"],["GTM","Guatemala"],["GUF","French Guiana"],["GUM","Guam"],["GUY","Guyana"],["HKG","Hong Kong"],["HMD","Heard Island and McDonald Islands"],["HND","Honduras"],["HRV","Croatia"],["HTI","Haiti"],["HUN","Hungary"],["IDN","Indonesia"],["IMN","Isle of Man"],["IND","India"],["IOT","British Indian Ocean Territory"],["IRL","Ireland"],["IRN","Iran, Islamic Republic of"],["IRQ","Iraq"],["ISL","Iceland"],["ISR","Israel"],["ITA","Italy"],["JAM","Jamaica"],["JEY","Jersey"],["JOR","Jordan"],["JPN","Japan"],["KAZ","Kazakhstan"],["KEN","Kenya"],["KGZ","Kyrgyzstan"],["KHM","Cambodia"],["KIR","Kiribati"],["KNA","Saint Kitts and Nevis"],["KOR","Korea, Republic of"],["KWT","Kuwait"],["LAO","Lao People's Democratic Republic"],["LBN","Lebanon"],["LBR","Liberia"],["LBY","Libya"],["LCA","Saint Lucia"],["LIE","Liechtenstein"],["LKA","Sri Lanka"],["LSO","Lesotho"],["LTU","Lithuania"],["LUX","Luxembourg"],["LVA","Latvia"],["MAC","Macao"],["MAF","Saint Martin (French part)"],["MAR","Morocco"],["MCO","Monaco"],["MDA","Moldova, Republic of"],["MDG","Madagascar"],["MDV","Maldives"],["MEX","Mexico"],["MHL","Marshall Islands"],["MKD","North Macedonia"],["MLI","Mali"],["MLT","Malta"],["MMR","Myanmar"],["MNE","Montenegro"],["MNG","Mongolia"],["MNP","Northern Mariana Islands"],["MOZ","Mozambique"],["MRT","Mauritania"],["MSR","Montserrat"],["MTQ","Martinique"],["MUS","Mauritius"],["MWI","Malawi"],["MYS","Malaysia"],["MYT","Mayotte"],["NAM","Namibia"],["NCL","New Caledonia"],["NER","Niger"],["NFK","Norfolk Island"],["NGA","Nigeria"],["NIC","Nicaragua"],["NIU","Niue"],["NLD","Netherlands"],["NOR","Norway"],["NPL","Nepal"],["NRU","Nauru"],["NZL","New Zealand"],["OMN","Oman"],["PAK","Pakistan"],["PAN","Panama"],["PCN","Pitcairn"],["PER","Peru"],["PHL","Philippines"],["PLW","Palau"],["PNG","Papua New Guinea"],["POL","Poland"],["PRI","Puerto Rico"],["PRK","Korea, Democratic People's Republic of"],["PRT","Portugal"],["PRY","Paraguay"],["PSE","Palestine, State of"],["PYF","French Polynesia"],["QAT","Qatar"],["REU","Runion"],["ROU","Romania"],["RUS","Russian Federation"],["RWA","Rwanda"],["SAU","Saudi Arabia"],["SDN","Sudan"],["SEN","Senegal"],["SGP","Singapore"],["SGS","South Georgia and the South Sandwich Islands"],["SHN","Saint Helena, Ascension and Tristan da Cunha"],["SJM","Svalbard and Jan Mayen"],["SLB","Solomon Islands"],["SLE","Sierra Leone"],["SLV","El Salvador"],["SMR","San Marino"],["SOM","Somalia"],["SPM","Saint Pierre and Miquelon"],["SRB","Serbia"],["SSD","South Sudan"],["STP","Sao Tome and Principe"],["SUR","Suriname"],["SVK","Slovakia"],["SVN","Slovenia"],["SWE","Sweden"],["SWZ","Eswatini"],["SXM","Sint Maarten (Dutch part)"],["SYC","Seychelles"],["SYR","Syrian Arab Republic"],["TCA","Turks and Caicos Islands"],["TCD","Chad"],["TGO","Togo"],["THA","Thailand"],["TJK","Tajikistan"],["TKL","Tokelau"],["TKM","Turkmenistan"],["TLS","Timor-Leste"],["TON","Tonga"],["TTO","Trinidad and Tobago"],["TUN","Tunisia"],["TUR","Turkey"],["TUV","Tuvalu"],["TWN","Taiwan, Province of China"],["TZA","Tanzania, United Republic of"],["UGA","Uganda"],["UKR","Ukraine"],["UMI","United States Minor Outlying Islands"],["URY","Uruguay"],["USA","United States"],["UZB","Uzbekistan"],["VAT","Holy See (Vatican City State)"],["VCT","Saint Vincent and the Grenadines"],["VEN","Venezuela, Bolivarian Republic of"],["VGB","Virgin Islands, British"],["VIR","Virgin Islands, U.S."],["VNM","Viet Nam"],["VUT","Vanuatu"],["WLF","Wallis and Futuna"],["WSM","Samoa"],["YEM","Yemen"],["ZAF","South Africa"],["ZMB","Zambia"],["ZWE","Zimbabwe"]],STRINGS:{},USA:["USA","United States"]},Course:{ADMIN_QUEUE_COURSES:[10,535,2018,6682,2027,6120,2169,3594,3714,8323,15475,15],ADVANCED_AI:21504,ADVANCED_CYBER_ID:7606,AI:8264,ALTERNATE_EXERCISE_COURSES:[6165,17663,17996,17998],APCSP_2018_2019_ID:400,APCSP_CYBER_ID:9293,APCSP_FLAVORS:[6512,400,1044],APCSP_ID:6512,APCSP_JS_ID:6166,APCSP_PD_ID:535,APCSP_PYTHON_ID:8066,APCSP_ROBLOX:19801,APCSP_SUPPLEMENTAL_COURSE_ID:1033,AP_COURSE_IDS:[53,6165,6512,400,6166,8066,9293,19801],AP_CSA_MODIFIED_REVIEW_2019_2020_ID:8626,AP_CSA_PREVIEW_ID:6165,AP_CSA_REVIEW_2019_2020_ID:7723,AP_CSP_COURSES:[6512,1984,400,6166,8066,9293,19801],AP_CSP_REVIEW_ID:1984,AP_CSP_REVIEW_PLAYLIST_ID:1780,AP_REVIEW_ID:68,ARDUINO_ID:8050,ARIZONA_CS_ID:5630,ARKANSAS_CS_1_ID:6234,BLOCK_COURSES:[6512,17663,2246,17996,17998,649,694,695,696,1094,4356,4251,4280,1,699,709,719,1863,2308,2343,2348,2349,3110,3114,4758,4759,4760,5194,6103],BOOL_HOMEPAGE_COURSES:[1,4114,6512,53],BOOL_JAVA_ID:4104,CATEGORIZING_TRIANGLES_ID:5383,CB_ENDORSED_AP_COURSE_IDS:[6165,6512,400,6166,8066,9293],CHECKOUT_COURSES:[[1,"Intro CS - JavaScript"],[53,"AP Computer Science A"],[6512,"AP Computer Science Principles"],[4114,"Intro CS - Python"],[649,"Computing Ideas"],[10,"Professional Development - Intro JS"],[535,"Professional Development - AP CSP"],[2018,"PD 2 - Intro JS"],[6682,"Professional Development - AP CSA"],[2027,"Professional Development - Computing Ideas"],[6120,"Professional Development - Intro Python"],[2169,"Professional Development - Web Design"],[3594,"Professional Development - Cybersecurity"],[3714,"Professional Development - Level 2"],[8323,"Florida Teaching Certification Exam Prep"],[15475,"Praxis Prep"]],CODING_AND_MATH:13419,CODING_AND_SCIENCE:13420,CODING_EXPLORATIONS_ART_ID:4280,CODING_EXPLORATIONS_ID:5194,CODING_EXPLORATIONS_MUSIC_ID:4356,CODING_EXPLORATIONS_PHYSICS_COLLISIONS_ID:4666,CODING_EXPLORATIONS_PUNNETT_SQUARE_GENERATOR:4965,CODING_EXPLORATIONS_SPORTS_ID:4251,CODING_PHYSICS_SIMULATION_ID:5374,COMING_SOON_COURSE_IDS:[12223,8264,12135,12842,13496,13497,13419,13420],COMPUTING_IDEAS_BABBAGE:695,COMPUTING_IDEAS_COURSES:[649,694,695,696,1094],COMPUTING_IDEAS_FLAVORS:[649,694,695,696,1094,2343,2348,2349,2308],COMPUTING_IDEAS_HOPPER:696,COMPUTING_IDEAS_ID:649,COMPUTING_IDEAS_PD_ID:2027,COMPUTING_IDEAS_SHANNON:694,COMPUTING_IDEAS_TURING:1094,CONNECTICUT_3A_ID:6364,COOL_DEMO_COURSE:8452,CPP_DATA_STRUCTURES:12223,CREATIVE_COMPUTING_HS_ID:2348,CREATIVE_COMPUTING_MS_ID:2349,CSP_MEGABYTE_ID:1044,CSTA_2_ID:9434,CSTA_3A_ID:6103,CYBERSECURITY_COURSES:[9293,8631,14662,6560,7606,3433,8e3,10265,10384,10905,11698,15163],CYBER_SECURITY_ID:3433,CYBER_SECURITY_PD_ID:3594,DATA_SCIENCE:12135,DEFAULT_EMPTY_COURSE:8271,DEMO_COURSE_ID:531,DOCS_TAB_COURSE:9366,DOCS_TAB_COURSE_NEW:17392,ELEMENTARY_RESOURCES_COURSE_ID:18656,FACEBOOK_HACKATHON_GO_COURSES:[1,4114],FB_2018_CREATIVE_PROJECTS_ID:4252,FLORIDA_CS_1_ID:6378,FREE_RESOURCES_COURSES:[4065,8050,9650,9651,9647,9648],FTCE_PREP_ID:8323,FUNDAMENTALS_CYBER_ID:6560,GEORGIA_CS_ID:6427,GRADE_TAG_TO_ORDER:{prek:0,k:1,1:2,2:3,3:4,4:5,5:6,6:7,7:8,8:9},GRADE_TAG_TO_SHORT_STRING:{prek:"Pre-K",k:"K",1:"1st",2:"2nd",3:"3rd",4:"4th",5:"5th",6:"6th",7:"7th",8:"8th"},GRADE_TAG_TO_STRING:{prek:"Pre-K",k:"Kindergarten",1:"1st Grade",2:"2nd Grade",3:"3rd Grade",4:"4th Grade",5:"5th Grade",6:"6th Grade",7:"7th Grade",8:"8th Grade"},HAWAII_3A_ID:6293,HOC_ART:4759,HOC_BITCOIN:4762,HOC_BLOCKCHAIN:4763,HOC_COLLISIONS:4757,HOC_COURSE_ID:16,HOC_DATA_VISUALIZATION:11193,HOC_JAVA:3118,HOC_JS_APPS:3113,HOC_JS_GRAPHICS:3119,HOC_KAREL:3110,HOC_KAREL_SP:3114,HOC_LITTER:11194,HOC_MODELING:4761,HOC_MUSIC:4758,HOC_PIXELS:3117,HOC_PI_DAY:8009,HOC_PUNNET_SQUARES:7214,HOC_PYTHON:3120,HOC_REACT_APPS:3111,HOC_SPORTS:4760,HOC_SUPPORTING_ARTISTS:11195,HOC_TRACY:3116,HOC_VR:3112,HOC_WEB_DESIGN:3115,HOMEPAGE_COURSES:[1,4114,6512,53,649,17663],HOMEPAGE_PD_COURSES:[10,2018,535,6682,2027,6120,2169],IB_HL:13497,IB_SL:13496,INDIANA_CS_1_ID:5639,INDIVIDUAL_DEFAULTS:[620],INTEGRATED_CODING_PROJECTS:[4356,4251,4280,4666,4965,5194,5374,5383,13419,13420],INTERCOM_TAGS:{6512:"AP CSP",1984:"AP CSP",400:"AP CSP",6166:"AP CSP",8066:"AP CSP",9293:"Cybersecurity",19801:"AP CSP",53:"AP Java",6165:"AP Java",688:"AP Java",689:"AP Java",690:"AP Java",691:"AP Java",692:"AP Java",4114:"Intro to Python",626:"Intro to Python",693:"Intro to Python",870:"Intro to Python",5657:"Intro to Python",649:"Computing Ideas",694:"Computing Ideas",695:"Computing Ideas",696:"Computing Ideas",1094:"Computing Ideas",8631:"Cybersecurity",14662:"Cybersecurity",6560:"Cybersecurity",7606:"Cybersecurity",3433:"Cybersecurity",8e3:"Cybersecurity",10265:"Cybersecurity",10384:"Cybersecurity",10905:"Cybersecurity",11698:"Cybersecurity",15163:"Cybersecurity",9434:"Tech Apps And Coding",10412:"Tech Apps And Coding",10418:"Tech Apps And Coding",10422:"Tech Apps And Coding",10423:"Tech Apps And Coding",10424:"Tech Apps And Coding",10425:"Tech Apps And Coding",10426:"Tech Apps And Coding",10427:"Tech Apps And Coding",4356:"Interdisciplinary",4251:"Interdisciplinary",4280:"Interdisciplinary",4666:"Interdisciplinary",4965:"Interdisciplinary",5194:"Interdisciplinary",5374:"Interdisciplinary",5383:"Interdisciplinary",13419:"Interdisciplinary",13420:"Interdisciplinary",17663:"Web Design",2246:"Web Design",17996:"Web Design",17998:"Web Design",1:"Intro to JavaScript",210:"Intro to JavaScript",698:"Intro to JavaScript",699:"Intro to JavaScript",17397:"Intro to JavaScript",2343:"World of Computing",2308:"Intro to the Internet",2348:"Creative Computing HS",2349:"Creative Computing MS",12842:"Video Game Design in Unity",4065:"micro:bit",8050:"Arduino",7968:"Web Development"},INTRO_COURSE_ID:1,INTRO_JS_BULLDOG:699,INTRO_JS_CORGI:17397,INTRO_JS_FLAVORS:[1,210,698,699,17397],INTRO_JS_LABRADOR:210,INTRO_JS_SPANIEL:698,INTRO_KAREL_ID:620,INTRO_PYTHON_3_ID:5657,INTRO_PYTHON_ID:4114,INTRO_PYTHON_RAINFOREST_2017_2018_ID:626,INTRO_PYTHON_SAVANNA_ID:693,INTRO_PYTHON_TUNDRA_ID:870,INTRO_SQL_ID:25,INTRO_TO_INTERNET_ID:2308,INTRO_TRACY_ID:4085,INTRO_VR_ID:2182,IOWA_3A_ID:6358,JAVA_AFFOGATO_ID:688,JAVA_CAPPUCCINO_ID:691,JAVA_COURSES:[53,181,6165,68],JAVA_COURSE_ID:53,JAVA_DECAF_ID:689,JAVA_ESPRESSO_ID:690,JAVA_FLAVORS:[53,6165,688,689,690,691,692],JAVA_LATTE_ID:692,JAVA_MOCHA_ID:53,JAVA_NITRO_ID:6165,JAVA_NO_VIDEO_COURSE_ID:181,JAVA_PD_ID:6682,JAVA_SUPPLEMENTAL_COURSE_ID:258,KAREL_ACE_ID:719,KAREL_FLAVORS:[620,709,719,1863],KAREL_SPANISH_ID:1863,KAREL_VOLLEY_ID:709,LEVEL2_PD_ID:3714,MARKETING_DEMOS_COURSE_ID:8966,MARKETING_URLS:{1:"introjs",210:"introjs",698:"introjs",699:"introjs",17397:"introjs",4114:"intropython",626:"intropython",693:"intropython",870:"intropython",5657:"intropython",53:"apjava",6165:"apjava",688:"apjava",689:"apjava",690:"apjava",691:"apjava",692:"apjava",620:"introkarel",709:"introkarel",719:"introkarel",1863:"introkarel_espanol",649:"computing_ideas",694:"computing_ideas",695:"computing_ideas",696:"computing_ideas",1094:"computing_ideas",17663:"web_design",2246:"web_design",17996:"web_design",17998:"web_design",6512:"apcsp",2182:"vr",4085:"introtracy",3433:"cybersecurity",2348:"creative_computing",2349:"creative_computing",2308:"intro_to_internet",2343:"world_of_computing",3679:"mobile_apps"},MARYLAND_CS_1_ID:5655,MICHIGAN_3A_ID:6370,MICROBIT_ID:4065,MOBILE_APPS_ID:3679,MS_INTRO_ID:174,NCYTE_COURSE_IDS:[9293,8631,14662],NEVADA_CS_ID:6228,NEW_COURSE_IDS:[6560,4065,8066,7968,8050,7606,6166,5657],NEW_HAMPSHIRE_3A_ID:6294,NEW_MEXICO_3A_ID:6373,PAID_INDIVIDUAL_COURSES:[1,53,5657,6512,649,719,3433,12842,4356],PD2_ID:2018,PD2_STAGING_ID:185,PD_BOOTCAMP:58,PD_COURSES:[[10,"Professional Development - Intro JS"],[535,"Professional Development - AP CSP"],[2018,"PD 2 - Intro JS"],[6682,"Professional Development - AP CSA"],[2027,"Professional Development - Computing Ideas"],[6120,"Professional Development - Intro Python"],[2169,"Professional Development - Web Design"],[3594,"Professional Development - Cybersecurity"],[3714,"Professional Development - Level 2"],[8323,"Florida Teaching Certification Exam Prep"],[15475,"Praxis Prep"]],PD_COURSE_ID:10,PD_COURSE_IDS:[10,535,2018,6682,2027,6120,2169,3594,3714,8323,15475],PD_COURSE_PREVIEW_ID:24,PD_ON_DEMAND_LIBRARY_COURSE:21564,PENNSYLVANIA_3A_ID:6361,POPULAR_COURSE_IDS:[1,5657,6165,6512,8066,17663,6560,649],PRAXIS_PREP_ID:15475,PRO_EXAMS_COURSE:12561,PYTHON_3_PD_ID:9182,PYTHON_FLAVORS:[4114,626,693,870,5657],PYTHON_PD_ID:6120,RAINFOREST_SUPPLEMENTAL_COURSE_ID:874,SANDBOX_EXPLORE_COURSE:9493,SAVANNA_SUPPLEMENTAL_COURSE_ID:875,SHORT_STRINGS:{1:"Intro JS",53:"AP CSA",10:"PD - Intro JS",535:"PD - AP CSP",174:"MS Intro JS",4114:"Intro Python",626:"Intro Python (2017-2018)",6512:"AP CSP",400:"AP CSP",6682:"PD - AP CSA",667:"Success 2",672:"Success 3",620:"Intro Karel",17663:"Web Design",2027:"PD - Computing Ideas",6120:"PD - Intro Python",2169:"PD - Web Design",719:"Intro Karel",3110:"HOC - Karel",3111:"HOC - React",3112:"HOC - VR",3113:"HOC - JS Apps",3114:"HOC - Karel Sp",3115:"HOC - Web",3116:"HOC - Tracy",3117:"HOC - Pixels",3118:"HOC - Java",3119:"HOC - Graphics",3120:"HOC - Python",5639:"CS I (IN)",8452:"Sandbox Demos",8271:"No Course",9700:"From Scratch",18656:"Elementary Resources"},SOUTH_CAROLINA_CS_1_ID:6379,STARTER_CODE_COURSE:8872,START_FROM_SCRATCH:9700,STRINGS:{1:"Intro CS - JavaScript",4114:"Intro CS - Python",626:"Intro CS - Python (2017-2018)",53:"AP Computer Science A",10:"Professional Development - Intro JS",6512:"AP Computer Science Principles",400:"AP Computer Science Principles",535:"Professional Development - AP CSP",2018:"PD 2 - Intro JS",6682:"Professional Development - AP CSA",649:"Computing Ideas",667:"Success Academy Course 2",672:"Success Academy Course 3",17663:"Web Design",2027:"Professional Development - Computing Ideas",6120:"Professional Development - Intro Python",2169:"Professional Development - Web Design",719:"Intro Programming with Karel",3714:"Professional Development - Level 2",3594:"Professional Development - Cybersecurity",4356:"Coding + Music",4251:"Coding + Sports",4280:"Coding + Art",4666:"Coding + Physics",4965:"Punnett Square Generator",5194:"Coding Explorations",5639:"Computer Science I (Indiana)",8452:"Sandbox Demos",8323:"Florida Teaching Certification Exam Prep",15475:"Praxis Prep",8271:"No Course",9700:"Start from Scratch",9434:"Tech Apps and Coding"},STUDENT_COURSES:[[1,"Intro CS - JavaScript"],[53,"AP Computer Science A"],[6512,"AP Computer Science Principles"],[4114,"Intro CS - Python"],[649,"Computing Ideas"]],SUCCESS_COURSE_2:667,SUCCESS_COURSE_3:672,SUPPLEMENTAL_COURSE_ID:11,TECH_APPS_AND_CODING_COURSES:[9434,10412,10418,10422,10423,10424,10425,10426,10427],TEXAS_CS_1_ID:6229,TUTOR_APP_ID:5,TUTOR_ONBOARDING_ID:4,TUTOR_TRIAL_ID:15,UNITY_COURSE_IDS:[12842,14904,17394,17583,21443],UNITY_VIDEO_GAME_DESIGN:12842,URLS:{1:"introcs",53:"apjava",25:"introsql",58:"pd_bootcamp",10:"pd",68:"apreview",1984:"apcspreview",6512:"apcsp"},VIRGINIA_CS_ID:6037,VIRGINIA_FUNDAMENTALS_CYBER_ID:10905,WASHINGTON_2_ID:6375,WASHINGTON_3A_ID:6374,WEB_DESIGN_COURSES:[17663,2246,17996,17998],WEB_DESIGN_ID:17663,WEB_DESIGN_MATISSE:17996,WEB_DESIGN_MICHELANGELO:2246,WEB_DESIGN_MONET:17998,WEB_DESIGN_PD_ID:2169,WEB_DEV_CAPSTONE_ID:7968,WORLD_OF_COMPUTING_ID:2343,course:17998,flavor:1863},CoursePathway:{APCS_PATHWAY:35,ARIZONA_PATHWAY_ID:33,ARKANSAS_PATHWAY_ID:12,CODEHS_DEFAULT_HS_PATHWAY_ID:39,CODEHS_DEFAULT_PATHWAY_ID:1,CONNECTICUT_PATHWAY_ID:26,CSTA_PATHWAY_ID:15,CYBERSECURITY_PATHWAY:36,DELAWARE_PATHWAY_ID:42,FLORIDA_PATHWAY_ID:31,GEORGIA_PATHWAY_ID:10,HAWAII_PATHWAY_ID:20,INDIANA_PATHWAY_ID:3,IOWA_PATHWAY_ID:23,MARYLAND_PATHWAY_ID:29,MICHIGAN_PATHWAY_ID:27,MOBILE_APPS_PATHWAY:38,NEVADA_PATHWAY_ID:14,NEW_HAMPSHIRE_PATHWAY_ID:25,NEW_MEXICO_PATHWAY_ID:28,PENNSYLVANIA_PATHWAY_ID:24,SOUTH_CAROLINA_PATHWAY_ID:32,STRINGS:{},TEXAS_PATHWAY_ID:13,VIRGINIA_PATHWAY_ID:18,WASHINGTON_PATHWAY_ID:30,WEB_DEVELOPMENT_PATHWAY:37},CourseProgressCustomization:{CHOICES:[[0,"Not Included"],[1,"Completion"],[2,"Points"]],COMPLETION:1,NOT_INCLUDED:0,POINTS:2,STRINGS:{0:"Not Included",1:"Completion",2:"Points"}},CoursePurchase:{BASIC:1,FREE:0,GRADING:2,ONE_ON_ONE:3,PLAN_CHOICES:[[0,"free"],[1,"basic"],[2,"grading"],[3,"one on one"]],PURCHASE_PLAN_FROM_PLAN:{0:0,1:1,2:2,11:3,12:1,13:2},STRINGS:{0:"free",1:"basic",2:"grading",3:"one on one"}},CourseTimeFrame:{CHOICES:[[0,"None"],[1,"Year"],[2,"Semester"],[3,"Quarter"],[4,"Unit"],[5,"Hour of Code"],[6,"Month"]],HOUR_OF_CODE:5,MONTH:6,NONE:0,QUARTER:3,SEMESTER:2,STRINGS:{0:"None",1:"Year",2:"Semester",3:"Quarter",4:"Unit",5:"Hour of Code",6:"Month"},UNIT:4,YEAR:1},CourseType:{ADMIN:[0,1,7],ADMIN_COURSE_DEMO:1,ADMIN_COURSE_LIVE:0,CHOICES:[[0,"Live Admin Course"],[1,"Demo Admin Course"],[2,"Custom Teacher Course"],[3,"Custom Course"],[4,"Playlist Course"],[5,"Teacher Practice Course"],[6,"Practice Course"],[7,"Marketing Course"],[8,"Textbook"],[9,"Tutorial"],[10,"Project Course"],[11,"Elementary Course"]],CUSTOM:[2,3],CUSTOM_COURSE:3,CUSTOM_TEACHER_COURSE:2,ELEMENTARY_COURSE:11,MARKETING_COURSE:7,PLAYLIST_COURSE:4,PRACTICE_COURSE:6,PRACTICE_COURSE_TYPES:[5,6],PRETTY_STRINGS:{0:"Live Admin Course",1:"Demo Admin Course",2:"Custom Teacher Course",3:"Custom Course",4:"Playlist Course",5:"Teacher Practice Course",6:"Practice Course",7:"Marketing Course",8:"Textbook",9:"Tutorial",10:"Project Course",11:"Elementary Course"},PROJECT_COURSE:10,STRINGS:{},TEACHER_PRACTICE_COURSE:5,TEXTBOOK:8,TUTORIAL:9},CreditAction:{ADMIN:7,BUY:0,CASH_OUT:3,CREDIT_FOR:{1:1,2:2,5:10,6:5,9:5},CREDIT_PRICES:[{credits:20,price:10},{credits:50,price:20},{credits:125,price:40}],DESCRIPTIONS:{0:"Purchased Credits",1:"Graded Exercise",2:"Sent Help Message",3:"Cashed Out",4:"Unlocked Exercise",5:"Tweeted",6:"Refered a Friend",7:"Admin Credit",8:"Pool Refresh",9:"Refered Friend Completed Hour of Code"},GRADE:1,MESSAGE:2,POOL_REFRESH:8,REFER:6,REF_HOC_BADGE:9,STRINGS:{0:"buy",1:"grade",2:"message",3:"cash-out",4:"unlock",5:"tweet",6:"refer",7:"admin",8:"pool-refresh",9:"ref-hoc-badge"},TWEET:5,UNLOCK:4},CurriculumTracking:{MIN_HANDOUTS_PER_MODULE:3,STRINGS:{}},CustomCourse:{MAX_ITEMS_IN_LESSON:7,STRINGS:{}},CustomCourseVisibility:{ADMIN_ONLY:7,EDIT_ALL:6,EDIT_SOME:2,PRIVATE:0,STRINGS:{},VIEW_ALL:3,VIEW_ALL_EDIT_SOME:5,VIEW_SOME:1,VIEW_SOME_EDIT_SOME:4},Deal:{BASIC:0,FULL:1,PLAN_CHOICES:[[0,"Basic"],[1,"Full"]],STRINGS:{0:"Basic",1:"Full"}},DealAction:{ACTIVATION_NOTE:9,CUSTOMER_SUCCESS_CALL:2,CUSTOMER_SUCCESS_EMAIL:3,CUSTOMER_SUCCESS_INTERACTION:4,CUSTOMER_SUCCESS_LOVE:6,CUSTOMER_SUCCESS_MEETING:8,CUSTOMER_SUCCESS_NOTE:1,CUSTOMER_SUCCESS_TYPES:[[1,"Note"],[2,"Call"],[3,"Email"],[4,"Interaction"],[6,"Love"],[8,"Meeting"],[9,"Activation Note"],[10,"Engagement Note"],[11,"Intercom"],[13,"Integration Note"]],DEAL_ACTION_TYPES:[[0,"Misc Action"],[1,"Note"],[2,"Call"],[3,"Email"],[4,"Interaction"],[5,"Deal Lost"],[6,"Love"],[7,"Undo Deal Lost"],[8,"Meeting"],[9,"Activation Note"],[10,"Engagement Note"],[11,"Intercom"],[12,"Opportunity Notes Change"],[13,"Integration Note"]],DEAL_LOST_ACTION:5,ENGAGEMENT_NOTE:10,INTEGRATION_NOTE:13,INTERCOM:11,MISC_ACTION:0,NOTE_RATINGS:[[null,"N/A"],[1,"1"],[2,"2"],[3,"3"],[4,"4"],[5,"5"],[6,"6"],[7,"7"],[8,"8"],[9,"9"],[10,"10"]],OPPORTUNITY_NOTES_CHANGE:12,SALESFORCE_ACTION_MAPPING:{Note:1,Email:3,Call:2,Voicemail:0,Demo:4,Meeting:8,"Send Quote":0,"Send Letter":0,Other:0},STRINGS:{0:"Misc Action",1:"Note",2:"Call",3:"Email",4:"Interaction",5:"Deal Lost",6:"Love",7:"Undo Deal Lost",8:"Meeting",9:"Activation Note",10:"Engagement Note",11:"Intercom",12:"Opportunity Notes Change",13:"Integration Note"},UNDO_DEAL_LOST_ACTION:7},DealEngagementStage:{CHAMPION:6,CHOICES:[[0,"0: Deal Won"],[1,"1: Kickoff"],[2,"2: Implementation"],[3,"3: Light Usage"],[4,"4: Heavy Usage"],[5,"5: Referral"],[6,"6: Champion"]],DEAL_WON:0,HEAVY_USAGE:4,IMPLEMENTATION:2,KICKOFF:1,LIGHT_USAGE:3,REFERRAL:5,STRINGS:{0:"0: Deal Won",1:"1: Kickoff",2:"2: Implementation",3:"3: Light Usage",4:"4: Heavy Usage",5:"5: Referral",6:"6: Champion"}},DealIntegrationStage:{CHOICES:[[0,"0: Not requested"],[10,"10: Requested"],[20,"20: Confirmed"],[30,"30: Instructions sent"],[40,"40: Setup Complete"],[50,"50: In use"],[60,"60: Concluded for School Year"]],CONCLUDED_SY:60,CONFIRMED:20,INSTRUCTIONS_SENT:30,IN_USE:50,NOT_REQUESTED:0,REQUESTED:10,SETUP_COMPLETE:40,STRINGS:{0:"0: Not requested",10:"10: Requested",20:"20: Confirmed",30:"30: Instructions sent",40:"40: Setup Complete",50:"50: In use",60:"60: Concluded for School Year"}},DealLostReason:{ADMIN_LEFT:61,BUDGET_ISSUE:51,CHOICES:[[0,"Not Lost"],[10,"Unknown"],[11,"Other"],[20,"Not offering class"],[30,"Low Enrollment"],[40,"Using Competitor"],[41,"Using code.org"],[42,"Using edhesive"],[43,"Using PLTW"],[50,"Using Free"],[51,"Budget Issue"],[60,"Teacher Left"],[61,"Admin Left"],[70,"Didn't use CodeHS"],[100,"Creating Own Curriculum"],[110,"Unresponsive"],[130,"Didn't Like CodeHS"],[140,"Price"]],CREATING_OWN_CURRICULUM:100,DIDNT_LIKE_IT:130,DIDNT_USE_CODEHS:70,LOW_ENROLLMENT:30,MULTI_YEAR_ISSUE:90,NOT_LOST:0,NOT_OFFERING_CLASS:20,OTHER:11,PRICE:140,SPONSORED_DEAL:120,STRINGS:{0:"Not Lost",10:"Unknown",11:"Other",20:"Not offering class",30:"Low Enrollment",40:"Using Competitor",41:"Using code.org",42:"Using edhesive",43:"Using PLTW",50:"Using Free",51:"Budget Issue",60:"Teacher Left",61:"Admin Left",70:"Didn't use CodeHS",80:"Technology Issues",90:"Multi-year Issue",100:"Creating Own Curriculum",110:"Unresponsive",120:"Sponsored deal, not continuing",130:"Didn't Like CodeHS",140:"Price"},TEACHER_LEFT:60,TECH_ISSUES:80,UNKNOWN:10,UNRESPONSIVE:110,USING_COMPETITOR:40,USING_COMPETITOR_CODE_ORG:41,USING_COMPETITOR_EDHESIVE:42,USING_COMPETITOR_PLTW:43,USING_FREE:50},DealPipelineStage:{APPROVAL:140,CHOICES:[[110,"1. Onboarding"],[120,"2. Teaching"],[130,"3. Outreach"],[140,"4. Approval"],[150,"5. Plan"],[160,"6. Pricing"],[165,"7. Purchasing"],[170,"8. Closing"],[180,"9. Won"],[190,"10. Under Contract"],[100,"0. Lost"]],CLOSING:170,LOST:100,ONBOARDING:110,OUTREACH:130,PLAN:150,PRICING:160,PURCHASING:165,SALESFORCE_MAPPING:{100:7,110:3,120:3,130:3,140:3,150:4,160:4,165:5,170:5,180:6,190:5},SELECTABLE:[[110,"1. Onboarding"],[120,"2. Teaching"],[130,"3. Outreach"],[140,"4. Approval"],[150,"5. Plan"],[160,"6. Pricing"],[165,"7. Purchasing"],[170,"8. Closing"],[190,"10. Under Contract"]],STRINGS:{110:"1. Onboarding",120:"2. Teaching",130:"3. Outreach",140:"4. Approval",150:"5. Plan",160:"6. Pricing",165:"7. Purchasing",170:"8. Closing",180:"9. Won",190:"10. Under Contract",100:"0. Lost"},TEACHING:120,UNDER_CONTRACT:190,WON:180},DealUtilizationStatus:{CHOICES:[[0,"Unknown"],[1,"Using All Licenses"],[2,"Underusing Licenses"],[3,"Overusing Licenses"]],OVERUSING_LICENSES:3,STRINGS:{0:"Unknown",1:"Using All Licenses",2:"Underusing Licenses",3:"Overusing Licenses"},UNDERUSING_LICENSES:2,UNKNOWN:0,USING_ALL_LICENSES:1},Deals:{FB_2016_2017:597,FB_2017_2018:1052,RIOT_2016_2017:784,STRINGS:{}},DemoData:{COURSE_TO_STUDENT_CODE_ITEMS:{6165:[1684352,1684410],17397:[6600367,6600692]},STRINGS:{}},DocumentRecord:{AMENDMENT:6,CERTIFICATE_OF_DELETION:7,CONTRACT:1,CONTRACT_EXTRA_DOCUMENT_CHOICES:[[2,"RFP"],[3,"Vendor Form"],[4,"Privacy Agreement"],[5,"Other"],[6,"Amendment"]],FILE_TYPE_CHOICES:[[8,"PDF"],[9,"Google Doc"],[10,"Word"]],GDOC:9,OTHER:5,PDF:8,PRIVACY_AGREEMENT:4,PROPOSAL:0,RECORD_TYPE_CHOICES:[[0,"Proposal"],[1,"Contract"],[2,"RFP"],[3,"Vendor Form"],[4,"Privacy Agreement"],[5,"Other"],[6,"Amendment"],[7,"Certificate of Deletion"]],RFP:2,STRINGS:{0:"Proposal",1:"Contract",2:"RFP",3:"Vendor Form",4:"Privacy Agreement",5:"Other",6:"Amendment",7:"Certificate of Deletion",8:"PDF",9:"Google Doc",10:"Word"},VENDOR_FORM:3,WORD:10},Duration:{CHOICES:[[0,"Unknown"],[10,"Semester"],[20,"Year"]],SEMESTER:10,STRINGS:{0:"Unknown",10:"Semester",20:"Year"},UNKNOWN:0,VALUES:{Unknown:0,Semester:10,Year:20},YEAR:20,key:20,val:"Year"},EditorConsoleTheme:{CHOICES:[[0,"Light"],[1,"Dark"],[2,"System Default"]],DARK:1,LIGHT:0,STRINGS:{0:"Light",1:"Dark",2:"System Default"},SYSTEM:2},EditorEngine:{ACE:0,CHOICES:[[0,"ace"],[1,"monaco"]],MONACO:1,STRINGS:{0:"ace",1:"monaco"}},EditorImageTypes:{APNG:".apng",BMP:".bmp",CUR:".cur",GIF:".gif",ICO:".ico",IMAGE_EXTENSION_TO_MIME_TYPE:{".apng":"image/apng",".bmp":"image/bmp",".gif":"image/gif",".ico":"image/x-icon",".cur":"image/x-icon",".jpg":"image/jpeg",".jpeg":"image/jpeg",".jfif":"image/jpeg",".pjpeg":"image/jpeg",".pjp":"image/jpeg",".png":"image/png",".svg":"image/svg+xml",".tif":"image/tiff",".tiff":"image/tiff",".webp":"image/webp"},JFIF:".jfif",JPEG:".jpeg",JPG:".jpg",PJP:".pjp",PJPEG:".pjpeg",PNG:".png",STRINGS:{},SVG:".svg",TIF:".tif",TIFF:".tiff",WEBP:".webp"},EditorTestFormat:{AI_TEST_CASE:2,CHOICES:[[0,"JSON File Tree"],[1,"Legacy JSON Config"],[2,"AI Test Case"]],JSON_FILE_TREE:0,LEGACY_JSON_CONFIG:1,STRINGS:{0:"JSON File Tree",1:"Legacy JSON Config",2:"AI Test Case"}},EditorThemes:{CHOICES:[[0,"chrome"],[1,"textmate"],[2,"xcode"],[3,"monokai"],[4,"terminal"],[5,"clouds"],[6,"solarized_dark"],[7,"github"]],CHROME:0,CLOUDS:5,DARK:11,DEFAULT_ACE:0,DEFAULT_MONACO:10,GITHUB:7,LIGHT:10,MONACO_CHOICES:[[10,"light"],[11,"vs-dark"]],MONOKAI:3,SOLARIZED_DARK:6,STRINGS:{0:"chrome",1:"textmate",2:"xcode",3:"monokai",4:"terminal",5:"clouds",6:"solarized_dark",7:"github",10:"light",11:"vs-dark"},TERMINAL:4,TEXTMATE:1,XCODE:2},EditorType:{ACE_EDITOR:1,BLOCKLY_ALLOWED_PROGRAMS:[4,16,3,13,15,5,1],BLOCKLY_EDITOR:4,CHOICES:[[0,"None"],[1,"Ace Editor"],[2,"Droplet Editor"],[3,"Inherited Editor"],[4,"Blockly Editor"]],CODE_EDITORS:[1,2,4],DROPLET_CONFIG:{1:{mode:"javascript",modeOptions:{functions:{move:{command:!0,color:"red"},turnLeft:{command:!0,color:"red"},putBall:{command:!0,color:"red"},takeBall:{command:!0,color:"red"},frontIsClear:{value:!0,color:"teal"},leftIsClear:{value:!0,color:"teal"},rightIsClear:{value:!0,color:"teal"},facingNorth:{value:!0,color:"teal"},facingSouth:{value:!0,color:"teal"},facingEast:{value:!0,color:"teal"},facingWest:{value:!0,color:"teal"},ballsPresent:{value:!0,color:"teal"},frontIsBlocked:{value:!0,color:"teal"},leftIsBlocked:{value:!0,color:"teal"},rightIsBlocked:{value:!0,color:"teal"},notFacingNorth:{value:!0,color:"teal"},notFacingSouth:{value:!0,color:"teal"},notFacingEast:{value:!0,color:"teal"},notFacingWest:{value:!0,color:"teal"},noBallsPresent:{value:!0,color:"teal"}},categories:{conditionals:{color:"purple"},loops:{color:"green"}}},palette:[{name:"Commands",color:"red",blocks:[{block:"move();"},{block:"turnLeft();"},{block:"putBall();"},{block:"takeBall();"}]},{name:"Control flow",color:"control",blocks:[{block:"for (var i = 0; i < 5; i++) {\n    \n}"},{block:"while (yourCondition) {\n    \n}"},{block:"if (yourCondition) {\n    \n}"},{block:"if (yourCondition) {\n    \n} else {\n    \n}"},{block:"if (yourCondition) {\n    \n} else if (yourCondition) {\n    \n} else {\n    \n}"}]},{name:"Functions",color:"purple",blocks:[{block:"function yourFunctionName(){\n    \n}"},{block:"yourFunctionName();"}]},{name:"Conditions",color:"teal",blocks:[{block:"frontIsClear()"},{block:"leftIsClear()"},{block:"rightIsClear()"},{block:"facingNorth()"},{block:"facingSouth()"},{block:"facingEast()"},{block:"facingWest()"},{block:"ballsPresent()"},{block:"frontIsBlocked()"},{block:"leftIsBlocked()"},{block:"rightIsBlocked()"},{block:"notFacingNorth()"},{block:"notFacingSouth()"},{block:"notFacingEast()"},{block:"notFacingWest()"},{block:"noBallsPresent()"}]},{name:"Comments",color:"blue",blocks:[{block:"// Your comment here"}]}]},2:{mode:"javascript",modeOptions:{functions:{move:{command:!0,color:"red"},turnLeft:{command:!0,color:"red"},putBall:{command:!0,color:"red"},takeBall:{command:!0,color:"red"},frontIsClear:{value:!0,color:"teal"},leftIsClear:{value:!0,color:"teal"},rightIsClear:{value:!0,color:"teal"},facingNorth:{value:!0,color:"teal"},facingSouth:{value:!0,color:"teal"},facingEast:{value:!0,color:"teal"},facingWest:{value:!0,color:"teal"},ballsPresent:{value:!0,color:"teal"},frontIsBlocked:{value:!0,color:"teal"},leftIsBlocked:{value:!0,color:"teal"},rightIsBlocked:{value:!0,color:"teal"},notFacingNorth:{value:!0,color:"teal"},notFacingSouth:{value:!0,color:"teal"},notFacingEast:{value:!0,color:"teal"},notFacingWest:{value:!0,color:"teal"},noBallsPresent:{value:!0,color:"teal"},turnRight:{command:!0,color:"red"},turnAround:{command:!0,color:"red"}},categories:{conditionals:{color:"purple"},loops:{color:"green"}}},palette:[{name:"Commands",color:"red",blocks:[{block:"move();"},{block:"turnLeft();"},{block:"putBall();"},{block:"takeBall();"},{block:"turnRight();"},{block:"turnAround();"}]},{name:"Control flow",color:"control",blocks:[{block:"for (var i = 0; i < 5; i++) {\n    \n}"},{block:"while (yourCondition) {\n    \n}"},{block:"if (yourCondition) {\n    \n}"},{block:"if (yourCondition) {\n    \n} else {\n    \n}"},{block:"if (yourCondition) {\n    \n} else if (yourCondition) {\n    \n} else {\n    \n}"}]},{name:"Functions",color:"purple",blocks:[{block:"function yourFunctionName(){\n    \n}"},{block:"yourFunctionName();"}]},{name:"Conditions",color:"teal",blocks:[{block:"frontIsClear()"},{block:"leftIsClear()"},{block:"rightIsClear()"},{block:"facingNorth()"},{block:"facingSouth()"},{block:"facingEast()"},{block:"facingWest()"},{block:"ballsPresent()"},{block:"frontIsBlocked()"},{block:"leftIsBlocked()"},{block:"rightIsBlocked()"},{block:"notFacingNorth()"},{block:"notFacingSouth()"},{block:"notFacingEast()"},{block:"notFacingWest()"},{block:"noBallsPresent()"}]},{name:"Comments",color:"blue",blocks:[{block:"// Your comment here"}]}]},6:{mode:"javascript",modeOptions:{functions:{move:{command:!0,color:"red"},turnLeft:{command:!0,color:"red"},putBall:{command:!0,color:"red"},takeBall:{command:!0,color:"red"},frontIsClear:{value:!0,color:"teal"},leftIsClear:{value:!0,color:"teal"},rightIsClear:{value:!0,color:"teal"},facingNorth:{value:!0,color:"teal"},facingSouth:{value:!0,color:"teal"},facingEast:{value:!0,color:"teal"},facingWest:{value:!0,color:"teal"},ballsPresent:{value:!0,color:"teal"},frontIsBlocked:{value:!0,color:"teal"},leftIsBlocked:{value:!0,color:"teal"},rightIsBlocked:{value:!0,color:"teal"},notFacingNorth:{value:!0,color:"teal"},notFacingSouth:{value:!0,color:"teal"},notFacingEast:{value:!0,color:"teal"},notFacingWest:{value:!0,color:"teal"},noBallsPresent:{value:!0,color:"teal"},turnRight:{command:!0,color:"red"},turnAround:{command:!0,color:"red"},randomChance:{color:"teal",value:!0},paint:{color:"deeporange",command:!0},colorIs:{color:"teal",value:!0},"Color.random":{color:"teal",value:!0},"Color.red":{color:"teal",value:!0},"Color.blue":{color:"teal",value:!0},"Color.green":{color:"teal",value:!0},"Color.yellow":{color:"teal",value:!0},"Color.cyan":{color:"teal",value:!0},"Color.orange":{color:"teal",value:!0},"Color.white":{color:"teal",value:!0},"Color.black":{color:"teal",value:!0},"Color.gray":{color:"teal",value:!0},"Color.purple":{color:"teal",value:!0}},categories:{conditionals:{color:"purple"},loops:{color:"green"}}},palette:[{name:"Commands",color:"red",blocks:[{block:"move();"},{block:"turnLeft();"},{block:"putBall();"},{block:"takeBall();"},{block:"turnRight();"},{block:"turnAround();"}]},{name:"Control flow",color:"control",blocks:[{block:"for (var i = 0; i < 5; i++) {\n    \n}"},{block:"while (yourCondition) {\n    \n}"},{block:"if (yourCondition) {\n    \n}"},{block:"if (yourCondition) {\n    \n} else {\n    \n}"},{block:"if (yourCondition) {\n    \n} else if (yourCondition) {\n    \n} else {\n    \n}"}]},{name:"Functions",color:"purple",blocks:[{block:"function yourFunctionName(){\n    \n}"},{block:"yourFunctionName();"}]},{name:"Conditions",color:"teal",blocks:[{block:"frontIsClear()"},{block:"leftIsClear()"},{block:"rightIsClear()"},{block:"facingNorth()"},{block:"facingSouth()"},{block:"facingEast()"},{block:"facingWest()"},{block:"ballsPresent()"},{block:"frontIsBlocked()"},{block:"leftIsBlocked()"},{block:"rightIsBlocked()"},{block:"notFacingNorth()"},{block:"notFacingSouth()"},{block:"notFacingEast()"},{block:"notFacingWest()"},{block:"noBallsPresent()"},{block:"randomChance(probability)"},{block:"colorIs(color)"}]},{name:"Comments",color:"blue",blocks:[{block:"// Your comment here"}]},{name:"Paint",color:"deeporange",blocks:[{block:"paint(color);"},{block:"Color.red"},{block:"Color.blue"},{block:"Color.green"},{block:"Color.yellow"},{block:"Color.cyan"},{block:"Color.orange"},{block:"Color.white"},{block:"Color.black"},{block:"Color.gray"},{block:"Color.purple"},{block:"Color.random()"}]}]},5:{mode:"html",modeOptions:{tags:{"#documentType":{category:"metadata"},title:{category:"metadata"},link:{category:"metadata",dropdown:{"*":['href=""','rel=""','type=""','media=""','title=""']}},style:{category:"metadata"},script:{category:"metadata"},html:{category:"sections"},head:{category:"sections"},body:{category:"sections"},section:{category:"sections"},article:{category:"sections"},footer:{category:"sections"},header:{category:"sections"},aside:{category:"sections"},main:{category:"sections"},div:{category:"grouping",dropdown:{"*":['class=""','id=""','style=""']}},span:{category:"grouping",dropdown:{"*":['class=""','id=""','style=""']}},h1:{category:"formatting"},h2:{category:"formatting"},h3:{category:"formatting"},h4:{category:"formatting"},h5:{category:"formatting"},h6:{category:"formatting"},p:{category:"formatting"},i:{category:"formatting"},b:{category:"formatting"},u:{category:"formatting"},br:{category:"formatting"},hr:{category:"formatting"},code:{category:"formatting"},strong:{category:"formatting"},em:{category:"formatting"},figure:{category:"formatting"},figcaption:{category:"formatting"},mark:{category:"formatting"},blockquote:{category:"formatting"},"#text":{category:"formatting"},img:{category:"resources",dropdown:{"*":['src=""','alt=""','width=""','height=""','border=""','title=""']}},a:{category:"resources",dropdown:{"*":['href=""','target=""','title=""','rel=""','onclick=""']}},ul:{category:"list"},ol:{category:"list"},li:{category:"list"},table:{category:"table"},tr:{category:"table"},td:{category:"table"},th:{category:"table"},form:{category:"form",dropdown:{"*":['action=""','method=""','name=""']}},input:{category:"form",dropdown:{"*":['type=""','name=""','value=""']}},textarea:{category:"form",content:"optional"},label:{category:"form",dropdown:{"*":['for=""']}},button:{category:"form"},select:{category:"form"},option:{category:"form"}},categories:{metadata:{color:"lightblue"},sections:{color:"orange"},grouping:{color:"purple"},formatting:{color:"lightgreen"},resources:{color:"teal"},list:{color:"pink"},table:{color:"indigo"},form:{color:"deeporange"},Default:{color:"yellow"}}},palette:[{name:"Metadata",color:"lightblue",blocks:[{block:"<!DOCTYPE html>",title:"Defines document type"},{block:"<title></title>",title:"Document's title or name"},{block:'<link rel="" href="">',title:"Link between a document and an external resource"},{block:"<style>\n  \n</style>",title:"Define style information"},{block:"<script>\n  \n<\/script>",title:"Define a client-side script, such as a JavaScript"}]},{name:"Sections",color:"orange",blocks:[{block:"<html>\n  \n</html>",title:"Root of an HTML document"},{block:"<head>\n  \n</head>",title:"Contains metadata about the document"},{block:"<body>\n  \n</body>",title:"Contains all of the content of the document"},{block:"<section>\n  \n</section>",title:"A standalone section of document"},{block:"<article>\n  \n</article>",title:"A self-contained composition in a document, like an article, forum or blog post, etc."},{block:"<footer>\n  \n</footer>",title:"The footer of the document"},{block:"<header>\n  \n</header>",title:"The header of the document"},{block:"<aside>\n  \n</aside>",title:"A part of the document that is only indirectly related to the main content"},{block:"<main>\n  \n</main>",title:"The main content of the document"}]},{name:"Grouping",color:"purple",blocks:[{block:"<div>\n  \n</div>",title:"Defines a division"},{block:"<span></span>",title:"Group inline-elements"}]},{name:"Formatting",color:"lightgreen",blocks:[{block:"<h1></h1>",title:"Heading - Can use h1..h6 for different sizes"},{block:"<h2></h2>",title:"Heading - Can use h1..h6 for different sizes"},{block:"<h3></h3>",title:"Heading - Can use h1..h6 for different sizes"},{block:"<h4></h4>",title:"Heading - Can use h1..h6 for different sizes"},{block:"<h5></h5>",title:"Heading - Can use h1..h6 for different sizes"},{block:"<h6></h6>",title:"Heading - Can use h1..h6 for different sizes"},{block:"<p>\n  \n</p>",title:"Represents a paragraph"},{block:"<i></i>",title:"Italic"},{block:"<b></b>",title:"Bold"},{block:"<u></u>",title:"Underline"},{block:"<br>",title:"Line break"},{block:"<hr>",title:"Horizontal line"},{block:"<code></code>",title:"Fragment of computer code"},{block:"<strong></strong>",title:"Important content (similar to bold)"},{block:"<em></em>",title:"Stressed content (similar to italic)"},{block:"<figure>\n  \n</figure>",title:"Container for content with an optional caption"},{block:"<figcaption></figcaption>",title:"Caption for a figure"},{block:"<mark></mark>",title:"Highlighted content"},{block:'<blockquote cite=""></blockquote>',title:"Extended quotation"},{block:"text",title:"Text content"}]},{name:"Resources",color:"teal",blocks:[{block:'<img src="" alt="">',title:"Image"},{block:'<a href=""></a>',title:"Hyperlink"}]},{name:"List",color:"pink",blocks:[{block:"<ol>\n  \n</ol>",title:"Ordered list"},{block:"<ul>\n  \n</ul>",title:"Unordered list"},{block:"<li></li>",title:"List item"}]},{name:"Table",color:"indigo",blocks:[{block:"<table>\n  \n</table>",title:"Defines a table"},{block:"<tr>\n  \n</tr>",title:"Row in a table"},{block:"<td></td>",title:"Standard cell inside a table row"},{block:"<th></th>",title:"Header cell inside a table row"}]},{name:"Form",color:"deeporange",blocks:[{block:'<form action="">\n  \n</form>',title:"Create an HTML form"},{block:'<input type="">',title:"Input field where user can enter data"},{block:'<label for=""></label>',title:"Label for an <input> element"},{block:"<button></button>",title:"Clickable button"},{block:"<select>\n  \n</select>",title:"Drop-down list"},{block:'<option value=""></option>',title:"Option in a <select> list"}]}]},32:{mode:"javascript",modeOptions:{functions:{setDimensions:{command:!0},setRows:{command:!0},setCols:{command:!0},getRows:{command:!0,value:!0},getCols:{command:!0,value:!0},showGrid:{command:!0},setPixel:{command:!0,dropdown:{2:['"red"','"green"','"blue"','"yellow"','"cyan"','"orange"','"white"','"black"','"gray"','"purple"']}},setPixelRGB:{command:!0}},categories:{conditionals:{color:"purple"},loops:{color:"green"}}},palette:[{name:"Functions",color:"red",blocks:[{block:"setDimensions(rows, cols)"},{block:"setRows(rows)"},{block:"setCols(cols)"},{block:"getRows()"},{block:"getCols() "},{block:"showGrid(boolean)"},{block:"setPixel(row, col, color)"},{block:"setPixelRGB(row, col, r, g, b)"},{block:"function yourFunctionName(){\n    \n}"},{block:"yourFunctionName();"}]},{name:"Control flow",color:"control",blocks:[{block:"for (var i = 0; i < 5; i++) {\n    \n}"},{block:"while (yourCondition) {\n    \n}"},{block:"if (yourCondition) {\n    \n}"},{block:"if (yourCondition) {\n    \n} else {\n    \n}"},{block:"if (yourCondition) {\n    \n} else if (yourCondition) {\n    \n} else {\n    \n}"}]}]},4:{mode:"javascript",modeOptions:{functions:{println:{command:!0},print:{command:!0},"Color.random":{color:"purple",value:!0},"Color.red":{color:"purple",value:!0},"Color.blue":{color:"purple",value:!0},"Color.green":{color:"purple",value:!0},"Color.yellow":{color:"purple",value:!0},"Color.cyan":{color:"purple",value:!0},"Color.orange":{color:"purple",value:!0},"Color.white":{color:"purple",value:!0},"Color.black":{color:"purple",value:!0},"Color.gray":{color:"purple",value:!0},"Color.purple":{color:"purple",value:!0},getWidth:{value:!0},getHeight:{value:!0}},categories:{conditionals:{color:"purple"},loops:{color:"green"}}},palette:[{name:"Functions",color:"red",blocks:[{block:'println("hello world")'},{block:'print("hello world")'},{block:"function start(){\n    \n}"}]},{name:"Control Flow",color:"control",blocks:[{block:"for (var i = 0; i < 5; i++) {\n    \n}"},{block:"while (yourCondition) {\n    \n}"},{block:"if (yourCondition) {\n    \n}"},{block:"if (yourCondition) {\n    \n} else {\n    \n}"},{block:"if (yourCondition) {\n    \n} else if (yourCondition) {\n    \n} else {\n    \n}"}]},{name:"Variables",color:"blue",blocks:[{block:"var a = 10;"},{block:"a = 10;"},{block:"a += 1;"},{block:"a -= 1;"},{block:"a *= 1;"},{block:"a /= 1;"}]},{name:"Colors",color:"purple",blocks:[{block:"Color.red"},{block:"Color.orange"},{block:"Color.blue"},{block:"Color.green"},{block:"Color.yellow"},{block:"Color.cyan"},{block:"Color.white"},{block:"Color.black"},{block:"Color.gray"},{block:"Color.purple"}]},{name:"Graphics",color:"teal",blocks:[{block:"getWidth()"},{block:"getHeight()"},{block:"new Circle(radius)"},{block:"circle.setPosition(x, y);"},{block:"circle.setColor(color);"},{block:"new Rectangle(width, height)"},{block:'new Text("hello world")'},{block:"add(shape);"}]}]}},DROPLET_EDITOR:2,INHERITED:3,NONE:0,STRINGS:{0:"None",1:"Ace Editor",2:"Droplet Editor",3:"Inherited Editor",4:"Blockly Editor"}},ElementaryLogin:{CHOICES:[[0,"QR Code"],[1,"Click Your Name"],[2,"Picture Password"],[3,"Google SSO"],[4,"Text Password"]],CLICK_NAME:1,DESCRIPTIONS:{0:"Students scan a QR code individualized to them and instantly log in",1:"Students will see a list of the students in the section and choose their name from the list.",2:'Students will choose their name from a list and verify by also selecting their "Picture Password" that needs to match.',3:'Students will click "Log in with Google" to SSO launch in.',4:"Students will type in their email and password to log in."},GOOGLE_SSO:3,PICTURE_PASSWORD:2,QR_CODE:0,STRINGS:{0:"QR Code",1:"Click Your Name",2:"Picture Password",3:"Google SSO",4:"Text Password"},TEXT_PASSWORD:4},ElementaryTag:{READY_TO_GO:"elementary-ready-to-go",STRINGS:{},VIDEO_LED:"elementary-tool-video-led"},EmailNotificationFrequency:{CHOICES:[[0,"immediately"],[10,"hourly"],[20,"daily"]],DAILY:20,HOURLY:10,ICON_CLASSES:{0:"icon-bell-alt",10:"icon-time",20:"icon-calendar"},IMMEDIATELY:0,STRINGS:{0:"immediately",10:"hourly",20:"daily"}},EmailNotificationType:{CHOICES:[[0,"student help question"],[1,"message"],[2,"student assignment submission"],[3,"student enrollment"],[4,"pd weekly digest"]],DISPLAYED_CHOICES:[[0,"student help question"],[1,"message"],[2,"student assignment submission"],[3,"student enrollment"]],HELP_QUESTION:0,MESSAGE:1,PD_DIGEST:4,STRINGS:{0:"student help question",1:"message",2:"student assignment submission",3:"student enrollment",4:"pd weekly digest"},STUDENT_ENROLLMENT:3,SUBMISSION:2},EnrollmentChange:{ADD:1,ADD_AS_TEACHER:6,CHOICES:[[1,"Add"],[2,"Drop"],[3,"Subscribe"],[4,"Unsubscribe"],[5,"User Archived"],[6,"Add as Teacher"],[7,"Drop as Teacher"],[8,"View Only"]],DROP:2,DROP_AS_TEACHER:7,STRINGS:{1:"Add",2:"Drop",3:"Subscribe",4:"Unsubscribe",5:"User Archived",6:"Add as Teacher",7:"Drop as Teacher",8:"View Only"},STUDENT_ENROLLMENT_CHANGES:[1,2,8],SUBSCRIBE:3,UNSUBSCRIBE:4,USER_ARCHIVE:5,VIEW_ONLY:8},Ethnicity:{ASIAN:2,BLACK:3,CHOICES:[[0,"Unknown"],[1,"American Indian or Alaska Native"],[2,"Asian, Asian American, or Pacific Islander"],[3,"Black or African American"],[4,"Mexican or Mexican American"],[5,"Puerto Rican"],[6,"Other Hispanic, Latino, or Latin American"],[7,"White"],[8,"Other"],[9,"Multiracial"]],HISPANIC:6,MEXICAN:4,MULTIRACIAL:9,NATIVE:1,OTHER:8,PUERTO_RICAN:5,STRINGS:{0:"Unknown",1:"American Indian or Alaska Native",2:"Asian, Asian American, or Pacific Islander",3:"Black or African American",4:"Mexican or Mexican American",5:"Puerto Rican",6:"Other Hispanic, Latino, or Latin American",7:"White",8:"Other",9:"Multiracial"},UNKNOWN:0,WHITE:7},ExampleDisplayType:{CHOICES:[[0,"Default (Example only)"],[1,"Stacked (Description + Example)"],[2,"Explain (Video + Example)"]],DEFAULT:0,EXPLAIN:2,STACKED:1,STRINGS:{0:"Default (Example only)",1:"Stacked (Description + Example)",2:"Explain (Video + Example)"}},ExpectedSignup:{CHOICES:[[1,"PD"],[2,"Friend"]],FRIEND:2,PD:1,STRINGS:{1:"PD",2:"Friend"}},ExpoMetadata:{APPROVED:20,APP_STORE_STATUS_CHOICES:[[0,"Not Submitted"],[10,"Submitted"],[20,"Approved"],[-10,"Rejected"]],NOT_SUBMITTED:0,OPTIONS_DEFAULTS:{show_play_stop_buttons:!1,start_immediately:!0,full_screen:!0},REJECTED:-10,STRINGS:{0:"Not Submitted",10:"Submitted",20:"Approved","-10":"Rejected"},SUBMITTED:10},FeatureFlagAccess:{ADMIN:3,IN_GROUP_WITH_ACCESS:2,JOINED_AFTER_ACCESS_GRANTED_DATE:4,LIVE_FOR_ALL:1,OFFICIAL_RECORD_WITH_ACCESS:5,STRINGS:{}},FilteredWords:{BADWORDS:["anal ","anus"," arse "," ass ","asshole","ballsack","bastard","bitch","biatch","bloody","blowjob","blow job","bollock","bollok","boner","boob","bugger"," bum "," butt ","buttplug","clitoris","cock","coon","crap"," cum ","cunt","damn","dick","dildo","douche","dyke","fag","feck","fellate","fellatio","felching","fuck","f u c k","fudgepacker","fudge packer","flange","Goddamn","God damn"," hell ","homo","jerk","jizz","knobend","knob end","labia","lmao","lmfao","muff","nigger","nigga","omg","penis","piss","poop","prick","pube","pussy","queer","scrotum","sex","shit","sh1t","slut","smegma","sperm","spunk"," tit ","tits","tosser"," turd ","twat","vagina","wank","wanker","whore","wtf","@ss","$hit","5hit","a55","@55"],STRINGS:{}},FocusType:{CHOICES:[[0,"Default"]],DEFAULT:0,STRINGS:{0:"Default"}},FollowUp:{ASSIGNED:1,CHOICES:[[0,"Closed"],[1,"Assigned"],[2,"Completed"]],CLOSED:0,COMPLETED:2,STRINGS:{0:"Closed",1:"Assigned",2:"Completed"}},FontSize:{CONSOLE_FONT_CHOICES:[8,9,10,11,12,14,15,18,24,30,36,48,60,64],EDITOR_FONT_CHOICES:[8,9,10,11,12,14,15,18,24,30,36,48,60,64,72,84,96,110,124],STRINGS:{}},Freemium:{PROGRESS_PAGE_STUDENT_LIMIT:3,STRINGS:{}},Gender:{CHOICES:[[0,"Unknown"],[1,"Female"],[2,"Male"],[3,"Other"]],FEMALE:1,MALE:2,OTHER:3,STRINGS:{0:"Unknown",1:"Female",2:"Male",3:"Other"},UNKNOWN:0},GradeLevel:{CHOICES:[["","Grade Levels"],[0,"Grade Level Unknown"],[1,"Under 7th"],[7,"7th"],[8,"8th"],[6,"7th and 8th"],[9,"9th"],[10,"10th"],[13,"9th and 10th"],[11,"11th"],[12,"12th"],[14,"11th and 12th"],[17,"9th - 12th"],[15,"Over 12th"],[16,"All Grades"]],EIGHTH:8,ELEVENTH:11,ELEVENTH_TWELFTH:14,MULTIPLE_GRADES:16,NINTH:9,NINTH_TENTH:13,NINTH_TWELFTH:17,OVER_12TH:15,SEVENTH:7,SEVENTH_EIGHTH:6,STRINGS:{0:"Grade Level Unknown",1:"Under 7th",6:"7th and 8th",7:"7th",8:"8th",9:"9th",10:"10th",11:"11th",12:"12th",13:"9th and 10th",14:"11th and 12th",17:"9th - 12th",15:"Over 12th",16:"All Grades"},TENTH:10,TWELFTH:12,UNDER_7TH:1,UNKNOWN:0},Grading:{AUTO_PASS:4,AUTO_PASS_USER:1831,CHOICES:[[0,"UNKNOWN"],[1,"TUTOR"],[2,"TEACHER"],[3,"PEER"],[4,"AUTO_PASS"],[1831,"AUTO_PASS_USER"]],PEER:3,STRINGS:{0:"UNKNOWN",1:"TUTOR",2:"TEACHER",3:"PEER",4:"AUTO_PASS",1831:"AUTO_PASS_USER"},TEACHER:2,TUTOR:1,UNKNOWN:0},GradingSchema:{CHOICES:[[0,"Linear Scaling"],[1,"Pass Only"],[3,"Scaled By Difficulty"],[4,"My Custom Points"]],CUSTOM_POINTS:4,DESCRIPTIONS:{0:"Passed = 2, Needs Work = 1,         Started = 0, Not Started = 0",1:"Passed = 1, Needs Work = 0,         Started = 0, Not Started = 0",3:"Point values are based on those         assigned by CodeHS.",4:"Assign custom point values to exercises"},LINEAR_SCALING:0,NEW_SCHEMA_VALUES:{0:{0:0,1:0,2:2,3:1},1:{0:0,1:0,2:1,3:0}},PASS_ONLY:1,POINTS_BY_ITEM:3,STRINGS:{0:"Linear Scaling",1:"Pass Only",3:"Scaled By Difficulty",4:"My Custom Points"}},GradingStatus:{CHOICES:[[0,"Not Started"],[1,"Started"],[2,"Passed"],[3,"Needs Work"],[4,"Graded"]],CLASS_NAMES:{0:"not-started",1:"started",2:"passed",3:"needs-work",4:"graded"},COLORS:{0:"grey",1:"yellow",2:"green",3:"pink",4:"grey"},COMPLETE_MAP:{"-1":0,0:1,1:2,2:3,3:2,4:3,5:2,6:2},CSS:{0:"not-started",1:"started",2:"passed",3:"needs-work",4:"graded"},CSS_REVERSE:{"not-started":0,started:1,passed:2,"needs-work":3,graded:4},GRADED:4,GRADE_STATUSES:{2:"Passed",3:"Needs Work",4:"Graded"},HEX_COLORS:{0:"#beccd4",1:"#ffdd17",2:"#8cc63e",3:"#ff99c6",4:"#beccd4"},LATE_ASSIGNMENT_GRADER_ID:1395413,MAX_POINT_CHANGE_GRADER_ID:1377510,NEEDS_WORK:3,NOT_STARTED:0,PASSED:2,REVIEW_CHOICES:[[2,"Passed"],[3,"Needs Work"],[4,"Graded"]],STARTED:1,STRINGS:{0:"Not Started",1:"Started",2:"Passed",3:"Needs Work",4:"Graded"}},HumanLanguage:{CHOICES:[["aa","Afar"],["ab","Abkhazian"],["af","Afrikaans"],["ak","Akan"],["am","Amharic"],["ar","Arabic"],["an","Aragonese"],["as","Assamese"],["av","Avaric"],["ae","Avestan"],["ay","Aymara"],["az","Azerbaijani"],["ba","Bashkir"],["bm","Bambara"],["be","Belarusian"],["bn","Bengali"],["bi","Bislama"],["bo","Tibetan"],["bs","Bosnian"],["br","Breton"],["bg","Bulgarian"],["ca","Catalan"],["cs","Czech"],["ch","Chamorro"],["ce","Chechen"],["cu","Church Slavic"],["cv","Chuvash"],["kw","Cornish"],["co","Corsican"],["cr","Cree"],["cy","Welsh"],["da","Danish"],["de","German"],["dv","Dhivehi"],["dz","Dzongkha"],["el","Modern Greek (1453-)"],["en","English"],["eo","Esperanto"],["et","Estonian"],["eu","Basque"],["ee","Ewe"],["fo","Faroese"],["fa","Persian"],["fj","Fijian"],["fi","Finnish"],["fr","French"],["fy","Western Frisian"],["ff","Fulah"],["gd","Scottish Gaelic"],["ga","Irish"],["gl","Galician"],["gv","Manx"],["gn","Guarani"],["gu","Gujarati"],["ht","Haitian"],["ha","Hausa"],["sh","Serbo-Croatian"],["he","Hebrew"],["hz","Herero"],["hi","Hindi"],["ho","Hiri Motu"],["hr","Croatian"],["hu","Hungarian"],["hy","Armenian"],["ig","Igbo"],["io","Ido"],["ii","Sichuan Yi"],["iu","Inuktitut"],["ie","Interlingue"],["ia","Interlingua (International Auxiliary Language Association)"],["id","Indonesian"],["ik","Inupiaq"],["is","Icelandic"],["it","Italian"],["jv","Javanese"],["ja","Japanese"],["kl","Kalaallisut"],["kn","Kannada"],["ks","Kashmiri"],["ka","Georgian"],["kr","Kanuri"],["kk","Kazakh"],["km","Central Khmer"],["ki","Kikuyu"],["rw","Kinyarwanda"],["ky","Kirghiz"],["kv","Komi"],["kg","Kongo"],["ko","Korean"],["kj","Kuanyama"],["ku","Kurdish"],["lo","Lao"],["la","Latin"],["lv","Latvian"],["li","Limburgan"],["ln","Lingala"],["lt","Lithuanian"],["lb","Luxembourgish"],["lu","Luba-Katanga"],["lg","Ganda"],["mh","Marshallese"],["ml","Malayalam"],["mr","Marathi"],["mk","Macedonian"],["mg","Malagasy"],["mt","Maltese"],["mn","Mongolian"],["mi","Maori"],["ms","Malay (macrolanguage)"],["my","Burmese"],["na","Nauru"],["nv","Navajo"],["nr","South Ndebele"],["nd","North Ndebele"],["ng","Ndonga"],["ne","Nepali (macrolanguage)"],["nl","Dutch"],["nn","Norwegian Nynorsk"],["nb","Norwegian Bokml"],["no","Norwegian"],["ny","Nyanja"],["oc","Occitan (post 1500)"],["oj","Ojibwa"],["or","Oriya (macrolanguage)"],["om","Oromo"],["os","Ossetian"],["pa","Panjabi"],["pi","Pali"],["pl","Polish"],["pt","Portuguese"],["ps","Pushto"],["qu","Quechua"],["rm","Romansh"],["ro","Romanian"],["rn","Rundi"],["ru","Russian"],["sg","Sango"],["sa","Sanskrit"],["si","Sinhala"],["sk","Slovak"],["sl","Slovenian"],["se","Northern Sami"],["sm","Samoan"],["sn","Shona"],["sd","Sindhi"],["so","Somali"],["st","Southern Sotho"],["es","Spanish"],["sq","Albanian"],["sc","Sardinian"],["sr","Serbian"],["ss","Swati"],["su","Sundanese"],["sw","Swahili (macrolanguage)"],["sv","Swedish"],["ty","Tahitian"],["ta","Tamil"],["tt","Tatar"],["te","Telugu"],["tg","Tajik"],["tl","Tagalog"],["th","Thai"],["ti","Tigrinya"],["to","Tonga (Tonga Islands)"],["tn","Tswana"],["ts","Tsonga"],["tk","Turkmen"],["tr","Turkish"],["tw","Twi"],["ug","Uighur"],["uk","Ukrainian"],["ur","Urdu"],["uz","Uzbek"],["ve","Venda"],["vi","Vietnamese"],["vo","Volapk"],["wa","Walloon"],["wo","Wolof"],["xh","Xhosa"],["yi","Yiddish"],["yo","Yoruba"],["za","Zhuang"],["zh","Chinese"],["zu","Zulu"]],ENGLISH:["en","English"],LANGUAGES_AS_INTS_CHOICES:[[0,"English"],[1,"Spanish"]],LANGUAGES_INTS_TO_STRINGS:{0:"en",1:"es"},PRETTY_LANGS:{en:"English",es:"Spanish"},SPANISH:["es","Spanish"],STRINGS:{},SUPPORTED_LANGUAGES:[["en","English"],["es","Spanish"]],SUPPORTED_LANG_CODES:["en","es"]},IDE:{ABACUS:1,CHOICES:[[0,"Original"],[1,"Abacus"]],INHERIT:2,ORIGINAL:0,ORIGINAL_DROPLET:3,RESOLVE_SETTINGS_CONFIG:{editor_font_size:[14,["shared_program","item","user"]],console_font_size:[12,["shared_program","item","user"]],theme:["chrome",["shared_program","item","user"]],show_code:[!0,["item","shared_program","url_parameters"]],show_output:[!0,["item","shared_program","url_parameters"]],show_file_tree:[!0,["url_parameters","shared_program","item"]],left_tabs_minimized:[!1,["shared_program","item"]],hide_left_panel:[!1,["url_parameters","shared_program","item"]],hide_top_bar:[!1,["url_parameters"]],read_only:[!1,["url_parameters"]],default_blocks:[!1,["shared_program","item","user"]],auto_complete:[!1,["shared_program","item","user"]],wrap_lines:[!1,["shared_program","item"]],collab_chat:[!1,["shared_program","item","user"]],can_toggle_collab_chat:[!1,["shared_program","item"]],editor_engine:["ace",["shared_program","item","user"]],can_toggle_editor_engine:[!1,["shared_program","item","user"]],html_url_bar:[!0,["shared_program","item","user"]],can_toggle_html_url_bar:[!0,["shared_program","item","user"]],auto_refresh:[!1,["shared_program","item"]],can_toggle_auto_refresh:[!1,["shared_program","item","user"]],file_tabs:[!0,["shared_program","item"]],can_toggle_file_tabs:[!0,["shared_program","item","user"]],initial_file_tabs:[[],["shared_program","item"]],freeze_tabs:[!1,["shared_program","item"]],sprite_editor:[!1,["shared_program","item","user"]],layout_config:[!0,["shared_program","item","user"]]},SHARED_PROGRAM_CHOICES:[[0,"Original"],[1,"Abacus"],[2,"Inherit"],[3,"Droplet"]],STRINGS:{0:"Original",1:"Abacus",2:"Inherit",3:"Droplet"}},IdeaBox:{CHOICES:[[0,"Open"],[1,"Accepted"],[2,"In-Progress"],[3,"Resolved"],[4,"Closed"]],STATUS_ACCEPTED:1,STATUS_CLOSED:4,STATUS_IN_PROGRESS:2,STATUS_OPEN:0,STATUS_RESOLVED:3,STRINGS:{0:"Open",1:"Accepted",2:"In-Progress",3:"Resolved",4:"Closed"}},Image:{ELEM_PROFILE_IMAGE_URLS:["3a2071bd41302ee1935221e443b86782","3222b958aad0d27c314276cf2aa84af4","dd6a4c0d8add47d1ed5632b132e21b31","5f06b61a0d738782c1bfedc9e3821a18","78dc1b521f4366d5bdfedfdbacda5ab3","5949e770883a7a6720c7b0ee84bb8e77","52226c2ede67c662d8c11e1883f01ce8","32aa3057f04757358160fb8c8745e3d0","0f26c5d3aa0ac7af33cbb68008e2eb06","a435f6e62b21936d894308b1c8d0eb39","fdc9df2af2a6b5f6cd4c30b1eb0a8444","e637699041aafd37ed69035dea7ac3ef","2a514df291b184b23f3f879d3884d81d","6a8507a14288acd7fb42c0cb0e5a7599","6762728d28c67ab6e7ad2571ed2c55bb","272bb6f346175b826bda0bbf3b9ca6d1","7aae38d9f02f282af9d8af25a7166f4c","c928c722a11c9d7b44f60c6c85c0979d","24be4d4e9d7ad442e0752b698c3782aa","fdf46cf778fe30522c2dcec54d69779c","0dbb566edd471c1111c71f8097da0425","3638a71f68407c765e27732943de5ebd","9bde6f8ca3e82cd53f7dbbd0f4e54f4a","e38464a7e7a2bdb9b80f0770483d39e9","c39fb1c000b4d445533b2282039a04f9","e35dbe3775d3b08f9d7fbc619ffff92c","5278819c416c1fb05b8374560a50903e","b4a90a7143b6a97740e2ce008706c901","3a5566c236ae2e81b0f1f1b7a3d08fb5"],STRINGS:{}},IndividualPayment:{COURSE:2,CREDITS:1,MEMBERSHIP:0,STRINGS:{0:"Membership",1:"Credits",2:"Course"}},IntegrationType:{BLACKBOARD_LTI_1_1:1,BLACKBOARD_LTI_ADVANTAGE:2,BUZZ_LTI_1_1:3,CANVAS_LTI_1_1:4,CANVAS_LTI_ADVANTAGE:5,CHOICES:[[0,"None"],[1,"Blackboard LTI 1.1"],[2,"Blackboard LTI 1.3/LTI Advantage"],[3,"Buzz LTI 1.1"],[4,"Canvas LTI 1.1"],[5,"Canvas LTI 1.3/LTI Advantage"],[6,"D2L Brightspace LTI 1.1"],[7,"D2L Brightspace LTI 1.3/LTI Advantage"],[8,"ClassLink"],[9,"Clever"],[10,"Google Classroom"],[11,"Schoology LTI 1.1"],[12,"Custom"]],CLASSLINK:8,CLEVER:9,CUSTOM:12,D2L_LTI_1_1:6,D2L_LTI_ADVANTAGE:7,GOOGLE_CLASSROOM:10,NONE:0,SCHOOLOGY_LTI_1_1:11,STRINGS:{0:"None",1:"Blackboard LTI 1.1",2:"Blackboard LTI 1.3/LTI Advantage",3:"Buzz LTI 1.1",4:"Canvas LTI 1.1",5:"Canvas LTI 1.3/LTI Advantage",6:"D2L Brightspace LTI 1.1",7:"D2L Brightspace LTI 1.3/LTI Advantage",8:"ClassLink",9:"Clever",10:"Google Classroom",11:"Schoology LTI 1.1",12:"Custom"}},IntercomUserTypes:{ADMIN:1,STRINGS:{1:"ADMIN",2:"USER"},USER:2},IntercomWebhookTypes:{ASSIGNMENT:3,CHOICES:[[-1,"UNKNOWN"],[1,"COMMENT"],[2,"NOTE"],[3,"ASSIGNMENT"],[4,"OPEN"],[5,"CONVERSATION_MESSAGE"],[6,"CLOSE"]],CLOSE:6,COMMENT:1,CONVERSATION_MESSAGE:5,NOTE:2,OPEN:4,REVERSE_CHOICES:{COMMENT:1,NOTE:2,ASSIGNMENT:3,OPEN:4,CONVERSATION_MESSAGE:5,CLOSE:6},STRINGS:{"-1":"UNKNOWN",1:"COMMENT",2:"NOTE",3:"ASSIGNMENT",4:"OPEN",5:"CONVERSATION_MESSAGE",6:"CLOSE"},UNKNOWN:-1},InvoicePaymentStatus:{CANCELED:45,CHOICES:[[0,"Invoice Needed"],[5,"Invoice Sent"],[10,"PO Sent"],[15,"PO Received, Invoice Needed"],[20,"Invoice Sent with PO Reference"],[25,"Payment on the Way"],[28,"Partial Payment Received"],[30,"Payment Received"],[40,"Default on Payment"],[45,"Canceled"]],DEFAULT_ON_PAYMENT:40,INVOICE_NEEDED:0,INVOICE_PO_SENT:20,INVOICE_SENT:5,NOT_COMPLETE:-1,NOT_PAYING:[40,45],PARTIAL_PAYMENT:28,PAYMENT_ON_WAY:25,PAYMENT_RECEIVED:30,PO_RECEIVED_INVOICE_NEEDED:15,PO_SENT:10,STRINGS:{"-1":"",0:"Invoice Needed",5:"Invoice Sent",10:"PO Sent",15:"PO Received, Invoice Needed",20:"Invoice Sent with PO Reference",25:"Payment on the Way",28:"Partial Payment Received",30:"Payment Received",40:"Default on Payment",45:"Canceled"}},InvoiceStatus:{CART:1,CHOICES:[[1,"Cart"],[2,"Quote"],[3,"Invoice"]],INVOICE:3,QUOTE:2,STRINGS:{1:"Cart",2:"Quote",3:"Invoice"}},Item:{CONVERSATION_ID:2517745,DRAW_SOMETHING_ID:162,PANCAKES_WITH_START_PROBLEM_ID:19,SANDBOX_HTML_ID:2669143,SANDBOX_JAVASCRIPT_ID:2669136,SANDBOX_JAVA_ID:2669151,SANDBOX_KAREL_ID:2675909,SANDBOX_PYTHON_ID:2669173,SANDBOX_TURTLE_ID:2669160,STAIRCASE_PROBLEM_ID:60,STRINGS:{},THE_TWO_TOWERS_COMMENTS_ID:25,THE_TWO_TOWERS_ID:22,THE_TWO_TOWERS_SUPER_ID:28,YOUR_FIRST_KAREL_PROBLEM_ID:3},ItemInteractionType:{CHOICES:[[0,"Elementary Lesson: Page View"],[2,"Favorite"],[3,"Problem Guide: Page View"]],ELEMENTARY_LESSON_VIEW:0,FAVORITE:2,PROBLEM_GUIDE_VIEW:3,STRINGS:{0:"Elementary Lesson: Page View",2:"Favorite",3:"Problem Guide: Page View"}},ItemStatus:{AUTOGRADED:5,CHOICES:[[0,"Rejected"],[1,"In progress"],[2,"Needs review"],[3,"First review complete"],[4,"Second review complete"],[5,"Autograder completed"],[6,"Completed"]],COMPLETED:6,FIRST_REVIEW:3,IN_PROGRESS:1,NEEDS_REVIEW:2,REJECTED:0,REVIEW_STATUSES:[2,3,4],SECOND_REVIEW:4,STRINGS:{0:"Rejected",1:"In progress",2:"Needs review",3:"First review complete",4:"Second review complete",5:"Autograder completed",6:"Completed"}},ItemType:{ACADEMIC_INTEGRITY_TYPES:[0,4,19,23,16],ACTIVITIES:[0,8,17,12,16,18,19,21,23,24,25,26,27,29],AI_GRADABLE_TYPES:[0,4,12,19,16,24],BADGE:9,BLANK:32,CHALLENGE:4,CHECK_FOR_CHEATING:[0,4,19,23],CODING:[0,4,5,7,10,17,12,18,19,21,23,24,29,16,31],CONNECTION:28,CREATE_ITEM_TYPES:[22,0,4,5,28,2,16,23,8,32,20],CUSTOM:6,DATA_EXPLORER:29,DEBUGGING:12,DEMO:27,DIAGRAMMING:18,DIRECTION_MODAL_TYPES:[0,4,12,16,18,19,21,23,24,26,29,25,27,17],EDITOR_TYPES:[0,4,5,17,12,18,19,16,23,24,25,26,27,29,30,28],ELEMENTARY_LESSON:34,EXAMPLE:5,EXERCISE:0,FOLDER:33,FORKABLE_TYPES:[8,0,4,5,22,23,16,28],FREE_RESPONSE:16,GRADABLE:[0,4,12,16,18,19,21,23,24,26,29],GRADE_AND_RESPOND:21,GRADING:7,GRADING_QUIZ:17,LESSON:11,NOTES:22,PRACTICE:23,PRESENTATION:26,PRETTY_STRINGS:{0:"Exercise",2:"Video",4:"Challenge",5:"Example",6:"Custom",7:"Grading",8:"Quiz",9:"Badge",10:"Sandbox",11:"Lesson",12:"Debugging",16:"Free Response",17:"Editor Quiz",18:"Diagramming",19:"Pseudocode",20:"Resource",21:"Grade And Respond",22:"Notes",23:"Practice",24:"REPL",25:"Traceroute",26:"Presentation",27:"Demo",28:"Connection",29:"Data Explorer",30:"Survey",31:"Raw HTML",32:"Blank",33:"Folder",34:"Elementary Lesson",35:"Scratch",36:"ScratchJr",37:"Slides"},PROBLEM_GUIDE_TYPES:[0,4,12,16,23],PROG_KIND_CHOICES:[[0,"Exercise"],[5,"Example"],[2,"Video"],[4,"Challenge"],[7,"Grading"],[8,"Quiz"],[9,"Badge"],[10,"Sandbox"],[11,"Lesson"],[12,"Debugging"],[16,"Free Response"],[17,"Editor Quiz"],[18,"Diagramming"],[19,"Pseudocode"],[20,"Resource"],[21,"Grade And Respond"],[22,"Notes"],[23,"Practice"],[24,"REPL"],[25,"Traceroute"],[26,"Presentation"],[27,"Demo"],[28,"Connection"],[29,"Data Explorer"],[30,"Survey"],[31,"Raw HTML"],[33,"Folder"],[34,"Elementary Lesson"],[35,"Scratch"],[36,"ScratchJr"],[37,"Slides"]],PSEUDOCODE:19,PUBLIC_TYPES:[0,5,8,23,4,22,20,2,16],QUILL_COMPATIBLE:[0,4,5,17,12,18,19,16,23,24,25,26,27,29,30,28,22],QUIZ:8,RAW_HTML:31,REPL:24,RESOURCE:20,SANDBOX:10,SCRATCH:35,SCRATCHJR:36,SLIDES:37,SOLUTION_REFERENCE_TYPES:[8,0,4,12,16,18,19,21,23,24,26,29],SPANISH_PRETTY_STRINGS:{0:"Ejercicio",2:"Video",4:"Desafo",5:"Ejemplo",6:"Personalizado",7:"Calificacin",8:"Cuestionario",9:"Insignia",10:"Caja de Arena",11:"Leccin",12:"Depuracin",16:"Respuesta Libre",17:"Cuestionario de Edicin",18:"Diagramacin",19:"Pseudocdigo",20:"Recurso",21:"Calificar y Responder",22:"Notas",23:"Prctica",24:"REPL",25:"Traceroute",26:"Presentacin",27:"Demostracin",28:"Conexin",29:"Explorador de Datos",30:"Encuesta",31:"HTML Sin Formato",32:"En Blanco",33:"Carpeta",34:"Leccin Elemental",35:"Scratch",36:"ScratchJr",37:"Diapositivas"},SPANISH_STRINGS:{0:"ejercicio",2:"video",4:"desafo",5:"ejemplo",6:"personalizado",7:"calificacin",8:"cuestionario",9:"insignia",10:"caja-de-arena",11:"leccin",12:"depuracin",16:"respuesta-libre",17:"cuestionario-de-edicin",18:"diagramacin",19:"pseudocdigo",20:"recurso",21:"calificar-y-responder",22:"notas",23:"prctica",24:"repl",25:"traceroute",26:"presentacin",27:"demostracin",28:"conexin",29:"explorador-de-datos",30:"encuesta",31:"html-sin-formato",32:"en-blanco",33:"carpeta",34:"leccin-elemental",35:"scratch",36:"scratchjr",37:"diapositivas"},STRINGS:{0:"exercise",2:"video",4:"challenge",5:"example",6:"custom",7:"grading",8:"quiz",9:"chs-badge",10:"sandbox",11:"lesson",12:"debugging",16:"free-response",17:"grading-quiz",18:"diagramming",19:"pseudocode",20:"resource",21:"grade-and-respond",22:"notes",23:"unit-test",24:"repl",25:"traceroute",26:"presentation",27:"demo",28:"connection",29:"data-explorer",30:"survey",31:"raw-html",32:"blank",33:"folder",34:"elementary-lesson",35:"scratch",36:"scratchjr",37:"slides"},SURVEY:30,TRACEROUTE:25,UNIT_TEST:23,VIDEO:2},ItemTypeConfig:{CONFIGS:{0:{icon:"icon-pencil",color:"orange",submit_and_continue_button:!0,prog_languages_shown:[1,2,3,4,5,8,13,11,9,7,6,10,12,14,15,17,18,19,20],fields:["prog_type","points","credits_required","grading","description","code","typical_solution","problem_guide_gdoc","cheat_sheet","programming_language","rubric","guide","textbook_url","autograder_config"],run_tab:!0,exercise_tab:!0,documentation_tab:!0,help_tab:!0,history_tab:!0,grading_tab:!1,active_tab:"#run-tab",collaborate_tab:!1,continue_button:!1,save_button:!0,editor_settings_button:!0,normal_text_editor:!1,autograder:!0,default_prog_type:1,default_prog_language:1},29:{icon:"icon-bar-chart",color:"blue",continue_button:!0,documentation_tab:!1,default_prog_type:46,default_prog_language:6,prog_languages_shown:[6],fields:["prog_type","points","credits_required","grading","description","resource_gdoc"],run_tab:!0,exercise_tab:!0,help_tab:!0,history_tab:!0,grading_tab:!1,active_tab:"#run-tab",collaborate_tab:!1,submit_and_continue_button:!1,save_button:!0,editor_settings_button:!0,normal_text_editor:!1,autograder:!0},30:{icon:"icon-comment",color:"blue",continue_button:!0,documentation_tab:!1,default_prog_type:52,default_prog_language:6,prog_languages_shown:[6],fields:["prog_type","points","credits_required","grading","description"],run_tab:!0,exercise_tab:!0,help_tab:!0,history_tab:!0,grading_tab:!1,active_tab:"#run-tab",collaborate_tab:!1,submit_and_continue_button:!1,save_button:!0,editor_settings_button:!0,normal_text_editor:!1,autograder:!0},24:{icon:"icon-refresh",color:"purple",run_tab:!1,save_button:!1,history_tab:!1,documentation_tab:!1,editor_settings_button:!1,active_tab:"#exercise-tab",fields:["description","programming_language","points","credits_required","grading"],default_prog_type:28,default_prog_language:7,prog_languages_shown:[7,1,3],exercise_tab:!0,help_tab:!0,grading_tab:!1,collaborate_tab:!1,continue_button:!1,submit_and_continue_button:!1,normal_text_editor:!1,autograder:!0},25:{icon:"icon-globe",color:"blue",save_button:!1,history_tab:!1,documentation_tab:!1,editor_settings_button:!1,continue_button:!0,fields:["description","points","credits_required","grading"],default_prog_type:33,default_prog_language:6,prog_languages_shown:[6],run_tab:!0,exercise_tab:!0,help_tab:!0,grading_tab:!1,active_tab:"#run-tab",collaborate_tab:!1,submit_and_continue_button:!1,normal_text_editor:!1,autograder:!0},26:{icon:"icon-picture",color:"blue",run_tab:!1,save_button:!1,history_tab:!1,documentation_tab:!1,editor_settings_button:!1,submit_and_continue_button:!0,active_tab:"#exercise-tab",fields:["description","points","credits_required","grading","code"],default_prog_type:40,default_prog_language:6,prog_languages_shown:[6],exercise_tab:!0,help_tab:!0,grading_tab:!1,collaborate_tab:!1,continue_button:!1,normal_text_editor:!1,autograder:!0},27:{icon:"icon-play-circle",color:"red",continue_button:!0,run_tab:!0,save_button:!1,history_tab:!1,documentation_tab:!1,editor_settings_button:!1,submit_and_continue_button:!1,active_tab:"#exercise-tab",fields:["description","points","credits_required","grading","code","programming_language","prog_type"],default_prog_type:16,default_prog_language:1,prog_languages_shown:[1,2,3,5,10,11,13],prog_types_shown:[4,3,16,56,62,78,65,5,10,15,22,23,26,45,47,57,87,59,50,51,82,83],exercise_tab:!0,help_tab:!0,grading_tab:!1,collaborate_tab:!1,normal_text_editor:!1,autograder:!0},31:{icon:"icon-info-sign",color:"red",continue_button:!0,run_tab:!1,save_button:!1,history_tab:!1,documentation_tab:!1,editor_settings_button:!1,submit_and_continue_button:!1,active_tab:"#exercise-tab",fields:["code","programming_language","prog_type"],default_prog_type:5,default_prog_language:5,prog_languages_shown:[5],prog_types_shown:[5],exercise_tab:!0,help_tab:!0,grading_tab:!1,collaborate_tab:!1,normal_text_editor:!1,autograder:!0},2:{icon:"icon-facetime-video",color:"blue",default_prog_type:0,default_prog_language:6,prog_languages_shown:[6],fields:["points","credits_required","description","youtube_id","vimeo_id","slides"],run_tab:!0,exercise_tab:!0,documentation_tab:!0,help_tab:!0,history_tab:!0,grading_tab:!1,active_tab:"#run-tab",collaborate_tab:!1,continue_button:!1,submit_and_continue_button:!1,save_button:!0,editor_settings_button:!0,normal_text_editor:!1,autograder:!0},4:{icon:"icon-star",color:"purple",submit_and_continue_button:!0,prog_languages_shown:[1,2,3,4,5,8,13,11,9,7,6,10,12,14,15,17,18,19,20],fields:["prog_type","points","credits_required","grading","description","code","typical_solution","problem_guide_gdoc","cheat_sheet","programming_language","rubric","guide","textbook_url","autograder_config"],run_tab:!0,exercise_tab:!0,documentation_tab:!0,help_tab:!0,history_tab:!0,grading_tab:!1,active_tab:"#run-tab",collaborate_tab:!1,continue_button:!1,save_button:!0,editor_settings_button:!0,normal_text_editor:!1,autograder:!0,default_prog_type:1,default_prog_language:1},5:{icon:"icon-file-alt",color:"red",continue_button:!0,prog_languages_shown:[1,2,3,4,5,8,13,11,9,7,6,10,12,14,15,17,18,19,20],fields:["prog_type","points","credits_required","grading","code","cheat_sheet","programming_language","textbook_url","description"],run_tab:!0,exercise_tab:!0,documentation_tab:!0,help_tab:!0,history_tab:!0,grading_tab:!1,active_tab:"#run-tab",collaborate_tab:!1,submit_and_continue_button:!1,save_button:!0,editor_settings_button:!0,normal_text_editor:!1,autograder:!0,default_prog_type:1,default_prog_language:1},7:{icon:"icon-edit",color:"red",run_tab:!0,exercise_tab:!0,documentation_tab:!0,help_tab:!0,history_tab:!0,grading_tab:!1,active_tab:"#run-tab",collaborate_tab:!1,continue_button:!1,submit_and_continue_button:!1,save_button:!0,editor_settings_button:!0,fields:["prog_type","points","credits_required","grading"],normal_text_editor:!1,autograder:!0,default_prog_type:1,default_prog_language:1},8:{icon:"icon-check",color:"green",default_prog_type:8,default_prog_language:6,prog_languages_shown:[6],fields:["points","credits_required","quiz_id"],run_tab:!0,exercise_tab:!0,documentation_tab:!0,help_tab:!0,history_tab:!0,grading_tab:!1,active_tab:"#run-tab",collaborate_tab:!1,continue_button:!1,submit_and_continue_button:!1,save_button:!0,editor_settings_button:!0,normal_text_editor:!1,autograder:!0},9:{icon:"icon-certificate",color:"yellow",default_prog_type:9,default_prog_language:6,prog_languages_shown:[6],fields:["description","image"],run_tab:!0,exercise_tab:!0,documentation_tab:!0,help_tab:!0,history_tab:!0,grading_tab:!1,active_tab:"#run-tab",collaborate_tab:!1,continue_button:!1,submit_and_continue_button:!1,save_button:!0,editor_settings_button:!0,normal_text_editor:!1,autograder:!0},10:{exercise_tab:!1,help_tab:!1,collaborate_tab:!0,prog_languages_shown:[1,2,3,4,5,8,13,11,9,7,6,10,12,14,15,17,18,19,20],fields:["prog_type","points","credits_required","grading","programming_language"],icon:"chs-icon-pencil",color:"red",run_tab:!0,documentation_tab:!0,history_tab:!0,grading_tab:!1,active_tab:"#run-tab",continue_button:!1,submit_and_continue_button:!1,save_button:!0,editor_settings_button:!0,normal_text_editor:!1,autograder:!0,default_prog_type:1,default_prog_language:1},11:{icon:"icon-book",color:"maroon",default_prog_type:0,default_prog_language:6,prog_languages_shown:[6],fields:["description","image","points","credits_required","textbook_url"],run_tab:!0,exercise_tab:!0,documentation_tab:!0,help_tab:!0,history_tab:!0,grading_tab:!1,active_tab:"#run-tab",collaborate_tab:!1,continue_button:!1,submit_and_continue_button:!1,save_button:!0,editor_settings_button:!0,normal_text_editor:!1,autograder:!0},12:{icon:"icon-stethoscope",color:"orange",submit_and_continue_button:!0,prog_languages_shown:[1,2,3,4,5,8,13,11,9,7,6,10,12,14,15,17,18,19,20],fields:["prog_type","points","credits_required","grading","description","code","typical_solution","problem_guide_gdoc","programming_language","autograder_config"],run_tab:!0,exercise_tab:!0,documentation_tab:!0,help_tab:!0,history_tab:!0,grading_tab:!1,active_tab:"#run-tab",collaborate_tab:!1,continue_button:!1,save_button:!0,editor_settings_button:!0,normal_text_editor:!1,autograder:!0,default_prog_type:1,default_prog_language:1},16:{icon:"icon-copy",color:"indigo",run_tab:!1,active_tab:"#exercise-tab",documentation_tab:!1,normal_text_editor:!0,submit_and_continue_button:!0,autograder:!1,default_prog_type:11,default_prog_language:6,prog_languages_shown:[6,2,1,3,11,5],fields:["description","points","code","typical_solution","credits_required","programming_language"],exercise_tab:!0,help_tab:!0,history_tab:!0,grading_tab:!1,collaborate_tab:!1,continue_button:!1,save_button:!0,editor_settings_button:!0},17:{icon:"icon-ok-circle",color:"teal",continue_button:!0,history_tab:!1,prog_languages_shown:[1,2,3,4,5,8,13,11,9,7,6,10,12,14,15,17,18,19,20],fields:["prog_type","points","credits_required","grading","description","code","typical_solution","problem_guide_gdoc","quiz_id","programming_language"],run_tab:!0,exercise_tab:!0,documentation_tab:!0,help_tab:!0,grading_tab:!1,active_tab:"#run-tab",collaborate_tab:!1,submit_and_continue_button:!1,save_button:!0,editor_settings_button:!0,normal_text_editor:!1,autograder:!0,default_prog_type:1,default_prog_language:1},18:{normal_text_editor:!0,submit_and_continue_button:!0,autograder:!1,prog_languages_shown:[1,2,3,4,5,8,13,11,9,7,6,10,12,14,15,17,18,19,20],fields:["prog_type","points","credits_required","description","code","typical_solution","problem_guide_gdoc","programming_language"],icon:"chs-icon-pencil",color:"red",run_tab:!0,exercise_tab:!0,documentation_tab:!0,help_tab:!0,history_tab:!0,grading_tab:!1,active_tab:"#run-tab",collaborate_tab:!1,continue_button:!1,save_button:!0,editor_settings_button:!0,default_prog_type:1,default_prog_language:1},19:{normal_text_editor:!0,submit_and_continue_button:!0,autograder:!1,prog_languages_shown:[1,2,3,4,5,8,13,11,9,7,6,10,12,14,15,17,18,19,20],fields:["prog_type","points","credits_required","description","code","typical_solution","problem_guide_gdoc","programming_language"],icon:"chs-icon-pencil",color:"red",run_tab:!0,exercise_tab:!0,documentation_tab:!0,help_tab:!0,history_tab:!0,grading_tab:!1,active_tab:"#run-tab",collaborate_tab:!1,continue_button:!1,save_button:!0,editor_settings_button:!0,default_prog_type:1,default_prog_language:1},20:{icon:"chs-icon-book",default_prog_type:0,default_prog_language:6,prog_languages_shown:[6],fields:["item_type","points","credits_required","resource_gdoc"],color:"red",run_tab:!0,exercise_tab:!0,documentation_tab:!0,help_tab:!0,history_tab:!0,grading_tab:!1,active_tab:"#run-tab",collaborate_tab:!1,continue_button:!1,submit_and_continue_button:!1,save_button:!0,editor_settings_button:!0,normal_text_editor:!1,autograder:!0},21:{submit_and_continue_button:!0,save_button:!1,autograder:!1,prog_languages_shown:[1,2,3,4,5,8,13,11,9,7,6,10,12,14,15,17,18,19,20],fields:["prog_type","points","credits_required","description","code","needs_response","grade_answer","pass_reason","needs_work_reason","function_ok_reason","reject_reason","programming_language"],icon:"chs-icon-pencil",color:"red",run_tab:!0,exercise_tab:!0,documentation_tab:!0,help_tab:!0,history_tab:!0,grading_tab:!1,active_tab:"#run-tab",collaborate_tab:!1,continue_button:!1,editor_settings_button:!0,normal_text_editor:!1,default_prog_type:1,default_prog_language:1},22:{icon:"icon-list-ul",color:"orange",default_prog_type:0,default_prog_language:6,prog_languages_shown:[6],fields:["prog_type","description","points","credits_required"],run_tab:!0,exercise_tab:!0,documentation_tab:!0,help_tab:!0,history_tab:!0,grading_tab:!1,active_tab:"#run-tab",collaborate_tab:!1,continue_button:!1,submit_and_continue_button:!1,save_button:!0,editor_settings_button:!0,normal_text_editor:!1,autograder:!0},28:{icon:"icon-lightbulb",color:"yellow",default_prog_type:42,default_prog_language:6,prog_languages_shown:[6],fields:["prog_type","description","points","credits_required","resource_gdoc","youtube_id"],run_tab:!0,exercise_tab:!0,documentation_tab:!0,help_tab:!0,history_tab:!0,grading_tab:!1,active_tab:"#run-tab",collaborate_tab:!1,continue_button:!1,submit_and_continue_button:!1,save_button:!0,editor_settings_button:!0,normal_text_editor:!1,autograder:!0},23:{icon:"chs-icon-pencil",color:"orange",submit_and_continue_button:!0,run_tab:!0,grading_tab:!0,active_tab:"#grading-tab",default_prog_language:2,default_prog_type:21,prog_languages_shown:[2,1,3,11],fields:["points","credits_required","grading","description","code","typical_solution","problem_guide_gdoc","autograder","autograder_json","programming_language","textbook_url","guide"],exercise_tab:!0,documentation_tab:!0,help_tab:!0,history_tab:!0,collaborate_tab:!1,continue_button:!1,save_button:!0,editor_settings_button:!0,normal_text_editor:!1,autograder:!0}},DEFAULTS:{icon:"chs-icon-pencil",color:"red",run_tab:!0,exercise_tab:!0,documentation_tab:!0,help_tab:!0,history_tab:!0,grading_tab:!1,active_tab:"#run-tab",collaborate_tab:!1,continue_button:!1,submit_and_continue_button:!1,save_button:!0,editor_settings_button:!0,fields:["prog_type","points","credits_required","grading"],normal_text_editor:!1,autograder:!0,default_prog_type:1,default_prog_language:1},STRINGS:{},item_type:23},ItemTypeDisplayName:{CHECK_FOR_UNDERSTANDING:"Check for Understanding",CHOICES:["Check for Understanding"],ICONS:{"Check for Understanding":"icon-lightbulb"},STRINGS:{}},JobType:{CELERY:1,CHOICES:[[0,"Cron"],[1,"Celery"],[2,"Manual"]],CRON:0,MANUAL:2,STRINGS:{0:"Cron",1:"Celery",2:"Manual"}},KarelCelebration:{CHOICES:[[0,"None"],[1,"Solitaire Karel"],[2,"Spinning Karel"]],NONE:0,SOLITAIRE:1,SPIN:2,STRINGS:{0:"None",1:"Solitaire Karel",2:"Spinning Karel"}},KarelWorld:{COLORS:["RED","GREEN","BLUE","YELLOW","CYAN","ORANGE","BLACK","GRAY","PURPLE"],DEFAULT_10x10:'{"rows":10, "cols":10, "start": {"row": 0, "col": 0}, "dir": "EAST"}',DIRECTIONS:["EAST","NORTH","WEST","SOUTH"],MAX_SIZE:50,RANDOM_COLOR:"?",STRINGS:{}},KimonoTaskType:{ADD:"ADD",CHANGE:"CHANGE",DELETE:"DELETE",GRADES_SCORES:"assignment_scores",GRADES_SUMMARY:"summary",SET:"SET",STRINGS:{},SYNC_END:"SYNC_END",SYNC_START:"SYNC_START",TENANT_INSTALLED:"TENANT_INSTALLED",TENANT_UNINSTALLED:"TENANT_UNINSTALLED"},KnownSolutionStatus:{ACCEPTED:20,CHOICES:[[0,"Rejected"],[10,"Submitted"],[20,"Accepted"],[30,"Taken Down"]],REJECTED:0,STRINGS:{0:"Rejected",10:"Submitted",20:"Accepted",30:"Taken Down"},SUBMITTED:10,TAKEN_DOWN:30},LTIKey:{ADVANTAGE_K12_STRIDE:24,ADVANTAGE_K12_STRIDE_1:77,ADVANTAGE_K12_STRIDE_2:78,ADVANTAGE_K12_STRIDE_3:79,ADVANTAGE_K12_STRIDE_TESTING_2022:70,CODEHS_ADMIN:2,GWINNETT:26,K12_STRIDE_1:21,K12_STRIDE_2:33,K12_STRIDE_3:34,K12_STRIDE_CURRENT_KEYS:[77,78,79,239],K12_STRIDE_KEYS:[33,34,70,77,78,79,239,21,24],K12_STRIDE_PILOT_TESTING_2024:239,SMASH:30,STRINGS:{},WASHINGTON_COUNTY_ADVANTAGE:39,WASHINGTON_COUNTY_CANVAS:9,WASHINGTON_COUNTY_KEYS:[9,42,39],WASHINGTON_COUNTY_SCHOOLOGY:42},LTIKeyPlatform:{BLACKBOARD:4,BUZZ:5,CANVAS:1,D2L:3,MOODLE:6,SCHOOLOGY:2,STRINGS:{1:"Canvas",2:"Schoology",3:"D2L",4:"Blackboard",5:"Buzz",6:"Moodle"}},LTIServer:{CHOICES:[[1,"ClassLink One Roster"],[2,"Kimono"],[3,"Clever"],[4,"OneRoster CSV"],[5,"OneRoster API"]],CLASSLINK:1,CLASSLINK_CERT_CLIENT_ID:"e4667eda54af01530f10ca2b",CLASSLINK_CERT_CLIENT_SECRET:"377bc2f995d76d496e63e19c",CLASSLINK_CERT_ENDPOINT:"https://certs-nj-v2.oneroster.com",CLASSLINK_CERT_TENANT_ID:"1356",CLASSLINK_SANDBOX_CLIENT_ID:"2afeb3c463bee3399480c7f9",CLASSLINK_SANDBOX_CLIENT_SECRET:"722610f059341ba0dfcf8eea",CLASSLINK_SANDBOX_ENDPOINT:"https://sandbox-vn-v2.oneroster.com",CLASSLINK_SANDBOX_TENANT_ID:"-1",CLEVER:3,CLEVER_API_ENDPOINT:"https://api.clever.com",FAYETTE_SERVER_ID:427,GWINNETT_SERVER_ID:474,K12_KIMONO_PROD_SERVER_ID:5,KIMONO:2,KIMONO_API_ENDPOINT:"https://api.us2.kimonocloud.com",KIMONO_SANDBOX_CLIENT_ID:"MoAeKLqCpFPwA6AUJjGtd91Of3hTFfkJ",KIMONO_SANDBOX_CLIENT_SECRET:"r3EJulK3pqVhdwaA",KIMONO_SANDBOX_GRADES_REQUESTER_CLIENT_ID:"EkFLJmvGFEYkE6oFVxhmjvRk23e2wMQH",KIMONO_SANDBOX_GRADES_REQUESTER_CLIENT_SECRET:"VvoWxMBaBgzujpKx",KIMONO_SANDBOX_TENANT_ID:"a2c6f014-e0af-4762-9b60-6ccafc3f1cf4",LOUDOUN_CLASSLINK_TENANT_ID:"831",ONEROSTER_API:5,ONE_ROSTER_CSV:4,STRINGS:{1:"ClassLink One Roster",2:"Kimono",3:"Clever",4:"OneRoster CSV",5:"OneRoster API"},STRINGS_TO_TYPE:{"ClassLink One Roster":1,Kimono:2,Clever:3,"OneRoster CSV":4,"OneRoster API":5}},LTIVersion:{CHOICES:[[11,"LTI 1.1"],[13,"LTI Advantage"]],LTI_1_1:11,LTI_ADVANTAGE:13,STRINGS:{11:"LTI 1.1",13:"LTI Advantage"}},LaunchTemplate:{FORMAT_CHOICES:[[1,"Format Version One"]],FORMAT_VERSION_ONE:1,STRINGS:{1:"Format Version One"}},LeadStage:{AWARENESS:[10,20,30],CHOICES:[[0,"Lost"],[10,"Potential"],[20,"Prospect"],[30,"Qualifying"],[35,"Qualified"],[38,"Nurturing"],[40,"Learning"],[50,"Evaluating"],[60,"Plan"],[70,"Pricing"],[75,"Purchasing"],[80,"Closing"],[90,"Won"]],CHS_MAPPING:{0:10,1:20,2:38,3:50,4:70,5:75,6:90,7:0,8:0},CLOSING:80,EDUCATION:[35,38,40,50],EVALUATING:50,LEARNING:40,LOST:0,NURTURING:38,PLAN:60,POTENTIAL:10,PRICING:70,PROSPECT:20,PURCHASING:75,QUALIFIED:35,QUALIFYING:30,SALE:[60,70,75,80],SALESFORCE_MAPPING:{0:7,10:0,20:1,30:1,35:1,38:2,40:2,50:3,60:3,70:4,75:5,80:5,90:6},SDR_STAGES:[10,20,30,35],STRINGS:{0:"Lost",10:"Potential",20:"Prospect",30:"Qualifying",35:"Qualified",38:"Nurturing",40:"Learning",50:"Evaluating",60:"Plan",70:"Pricing",75:"Purchasing",80:"Closing",90:"Won"},WON:90,key:90,val:"Won"},LeadType:{CHOICES:[[1,"School"],[2,"District"],[3,"Partnership"],[4,"State"]],DISTRICT:2,PARTNERSHIP:3,SCHOOL:1,STATE:4,STRINGS:{1:"School",2:"District",3:"Partnership",4:"State"},VALUES:{School:1,District:2,Partnership:3,State:4}},LineItemDiscountType:{CHOICES:[[0,"No Discount"],[1,"Multiyear 2"],[2,"Multiyear 3+"],[3,"Multiyear 2 Paid Up Front"],[4,"Multiyear 3+ Paid Up Front"],[5,"Second Semester"],[6,"Custom"]],CUSTOM:6,MULTIYEAR_2:1,MULTIYEAR_2_PAID_UP_FRONT:3,MULTIYEAR_3_PLUS:2,MULTIYEAR_3_PLUS_PAID_UP_FRONT:4,NO_DISCOUNT:0,SECOND_SEMESTER:5,STRINGS:{0:"No Discount",1:"Multiyear 2",2:"Multiyear 3+",3:"Multiyear 2 Paid Up Front",4:"Multiyear 3+ Paid Up Front",5:"Second Semester",6:"Custom"}},LineItemType:{CHOICES:[[1,"Standard"],[2,"Header"],[3,"Fee"],[4,"Discount"]],DISCOUNT:4,FEE:3,HEADER:2,STANDARD:1,STRINGS:{1:"Standard",2:"Header",3:"Fee",4:"Discount"}},LineItemUnit:{CHOICES:[[0,"None"],[1,"Section"],[2,"Student"],[3,"Teacher"],[4,"License"],[5,"Voucher"]],LICENSES:4,NONE:0,SECTIONS:1,STRINGS:{0:"None",1:"Section",2:"Student",3:"Teacher",4:"License",5:"Voucher"},STUDENTS:2,TEACHERS:3,VOUCHERS:5},LookerDashboard:{ACCESS_DATA:"access_data",ADMIN_DASH_EMBED_SSO_URL:"/embed/sso/dashboards/17",CLASS_SET_FILTER_FIELD:"core_classset_classes.classset_id",DEFAULT_MODEL:"codehs",FULL_PERMISSION:["access_data","see_looks","see_lookml_dashboards","see_user_dashboards"],INVESTOR_DASH_EMBED_URL:"/embed/sso/dashboards/19",SEE_DASHBOARDS:"see_dashboards",SEE_LOOKML_DASHBOARDS:"see_lookml_dashboards",SEE_LOOKS:"see_looks",SEE_USER_DASHBOARDS:"see_user_dashboards",STRINGS:{}},Love:{GLOWINGNESS:[0,1,2,3,4,5],STRINGS:{}},MarkupFormat:{CHOICES:[[0,"Markdown"],[1,"Quill"]],MARKDOWN:0,QUILL:1,STRINGS:{0:"Markdown",1:"Quill"}},MembershipCredit:{NOT_USED:1,REFERRAL_VALUE:500,STATUS_CHOICES:[[1,"NOT_USED"],[2,"USED"]],STRINGS:{1:"NOT_USED",2:"USED"},USED:2},Message:{ANSWERED:21,ANSWERED_STATUSES:[[20,"needs answer"],[21,"answered"],[22,"closed"]],CLOSED:22,DEFAULT:10,HELPER:2,MSG_TYPES:[[0,"normal"],[1,"student"],[2,"helper"],[3,"peer-message"],[4,"tutor"],[5,"teacher"]],NEEDS_ANSWER:20,NEEDS_REVIEW:14,NORMAL:0,PEER_MESSAGE:3,REVIEWED:18,STATUSES:[[10,"default"],[14,"needs-review"],[18,"reviewed"]],STRINGS:{0:"normal",1:"student",2:"helper",3:"peer-message",4:"tutor",5:"teacher",10:"default",14:"needs-review",18:"reviewed",20:"needs answer",21:"answered",22:"closed"},STUDENT:1,TEACHER:5,TUTOR:4},MessageAnsweredStatus:{ANSWERED:21,CHOICES:[[20,"needs-answer"],[21,"answered"],[22,"closed"]],CLOSED:22,NEEDS_ANSWER:20,STRINGS:{20:"needs-answer",21:"answered",22:"closed"}},MessageRating:{ADMIN:2,STRINGS:{},STUDENT:1,TUTOR:3},MessageStatus:{CHOICES:[[10,"default"],[14,"needs-review"],[18,"reviewed"]],DEFAULT:10,NEEDS_REVIEW:14,REVIEWED:18,STRINGS:{10:"default",14:"needs-review",18:"reviewed"}},MessageType:{CHOICES:[[1,"student"],[3,"peer-message"],[4,"tutor"],[5,"teacher"]],PEER_MESSAGE:3,STRINGS:{1:"student",3:"peer-message",4:"tutor",5:"teacher"},STUDENT:1,TEACHER:5,TUTOR:4},MimeTypes:{APPLICATION_JAR:19,APPLICATION_PDF:16,ASSET_UPLOAD_CHOICES:{"image/gif":4,"image/png":5,"image/jpeg":6,"image/bmp":7,"image/webp":8,"audio/midi":9,"audio/mpeg":10,"audio/webm":11,"audio/ogg":12,"audio/wav":13,"video/webm":14,"video/ogg":15,"application/java-archive":19,"font/ttf":20,"font/otf":21,"font/woff":22,"font/woff2":23},AUDIO_MIDI:9,AUDIO_MPEG:10,AUDIO_OGG:12,AUDIO_WAV:13,AUDIO_WEBM:11,CHOICES:[[-1,""],[0,"text/plain"],[1,"text/html"],[2,"text/css"],[3,"text/javascript"],[4,"image/gif"],[5,"image/png"],[6,"image/jpeg"],[7,"image/bmp"],[8,"image/webp"],[9,"audio/midi"],[10,"audio/mpeg"],[11,"audio/webm"],[12,"audio/ogg"],[13,"audio/wav"],[14,"video/webm"],[15,"video/ogg"],[16,"application/pdf"],[17,"video/mp4"],[18,"image/svg+xml"],[19,"application/java-archive"],[20,"font/ttf"],[21,"font/otf"],[22,"font/woff"],[23,"font/woff2"]],FONT_OTF:21,FONT_TTF:20,FONT_WOFF:22,FONT_WOFF2:23,IMAGE_BMP:7,IMAGE_GIF:4,IMAGE_JPEG:6,IMAGE_PNG:5,IMAGE_SVG:18,IMAGE_WEBP:8,MAX_FILE_BYTES:3145728,REVERSE_CHOICES:{"":-1,"text/plain":0,"text/html":1,"text/css":2,"text/javascript":3,"image/gif":4,"image/png":5,"image/jpeg":6,"image/bmp":7,"image/webp":8,"audio/midi":9,"audio/mpeg":10,"audio/webm":11,"audio/ogg":12,"audio/wav":13,"video/webm":14,"video/ogg":15,"application/pdf":16,"video/mp4":17,"image/svg+xml":18,"application/java-archive":19,"font/ttf":20,"font/otf":21,"font/woff":22,"font/woff2":23},STRINGS:{"-1":"",0:"text/plain",1:"text/html",2:"text/css",3:"text/javascript",4:"image/gif",5:"image/png",6:"image/jpeg",7:"image/bmp",8:"image/webp",9:"audio/midi",10:"audio/mpeg",11:"audio/webm",12:"audio/ogg",13:"audio/wav",14:"video/webm",15:"video/ogg",16:"application/pdf",17:"video/mp4",18:"image/svg+xml",19:"application/java-archive",20:"font/ttf",21:"font/otf",22:"font/woff",23:"font/woff2"},TEXT_CSS:2,TEXT_HTML:1,TEXT_JAVASCRIPT:3,TEXT_PLAIN:0,UNKNOWN:-1,VIDEO_MP4:17,VIDEO_OGG:15,VIDEO_WEBM:14},Module:{ANIMATION_GAMES:3,ART_10_HOUR:6098,ART_1_HOUR:6097,BASIC_JS:2,BLENDED:33,DATA_STRUCTURES:4,DEBUGGING:34,ELEMENTARY_LESSONS:23620,GRAPHICS_HOC:103,HELICOPTER:5,HOC_MODULES:[17,89,103],KAREL:1,KAREL_HOC:17,MUSIC_10_HOUR:5828,MUSIC_1_HOUR:5825,SPORTS_10_HOUR:6096,SPORTS_1_HOUR:6095,SQL_HOC:89,STRINGS:{},TEACHING_KAREL:35,TECHSTART_MODULES:[5825,6097,6095,5828,6098,6096],WELCOME:36},ModuleType:{CHOICES:[[0,"Hidden"],[1,"Main"],[2,"Supplemental"]],HIDDEN:0,MAIN:1,STRINGS:{0:"Hidden",1:"Main",2:"Supplemental"},SUPPLEMENTAL:2},Nicknames:{ANIMALS:["Aardvark","Albatross","Alligator","Alpaca","Anteater","Antelope","Armadillo","Badger","Barracuda","Bat","Bear","Beaver","Bee","Bison","Boar","Buffalo","Butterfly","Camel","Capybara","Caribou","Cassowary","Cat","Caterpillar","Cattle","Cheetah","Chicken","Chinchilla","Cobra","Cormorant","Coyote","Crab","Crane","Crocodile","Crow","Deer","Dinosaur","Dog","Dolphin","Dove","Dragonfly","Duck","Eagle","Eel","Elephant","Elk","Emu","Falcon","Ferret","Finch","Fish","Flamingo","Fox","Frog","Gazelle","Giraffe","Gnu","Goat","Goose","Grasshopper","Gull","Hamster","Hare","Hawk","Hedgehog","Heron","Herring","Hippopotamus","Hornet","Horse","Hummingbird","Hyena","Ibex","Jackal","Jaguar","Jellyfish","Kangaroo","Kingfisher","Koala","Kookabura","Lemur","Leopard","Lion","Llama","Lobster","Magpie","Mallard","Manatee","Mandrill","Mantis","Meerkat","Mole","Mongoose","Moose","Mouse","Narwhal","Newt","Nightingale","Octopus","Opossum","Ostrich","Otter","Owl","Panther","Parrot","Partridge","Pelican","Penguin","Pigeon","Pony","Porcupine","Porpoise","Quail","Quetzal","Rabbit","Raccoon","Ram","Raven","Reindeer","Rhinoceros","Salamander","Salmon","Sardine","Scorpion","Seahorse","Seal","Shark","Sheep","Snake","Sparrow","Spider","Spoonbill","Squid","Squirrel","Starling","Stingray","Stinkbug","Stork","Swan","Tapir","Tiger","Trout","Turkey","Turtle","Viper","Vulture","Wallaby","Walrus","Weasel","Whale","Wildcat","Wolf","Wolverine","Wombat","Wren","Yak","Zebra"],COLORS:["Red","Blue","Green","Yellow","Orange","Purple","Cyan","Magenta","Lime","Pink","Teal","Lavender","Beige","Maroon","Mint","Olive","Apricot","Navy","Gray"],STRINGS:{}},Notification:{BADGE:3,DEFAULT_USER:1831,GRADE:4,STRINGS:{0:"to student",1:"to tutor",4:"grade",1831:"default user"},TO_REVEIWER:2,TO_STUDENT:0,TO_TUTOR:1},ObjChange:{ADD:1,CHOICES:[[1,"Add"],[2,"Remove"]],REMOVE:2,STRINGS:{1:"Add",2:"Remove"}},OfficialRecord:{ALAN_TURING_ACADEMY_AK:180103,ALAN_TURING_ACADEMY_AL:180101,ALAN_TURING_ACADEMY_AZ:180105,ALAN_TURING_ACADEMY_CA_ELEMENTARY:180824,ALAN_TURING_ACADEMY_CA_HIGH_SCHOOL:180826,ALAN_TURING_ELEMENTARY:180800,AMERICAN_SAMOA:157638,BEATS_UNLOCKED_RECORD:178493,CERTIFICATION_PRACTICE_COURSES:178233,CODEHS:147253,CODEHS_PARTNER:175847,CODEHS_TEST_ACCOUNTS:147254,GRANITE_DISTRICT:16041,GWINNETT_RECORD:2954,HOMESCHOOL_PARENTS:175189,INDIVIDUAL_TEACHER_PURCHASES:180007,K12_STRIDE_PLACEHOLDER_RECORD:176272,K12_STRIDE_ROOT_SCHOOL:178619,NOT_SEARCHABLE:[147253,147254,175847,175189,176272,178233,178493],SMASH:173942,STRINGS:{},WASHINGTON_COUNTY:16067},OfficialRecordVerificationStatus:{CHANGED:3,CHOICES:[[0,"Requested"],[1,"Correct"],[2,"Incorrect"],[3,"Changed"]],CORRECT:1,INCORRECT:2,REQUESTED:0,STRINGS:{0:"Requested",1:"Correct",2:"Incorrect",3:"Changed"}},OrganizationRelationship:{ADDRESSABLE_TARGET:1,CHOICES:[[1,"Addressable Target"],[2,"Primary Target"],[3,"Engaged Prospect"],[4,"Current Customer"],[5,"Former Customer"]],CURRENT_CUSTOMER:4,ENGAGED_PROSPECT:3,FORMER_CUSTOMER:5,PRIMARY_TARGET:2,STRINGS:{1:"Addressable Target",2:"Primary Target",3:"Engaged Prospect",4:"Current Customer",5:"Former Customer"}},OrganizationType:{CHOICES:[[0,"Other"],[1,"District"],[2,"School"],[3,"Company"],[4,"State"],[5,"Partner"],[6,"Placeholder"]],COMPANY:3,DISTRICT:1,OTHER:0,PARTNER:5,PLACEHOLDER:6,SCHOOL:2,STATE:4,STRINGS:{0:"Other",1:"District",2:"School",3:"Company",4:"State",5:"Partner",6:"Placeholder"}},Outreach:{DAYS:[-7,0,10,30,45,60,90],DAYSTODATETUPLES:{30:[9,1],45:[9,14],60:[9,29],90:[10,29]},SCHEDULED:[30,45,60,90],STRINGS:{},UNSCHEDULED:[-7,0,10]},PDEventLeaderType:{CHOICES:[[1,"CodeHS Led"],[2,"Teacher Trainer Led"],[3,"Partner Led"]],CODEHS_LED:1,PARTNER_LED:3,STRINGS:{1:"CodeHS Led",2:"Teacher Trainer Led",3:"Partner Led"},TEACHER_TRAINER_LED:2},PDEventType:{CHOICES:[[1,"In Person"],[2,"Virtual"]],IN_PERSON:1,STRINGS:{1:"In Person",2:"Virtual"},VIRTUAL:2},PDMembershipAction:{CHOICES:[[1,"Start Video"],[2,"Finish Video"],[3,"Register for Event"],[4,"Enroll in Course"],[5,"Complete Course"]],COMPLETE_COURSE:5,ENROLL_IN_COURSE:4,FINISH_VIDEO:2,REGISTER_FOR_EVENT:3,START_VIDEO:1,STRINGS:{1:"Start Video",2:"Finish Video",3:"Register for Event",4:"Enroll in Course",5:"Complete Course"}},PIIDeletionStatus:{CHOICES:[[0,"Not Scheduled"],[1,"Scheduled"],[2,"Soft Deleted"],[3,"Deleted"],[4,"Won't Delete"]],DELETED:3,NOT_SCHEDULED:0,SCHEDULED:1,SOFT_DELETED:2,STRINGS:{0:"Not Scheduled",1:"Scheduled",2:"Soft Deleted",3:"Deleted",4:"Won't Delete"},WONT_DELETE:4},Plan:{APPLYING_TUTOR:9,BASIC:1,BASIC_JAVA_PRICE:3e3,BASIC_SEMESTER_PRICE:{15:600,30:1200,50:1700,75:2200,100:2700,200:5e3,500:11e3,1e3:2e4,2e3:4e4,5e3:1e5},BASIC_YEAR:12,BASIC_YEAR_PRICE:{15:1e3,30:2e3,50:3e3,75:4e3,100:5e3,200:9e3,500:2e4,1e3:39e3,2e3:68e3,5e3:15e4},FREE:0,FREE_PLANS:[0,4,5],FULL_ACCESS:6,FULL_ACCESS_PLANS:[6,9],FULL_JAVA_PRICE:999,FULL_SEMESTER_PRICE:325,FULL_YEAR_PRICE:600,GET_TUTORING_PLANS:[0,2,11,8,6,9],INDIVIDUAL_PLANS:[0,1,2,11,12,13],MONTANA:10,MONTHLY_PAID_PLANS:[1,2,11],NAMES:{"-1":"No User",0:"Free Trial",1:"Basic Member",2:"Premium Member",4:"School",5:"Teacher",8:"Tutor",6:"Full Access",9:"Applying Tutor",10:"Montana",11:"One-on-one Member",12:"Basic Member",13:"Premium Member"},NO_USER:-1,ONE_ON_ONE:11,PAID_PLANS:[1,2,11,12,13],PLAN_TYPES:[[0,"free"],[1,"basic"],[2,"premium"],[4,"school"],[5,"teacher"],[8,"tutor"],[6,"full-access"],[9,"applying-tutor"],[11,"one_on_one"],[12,"basic_year"],[13,"premium_year"]],PREMIUM:2,PREMIUM_YEAR:13,PRICE:{"-1":0,0:0,1:25,2:75,4:0,5:0,8:0,6:0,9:0,10:0,11:400,12:250,13:750},SCHOOL:4,SCHOOL_PLANS:[4,5],STRINGS:{"-1":"no-user",0:"free",1:"basic",2:"premium",4:"school",5:"teacher",8:"tutor",6:"full-access",9:"applying-tutor",10:"montana",11:"one_on_one",12:"basic_year",13:"premium_year"},STRIPE_PLAN:{0:0,1:1,2:2,12:4,13:5},TEACHER:5,TRAINING_PRICE:1500,TUTOR:8,YEARLY_PAID_PLANS:[12,13]},PlanChange:{CANCEL:0,FAIL:-1,MESSAGES:{"-1":"Oops. Something didn't work. Try again or email     support@codehs.com if you have a question.",0:"Cancellation successful.     You will no longer be charged.",1:"Thanks for upgrading!"},STRINGS:{},UPGRADE:1},Platform:{ANDROID:"Android",BROWSERS:[["Chrome","Google Chrome"],["FF","Mozilla Firefox"],["MSIE","Microsoft Internet Explorer"],["Safari","Apple Safari"],["other","None of these"],["Unknown","Unknown"]],CHROME:"Chrome",CHROMEBOOK:"ChromeOS",CHROMEOS:"ChromeOS",EXPLORER:"MSIE",FIREFOX:"FF",IE:"MSIE",IOS:"Apple iOS",MAC:"Macintosh OS X",MACINTOSH:"Macintosh OS X",MSIE:"MSIE",NONSUPPORTED_BROWSERS:[["MSIE","Microsoft Internet Explorer"],["Safari","Apple Safari"]],NONSUPPORTED_OSES:[["Android","Google Android"],["Apple iOS","Apple iOS"]],OPERATING_SYSTEMS:[["Macintosh OS X","Macintosh OS X"],["Microsoft Windows","Microsoft Windows"],["ChromeOS","Google Chrome OS (ChromeBooks)"],["POSIX","Unix-like operating systems such as Linux or BSD"],["Android","Google Android"],["Apple iOS","Apple iOS"],["other","None of these"],["Unknown","Unknown"]],OTHER:"other",POSIX:"POSIX",SAFARI:"Safari",STRINGS:{Android:"Google Android",ChromeOS:"Google Chrome OS (ChromeBooks)","Apple iOS":"Apple iOS","Macintosh OS X":"Macintosh OS X",POSIX:"Unix-like operating systems such as Linux or BSD","Microsoft Windows":"Microsoft Windows",Chrome:"Google Chrome",FF:"Mozilla Firefox",MSIE:"Microsoft Internet Explorer",Safari:"Apple Safari",other:"None of these",Unknown:"Unknown"},SUPPORTED_BROWSERS:[["Chrome","Google Chrome"],["FF","Mozilla Firefox"]],SUPPORTED_OSES:[["Macintosh OS X","Macintosh OS X"],["Microsoft Windows","Microsoft Windows"],["ChromeOS","Google Chrome OS (ChromeBooks)"],["POSIX","Unix-like operating systems such as Linux or BSD"]],UNKNOWN:"Unknown",WINDOWS:"Microsoft Windows"},Points:{GRADING:1,MESSAGE:3,STRINGS:{3:"message",1:"grading"}},Practice:{COURSE_STRING_TO_ID:{java:40466,javascript:40467,python:40468,"c++":43685,cpp:43685,sql:53746},COURSE_STRING_TO_PRETTY_MODULE_STRINGS:{java:[["2darray1","2D Arrays - Level 1"],["2darray2","2D Arrays - Level 2"],["arraylists1","Arraylists - Level 1"],["arraylists2","Arraylists - Level 2"],["arraylists3","Arraylists - Level 3"],["arrays1","Arrays - Level 1"],["arrays2","Arrays - Level 2"],["arrays3","Arrays - Level 3"],["basics1","Basics - Level 1"],["booleans1","Booleans - Level 1"],["booleans2","Booleans - Level 2"],["math1","Math - Level 1"],["math2","Math - Level 2"],["objects1","Objects - Level 1"],["objects2","Objects - Level 2"],["recursion","Recursion"],["stringloops","Stringloops"],["strings1","Strings - Level 1"],["strings2","Strings - Level 2"],["strings3","Strings - Level 3"]],javascript:[["arrays1","Arrays - Level 1"],["arrays2","Arrays - Level 2"],["basics1","Basics - Level 1"],["functions","Functions"],["math1","Math - Level 1"],["math2","Math - Level 2"],["recursion1","Recursion - Level 1"],["recursion2","Recursion - Level 2"],["strings1","Strings - Level 1"],["strings2","Strings - Level 2"]],python:[["basics1","Basics - Level 1"],["dicts1","Dictionaries - Level 1"],["dicts2","Dictionaries - Level 2"],["functions","Functions"],["lists1","Lists - Level 1"],["lists2","Lists - Level 2"],["lists3","Lists - Level 3"],["loops1","Loops - Level 1"],["loops2","Loops - Level 2"],["math1","Math - Level 1"],["math2","Math - Level 2"],["strings1","Strings - Level 1"],["strings2","Strings - Level 2"],["stringsloops","Strings - Loops"]],"c++":[["arrays1","Arrays - Level 1"],["arrays2","Arrays - Level 2"],["basics1","Basics - Level 1"],["math1","Math - Level 1"],["math2","Math - Level 2"],["strings1","Strings - Level 1"],["strings2","Strings - Level 2"]],cpp:[["arrays1","Arrays - Level 1"],["arrays2","Arrays - Level 2"],["basics1","Basics - Level 1"],["math1","Math - Level 1"],["math2","Math - Level 2"],["strings1","Strings - Level 1"],["strings2","Strings - Level 2"]],sql:[["join1","Join - Level 1"],["select1","Select - Level 1"],["where1","Where - Level 1"]]},COURSE_STRING_TO_PRETTY_STRING:{java:"Java",javascript:"JavaScript",python:"Python","c++":"C++",cpp:"C++",sql:"SQL"},COURSE_STRING_TO_URL_STRING:{java:"java",javascript:"javascript",python:"python","c++":"cpp",cpp:"cpp",sql:"sql"},COURSE_TO_MODULES:{java:{"2darray":18039668,"2darray1":18039668,"2darray2":18039670,arraylists:18039674,arraylists1:18039674,arraylists2:18039676,arraylists3:21641186,arrays:18039678,arrays1:18039678,arrays2:18039680,arrays3:21641178,booleans:18039682,booleans1:18039682,booleans2:18039684,math:18039686,basics1:18039686,math1:18039688,math2:18039690,recursion:18039694,remove:18039700,stringloops:18039702,strings:18039707,strings1:18039707,strings2:18039709,strings3:18039711,objects:18457828,objects1:18457828,objects2:18457836},javascript:{arrays:18044244,arrays1:18044244,arrays2:18044246,functions:18044248,math:18044250,basics1:18044250,math1:18044252,math2:18044254,recursion:18044256,recursion1:18044256,recursion2:18044258,strings:18044260,strings1:18044260,strings2:18044262},python:{dicts:18041461,dicts1:18041461,dicts2:18041463,functions:18041465,lists:18041467,lists1:18041467,lists2:18041469,lists3:18041471,loops:18041473,loops1:18041473,loops2:18041475,math:18041477,basics1:18041477,math1:18041479,math2:18041481,strings:18041483,strings1:18041483,strings2:18041485,stringsloops:18041491},"c++":{math:18193559,math1:18193559,math2:18507040,basics1:18507042,strings:18507044,strings1:18507044,strings2:18507046,arrays:18507048,arrays1:18507048,arrays2:18507050},cpp:{math:18193559,math1:18193559,math2:18507040,basics1:18507042,strings:18507044,strings1:18507044,strings2:18507046,arrays:18507048,arrays1:18507048,arrays2:18507050},sql:{select1:22242371,where1:22242376,join1:22242383}},CPP:43685,CPP_ARRAYS_1:18507048,CPP_ARRAYS_2:18507050,CPP_BASICS:18507042,CPP_MATH_1:18193559,CPP_MATH_2:18507040,CPP_MODULES:{math:18193559,math1:18193559,math2:18507040,basics1:18507042,strings:18507044,strings1:18507044,strings2:18507046,arrays:18507048,arrays1:18507048,arrays2:18507050},CPP_STRINGS_1:18507044,CPP_STRINGS_2:18507046,CUSTOM_PRACTICE_LANGUAGE_CHOICES:[40466,40467,40468],DEFAULT_SOLUTION_CODE:{1:"// This is a sample function\nfunction hello(name) {\n    return ('Hello, ' + name);\n}",3:'# This is a sample function\ndef hello(name):\n    return "Hello, " + name',2:'// This is a sample method\npublic String hello(String name) {\n    return ("Hello, " + name);\n}'},DEFAULT_STARTER_CODE:{1:"// This is a sample function\nfunction hello(name) {\n    return '';\n}",3:"# This is a sample function\ndef hello(name):\n    return ''",2:'// This is a sample method\npublic String hello(String name) {\n    return "";\n}'},JAVA:40466,JAVASCRIPT:40467,JAVA_2D_ARRAY_1:18039668,JAVA_2D_ARRAY_2:18039670,JAVA_ARRAYLISTS_1:18039674,JAVA_ARRAYLISTS_2:18039676,JAVA_ARRAYLISTS_3:21641186,JAVA_ARRAYS_1:18039678,JAVA_ARRAYS_2:18039680,JAVA_ARRAYS_3:21641178,JAVA_BASICS:18039686,JAVA_BOOLEANS_1:18039682,JAVA_BOOLEANS_2:18039684,JAVA_MATH_1:18039688,JAVA_MATH_2:18039690,JAVA_MODULES:{"2darray":18039668,"2darray1":18039668,"2darray2":18039670,arraylists:18039674,arraylists1:18039674,arraylists2:18039676,arraylists3:21641186,arrays:18039678,arrays1:18039678,arrays2:18039680,arrays3:21641178,booleans:18039682,booleans1:18039682,booleans2:18039684,math:18039686,basics1:18039686,math1:18039688,math2:18039690,recursion:18039694,remove:18039700,stringloops:18039702,strings:18039707,strings1:18039707,strings2:18039709,strings3:18039711,objects:18457828,objects1:18457828,objects2:18457836},JAVA_OBJECTS_1:18457828,JAVA_OBJECTS_2:18457836,JAVA_RECURSION:18039694,JAVA_REMOVE:18039700,JAVA_STRINGS_1:18039707,JAVA_STRINGS_2:18039709,JAVA_STRINGS_3:18039711,JAVA_STRING_LOOPS:18039702,JS_ARRAYS_1:18044244,JS_ARRAYS_2:18044246,JS_BASICS:18044250,JS_FUNCTIONS:18044248,JS_MATH_1:18044252,JS_MATH_2:18044254,JS_MODULES:{arrays:18044244,arrays1:18044244,arrays2:18044246,functions:18044248,math:18044250,basics1:18044250,math1:18044252,math2:18044254,recursion:18044256,recursion1:18044256,recursion2:18044258,strings:18044260,strings1:18044260,strings2:18044262},JS_RECURSION_1:18044256,JS_RECURSION_2:18044258,JS_STRINGS_1:18044260,JS_STRINGS_2:18044262,MODULE_ID_TO_STRINGS:{18039668:"2darray1",18039670:"2darray2",18039674:"arraylists1",18039676:"arraylists2",21641186:"arraylists3",18039678:"arrays1",18039680:"arrays2",21641178:"arrays3",18039686:"math",18039682:"booleans1",18039684:"booleans2",18039688:"math1",18039690:"math2",18457828:"objects1",18457836:"objects2",18039694:"recursion",18039700:"remove",18039702:"stringloops",18039707:"strings1",18039709:"strings2",18039711:"strings3",18044244:"arrays1",18044246:"arrays2",18044250:"math",18044248:"functions",18044252:"math1",18044254:"math2",18044256:"recursion1",18044258:"recursion2",18044260:"strings1",18044262:"strings2",18041477:"math",18041461:"dicts1",18041463:"dicts2",18041465:"functions",18041467:"lists1",18041469:"lists2",18041471:"lists3",18041473:"loops1",18041475:"loops2",18041479:"math1",18041481:"math2",18041483:"strings1",18041485:"strings2",18041491:"stringsloops",18507048:"arrays1",18507050:"arrays2",18507042:"basics1",18193559:"math1",18507040:"math2",18507044:"strings1",18507046:"strings2",22242383:"join1",22242371:"select1",22242376:"where1"},POPULAR:77797,PRACTICE_LANGUAGE_CHOICES:[40466,40467,40468,43685,53746],PRETTY_MODULE_STRINGS_CPP:{math1:"Math - Level 1",math2:"Math - Level 2",basics1:"Basics - Level 1",strings1:"Strings - Level 1",strings2:"Strings - Level 2",arrays1:"Arrays - Level 1",arrays2:"Arrays - Level 2"},PRETTY_MODULE_STRINGS_JAVA:{"2darray1":"2D Arrays - Level 1","2darray2":"2D Arrays - Level 2",arraylists1:"Arraylists - Level 1",arraylists2:"Arraylists - Level 2",arraylists3:"Arraylists - Level 3",arrays1:"Arrays - Level 1",arrays2:"Arrays - Level 2",arrays3:"Arrays - Level 3",booleans1:"Booleans - Level 1",booleans2:"Booleans - Level 2",basics1:"Basics - Level 1",math1:"Math - Level 1",math2:"Math - Level 2",recursion:"Recursion",stringloops:"Stringloops",strings1:"Strings - Level 1",strings2:"Strings - Level 2",strings3:"Strings - Level 3",objects1:"Objects - Level 1",objects2:"Objects - Level 2"},PRETTY_MODULE_STRINGS_JS:{arrays1:"Arrays - Level 1",arrays2:"Arrays - Level 2",functions:"Functions",basics1:"Basics - Level 1",math1:"Math - Level 1",math2:"Math - Level 2",recursion1:"Recursion - Level 1",recursion2:"Recursion - Level 2",strings1:"Strings - Level 1",strings2:"Strings - Level 2"},PRETTY_MODULE_STRINGS_PYTHON:{dicts1:"Dictionaries - Level 1",dicts2:"Dictionaries - Level 2",functions:"Functions",lists1:"Lists - Level 1",lists2:"Lists - Level 2",lists3:"Lists - Level 3",loops1:"Loops - Level 1",loops2:"Loops - Level 2",basics1:"Basics - Level 1",math1:"Math - Level 1",math2:"Math - Level 2",strings1:"Strings - Level 1",strings2:"Strings - Level 2",stringsloops:"Strings - Loops"},PRETTY_MODULE_STRINGS_SQL:{select1:"Select - Level 1",where1:"Where - Level 1",join1:"Join - Level 1"},PRETTY_STRINGS:{40466:"Java",40467:"JavaScript",40468:"Python",43685:"C++",53746:"SQL"},PYTHON:40468,PYTHON_BASICS:18041477,PYTHON_DICTS_1:18041461,PYTHON_DICTS_2:18041463,PYTHON_FUNCTIONS:18041465,PYTHON_LISTS_1:18041467,PYTHON_LISTS_2:18041469,PYTHON_LISTS_3:18041471,PYTHON_LOOPS_1:18041473,PYTHON_LOOPS_2:18041475,PYTHON_MATH_1:18041479,PYTHON_MATH_2:18041481,PYTHON_MODULES:{dicts:18041461,dicts1:18041461,dicts2:18041463,functions:18041465,lists:18041467,lists1:18041467,lists2:18041469,lists3:18041471,loops:18041473,loops1:18041473,loops2:18041475,math:18041477,basics1:18041477,math1:18041479,math2:18041481,strings:18041483,strings1:18041483,strings2:18041485,stringsloops:18041491},PYTHON_STRINGS_1:18041483,PYTHON_STRINGS_2:18041485,PYTHON_STRINGS_LOOPS:18041491,SQL:53746,SQL_JOIN1:22242383,SQL_MODULES:{select1:22242371,where1:22242376,join1:22242383},SQL_SELECT1:22242371,SQL_WHERE1:22242376,STRINGS:{40466:"java",40467:"javascript",40468:"python",43685:"c++",53746:"sql",18039668:"2darray1",18039670:"2darray2",18039674:"arraylists1",18039676:"arraylists2",21641186:"arraylists3",18039678:"arrays1",18039680:"arrays2",21641178:"arrays3",18039682:"booleans1",18039684:"booleans2",18039686:"basics1",18039688:"math1",18039690:"math2",18039694:"recursion",18039700:"remove",18039702:"stringloops",18039707:"strings1",18039709:"strings2",18039711:"strings3",18457828:"objects1",18457836:"objects2",18044244:"arrays1",18044246:"arrays2",18044248:"functions",18044250:"basics1",18044252:"math1",18044254:"math2",18044256:"recursion1",18044258:"recursion2",18044260:"strings1",18044262:"strings2",18041461:"dicts1",18041463:"dicts2",18041465:"functions",18041467:"lists1",18041469:"lists2",18041471:"lists3",18041473:"loops1",18041475:"loops2",18041477:"basics1",18041479:"math1",18041481:"math2",18041483:"strings1",18041485:"strings2",18041491:"stringsloops",18193559:"math1",18507040:"math2",18507042:"basics1",18507044:"strings1",18507046:"strings2",18507048:"arrays1",18507050:"arrays2",22242371:"select1",22242376:"where1",22242383:"join1"},TEACHER_COURSES:[43685,40466,40467,40468,53746],URL_STRINGS:{40466:"java",40467:"javascript",40468:"python",43685:"cpp",53746:"sql"},_:"sql",mod_assignment_id:22242376,mod_str:"where1",module:{select1:22242371,where1:22242376,join1:22242383}},PracticePage:{CODEHS:1,COMMUNITY:3,MY_PRACTICE:2,STRINGS:{}},PracticeProblemCategory:{CHOICES_DICT:{2:["Basics","Strings","Math","Booleans","Arrays","2D Arrays","ArrayLists","Recursion","Objects"],1:["Basics","Functions","Strings","Math","Arrays","Recursion"],3:["Basics","Functions","Strings","Math","Loops","Lists","Dictionaries"]},CHOICES_DICT_FROM_STRING:{java:["Basics","Strings","Math","Booleans","Arrays","2D Arrays","ArrayLists","Recursion","Objects"],javascript:["Basics","Functions","Strings","Math","Arrays","Recursion"],python:["Basics","Functions","Strings","Math","Loops","Lists","Dictionaries"]},JAVASCRIPT_TOPICS:["Basics","Functions","Strings","Math","Arrays","Recursion"],JAVASCRIPT_TOPICS_URLS:["basics","functions","strings","math","arrays","recursion"],JAVA_TOPICS:["Basics","Strings","Math","Booleans","Arrays","2D Arrays","ArrayLists","Recursion","Objects"],JAVA_TOPICS_URLS:["basics","strings","math","booleans","arrays","2d-arrays","arrayLists","recursion","objects"],PYTHON_TOPICS:["Basics","Functions","Strings","Math","Loops","Lists","Dictionaries"],PYTHON_TOPICS_URLS:["basics","functions","strings","math","loops","lists","dictionaries"],STRINGS:{},URL_CHOICES_DICT_FROM_STRING:{java:["basics","strings","math","booleans","arrays","2d-arrays","arrayLists","recursion","objects"],javascript:["basics","functions","strings","math","arrays","recursion"],python:["basics","functions","strings","math","loops","lists","dictionaries"]},URL_DICT:{basics:"Basics",strings:"Strings",math:"Math",booleans:"Booleans",arrays:"Arrays","2d-arrays":"2D Arrays",arraylists:"ArrayLists",recursion:"Recursion",objects:"Objects",functions:"Functions",loops:"Loops",lists:"Lists",dictionaries:"Dictionaries"}},PricingType:{CHOICES:[[0,"Unknown"],[1,"Standard"],[2,"Custom"],[3,"Legacy"]],CUSTOM:2,LEGACY:3,STANDARD:1,STRINGS:{0:"Unknown",1:"Standard",2:"Custom",3:"Legacy"},UNKNOWN:0},Priority:{BASIC:7,DEFAULT:5,FREE:5,FULL_ACCESS:9,IGNORED:0,ONE_ON_ONE:11,OPTIONS:[[0,"0 -- lowest"],[1,1],[2,2],[3,3],[4,4],[5,5],[6,6],[7,7],[8,8],[9,9],[10,"10 -- highest"],[11,"11 -- 1on1"]],PREMIUM:10,STRINGS:{10:"premium",9:"full-access",8:"tutor",7:"basic",6:"teacher",5:"free",0:"ignored"},STUDENT:0,TEACHER:6,TUTOR:8},PrismTheme:{CHOICES:[[0,"tomorrow-night"],[2,"light"],[1,"dark"],[4,"okaidia"],[5,"twilight"],[6,"coy"],[7,"solarized-light"]],COY:6,DARK:1,DARK_THEMES:[0,1,4,5],LIGHT:2,LIGHT_THEMES:[2,7,6],OKAIDIA:4,PRETTY_STRINGS:{0:"Tomorrow Night",1:"Dark",2:"Light",4:"Okaidia",5:"Twilight",6:"Coy",7:"Solarized Light"},SOLARIZED_LIGHT:7,STRINGS:{0:"tomorrow-night",1:"dark",2:"light",4:"okaidia",5:"twilight",6:"coy",7:"solarized-light"},TOMORROW_NIGHT:0,TWILIGHT:5},ProblemBank:{CHOICES:[[1,"Public"],[2,"Private"]],PRIVATE:2,PUBLIC:1,STRINGS:{1:"Public",2:"Private"}},ProductCategory:{CERTIFICATIONS:40,CHOICES:[[0,"Unknown"],[1,"Other"],[10,"Pro"],[20,"PD"],[30,"Services"],[40,"Certifications"]],OTHER:1,PD:20,PRO:10,SERVICES:30,STRINGS:{0:"Unknown",1:"Other",10:"Pro",20:"PD",30:"Services",40:"Certifications"},UNKNOWN:0},ProductSubCategory:{CERTIFICATION_VOUCHERS:200,CHOICES:[[0,"Unknown"],[1,"Other"],[10,"Section License"],[20,"Teacher License"],[30,"School License"],[40,"District License"],[50,"Student License"],[100,"PD Event"],[110,"PD Course"],[200,"Certification Vouchers"],[300,"Implementation Fee"]],DISTRICT_LICENSE:40,IMPLEMENTATION_FEE:300,OTHER:1,PD_COURSE:110,PD_EVENT:100,SCHOOL_LICENSE:30,SECTION_LICENSE:10,STRINGS:{0:"Unknown",1:"Other",10:"Section License",20:"Teacher License",30:"School License",40:"District License",50:"Student License",100:"PD Event",110:"PD Course",200:"Certification Vouchers",300:"Implementation Fee"},STUDENT_LICENSE:50,TEACHER_LICENSE:20,UNKNOWN:0},ProfileSuperpowers:{FLIGHT:1,INVISIBILITY:2,NONE:0,POWERS:[[0,"None"],[1,"Flight"],[2,"Invisibility"]],STRINGS:{0:"None",1:"Flight",2:"Invisibility"}},ProgramType:{ABOUT_INFO:{0:"None",1:"Karel (JavaScript)",2:"SuperKarel (JavaScript)",6:"UltraKarel (JavScript)",4:"JavaScript Graphics",3:"JavaScript Console",5:"HTML",8:"Quiz",9:"Badge",11:"Free Response",12:"Java\nJava Version 1.8.0_222",13:"Python\nSkulpt 1.0.0, Python 2.x",10:"Python (with canvas)\nSkulpt 1.0.0, Python 2.x",15:"Python (turtle)\nSkulpt 1.0.0, Python 2.x",48:"Python Karel\nSkulpt 1.0.0, Python 2.x",16:"JavaScript Graphics (no console)",17:"SQL\nsql.js",18:"Java (Karel)",19:"Java (SuperKarel)",20:"Java (UltraKarel)",21:"Java (method)\nJava Version 1.8.0_222",22:"Java (console)\nJava Version 1.8.0_222",23:"Java (main)\nJava Version 1.8.0_222",24:"JavaScript (function)",25:"Python (function)\nSkulpt 1.0.0, Python 2.x",26:"Java (graphics)",27:"Elm",28:"Elm (REPL)",29:"JavaScript (REPL)",30:"Python (REPL)",31:"Processing.js",32:"Pixel",33:"Traceroute",34:"Bit Interpreter (Color)",35:"Bit Interpreter (Custom Text)",36:"Bit Interpreter (Text)",37:"Number Base Tool",38:"Bit Interpreter (All)",39:"Bit Interpreter (Black & White)",40:"Presentation",41:"Python Tutor\nhttps://pythontutor.com",42:"Article",43:"Video",44:"Text",81:"Embed",45:"C\nC11\ngcc (Alpine 6.4.0) 6.4.0",46:"Data Explorer",47:"C++\nC++14\ngcc (Alpine 6.4.0) 6.4.0",49:"Markdown",50:"React Native\nReact Native Web Player",51:"Virtual Reality with A-Frame\nA-Frame 1.0.0",52:"Survey",53:"Alexa",54:"Microbit",55:"Python 3\nPython 3.6.9 (default, Oct 17 2019, 11:17:29)\n[GCC 6.4.0]",56:"Python 3\nPython 3.6.9 (default, Oct 17 2019, 11:17:29)\n[GCC 6.4.0]",57:"p5.js\np5.js 1.0.0",58:"Scheme\nMIT/GNU Scheme\nRelease 9.2 || Microcode 15.3 || Runtime 15.7 || SF 4.41 || LIAR/x86-64 4.118\nEdwin 3.116",60:"Bash\nGNU bash, version 4.4.19",59:"Music (Blockly)",61:"Java Swing\nJava Version 1.8.0_222",62:"Python 3 Graphics (tkinter)\nPython 3.6.9 (default, Oct 17 2019, 11:17:29)\n[GCC 6.4.0]\nTkInter8.6",63:"Vanilla JS",64:"Java Practice (main)\nJava Version 1.8.0_222",65:"Pygame\nPython 3.6.9 (default, Nov  7 2019, 10:44:02) \n[GCC 8.3.0]\npygame 1.9.6",66:"Python 3 Practice\n3.6.9 (default, Oct 17 2019, 11:17:29)\n[GCC 6.4.0]",67:"C++ Practice\nC++14\ngcc (Alpine 6.4.0) 6.4.0",68:"Arduino",69:"Python Super Karel",70:"Python Ultra Karel",71:"Python Processing (Brython)",72:"Brython Web",73:"Firebase",74:"WebDev",75:"Java Processing\nJava 1.8.0_222",76:"Python Processing\nBrython",77:"Swift",78:"Python 3 Graphics (Brython)",79:"Python 3 Console\nPython 3.6.9 (default, Oct 17 2019, 11:17:29)\n[GCC 6.4.0]",80:"Node\nNode v8.14.0",82:"Python 3.6.7, numpy 1.19.5, pandas 1.1.5",83:"Python 3.6.7, numpy 1.19.5, pandas 1.1.5, matplotlib 2.0.2",85:"Lua 5.3",86:"C#",90:"Folder",84:"TypeScript, latest version via https://unpkg.com/typescript@latest.",87:"p5play v3.8"},ADMIN_ONLY_PROG_TYPES:[32,26,27,28,40,45,46,67,41,49,52,53,54,55,60,63,68,73,74,80,84,90,85,86],AFRAME:51,ALEXA:53,ARDUINO:68,BADGE:9,BASH:60,BIT_INTERPRETER_ALL:38,BIT_INTERPRETER_BW:39,BIT_INTERPRETER_COLOR:34,BIT_INTERPRETER_TEXT:36,BIT_INTERPRETER_TEXT_CUSTOM:35,BIT_INTERPRETER_TYPES:[34,35,36,38,39],BLOCKLY_MUSIC:59,BLOCKS_COMPATIBLE:[1,2,6,5,32],BRYTHON_CONSOLE:79,BRYTHON_GRAPHICS:78,BRYTHON_PROCESSING:71,BRYTHON_WEB:72,C:45,CONNECTION_ARTICLE:42,CONNECTION_EMBED:81,CONNECTION_TEXT:44,CONNECTION_VIDEO:43,CONSOLE:3,CONSOLE_TYPES:[3,4,32,13,10,15,33,45,47,55,56,58,60,63,77,80,12,22,23,64,75],CPP:47,CPP_FUNCTION:67,C_SHARP:86,DATA_EXPLORER:46,DEFAULT_CODE:{59:'\n    <xml xmlns="http://www.w3.org/1999/xhtml" id="workspaceBlocks" style="display:none">\n      <variables></variables>\n      <block type="main_audio_program" id="p5/1T(`}b6udTE?gZxfr" deletable="false" x="100" y="30">\n        <statement name="DO">\n          <block type="controls_repeat_ext" id="5^TH27%odPR;A3pN1kfA">\n            <value name="TIMES">\n              <shadow type="math_number" id="Z~x7{.:W,7:eDm{L.d;1">\n                <field name="NUM">2</field>\n              </shadow>\n            </value>\n            <statement name="DO">\n              <block type="add_measure" id="#:K,VE$9U%#]spVP*:wC">\n                <statement name="MEASURE_STATEMENTS">\n                  <block type="music_beats" id="1^/FM+y*S_wgKE4sPB@g">\n                    <field name="BEAT1">TRUE</field>\n                    <field name="BEAT2">FALSE</field>\n                    <field name="BEAT3">FALSE</field>\n                    <field name="BEAT4">FALSE</field>\n                    <field name="BEAT5">FALSE</field>\n                    <field name="BEAT6">FALSE</field>\n                    <field name="BEAT7">FALSE</field>\n                    <field name="BEAT8">FALSE</field>\n                    <value name="INSTRUMENT">\n                      <block type="note_name" id="RVn_mD=kF(N?6JnB`~_C">\n                        <field name="NOTE">C</field>\n                        <field name="OCTAVE">4</field>\n                      </block>\n                    </value>\n                    <next>\n                      <block type="music_beats" id="dJMQ[%R;sNOi0VgSTD!9">\n                        <field name="BEAT1">FALSE</field>\n                        <field name="BEAT2">TRUE</field>\n                        <field name="BEAT3">FALSE</field>\n                        <field name="BEAT4">FALSE</field>\n                        <field name="BEAT5">FALSE</field>\n                        <field name="BEAT6">FALSE</field>\n                        <field name="BEAT7">FALSE</field>\n                        <field name="BEAT8">FALSE</field>\n                        <value name="INSTRUMENT">\n                          <block type="note_name" id="8U-48%4Xx~x?i+u@au0)">\n                            <field name="NOTE">C</field>\n                            <field name="OCTAVE">5</field>\n                          </block>\n                        </value>\n                        <next>\n                          <block type="music_beats" id="ij{TxO8*TxX`vy*a`K[B">\n                            <field name="BEAT1">FALSE</field>\n                            <field name="BEAT2">FALSE</field>\n                            <field name="BEAT3">TRUE</field>\n                            <field name="BEAT4">FALSE</field>\n                            <field name="BEAT5">FALSE</field>\n                            <field name="BEAT6">FALSE</field>\n                            <field name="BEAT7">FALSE</field>\n                            <field name="BEAT8">FALSE</field>\n                            <value name="INSTRUMENT">\n                              <block type="note_name" id=")Fjek*Kxz=(!8IuQL)MI">\n                                <field name="NOTE">B</field>\n                                <field name="OCTAVE">4</field>\n                              </block>\n                            </value>\n                            <next>\n                              <block type="music_beats" id="_6XLEO`mDv(#j`k*D,J8">\n                                <field name="BEAT1">FALSE</field>\n                                <field name="BEAT2">FALSE</field>\n                                <field name="BEAT3">FALSE</field>\n                                <field name="BEAT4">TRUE</field>\n                                <field name="BEAT5">FALSE</field>\n                                <field name="BEAT6">FALSE</field>\n                                <field name="BEAT7">FALSE</field>\n                                <field name="BEAT8">FALSE</field>\n                                <value name="INSTRUMENT">\n                                  <block type="note_name" id="s82B+$QNJoz6371vYr/{">\n                                    <field name="NOTE">A</field>\n                                    <field name="OCTAVE">4</field>\n                                  </block>\n                                </value>\n                                <next>\n                                  <block type="music_beats" id="i,7AM{jqc[HZK[j#!x^@">\n                                    <field name="BEAT1">FALSE</field>\n                                    <field name="BEAT2">FALSE</field>\n                                    <field name="BEAT3">FALSE</field>\n                                    <field name="BEAT4">FALSE</field>\n                                    <field name="BEAT5">TRUE</field>\n                                    <field name="BEAT6">FALSE</field>\n                                    <field name="BEAT7">FALSE</field>\n                                    <field name="BEAT8">FALSE</field>\n                                    <value name="INSTRUMENT">\n                                      <block type="note_name" id="e_{eDvD_e%f_RSv51As:">\n                                        <field name="NOTE">G</field>\n                                        <field name="OCTAVE">4</field>\n                                      </block>\n                                    </value>\n                                    <next>\n                                      <block type="music_beats" id="DBX}(t[h8i1#`ce{S`B(">\n                                        <field name="BEAT1">FALSE</field>\n                                        <field name="BEAT2">FALSE</field>\n                                        <field name="BEAT3">FALSE</field>\n                                        <field name="BEAT4">FALSE</field>\n                                        <field name="BEAT5">FALSE</field>\n                                        <field name="BEAT6">TRUE</field>\n                                        <field name="BEAT7">FALSE</field>\n                                        <field name="BEAT8">FALSE</field>\n                                        <value name="INSTRUMENT">\n                                          <block type="note_name" id="QpV#Xd:v0mxFn2V()62^">\n                                            <field name="NOTE">F</field>\n                                            <field name="OCTAVE">4</field>\n                                          </block>\n                                        </value>\n                                        <next>\n                                          <block type="music_beats" id="$i:EzSau(-d8g]0CHu09">\n                                            <field name="BEAT1">FALSE</field>\n                                            <field name="BEAT2">FALSE</field>\n                                            <field name="BEAT3">FALSE</field>\n                                            <field name="BEAT4">FALSE</field>\n                                            <field name="BEAT5">FALSE</field>\n                                            <field name="BEAT6">FALSE</field>\n                                            <field name="BEAT7">TRUE</field>\n                                            <field name="BEAT8">FALSE</field>\n                                            <value name="INSTRUMENT">\n                                              <block type="note_name" id="M9t4z1h$pj;Drs+FCp%W">\n                                                <field name="NOTE">E</field>\n                                                <field name="OCTAVE">4</field>\n                                              </block>\n                                            </value>\n                                            <next>\n                                              <block type="music_beats" id="PY|ChrYVEQ3HFIny[$)~">\n                                                <field name="BEAT1">FALSE</field>\n                                                <field name="BEAT2">FALSE</field>\n                                                <field name="BEAT3">FALSE</field>\n                                                <field name="BEAT4">FALSE</field>\n                                                <field name="BEAT5">FALSE</field>\n                                                <field name="BEAT6">FALSE</field>\n                                                <field name="BEAT7">FALSE</field>\n                                                <field name="BEAT8">TRUE</field>\n                                                <value name="INSTRUMENT">\n                                                  <block\n                                                    type="note_name"\n                                                    id="qF#1ELh,v!s}*G8_,}H="\n                                                  >\n                                                    <field name="NOTE">D</field>\n                                                    <field name="OCTAVE">4</field>\n                                                  </block>\n                                                </value>\n                                              </block>\n                                            </next>\n                                          </block>\n                                        </next>\n                                      </block>\n                                    </next>\n                                  </block>\n                                </next>\n                              </block>\n                            </next>\n                          </block>\n                        </next>\n                      </block>\n                    </next>\n                  </block>\n                </statement>\n              </block>\n            </statement>\n          </block>\n        </statement>\n      </block>\n    </xml>\n    ',23:'import java.util.*;\n\npublic class MyProgram\n{\n    public static void main(String[] args)\n    {\n        Scanner s = new Scanner(System.in);\n        System.out.println("Welcome to the sandbox!");\n        System.out.print("What\'s your name? ");\n        String name = s.nextLine();\n        System.out.println("Nice to meet you, " + name + "!");\n        System.out.println("Let me write down your information in my hashmap so I don\'t forget.");\n        HashMap<String, Date> logBook = new HashMap<String, Date>();\n        logBook.put(name, new Date());\n        for (String key : logBook.keySet())\n        {\n            Date date = logBook.get(key);\n            System.out.println("First met " + key + " at " + date);\n        }\n    }\n}',61:'import javax.swing.*;\n\npublic class MyProgram {\n    public static void main(String[] args) {\n        //creating instance of JFrame\n        JFrame f= new JFrame();\n\n        JButton b1 = new JButton("Hello, World!");\n        b1.setBounds(90, 100, 180, 40);\n        f.add(b1);\n\n        f.setSize(400, 400);\n        f.setLayout(null);\n        f.setVisible(true);\n    }\n}',22:'public class MyProgram extends ConsoleProgram\n{\n    public void run()\n    {\n        // `println` is a method defined in ConsoleProgram\n        println("Hello, I\'m a console program!");\n        println("Here are some random numbers");\n        for (int i = 0; i < 6; i++) {\n            println(Randomizer.nextInt(1, 10));\n        }\n    }\n}',18:"public class KarelProgram extends Karel\n{\n    public void run()\n    {\n        move();\n        putBall();\n        move();\n        turnLeft();\n    }\n}",19:"public class SuperKarelProgram extends SuperKarel\n{\n    public void run()\n    {\n        move();\n        putBall();\n        turnLeft();\n        move();\n        turnRight();\n    }\n}",26:"public class MyProgram extends GraphicsProgram\n{\n    public void run()\n    {\n\n    }\n}",45:'#include <stdio.h>\n\nint main()\n{\n    printf("Hello World");\n    return 0;\n\n}',47:'#include "util.h"\n\nint main()\n{\n    cout << "Hello World!";\n    return 0;\n}',55:"print 'Hello World'",57:"function draw() {\n    ellipse(260, 200, 180, 180);\n    ellipse(220, 170, 30, 30);\n    ellipse(290, 170, 30, 30);\n    arc(260, 230, 100, 80, 0, PI, CHORD);\n}",87:"let ball, ground;\n\nfunction setup() {\n  new Canvas(400, 400);\n  world.gravity.y = 10;\n\n  ground = new Sprite();\n  ground.height = 30;\n  ground.width = width;\n  ground.y = height - ground.height / 2;\n  ground.color = '#4895ef';\n  ground.collider = 'static';\n}\n\nfunction draw() {\n  clear();\n  background('#4361ee');\n\n  if (frameCount % 20 == 0) {\n    ball = new Sprite();\n    ball.diameter = random(10, 20);\n    ball.x = random(0, width);\n    ball.y = -20;\n    ball.bounciness = 0.5;\n    ball.rotationDrag = 10;\n    ball.color = '#4cc9f0';\n  }\n}\n",58:"(+ 40 2)",60:"echo 'hello world'",50:"import React, { Component } from 'react';\nimport { AppRegistry, Text, View, StyleSheet } from 'react-native';\nimport Constants from 'expo-constants';\n\nexport default class App extends Component {\n    render() {\n        return (\n            <View style={styles.container}>\n                <Text style={styles.paragraph}>\n                    Change code in the editor and watch it change on your phone!\n                </Text>\n            </View>\n        );\n    }\n}\n\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n        alignItems: 'center',\n        justifyContent: 'center',\n        paddingTop: Constants.statusBarHeight,\n        backgroundColor: '#ecf0f1',\n    },\n    paragraph: {\n        margin: 24,\n        fontSize: 18,\n        fontWeight: 'bold',\n        textAlign: 'center',\n        color: '#34495e',\n    },\n});",51:'<!DOCTYPE html>\n<html>\n    <head>\n        <script src="https://aframe.io/releases/1.0.0/aframe.min.js"><\/script>\n    </head>\n    <body>\n        <a-scene>\n        <a-box\n            position="0 1 -5"\n            depth="2"\n            height="2"\n            width="2"\n            animation="\n                property: rotation;\n                from: 0 0 0;\n                to: 0 360 0;\n                dur: 2000;\n                easing: linear;\n                loop: true;\n            "\n            color="tomato">\n        </a-box>\n        </a-scene>\n    </body>\n</html>',73:'<!DOCTYPE html>\n<html>\n    <head>\n        <script src="https://static1.codehs.com/cdn/chsfirebase/latest/chsfirebase.min.js">\n        <\/script>\n    </head>\n    <body>\n        <h1>Set and load values from a database!</h1>\n        <p>Hit "get from DB" to get the data</p>\n        <p>Hit "set in DB" to set the data with the value in the text box</p>\n        <p>current value: <span id="db-value"></span></p>\n        <textarea id="set-value" value="" placeholder="enter a value"></textarea>\n        <button onclick="setInDB()">set in DB</button>\n        <button onclick="getFromDB()">get from DB</button>\n\n\n        <script>\n        firebase.initialize({\n            projectName: \'new_project\'\n        });\n\n        function getFromDB() {\n            firebase.database().ref().on(\'value\', function(result) {\n                document.querySelector(\'#db-value\').innerHTML = result;\n            });\n        }\n\n        function setInDB() {\n            var value = document.querySelector(\'#set-value\').value;\n            firebase.database().ref().set(value);\n        }\n        <\/script>\n    </body>\n</html>',63:"console.log('Hello World!');",65:"import sys, pygame\nimport random\nimport os\nos.environ['SDL_AUDIODRIVER'] = 'dsp'\n\npygame.init()\nsize = width, height = 480, 360\nspeed = [1, 1]\nscreen = pygame.display.set_mode(size, pygame.FULLSCREEN)\npygame.font.init()\nfont = pygame.font.Font(pygame.font.get_default_font(), 36)\nr = random.randint(0, 255)\ng = random.randint(0, 255)\nb = random.randint(0, 255)\nbouncer = font.render('Welcome to PyGame', False, (r, g, b))\nrect = bouncer.get_rect()\n\nwhile 1:\n    clock = pygame.time.Clock()\n    # Limit to 60 frames per second\n    clock.tick(60)\n    for event in pygame.event.get():\n        if event.type == pygame.QUIT: sys.exit()\n    rect.x += speed[0]\n    rect.y += speed[1]\n    if rect.left < 0 or rect.right > width:\n        speed[0] = -speed[0]\n        r = random.randint(0, 255)\n        g = random.randint(0, 255)\n        b = random.randint(0, 255)\n        bouncer = font.render('Welcome to PyGame', False, (r, g, b))\n    if rect.top < 0 or rect.bottom > height:\n        speed[1] = -speed[1]\n        r = random.randint(0, 255)\n        g = random.randint(0, 255)\n        b = random.randint(0, 255)\n        bouncer = font.render('Welcome to PyGame', False, (r, g, b))\n    screen.fill((0, 0, 0))\n    screen.blit(bouncer, (rect.x, rect.y))\n    pygame.display.flip()",62:"import tkinter as tk\nimport random\n\nwords = [\n    'function', 'variable', 'python', 'snake', 'codehs', 'karel', 'dog',\n    'turtle', 'tracy'\n]\nword = random.choice(words)\n\nroot = tk.Tk()\nroot.geometry('300x300')\nframe = tk.Frame(root)\nframe.pack()\n\ninstruction_label = tk.Label(root, bg='white', text=\"Type the word below!\")\ninstruction_label.pack()\n\nword_label_stringvar = tk.StringVar()\nword_label_stringvar.set(word)\nword_label = tk.Label(root, bg='white', textvariable=word_label_stringvar)\nword_label.pack()\n\n\nsv = tk.StringVar()\nsv.trace(\"w\", lambda name, index, mode, sv=sv: input_changed(sv))\ne = tk.Entry(root, textvariable=sv)\ne.pack()\n\ndef input_changed(sv):\n    global word\n    entry_input = sv.get()\n    if entry_input == word:\n        word = random.choice(words)\n        word_label_stringvar.set(word)\n        sv.set('')\n\nroot.mainloop()",56:"print('Welcome to Python 3!')",1:"move();\nturnLeft();\nmove();\nputBall();",2:"move();\nturnLeft();\nmove();\nturnRight();\nmove();\nputBall();",6:"paint(Color.red);\nmove();\npaint(Color.orange);\nmove();\npaint(Color.yellow);\nmove();\npaint(Color.green);\nmove();\npaint(Color.blue);\nmove();\npaint(Color.purple);",3:'println("Write and run JavaScript!");\n\nprintln("Take input from the user:");\nvar name = readLine("What\'s your name? ");\nprintln("Hi, " + name + "!");\n\nprintln("Use powerful Math functions:");\nvar circumferenceOfEarth = Math.PI * 2 * 6378.1;\nprintln(circumferenceOfEarth);\n\nprintln("Use advanced data structures:");\nvar phoneBook = {};\nphoneBook.karel = {\n    name: \'Karel\',\n    number: \'555-1234\'\n};\nprintln(phoneBook.karel.number);\n\nprintln("Use the Randomizer class to generate random numbers:");\nfor (var i = 0; i < 10; i++) {\n    println(Randomizer.nextInt(0, i));\n}',4:"var ball = new Circle(40);\nball.setPosition(getWidth()/2, getHeight()/2);\nadd(ball);\n\nfunction paintBall() {\n    ball.setColor(Randomizer.nextColor());\n}\n\nsetTimer(paintBall, 400);",13:"print 'Welcome to Python!'\n\nprint 'In Python, you can ask the user for input:'\nlikes_math = input('Do you like math? ')\n\nif likes_math == 'yes':\n    print 'Python loves math!'\n    import math\n    print math.cos(2*math.pi)\nelse:\n    print \"That's fine! Python is also great for manipulating strings.\"\n    string = 'hello, world!'\n    print string[7:9] + string[7] + string[-1]\n\nprint 'Use data structures in Python:'\nlunch_orders = {\n    \"karel\": \"tennis balls\",\n    \"tracy\": \"algae\"\n}\nfor name, order in lunch_orders.items():\n    print \"{} wants {}\".format(name, order)",15:'begin_fill()\ncolor("purple")\ncircle(60)\nend_fill()\n\nbegin_fill()\ncolor("blue")\ncircle(50)\nend_fill()\n\nbegin_fill()\ncolor("green")\ncircle(40)\nend_fill()\n\nbegin_fill()\ncolor("yellow")\ncircle(30)\nend_fill()\n\nbegin_fill()\ncolor("orange")\ncircle(20)\nend_fill()\n\nbegin_fill()\ncolor("red")\ncircle(10)\nend_fill()',77:'print("Hello world")',80:"console.log('Hello World!');",82:"import pandas as pd\nimport numpy as np",83:"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt"},DEFAULT_PROG_TYPES:{1:4,2:23,3:56,4:17,5:5,6:11,7:27,8:31,9:34,10:45,11:47,12:49,13:50,14:58,15:60,16:77,17:80,18:84},DOCUMENTATION_PROG_TYPES:[["a-frame",51],["arduino",68],["bit-interpreter-all",38],["c",45],["c++",47],["console",3],["firebase",73],["html",5],["java",12],["java-karel",18],["java-main",23],["karel",1],["markdown",49],["microbit",54],["processing",31],["python",13],["python-3-data-science",82],["python-graphics",62],["python-karel",48],["python-turtle",15],["python3",56],["react-native",50],["scheme",58],["sql",17],["swift",77],["webdev",74]],ELEMENTARY:[93,94,6],ELM:27,ELM_REPL:28,FILE_TREE_DEFAULTS:{5:{"index.html":'<h1>Make a webpage!</h1>\n<a href="second.html">Link to other pages!</a>',"second.html":"<h2>Try creating another file!</h2>"},22:{"Randomizer.java":'import java.util.*;\n\npublic class Randomizer{\n\n    public static Random theInstance = null;\n\n    public Randomizer(){\n\n    }\n\n    public static Random getInstance(){\n        if(theInstance == null){\n            theInstance = new Random();\n        }\n        return theInstance;\n    }\n\n    /**\n     * Return a random boolean value.\n     * @return True or false value simulating a coin flip.\n     */\n    public static boolean nextBoolean(){\n        return Randomizer.getInstance().nextBoolean();\n    }\n\n    /**\n     * This method simulates a weighted coin flip which will return\n     * true with the probability passed as a parameter.\n     *\n     * @param probability   The probability that the method returns true,\n     * a value between 0 to 1 inclusive.\n     * @return True or false value simulating a weighted coin flip.\n     */\n    public static boolean nextBoolean(double probability){\n        return Randomizer.nextDouble() < probability;\n    }\n\n    /**\n     * This method returns a random integer.\n     * @return A random integer.\n     */\n    public static int nextInt(){\n        return Randomizer.getInstance().nextInt();\n    }\n\n    /**\n     * This method returns a random integer between 0 and n, exclusive.\n     * @param n The maximum value for the range.\n     * @return A random integer between 0 and n, exclusive.\n     */\n    public static int nextInt(int n){\n        return Randomizer.getInstance().nextInt(n);\n    }\n\n    /**\n     * Return a number between min and max, inclusive.\n     * @param min   The minimum integer value of the range, inclusive.\n     * @param max   The maximum integer value in the range, inclusive.\n     * @return A random integer between min and max.\n     */\n    public static int nextInt(int min, int max){\n        return min + Randomizer.nextInt(max - min + 1);\n    }\n\n    /**\n     * Return a random double between 0 and 1.\n     * @return A random double between 0 and 1.\n     */\n    public static double nextDouble(){\n        return Randomizer.getInstance().nextDouble();\n    }\n\n    /**\n     * Return a random double between min and max.\n     * @param min The minimum double value in the range.\n     * @param max The maximum double value in the rang.\n     * @return A random double between min and max.\n     */\n    public static double nextDouble(double min, double max){\n        return min + (max - min) * Randomizer.nextDouble();\n    }\n\n    /**\n     * Return a random color.\n     * @return A random hex string that represents a color.\n     */\n    public static String nextColor(){\n        String randomNum = Integer.toHexString(Randomizer.nextInt(0, 16777216));\n        return "\'#" + randomNum + "\'";\n    }\n}\n'}},FIREBASE:73,FOLDER:90,FREE_RESPONSE:11,GRAPHICS:4,GRAPHICS_NO_CONSOLE:16,HTML:5,ITEM_TYPE_SPECIFIC_PROG_TYPES:{23:[21,24,25,64,67],25:[33],22:[37],8:[8],9:[9],16:[11],26:[40],24:[28,29,30],28:[42,44,43],29:[46],30:[52]},JAVA:12,JAVASCRIPT_FUNCTION:24,JAVASCRIPT_REPL:29,JAVA_CONSOLE:22,JAVA_GRAPHICS:26,JAVA_IO_TYPES:[12,22,23,64,75],JAVA_KAREL:18,JAVA_KAREL_TYPES:[18,19,20],JAVA_LANGUAGE_TYPES:[12,21,22,23,26,61,64,75,18,19,20],JAVA_MAIN:23,JAVA_METHOD:21,JAVA_METHOD_MAIN:64,JAVA_PROCESSING:75,JAVA_SERVER_GRAPHICS:61,JAVA_SERVER_TYPES:[12,21,22,23,26,61,64,75],JAVA_SUPER_KAREL:19,JAVA_ULTRA_KAREL:20,JS_ES6:91,JS_KAREL_TYPES:[1,2,6],KAREL:1,KAREL_TYPES:[1,2,6,18,19,20,48,69,70],LANGUAGE:{1:1,2:1,6:1,4:1,3:1,5:5,13:3,11:6,12:2,10:3,15:3,48:3,69:3,70:3,16:1,17:4,18:2,19:2,20:2,21:2,22:2,23:2,24:1,25:3,26:2,27:7,28:7,29:1,30:3,31:8,32:1,33:6,34:9,35:9,36:9,37:6,38:9,39:9,40:6,42:6,43:6,44:6,45:10,46:6,47:11,49:12,50:13,51:5,52:6,53:1,54:1,59:1,55:3,56:3,57:1,58:14,60:15,61:2,62:3,63:1,64:2,65:3,66:3,67:11,68:11,71:3,72:5,73:5,74:5,75:2,76:3,77:16,78:3,79:3,80:1,82:3,83:3,84:18,85:19,86:20,87:1,90:6,91:1,92:3,93:21,94:21},LUA:85,MARKDOWN:49,MICROBIT:54,MULTIFILE_TYPES:[12,21,22,23,26,61,64,75,5,45,47,86,51,56,58,60,72,73,74,77,80,82,83,11,84,61,62,65,75,76,83],NODE:80,NONE:0,NO_RUN_TAB_PROG_TYPES:[54,68,11],NUMBER_BASE_TOOL:37,P5:57,P5_PLAY:87,PIXEL:32,PRESENTATION:40,PRETTY_STRINGS:{0:"None",1:"Karel",2:"SuperKarel",6:"UltraKarel",4:"JavaScript Graphics",3:"JavaScript Console",5:"HTML",8:"Quiz",9:"Badge",11:"Free Response",12:"Java",13:"Python 2",10:"Python (with canvas)",15:"Python (turtle)",48:"Python Karel",16:"JavaScript Graphics (no console)",17:"SQL",18:"Java (Karel)",19:"Java (SuperKarel)",20:"Java (UltraKarel)",21:"Java (method)",22:"Java (console)",23:"Java (main)",24:"JavaScript (function)",25:"Python (function)",26:"Java (graphics)",27:"Elm",28:"Elm (REPL)",29:"JavaScript (REPL)",30:"Python (REPL)",31:"Processing.js",32:"Pixel",33:"Traceroute",34:"Bit Interpreter (Color)",35:"Bit Interpreter (Custom Text)",36:"Bit Interpreter (Text)",37:"Number Base Tool",38:"Bit Interpreter (All)",39:"Bit Interpreter (Black & White)",40:"Presentation",41:"Python Tutor",42:"Article",43:"Video",44:"Text",81:"Embed",45:"C",46:"Data Explorer",47:"C++",49:"Markdown",50:"React Native",51:"Virtual Reality with A-Frame",52:"Survey",53:"Alexa",54:"Microbit",55:"Python 2",56:"Python 3",57:"p5.js",58:"Scheme",60:"Bash",59:"Music (Blockly)",61:"Java Swing",62:"Python 3 Graphics (tkinter)",63:"Vanilla JS",64:"Java Practice (main)",65:"Pygame",66:"Python 3 Practice",67:"C++ Practice",68:"Arduino",69:"Python Super Karel",70:"Python Ultra Karel",71:"Python Processing (Brython)",72:"Brython Web",73:"Firebase",74:"WebDev",75:"Java Processing",76:"Python Processing",77:"Swift",78:"Python 3 Graphics (Brython)",79:"Python 3 Console",80:"Node",82:"Python 3 Data Science",83:"Python 3 Data Science (Graphics)",84:"TypeScript",85:"Lua",86:"C#",87:"p5play",90:"Folder",91:"JavaScript ES6",92:"Python 3 Artificial Intelligence",93:"Scratch",94:"ScratchJr"},PROCESSING:31,PROG_TYPES_FOR_LANGUAGE:{1:[1,2,6,4,16,32,3,24,29,53,54,59,57,87,63,80],2:[23,22,21,26,61,64,75,18,19,20],3:[10,15,25,30,48,69,70,55,56,62,65,66,71,76,78,79,13,82,83],4:[17],5:[5,51,72,73,74],6:[0,8,9,11,33,37,40,42,43,44,46,52],7:[27,28],9:[34,35,36,38,39],8:[31],10:[45],11:[47,67,68],12:[49],13:[50],14:[58],15:[60],16:[77]},PROG_TYPE_CHOICES:[[0,"none"],[1,"karel"],[2,"superkarel"],[6,"ultrakarel"],[4,"graphics"],[3,"console"],[5,"html"],[8,"quiz"],[9,"chs-badge"],[13,"python"],[11,"free-response"],[12,"java"],[10,"python-canvas"],[15,"python-turtle"],[48,"python-karel"],[16,"graphics-no-console"],[17,"sql"],[18,"java-karel"],[19,"java-superkarel"],[20,"java-ultrakarel"],[21,"java-method"],[22,"java-console"],[23,"java-main"],[24,"javascript-function"],[25,"python-function"],[26,"java-graphics"],[27,"elm"],[28,"elm-repl"],[29,"javascript-repl"],[30,"python-repl"],[31,"processing"],[32,"pixel"],[33,"traceroute"],[34,"bit-interpreter-color"],[35,"bit-interpreter-text-custom"],[36,"bit-interpreter-text"],[37,"number-base-tool"],[38,"bit-interpreter-all"],[39,"bit-interpreter-bw"],[40,"presentation"],[41,"python-tutor"],[42,"connection-article"],[43,"connection-video"],[44,"connection-text"],[45,"c"],[46,"data-explorer"],[47,"c++"],[49,"markdown"],[50,"react-native"],[51,"a-frame"],[52,"survey"],[53,"alexa"],[54,"microbit"],[55,"python2"],[56,"python3"],[57,"p5"],[58,"scheme"],[60,"bash"],[59,"music-blockly"],[61,"java-server-graphics"],[62,"python-graphics"],[63,"vanilla-js"],[64,"java-method-main"],[65,"pygame"],[66,"python3-function"],[67,"c++-function"],[68,"arduino"],[69,"python-super-karel"],[70,"python-ultra-karel"],[71,"brython-processing"],[72,"brython-web"],[73,"firebase"],[74,"webdev"],[75,"java-processing"],[76,"python-processing"],[77,"swift"],[78,"brython-graphics"],[79,"brython-console"],[80,"node"],[82,"python-3-data-science"],[83,"python-3-data-science-graphics"],[84,"typescript"],[85,"lua"],[86,"c-sharp"],[87,"p5-play"],[90,"folder"],[91,"js-es6"],[92,"python-artificial-intelligence"],[93,"scratch"],[94,"scratchjr"]],PYGAME:65,PYTHON:13,PYTHON2:55,PYTHON3:56,PYTHON3_FUNCTION:66,PYTHON3_TYPES:[56,62,65,66,71,76,78,79,82,83],PYTHON_3_AI:92,PYTHON_3_DATA_SCIENCE:82,PYTHON_3_DATA_SCIENCE_GRAPHICS:83,PYTHON_CANVAS:10,PYTHON_FUNCTION:25,PYTHON_GRAPHICS:62,PYTHON_KAREL:48,PYTHON_KAREL_TYPES:[48,69,70],PYTHON_PROCESSING:76,PYTHON_REPL:30,PYTHON_SUPER_KAREL:69,PYTHON_TURTLE:15,PYTHON_TUTOR:41,PYTHON_TUTOR_TYPES:[13,55,"Hide these for now -- not ready for prime time with the debug button on editor run tab\n        PYTHON3,\n        JAVA_MAIN,\n        VANILLA_JS,\n        CPP,\n        C"],PYTHON_TYPES:[10,15,25,30,48,69,70,55,56,62,65,66,71,76,78,79,13,82,83],PYTHON_ULTRA_KAREL:70,QUIZ:8,REACT_NATIVE:50,SANDBOX_ADMIN_PROG_TYPES:[[26,"Java (graphics)"],[27,"Elm"],[32,"Pixel"],[53,"Alexa"],[54,"Microbit"],[60,"Bash"],[63,"Vanilla JS"],[71,"Python Processing (Brython)"],[72,"Brython Web"],[75,"Java Processing"],[76,"Python Processing"],[79,"Python 3 Console"],[80,"Node"],[84,"TypeScript"],[90,"Folder"],[85,"Lua"],[86,"C#"]],SANDBOX_DESCRIPTION:{4:"\n        Write JavaScript graphics programs with the help of the CodeHS teaching\n        libraries used in many of the CodeHS courses.\n        ",3:"\n        Write JavaScript console programs with the help of the CodeHS teaching\n        libraries used in many of the CodeHS courses.\n        ",1:"\n        Write a Karel program in JavaScript. This does not include turnRight or\n        turnAround by default\n        ",2:"\n        Write a Karel program in JavaScript. This includes turnRight and\n        turnAround by default.\n        ",6:"\n        Write a Karel program in JavaScript. This includes everything in\n        SuperKarel plus painting colors.\n        ",12:"\n        Learn how to program in Java, one of the most popular programming\n        languages used in the world! People use it every day to code, whether\n        it be for Android Phones, video games, or spaceships.\n        ",22:"\n        Java that extends ConsoleProgram by default to have added functionality.\n        ",23:"Standard Java with the main method.",61:"\n        Standard Java with a Graphical User Interface (GUI) for writing graphical Java programs.\n        ",18:"\n        Write a Karel program in Java. This does not include turnRight or\n        turnAround by default\n        ",19:"\n        Write a Karel program in Java. This includes turnRight and\n        turnAround by default.\n        ",20:"\n        Write a Karel program in Java. This includes everything in\n        SuperKarel plus painting colors.\n        ",45:"\n        Learn how to program in C, a complex and powerful language used in\n        low-level computer programming and Internet of Things devices.\n        ",47:"\n        Learn how to program in C++, the powerful successor of C used in data\n        science, machine learning, and large applications.\n        ",13:"\n        This runs Python 2 console programs with an in-browser implementation\n        using Skulpt. This is what is used in the current version of the\n        CodeHS Intro Python (Rainforest) course.\n        ",55:"\n        Learn how to program in Python, a language that is often used in Data\n        Analysis, Machine Learning, websites like CodeHS, and more!\n        ",56:"\n        This runs Python 3 console programs, the latest version of the\n        language. This program type lets you install packages for your\n        programs.\n        ",62:"\n        This runs Python 3 GUI programs, so you can draw graphics, make\n        GUIs, or build games with tkinter.\n        ",78:"\n        This runs Python 3 graphics programs using the Brython browser-based Python\n        library.\n        ",15:"\n        This runs graphical Turtle Graphics programs in Python. This is used\n        in the CodeHS courses that teach with Tracy the Turtle.\n        ",58:"\n        Scheme is a minimalist language great for teaching the mathematical\n        foundations of programming.\n        ",63:"\n        Write JavaScript programs using standard JavaScript ES5 features\n        without any additional libraries by default.\n        ",59:"\n        Use JavaScript based block coding to make musical beats and songs.\n        ",5:"\n        Build a website with HTML, CSS, and JavaScript.\n        ",51:"\n        Build a Virtual Reality program that will work in a web browser or\n        on a smartphone. This uses an HTML and JavaScript based VR library\n        called A-Frame.\n        ",50:"\n        Program a mobile app using the JavaScript based React Native. You\n        can use native components and test in the web or on your phone.\n        ",31:"\n        Code with a JavaScript based implementation of the popular graphics\n        library.\n        ",57:"\n        Code with a JavaScript based implementation of the updated graphics\n        library based on Processing.\n        ",87:"\n        Code with the p5play.js game design library.\n        ",38:"\n        Use binary or hexadecimal to create bit-visualizations. This is used\n        in the CodeHS Computing Ideas and AP CSP courses.\n        ",65:"\n        Use Python to create graphical games.\n        ",71:"\n        Write Processing code in Python to build graphical programs. This uses Brython,\n        a Python 3 runner for the web.\n        ",72:"\n        Build websites with the Brython library that lets you manipulate your web pages\n        and write scripts in python.\n        ",17:"\n        Write SQL queries to build a database and query from it all online.\n        ",77:"\n        Write apps using Apple's own language.\n        ",48:"\n        Write a Karel program in Python. This does not include turn_right or\n        turn_around by default.\n        ",70:"\n        Write an UltraKarel program in Python. This includes all SuperKarel commands as well as\n        all Paint commands.\n        ",82:"\n        Use the powerful data science libraries numpy and pandas in Python 3.\n        ",83:"\n        Use the powerful data science libraries numpy, pandas, and matplotlib in Python 3.\n        Includes graphical output for graphing and visualization.\n        "},SANDBOX_PROG_TYPES:[[3,"JavaScript Console"],[4,"JavaScript Graphics"],[1,"Karel"],[2,"SuperKarel"],[6,"UltraKarel"],[59,"Music (Blockly)"],[5,"HTML"],[23,"Java (main)"],[61,"Java Swing"],[22,"Java (console)"],[18,"Java (Karel)"],[19,"Java (SuperKarel)"],[31,"Processing.js"],[56,"Python 3"],[15,"Python (turtle)"],[74,"WebDev"],[73,"Firebase"],[51,"Virtual Reality with A-Frame"],[50,"React Native"],[45,"C"],[47,"C++"],[38,"Bit Interpreter (All)"],[78,"Python 3 Graphics (Brython)"],[62,"Python 3 Graphics (tkinter)"],[65,"Pygame"],[57,"p5.js"],[17,"SQL"],[48,"Python Karel"],[69,"Python Super Karel"],[70,"Python Ultra Karel"],[82,"Python 3 Data Science"],[83,"Python 3 Data Science (Graphics)"],[77,"Swift"],[58,"Scheme"],[11,"Free Response"],[93,"Scratch"],[94,"ScratchJr"],[87,"p5play"]],SCHEME:58,SCRATCH:93,SCRATCHJR:94,SCRATCHPAD_DEFAULTS:{21:"/* This is the Scratchpad!\nThis file is not graded, but you can use it to test your code.\n\nYou can write and test your method in the Scratchpad, but make\nsure to copy and paste it into the Unit Test file before checking\nyour answer. Remember to only copy and paste the method you want\nto submit, not all of your tests.\n*/\n\npublic class Scratchpad extends ConsoleProgram\n{\n    public void run()\n    {\n        // Add your own tests here\n    }\n\n    // Copy and paste your Unit Test method here\n}\n",64:"/* This is the Scratchpad!\nThis file is not graded, but you can use it to test your code.\n\nYou can write and test your method in the Scratchpad, but make\nsure to copy and paste it into the Unit Test file before checking\nyour answer. Remember to only copy and paste the method you want\nto submit, not all of your tests.\n*/\n\npublic class Scratchpad\n{\n    public static void main(String[] args)\n    {\n        // Add your own tests here\n    }\n\n    // Copy and paste your Unit Test method here\n}\n",24:"/* This is the Scratchpad!\nThis file is not graded, but you can use it to test your code.\n\nYou can write and test your function in the Scratchpad, but make\nsure to copy and paste it into the Unit Test file before checking\nyour answer. Remember to only copy and paste the function you want\nto submit, not all of your tests.\n*/\n\nfunction start(){\n    // Add your own tests here\n}\n",25:'""" This is the Scratchpad!\nThis file is not graded, but you can use it to test your code.\n\nYou can write and test your function in the Scratchpad, but make\nsure to copy and paste it into the Unit Test file before checking\nyour answer. Remember to only copy and paste the function you want\nto submit, not all of your tests.\n"""\n\n# Add your own tests here\n',66:'""" This is the Scratchpad!\nThis file is not graded, but you can use it to test your code.\n\nYou can write and test your function in the Scratchpad, but make\nsure to copy and paste it into the Unit Test file before checking\nyour answer. Remember to only copy and paste the function you want\nto submit, not all of your tests.\n"""\n\n# Add your own tests here\n',67:"/* This is the Scratchpad!\nThis file is not graded, but you can use it to test your code.\n\nYou can write and test your function in the Scratchpad, but make\nsure to copy and paste it into the Unit Test file before checking\nyour answer. Remember to only copy and paste the function you want\nto submit, not all of your tests.\n*/\n\n// Add your own tests here\n"},SERVER_GRAPHICS_TYPES:[61,62,65,75,76,83],SQL:17,STRINGS:{0:"none",1:"karel",2:"superkarel",6:"ultrakarel",4:"graphics",3:"console",5:"html",8:"quiz",9:"chs-badge",13:"python",11:"free-response",12:"java",10:"python-canvas",15:"python-turtle",16:"graphics-no-console",17:"sql",18:"java-karel",19:"java-superkarel",20:"java-ultrakarel",21:"java-method",22:"java-console",23:"java-main",24:"javascript-function",25:"python-function",26:"java-graphics",27:"elm",28:"elm-repl",29:"javascript-repl",30:"python-repl",48:"python-karel",31:"processing",32:"pixel",33:"traceroute",34:"bit-interpreter-color",35:"bit-interpreter-text-custom",36:"bit-interpreter-text",37:"number-base-tool",38:"bit-interpreter-all",39:"bit-interpreter-bw",40:"presentation",41:"python-tutor",42:"connection-article",43:"connection-video",44:"connection-text",81:"connection-embed",45:"c",46:"data-explorer",47:"c++",49:"markdown",50:"react-native",51:"a-frame",52:"survey",53:"alexa",54:"microbit",55:"python2",56:"python3",57:"p5",58:"scheme",59:"music-blockly",60:"bash",61:"java-server-graphics",62:"python-graphics",63:"vanilla-js",64:"java-method-main",65:"pygame",66:"python3-function",67:"c++-function",68:"arduino",69:"python-super-karel",70:"python-ultra-karel",71:"brython-processing",72:"brython-web",73:"firebase",74:"webdev",75:"java-processing",76:"python-processing",77:"swift",78:"brython-graphics",79:"brython-console",80:"node",82:"python-3-data-science",83:"python-3-data-science-graphics",84:"typescript",85:"lua",86:"c-sharp",87:"p5-play",90:"folder",91:"js-es6",92:"python-artificial-intelligence",93:"scratch",94:"scratchjr"},SUPER_KAREL:2,SURVEY:52,SWIFT:77,TRACEROUTE:33,TUTORIAL_PROG_TYPES:[[3,"JavaScript Console"],[4,"JavaScript Graphics"],[23,"Java (main)"],[22,"Java (console)"],[59,"Music (Blockly)"],[57,"p5.js"],[87,"p5play"],[80,"Node"],[56,"Python 3"],[15,"Python (turtle)"],[5,"HTML"],[51,"Virtual Reality with A-Frame"],[60,"Bash"],[45,"C"],[47,"C++"],[58,"Scheme"],[84,"TypeScript"]],TYPESCRIPT:84,ULTRA_KAREL:6,UNIT_TEST_PROG_TYPES:{2:21,1:24,3:66,11:67},VANILLA_JS:63,WEB_DEV:74},ProgrammingLanguage:{ADMIN_LANGUAGE_CHOICES:[7,6,10,12,14,15,17,18,19,20],ALL_LANGUAGE_CHOICES:[1,2,3,4,5,8,13,11,9,7,6,10,12,14,15,17,18,19,20],BASH:15,BINARY:9,BLOCK_CODING:23,C:10,CHOICES_INVERSE:{javascript:1,java:2,python:3,html:5,"c++":11,cpp:11,sql:4},CPP:11,CSS:51,C_SHARP:20,DEFAULT_FILENAME:{1:"default.js",2:"MyProgram.java",3:"main.py",4:"query.sql",5:"index.html",6:"default.txt",7:"main.elm",8:"default.pde",9:"default.bin",10:"main.c",11:"main.cpp",51:"styles.css",12:"file.md",13:"default.jsx",14:"script.scm",15:"main.sh",16:"main.swift",17:"default.js",18:"index.ts",19:"main.lua",20:"main.cs",21:""},ELM:7,FILE_SUFFIX:{1:".js",2:".java",3:".py",4:".sql",5:".html",6:".txt",7:".elm",8:".pde",9:".bin",10:".c",11:".cpp",51:".css",12:".md",13:".jsx",14:".scm",15:".sh",16:".swift",17:".js",18:".ts",19:".lua",20:".cs"},GENERAL:50,GLOSSARY_LANGUAGE_CHOICES:[[1,"JavaScript"],[3,"Python"],[2,"Java"],[5,"HTML"],[51,"CSS"],[11,"C++"],[50,"General"]],HTML:5,JAVA:2,JAVASCRIPT:1,LANGUAGE_CHOICES:[[1,"javascript"],[2,"java"],[3,"python"],[4,"sql"],[5,"html"],[6,"plaintext"],[7,"elm"],[8,"processing"],[9,"bin"],[10,"c"],[11,"c++"],[12,"markdown"],[13,"react-native"],[14,"scheme"],[15,"bash"],[16,"swift"],[17,"node"],[19,"lua"],[20,"c#"],[18,"typescript"]],LUA:19,MAIN_PROG_LANGUAGE_CHOICES:[[0,"none"],[1,"javascript"],[2,"java"],[3,"python"],[4,"sql"],[5,"html"],[7,"elm"],[8,"processing"],[9,"bin"],[10,"c"],[11,"c++"],[12,"markdown"],[19,"lua"],[20,"c#"],[21,"scratch"],[22,"scratch-jr"],[23,"block-coding"],[24,"pseudocode"]],MARKDOWN:12,NODE:17,NONE:0,PLAIN_TEXT:6,PRETTY_STRINGS:{1:"JavaScript",2:"Java",3:"Python",4:"SQL",5:"HTML",6:"PlainText",7:"Elm",8:"Processing (Beta)",9:"Binary",10:"C",11:"C++",12:"Markdown",51:"CSS",50:"General",13:"React Native",14:"Scheme",15:"Bash",16:"Swift",17:"Node",18:"TypeScript",19:"Lua",20:"C#",21:"Scratch",22:"ScratchJr",23:"Block Coding",24:"Pseudocode",0:"None"},PROCESSING:8,PSEUDOCODE:24,PUBLIC_LANGUAGE_CHOICES:[1,2,3,4,5,8,13,11,9],PYTHON:3,REACT_NATIVE:13,SANDBOX_PROG_LANGUAGE_CHOICES:[2,1,3,5,11,4],SCHEME:14,SCRATCH:21,SCRATCH_JR:22,SQL:4,STRINGS:{1:"javascript",2:"java",3:"python",4:"sql",5:"html",6:"plaintext",7:"elm",8:"processing",9:"bin",10:"c",11:"c++",12:"markdown",51:"css",50:"general",13:"react-native",14:"scheme",15:"bash",16:"swift",17:"node",18:"typescript",19:"lua",20:"c#",21:"scratch",22:"scratch-jr",23:"block-coding",24:"pseudocode",0:"none"},SWIFT:16,TYPESCRIPT:18,UNIT_TEST_LANGUAGE_CHOICES:[[1,"JavaScript"],[3,"Python"],[2,"Java"]]},ProjectTag:{CHOICES:["JavaScript","Java","Python","Graphics","Web Design","Games","Karel","Tracy","Ghosts","Exploration","Nature","Virtual Reality","Mouse Events","Interdisciplinary"],STRINGS:{}},QOTD:{APCSA:280872,APCSP:280871,AP_COURSE_STRINGS:["apcsa","apcsp"],COURSE_STRING_TO_COURSE_ID:{apcsa:6165,apcsp:6512},COURSE_STRING_TO_TEACHER_COURSE_ID:{apcsa:280872,apcsp:280871,team:127511,js:279594,python:280870},JAVASCRIPT:279594,PRETTY_STRINGS:{280872:"AP CSA",280871:"AP CSP",127511:"Team",279594:"Javascript",280870:"Python"},PUBLIC_QOTD_CHOICES:[[280872,"AP CSA"],[280871,"AP CSP"],[279594,"Javascript"],[280870,"Python"]],PUBLIC_QOTD_STRINGS:["apcsa","apcsp","js","python"],PUBLIC_QOTD_TEACHER_COURSE_IDS:[280872,280871,279594,280870],PYTHON:280870,QOTD_TEACHER_COURSE_IDS:[280872,280871,127511,279594,280870],STRINGS:{},TEACHER_COURSE_ID_TO_COURSE_STRING:{280872:"apcsa",280871:"apcsp",127511:"team",279594:"js",280870:"python"},TEAM:127511,TEAM_QOTD_CHOICES:[[127511,"Team"]]},Quarter:{MONTH_TO_QUARTER:[0,1,1,1,2,2,2,3,3,3,4,4,4],Q1:1,Q2:2,Q3:3,Q4:4,QUARTER_TO_MONTHS:{1:[1,2,3],2:[4,5,6],3:[7,8,9],4:[10,11,12]},STRINGS:{}},Queue:{ADMIN_QUEUE_ID:6,STRINGS:{},TUTOR_QUEUE_ID:5},QuizInfo:{DEFAULT:{question_banks:[],total_questions:0,quiz_result_display:59,structure_version:"1.0"},DEFAULT_BANK:{question_ids:[],count:0},REQUIRED_BANK_FIELDS:["name","question_ids","count"],STRINGS:{}},QuizQuestion:{ANSWER_TYPE_CHOICES:[[10,"Single Response"],[20,"Multi Response"]],CHECK_BOXES:1,LONG_ANSWER:3,MULTIPLE_CHOICE:0,MULTIPLE_CHOICE_GRADING:4,MULTI_RESPONSE:20,QUESTION_TYPE_CHOICES:[[0,"Multiple Choice"],[1,"Check Boxes"],[2,"Short Answer"],[3,"Long Answer"],[4,"Multiple Choice Grading"]],SHORT_ANSWER:2,SINGLE_RESPONSE:10,STRINGS:{0:"Multiple Choice",1:"Check Boxes",2:"Short Answer",3:"Long Answer",4:"Multiple Choice Grading",10:"Single Response",20:"Multi Response"}},QuizQuestionReviewStatus:{CHOICES:[[0,"None"],[1,"Has Error"],[2,"Confusing"],[3,"Fixed"],[4,"Good Question"]],CONFUSING:2,FIXED:3,GOOD_QUESTION:4,HAS_ERROR:1,NONE:0,STRINGS:{0:"None",1:"Has Error",2:"Confusing",3:"Fixed",4:"Good Question"}},QuoteRequest:{CHOICES:[[1,"Quote"],[2,"Demo"],[3,"District Trial"],[4,"Conference Visit"],[5,"Instant Quote"],[6,"Renewal Instant Quote"]],CONFERENCE_VISIT:4,COURSE_CHOICES:[["Intro to Computer Science (JavaScript)","Intro to Computer Science (JavaScript)"],["Intro to Computer Science (Python)","Intro to Computer Science (Python)"],["AP Computer Science Principles","AP Computer Science Principles"],["AP Computer Science A","AP Computer Science A"],["Computing Ideas","Computing Ideas"],["Web Design","Web Design"],["Intro to Virtual Reality","Intro to Virtual Reality"],["Professional Development","Professional Development"],["Making Mobile Apps on CodeHS","Making Mobile Apps on CodeHS"],["Cybersecurity","Cybersecurity"]],DEMO:2,DISTRICT_TRIAL:3,GRADE_LEVEL_CHOICES:[["K","K"],["1st","1st"],["2nd","2nd"],["3rd","3rd"],["4th","4th"],["5th","5th"],["6th","6th"],["7th","7th"],["8th","8th"],["9th","9th"],["10th","10th"],["11th","11th"],["12th","12th"]],INSTANT_QUOTE:5,QUOTE:1,RENEWAL_INSTANT_QUOTE:6,SETTING_CHOICES:[["Classroom","Classroom"],["School-wide","School-wide"],["District-wide","District-wide"],["After School Program","After School Program"],["Summer Program","Summer Program"],["Others","Others"]],STRINGS:{1:"Quote",2:"Demo",3:"District Trial",4:"Conference Visit",5:"Instant Quote",6:"Renewal Instant Quote"},TIMELINE_CHOICES:[["Spring 2022","Spring 2022"],["Summer 2022","Summer 2022"],["Fall 2022","Fall 2022"]]},QuoteRequestCreatedByType:{CHOICES:[[0,"Team Member"],[1,"Logged Out"],[2,"User"]],LOGGED_OUT:1,STRINGS:{0:"Team Member",1:"Logged Out",2:"User"},TEAM_MEMBER:0,USER:2},QuoteRequestNumSections:{CHOICES:[["","-- Select Number of Sections --"],[1,"1 Section (Up to 30 Students)"],[2,"2 Sections (Up to 60 Students)"],[3,"3 Sections (Up to 90 Students)"],[4,"4 Sections (Up to 120 Students)"],[5,"5 Sections (Up to 150 Students)"],[6,"6+ Sections (Over 150 Students)"]],STRINGS:{}},QuoteRequestPlan:{ALL_CHOICES:[["Free Plan","Free Plan"],["Pro Plan","Pro Plan"],["Super Plan","Super Plan"],["Professional Development","Professional Development"],["Create a Computer Science Pathway","Create a Computer Science Pathway"]],CHOICES:[["Free Plan","Free Plan"],["Pro Plan","Pro Plan"],["Super Plan","Super Plan"]],CS_PATHWAY:"Create a Computer Science Pathway",FREE:"Free Plan",PD:"Professional Development",PRO:"Pro Plan",STRINGS:{},SUPER:"Super Plan"},QuoteRequestSource:{CHOICES:[[0,"Unknown"],[1,"Newsletter"],[2,"Conference"],[3,"PD Event"],[4,"Facebook"],[5,"Twitter"],[6,"Google"],[7,"Referral"],[8,"Podcast"],[9,"Other"]],CONFERENCE:2,FACEBOOK:4,FORM_CHOICES:[["","-- Select One --"],[1,"Newsletter"],[2,"Conference"],[3,"PD Event"],[4,"Facebook"],[5,"Twitter"],[6,"Google"],[7,"Referral"],[8,"Podcast"],[9,"Other"]],GOOGLE:6,NEWSLETTER:1,OTHER:9,PD_EVENT:3,PODCAST:8,REFERRAL:7,STRINGS:{0:"Unknown",1:"Newsletter",2:"Conference",3:"PD Event",4:"Facebook",5:"Twitter",6:"Google",7:"Referral",8:"Podcast",9:"Other"},TWITTER:5,UNKNOWN:0},QuoteRequestStatus:{CHOICES:[[0,"Unknown"],[1,"Created"],[2,"Ready"],[3,"Expired"],[4,"Deleted"],[5,"Invalid"]],CREATED:1,DELETED:4,EXPIRED:3,INVALID:5,READY:2,STRINGS:{0:"Unknown",1:"Created",2:"Ready",3:"Expired",4:"Deleted",5:"Invalid"},UNKNOWN:0},RQBStatus:{APPROVED:20,EDITOR_GROUP:"RQB Editor",NOT_SUBMITTED:0,REJECTED:30,SEED:5,STATUS_CHOICES:[[0,"Not Submitted"],[5,"Seed"],[10,"Submitted"],[20,"Approved"],[30,"Rejected"]],STATUS_STRINGS:{0:"Not Submitted",5:"Seed",10:"Submitted",20:"Approved",30:"Rejected"},STRINGS:{},SUBMITTED:10,WRITER_GROUP:"RQB Writer"},RecognitionType:{ADAPTABLE:6,CHOICES:[[0,"Encourage Teaching and Learning"],[1,"High Impact"],[2,"Make It Fun and Creative"],[4,"Get the job done"],[5,"Bring context and big picture awareness"],[6,"Adaptable"],[7,"Growth Mindset"],[8,"Team player"],[9,"Constructive and solution oriented"],[10,"Good vibes"],[11,"Follow through"],[12,"Good Documentation"],[13,"Collaboration"],[14,"Communication"],[15,"Nice!"]],COLLABORATION:13,COMMUNICATION:14,CONSTRUCTIVE:9,CONTEXT:5,DIRECT_IMPACT:1,FOLLOW_THROUGH:11,FUN_AND_CREATIVE:2,GET_THE_JOB_DONE:4,GOOD_DOCUMENTATION:12,GOOD_VIBES:10,GROWTH_MINDSET:7,NICE:15,STRINGS:{0:"Encourage Teaching and Learning",1:"High Impact",2:"Make It Fun and Creative",4:"Get the job done",5:"Bring context and big picture awareness",6:"Adaptable",7:"Growth Mindset",8:"Team player",9:"Constructive and solution oriented",10:"Good vibes",11:"Follow through",12:"Good Documentation",13:"Collaboration",14:"Communication",15:"Nice!"},TEACHING_AND_LEARNING:0,TEAM_PLAYER:8},Referral:{PAID:3,SENT:1,SIGNED_UP:2,STATUS_CHOICES:[[1,"SENT"],[2,"SIGNED_UP"],[3,"PAID"]],STRINGS:{1:"SENT",2:"SIGNED_UP",3:"PAID",11:"VIA_EMAIL",12:"VIA_LINK"},TYPE_CHOICES:[[11,"VIA_EMAIL"],[12,"VIA_LINK"]],VIA_EMAIL:11,VIA_LINK:12},RequestMirroring:{CONNECT_TIMEOUT:3.05,PROTOCOL:"https://",READ_TIMEOUT:.005,STRINGS:{},URL_BLACKLIST:["/logout","/mask","/unmask","/toggle_teacher_mode","/manage_account","/change_password","/forgot_password","/reset_password","/send_password_reset"],USER_AGENT:"MirrorMiddleware"},ResourceType:{CHOICES:[[0,"Handout"],[1,"Lesson Plan"],[2,"Course Marketing"]],COURSE_MARKETING:2,HANDOUT:0,LESSON_PLAN:1,STRINGS:{0:"Handout",1:"Lesson Plan",2:"Course Marketing"}},RevenueType:{ACCRUAL_ENTRY_CHOICES:[[10,"New"],[30,"Renewal"],[40,"Under Contract"]],ADDITIONAL_ORDER:20,CHOICES:[[10,"New"],[20,"Additional Order"],[30,"Renewal"],[40,"Under Contract"]],NEW:10,RENEWAL:30,STRINGS:{10:"New",20:"Additional Order",30:"Renewal",40:"Under Contract"},UNDER_CONTRACT:40},RewardPoints:{CHOICES:[[0,"Teacher Activity"],[1,"Grading"],[2,"Student Activity"]],GRADING:1,STRINGS:{0:"Teacher Activity",1:"Grading",2:"Student Activity"},STUDENT_ACTIVITY:2,TEACHER_ACTIVITY:0},RewardPointsStatus:{CHOICES:[[1,"Earned"]],EARNED:1,STRINGS:{1:"Earned"}},RosterImportRole:{STRINGS:{},STUDENT:"student",TEACHER:"teacher"},SalesforceAPI:{MAX_BULK_BATCH_SIZE:1e4,STRINGS:{}},SalesforceHTTPStatusCode:{CREATED:201,STRINGS:{},UPDATED:204},SalesforceRecordType:{ADDITIONAL_ORDER_LEA_OPPORTUNITY:"0125G000000fbeRQAQ",NEW_LEA_OPPORTUNITY:"012f4000000SgTAAA0",RENEWAL_LEA_OPPORTUNITY:"012f4000000SgTFAA0",STRINGS:{}},SalesforceStage:{CASUAL_INTEREST:3,CHOICES:[[0,"0: Lead"],[1,"1: Engaged"],[2,"2: Discovery"],[3,"3: Casual Interest"],[4,"4: Strong Interest"],[5,"5: Verbal Yes"],[6,"6: Closed Won"],[7,"6: Closed Lost"],[8,"6: Closed Disqualified"]],CLOSED_DISQUALIFIED:8,CLOSED_LOST:7,CLOSED_WON:6,DISCOVERY:2,ENGAGED:1,LEAD:0,STRINGS:{0:"0: Lead",1:"1: Engaged",2:"2: Discovery",3:"3: Casual Interest",4:"4: Strong Interest",5:"5: Verbal Yes",6:"6: Closed Won",7:"6: Closed Lost",8:"6: Closed Disqualified"},STRONG_INTEREST:4,VALUES:{"0: Lead":0,"1: Engaged":1,"2: Discovery":2,"3: Casual Interest":3,"4: Strong Interest":4,"5: Verbal Yes":5,"6: Closed Won":6,"6: Closed Lost":7,"6: Closed Disqualified":8},VERBAL_YES:5,key:8,val:"6: Closed Disqualified"},SampleLesson:{SAMPLE_LESSONS:{upper:6639946,lower:6640240,comparing_organisms:6476398,what_is_a_computer:6640216,cs_concepts:6640216,hardware:7167945,pop_the_balloons:9248220,changes_in_environment:6991252,impacts_of_technology:6639947,training_ai_using_data_k_1:10067909,training_ai_using_data_2_5:10088917},STRINGS:{}},SatisfactionRating:{APCSP_PD_REVIEW:8,AP_JAVA_PD_REVIEW:9,CHOICES:[[0,"Teacher Email Campaign"],[1,"Student Survey"],[2,"UserVoice"],[3,"Intro PD Review"],[4,"Teacher Survey"],[5,"Computing Ideas PD Review"],[6,"Python PD Review"],[7,"Web Design PD Review"],[8,"AP CSP PD Review"],[9,"AP CSA PD Review"]],CI_PD_REVIEW:5,PD_REVIEW:3,PYTHON_PD_REVIEW:6,STRINGS:{0:"Teacher Email Campaign",1:"Student Survey",2:"UserVoice",3:"Intro PD Review",4:"Teacher Survey",5:"Computing Ideas PD Review",6:"Python PD Review",7:"Web Design PD Review",8:"AP CSP PD Review",9:"AP CSA PD Review"},STUDENT_SURVEY:1,TEACHER_EMAIL_CAMPAIGN:0,TEACHER_SURVEY:4,USER_VOICE:2,WEB_PD_REVIEW:7},SavedBlob:{EXAMPLE:2,SAVE_TYPE_CHOICES:[[0,"Student Save"],[1,"Starter Code"],[2,"Example"]],SAVE_TYPE_STRINGS:{0:"Student Save",1:"Starter Code",2:"Example"},STARTER_CODE:1,STRINGS:{},STUDENT_SAVE:0},School:{CHARTER:2,CLASS_STRINGS:{0:"public",1:"private",2:"charter",3:"vocational",4:"homeschool",5:"university",7:"community-college",6:"other",8:"cont-education",9:"extra-org",10:"middle-school",11:"high-school",12:"college",13:"graduate",14:"other"},COLLEGE:12,COMMUNITY_COLLEGE:7,CONTINUING_EDUCATION:8,CS_TEACHER:26,DISTRICT_ADMIN:24,EXTRACURRICULAR_ORG:9,GRADUATE:13,HIGH_SCHOOL:11,HOMESCHOOL:4,MIDDLE_SCHOOL:10,OTHER_LEVEL:14,OTHER_ROLE:25,OTHER_TYPE:6,PRINCIPAL:21,PRIVATE:1,PUBLIC:0,SCHOOL_ADMIN:23,SCHOOL_LEVELS:[[11,"High School"],[10,"Middle School"],[12,"College"],[13,"Graduate"],[14,"Other"]],SCHOOL_ROLES:[[20,"Teacher"],[26,"CS Teacher"],[21,"Principal"],[22,"Tech Coordinator"],[23,"School Admin"],[24,"District Admin"],[25,"Other"]],SCHOOL_TYPES:[[0,"Public"],[1,"Private"],[2,"Charter"],[3,"Vocational"],[4,"Homeschool"],[5,"University"],[7,"Community College"],[8,"Continuing Education"],[9,"Extracurricular Organization"],[6,"Other"]],STRINGS:{0:"Public",1:"Private",2:"Charter",3:"Vocational",4:"Homeschool",5:"University",7:"Community College",8:"Continuing Education",9:"Extracurricular Organization",6:"Other",10:"Middle School",11:"High School",12:"College",13:"Graduate",14:"Other",20:"Teacher",21:"Principal",22:"Tech Coordinator",23:"School Admin",24:"District Admin",25:"Other",26:"CS Teacher"},TEACHER:20,TECH_COORDINATOR:22,UNIVERSITY:5,VOCATIONAL:3},SchoolAdminPermission:{ALL:200,CHOICES:[[0,"None"],[100,"View"],[200,"All"]],NONE:0,STRINGS:{0:"None",100:"View",200:"All"},VIEW:100},SchoolAdminType:{ASSISTANT_PRINCIPAL:2,ASSISTANT_SUPERINTENDENT:7,CHOICES:[[0,"Administrative Position"],[1,"School Principal"],[2,"Assistant Principal"],[3,"Technology Coordinator"],[4,"CTE Director"],[5,"Director of Curriculum"],[6,"Superintendent"],[7,"Assistant Superintendent"],[8,"Director of Education Technology"],[9,"Department Chair"],[10,"STEM Director"]],CTE_DIRECTOR:4,DEPARTMENT_CHAIR:9,DIRECTOR_OF_CURRICULUM:5,DIRECTOR_OF_EDUCATION_TECHNOLOGY:8,GENERAL:11,NONE:0,SCHOOL_PRINCIPAL:1,STEM_DIRECTOR:10,STRINGS:{0:"Administrative Position",1:"School Principal",2:"Assistant Principal",3:"Technology Coordinator",4:"CTE Director",5:"Director of Curriculum",6:"Superintendent",7:"Assistant Superintendent",8:"Director of Education Technology",9:"Department Chair",10:"STEM Director"},SUPERINTENDENT:6,TECHNOLOGY_COORDINATOR:3},SchoolLevel:{CHOICES:[[-1,"Unknown"],[0,"Unknown"],[9,"Elementary School"],[10,"Middle School"],[11,"High School"],[12,"College"],[13,"Graduate"],[14,"Other"],[15,"District"]],CHOICES_NO_UNKNOWN:[[9,"Elementary School"],[10,"Middle School"],[11,"High School"],[12,"College"],[13,"Graduate"],[14,"Other"],[15,"District"]],COLLEGE:12,DEPRECATED:-1,DISTRICT:15,ELEMENTARY_OPTIONS:[9,14],ELEMENTARY_SCHOOL:9,GRADUATE:13,HIGH_SCHOOL:11,MIDDLE_SCHOOL:10,NOT_KNOWN_OPTIONS:[0,-1,14],OTHER_LEVEL:14,STRINGS:{"-1":"Unknown",0:"Unknown",9:"Elementary School",10:"Middle School",11:"High School",12:"College",13:"Graduate",14:"Other",15:"District"},UNKNOWN:0},SchoolRecordStates:{ABBREVIATIONS:{1:"AL",2:"AK",4:"AZ",5:"AR",6:"CA",8:"CO",9:"CT",10:"DE",11:"DC",12:"FL",13:"GA",15:"HI",16:"ID",17:"IL",18:"IN",19:"IA",20:"KS",21:"KY",22:"LA",23:"ME",24:"MD",25:"MA",26:"MI",27:"MN",28:"MS",29:"MO",30:"MT",31:"NE",32:"NV",33:"NH",34:"NJ",35:"NM",36:"NY",37:"NC",38:"ND",39:"OH",40:"OK",41:"OR",42:"PA",44:"RI",45:"SC",46:"SD",47:"TN",48:"TX",49:"UT",50:"VT",51:"VA",53:"WA",54:"WV",55:"WI",56:"WY",59:"Other",60:"AS",63:"DOD",66:"GU",69:"MP",72:"PR",78:"VI"},ALABAMA:1,ALASKA:2,AMERICAN_SAMOA:60,ARIZONA:4,ARKANSAS:5,BUREAU_OF_INDIAN_EDUCATION:59,CALIFORNIA:6,COLORADO:8,CONNECTICUT:9,DELAWARE:10,DEPARTMENT_OF_DEFENSE_EDUCATION_ACTIVITY:63,DISTRICT_OF_COLUMBIA:11,FLORIDA:12,GEORGIA:13,GUAM:66,HAWAII:15,IDAHO:16,ILLINOIS:17,INDIANA:18,IOWA:19,KANSAS:20,KENTUCKY:21,LOUISIANA:22,MAINE:23,MARYLAND:24,MASSACHUSETTS:25,MICHIGAN:26,MINNESOTA:27,MISSISSIPPI:28,MISSOURI:29,MONTANA:30,NEBRASKA:31,NEVADA:32,NEW_HAMPSHIRE:33,NEW_JERSEY:34,NEW_MEXICO:35,NEW_YORK:36,NORTHERN_MARIANAS:69,NORTH_CAROLINA:37,NORTH_DAKOTA:38,OHIO:39,OKLAHOMA:40,OREGON:41,PENNSYLVANIA:42,PUERTO_RICO:72,RHODE_ISLAND:44,SOUTH_CAROLINA:45,SOUTH_DAKOTA:46,STRINGS:{1:"Alabama",2:"Alaska",4:"Arizona",5:"Arkansas",6:"California",8:"Colorado",9:"Connecticut",10:"Delaware",11:"District of Columbia",12:"Florida",13:"Georgia",15:"Hawaii",16:"Idaho",17:"Illinois",18:"Indiana",19:"Iowa",20:"Kansas",21:"Kentucky",22:"Louisiana",23:"Maine",24:"Maryland",25:"Massachusetts",26:"Michigan",27:"Minnesota",28:"Mississippi",29:"Missouri",30:"Montana",31:"Nebraska",32:"Nevada",33:"New Hampshire",34:"New Jersey",35:"New Mexico",36:"New York",37:"North Carolina",38:"North Dakota",39:"Ohio",40:"Oklahoma",41:"Oregon",42:"Pennsylvania",44:"Rhode Island",45:"South Carolina",46:"South Dakota",47:"Tennessee",48:"Texas",49:"Utah",50:"Vermont",51:"Virginia",53:"Washington",54:"West Virginia",55:"Wisconsin",56:"Wyoming",59:"Bureau of Indian Education",60:"American Samoa",63:"Department of Defense Education Activity",66:"Guam",69:"Northern Marianas",72:"Puerto Rico",78:"Virgin Islands"},TENNESSEE:47,TEXAS:48,UTAH:49,VERMONT:50,VIRGINIA:51,VIRGIN_ISLANDS:78,WASHINGTON:53,WEST_VIRGINIA:54,WISCONSIN:55,WYOMING:56},SchoolTermType:{CHOICES:[[1,"Quarter"],[3,"Semester"],[2,"Trimester"],[4,"Year"],[5,"Other"],[0,"Unknown"]],OTHER:5,QUARTER:1,SEMESTER:3,STRINGS:{0:"Unknown",1:"Quarter",2:"Trimester",3:"Semester",4:"Year",5:"Other"},TRIMESTER:2,UNKNOWN:0,YEAR:4},SchoolType:{CHARTER:2,CHOICES:[[-1,"Unknown"],[0,"Public"],[1,"Private"],[2,"Charter"],[3,"Vocational"],[4,"Homeschool"],[5,"University"],[6,"Other"],[7,"Community College"],[8,"Continuing Education"],[9,"Extracurricular Organization"],[10,"Company"]],CHOICES_NO_UNKNOWN:[[0,"Public"],[1,"Private"],[2,"Charter"],[3,"Vocational"],[4,"Homeschool"],[5,"University"],[6,"Other"],[7,"Community College"],[8,"Continuing Education"],[9,"Extracurricular Organization"],[10,"Company"]],COMMUNITY_COLLEGE:7,COMPANY:10,CONTINUING_EDUCATION:8,EXTRACURRICULAR_ORG:9,HOMESCHOOL:4,OTHER_TYPE:6,PRIVATE:1,PUBLIC:0,STRINGS:{"-1":"Unknown",0:"Public",1:"Private",2:"Charter",3:"Vocational",4:"Homeschool",5:"University",6:"Other",7:"Community College",8:"Continuing Education",9:"Extracurricular Organization",10:"Company"},UNIVERSITY:5,UNKNOWN:-1,VOCATIONAL:3},SchoolYear:{SCHOOL_YEAR_CHOICES:[[2012,"2012-2013"],[2013,"2013-2014"],[2014,"2014-2015"],[2015,"2015-2016"],[2016,"2016-2017"],[2017,"2017-2018"],[2018,"2018-2019"],[2019,"2019-2020"],[2020,"2020-2021"],[2021,"2021-2022"],[2022,"2022-2023"],[2023,"2023-2024"],[2024,"2024-2025"],[2025,"2025-2026"],[2026,"2026-2027"],[2027,"2027-2028"],[2028,"2028-2029"],[2029,"2029-2030"],[2030,"2030-2031"],[2031,"2031-2032"],[2032,"2032-2033"],[2033,"2033-2034"]],SCHOOL_YEAR_CHOICES_CURRENT:[[2012,"2012-2013"],[2013,"2013-2014"],[2014,"2014-2015"],[2015,"2015-2016"],[2016,"2016-2017"],[2017,"2017-2018"],[2018,"2018-2019"],[2019,"2019-2020"],[2020,"2020-2021"],[2021,"2021-2022"],[2022,"2022-2023"],[2023,"2023-2024"],[2024,"2024-2025"]],STRINGS:{}},Scorecard:{DEAL_HEALTH_SCORECARD:1,DEAL_ONBOARDING_SCORECARD:3,DEAL_TEACHING_SCORECARD:4,DEFAULT_LEAD_SCORECARD:2,STRINGS:{1:"Deal Health Scorecards",2:"Lead Scorecards",3:"Deal Onboarding Scorecards",4:"Deal Teaching Scorecards"}},SectionInvitationRole:{CHOICES:[[0,"Teacher"],[1,"Student"]],STRINGS:{0:"Teacher",1:"Student"},STUDENT:1,TEACHER:0},SectionInvitationStatus:{ACCEPTED:1,CHOICES:[[0,"Requested"],[1,"Accepted"],[2,"Declined"],[3,"Pending"]],DECLINED:2,PENDING:3,REQUESTED:0,STRINGS:{0:"Requested",1:"Accepted",2:"Declined",3:"Pending"}},Sections:{COURSE_PURCHASE_DICT:{1:228607,53:228608,4114:228609,400:228610,6512:228617,649:228611,17663:228612,25:228613,626:228614,620:56375,3433:228615,719:228616,6165:228332,3679:121376,6229:151411,7606:158243,8066:161398,5657:163157,6560:198062,12842:249682,4356:249683},FB_TECHSTART_1819_INDEPENDENT_CLASS_CODE:"AEC7A",FB_TECHSTART_1819_INDEPENDENT_ID:54070,INDIVIDUAL_BASIC:20824,INDIVIDUAL_FREE:53266,INDIVIDUAL_GRADING:20810,INDIVIDUAL_MEMBER_SECTIONS:[53266,20824,20810,228607,228608,228609,228610,228617,228611,228612,228613,228614,56375,228615,228616,228332,121376,151411,158243,161398,163157,198062,249682,249683],QOTD_DEFAULT_SECTION:256517,STRINGS:{}},Series:{ARTISTS:7,CIPHERS:9,COFFEE:1,DOGS:4,HABITATS:2,MEMORY:8,PD:6,PEOPLE_IN_COMPUTING:3,PRACTICE:10,STRINGS:{1:"Coffee",2:"Habitats",3:"PeopleInComputing",4:"Dogs",5:"Tennis",6:"PD",7:"Artists",8:"Memory",9:"Ciphers",10:"Practice"},TENNIS:5},Site:{BOOL_ID:2,CHOICES:[[1,"codehs.com"],[2,"bool.com"]],CODEHS_ID:1,STRINGS:{1:"codehs.com",2:"bool.com"}},SiteLicensePlan:{BRONZE_LICENSE:126,CHOICES:[[100,"Free"],[110,"Mini"],[120,"Pro"],[123,"Starter"],[125,"Teacher"],[126,"Bronze"],[130,"Silver HS"],[140,"Silver MS"],[150,"Gold HS"],[160,"Gold MS"],[170,"Unlimited HS"],[180,"Unlimited MS"],[1,"Elementary"],[200,"Pro Teacher (Starter) - Limit"],[210,"Pro Teacher (Starter)"],[215,"Pro Teacher (School) - Limit"],[220,"Pro Teacher (School)"],[230,"Pro Teacher (District)"]],DEPRECATED_PLANS:[[110,"Mini"],[120,"Pro"],[123,"Starter"],[125,"Teacher"],[126,"Bronze"],[130,"Silver HS"],[140,"Silver MS"],[150,"Gold HS"],[160,"Gold MS"],[170,"Unlimited HS"],[180,"Unlimited MS"]],ELEMENTARY:1,FREE:100,GOLD_HS:150,GOLD_MS:160,MINI_SECTION:110,NONE:-1,PAID_PLANS:[[110,"Mini"],[120,"Pro"],[123,"Starter"],[125,"Teacher"],[126,"Bronze"],[130,"Silver HS"],[140,"Silver MS"],[150,"Gold HS"],[160,"Gold MS"],[170,"Unlimited HS"],[180,"Unlimited MS"],[1,"Elementary"],[200,"Pro Teacher (Starter) - Limit"],[210,"Pro Teacher (Starter)"],[215,"Pro Teacher (School) - Limit"],[220,"Pro Teacher (School)"],[230,"Pro Teacher (District)"]],PRETTY_STRINGS:{"-1":"None",100:"Free",110:"Mini Section",120:"Pro Section",123:"Starter License",125:"Teacher License",126:"Bronze License",130:"Silver High School",140:"Silver Middle School",150:"Gold High School",160:"Gold Middle School",170:"Unlimited High School",180:"Unlimited Middle School",1:"Elementary License",200:"Teacher License (Starter)",210:"Teacher License (Starter)",220:"Teacher License (School)",230:"Teacher License (District)"},PRIMARY_PLANS:[[200,"Pro Teacher (Starter) - Limit"],[210,"Pro Teacher (Starter)"],[215,"Pro Teacher (School) - Limit"],[220,"Pro Teacher (School)"],[230,"Pro Teacher (District)"],[1,"Elementary"]],PRIMARY_PRO_PLANS:[200,210,215,220,230],PRO_SECTION:120,PRO_SECTION_PLANS:[[110,"Mini"],[120,"Pro"]],SILVER_HS:130,SILVER_MS:140,STARTER_LICENSE:123,STRINGS:{"-1":"None",100:"Free",110:"Mini",120:"Pro",123:"Starter",125:"Teacher",126:"Bronze",130:"Silver HS",140:"Silver MS",150:"Gold HS",160:"Gold MS",170:"Unlimited HS",180:"Unlimited MS",1:"Elementary",200:"Pro Teacher (Starter) - Limit",210:"Pro Teacher (Starter)",215:"Pro Teacher (School) - Limit",220:"Pro Teacher (School)",230:"Pro Teacher (District)"},STUDENT_LIMIT_PLANS:[200,215],TEACHER_DISTRICT_LICENSE:230,TEACHER_LICENSE:125,TEACHER_SCHOOL_LICENSE:220,TEACHER_SCHOOL_LICENSE_WITH_LIMIT:215,TEACHER_STARTER_LICENSE:210,TEACHER_STARTER_LICENSE_WITH_LIMIT:200,UNLIMITED_HS:170,UNLIMITED_MS:180},SiteLicenseRole:{ADMIN:2,CHOICES:[[0,"Unknown"],[1,"Teacher"],[2,"Admin"],[3,"Co-teacher"],[4,"TA"]],COTEACHER:3,STRINGS:{0:"Unknown",1:"Teacher",2:"Admin",3:"Co-teacher",4:"TA"},TA:4,TEACHER:1,UNKNOWN:0},SiteMaintenance:{DISABLE_LOGIN_PASSCODE:"0yXVpYXkpLBAZ5c95R8ON3wqWfYbxf",STRINGS:{}},SiteTheme:{CHOICES:[[0,"Light"],[1,"Dark"],[2,"System Default"]],DARK:1,LIGHT:0,STRINGS:{0:"Light",1:"Dark",2:"System Default"},SYSTEM:2},SlackChannel:{STRINGS:{C02BV8KAK:"#admin-queue",C026H3D0K:"#asana",C03RXMBUQ:"#bugs",C02D99NPN:"#checkout",C02JT1VLF:"#cms",C026H3F0D:"#code",C02EL6Q72:"#codehs_com_karel_bark",C03PML1SD:"#content-feedback",C03PZD3FD:"#course-purchase",C04V84FAA:"#deploy",C027B9LFQ:"#design",C0490HQH5:"#dev",C036N59BD:"#errors",C047R8RD8:"#facebook",C03HHCB8G:"#feedback",C026HEB2Y:"#general",C02V3MCD8:"#hourofcode",C02C4AC2X:"#interns",C03K2DZA6:"#issues",C03Q2T5JQ:"#java",C02GBFDGW:"#jokelog",C02AS3F9F:"#one-on-one",C03U5CYN4:"#opbeat",C026HEB30:"#random",C042XPPTA:"#roadtrip",C04A7RRG3:"#roadtrip-log",C027U6J04:"#sales",C02867KQ3:"#schools",C02K035C2:"#signups",C04GHEPU3:"#site-admin",C027M6K1X:"#stripe",C04JTS4H0:"#support",C02BX28LP:"#teacher-training",C02E0PVC6:"#tutor-chat",C0295G46X:"#tutor-time-logging",C029MKZEH:"#tutors",C03K2G8AU:"#twitter",C043APN0Q:"#videochat",C026H4G9M:"#worklog"}},SnackConstants:{IN_STOCK:1,OUT_OF_STOCK:0,STRINGS:{0:"out of stock",1:"in stock",2:"want more"},WANT_MORE:2},Sorting:{DATA_STRINGS:{1:"first-name",2:"last-name"},FIRST_NAME:1,GRADEBOOK_CHOICES:[[1,"First Name"],[2,"Last Name"]],LAST_NAME:2,STRINGS:{1:"First Name",2:"Last Name"}},StakeholderAction:{CALL_ACTIONS:[2,5],CHOICES:[[1,"Voicemail"],[2,"Sales Call"],[3,"Demo"],[4,"Meeting"],[5,"Support Call"],[6,"Scheduling Call"],[7,"Support Demo"],[8,"Welcome Call"]],DEMO:3,IN_CONTACT_ACTIONS:[2,3,4,5,6,7],MEETING:4,SALESFORCE_TASK_TO_ACTION:{Call:2,Voicemail:1,Demo:3},SALES_CALL:2,SCHEDULING_CALL:6,STRINGS:{1:"Voicemail",2:"Sales Call",3:"Demo",4:"Meeting",5:"Support Call",6:"Scheduling Call",7:"Support Demo",8:"Welcome Call"},SUPPORT_CALL:5,SUPPORT_DEMO:7,VOICEMAIL:1,WELCOME_CALL:8,key:8,val:"Welcome Call"},StakeholderRole:{ADMIN:101,ASSISTANT_SUPERINTENDENT:11,BILLING:100,CHOICES:[[-1,"Unknown"],[0,"Teacher"],[1,"Principal"],[2,"Director of Curriculum"],[3,"CTE Director"],[4,"Director of Technology"],[5,"Director of Instruction"],[6,"Counselor"],[7,"District Admin"],[100,"Billing"],[101,"Admin"],[8,"Vice Principal"],[9,"Secretary"],[10,"Superintendent"],[11,"Assistant Superintendent"]],COUNSELOR:6,CTE:3,CURRICULUM_DIRECTOR:2,DISTRICT_ADMIN:7,INSTRUCTION_DIRECTOR:5,PRINCIPAL:1,SCHOOL_ROLE_TO_STAKEHOLDER_ROLE:{20:0,21:1,22:4,23:1,24:7,25:-1,26:0},SECRETARY:9,STRINGS:{"-1":"Unknown",0:"Teacher",1:"Principal",2:"Director of Curriculum",3:"CTE Director",4:"Director of Technology",5:"Director of Instruction",6:"Counselor",7:"District Admin",100:"Billing",101:"Admin",8:"Vice Principal",9:"Secretary",10:"Superintendent",11:"Assistant Superintendent"},SUPERINTENDENT:10,TEACHER:0,TECHNOLOGY_DIRECTOR:4,UNKNOWN:-1,VICE_PRINCIPAL:8},StandardsFrameworkCourseType:{CHOICES:[[1,"Single Course"],[2,"Multiple Courses"]],MULTI_COURSE:2,SINGLE_COURSE:1,STRINGS:{1:"Single Course",2:"Multiple Courses"}},StateMap:{INFO:{AL:{ID:1,OFFSET:7,CENTER:{},SCALE:1},AR:{ID:5,OFFSET:3,CENTER:{},SCALE:1},CA:{ID:6,OFFSET:351,CENTER:{},SCALE:1},CO:{ID:8,OFFSET:355,CENTER:{},SCALE:1},FL:{ID:12,OFFSET:5,CENTER:{},SCALE:1},GA:{ID:13,OFFSET:5,CENTER:{},SCALE:1},CT:{ID:9,OFFSET:13,CENTER:{},SCALE:1},AZ:{ID:4,OFFSET:351,CENTER:{},SCALE:1},ID:{ID:16,OFFSET:350,CENTER:{},SCALE:1},IL:{ID:17,OFFSET:4,CENTER:{},SCALE:1},IN:{ID:18,OFFSET:7,CENTER:{},SCALE:1},IA:{ID:19,OFFSET:2,CENTER:{},SCALE:1},KS:{ID:20,OFFSET:358,CENTER:{},SCALE:1},KY:{ID:21,OFFSET:0,CENTER:{},SCALE:1},LA:{ID:22,OFFSET:2,CENTER:{},SCALE:1},MN:{ID:27,OFFSET:2,CENTER:{},SCALE:1},MS:{ID:28,OFFSET:3,CENTER:{},SCALE:1},ME:{ID:23,OFFSET:15,CENTER:{},SCALE:1},MD:{ID:24,OFFSET:11,CENTER:{},SCALE:1},MA:{ID:25,OFFSET:13,CENTER:{},SCALE:1},MI:{ID:26,OFFSET:5,CENTER:{},SCALE:1},MO:{ID:29,OFFSET:3,CENTER:{},SCALE:1},MT:{ID:30,OFFSET:353,CENTER:{},SCALE:1},NE:{ID:31,OFFSET:358,CENTER:{},SCALE:1},NV:{ID:32,OFFSET:348,CENTER:{},SCALE:1},NJ:{ID:34,OFFSET:0,CENTER:{},SCALE:1},NM:{ID:35,OFFSET:354,CENTER:{},SCALE:1},NC:{ID:37,OFFSET:10,CENTER:{},SCALE:1},OH:{ID:39,OFFSET:8,CENTER:{},SCALE:1},OK:{ID:40,OFFSET:359,CENTER:{},SCALE:1},ND:{ID:38,OFFSET:358,CENTER:{},SCALE:1},NY:{ID:36,OFFSET:12,CENTER:{},SCALE:1},PA:{ID:42,OFFSET:11,CENTER:{},SCALE:1},SC:{ID:45,OFFSET:0,CENTER:{},SCALE:1},TN:{ID:47,OFFSET:5,CENTER:{},SCALE:1},SD:{ID:46,OFFSET:357,CENTER:{},SCALE:1},OR:{ID:41,OFFSET:345,CENTER:{},SCALE:1},TX:{ID:48,OFFSET:357,CENTER:{},SCALE:1},UT:{ID:49,OFFSET:351,CENTER:{},SCALE:1},VA:{ID:51,OFFSET:10,CENTER:{},SCALE:1},WA:{ID:53,OFFSET:348,CENTER:{},SCALE:1},WI:{ID:55,OFFSET:3,CENTER:{},SCALE:1},WY:{ID:56,OFFSET:353,CENTER:{},SCALE:1},WV:{ID:54,OFFSET:0,CENTER:{},SCALE:1},VT:{ID:50,OFFSET:14,CENTER:{},SCALE:1},DE:{ID:10,OFFSET:12,CENTER:{},SCALE:1},DC:{ID:11,OFFSET:0,CENTER:{},SCALE:1},NH:{ID:33,OFFSET:13,CENTER:{},SCALE:1},RI:{ID:44,OFFSET:17,CENTER:{},SCALE:1},AK:{ID:2,OFFSET:330,CENTER:{},SCALE:1},HI:{ID:15,OFFSET:325,CENTER:{},SCALE:1}},STRINGS:{},ZIPTOCOUNTY:{UT:{84017:49043,84715:49055,84647:49039,84098:49043,84095:49035,84084:49035,84015:49011,84329:49003,84044:49035,84123:49035,84088:49035,84737:49053,84663:49049,84066:49013,84741:49025,84790:49053,84318:49005,84539:49007,84042:49049,84057:49049,84720:49021,84780:49053,84501:49007,84004:49049,84628:49023,84115:49035,84405:49057,84119:49035,84075:49011,84655:49049,84604:49049,84121:49035,84523:49015,84037:49011,84606:49049,84041:49011,84624:49027,84070:49035,84032:49051,84114:49035,84054:49011,84111:49035,84701:49041,84401:49057,84648:49023,84414:49057,84534:49037,84117:49035,84104:49035,84738:49053,84653:49049,84332:49005,84721:49021,84045:49049,84642:49039,84106:49035,84321:49005,84058:49049,84713:49001,84062:49049,84050:49029,84404:49057,84107:49035,84094:49035,84026:49047,84408:49057,84302:49003,84120:49035,84096:49035,84750:49031,84078:49047,84025:49011,84046:49009,84660:49049,84532:49019,84064:49033,84102:49035,84536:49037,84341:49005,84043:49049,84036:49043,84020:49035,84009:49035,84003:49049,84074:49045,84005:49049,84116:49035,84103:49035,84081:49035,84770:49053,84087:49011,84716:49017,84065:49035,84109:49035,84322:49005},AL:{},AR:{},CA:{},CO:{},FL:{},GA:{},CT:{},AZ:{},ID:{},IL:{},IN:{},IA:{},KS:{},KY:{},LA:{},MN:{},MS:{},ME:{},MD:{},MA:{},MI:{},MO:{},MT:{},NE:{},NV:{},NJ:{},NM:{},NC:{},OH:{},OK:{},ND:{},NY:{},PA:{},SC:{},TN:{},SD:{},OR:{},TX:{},VA:{},WA:{},WI:{},WY:{},WV:{},VT:{},DE:{},DC:{},NH:{},RI:{},AK:{},HI:{}}},States:{CHOICES:[["AL","Alabama"],["AK","Alaska"],["AS","American Samoa"],["AZ","Arizona"],["AR","Arkansas"],["AA","Armed Forces Americas"],["AE","Armed Forces Europe"],["AP","Armed Forces Pacific"],["CA","California"],["CO","Colorado"],["CT","Connecticut"],["DE","Delaware"],["DC","District of Columbia"],["FL","Florida"],["GA","Georgia"],["GU","Guam"],["HI","Hawaii"],["ID","Idaho"],["IL","Illinois"],["IN","Indiana"],["IA","Iowa"],["KS","Kansas"],["KY","Kentucky"],["LA","Louisiana"],["ME","Maine"],["MD","Maryland"],["MA","Massachusetts"],["MI","Michigan"],["MN","Minnesota"],["MS","Mississippi"],["MO","Missouri"],["MT","Montana"],["NE","Nebraska"],["NV","Nevada"],["NH","New Hampshire"],["NJ","New Jersey"],["NM","New Mexico"],["NY","New York"],["NC","North Carolina"],["ND","North Dakota"],["MP","Northern Mariana Islands"],["OH","Ohio"],["OK","Oklahoma"],["OR","Oregon"],["PA","Pennsylvania"],["PR","Puerto Rico"],["RI","Rhode Island"],["SC","South Carolina"],["SD","South Dakota"],["TN","Tennessee"],["TX","Texas"],["UT","Utah"],["VT","Vermont"],["VI","Virgin Islands"],["VA","Virginia"],["WA","Washington"],["WV","West Virginia"],["WI","Wisconsin"],["WY","Wyoming"]],CHOICES_WITH_OTHER:[["AL","Alabama"],["AK","Alaska"],["AS","American Samoa"],["AZ","Arizona"],["AR","Arkansas"],["AA","Armed Forces Americas"],["AE","Armed Forces Europe"],["AP","Armed Forces Pacific"],["CA","California"],["CO","Colorado"],["CT","Connecticut"],["DE","Delaware"],["DC","District of Columbia"],["FL","Florida"],["GA","Georgia"],["GU","Guam"],["HI","Hawaii"],["ID","Idaho"],["IL","Illinois"],["IN","Indiana"],["IA","Iowa"],["KS","Kansas"],["KY","Kentucky"],["LA","Louisiana"],["ME","Maine"],["MD","Maryland"],["MA","Massachusetts"],["MI","Michigan"],["MN","Minnesota"],["MS","Mississippi"],["MO","Missouri"],["MT","Montana"],["NE","Nebraska"],["NV","Nevada"],["NH","New Hampshire"],["NJ","New Jersey"],["NM","New Mexico"],["NY","New York"],["NC","North Carolina"],["ND","North Dakota"],["MP","Northern Mariana Islands"],["OH","Ohio"],["OK","Oklahoma"],["OR","Oregon"],["PA","Pennsylvania"],["PR","Puerto Rico"],["RI","Rhode Island"],["SC","South Carolina"],["SD","South Dakota"],["TN","Tennessee"],["TX","Texas"],["UT","Utah"],["VT","Vermont"],["VI","Virgin Islands"],["VA","Virginia"],["WA","Washington"],["WV","West Virginia"],["WI","Wisconsin"],["WY","Wyoming"],["Other","Other"]],CHOICES_WITH_OTHER_FIRST:[["Other","Other"],["AL","Alabama"],["AK","Alaska"],["AS","American Samoa"],["AZ","Arizona"],["AR","Arkansas"],["AA","Armed Forces Americas"],["AE","Armed Forces Europe"],["AP","Armed Forces Pacific"],["CA","California"],["CO","Colorado"],["CT","Connecticut"],["DE","Delaware"],["DC","District of Columbia"],["FL","Florida"],["GA","Georgia"],["GU","Guam"],["HI","Hawaii"],["ID","Idaho"],["IL","Illinois"],["IN","Indiana"],["IA","Iowa"],["KS","Kansas"],["KY","Kentucky"],["LA","Louisiana"],["ME","Maine"],["MD","Maryland"],["MA","Massachusetts"],["MI","Michigan"],["MN","Minnesota"],["MS","Mississippi"],["MO","Missouri"],["MT","Montana"],["NE","Nebraska"],["NV","Nevada"],["NH","New Hampshire"],["NJ","New Jersey"],["NM","New Mexico"],["NY","New York"],["NC","North Carolina"],["ND","North Dakota"],["MP","Northern Mariana Islands"],["OH","Ohio"],["OK","Oklahoma"],["OR","Oregon"],["PA","Pennsylvania"],["PR","Puerto Rico"],["RI","Rhode Island"],["SC","South Carolina"],["SD","South Dakota"],["TN","Tennessee"],["TX","Texas"],["UT","Utah"],["VT","Vermont"],["VI","Virgin Islands"],["VA","Virginia"],["WA","Washington"],["WV","West Virginia"],["WI","Wisconsin"],["WY","Wyoming"]],STRINGS:{}},StripePlan:{BASIC:1,BASIC_YEAR:4,CHOICES:[[0,"none"],[1,"basic"],[2,"premium"],[3,"one_on_one"],[4,"basic_year"],[5,"premium_year"]],NONE:0,ONE_ON_ONE:3,PREMIUM:2,PREMIUM_YEAR:5,STRINGS:{0:"none",1:"basic",2:"premium",3:"one_on_one",4:"basic_year",5:"premium_year"}},StudentAssignmentAction:{AUTOGRADE:3,FINALIZE:4,NEW_SUBMISSION:1,NONE:5,REVIEW:2,STRINGS:{},VIEW:0},StudentAssignmentBulkCreate:{BATCH_SIZE:999,STRINGS:{}},StudentAssignmentStatus:{AUTOGRADED:45,CHOICES:[[0,"Unopened"],[10,"Not Submitted"],[20,"Submitted"],[30,"Reviewed"],[40,"Submitted After Review"],[45,"Finalized"],[50,"Finalized"]],CSS_CLASS_NAMES:{0:"unopened",10:"not-submitted",20:"submitted",30:"reviewed",40:"submitted-after-review",45:"finalized",50:"finalized"},FINALIZED:50,FINISHED_STATUSES:[20,45,40,50],NOT_SUBMITTED:10,NO_SUBMISSION_STATUSES:[0,10],REVIEWED:30,STRINGS:{0:"Unopened",10:"Not Submitted",20:"Submitted",30:"Reviewed",40:"Submitted After Review",45:"Finalized",50:"Finalized"},SUBMITTED:20,SUBMITTED_AFTER_REVIEW:40,SUBMITTED_STATUSES:[20,40],UNOPENED:0},StudentExperience:{BLOCK_PROGRAMMING:2,CHOICES:[["","Student Programming Experience"],[0,"Experience Unknown"],[1,"No Programming Experience"],[2,"Block Programming like Scratch"],[3,"One Programming Class"],[4,"Multiple Programming Classes"]],MULTIPLE_CLASSES:4,NO_EXPERIENCE:1,ONE_CLASS:3,STRINGS:{0:"Experience Unknown",1:"No Programming Experience",2:"Block Programming like Scratch",3:"One Programming Class",4:"Multiple Programming Classes"},UNKNOWN:0},Submission:{CHOICES:[[0,"NEEDS_GRADING"],[1,"GRADED"],[2,"CLOSED"]],CLOSED:2,GRADED:1,NEEDS_GRADING:0,STRINGS:{0:"NEEDS_GRADING",1:"GRADED",2:"CLOSED"}},Survey:{STRINGS:{},TEACHER_SATISFACTION_ID:9,TEAM_SATISFACTION_SURVEY_ID:445},SurveyQuestion:{ACKNOWLEDGEMENT:6,CHECK_BOXES:1,FREE_RESPONSE:2,MODAL_TYPES:[1,3,6],MULTIPLE_CHOICE:0,NUMBER_SCALE:3,ONE_TO_FIVE:7,ONE_TO_FIVE_AND_WHY:8,ONE_TO_TEN:4,ONE_TO_TEN_AND_WHY:5,STRINGS:{0:"Multiple Choice",1:"Check Boxes",2:"Free Response",3:"Number Scale",4:"One to Ten",5:"One to Ten and Why",6:"Acknowledgement",7:"One to Five",8:"One to Five and Why"},SURVEY_QUESTION_TYPES:[[0,"Multiple Choice"],[1,"Check Boxes"],[2,"Free Response"],[3,"Number Scale"],[4,"One to Ten"],[5,"One to Ten and Why"],[6,"Acknowledgement"],[7,"One to Five"],[8,"One to Five and Why"]]},SurveyQuestionAnswer:{ANSWERED:0,CHOICES:[[0,"Answered"],[1,"Fake"],[2,"Answer Requested"]],FAKE:1,REQUESTED:2,STRINGS:{0:"Answered",1:"Fake",2:"Answer Requested"}},Syllabus:{SAMPLE_AP_JAVA_ID:878,SAMPLE_INTRO_ID:1,STRINGS:{}},TableView:{CHOICES:[[0,"Private"],[1,"Shared"]],PRIVATE:0,SHARED:1,STRINGS:{0:"Private",1:"Shared"}},TaskCategory:{STRINGS:{1:"Teacher Onboarding"},TEACHER_ONBOARDING:1},TaskOwner:{CHOICES:[[0,"CodeHS"],[1,"Shared"],[2,"School/District"]],CODEHS:0,OWNER_STRINGS:{0:"CodeHS",1:"Shared",2:"School/District"},SCHOOL_DISTRICT:2,SHARED:1,STRINGS:{}},TaskStatus:{ASSIGNED:1,CHOICES:[[0,"Closed"],[1,"Assigned"],[2,"Completed"]],CLOSED:0,COMPLETED:2,STRINGS:{0:"Closed",1:"Assigned",2:"Completed"}},TaskType:{CHOICES:[[1,"Started Content"],[2,"Created Class"],[3,"Students Registered"],[4,"Students Started Content"],[5,"Students Continued Content"],[6,"Viewed Exercise Handouts"],[7,"Viewed Problem Guides"],[8,"Viewed Lesson Plans"],[9,"Viewed All Resources"]],CREATED_CLASS:2,RESOURCE_TYPES:[6,7,8],STARTED_CONTENT:1,STRINGS:{1:"Started Content",2:"Created Class",3:"Students Registered",4:"Students Started Content",5:"Students Continued Content",6:"Viewed Exercise Handouts",7:"Viewed Problem Guides",8:"Viewed Lesson Plans",9:"Viewed All Resources"},STUDENTS_CONTINUED_CONTENT:5,STUDENTS_REGISTERED:3,STUDENTS_STARTED_CONTENT:4,URLS:{1:"/editor/start",3:"/section/invite"},VIEWED_ALL_RESOURCES:9,VIEWED_EXERCISE_HANDOUTS:6,VIEWED_LESSON_PLANS:8,VIEWED_PROBLEM_GUIDES:7},TeacherCourse:{DEFAULT_EMPTY_TEACHER_COURSE:42365,FACEBOOK_CODE_MUSIC_COURSES:[58752,43536],FB_COURSE_A:58752,FB_COURSE_B:43536,PRO_EXAMS_TEACHER_COURSE:90675,PUBLIC_VIEW_COURSES:[42365,90675],SA_KAREL_A:41037,SA_KAREL_B:41038,SA_WEB_A:41039,SA_WEB_B:41040,SMASH:117486,STRINGS:{},SUCCESS_ACADEMY_COURSES:[41037,41038,41039,41040]},TeacherCoursePermission:{ADMIN:200,CHOICES:[[0,"View"],[100,"Edit"],[200,"Admin"]],EDIT:100,STRINGS:{0:"View",100:"Edit",200:"Admin"},VIEW:0},TeacherCoursePermissionInvitation:{ACCEPTED:30,CHOICES:[[0,"Declined"],[10,"Pending"],[20,"Implicit Accepted"],[30,"Accepted"]],DECLINED:0,IMPLICIT_ACCEPTED:20,PENDING:10,STRINGS:{0:"Declined",10:"Pending",20:"Implicit Accepted",30:"Accepted"}},TeacherEmailVerificationStatus:{CHOICES:[[0,"Needs Verification"],[1,"Not Needed"],[2,"Verified"]],NEEDS_VERIFICATION:0,NOT_NEEDED:1,STRINGS:{0:"Needs Verification",1:"Not Needed",2:"Verified"},VERIFIED:2},TeacherExperience:{CHOICES:[["","Teaching Experience"],[0,"Experience Unknown"],[1,"New Computer Science Teacher"],[2,"Taught Computer Science for 1-2 Years"],[3,"Taught Computer Science for 3+ Years"],[10,"Industry Programmer, New Teacher"],[11,"Industry Programmer, Experienced Teacher"],[100,"Other"]],EXPERIENCED_CS_TEACHER:3,EXPERIENCE_UNKNOWN:0,INDUSTRY_EXPERIENCED_TEACHER:11,INDUSTRY_NEW_TEACHER:10,INTERMEDIATE_CS_TEACHER:2,NEW_CS_TEACHER:1,OTHER:100,STRINGS:{0:"Experience Unknown",1:"New Computer Science Teacher",2:"Taught Computer Science for 1-2 Years",3:"Taught Computer Science for 3+ Years",10:"Industry Programmer, New Teacher",11:"Industry Programmer, Experienced Teacher",100:"Other"},VALUES:{"Experience Unknown":0,"New Computer Science Teacher":1,"Taught Computer Science for 1-2 Years":2,"Taught Computer Science for 3+ Years":3,"Industry Programmer, New Teacher":10,"Industry Programmer, Experienced Teacher":11,Other:100}},TeacherResource:{COURSE_RESOURCES:11,EXERCISES:2,FORUM:9,GLOSSARY:6,GRADING_FAQ:5,LESSON_PLANS:1,LINKS_ITEMS:[7,4,9,12],MORE:12,PORTAL:8,PROBLEM_GUIDES:3,SOLUTION_REFERENCES:10,STRINGS:{},STYLE_GUIDE:7,SYLLABUS:4},TeacherSource:{CHOICES:[[0,"Unknown"],[1,"Google"],[2,"Facebook"],[3,"Twitter"],[4,"Teacher Referral from Same School"],[5,"Teacher Referral from Other School"],[6,"CSTA"],[7,"Conference"],[8,"Code.org"],[9,"Other"],[10,"Facebook Techstart"]],CODE_ORG:8,CONFERENCE:7,CSTA:6,FACEBOOK:2,FACEBOOK_TECHSTART:10,GOOGLE:1,OTHER:9,STRINGS:{0:"Unknown",1:"Google",2:"Facebook",3:"Twitter",4:"Teacher Referral from Same School",5:"Teacher Referral from Other School",6:"CSTA",7:"Conference",8:"Code.org",9:"Other",10:"Facebook Techstart"},TEACHER_REFERRAL_OTHER:5,TEACHER_REFERRAL_SAME_SCHOOL:4,TWITTER:3,UNKNOWN:0},TeacherTaskTypeConfig:{CONFIGS:{},DEFAULTS:[1,2,3],STRINGS:{}},TeacherToolSettings:{SECTION_SORT_BY_COURSE:4,SECTION_SORT_NAME_ASCENDING:2,SECTION_SORT_NAME_DESCENDING:3,SECTION_SORT_TOOL_SETTING:"teacher_page_sections_sort_type",SECTION_SORT_TYPES:[0,1,2,3,4],SECTION_SORT_TYPE_CHOICES:[[0,"Year Old to New"],[1,"Year New to Old"],[2,"Name A-Z"],[3,"Name Z-A"],[4,"Course"]],SECTION_SORT_YEAR_ASCENDING:0,SECTION_SORT_YEAR_DESCENDING:1,STRINGS:{0:"Year Old to New",1:"Year New to Old",2:"Name A-Z",3:"Name Z-A",4:"Course"}},TeacherVerification:{STRINGS:{}},TeacherVerificationFormStatus:{APPROVED:2,CHOICES:[[0,"Not Submitted"],[1,"Submitted, Waiting Review"],[2,"Approved"],[3,"Rejected"]],NOT_SUBMITTED:0,REJECTED:3,STRINGS:{0:"Not Submitted",1:"Submitted, Waiting Review",2:"Approved",3:"Rejected"},SUBMITTED_WAITING_REVIEW:1},TeamFeedback:{CHOICES:[[0,"Like"],[1,"Wish"],[2,"Wonder"]],CLOSED:11,COMPLETED:12,IN_PROGRESS:13,LIKE:0,OPEN:10,STRINGS:{0:"Like",1:"Wish",2:"Wonder",10:"Open",11:"Closed",12:"Completed"},WISH:1,WONDER:2},TestCaseFormat:{CHOICES:[[0,"Legacy Autograder Config"],[10,"Legacy Autograder JSON File Tree"]],LEGACY_CONFIG:0,LEGACY_JSON:10,STRINGS:{0:"Legacy Autograder Config",10:"Legacy Autograder JSON File Tree"}},TestCaseLogLevel:{CHOICES:[[0,"Info"],[10,"Warning"],[20,"Error"]],ERROR:20,INFO:0,STRINGS:{0:"Info",10:"Warning",20:"Error"},WARNING:10},TestCaseRequirement:{CHOICES:[[0,"Not Required"],[10,"Required"]],NOT_REQUIRED:0,REQUIRED:10,STRINGS:{0:"Not Required",10:"Required"}},TestCaseVisibility:{CHOICES:[[0,"Invisible"],[10,"Hidden"],[20,"Visible"]],HIDDEN:10,INVISIBLE:0,STRINGS:{0:"Invisible",10:"Hidden",20:"Visible"},VISIBLE:20},TextAlert:{FRIDAY:5,MONDAY:1,REMINDER:20,SATURDAY:6,STRINGS:{20:"REMINDER",0:"Sunday",1:"Monday",2:"Tuesday",3:"Wednesday",4:"Thursday",5:"Friday",6:"Saturday"},SUNDAY:0,THURSDAY:4,TUESDAY:2,WEDNESDAY:3,WEEKDAY_CHOICES:[[0,"Sunday"],[1,"Monday"],[2,"Tuesday"],[3,"Wednesday"],[4,"Thursday"],[5,"Friday"],[6,"Saturday"]]},ThisWeek:{CHOICES:[[0,"working on"],[1,"will complete"],[2,"main thing"],[3,"firefighter"]],FIREFIGHTER:3,MAIN_THING:2,STRINGS:{0:"working on",1:"will complete",2:"main thing",3:"firefighter"},WILL_COMPLETE:1,WORKING_ON:0},TimeCardActivity:{ADMINISTRATIVE:6,BOOK:9,CHOICES:[[8,"Training"],[0,"Grading"],[7,"Working Through CodeHS Content"],[4,"Testing"],[3,"Content Creation"],[2,"Problem Guides"],[9,"Working on CodeHS Book"],[1,"Tutor Review"],[5,"Programming"],[6,"Administrative"],[10,"CodeMontana"],[11,"Video Chat"]],CONTENT_CREATION:3,GRADING:0,MONTANA:10,PROBLEM_GUIDES:2,PROGRAMMING:5,STRINGS:{0:"Grading",1:"Tutor Review",2:"Problem Guides",3:"Content Creation",4:"Testing",5:"Programming",6:"Administrative",7:"Working Through CodeHS Content",8:"Training",9:"Working on CodeHS Book",10:"CodeMontana",11:"Video Chat"},TESTING:4,TRAINING:8,TUTOR_REVIEW:1,VIDEO_CHAT:11,WORKING_THROUGH_CONTENT:7},TimeCardEntry:{APPROVED:10,CHOICES:[[0,"Not Reviewed"],[5,"Not Approved"],[10,"Approved"],[20,"Paid"],[30,"Completed"]],COMPLETED:30,NOT_APPROVED:5,NOT_REVIEWED:0,PAID:20,STRINGS:{0:"Not Reviewed",5:"Not Approved",10:"Approved",20:"Paid",30:"Completed"}},TimeCardRate:{RATES:{default:{0:10,1:0,2:0,3:0,4:0,5:0,6:12,7:0,8:10,9:0,10:0,11:0},0:{0:0,1:0,2:0,3:0,4:0,5:0,6:12,7:0,8:10,9:0,10:0,11:0},1:{0:10,1:0,2:0,3:0,4:0,5:0,6:12,7:0,8:10,9:0,10:0,11:0},2:{0:11,1:0,2:0,3:0,4:0,5:0,6:12,7:10,8:10,9:0,10:0,11:0},3:{0:12,1:0,2:0,3:10,4:10,5:0,6:12,7:10,8:10,9:0,10:0,11:0},4:{0:13,1:0,2:11,3:11,4:10,5:0,6:12,7:10,8:10,9:13,10:0,11:0},5:{0:13,1:15,2:12,3:12,4:10,5:0,6:12,7:10,8:10,9:14,10:0,11:0},6:{0:13,1:15,2:13,3:13,4:10,5:0,6:12,7:10,8:10,9:15,10:0,11:0},7:{0:13,1:15,2:14,3:14,4:10,5:20,6:12,7:10,8:10,9:15,10:0,11:0},8:{0:13,1:17,2:15,3:15,4:10,5:20,6:12,7:10,8:10,9:15,10:0,11:0},9:{0:13,1:17,2:15,3:15,4:10,5:20,6:12,7:10,8:10,9:15,10:0,11:0}},STRINGS:{}},TimeOff:{ADJUSTMENT:100,CATEGORY_CHOICES:[[0,"Day On"],[1,"Day Off (Excused)"],[2,"Vacation"],[3,"Sick"]],DAY_OFF:1,DAY_ON:0,DAY_TYPE_CHOICES:[[4,"Workday"],[5,"Weekend"],[6,"Holiday"],[100,"Adjustment"]],HOLIDAY:6,SICK:3,STATUS_CHOICES:[[0,"Day On"],[1,"Day Off (Excused)"]],STRINGS:{0:"Day On",1:"Day Off (Excused)",2:"Vacation",3:"Sick",4:"Workday",5:"Weekend",6:"Holiday",10:"Office",11:"Home",12:"On the Go",100:"Adjustment"},VACATION:2,WEEKEND:5,WORKDAY:4,WORKING_FROM_TYPE_CHOICES:[[10,"Office"],[11,"Home"],[12,"On the Go"]],WORK_FROM_HOME:11,WORK_FROM_OFFICE:10,WORK_FROM_ON_THE_GO:12,WORK_LOCATIONS:[["Chicago, IL","Chicago, IL"],["New York City, NY","New York City, NY"],["Los Angeles, CA","Los Angeles, CA"],["San Diego, CA","San Diego, CA"],["San Francisco, CA","San Francisco, CA"],["Alabama","Alabama"],["Alaska","Alaska"],["Arizona","Arizona"],["Arkansas","Arkansas"],["California","California"],["Colorado","Colorado"],["Connecticut","Connecticut"],["DC","DC"],["Delaware","Delaware"],["Florida","Florida"],["Georgia","Georgia"],["Hawaii","Hawaii"],["Iowa","Iowa"],["Idaho","Idaho"],["Illinois","Illinois"],["Indiana","Indiana"],["Kansas","Kansas"],["Kentucky","Kentucky"],["Louisiana","Louisiana"],["Massachusetts","Massachusetts"],["Maryland","Maryland"],["Maine","Maine"],["Michigan","Michigan"],["Minnesota","Minnesota"],["Missouri","Missouri"],["Mississippi","Mississippi"],["Montana","Montana"],["North Carolina","North Carolina"],["North Dakota","North Dakota"],["Nebraska","Nebraska"],["New Hampshire","New Hampshire"],["New Jersey","New Jersey"],["New York","New York"],["New Mexico","New Mexico"],["Ohio","Ohio"],["Oklahoma","Oklahoma"],["Oregon","Oregon"],["Pennsylvania","Pennsylvania"],["Rhode Island","Rhode Island"],["South Carolina","South Carolina"],["South Dakota","South Dakota"],["Tennessee","Tennessee"],["Texas","Texas"],["Utah","Utah"],["Vermont","Vermont"],["Virginia","Virginia"],["Washington","Washington"],["West Virginia","West Virginia"],["Wisconsin","Wisconsin"],["Wyoming","Wyoming"],["Other","Other"]]},Timezone:{ALL_TIMEZONES:["Africa/Abidjan","Africa/Accra","Africa/Addis_Ababa","Africa/Algiers","Africa/Asmara","Africa/Asmera","Africa/Bamako","Africa/Bangui","Africa/Banjul","Africa/Bissau","Africa/Blantyre","Africa/Brazzaville","Africa/Bujumbura","Africa/Cairo","Africa/Casablanca","Africa/Ceuta","Africa/Conakry","Africa/Dakar","Africa/Dar_es_Salaam","Africa/Djibouti","Africa/Douala","Africa/El_Aaiun","Africa/Freetown","Africa/Gaborone","Africa/Harare","Africa/Johannesburg","Africa/Juba","Africa/Kampala","Africa/Khartoum","Africa/Kigali","Africa/Kinshasa","Africa/Lagos","Africa/Libreville","Africa/Lome","Africa/Luanda","Africa/Lubumbashi","Africa/Lusaka","Africa/Malabo","Africa/Maputo","Africa/Maseru","Africa/Mbabane","Africa/Mogadishu","Africa/Monrovia","Africa/Nairobi","Africa/Ndjamena","Africa/Niamey","Africa/Nouakchott","Africa/Ouagadougou","Africa/Porto-Novo","Africa/Sao_Tome","Africa/Timbuktu","Africa/Tripoli","Africa/Tunis","Africa/Windhoek","America/Adak","America/Anchorage","America/Anguilla","America/Antigua","America/Araguaina","America/Argentina/Buenos_Aires","America/Argentina/Catamarca","America/Argentina/ComodRivadavia","America/Argentina/Cordoba","America/Argentina/Jujuy","America/Argentina/La_Rioja","America/Argentina/Mendoza","America/Argentina/Rio_Gallegos","America/Argentina/Salta","America/Argentina/San_Juan","America/Argentina/San_Luis","America/Argentina/Tucuman","America/Argentina/Ushuaia","America/Aruba","America/Asuncion","America/Atikokan","America/Atka","America/Bahia","America/Bahia_Banderas","America/Barbados","America/Belem","America/Belize","America/Blanc-Sablon","America/Boa_Vista","America/Bogota","America/Boise","America/Buenos_Aires","America/Cambridge_Bay","America/Campo_Grande","America/Cancun","America/Caracas","America/Catamarca","America/Cayenne","America/Cayman","America/Chicago","America/Chihuahua","America/Ciudad_Juarez","America/Coral_Harbour","America/Cordoba","America/Costa_Rica","America/Creston","America/Cuiaba","America/Curacao","America/Danmarkshavn","America/Dawson","America/Dawson_Creek","America/Denver","America/Detroit","America/Dominica","America/Edmonton","America/Eirunepe","America/El_Salvador","America/Ensenada","America/Fort_Nelson","America/Fort_Wayne","America/Fortaleza","America/Glace_Bay","America/Godthab","America/Goose_Bay","America/Grand_Turk","America/Grenada","America/Guadeloupe","America/Guatemala","America/Guayaquil","America/Guyana","America/Halifax","America/Havana","America/Hermosillo","America/Indiana/Indianapolis","America/Indiana/Knox","America/Indiana/Marengo","America/Indiana/Petersburg","America/Indiana/Tell_City","America/Indiana/Vevay","America/Indiana/Vincennes","America/Indiana/Winamac","America/Indianapolis","America/Inuvik","America/Iqaluit","America/Jamaica","America/Jujuy","America/Juneau","America/Kentucky/Louisville","America/Kentucky/Monticello","America/Knox_IN","America/Kralendijk","America/La_Paz","America/Lima","America/Los_Angeles","America/Louisville","America/Lower_Princes","America/Maceio","America/Managua","America/Manaus","America/Marigot","America/Martinique","America/Matamoros","America/Mazatlan","America/Mendoza","America/Menominee","America/Merida","America/Metlakatla","America/Mexico_City","America/Miquelon","America/Moncton","America/Monterrey","America/Montevideo","America/Montreal","America/Montserrat","America/Nassau","America/New_York","America/Nipigon","America/Nome","America/Noronha","America/North_Dakota/Beulah","America/North_Dakota/Center","America/North_Dakota/New_Salem","America/Nuuk","America/Ojinaga","America/Panama","America/Pangnirtung","America/Paramaribo","America/Phoenix","America/Port-au-Prince","America/Port_of_Spain","America/Porto_Acre","America/Porto_Velho","America/Puerto_Rico","America/Punta_Arenas","America/Rainy_River","America/Rankin_Inlet","America/Recife","America/Regina","America/Resolute","America/Rio_Branco","America/Rosario","America/Santa_Isabel","America/Santarem","America/Santiago","America/Santo_Domingo","America/Sao_Paulo","America/Scoresbysund","America/Shiprock","America/Sitka","America/St_Barthelemy","America/St_Johns","America/St_Kitts","America/St_Lucia","America/St_Thomas","America/St_Vincent","America/Swift_Current","America/Tegucigalpa","America/Thule","America/Thunder_Bay","America/Tijuana","America/Toronto","America/Tortola","America/Vancouver","America/Virgin","America/Whitehorse","America/Winnipeg","America/Yakutat","America/Yellowknife","Antarctica/Casey","Antarctica/Davis","Antarctica/DumontDUrville","Antarctica/Macquarie","Antarctica/Mawson","Antarctica/McMurdo","Antarctica/Palmer","Antarctica/Rothera","Antarctica/South_Pole","Antarctica/Syowa","Antarctica/Troll","Antarctica/Vostok","Arctic/Longyearbyen","Asia/Aden","Asia/Almaty","Asia/Amman","Asia/Anadyr","Asia/Aqtau","Asia/Aqtobe","Asia/Ashgabat","Asia/Ashkhabad","Asia/Atyrau","Asia/Baghdad","Asia/Bahrain","Asia/Baku","Asia/Bangkok","Asia/Barnaul","Asia/Beirut","Asia/Bishkek","Asia/Brunei","Asia/Calcutta","Asia/Chita","Asia/Choibalsan","Asia/Chongqing","Asia/Chungking","Asia/Colombo","Asia/Dacca","Asia/Damascus","Asia/Dhaka","Asia/Dili","Asia/Dubai","Asia/Dushanbe","Asia/Famagusta","Asia/Gaza","Asia/Harbin","Asia/Hebron","Asia/Ho_Chi_Minh","Asia/Hong_Kong","Asia/Hovd","Asia/Irkutsk","Asia/Istanbul","Asia/Jakarta","Asia/Jayapura","Asia/Jerusalem","Asia/Kabul","Asia/Kamchatka","Asia/Karachi","Asia/Kashgar","Asia/Kathmandu","Asia/Katmandu","Asia/Khandyga","Asia/Kolkata","Asia/Krasnoyarsk","Asia/Kuala_Lumpur","Asia/Kuching","Asia/Kuwait","Asia/Macao","Asia/Macau","Asia/Magadan","Asia/Makassar","Asia/Manila","Asia/Muscat","Asia/Nicosia","Asia/Novokuznetsk","Asia/Novosibirsk","Asia/Omsk","Asia/Oral","Asia/Phnom_Penh","Asia/Pontianak","Asia/Pyongyang","Asia/Qatar","Asia/Qostanay","Asia/Qyzylorda","Asia/Rangoon","Asia/Riyadh","Asia/Saigon","Asia/Sakhalin","Asia/Samarkand","Asia/Seoul","Asia/Shanghai","Asia/Singapore","Asia/Srednekolymsk","Asia/Taipei","Asia/Tashkent","Asia/Tbilisi","Asia/Tehran","Asia/Tel_Aviv","Asia/Thimbu","Asia/Thimphu","Asia/Tokyo","Asia/Tomsk","Asia/Ujung_Pandang","Asia/Ulaanbaatar","Asia/Ulan_Bator","Asia/Urumqi","Asia/Ust-Nera","Asia/Vientiane","Asia/Vladivostok","Asia/Yakutsk","Asia/Yangon","Asia/Yekaterinburg","Asia/Yerevan","Atlantic/Azores","Atlantic/Bermuda","Atlantic/Canary","Atlantic/Cape_Verde","Atlantic/Faeroe","Atlantic/Faroe","Atlantic/Jan_Mayen","Atlantic/Madeira","Atlantic/Reykjavik","Atlantic/South_Georgia","Atlantic/St_Helena","Atlantic/Stanley","Australia/ACT","Australia/Adelaide","Australia/Brisbane","Australia/Broken_Hill","Australia/Canberra","Australia/Currie","Australia/Darwin","Australia/Eucla","Australia/Hobart","Australia/LHI","Australia/Lindeman","Australia/Lord_Howe","Australia/Melbourne","Australia/NSW","Australia/North","Australia/Perth","Australia/Queensland","Australia/South","Australia/Sydney","Australia/Tasmania","Australia/Victoria","Australia/West","Australia/Yancowinna","Brazil/Acre","Brazil/DeNoronha","Brazil/East","Brazil/West","CET","CST6CDT","Canada/Atlantic","Canada/Central","Canada/Eastern","Canada/Mountain","Canada/Newfoundland","Canada/Pacific","Canada/Saskatchewan","Canada/Yukon","Chile/Continental","Chile/EasterIsland","Cuba","EET","EST","EST5EDT","Egypt","Eire","Etc/GMT","Etc/GMT+0","Etc/GMT+1","Etc/GMT+10","Etc/GMT+11","Etc/GMT+12","Etc/GMT+2","Etc/GMT+3","Etc/GMT+4","Etc/GMT+5","Etc/GMT+6","Etc/GMT+7","Etc/GMT+8","Etc/GMT+9","Etc/GMT-0","Etc/GMT-1","Etc/GMT-10","Etc/GMT-11","Etc/GMT-12","Etc/GMT-13","Etc/GMT-14","Etc/GMT-2","Etc/GMT-3","Etc/GMT-4","Etc/GMT-5","Etc/GMT-6","Etc/GMT-7","Etc/GMT-8","Etc/GMT-9","Etc/GMT0","Etc/Greenwich","Etc/UCT","Etc/UTC","Etc/Universal","Etc/Zulu","Europe/Amsterdam","Europe/Andorra","Europe/Astrakhan","Europe/Athens","Europe/Belfast","Europe/Belgrade","Europe/Berlin","Europe/Bratislava","Europe/Brussels","Europe/Bucharest","Europe/Budapest","Europe/Busingen","Europe/Chisinau","Europe/Copenhagen","Europe/Dublin","Europe/Gibraltar","Europe/Guernsey","Europe/Helsinki","Europe/Isle_of_Man","Europe/Istanbul","Europe/Jersey","Europe/Kaliningrad","Europe/Kiev","Europe/Kirov","Europe/Kyiv","Europe/Lisbon","Europe/Ljubljana","Europe/London","Europe/Luxembourg","Europe/Madrid","Europe/Malta","Europe/Mariehamn","Europe/Minsk","Europe/Monaco","Europe/Moscow","Europe/Nicosia","Europe/Oslo","Europe/Paris","Europe/Podgorica","Europe/Prague","Europe/Riga","Europe/Rome","Europe/Samara","Europe/San_Marino","Europe/Sarajevo","Europe/Saratov","Europe/Simferopol","Europe/Skopje","Europe/Sofia","Europe/Stockholm","Europe/Tallinn","Europe/Tirane","Europe/Tiraspol","Europe/Ulyanovsk","Europe/Uzhgorod","Europe/Vaduz","Europe/Vatican","Europe/Vienna","Europe/Vilnius","Europe/Volgograd","Europe/Warsaw","Europe/Zagreb","Europe/Zaporozhye","Europe/Zurich","GB","GB-Eire","GMT","GMT+0","GMT-0","GMT0","Greenwich","HST","Hongkong","Iceland","Indian/Antananarivo","Indian/Chagos","Indian/Christmas","Indian/Cocos","Indian/Comoro","Indian/Kerguelen","Indian/Mahe","Indian/Maldives","Indian/Mauritius","Indian/Mayotte","Indian/Reunion","Iran","Israel","Jamaica","Japan","Kwajalein","Libya","MET","MST","MST7MDT","Mexico/BajaNorte","Mexico/BajaSur","Mexico/General","NZ","NZ-CHAT","Navajo","PRC","PST8PDT","Pacific/Apia","Pacific/Auckland","Pacific/Bougainville","Pacific/Chatham","Pacific/Chuuk","Pacific/Easter","Pacific/Efate","Pacific/Enderbury","Pacific/Fakaofo","Pacific/Fiji","Pacific/Funafuti","Pacific/Galapagos","Pacific/Gambier","Pacific/Guadalcanal","Pacific/Guam","Pacific/Honolulu","Pacific/Johnston","Pacific/Kanton","Pacific/Kiritimati","Pacific/Kosrae","Pacific/Kwajalein","Pacific/Majuro","Pacific/Marquesas","Pacific/Midway","Pacific/Nauru","Pacific/Niue","Pacific/Norfolk","Pacific/Noumea","Pacific/Pago_Pago","Pacific/Palau","Pacific/Pitcairn","Pacific/Pohnpei","Pacific/Ponape","Pacific/Port_Moresby","Pacific/Rarotonga","Pacific/Saipan","Pacific/Samoa","Pacific/Tahiti","Pacific/Tarawa","Pacific/Tongatapu","Pacific/Truk","Pacific/Wake","Pacific/Wallis","Pacific/Yap","Poland","Portugal","ROC","ROK","Singapore","Turkey","UCT","US/Alaska","US/Aleutian","US/Arizona","US/Central","US/East-Indiana","US/Eastern","US/Hawaii","US/Indiana-Starke","US/Michigan","US/Mountain","US/Pacific","US/Samoa","UTC","Universal","W-SU","WET","Zulu"],STRINGS:{}},TimezoneStates:{STATE_TO_TZ:{VI:"America/Virgin",WA:"US/Pacific",NV:"US/Pacific",CA:"US/Pacific",OR:"US/Pacific",GU:"Pacific/Guam",MP:"Pacific/Guam",WV:"US/Eastern",FL:"US/Eastern",NH:"US/Eastern",NJ:"US/Eastern",NC:"US/Eastern",NY:"US/Eastern",RI:"US/Eastern",GA:"US/Eastern",CT:"US/Eastern",OH:"US/Eastern",SC:"US/Eastern",KY:"US/Eastern",DE:"US/Eastern",DC:"US/Eastern",PA:"US/Eastern",VA:"US/Eastern",VT:"US/Eastern",IN:"US/Eastern",ME:"US/Eastern",MD:"US/Eastern",MA:"US/Eastern",MI:"US/Eastern",AS:"US/Samoa",WI:"US/Central",ND:"US/Central",NE:"US/Central",OK:"US/Central",KS:"US/Central",SD:"US/Central",TX:"US/Central",LA:"US/Central",TN:"US/Central",AL:"US/Central",AR:"US/Central",IL:"US/Central",IA:"US/Central",MO:"US/Central",MN:"US/Central",MS:"US/Central",WY:"US/Mountain",NM:"US/Mountain",CO:"US/Mountain",AZ:"US/Mountain",ID:"US/Mountain",UT:"US/Mountain",MT:"US/Mountain",PR:"America/Puerto_Rico",AK:"US/Alaska",HI:"US/Hawaii"},STRINGS:{},TZ_TO_STATES:{"America/Virgin":["VI"],"US/Pacific":["WA","NV","CA","OR"],"Pacific/Guam":["GU","MP"],"US/Eastern":["WV","FL","NH","NJ","NC","NY","RI","GA","CT","OH","SC","KY","DE","DC","PA","VA","VT","IN","ME","MD","MA","MI"],"US/Samoa":["AS"],"US/Central":["WI","ND","NE","OK","KS","SD","TX","LA","TN","AL","AR","IL","IA","MO","MN","MS"],"US/Mountain":["WY","NM","CO","AZ","ID","UT","MT"],"America/Puerto_Rico":["PR"],"US/Alaska":["AK"],"US/Hawaii":["HI"]},state:"HI",states:["HI"],tz:"US/Hawaii"},Tool:{ADMIN_ONLY:3200,ALPHA:0,BETA:10,FREE:100,GOLD:1e3,HIDDEN:3100,LIVE:20,NO_PLAN:90,PLAN_CHOICES:[[100,"Free"],[200,"Pro"],[500,"Silver"],[1e3,"Gold"],[2e3,"Unlimited"],[90,"--"]],PRO:200,SILVER:500,STATUS_CHOICES:[[0,"Alpha"],[10,"Beta"],[20,"Live"]],STRINGS:{0:"Alpha",10:"Beta",20:"Live",90:"--",100:"Free",200:"Pro",500:"Silver",1e3:"Gold",2e3:"Unlimited",3e3:"Visible",3100:"Hidden",3200:"Admin Only"},UNLIMITED:2e3,VISIBILITY_CHOICES:[[3e3,"Visible"],[3100,"Hidden"],[3200,"Admin Only"]],VISIBLE:3e3},ToolReferer:{ALL_TOOLS:4,ASSESSMENTS:17,ASSESSMENTS_TOP_NAV:18,BREADCRUMBS:23,CHECK_CODE_BUTTON:25,CHOICES:[[0,""],[1,"Toolbox"],[2,"Launcher"],[3,"Sidenav"],[4,"All Tools"],[5,"Teacher Top Nav"],[6,"Sidenav (Collapsed)"],[7,"Sidenav (Minimized)"],[8,"Toolbox (Recent)"],[9,"Toolbox (Favorites)"],[10,"Toolbox Full"],[11,"Toolbox Full (Recent)"],[12,"Toolbox Full (Favorites)"],[13,"Section Toolbox (Teacher Page)"],[14,"Section Toolbox (Manage Account)"],[15,"Resources"],[16,"Resources Top Nav"],[17,"Assessments"],[18,"Assessments Top Nav"],[19,"Manage Account Courses"],[20,"Site Top Nav"],[21,"Site Top Nav (Profile Menu)"],[22,"Site Top Nav (Mobile Menu)"],[23,"Breadcrumbs"],[26,"New Teacher Sidenav"]],EDITOR_CHOICES:[[24,"Save and Continue"],[25,"Check Code Button"]],EDITOR_REFERRERS:[24,25],LAUNCHER:2,MANAGE_ACCOUNT_COURSES:19,NEW_SIDENAV:26,RESOURCES:15,RESOURCES_TOP_NAV:16,SAVE_AND_CONTINUE:24,SIDENAV:3,SIDENAV_COLLAPSED:6,SIDENAV_MINIMIZED:7,SIDENAV_REFERRERS:[3,6,7],SITE_TOP_NAV:20,SITE_TOP_NAV_MOBILE_MENU:22,SITE_TOP_NAV_PROFILE_MENU:21,STRINGS:{0:"",1:"Toolbox",2:"Launcher",3:"Sidenav",4:"All Tools",5:"Teacher Top Nav",6:"Sidenav (Collapsed)",7:"Sidenav (Minimized)",8:"Toolbox (Recent)",9:"Toolbox (Favorites)",10:"Toolbox Full",11:"Toolbox Full (Recent)",12:"Toolbox Full (Favorites)",13:"Section Toolbox (Teacher Page)",14:"Section Toolbox (Manage Account)",15:"Resources",16:"Resources Top Nav",17:"Assessments",18:"Assessments Top Nav",19:"Manage Account Courses",20:"Site Top Nav",21:"Site Top Nav (Profile Menu)",22:"Site Top Nav (Mobile Menu)",23:"Breadcrumbs",24:"Save and Continue",25:"Check Code Button",26:"New Teacher Sidenav"},TEACHER_TOP_NAV:5,TOOLBOX:1,TOOLBOX_FAVORITE:9,TOOLBOX_FULL:10,TOOLBOX_FULL_FAVORITE:12,TOOLBOX_FULL_RECENT:11,TOOLBOX_RECENT:8,TOOLBOX_REFERRERS:[1,8,9,10,11,12,13,14],TOOLBOX_SECTION_ACCOUNT:14,TOOLBOX_SECTION_TEACHER:13,UNKNOWN:0},ToolUserType:{ADMIN:3,ALL:0,CHOICES:[[0,"All"],[1,"Student"],[2,"Teacher"],[3,"Admin"]],STRINGS:{0:"All",1:"Student",2:"Teacher",3:"Admin"},STUDENT:1,TEACHER:2},TopicHub:{ADDITIONAL_TAGS:{"AP CSA":["AP"],"AP CSP":["AP"],"Artificial Intelligence":["AI"]},COURSE_TOPIC:1001,CREATED_SECTION:1,CURRICULUM_TOPIC:1004,CURRICULUM_TOPIC_TYPES:[1001,1003,1004],INACTIVE_MEMBERSHIP:100,INDUSTRY_MEMBERSHIP:102,INDUSTRY_TOPIC:1002,JOINED_ON_INDUSTRY_PAGE_VISIT:3,JOINED_ON_SIGNUP:2,JOIN_REASON_CHOICES:[[0,"Unknown join reason"],[1,"Created a section"],[2,"Joined on signup"],[3,"Joined on industry page visit"]],LANGUAGE_TOPIC:1003,MAIN_MEMBERSHIP:101,MEMBERSHIP_TYPE_CHOICES:[[100,"Inactive"],[101,"Main"],[102,"Industry"]],MISCELLANEOUS_TOPIC:1e3,STRINGS:{0:"Unknown join reason",1:"Created a section",2:"Joined on signup",3:"Joined on industry page visit",100:"Inactive",101:"Main",102:"Industry",1e3:"Miscellaneous",1001:"Course",1002:"Industry",1003:"Language",1004:"Curriculum"},TOPIC_TYPE_CHOICES:[[1e3,"Miscellaneous"],[1001,"Course"],[1002,"Industry"],[1003,"Language"],[1004,"Curriculum"]],UNKNOWN_JOIN_REASON:0},TranslationStatus:{CHOICES:[[0,"Google Translated"],[1,"Translator Translation"],[2,"CodeHS Reviewed"]],CODEHS_REVIEWED:2,GOOGLE_TRANSLATED:0,STRINGS:{0:"Google Translated",1:"Translator Translation",2:"CodeHS Reviewed"},TRANSLATOR_TRANSLATION:1},TutorApp:{APPLY_STAGE:51,COMPLETED:2,DECISION_STAGE:56,INTERVIEW_STAGE:53,MODULE_STAGE:52,NOT_STARTED:0,PICTURE_STAGE:54,PRACTICE_STAGE:55,REJECTED:3,STAGE_CONFIGS:{51:{title:"Application Form",admin_title:"Application",description:"Fill out a short form to begin your application.",stage_number:1,model_attr:"stage_apply",learn_more:"apply"},52:{title:"Tutor Application Module",admin_title:"Tutor Application Module",description:"Complete the Tutor Application module.",stage_number:2,model_attr:"stage_karel_modules",learn_more:"module"},53:{title:"Interview",admin_title:"Interview",description:"Schedule an interview with CodeHS.",stage_number:3,model_attr:"stage_phone_call",learn_more:"call"},54:{title:"Profile Picture",admin_title:"Profile Picture",description:"Add your picture to your profile.",stage_number:4,model_attr:"stage_picture",learn_more:"picture"},55:{title:"Practice Period",admin_title:"Trial Period",description:"Try out being a CodeHS tutor.",stage_number:5,model_attr:"stage_trial",learn_more:"practice"},56:{admin_title:"Decision",description:"Decision for the Tutor Application",stage_number:6,model_attr:"stage_decision"}},STAGE_ORDER:[51,52,53,54,55,56],STARTED:1,STATUS:{51:{0:"Not Started",1:"Pending Response",2:"Approved",3:"Rejected"},52:{0:"Not Started",1:"In Progress",2:"Completed",3:"Rejected"},53:{0:"Not Scheduled",1:"In Progress",2:"Completed",3:"Rejected"},54:{0:"Not Started",1:"In Progress",2:"Completed",3:"Rejected"},55:{0:"Not Started",1:"In Progress",2:"Completed",3:"Rejected"},56:{0:"Not Started Application",1:"Started Application",2:"Approved Application",3:"Rejected Application"}},STATUS_CHOICES:[[0,"Not Started"],[1,"Started"],[2,"Completed"],[3,"Rejected"]],STATUS_CLASSES:{0:"stage-not-started",1:"stage-started",2:"stage-completed",3:"stage-rejected"},STATUS_CLASS_LIST:[0,1,2,3],STATUS_ICONS:{0:"icon-remove",1:"icon-refresh",2:"icon-ok",3:"icon-remove"},STRINGS:{0:"Not Started",1:"Started",2:"Completed",3:"Rejected"},TUTOR_APP_COURSE_ID:5,TUTOR_TRIAL_CLASS_ID:7464,TUTOR_TRIAL_COURSE_ID:15},TutorDashboardQueues:{ADMIN:7,ALL:0,CHOICES:[[0,"All"],[1,"Student"],[2,"Teacher"],[3,"Virtual"],[4,"Individual"],[5,"Java"],[6,"PD"],[7,"Admin"],[8,"My Queue"]],INDIVIDUAL:4,JAVA:5,MY_QUEUE:8,PD:6,QUEUES:[0,1,2,3,4,5,6,7,8],STRINGS:{0:"All",1:"Student",2:"Teacher",3:"Virtual",4:"Individual",5:"Java",6:"PD",7:"Admin",8:"My Queue"},STUDENT:1,TEACHER:2,VIRTUAL:3},TutorLevel:{ANIMATION_GAMES:3,BASIC_JS:2,CHOICES:[[0,"0"],[1,"1"],[2,"2"],[3,"3"],[4,"4"],[5,"5"],[6,"6"],[7,"7"],[8,"8"],[9,"9"]],CONTENT_REQUIREMENTS:{1:[1,"module"],2:[2,"module"],3:[3,"module"],4:[1,"course"],5:[11,"course"],6:[128,"module"],7:[53,"course"],8:[53,"course"]},GRADING_REQUIREMENTS:{1:50,2:500,3:2e3,4:4e3,5:8e3,6:1e4,7:15e3,8:2e4},INTRO_COURSE_ID:1,JAVA_COURSE_ID:53,JAVA_METHODS:128,KAREL:1,LEVEL_0:0,LEVEL_1:1,LEVEL_2:2,LEVEL_3:3,LEVEL_4:4,LEVEL_5:5,LEVEL_6:6,LEVEL_7:7,LEVEL_8:8,LEVEL_9:9,STATUS:[!1,!0],STRINGS:{0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9"},SUPPLEMENTAL_COURSE_ID:11},TutorPermissionLevel:{BOOK_LEVEL:4,CHOICES:[[8,0],[0,1],[7,2],[4,3],[3,3],[9,4],[2,4],[1,5],[5,7],[11,4]],CONTENT_CREATION_LEVEL:3,GRADING_LEVEL:1,PROBLEM_GUIDES_LEVEL:4,PROGRAMMING_LEVEL:7,STRINGS:{},TESTING_LEVEL:3,TRAINING_LEVEL:0,TUTOR_REVIEW_LEVEL:5,VIDEO_CHAT_LEVEL:4,WORKING_THROUGH_CONTENT_LEVEL:2},TutorReportCard:{A:4,A_MINUS:3.7,B:3,B_MINUS:2.7,B_PLUS:3.3,C:2,C_MINUS:1.7,C_PLUS:2.3,D:1,D_PLUS:1.3,F:0,GRADE_CHOICES:[[4,"A"],[3.7,"A-"],[3.3,"B+"],[3,"B"],[2.7,"B-"],[2.3,"C+"],[2,"C"],[1.7,"C-"],[1.3,"D+"],[1,"D"],[0,"F"]],MONTH_CHOICES:[[1,"January"],[2,"February"],[3,"March"],[4,"April"],[5,"May"],[6,"June"],[7,"July"],[8,"August"],[9,"September"],[10,"October"],[11,"November"],[12,"December"]],STRINGS:{"4.0":"A",3.7:"A-",3.3:"B+","3.0":"B",2.7:"B-",2.3:"C+","2.0":"C",1.7:"C-",1.3:"D+","1.0":"D","0.0":"F"}},Uploads:{CHECKOUT_BUCKET_NAME:"codehscheckout",CHECKOUT_BUCKET_URL:"https://s3-us-west-2.amazonaws.com/codehscheckout/",CHECKOUT_DEV_BUCKET_NAME:"codehscheckoutdev",DEFAULT_PROFILE_IMAGE:"20adff26b2098e9126fe1f6b907a5f30",STRINGS:{},UPLOADS_BASE_URL:"https://uploads.codehs.com/",UPLOADS_BUCKET_NAME:"codehsuploads",UPLOADS_PROXY_BASE_URL:"https://codehs.com/uploads/"},User:{BEATS_UNLOCKED_TEACHER_COURSE_OWNER:1648440,CURRICULUM_EXAMPLES_SANDBOX_USER:3919171,DEFAULT_ACCOUNT_EXECUTIVE:253868,DEFAULT_ACCOUNT_MANAGER:1233257,DEFAULT_CHS_TEACHER:1887898,DEFAULT_CHS_TEACHER_USERNAME:"teacherteacher",DEFAULT_CSM:1017809,DEFAULT_CURRICULUM_DEVELOPER:272968,DEFAULT_HIDDEN_SECTIONS_TEACHER:1909491,DEFAULT_REVIEWER:132,DEFAULT_USER:1831,ELEMENTARY_TEACHER_COURSE_OWNER:3337373,FREE_PLAN_INDIVIDUALS:732657,INDIVIDUAL_LEARNER_TEACHER:2985201,INTEGRATION_ENROLLMENT_CHANGER:2657330,K12_SCHOOL_ADMIN_USER:1840629,K12_STRIDE_COURSE_OWNER:2326052,LIVE_CLASSES_TEACHER:3081979,LTI_PLACEHOLDER_TEACHER:2647814,NONE_USER_ID:438503,NO_TRACKING_USERS:[1909491,1887898,2985201,2968138,1831,438503,2647814,2674660,3337373,2326052,732657,3919171,746542],PD_TEACHER:4191956,PRACTICE_TEACHER_COURSE_OWNER:1806851,QOTD_TEACHER_COURSE_OWNER:2674660,SHOWCASE_USER:2968138,STRINGS:{},USERNAME_MAX_LENGTH:150,VIRTUAL_TEACHER:746542,ZACH:6},UserEngagementStage:{CHOICES:[[0,"0: Inactive"],[10,"1: Kickoff"],[20,"2: Implementation"],[30,"3: Light Usage"],[40,"4: Heavy Usage"],[50,"5: Rockstar"],[60,"6: Customer"]],CUSTOMER:60,HEAVY_USAGE:40,IMPLEMENTATION:20,KICKOFF:10,LIGHT_USAGE:30,NOT_USING:0,ROCKSTAR:50,STRINGS:{0:"0: Inactive",10:"1: Kickoff",20:"2: Implementation",30:"3: Light Usage",40:"4: Heavy Usage",50:"5: Rockstar",60:"6: Customer"},TOOL_LIST:[40,5,6,83]},UserProfile:{GRADE_CHECK:10,GRADE_DEFAULT:5,GRADE_PENDING:8,GRADE_SEMI_TRUST:15,GRADE_TRUST:20,GRADE_WANT:7,NO_GRADE:0,REVIEW_TRUST:30,STRINGS:{0:"NO_GRADE",5:"GRADE_DEFAULT",7:"GRADE_WANT",8:"GRADE_PENDING",10:"GRADE_CHECK",15:"GRADE_SEMI_TRUST",20:"GRADE_TRUST",30:"REVIEW_TRUST"},TRUST_CHOICES:[[0,"NO_GRADE"],[5,"GRADE_DEFAULT"],[7,"GRADE_WANT"],[8,"GRADE_PENDING"],[10,"GRADE_CHECK"],[15,"GRADE_SEMI_TRUST"],[20,"GRADE_TRUST"],[30,"REVIEW_TRUST"]]},UserTitle:{CHOICES:[[0,"None"],[1,"Mr."],[2,"Ms."],[3,"Mrs."],[4,"Dr."],[5,"Mx."],[6,"Miss"]],DR:4,MISS:6,MR:1,MRS:3,MS:2,MX:5,NONE:0,STRINGS:{0:"None",1:"Mr.",2:"Ms.",3:"Mrs.",4:"Dr.",5:"Mx.",6:"Miss"}},UserType:{ADMIN:5,CHOICES:[[-1,"None"],[1,"Individual"],[2,"Student"],[3,"Teacher"],[4,"Tutor"],[5,"Admin"],[6,"School Admin"],[7,"Parent"],[8,"Elementary (Teacher)"],[9,"Elementary (Student)"]],ELEMENTARY:8,ELEMENTARY_STUDENT:9,ELEMENTARY_TYPES:[8,9],INDIVIDUAL:1,NONE:-1,PARENT:7,SCHOOL_ADMIN:6,STRINGS:{"-1":"None",1:"Individual",2:"Student",3:"Teacher",4:"Tutor",5:"Admin",6:"School Admin",7:"Parent",8:"Elementary (Teacher)",9:"Elementary (Student)"},STUDENT:2,TEACHER:3,TUTOR:4},VerificationEmailStatus:{CHOICES:[[0,"Sent"],[1,"Expired"],[2,"Verified"]],EXPIRED:1,SENT:0,STRINGS:{0:"Sent",1:"Expired",2:"Verified"},VERIFIED:2},VisibilityType:{BOTH:0,CHOICES:[[0,"Both"],[1,"Teacher"],[2,"Student"]],STRINGS:{0:"Both",1:"Teacher",2:"Student"},STUDENT:2,TEACHER:1},Work:{AGGREGATE_FILE_TREE:1,AGGREGATE_SIZE_THRESHOLD:1e6,JSON_FILE_TREE:0,STRINGS:{}},WorkEntry:{CHOICES:[[0,"Worklog"],[1,"Daylog"]],DAY_LOG:1,STRINGS:{0:"Worklog",1:"Daylog"},WORK_LOG:0},chain:{},datetime:{}}},{}],59:[function(e,t,n){"use strict";var i,r=e("./settings.js"),o=""==(i=r.DEBUG?"zec":"ze")?function(){}:function(e,t){for(var n=e.split(""),r=0;r<n.length;r++)if(-1!==i.indexOf(n[r])){console.log(t);break}};t.exports=o},{"./settings.js":61}],60:[function(e,t,n){"use strict";var i=e("events");if(!window.CHS.hasOwnProperty("PubSub")){var r=new i;r.setMaxListeners(0),r.on=r.addListener,r.trigger=r.emit,window.CHS.PubSub=r}t.exports=window.CHS.PubSub},{events:287}],61:[function(e,t,n){"use strict";t.exports={VERSION:"0.2",DEBUG:!1,STATIC_URL:"https://static1.codehs.com/",GULP_URL:"https://static1.codehs.com/gulp/2396d343b43336e1a579f99ba7be8a33190db312/"}},{}],62:[function(e,t,n){t.exports='<div class="text-center encoding-header">Custom Encoding:</div><div class=num-bits-wrapper><div class=num-bits-label>Bits in Encoding: <span class=js-num-bits-num>{{numBits}}</span></div><span class=num-bit-slider-value>1</span><div id=js-num-bits class=num-bits-slider></div><span class=num-bit-slider-value>24</span></div><div class=encoding-table><table class=table><col style=width:90px><col><col style=width:20%><tr><th><div>Key<div></div></div></th><th><div>Value<div></div></div></th><th><div>Edit<div></div></div></th></tr>{{#each encodingForNumBits}}<tr><td style="font-family: monospace">{{@key}}</td><td>{{this}}</td><td><button data-key={{@key}} class="js-remove-encoding btn btn-main-orange encoding-btn"><span class=chs-icon-cancel></span></button></td></tr>{{/each}}</table></div><div class=encoding-input-box><div class=input-wrapper><input id=js-encoding-key placeholder="{{numBits}} Bits" type=text class=encoding-input name=encoding-key><input id=js-encoding-value placeholder=Value type=text class=encoding-input name=encoding-value></div><div class=add-btn-wrapper><button id=js-add-encoding class="btn btn-main-green encoding-btn"><span class="icon icon-plus"></span></button></div></div>{{#if errorMessages.length}}<div class="bg-red encoding-error-box">{{#each errorMessages}}<div>{{this}}</div>{{/each}}</div>{{/if}}'},{}],63:[function(e,t,n){var i,r=e("events"),o=Handlebars.compile(e("./custom-encoding.hbs")),a={encodings:_.range(1,25).reduce((function(e,t){return e[t]={},e}),{}),numBits:8,key:"",value:"",errorMessages:[]},s=new r;function u(e){return e.replaceAll("<","&lt;").replaceAll(">","&gt;")}function l(e){var t=$(e);a.encodings=Object.entries(a.encodings).reduce((function(e,t){var n=t[0];t[1];return e[n]=Object.entries(a.encodings[a.numBits]).reduce((function(e,t){var n=t[0],i=t[1];return e[n]=u(i),e}),{}),e})),a.encodingForNumBits=a.encodings[a.numBits];var n=(i=$(o(a))).find(".js-remove-encoding"),r=i.find("#js-add-encoding"),c=i.find("#js-encoding-key"),d=i.find("#js-encoding-value"),p=i.find("#js-num-bits"),h=i.find(".js-num-bits-num");c.val(a.key),d.val(u(a.value)),p.slider({orientation:"horizontal",range:"min",min:1,max:24,value:a.numBits,change:function(t,n){a.numBits=n.value,a.key=c.val(),a.value=d.val(),a.errorMessages=[],l(e),s.emit("change")},slide:function(e,t){h.text(t.value)}}),r.on("click",(function(){var t=c.val(),n=u(d.val()),i=function(e,t,n){var i=[{passed:t.length,message:"Key must have a value."},{passed:e.length===n.numBits,message:"Key must be "+n.numBits+" bits long."},{passed:!/[^10]/.test(e),message:"Key must only include 1's and 0's."},{passed:!n.encodings[n.numBits][e],message:"Key must not already exist."}];return _.chain(i).reject("passed").map("message").value()}(t,n,a);i.length?(a.key=t,a.value=n,a.errorMessages=i):(a.key="",a.value="",a.encodings[a.numBits][t]=n,a.errorMessages=i),l(e),s.emit("change")})),n.on("click",(function(){var t=$(this);delete a.encodings[a.numBits][t.data("key")],a.key=c.val(),a.value=d.val(),l(e),s.emit("change")})),t.html(i)}t.exports=function(e){return l(e),{getEncodings:function(){return a.encodings[a.numBits]},getAllEncodings:function(){return a.encodings},updateEncodings:function(e){_.assign(a.encodings,e)},setEncodings:function(e){a.encodings=e},getNumBits:function(){return a.numBits},setNumBits:function(e){a.numBits=e},change:s.addListener.bind(s,"change"),show:function(){l(e)}}}},{"./custom-encoding.hbs":62,events:287}],64:[function(e,t,n){t.exports='<div id=js-bit-interpreter class=bit-interpreter><div class=controls-wrapper><div class=control-header>Metadata</div><div id=js-editor-controls class="interpreter-controls codehs-form center"><div class="control-wrapper {{#if showInterpretSelect}}{{else}}gone{{/if}}"><label for=interpretbits class=control-elem>Interpret As:</label><select name=interpretbits id=js-interpret-bits class=control-elem>{{#if isBW}}<option value={{SELECT_OPTIONS.INTERPRET.BLACKWHITE}}>B &amp; W</option>{{else}} {{#if isColor}}<option value={{SELECT_OPTIONS.INTERPRET.BLACKWHITE}}>B &amp; W</option>{{/if}} {{/if}} {{#if isColor}}<option value={{SELECT_OPTIONS.INTERPRET.COLOR}}>Color</option>{{/if}} {{#if isText}}<option value={{SELECT_OPTIONS.INTERPRET.ASCII}}>ASCII</option>{{/if}} {{#if isCustom}}<option value={{SELECT_OPTIONS.INTERPRET.CUSTOM_TEXT}}>Custom</option>{{/if}}</select></div><div id=js-display-bits-wrapper class="control-wrapper {{#if isCustom}}gone{{/if}}"><label for=js-display-bits class=control-elem>Display As:</label><select name=displaybits id=js-display-bits class=control-elem><option value={{SELECT_OPTIONS.DISPLAY.BINARY}}>Binary</option><option value={{SELECT_OPTIONS.DISPLAY.HEXADECIMAL}}>Hexadecimal</option></select></div><div id=js-rows-cols-control><div class=control-wrapper><label for=numrows class=control-elem>Rows:</label><input name=numrows class=control-elem id=js-num-rows type=number min=1 max=255 value=8></div><div class=control-wrapper><label for=numcols class=control-elem>Columns:</label><input name=numcols class=control-elem id=js-num-cols type=number min=1 max=255 value=8></div></div><div id=js-encoding-table class="control-wrapper encoding-table-container"></div></div><div class=format-bits-wrapper><button id=js-format-pretty class="btn btn-main-silver format-bits-btn">Pretty</button><div style="width:10%; display:inline-block"></div><button id=js-format-raw class="btn btn-main-slate format-bits-btn">Raw</button></div></div><div id=js-editor-textarea class=interpreter-textarea></div></div>'},{}],65:[function(e,t,n){t.exports='<div class="text-center encoding-header">{{title}}:</div>{{#if isColor}}<div style=padding-bottom:5px><input class=js-color-picker-container></div><div class="encoding-table table-responsive" style=max-height:275px><table class=table><col style=width:90px><tr><th><div>Key<div></div></div></th><th><div>Value<div></div></div></th></tr><tr><td class="js-color-picker-display color-picker-display"></td><td><div class="js-color-picker-color color-picker-color"></div></td></tr></table></div>{{else}}<div class="encoding-table table-responsive" style=max-height:275px><table class=table><col style=width:50%><col style=width:50%><tr><th><div>Key<div></div></div></th><th><div>Value<div></div></div></th></tr>{{#each encodings}}<tr><td style="font-family: monospace">{{key}}</td><td>{{value}}</td></tr>{{/each}}</table></div>{{/if}}'},{}],66:[function(e,t,n){var i=e("../../core/constants.js"),r=(e("../../core/pubSub.js"),Handlebars.compile(e("./editor.hbs"))),o=Handlebars.compile(e("./encoding-table.hbs")),a=e("./custom-encoding.js"),s=".js-color-picker-display",u=".js-color-picker-color",l="metadata.json",c={INTERPRET:{BLACKWHITE:"blackwhite",COLOR:"color",ASCII:"ascii",CUSTOM_TEXT:"custom-text"},DISPLAY:{BINARY:"binary",HEXADECIMAL:"hex"},FORMAT:{RAW:"raw",PRETTY:"pretty"}},d=function(e,t,n){return(n=void 0===n||n)?t.match(new RegExp(".{"+e+"}","g"))||[]:t.match(new RegExp(".{1,"+e+"}","g"))||[]},p=_.range(256).map((function(e){return _.padLeft(e.toString(2),8,"0")})).reduce((function(e,t){return e.push({key:t,value:b(t)}),e}),[]).map((function(e){return/[^\x20-\x7E]/.test(e.value)&&/[^\xA1-\xFF]/.test(e.value)&&"00001010"!==e.key||"10101101"===e.key?(e.value="Can't Display",e):"00100000"===e.key?(e.value="space",e):"00001010"===e.key?(e.value="newline",e):e})).filter((function(e){return"Can't Display"!==e.value})),h=_.map(p,(function(e){var t={};return t.key=g(e.key),t.value=e.value,t})),f=[{key:"0",value:"black"},{key:"1",value:"white"}],m=_.range(16).map((function(e){return{key:v(e),value:(t=y(v(e)),_.map(t,(function(e){return"1"===e?"w":"b"})))};var t}));function g(e){return d(4,e,!1).reduce((function(e,t){return e+parseInt(_.padRight(t,4,"0"),2).toString(16)}),"")}function y(e){return e.split("").reduce((function(e,t){return e+_.padLeft(parseInt(t,16).toString(2),4,"0")}),"")}function v(e){return e.toString(16)}function b(e){return String.fromCharCode(parseInt(e,2))}function w(e,t,n,i,r,o,a,s){var u=t===c.INTERPRET.COLOR;t===c.INTERPRET.COLOR||t===c.INTERPRET.BLACKWHITE?(s.clearRect(0,0,s.canvas.width,s.canvas.height),s.fillStyle="#CCCCCC",s.fillRect(0,0,s.canvas.width,s.canvas.height),_.chain(e).trunc({length:n*i*(u?24:1),omission:""}).padRight(n*i*(u?24:1),"_").thru(d.bind(null,u?24:1)).forEach((function(e,t){var o;o=_.includes(e,"_")?"FFDDDD":u?g(e):"0"===e?"000000":"FFFFFF";var a=function(e,t,n,i,r){var o=Math.min(e/t,e/n);return{fill:"#"+i,x:r%n*o,y:Math.floor(r/n)*o,width:o,height:o}}(r,n,i,o,t);a=function(e,t,n,i){var r=Math.min(e/t,e/n)/50;return{fill:i.fill,x:i.x+r,y:i.y+r,width:i.width-2*r,height:i.width-2*r}}(r,n,i,a),a=function(e,t,n,i){var r=Math.min(e/t,e/n),o=Math.abs(t-n);return{fill:i.fill,x:i.x+(t>n?o*r/2:0),y:i.y+(t<n?o*r/2:0),width:i.width,height:i.width}}(r,n,i,a),function(e,t){e.fillStyle=t.fill,e.fillRect(t.x,t.y,t.width,t.height)}(s,a)})).value()):t===c.INTERPRET.ASCII?_.chain(e).thru(d.bind(null,8)).reduce((function(e,t){return e+("<"===(n=b(t))?"&lt;":">"===n?"&gt;":n);var n}),"").tap((function(e){s.text(e)})).value():t===c.INTERPRET.CUSTOM_TEXT&&_.chain(e).thru(d.bind(null,a)).reduce((function(e,t){var n='<span class="chs-icon-bug text-red" data-toggle="tooltip" title="No encoding for '+t+'"></span>';return e+(o[t]?o[t]:n)}),"").tap((function(e){var t=$("<div>"+e+"</div>");t.find('[data-toggle="tooltip"]').tooltip(),s.html(t)})).value()}t.exports=function(e,t,n,v){var _=i.ProgramType.BIT_INTERPRETER_ALL===t,b=i.ProgramType.BIT_INTERPRETER_BW===t||_,E=i.ProgramType.BIT_INTERPRETER_COLOR===t||_,S=i.ProgramType.BIT_INTERPRETER_TEXT===t||_,T=i.ProgramType.BIT_INTERPRETER_TEXT_CUSTOM===t;n.aceEditor.getEditor().getSession().setUseWrapMode(!0);var C=$(r({isBW:b,isColor:E,isText:S,isCustom:T,showInterpretSelect:_||E,SELECT_OPTIONS:c})),x=$('<canvas style="display: block;margin: auto;border: 1px solid #CCCCCC;"></canvas>'),A=$('<pre style="display: block;margin: auto;border: 1px solid #CCCCCC;font-size:14px;word-wrap: normal;word-break: normal;"></pre>'),k=$(v),I=C.find("#js-editor-controls"),D=C.find("#js-format-raw"),O=C.find("#js-format-pretty"),P=I.find("#js-interpret-bits"),N=(I.find("#js-display-bits-wrapper"),I.find("#js-display-bits")),R=I.find("#js-rows-cols-control"),L=I.find("#js-num-rows"),M=I.find("#js-num-cols"),F=I.find("#js-encoding-table"),j=a(F);function B(){var t=c.DISPLAY.HEXADECIMAL===N.val(),i=c.INTERPRET.COLOR===P.val()||c.INTERPRET.BLACKWHITE===P.val(),r=n.aceEditor.getValue().replace(/\s/g,"");w(t?y(r):r,P.val(),parseInt(L.val(),10),parseInt(M.val(),10),e,j.getEncodings(),j.getNumBits(),i?x.get(0).getContext("2d"):A)}function U(){var e=P.val(),t=N.val();F.html(""),e===c.INTERPRET.CUSTOM_TEXT?j.show():e===c.INTERPRET.ASCII?(F.html(o({encodings:t===c.DISPLAY.BINARY?p:h,title:"ASCII Encoding"})),$(".encoding-table").scrollTop(2500)):e===c.INTERPRET.BLACKWHITE?F.html(o({encodings:t===c.DISPLAY.BINARY?f:m,title:"B & W Encoding"})):e===c.INTERPRET.COLOR&&(F.html(o({title:"Color Encoding",isColor:!0})),$(".js-color-picker-container").spectrum({showButtons:!1,flat:!0,show:function(e){var t=N.val()===c.DISPLAY.BINARY,n=e.toHexString().substring(1),i=y(n);$(s).text(t?i:n),$(u).css("background-color","#"+n)},move:function(e){var t=N.val()===c.DISPLAY.BINARY,n=e.toHexString().substring(1),i=y(n);$(s).text(t?i:n),$(u).css("background-color","#"+n)}}))}function H(){c.INTERPRET.COLOR===P.val()||c.INTERPRET.BLACKWHITE===P.val()?k.html(x):k.html(A)}function G(){c.INTERPRET.COLOR===P.val()||c.INTERPRET.BLACKWHITE===P.val()?R.show():R.hide()}function q(){function e(e,t){var i=JSON.parse(n.currentCode[l]);i[e]=t,n.currentCode[l]=JSON.stringify(i)}j.change((function(){e("encodings",j.getAllEncodings()),e("numBits",j.getNumBits()),n.save(),B()})),D.on("click",(function(){n.aceEditor.setValue(n.aceEditor.getValue().replace(/\s/g,""))})),O.on("click",(function(){var e,t,i,r,o;n.aceEditor.setValue((e=N.val(),t=P.val(),i=parseInt(M.val(),10),r=parseInt(j.getNumBits(),10),o=(o=n.aceEditor.getValue()).replace(/\s/g,""),e===c.DISPLAY.BINARY?t===c.INTERPRET.BLACKWHITE?o=d(i,o,!1).join("\n"):t===c.INTERPRET.COLOR?o=d(24,o,!1).map((function(e){return d(8,e,!1).join("\n")})).join("\n\n"):t===c.INTERPRET.ASCII?o=d(8,o,!1).join("\n"):t===c.INTERPRET.CUSTOM_TEXT&&(o=d(r,o,!1).join("\n")):e===c.DISPLAY.HEXADECIMAL&&(t===c.INTERPRET.BLACKWHITE?o=d(Math.floor(i/4),o,!1).join("\n"):t===c.INTERPRET.COLOR?o=d(6,o,!1).join("\n"):t===c.INTERPRET.ASCII?o=d(2,o,!1).join("\n"):t===c.INTERPRET.CUSTOM_TEXT&&(o=d(Math.floor(r/4),o,!1).join("\n"))),o))})),P.on("change",(function(){e("interpretAs",P.val()),U(),H(),G(),B()})),N.on("change",(function(){e("displayAs",N.val());var t=n.aceEditor.getValue().replace(/[\s]/g,"");t=c.DISPLAY.BINARY===N.val()?y(t):g(t),n.aceEditor.setValue(t),O.trigger("click"),U()})),L.on("change",(function(){e("rows",L.val()),B()})),M.on("change",(function(){e("cols",M.val()),B()})),n.aceEditor.getEditor().on("change",B),setInterval((function(){var e=/[^01\s]/;N.val()===c.DISPLAY.BINARY?e=/[^01\s]/:N.val()===c.DISPLAY.HEXADECIMAL&&(e=/[^0123456789abcdefABCDEF\s]/),n.aceEditor.getEditor().replaceAll("",{needle:e,regex:!0})}))}return x.attr({height:e,width:e}),A.css({height:e,width:e}),{editor:C,setup:function(){!function(){try{JSON.parse(n.currentCode[l])}catch(e){n.currentCode[l]="{}"}var e=JSON.parse(n.currentCode[l]);e.interpretAs&&P.val(e.interpretAs),e.displayAs&&N.val(e.displayAs),e.rows&&L.val(e.rows),e.cols&&M.val(e.cols),e.encodings&&j.updateEncodings(e.encodings),e.numBits&&j.setNumBits(e.numBits)}(),q(),U(),H(),G(),B()},resize:function(){U()}}}},{"../../core/constants.js":58,"../../core/pubSub.js":60,"./custom-encoding.js":63,"./editor.hbs":64,"./encoding-table.hbs":65}],67:[function(e,t,n){"use strict";var i=e("lodash"),r=e("../core/constants.js"),o=e("../core/pubSub.js"),a=r.Uploads.UPLOADS_PROXY_BASE_URL,s=e("./linters"),u=e("./submitter.js"),l=e("./chsQuiz.js"),c=e("./editorUtils").getPrettyCode,d=e("./karel/javaKarelErrors.js"),p=e("./errors.js");e("../../lib/codehs/chs-js-lib/index.js");var h=e("./karelTranslator.js"),f=e("./runners/reactNativeRunner.js"),m=e("./runnerFactory.js"),g=e("./modules/firepad.js");e("./runners/runnerMetrics.js"),e("./modules/editorErrors.js");var y=e("./chsResetItem.js"),v=e("../utils/chsUtils.js").getAndApplyTemplate,_=e("../utils/ajax.js"),b=e("../utils/favoriteProgram.js"),w=e("../utils/chsUtils.js").mock,E=e("../utils/chsUtils.js").validateFilename,S=e("../utils/chsUtils.js").validateFolderName,T=e("../utils/chsUtils.js").fileHasImageExtension,C=e("../utils/chsUtils.js").getQueryParams,x=e("../utils/chsUtils.js").alert,A=e("../utils/expoIntegrationUtils.js"),k=e("./repls/createReplConsole.js"),I=e("../utils/quillCustom.js"),D=e("toastr"),O=0,P="#submit-button",N="#submit-correct",R="#next-button",L="#save-button",M="#pause-button",F="#add-code-file",j=".publish-to-class",B="#view-html",U=".run_code",H=".error-box",G=".error-container",q=["typeTester","aceEditor"],V=[["typeTester",e("./modules/typeTester.js")],["aceEditor",e("./modules/aceEditor.js")],["editorInstructions",e("./modules/editorInstructions.js")],["editorSettings",e("./modules/editorSettings.js")],["editorHistory",e("./modules/editorHistory.js")],["editorSidebarContent",e("./modules/editorSidebarContent.js")],["editorKeyboardShortcuts",e("./modules/editorKeyboardShortcuts")],["editorColumns",e("./modules/editorColumns.js")],["editorLineErrors",e("./modules/editorLineErrors.js")],["codeSaver",e("./modules/codeSaver.js")],["localStorageCodeSaver",e("./modules/localStorageCodeSaver.js")],["sidebar",e("./modules/sidebar.js")],["gradeAndRespond",e("./modules/gradeAndRespond.js")],["helpTab",e("./modules/helpTab.js")],["conversationTab",e("./modules/conversationTab.js")],["embeddableEditor",e("./modules/embeddableEditor.js")],["hourOfCodeEditor",e("./modules/hocEditor.js")],["gradingTab",e("./modules/gradingTab.js")],["shareTab",e("./modules/shareTab.js")],["uploadTab",e("./modules/uploadTab.js")],["pythonTutor",e("./runners/pythonTutorRunner.js")],["docsTab",e("./modules/docsTab.js")],["phoneTab",e("./modules/phoneTab.js")],["componentsTab",e("./modules/componentsTab.js")],["lmsGradingTab",e("./modules/lmsGradingTab.js")]],z={modules:["editorInstructions","editorSettings","editorHistory","editorSidebarContent","editorKeyboardShortcuts","editorColumns","editorLineErrors","codeSaver","sidebar","gradeAndRespond","helpTab","gradingTab","shareTab","uploadTab","pythonTutor","docsTab","phoneTab","componentsTab"],configs:{}},W={modules:["editorInstructions","editorSettings","editorHistory","editorSidebarContent","editorKeyboardShortcuts","editorColumns","editorLineErrors","codeSaver","sidebar","gradeAndRespond","conversationTab","gradingTab","shareTab","uploadTab","pythonTutor","docsTab","phoneTab","componentsTab","lmsGradingTab"],configs:{}},K={modules:["editorInstructions","editorColumns","editorLineErrors","embeddableEditor"],configs:{}},Y={modules:["editorInstructions","editorLineErrors","localStorageCodeSaver","sidebar","hourOfCodeEditor"],configs:{}},J={modules:["editorLineErrors","hourOfCodeEditor"],configs:{}},X={modules:[],configs:{}};function Q(e){(e=e||{}).editorFontSize?e.fontSize=e.editorFontSize+"px":e.info.font&&(e.fontSize=e.info.font+"px"),e=i.defaults(e,{language:r.ProgrammingLanguage.JAVASCRIPT,code:"",mainClass:"",progType:r.ProgramType.KAREL,progTypeString:r.ProgramType.STRINGS[r.ProgramType.KAREL],aceElemID:"codehs-editor",fontSize:"15px",highlight:!0,itemType:r.ItemType.EXERCISE,itemTypeStr:r.ItemType.STRINGS[r.ItemType.EXERCISE],themeID:0,editorType:"regular",autograderCode:"{}",solutionCode:{},isSharedProgram:!1,codeEditorType:r.EditorType.ACE_EDITOR,runOnHub:window.pageSpecific.runOnHub});var t=this;Object.keys(e).forEach((function(n){t[n]=e[n]})),t.editorInstanceId=O,O++,t.paused=!1,t.isRunning=!1,t.saveIntervalId=null,t.numLoops=0,t.defaultBlocks=e.defaultBlocks,t.preventCopyPaste=e.preventCopyPaste,t.breakpoints={},$(".editor-wrap").addClass("editor-id-"+t.editorInstanceId),t.setup(e)}function Z(t,n){var o;if(n=n||{},t.getItemType()===r.ItemType.UNIT_TEST&&$("[data-filename]").filter((function(){var e=$(this).data("filename")||"";return i.includes(e.toLowerCase(),"scratchpad")})).trigger("click"),n.installPackages){if(-1!=r.ProgramType.PYTHON_TYPES.indexOf(t.progType)){var a;t.currentCode[t.activeFile]=t.getCode(),l=JSON.parse(JSON.stringify(t.currentCode));try{a=l["requirements.txt"],o=t.runner.run({"requirements.txt":a},{installPackages:!0,itemID:t.itemID,codeUserID:t.codeUserID})}catch(e){return}}else if(r.ProgramType.NODE==t.progType){var u;t.currentCode[t.activeFile]=t.getCode(),l=JSON.parse(JSON.stringify(t.currentCode));try{u=l["package.json"],o=t.runner.run({"package.json":u},{installPackages:!0,itemID:t.itemID,codeUserID:t.codeUserID})}catch(e){return}}}else{var l;-1!=r.ProgramType.JAVA_SERVER_TYPES.indexOf(t.progType)||r.ProgramType.C===t.progType||r.ProgramType.CPP===t.progType||r.ProgramType.PYTHON2===t.progType||r.ProgramType.PYTHON3===t.progType||r.ProgramType.SCHEME==t.progType||r.ProgramType.BASH==t.progType||r.ProgramType.PYTHON_GRAPHICS==t.progType||r.ProgramType.PYGAME==t.progType||r.ProgramType.PYTHON3_FUNCTION==t.progType||r.ProgramType.CPP_FUNCTION==t.progType||r.ProgramType.PYTHON_PROCESSING==t.progType||r.ProgramType.NODE==t.progType||t.typeTester.isPythonDataScience()?(t.currentCode[t.activeFile]=t.getCode(),l=JSON.parse(JSON.stringify(t.currentCode)),l=t.cleanFiles(l)):l=t.getCode();var c=[];if(t.progType!==r.ProgramType.JAVA_CONSOLE&&t.progType!==r.ProgramType.JAVA_METHOD&&t.progType!==r.ProgramType.JAVA_METHOD_MAIN||(c=t.progType===r.ProgramType.JAVA_METHOD||t.progType===r.ProgramType.JAVA_METHOD_MAIN?["Scratchpad"]:[t.mainClass],delete l["Unit Test"],l["ConsoleProgram.java"]=e("../../../templates/editor/java/ConsoleProgram.java")),t.progType===r.ProgramType.CPP&&(l["util.h"]=e("../../../templates/editor/cpp/util.h"),l["util.cpp"]=e("../../../templates/editor/cpp/util.cpp")),t.progType===r.ProgramType.JAVA_GRAPHICS&&(c=[t.mainClass],l["ConsoleProgram.java"]=e("../../../templates/editor/java/ConsoleProgram.java"),l["GraphicsProgram.java"]=e("../../../templates/editor/java/GraphicsProgram.java"),l["Randomizer.java"]=e("../../../templates/editor/java/Randomizer.java"),l["Color.java"]=e("../../../templates/editor/java/Color.java"),l["Thing.java"]=e("../../../templates/editor/java/Thing.java"),l["Circle.java"]=e("../../../templates/editor/java/Circle.java"),l["Rectangle.java"]=e("../../../templates/editor/java/Rectangle.java"),l["Line.java"]=e("../../../templates/editor/java/Line.java"),l["Text.java"]=e("../../../templates/editor/java/Text.java")),t.typeTester.isJavaKarel()){if(new d(t,n={code:l}).hasErrors())return;l=new h("java","js").translate(l)}t.typeTester.isHTML()?l=t.currentCode:t.progType===r.ProgramType.PYTHON_FUNCTION?l=t.currentCode["scratchpad.py"]:t.progType===r.ProgramType.JAVASCRIPT_FUNCTION&&(l=t.currentCode["scratchpad.js"]);var f=s.lint(l,{language:t.getProgrammingLanguage(),progType:t.getProgramType()});f.hasError?p.show({editor:t,message:f.message,lineNumber:f.lineNumber,progtype:t.getProgramType(),editorError:!0,log:!1}):(o=t.runner.run(l,{grading:!1,isRunning:t.isRunning,mainClass:t.progType===r.ProgramType.JAVA_METHOD||t.progType===r.ProgramType.JAVA_METHOD_MAIN?"Scratchpad":t.mainClass,arguments:c,itemID:t.itemID,codeUserID:t.codeUserID,overrideInfiniteLoops:n.overrideInfiniteLoops,javaDebugger:n.javaDebugger,pythonDebugger:n.pythonDebugger}),t.typeTester.isKarel()&&(o.hasError?(t.isRunning=!1,t.setRunButtonText("Run!")):(t.isRunning=!0,t.setRunButtonText("Continue"))),window.analytics.track("Run Program",t.getInfo()))}}Q.prototype.setup=function(t){var n=this,o=window.pageSpecific.itemDescription,a=window.pageSpecific.isQuill;I.chooseEditor([{qlTarget:"#quill-exercise-description",mdTarget:".markdown-exercise-description",content:o}],a),a?($("#quill-exercise-description").find(".ql-editor").html(o),$("#quill-exercise-description a").attr("target","_blank"),$("#quill-exercise-description").removeClass("hidden")):($(".markdown-exercise-description a").attr("target","_blank"),$(".markdown-exercise-description").removeClass("hidden"),$(".markdown-exercise-description").children("table").addClass("table")),function(e){if(!e)return;$('[href="#video-tab"]').one("click",(function(){$(".ql-toolbar").show();var t,n=$("#ql-notepad-container").data("notes");I.createEditor("#ql-notepad-container"),$("#ql-notepad-container").height(200),$("#ql-notepad-container").find(".ql-editor").html(n),$("#video-tab").on("DOMSubtreeModified",".ql-editor",(function(){$("#save-status").text("Saving..."),t&&clearTimeout(t),t=setTimeout((function(){!function(e,t){_.send({method:"save_user_notes",app:"editor",data:{notes:e,item_id:t}})}($("#ql-notepad-container").find(".ql-editor").html(),e),$("#save-status").text("Saved")}),1e3)}))}))}(window.pageSpecific.videoID),"hourofcode"!==n.editorType?n.loadCode(t).done((function(o){if("ok"===o.status){var a,s=JSON.parse(o.solutionCode.split("").map((function(e,t){var n=CHS.GULP_URL[t%CHS.GULP_URL.length];return String.fromCharCode((e.charCodeAt(0)-n.charCodeAt(0))%256)})).join(""));n.code=o.studentCode,n.currentCode=o.studentCode,n.solutionCode=s,window.editorData.startWithSolutionCode&&(n.currentCode=s),n.autograderCode=o.autograderCode,n.helperCode=o.helperCode,n.dropletCustomBlocks=o.dropletCustomBlocks,n.setupTimeTrack(),n.setupSaveInterval(),n.setupHeartbeatInterval(),n.setupModules(),n.setupActiveTab(),n.setupCollaborateTab(),n.setupLazyLoadIframeTabs(),(n.codeEditorType===r.EditorType.DROPLET_EDITOR||window.pageSpecific.onlyDisplayingDemosTab||window.pageSpecific.hideLeftPanel)&&$("#close-toggle").trigger("click"),n.typeTester.isPresentation()&&n.setupPresentationEditor(),n.typeTester.isDemo()&&n.setupDemoEditor(),n.typeTester.isBitInterpreter()&&n.setupBitInterpreterEditor(),n.typeTester.isDataExplorer()&&n.setupDataExplorer(),n.typeTester.isGraphics()&&(n.runner.helperCode=n.helperCode),n.typeTester.isHTML()||n.typeTester.isUnitTest()||!t.mainClass?t.mainClass?(a=t.mainClass,n.activeFile=a):(a=r.ProgrammingLanguage.DEFAULT_FILENAME[n.language],n.activeFile=a):(a=t.mainClass+r.ProgrammingLanguage.FILE_SUFFIX[n.language],n.activeFile=a),i.has(n.currentCode,a)||(a=Object.keys(n.currentCode)[0],n.activeFile=a),Object.keys(n.currentCode).forEach((function(e){n.breakpoints[e]={}})),n.runner.supportsBreakpoints()&&n.setupBreakpointClicks(),n.activeFile&&n.activeFile.endsWith(".jar")?n.setCode(n.getJarASCII()):n.setCode(n.currentCode[a]),n.typeTester.isGradingQuiz()&&n.setupQuizzes(),n.setupEditorEvents(),n.setupExpo(),n.setupBackspaceCheck(),b.setup(),n.runner.init&&n.runner.init(),n.itemType==r.ItemType.REPL&&e("./repls/index.js")(n);var u=C().collaborate;u&&window.pageSpecific.collaborateBlockedByDroplet?x({header:"Unable to collaborate",rawHtml:'<p>It looks like you\'re trying to collaborate on a Block coding program.\nTo collaborate, the program\'s owner will need to switch this program to use text, not blocks.</p>\n<a target="_blank" href="/toggling-block-coding">Learn more about blocks settings</a>',buttonClass:"btn-main-green",button:"View Program"}):t.useFirepad&&u?n.setupFirepad(u):window.pageSpecific.unauthenticated&&u&&x({header:"Unable to collaborate",message:"It looks like you're trying to collaborate on this program.\nTo collaborate, you need to log in.",cancel_callback:function(){var e=new URL(window.location.origin+"/login");e.searchParams.set("next",window.location.pathname),e.searchParams.set("collaborate",u),window.location.href=e.href},cancelButton:!0,buttonClass:"btn-main-green",button:"View Program",cancelButtonText:"Log In",cancelButtonClass:"btn-main-blue"})}})):(n.setupModules(),n.setupActiveTab(),n.setupLazyLoadIframeTabs(),n.typeTester.isGradingQuiz()&&n.setupQuizzes(),n.setupEditorEvents(),n.setupBackspaceCheck(),n.runner.init&&n.runner.init())},Q.prototype.setupFirepad=function(e){var t=this;t.firepad||(t.firepad=new g(t)),t.firepad.initialize(t.aceEditor,e)},Q.prototype.teardownFirepad=function(){this.firepad&&this.firepad.firepad.dispose()},Q.prototype.setupSaveInterval=function(){var e=this;e.saveIntervalId=setInterval((function(){e.save((function(){}),"autosave")}),6e4)},Q.prototype.setupHeartbeatInterval=function(){this.heartbeatIntervalId=setInterval((function(){fetch("/usertracking/heartbeat")}),6e5)},Q.prototype.setupTimeTrack=function(){var e=this;e.timeTrackSeconds=0,$.idleTimer(3e4),e.timeTrackIntervalId=setInterval((function(){$.idleTimer("isIdle")||(e.timeTrackSeconds+=5)}),5e3)},Q.prototype.loadCode=function(e){return window.HOC_LOGGED_OUT_PLAYLIST_EDITOR||window.PRACTICE_LOGGED_OUT_EDITOR?_.send({method:"get_code_files",app:"editor",type:"GET",data:{gulpUrl:CHS.GULP_URL,item_id:e.itemID}}):_.send({method:"get_editor_setup_code",app:"editor",type:"GET",data:{gulpUrl:CHS.GULP_URL,item_id:e.itemID,user_id:e.codeUserID,student_assignment_id:e.studentAssignmentID}})},Q.prototype.setupBitInterpreterEditor=function(){var t=this,n=e("./bitInterpreter/")(400,t.getProgramType(),t,"#output");$("#run-tab > .buttons").remove(),$("#game").remove();var i=$("#codehs-editor");$("#codehs-editor").replaceWith(n.editor),n.editor.find("#js-editor-textarea").append(i),n.setup(),$("#close-toggle").trigger("click"),t.runner.run=function(){return t.currentCode},t.aceEditor.resize=function(){t.aceEditor.editor.resize(),n.resize()}},Q.prototype.setupDataExplorer=function(){$("#run-tab > .buttons").remove(),$("#game").remove();var e="https://docs.google.com/spreadsheets/d/"+this.resourceGdoc,t=e+"/pubhtml?widget=true",n=e+"/gviz/tq?headers=1&sheet=Sheet1",r=$(document.createElement("iframe")).width("100%").css("height","calc(100% - 52px)").attr("frameBorder",0).attr("src",t);$("#codehs-editor").replaceWith(r);var o="#right",a=$(o).resizable("option","start");$(o).resizable("option","start",(function(e,t){r.css("pointer-events","none"),i.isFunction(a)&&a(e,t)}));var s=$(o).resizable("option","stop");$(o).resizable("option","stop",(function(e,t){r.css("pointer-events","auto"),i.isFunction(s)&&s(e,t)}));var u=$(document.createElement("button")).text("Select Chart");$("#output").after(u),google.charts.setOnLoadCallback((function(){var e=new google.visualization.ChartWrapper({chartType:"Table",dataSourceUrl:n,containerId:"output"});e.draw();var t=new google.visualization.ChartEditor;google.visualization.events.addListener(t,"ok",(function(){t.getChartWrapper().draw(document.getElementById("output"))})),u.on("click",(function(){t.openDialog(e,{})}))})),$("#close-toggle").trigger("click")},Q.prototype.setupExpo=function(){var e=this,t=e.getExpoCode();if(null!==t){var n={replConsole:k({welcomeString:"",promptLabel:""}),hostname:window.location.hostname,codeTitle:window.pageSpecific.itemTitle,codeDescription:window.pageSpecific.codeUserFirstNameLastInitial,userProgramID:window.pageSpecific.userProgramID};e.expoSnackSessionPromise=A.sessionPromise(t,n),e.isSharedProgram?e.setupExpoForSharedProgram(n):e.typeTester.isGraphics()?e.setupExpoForGraphics(n):e.typeTester.isReactNative()&&e.setupExpoForReactNative(n)}},Q.prototype.getExpoCode=function(){var e=this;return e.typeTester.isGraphics()?A.userCodeToReactCode(e.aceEditor.getValue(),window.location.hostname):e.typeTester.isReactNative()?e.aceEditor.getValue():null},Q.prototype.setupExpoForSharedProgram=function(e){var t=this;t.expoSnackSessionPromise.then((function(e){var n=t.getExpoCode();$("#view-on-phone-btn").prop("disabled",!1),$("#view-on-phone-btn").on("click",(function(t){if($("#view-on-phone-btn").attr("data-expo-url")){var i=$("#view-on-phone-btn").data("expo-url");A.writeQRCode(i,A.SNACK_SESSION_QR_DOM)}else A.updateCode(n,e,A.SNACK_SESSION_QR_DOM)}))}))},Q.prototype.setupExpoForReactNative=function(e){var t=this;t.expoSnackSessionPromise.then((function(n){var i=t.getExpoCode();A.updateCode(i,n,A.SNACK_SESSION_QR_DOM),$("#publish-button").on("click",(function(){i=t.getExpoCode(),A.publishCode(i,e,n,!1)})),t.reactNativeRunner=new f(t)}))},Q.prototype.setupExpoForGraphics=function(e){var t=this;t.expoSnackSessionPromise.then((function(n){var i=t.getExpoCode();A.updateCode(i,n,A.SNACK_SESSION_QR_DOM),$("#save-button, .run_code").on("click",(function(e){i=t.getExpoCode(),A.updateCode(i,n,A.SNACK_SESSION_QR_DOM)})),$(".expo-option-checkbox").on("change",(function(r){i=t.getExpoCode(),A.checkboxChange(r,i,e,n)})),$("#publish-button").on("click",(function(){i=t.getExpoCode(),A.publishCode(i,e,n,!1)}))}))},Q.prototype.updateReactNativeQR=function(e){this.expoSnackSessionPromise.then((function(t){A.updateCode(e,t,A.SNACK_SESSION_QR_DOM)}))},Q.prototype.setupPresentationEditor=function(){var t=e("./presentationEditor");$("#codehs-editor").replaceWith(t(this)),$("#close-toggle").trigger("click")},Q.prototype.setupDemoEditor=function(){var t=e("./demoEditor")(this);t.find("#js-run-tab-container").append($("#run-tab")),$("#wrapper").css("padding-right",0).append(t),$("#left").hide(),$("#right").hide(),$("#output").css({"text-align":"initial",width:"400px",margin:"auto",height:"550px"}),$("#close-toggle").trigger("click")},Q.prototype.setupActiveTab=function(){if(pageSpecific.helpTabActive)o.trigger("utils:switchToTab","#help-tab");else{var e=r.ItemTypeConfig.CONFIGS[this.getItemType()].active_tab;-1!=r.ProgramType.NO_RUN_TAB_PROG_TYPES.indexOf(this.getProgramType())&&(e="#exercise-tab"),o.trigger("utils:switchToTab",e)}},Q.prototype.setupCollaborateTab=function(){var e=this;$("#add-collaborator-btn").on("click",(function(){var t=$("#collab-email").val().trim();""!=t&&_.send({method:"add_item_collaborator",app:"library",data:{item_id:e.itemID,user_id:e.codeUserID,collaborator_email:t},success:function(e){"ok"==e.status?($("#collaborator-list").append("<span>"+e.collaborator+"</span><br>"),$("#collab-email").val("")):D.error("No user with that email could be found.")}})}))},Q.prototype.setupModules=function(){var e;e="regular"==this.editorType?this.studentAssignmentID?W:z:"hourofcode"==this.editorType?Y:"lite"==this.editorType?J:"nocode"==this.editorType?X:K;var t=q.concat(e.modules);i.each(V,function(e){var n=e[0];i.contains(t,e[0])?this[n]=new e[1](this):this[n]=new(w(e[1]))(this)}.bind(this)),this.runner=new m(this).create(),window.pageSpecific.collaboratePortalID&&this.teletype.TeletypePackage.joinPortal(window.pageSpecific.collaboratePortalID).then((function(e){e?window.toastr.success("Joined room!"):alert("There was an issue joining the room. Confirm the URL with your friend!")}))},Q.prototype.setupQuizzes=function(){l.setup({itemID:this.itemID,moduleID:this.moduleID,courseID:this.courseID,itemType:this.itemType,quizID:this.quizID,numAnswered:this.num_answered,numQuestions:this.questions})},Q.prototype.getInfo=function(){return{itemType:this.itemType,itemTypeStr:this.itemTypeStr,progType:this.progType,progTypeString:this.progTypeString,itemID:this.itemID,moduleID:this.moduleID,courseID:this.courseID,codeUserID:this.codeUserID,isSandbox:this.isSandbox,studentAssignmentID:this.studentAssignmentID}},Q.prototype.getItemID=function(){return this.itemID},Q.prototype.isOwnPage=function(){return"hourofcode"==this.editorType||this.codeUserID==this.viewerID},Q.prototype.isHourOfCode=function(){return"hourofcode"==this.editorType},Q.prototype.clearHighlightedLines=function(){this.highlight&&this.aceEditor.clearHighlightedLines()},Q.prototype.highlightLine=function(e,t,n){(n=n||this.activeFile)==this.activeFile&&this.highlight&&(void 0===t&&(t=!0),this.aceEditor.highlightLine(e,t))},Q.prototype.getCurrentCode=function(){return this.currentCode},Q.prototype.getCode=function(e){e=e||!1;var t=this.activeFile&&this.activeFile.endsWith(".jar"),n=this.aceEditor.getValue();return e&&void 0!==this.currentCode[this.mainClass]&&(n=this.currentCode[this.mainClass]),t&&(n=this.currentCode[this.activeFile]),this.cleanNewLine(n)},Q.prototype.getReactNativeEmbedCode=function(){var t,n=this.aceEditor.getValue(),i=$("#show-buttons-switch").prop("checked"),r=$("#start-immediately-switch").prop("checked"),o=$("#full-screen-switch").prop("checked"),a=e("../../../templates/editor/react_native_embed.txt");return t="localhost"===window.location.hostname?"https://static1.codehs.com/gulp/21347555622fb729429e152d684edf12f5c26d97/":CHS.GULP_URL,v(a,{showButtons:i,startImmediately:r,fullScreen:o,placeholderCode:n,GULP_URL:t})},Q.prototype.setCode=function(e){this.aceEditor.setValue(e),this.aceEditor.clearSelection()},Q.prototype.getProgramType=function(){return this.progType},Q.prototype.getItemType=function(){return this.itemType},Q.prototype.getProgrammingLanguage=function(){return this.language},Q.prototype.needsPopup=function(){return this.itemType==r.ItemType.EXERCISE||this.itemType==r.ItemType.CHALLENGE},Q.prototype.setupBackspaceCheck=function(){$(document).on("keydown",(function(e){var t=e.target.nodeName.toLowerCase();if(("input"!=t&&"textarea"!=t&&!$(e.target).hasClass("ql-editor")||$(e.target).attr("readonly")||"checkbox"===e.target.getAttribute("type"))&&8===e.keyCode)return e.preventDefault(),!1}))},Q.prototype.infiniteLoopDetector=function(){this.counter=1e6,this.dec=function(){if(this.counter--,this.counter<=0)throw new Error("Infinite loop detected.");return this.counter>0}},Q.prototype.showForLoopVars=function(e){$("#for-loop-vars").html(e)},Q.prototype.turnNextButtonGreen=function(){this.turnButtonGreen(R)},Q.prototype.turnSubmitButtonGreen=function(){this.turnButtonGreen(P)},Q.prototype.turnButtonGreen=function(e){$(e).switchClass("btn-main-silver","btn-main-green",700)},Q.prototype.togglePauseButton=function(){this.paused=!this.paused,this.setPauseButton(this.paused),this.paused?this.runner.pause():this.runner.restart()},Q.prototype.finishedProgram=function(e){var t=!1;void 0!==e&&(t=e.success||!1);var n=this;t&&"hourofcode"==n.editorType&&n.itemType==r.ItemType.EXERCISE?setTimeout((function(){n.setRunButtonText("Run!"),n.isRunning=!1,o.trigger("autograder:run",n.getCode(),n.info,n)}),1500):(n.setRunButtonText("Run!"),n.isRunning=!1)},Q.prototype.setRunButtonText=function(e){$(".run-button-text").text(e)},Q.prototype.save=function(e,t){var n,i=this;(this.isOwnPage()&&(this.codeSaver.saveCode(e,t),this.localStorageCodeSaver.saveCode(e)),r.ProgramType.SCHEME==i.progType)&&(i.currentCode[i.activeFile]=i.getCode(),n=JSON.parse(JSON.stringify(i.currentCode)),n=i.cleanFiles(n),i.runner.transfer(n))},Q.prototype.setPauseButton=function(e){this.paused=e,this.paused?($(M).addClass("active"),$(M).attr("title","Unpause").tooltip("fixTitle")):($(M).removeClass("active"),$(M).attr("title","Pause").tooltip("fixTitle"))},Q.prototype.cleanFiles=function(e){var t=this;return Object.keys(e).forEach((function(n){e[n]=t.cleanNewLine(e[n])})),e},Q.prototype.cleanNewLine=function(e){return e=(e=e.replace(/\r\n/g,"\n")).replace(/\r/g,"\n")},Q.prototype.run=function(e){window.CodeHSConsole.clear(),p.hide(),this.aceEditor.clearHighlightedLines();var t=this;window.HOC_LOGGED_OUT_PLAYLIST_EDITOR||window.PRACTICE_LOGGED_OUT_EDITOR?Z(t,e):t.isOwnPage()?t.save((function(){Z(t,e)}),"run"):Z(t,e)},Q.prototype.stop=function(){this.aceEditor.clearHighlightedLines(),window.CodeHSConsole.clear(),p.hide(),this.isRunning=!1,this.runner.stop&&this.runner.stop(),this.typeTester.isGraphics()||$(".ace_text-input").first().trigger("focus")},Q.prototype.setupBreakpointClicks=function(){var e=this.getEditor(),t=this;e.on("guttermousedown",(function(e){if(-1!=e.domEvent.target.className.indexOf("ace_gutter-cell")){var n=e.getDocumentPosition().row;t.toggleLineBreakpoint(n+1),e.stop()}}))},Q.prototype.toggleLineBreakpoint=function(e){this.breakpoints[this.activeFile].hasOwnProperty(e)?this.removeBreakpoint(e):this.addBreakpoint(e)},Q.prototype.addBreakpoint=function(e){this.breakpoints[this.activeFile].hasOwnProperty(e)||(this.breakpoints[this.activeFile][e]={timesHit:0,justSeen:!1},this.aceEditor.addBreakpoint(e))},Q.prototype.removeBreakpoint=function(e){delete this.breakpoints[this.activeFile][e],this.aceEditor.removeBreakpoint(e)},Q.prototype.clearBreakpoints=function(e){var t=this;Object.keys(t.breakpoints).forEach((function(e){t.breakpoints[e]={}})),t.aceEditor.clearBreakpoints()},Q.prototype.getBreakpoints=function(){return this.breakpoints},Q.prototype.refreshBreakpoints=function(){var e=this;e.aceEditor.clearBreakpoints(),Object.keys(e.breakpoints[e.activeFile]).forEach((function(t){e.aceEditor.addBreakpoint(t)}))},Q.prototype.reindent=function(){var e=c({code:this.getCode()});this.setCode(e)},Q.prototype.numLines=function(e){return(e=void 0!==e?e:this.getCode()).split("\n").length-1},Q.prototype.externalRun=function(e){this.setPauseButton(!1),o.trigger("utils:switchToTab","#run-tab",".right-col-tabs",".editor-tab-content"),this.run(e)},Q.prototype.installPackages=function(e){o.trigger("utils:switchToTab","#run-tab",".right-col-tabs",".editor-tab-content"),this.run({installPackages:!0})},Q.prototype.getEditor=function(){return this.aceEditor.getEditor()},Q.prototype.goToLine=function(e){this.aceEditor.gotoLine(e)},Q.prototype.goToNext=function(){window.location.href=$("#next-url").data("url")},Q.prototype.setupSubmitButton=function(){var e=this;$("#submit-button,#inline-submit-button").on("click",(function(){var t=$(H),n=$(G);t.exists()&&n.exists()&&(t.hide(),n.html("")),o.trigger("utils:disableButton",P),window.HOC_LOGGED_OUT_PLAYLIST_EDITOR||window.PRACTICE_LOGGED_OUT_EDITOR?r.ItemTypeConfig.CONFIGS[e.itemType].autograder?(e.activeFile&&(e.currentCode[e.activeFile]=e.getCode()),o.trigger("autograder:run",e.getCode(),e.info,e,{displayPopup:!0})):e.goToNext():window.Ed.save((function(){if(r.ItemTypeConfig.CONFIGS[e.itemType].autograder&&!e.isSandbox)o.trigger("autograder:run",e.getCode(),e.info,e,{displayPopup:!0});else if(window.pageSpecific.freeResponseAutograder)o.trigger("autograder:run",e.getCode(),e.info,e,{displayPopup:!0,aiTestCases:"The student's response addresses the assignment.",aiCacheOnly:window.pageSpecific.freeResponseAutograder==r.AIAutograderSetting.BACKGROUND});else{var t={};if(t=e.studentAssignmentID?{student_assignment_id:e.studentAssignmentID}:{item_id:e.itemID,module_id:e.moduleID,course_id:e.courseID,correct:!0},e.typeTester.isGradeAndRespond()){var n=e.gradeAndRespond.validateData();if(i.isEmpty(n))return;t.response=n.response,t.grade=n.grade}u(t,e.goToNext)}}),"submit")}))},Q.prototype.setupNextButton=function(){var e=this;$("#next-button,#inline-next-button").on("click",(function(){if(e.isOwnPage()||"hourofcode"==this.editorType){o.trigger("utils:disableButton",$(this));var t={};t=e.studentAssignmentID?{student_assignment_id:e.studentAssignmentID}:{item_id:e.itemID,module_id:e.moduleID,course_id:e.courseID},e.save((function(){o.trigger("editor:sr:statusUpdate","Code Saved Successfully, submitting code now"),u(t,e.goToNext)}),"submit")}else e.goToNext()}))},Q.prototype.setupEditorEvents=function(){var e=this;$(B).on("click",(function(t){var n=this.href;event.preventDefault(),e.isOwnPage()?e.save((function(){window.open(n,"_blank")})):window.open(n,"_blank")})),$("body").on("change","#left-file-upload",(function(){if(!e.firepad||e.firepad.isLeader()){var t=new FormData($("#left-js-upload-form")[0]);$.ajax({url:"/core/ajax/upload_image",type:"POST",data:t,processData:!1,dataType:"JSON",contentType:!1}).then((function(t){var n=a+t.url,i=$("#file-name").val().trim(),r=e.currentCode;e.save((function(){_.send({method:"add_code_file",app:"library",data:{item_id:window.pageSpecific.itemID,user_id:e.codeUserID,code:JSON.stringify(r),filename:i},success:function(t){if("ok"===t.status){$("#create-new-file-modal").modal("hide"),e.code[i]=n,e.breakpoints[i]={},$(".file-list").html(""),e.editorColumns.setupFileList(!1);var r=$('[data-filename="'+i+'"]');e.editorColumns.activateFile(r),$("#file-name").val(""),$(F).removeAttr("disabled"),$(F).html("Add")}$("#save-code-btn").removeAttr("disabled")}})}),"newFile")}))}else window.toastr.error("You can't upload files while collaborating")})),$('a[data-target="#create-new-file-modal"]').on("click",(function(t){if(e.firepad&&!e.firepad.isLeader())return t.stopPropagation(),void window.toastr.error("You can't create new files while collaborating")})),$("#create-new-file").on("click",(function(t){if($("#create-new-file-modal").appendTo("#wrapper"),e.firepad&&!e.firepad.isLeader())return t.stopPropagation(),void window.toastr.error("You can't create new files while collaborating")})),$("#create-new-file-modal").on("shown.bs.modal",(function(e){var t=$(e.relatedTarget).data("location");$("#new-file-folder-name").val(t),$("#new-file-folder-name-label").html(t),t?$(".location-select").show():$(".location-select").hide(),$("#file-name").trigger("focus")})),$("#add-file-switch").on("click",(function(e){var t=e.target,n=t.value;t.classList.add("active"),$(t).siblings().each((function(e,t){t.classList.remove("active")})),"Folder"===n?$('input[name="add-file-type"]').val("folder"):$('input[name="add-file-type"]').val("file")})),$(F).on("click",(function(){if(!e.firepad||e.firepad.isLeader()){$("#filename-error").hide(),$(this).attr("disabled","disabled");var t=($("#file-name").val()||$("input#file-name").val()).trim(),n=$("#new-file-folder-name").val();n&&(t=n+"/"+t);var i,r,o=$(this).data("id"),a=e.currentCode;$(F).html("<i class='icon-spinner icon-spin'></i>"),"folder"==$('input[name="add-file-type"]').val()?(i=S(t,a),t+="/."):i=E(t,a),i.isValid&&T(t)?$("#left-file-upload").trigger("click"):t.endsWith(".jar")?($("#left-file-upload").trigger("click"),e.breakpoints[t]={}):i.isValid?e.save((function(){_.send({method:"add_code_file",app:"library",data:{item_id:o,user_id:e.codeUserID,code:JSON.stringify(a),filename:t},success:function(n){"ok"===n.status&&($("#create-new-file-modal").modal("hide"),e.code[t]="",e.breakpoints[t]={},$(".file-list").html(""),$(".location-select").addClass("gone"),$("#new-file-folder-name").html(""),$("#new-file-folder-name").val(""),$("#new-file-folder-name-label").html(""),$("#new-file-folder-name").append('<option name=""></option>'),$("#new-folder-folder-name").html(""),$("#new-folder-folder-name").append('<option name=""></option>'),e.editorColumns.setupFileList(!1),$('[data-filename="'+t+'"]').trigger("click"),$("#file-name").val(""),$(F).removeAttr("disabled"),$(F).html("Add"),e.firepad&&e.firepad.isLeader()&&e.firepad.updateFiles()),$("#save-code-btn").removeAttr("disabled")}})}),"newFile"):(r=i.message,$("#filename-error").text(r),$("#filename-error").show(),$(this).removeAttr("disabled"),$(F).html("Add"))}else window.toastr.error("You can't create new files while collaborating")})),$(j).on("click",(function(t){var n,i;n={programID:e.itemID},i=n.programID,_.send({method:"publish_to_class",app:"library",data:{program:i},success:function(e){if("ok"==e.status){$(j).toggleClass("published"),$(j).toggleClass("unpublished");var t=$("#edit-in-cms");"display: none;"===t.attr("style")?t.show():t.hide()}}})})),$(U).on("click",(function(t){t.preventDefault(),e.typeTester.isExample()&&e.turnNextButtonGreen();var n=$(H),i=$(G);n.exists()&&i.exists()&&(n.hide(),i.html("")),e.externalRun()})),$(".install_packages").on("click",(function(t){t.preventDefault();var n=$(H),i=$(G);n.exists()&&i.exists()&&(n.hide(),i.html("")),e.externalRun({installPackages:!0})})),$("#phone-display").on("click",(function(){$(this).hasClass("ios")?($(this).removeClass("ios"),$(this).addClass("android")):($(this).removeClass("android"),$(this).addClass("ios")),e.runner.runWebPlayer(e.getCode(),!0)})),$(M).on("click",(function(t){t.preventDefault(),e.togglePauseButton()})),$("#forward-button").on("click",(function(t){t.preventDefault();var n=e.getCode();e.typeTester.isJavaKarel()&&(n=new h("java","js").translate(n)),e.runner.stepForward(n)})),$("#backward-button").on("click",(function(t){t.preventDefault(),e.runner.stepBackward()})),$("#stop").on("click",(function(t){t.preventDefault(),e.setPauseButton(!1),e.stop()})),e.setupSubmitButton(),e.setupNextButton(),$("#edit-username-modal").on("hide.bs.modal",(function(e){var t=$("#username-edit-field").text();if(/^[A-Za-z][A-Za-z0-9]+$/.test(t)){var n=t+"."+window.pageSpecific.codehsMeDomain,i=$('<a class="editor-title" target="_blank">').attr("href","http://"+n).text(n);$(".editor-title").replaceWith(i),$(B).attr("href","http://"+n),$(document).prop("title",n+" | CodeHS")}else $("#edit-username-warning").show(),e.preventDefault()})).modal("show"),$("#fork-modal").find("#fork-submit").on("click.fork-submit-handler",(function(e){var t=$(this);t.attr("disabled",!0),t.html("<i class='icon-spinner icon-spin'></i>"),_.send({method:"fork_shared_program",app:"editor",data:{shared_program_id:window.pageSpecific.sharedProgramID,forking_user_id:window.pageSpecific.viewerID,shared_program_owner_id:window.pageSpecific.codeUserID,shared_program_item_id:window.pageSpecific.itemID,forked_title:$(".sandbox-program-title").text().trim()},success:function(e){if("ok"===e.status){var n=e.forked_url;t.replaceWith('<a class="btn btn-main-green" href="'+n+'">View Your Program!</a>'),t.off("click.fork-submit-handler")}else e.message?D.error(e.message):D.error("There was an issue forking the program. Send an email to support@codehs.com with the URL."),t.html("Fork!");t.attr("disabled",!1)}})})),$(document).on("click",N,(function(){if(window.HOC_LOGGED_OUT_PLAYLIST_EDITOR||window.PRACTICE_LOGGED_OUT_EDITOR)e.goToNext();else{var t={};t=e.studentAssignmentID?{student_assignment_id:e.studentAssignmentID}:{item_id:e.itemID,module_id:e.moduleID,course_id:e.courseID,correct:!0},u(t,e.goToNext)}})),$("#check-program").on("click",(function(){o.trigger("autograder:run",e.getCode(),e.info,e,{displayPopup:!0})})),$(L).on("click",(function(){o.trigger("editor:sr:statusUpdate","Saving code..."),e.save((function(){o.trigger("editor:sr:statusUpdate","Code Saved Successfully")}),"save")})),$(".grading-problem-btn").on("click",(function(){var t=$(this).find("input").val();e.gradeAndRespond.showAnswer(e.itemID,t)}));var t=e.runner;e.typeTester.isPythonKarel()&&(t=t.karelRunner),t.on("updateCanvas",function(e){this.sidebar.setupCanvas(e&&e.canvasId),this.editorInstructions.setupObjective()}.bind(e)),$("#save-exercise-edits").on("click",(function(){$(this).attr("disabled","disabled");var e=$("#exercise-edit-modal").find("textarea").val(),t=$(this).data("id");_.send({method:"edit_item_info",app:"library",data:{exercise:t,field:"exercise",new_val:e},success:function(e){"ok"===e.status?($("#exercise-edit-modal").modal("hide"),$("#exercise-edit-modal error-text").css("visibility","hidden")):$("#exercise-edit-modal error-text").css("visibility","visible"),$("#save-exercise-edits").removeAttr("disabled")}})})),y(e),$(".js-playback-tab").length&&$((function(){var t=$("#snapshot-history-listings").find(".snapshot-full"),n=t.length,i=n-1,r=0;function o(){var a=$(t[i]).html();a=(a=(a=a.replace(/&lt;/g,"<")).replace(/&gt;/g,">")).replace(/&amp;/g,"&");for(var s=Object.keys(a),u=0;u<s.length;u++)e.code[s[u]]=a[s[u]],e.currentCode[s[u]]=a[s[u]];e.setCode(a[e.activeFile]),e.aceEditor.editor.selection.clearSelection(),i--;var l=++r/n*100;l+="%",$(".playback.progress-bar").css("width",l),i<0||setTimeout(o,1e3)}$(".js-playback-code").on("click",(function(){i=n-1,r=0,o()}))}))},Q.prototype.getFileMode=function(e){"Unit Test"===e&&(e+=r.ProgrammingLanguage.FILE_SUFFIX[this.language]);switch(e.match(/[^.]*$/)[0].toLowerCase()){default:return"javascript";case"txt":return"text";case"cpp":case"h":case"c":return"c_cpp";case"sh":return"bash";case"md":return"markdown";case"py":return"python";case"java":return"java";case"scm":return"scheme";case"sql":return"sql";case"elm":return"elm";case"jsx":return"jsx";case"html":return"html";case"css":return"css"}},Q.prototype.cleanup=function(){var e=this;$(document).off("click",N),clearInterval(e.saveIntervalId),clearInterval(e.heartbeatIntervalId),clearInterval(e.timeTrackIntervalId),$.idleTimer("destroy")},Q.prototype.setupLazyLoadIframeTabs=function(){$("#textbook-tab-container").on("click",(function(){var e=$("#textbook-tab-iframe");if(!e.attr("src")){var t=e.data("src");e.attr("src",t)}})),$("#video-tab-container").on("click",(function(){var e=$("#video-tab-slides-iframe");if(!e.attr("src")){var t=e.data("src");e.attr("src",t)}}))},Q.prototype.updateCodeExternally=function(e){var t=e.filename,n=e.data;this.code[t]=n,$(".file-list").html(""),$(".location-select").addClass("gone"),$("#new-file-folder-name").html(""),$("#new-file-folder-name").val(""),$("#new-file-folder-name-label").html(""),$("#new-file-folder-name").append('<option name=""></option>'),$("#new-folder-folder-name").html(""),$("#new-folder-folder-name").append('<option name=""></option>'),this.editorColumns.setupFileList(!1)},Q.prototype.setCodeFromJSON=function(e,t){var n,o=this,a=JSON.parse(e);o.code=a,o.currentCode=a,o.typeTester.isHTML()||o.typeTester.isUnitTest()||!t.mainClass?t.mainClass?(n=t.mainClass,o.activeFile=n):(n=r.ProgrammingLanguage.DEFAULT_FILENAME[o.language],o.activeFile=n):(n=t.mainClass+r.ProgrammingLanguage.FILE_SUFFIX[o.language],o.activeFile=n),i.has(a,n)||(n=Object.keys(a)[0],o.activeFile=n),o.setCode(a[n])},Q.prototype.getJarASCII=function(){return"     )))\n    (((\n  +-----+\n  |     |]\n  `-----'\n___________\n`---------'\nThis is a .jar file, which would be very hard to read."},t.exports=Q},{"../../../templates/editor/cpp/util.cpp":226,"../../../templates/editor/cpp/util.h":227,"../../../templates/editor/java/Circle.java":228,"../../../templates/editor/java/Color.java":229,"../../../templates/editor/java/ConsoleProgram.java":230,"../../../templates/editor/java/GraphicsProgram.java":231,"../../../templates/editor/java/Line.java":232,"../../../templates/editor/java/Randomizer.java":233,"../../../templates/editor/java/Rectangle.java":234,"../../../templates/editor/java/Text.java":235,"../../../templates/editor/java/Thing.java":236,"../../../templates/editor/react_native_embed.txt":237,"../../lib/codehs/chs-js-lib/index.js":221,"../core/constants.js":58,"../core/pubSub.js":60,"../utils/ajax.js":185,"../utils/chsUtils.js":187,"../utils/expoIntegrationUtils.js":189,"../utils/favoriteProgram.js":191,"../utils/quillCustom.js":193,"./bitInterpreter/":66,"./chsQuiz.js":69,"./chsResetItem.js":70,"./demoEditor":72,"./editorUtils":73,"./errors.js":76,"./karel/javaKarelErrors.js":81,"./karelTranslator.js":88,"./linters":89,"./modules/aceEditor.js":90,"./modules/codeSaver.js":91,"./modules/componentsTab.js":92,"./modules/conversationTab.js":93,"./modules/docsTab.js":94,"./modules/editorColumns.js":95,"./modules/editorErrors.js":96,"./modules/editorHistory.js":97,"./modules/editorInstructions.js":98,"./modules/editorKeyboardShortcuts":99,"./modules/editorLineErrors.js":100,"./modules/editorSettings.js":101,"./modules/editorSidebarContent.js":102,"./modules/embeddableEditor.js":103,"./modules/firepad.js":104,"./modules/gradeAndRespond.js":105,"./modules/gradingTab.js":106,"./modules/helpTab.js":107,"./modules/hocEditor.js":108,"./modules/lmsGradingTab.js":109,"./modules/localStorageCodeSaver.js":110,"./modules/phoneTab.js":111,"./modules/shareTab.js":112,"./modules/sidebar.js":113,"./modules/typeTester.js":114,"./modules/uploadTab.js":115,"./presentationEditor":118,"./repls/createReplConsole.js":119,"./repls/index.js":124,"./runnerFactory.js":125,"./runners/pythonTutorRunner.js":141,"./runners/reactNativeRunner.js":142,"./runners/runnerMetrics.js":143,"./submitter.js":159,lodash:504,toastr:858}],68:[function(e,t,n){"use strict";var i=e("../core/constants.js"),r=e("../core/pubSub.js"),o=e("../utils/ajax.js");t.exports=function(e){e=e||0;var t=$(".question-submit-button");$(".question-submit"),$("#submit-button").hide(),$("#save-button").hide(),$("#settings-button").hide(),$("td").each((function(e,t){$(this).addClass("gradingquiz-answer")}));for(var n=t.length,a=0;a<n-1;a++)$(t[a]).removeClass("question-submit-button").addClass("gradingquiz-button").hide();$(t[n-1]).removeClass("question-submit-button").addClass("gradingquiz-button").addClass("gradingquiz-submit-button"),$(".gradingquiz-submit-button").on("click",(function(){$(".gradingquiz-button").each((function(t,n){var a=$(this).attr("data-qid"),s=parseInt($(this).attr("data-qtype")),u=parseInt($(this).attr("data-atype")),l=function(e,t){return t==i.QuizQuestion.MULTIPLE_CHOICE||t==i.QuizQuestion.MULTIPLE_CHOICE_GRADING?$("input[name=question"+e+"]:checked").attr("data-idx"):t==i.QuizQuestion.SHORT_ANSWER?$("#text_"+e).val():null}(a,s);l&&(u==i.QuizQuestion.SINGLE_RESPONSE&&($(this).attr("disabled","disabled"),$(this).html("Answered"),s==i.QuizQuestion.SHORT_ANSWER&&$("#text_"+a).attr("disabled","disabled")),o.send({method:"answer_question",app:"quiz",data:{quizID:e,questionID:a,questionType:s,answer:l},success:function(e){r.trigger("quiz:answeredQuestion",{response:e,questionID:a})}}))}))}))}},{"../core/constants.js":58,"../core/pubSub.js":60,"../utils/ajax.js":185}],69:[function(e,t,n){"use strict";var i,r,o,a,s,u,l,c,d,p,h,f,m,g,y,v=e("./modules/editorColumns.js"),b=e("./getSidebarContent.js"),w=e("../core/constants.js"),E=e("../core/pubSub.js"),S=e("toastr"),T=e("../utils/ajax.js"),C=e("../utils/alert.js"),x=e("./chsGradingQuiz.js"),A=e("./submitter.js"),k=".num-answered",I=".num-correct",D="#quiz-reset",O="#next-button",P=".check-answer-button",N=".answer-checked-button",R=".table-clickable-rows tr",L="YYYY-MM-DD HH:mm:ss",M="#quiz-timer-toggle",F="True";function j(){return o>=a&&($(O).removeAttr("disabled"),E.trigger("utils:turnButtonGreen",O),$("#quiz-info").addClass("quiz-completed"),!0)}function B(e,t,n){var i=$("#q-"+e+" .question-answers tr")[t];$(i).addClass(n)}function U(e,t,n){n==w.QuizQuestion.CHECK_BOXES?(t=JSON.parse(t),$.each(t,(function(t,n){B(e,n,"correct")}))):B(e,t,"correct")}function H(e){var t,n,i=parseInt(e.response.questionID),r=parseInt(e.response.questionType),a=parseInt(e.response.answerType);if(r==parseInt(w.QuizQuestion.CHECK_BOXES)){t=e.response.userAnswer.replace(" ",""),n=e.response.correctAnswer.replace(" ","");var s=JSON.parse(e.response.reason);$.each(s,(function(e,t){$(".reasons-"+i).append('<p data-qid="'+i+'" data-markdown="'+t+'"></p>')})),E.trigger("CHS.Utils.markdown:setup")}else t=parseInt(e.response.userAnswer),n=parseInt(e.response.correctAnswer),$(".reasons-"+i).append('<p data-qid="'+i+'" data-markdown="'+e.response.reason+'"></p>'),E.trigger("CHS.Utils.markdown:setup");if(r!=parseInt(w.QuizQuestion.SHORT_ANSWER)?(!function(e,t){$("#q-"+e+" .question-answers tr").each((function(){$(this).prop("onclick",null).off("click"),$(this).removeClass("hoverable"),t==w.QuizQuestion.CHECK_BOXES?$(this).find("td input:checkbox").attr("disabled",!0):$(this).find("td input:radio").attr("disabled",!0)}))}(e.questionID,r),t===n?(d++,o++,$(I).html(d),U(e.questionID,n,r),$("button[data-qid="+i+"]").attr("disabled","disabled")):(!function(e,t,n,i){if(i==w.QuizQuestion.CHECK_BOXES){t=JSON.parse(t),n=JSON.parse(n);var r=JSON.stringify(_.difference(t,n));$.each(JSON.parse(r),(function(t,n){B(e,n,"incorrect")}))}else B(e,t,"incorrect")}(e.questionID,t,n,r),a==w.QuizQuestion.SINGLE_RESPONSE&&(o++,U(e.questionID,n,r),$("button[data-qid="+i+"]").attr("disabled","disabled")))):(o++,F="False",$("button[data-qid="+i+"]").attr("disabled","disabled")),$(k).html(o),j()){var u=ue();A(u?{student_assignment_id:u}:{item_id:oe(),module_id:ae(),course_id:se(),auto_grade:F})}}function G(e){(i=(e=e||{}).quizID||0,o=e.numAnswered||0,a=e.numQuestions||0,d=e.numCorrect||0,s=e.itemID||0,l=e.moduleID||0,c=e.courseID||0,u=e.itemType||0,p=e.makeEditorColumns||!1,h=e.pageUserID||0,f=e.pageUserName||"",m=e.studentAssignmentID,j(),$("#refresh").on("click",(function(){window.location.reload()})),$(R).on("mouseenter",(function(){"True"===$(this).parents(".question").attr("data-answered")&&$(this).removeClass("hoverable")})),$(R).on("click",(function(e){"True"!==$(this).parents(".question").attr("data-answered")&&$(this).find("td input:radio").prop("checked",!0)})),$(O).on("click",(function(e){if(j()){var t=ue();A(t?{student_assignment_id:t}:{item_id:oe(),module_id:ae(),course_id:se(),auto_grade:F})}})),$(D).on("click",(function(){var e,t,n;m?(e={studentAssignmentId:m},t="reset_assignment",n="lms"):(e={user_id:h,quiz_id:i,item_id:s},t="reset_quiz",n="quiz"),C({message:"Warning: This is will reset the entire quiz for "+f+".",button:"Reset",cancelButton:!0,ok_callback:function(){T.send({method:t,app:n,data:e,success:function(e){"ok"===e.status&&location.reload()}})}})})),$(".question-submit-button").on("click",(function(){if(!$(this).hasClass("gradingquiz-button")){var e=$(this).attr("data-qid"),t=parseInt($(this).attr("data-qtype")),n=parseInt($(this).attr("data-atype")),r=function(e,t){var n,i;if(t===w.QuizQuestion.MULTIPLE_CHOICE||t===w.QuizQuestion.MULTIPLE_CHOICE_GRADING||t===w.QuizQuestion.CHECK_BOXES){if(n=$("input[name=question"+e+"]:checked"),t==w.QuizQuestion.CHECK_BOXES){var r=[];$.each(n,(function(e,t){r.push(parseInt($(t).attr("data-idx")))})),i=JSON.stringify(r)}else i=n.attr("data-idx");return i}return t==w.QuizQuestion.SHORT_ANSWER?(n=$("#text_"+e)).val():null}(e,t);r&&(n==w.QuizQuestion.SINGLE_RESPONSE&&($(this).attr("disabled","disabled"),$(this).html("Answered"),t===w.QuizQuestion.SHORT_ANSWER&&$("#text_"+e).attr("disabled","disabled")),T.send({method:"answer_question",app:"quiz",data:{quizID:i,questionID:e,questionType:t,answer:r},success:function(t){"existed"===t.status&&C({message:"Looks like you already answered that question",button:"OK",cancelButton:!1,ok_callback:function(){}}),H({response:t,questionID:e})},error:function(e){C({message:"There was an error answering the question. Try refreshing the page, then if the problem continues, contact support@codehs.com",button:"OK",cancelButton:!1,ok_callback:function(){}})}}))}})),parseInt(u)===w.ItemType.GRADING_QUIZ&&(j()||$(O).attr("disabled","disabled"),x(i)),p)&&new v(null,{isQuiz:!0}).toggleSidebar();window.pageSpecific.loaded=!1,$('#open-toggle, a[href="#sidebar-content-tab"]').on("click",(function(){window.pageSpecific.loaded||(window.pageSpecific.loaded=b(window.pageSpecific.codeUserID||window.pageSpecific.pageUserID,window.pageSpecific.loaded))}))}function q(e){var t=null;re(e);var n=$("input[id^=qq"+e+"-answer]:checked"),i=window.pageSpecific.questionToData[e];n.closest("li").addClass("selected-answer"),n.length&&n.val()!=i.answer?(n.parent().addClass("incorrect-answer"),t=!1):n.length&&(t=!0),$("#qq"+e+"-answer"+i.answer).parent().addClass("correct-answer");var r=i["reason"+n.val()];return r&&($("#check-"+e+"-button").siblings(".answer-reason").removeClass("gone").text(r),E.trigger("CHS.Utils.markdown:setup")),o=$(".multiple-choice-option:checked").length,$(k).html(o),d=o-$(".incorrect-answer").length,$(I).html(d),t}function V(e){var t=$("input[id^=qq"+e+"-answer]:checked");window.pageSpecific.questionToData[e];T.send({method:"record_stats",app:"quiz",data:{selected_answer:t.val(),assignment_id:window.pageSpecific.assignmentID,question_id:e,qotd_user_identifier:window.pageSpecific.QOTDUserIdentifier},success:function(e){var t,n,i,r;t=e.html,n=$(t),i=$(".qotd-stats-display"),n.insertAfter(i),(r=e.streak)&&($(".streak").removeClass("hidden"),$(".streak-num").text(r),1==r?$(".streak").attr("title","You've correctly answered "+r+" day in a row!").tooltip("fixTitle"):$(".streak").attr("title","You've correctly answered "+r+" days in a row!").tooltip("fixTitle")),E.trigger("utils:charts:setup")},error:function(e){window.toastr.error("Something went wrong, refresh and try again.")}})}function z(){$(".multiple-choice-option:checked").attr("checked",!1),$(".correct-answer").removeClass("correct-answer"),$(".incorrect-answer").removeClass("incorrect-answer"),$(".selected-answer").removeClass("selected-answer"),$(".correct").removeClass("correct"),$(".incorrect").removeClass("incorrect"),$(".unanswered").removeClass("unanswered"),$(".answer-reason").addClass("gone").empty(),$(".multiple-choice-option:checked").prop("checked",!1),$(k).html(0),$(I).html(0),o=0,d=0,$(O).removeClass("btn-main-orange").addClass("btn-main").text("Submit"),window.pageSpecific.embeddedQuiz?$(O).one("click",Q):$(O).on("click",J),$(N).addClass(P.replace(".","")).removeClass(N.replace(".","")).text("Check"),_.includes(w.AssignmentAttempt.SCORE_SHOWN_IMMEDIATELY,window.pageSpecific.quizResultDisplay)||$(".score-container").hide(),ie()}function W(){$(".multiple-choice-option").on("change",(function(){var e=$(this),t=e.data("questionId");T.send({method:"track_quiz_answer",app:"quiz",data:{attempt_id:window.pageSpecific.assignmentAttemptID,question_id:t,answer_idx:e.val()},success:function(n){"ok"!=n.status?(window.toastr.error(n.msg),e.prop("checked",!1)):_.includes(w.AssignmentAttempt.SCORE_SHOWN_IMMEDIATELY,window.pageSpecific.quizResultDisplay)?$("#check-"+t+"-button").removeAttr("disabled"):(o=$(".multiple-choice-option:checked").length,$(k).html(o))},error:function(t){window.toastr.error("Something went wrong, refresh and try again."),e.prop("checked",!1)}})}))}function K(){$(P).on("click",(function(){var e,t=$(this),n=t.data("questionId");re(n),T.send({method:"finalize_quiz_answer",app:"quiz",data:{attempt_id:window.pageSpecific.assignmentAttemptID,question_id:n},success:function(i){"ok"==i.status?(t.removeClass(P.replace(".","")).addClass(N.replace(".","")).text("Answered"),i.reason&&(t.siblings(".answer-reason").removeClass("gone").text(i.reason),E.trigger("CHS.Utils.markdown:setup")),o=$(N).length,$(k).html(o),e=$("#qq"+n+"-answer"+i.selectedAnswer).parent(),i.correct?e.addClass("correct-answer"):(e.addClass("incorrect-answer"),null!=i.correctAnswer&&$("#qq"+n+"-answer"+i.correctAnswer).parent().addClass("correct-answer")),e.parent("li").addClass("selected-answer"),t.closest("li").children(".question-correctness-indicator").addClass(i.correct?"correct":"incorrect"),d=o-$(".incorrect-answer").length,$(I).html(d),i.finishedQuiz&&A({student_assignment_id:window.pageSpecific.studentAssignmentID,assignment_attempt_id:window.pageSpecific.assignmentAttemptID,submission_type:w.AssignmentAttempt.QUESTIONS_COMPLETED},(function(){var e={href:window.pageSpecific.nextUrl};$.each($(O)[0].attributes,(function(t,n){e[n.nodeName]=n.nodeValue}));var t=$("<a>",e).append($(O).contents());$(O).off("click",X).replaceWith(t)}))):(!function(e){$("#check-"+e+"-button").removeAttr("disabled"),$("input[id^=qq"+e+"-answer").removeAttr("disabled").parent().removeClass("disabled")}(n),window.toastr.error(i.msg))},error:function(e){window.toastr.error("Something went wrong, refresh and try again.")}})}))}function Y(){$(O).on("click",X)}function J(e){X(e,!0)}function X(e,t){var n="<p><strong>Are you sure you want to submit?</strong></p>";o<a&&(n+="<p>You have answered "+o+" out of "+a+" questions.</p>");var i={header:"Confirm Submit",rawHtml:n+="<p>No further changes will be allowed and all questions will graded as is.</p>",button:"Submit",cancelButton:!0};i.ok_callback=t?function(){Q()}:function(){ne(),A({student_assignment_id:window.pageSpecific.studentAssignmentID,assignment_attempt_id:window.pageSpecific.assignmentAttemptID,submission_type:w.AssignmentAttempt.CLICKED_SUBMIT},(function(){window.location.reload()}))},C(i)}function Q(){var e=_.includes(w.AssignmentAttempt.SCORE_SHOWN_IMMEDIATELY,window.pageSpecific.quizResultDisplay);Object.keys(window.pageSpecific.questionToData).forEach((function(t){var n;e&&!$("#check-"+t+"-button"+P).length||(n=q(t),$("#qq"+t+"-correctness-indicator").addClass(n?"correct":null==n?"unanswered":"incorrect"))})),d=$(".correct-answer .multiple-choice-option:checked").length,$(I).html(d),$(k).html(a),$(".score-container").show(),$(P).removeClass(P.replace(".","")).addClass(N.replace(".","")).text("Answered"),$(O).removeClass("btn-main").addClass("btn-main-orange").text("Reset").one("click",z).off("click",J)}function Z(e,t){var n=$("#quiz-timer-content"),i=$(M);t&&(i.off("click",Z).hide(),!n.is(":hidden"))||n.toggle({width:"toggle",complete:function(){i.toggleClass("collapsed",n.is(":hidden"))}})}function ee(){var e;ie(),$(".timed-quiz").addClass("quiz-started"),W(),Y(),y||(e=window.moment.tz(window.pageSpecific.codehsTimezone),y=e.clone().add(g,"minutes"),te(),T.send({method:"set_end_time",app:"quiz",data:{attempt_id:window.pageSpecific.assignmentAttemptID,start_time:e.format(L),end_time:y.format(L)},success:function(e){"ok"==e.status?te():(ne(),$(".timed-quiz").removeClass("quiz-started"),window.toastr.error("Issue starting quiz, refreshing momentarily"),setTimeout(window.location.reload(),2e3))},error:function(){ne(),$(".timed-quiz").removeClass("quiz-started"),window.toastr.error("Issue starting quiz, refreshing momentarily"),setTimeout(window.location.reload(),2e3)}}));var t=setInterval((function(){te()<=0&&(clearInterval(t),ne(),A({student_assignment_id:window.pageSpecific.studentAssignmentID,assignment_attempt_id:window.pageSpecific.assignmentAttemptID,submission_type:w.AssignmentAttempt.TIME_LIMIT_REACHED},(function(){window.location.reload()})))}),1e3)}function te(){var e,t,n,i=window.moment.tz(window.pageSpecific.codehsTimezone),r=window.moment.duration(y.diff(i));return r.asSeconds()<0?(e=0,t=0,n=0):(e=r.seconds(),t=r.minutes(),n=r.hours()),0==n&&(1==t&&0==e||0==t)?Z(0,!0):$(M).show(),$(".timer-secs").html(("0"+e).slice(-2)),$(".timer-mins").html(("0"+t).slice(-2)),$(".timer-hrs").html(n),$("#quiz-timer").show(),r}function ne(){$(".quiz-question-answers label").addClass("disabled").children("input[type=radio]").attr("disabled","disabled"),$(O).attr("disabled","disabled")}function ie(){$(".quiz-question-answers label").removeClass("disabled").children("input[type=radio]").removeAttr("disabled"),$(O).removeAttr("disabled")}function re(e){$("#check-"+e+"-button").attr("disabled","disabled"),$("input[id^=qq"+e+"-answer]").attr("disabled","disabled").parent().addClass("disabled")}function oe(){return s}function ae(){return l}function se(){return c}function ue(){return m}E.on("quiz:answeredQuestion",(function(e){H(e)})),E.on("quiz:setup",(function(){G({itemID:window.pageSpecific.itemID,moduleID:window.pageSpecific.moduleID,courseID:window.pageSpecific.courseID,quizID:window.pageSpecific.quizID,numAnswered:window.pageSpecific.numAnswered,numQuestions:window.pageSpecific.numQuestions,numCorrect:window.pageSpecific.numCorrect,makeEditorColumns:window.pageSpecific.makeEditorColumns,pageUserID:window.pageSpecific.pageUserID,pageUserName:window.pageSpecific.pageUserName,studentAssignmentID:window.pageSpecific.studentAssignmentID})})),E.on("quiz:attemptSetup",(function(){if(o=window.pageSpecific.numAnswered,a=window.pageSpecific.numQuestions,$(M).on("click",Z),g=window.pageSpecific.timeLimit,window.pageSpecific.endTime&&(y=window.moment.tz(window.pageSpecific.endTime,L,window.pageSpecific.codehsTimezone)),window.pageSpecific.ownPage&&window.pageSpecific.activeAttempt){if(g&&!y){var e=$("#quiz-start-countdown-modal");e.on("hidden.bs.modal",(function(){ee()})).modal({backdrop:"static",show:!0}),ne();var t=4,n=setInterval((function(){t<=0?(clearInterval(n),e.modal("hide")):t<3&&$(".quiz-start-countdown-count").html(t),t--}),1e3)}else g&&y?ee():(W(),Y());window.pageSpecific.isCertExam&&!window.pageSpecific.allowQuestionFeedback&&($(document).on("copy cut contextmenu",(function(e){e.stopPropagation(),e.preventDefault()})),$(document).on("keydown",(function(e){if((e.ctrlKey||e.metaKey)&&83==e.which)return e.stopPropagation(),void e.preventDefault();return(!e.ctrlKey&&!e.metaKey||-1==[65,67,69,73,74,75,84,85,90].indexOf(e.which))&&-1==[116,118,120,123].indexOf(e.which)||(e.stopPropagation(),void e.preventDefault())}))),_.includes(w.AssignmentAttempt.SCORE_SHOWN_IMMEDIATELY,window.pageSpecific.quizResultDisplay)&&K()}$(D).on("click",(function(){var e=$(this);e.prop("disabled",!0),C({message:"Are you sure you want to reset this quiz?",button:"Reset",cancelButton:!0,ok_callback:function(){T.send({method:"reset_assignment",app:"lms",header:"Reset Quiz",data:{studentAssignmentId:window.pageSpecific.studentAssignmentID},success:function(t){"ok"===t.status?(S.success("Quiz reset successful, page will refresh momentarily."),location.reload()):(S.error("Could not reset quiz, please try again."),e.prop("disabled",!1))},error:function(){S.error("Something went wrong, please refresh and try again.")}})}})}))})),E.on("quiz:qotdSetup",(function(){o=window.pageSpecific.numAnswered,a=window.pageSpecific.numQuestions,window.pageSpecific.ownPage&&window.pageSpecific.activeAttempt&&(g&&y?ee():(W(),Y()),_.includes(w.AssignmentAttempt.SCORE_SHOWN_IMMEDIATELY,window.pageSpecific.quizResultDisplay)&&K()),$(P).on("click",(function(){V($(this).data("questionId"))})),$(D).on("click",(function(){var e=$(this);e.prop("disabled",!0),C({message:"Are you sure you want to reset this quiz?",button:"Reset",cancelButton:!0,ok_callback:function(){T.send({method:"reset_assignment",app:"lms",header:"Reset Quiz",data:{studentAssignmentId:window.pageSpecific.studentAssignmentID},success:function(t){"ok"===t.status?(S.success("Quiz reset successful, page will refresh momentarily."),location.reload()):(S.error("Could not reset quiz, please try again."),e.prop("disabled",!1))},error:function(){S.error("Something went wrong, please refresh and try again.")}})}})}))})),E.on("quiz:qotdLoggedOutAttemptSetup",(function(){o=window.pageSpecific.numAnswered,a=window.pageSpecific.numQuestions,$(".multiple-choice-option").on("change",(function(){var e=$(this).data("questionId");_.includes(w.AssignmentAttempt.SCORE_SHOWN_IMMEDIATELY,window.pageSpecific.quizResultDisplay)?$("#check-"+e+"-button").removeAttr("disabled"):(o=$(".multiple-choice-option:checked").length,$(k).html(o))})),_.includes(w.AssignmentAttempt.SCORE_SHOWN_IMMEDIATELY,window.pageSpecific.quizResultDisplay)?$(P).on("click",(function(){var e=$(this).data("questionId");!function(e){re(e);var t=$("input[id^=qq"+e+"-answer]:checked"),n=window.pageSpecific.questionToData[e];t.closest("li").addClass("selected-answer"),t.val()!=n.answer?(t.parent().addClass("incorrect-answer"),$(".question-correctness-indicator").addClass("incorrect")):$(".question-correctness-indicator").addClass("correct");$("#qq"+e+"-answer"+n.answer).parent().addClass("correct-answer");var i=n["reason"+t.val()];i&&($("#check-"+e+"-button").siblings(".answer-reason").removeClass("gone").text(i),E.trigger("CHS.Utils.markdown:setup"));o=$(".multiple-choice-option:checked").length,$(k).html(o),d=o-$(".incorrect-answer").length,$(I).html(d)}(e),V(e),$(this).removeClass(P.replace(".","")).addClass(N.replace(".","")).text("Answered")})):$(".score-container").hide(),window.pageSpecific.embeddedQuiz?$(O).one("click",Q):$(O).on("click",J)})),E.on("quiz:mockAttemptSetup",(function(){o=window.pageSpecific.numAnswered,a=window.pageSpecific.numQuestions,$(".multiple-choice-option").on("change",(function(){var e=$(this).data("questionId");_.includes(w.AssignmentAttempt.SCORE_SHOWN_IMMEDIATELY,window.pageSpecific.quizResultDisplay)?$("#check-"+e+"-button").removeAttr("disabled"):(o=$(".multiple-choice-option:checked").length,$(k).html(o))})),_.includes(w.AssignmentAttempt.SCORE_SHOWN_IMMEDIATELY,window.pageSpecific.quizResultDisplay)?$(P).on("click",(function(){var e=q($(this).data("questionId"));$(this).removeClass(P.replace(".","")).addClass(N.replace(".","")).text("Answered").closest("li").children(".question-correctness-indicator").addClass(e?"correct":null==e?"unanswered":"incorrect")})):$(".score-container").hide(),window.pageSpecific.embeddedQuiz?$(O).one("click",Q):$(O).on("click",J)})),E.on("quiz:waitingRoomSetup",(function(){$("#start-quiz-modal").modal({backdrop:"static",show:!0}),$(".start-quiz-btn").on("click",(function(){var e=$(this);E.trigger("utils:disableButton",e),T.send({method:"exit_waiting_room",app:"quiz",data:{attempt_id:window.pageSpecific.assignmentAttemptID,start_time:window.moment.tz(window.pageSpecific.codehsTimezone).format(L)},success:function(t){"ok"==t.status?location.reload():(E.trigger("utils:enableButton",e),window.toastr.error(t.msg))},error:function(e){window.toastr.error("Something went wrong, refresh and try again.")}})}))})),E.on("quiz:setupQuizSidebar",(function(){if($("#problem-sidebar").length){var e=new v(null,{isQuiz:!0});e.toggleSidebar(),$("body").on("click","#problem-sidebar.minimized .sidebar-nav-tab",(function(){$($(this).attr("href")).tab("show"),e.toggleSidebar()}));var t=!1;$('#open-toggle, a[href="#sidebar-content-tab"]').on("click",(function(){t=b(window.pageSpecific.pageUserID,t)}))}})),E.on("quiz:setupStudentRetake",(function(){$("#student-retake").on("click",(function(){var e=$(this);e.attr("disabled","disabled"),T.send({method:"create_retake",app:"quiz",data:{student_assignment_id:window.pageSpecific.studentAssignmentID},success:function(t){"ok"==t.status?window.location.reload():(S.error("Could not create a retake!"),e.removeAttr("disabled"))},error:function(){S.error("Something went wrong!"),e.removeAttr("disabled")}})}))})),t.exports={setup:G,preview:function(e,t){function n(){var n=$(e).val(),i=r.makeHtml(n);$(t).html(i)}r=r||window.Markdown.getSanitizingConverter(),$(e).on("keypress",n),n()},getItemId:oe,getModuleId:ae,getCourseId:se,answeredQuestion:H}},{"../core/constants.js":58,"../core/pubSub.js":60,"../utils/ajax.js":185,"../utils/alert.js":186,"./chsGradingQuiz.js":68,"./getSidebarContent.js":77,"./modules/editorColumns.js":95,"./submitter.js":159,toastr:858}],70:[function(e,t,n){var i=e("../utils/ajax.js"),r=e("../utils/alert.js"),o=e("../core/pubSub.js"),a=e("toastr");function s(e){var t,n=$(".reset-student-settings");if(n.on("click",(function(){if(n.hasClass("not-pro"))l();else{var e="/reset_code/"+n.data("uid")+"/"+n.data("course_id");window.location.replace(e)}})),$(".js-reset-assignments").on("click",(function(){var e=$(this);e.hasClass("not-pro")&&!window.userData.isAdmin?l():function(e){r({message:"Are you sure? Clicking Ok will reset all of this student's assignments in back to the starter code. All code history will be deleted, along with quiz answers, assignment submissions, and grades",rawHtml:"<b>User To Be Affected: "+e.data("student-name")+"</b><br/><b>"+e.data("parent-type")+" To Be Affected: "+e.data("parent-title")+"</b>",header:"Reset "+e.data("parent-type"),cancelButton:!0,ok_callback:function(){o.trigger("utils:disableButton",e);var t={student_id:e.data("student-id"),klass_id:e.data("klass-id")};e.data("parent-id")&&(t.parent_id=e.data("parent-id")),i.send({method:"reset_assignments_for_student",app:"lms",data:t,success:function(t){o.trigger("utils:enableButton",e),"ok"==t.status?a.success(t.msg):a.error(t.msg)},error:function(t){o.trigger("utils:enableButton",e),r({message:"Reset was not successful!",header:"Unsuccessful Reset"})}})}})}(e)})),$(".js-assignment-reset").on("click",(function(){var e=$(this);e.hasClass("not-pro")&&!window.userData.isAdmin?l():function(e){var t="Are you sure? Clicking Ok will reset this student's progress on this assignment ";r({message:t+="and delete the student's code hisory.",rawHtml:"<b>User To Be Affected: "+e.data("name")+"</b>",cancelButton:!0,ok_callback:function(){i.send({method:"reset_assignment",app:"lms",data:{studentAssignmentId:e.data("student_assignment_id")},success:function(e){"ok"===e.status?location.reload(!0):a.error(e.msg)}})}})}(e)})),$(".js-teacher-tab").length&&(t=$(".js-item-reset").first()).on("click",(function(){u(t,"reset_item")})),$(".js-lesson-reset").on("click",(function(){!function(e){r({message:"Are you sure? Clicking Ok will reset this student's lesson back to the starter code. The code won't actually be deleted and you can see it in  the snapshots.",rawHtml:"<b>User To Be Affected: "+e.data("name")+"</b>",header:"Reset Lesson",cancelButton:!0,ok_callback:function(){i.send({method:"reset_lesson",app:"editor",data:{codeUserId:e.data("uid"),moduleId:e.data("mod_id"),itemId:e.data("item_id")},success:function(e){location.reload(!0)}})}})}($(this))})),$(".js-module-reset").on("click",(function(){!function(e){r({message:"Are you sure? Clicking Ok will reset this student's module back to the starter code. The code won't actually be deleted and you can see it in  the snapshots.",rawHtml:"<b>User To Be Affected: "+e.data("name")+"</b>",cancelButton:!0,header:"Reset Module",ok_callback:function(){$("body").removeClass("loaded"),i.send({method:"reset_module",app:"editor",data:{moduleId:e.data("mod_id"),codeUserId:e.data("uid")},success:function(e){location.reload(!0)},error:function(e){$("body").addClass("loaded"),r({message:"Module reset was not successful!",header:"Unsuccessful Reset"})}})}})}($(this))})),$(".module-toggle").on("click",(function(e){e.preventDefault(),function(e){e.toggleClass("minimized").toggleClass("expanded");var t=e.find("span").html();t&&(e.hasClass("expanded")?e.find("span").html(t.replace("View","Hide")):e.find("span").html(t.replace("Hide","View")));e.parents(".module").find(".module-expand").slideToggle()}($(this))})),$(".js-admin-tab").length){var s=encodeURIComponent(e.getCode());$(".js-admin-create-item").on("click",(function(){var e="?code="+s;window.location.href=$(this).data("href")+e})),(t=$(".js-reset-to-starter").first()).on("click",(function(){u(t,"reset_to_starter_code")}));var d=$(".js-set-starter").first();d.on("click",(function(){var t=e.code;e.save((function(){r({message:"Are you sure? Clicking Ok will overwrite the starter for all users.",cancelButton:!0,ok_callback:function(){i.send({method:"set_starter_code",app:"editor",data:{code:JSON.stringify(t),itemId:d.data("item_id")},success:function(e){"ok"===e.status?a.success("Starter code was successfully set","Starter Code Set"):a.error("Something went wrong.","Error occurred")}})}})}))})),$(".js-admin-remove-file").on("click",(function(){var e,t,n;e=$(".js-admin-remove-file").data("user-id"),t=$(".js-admin-remove-file").data("item-id"),n=$(".remove-file-text").val(),r({message:"Are you sure? Clicking Ok will remove this file",rawHtml:"<b>File to be removed: "+n+"</b>",cancelButton:!0,header:"Remove File",ok_callback:function(){i.send({method:"remove_file",app:"editor",data:{item_id:t,student_id:e,file_name:n},success:function(e){"ok"==e.status?a.success("File was removed! Refresh the page to see"):a.error(e.message)}})}})})),$(".js-set-solution").first().on("click",(function(){var t=e.code;e.save((function(){r({message:"Are you sure? Clicking Ok will overwrite the solution for all users.",cancelButton:!0,ok_callback:function(){i.send({method:"set_solution_code",app:"editor",data:{code:JSON.stringify(t),itemId:d.data("item_id")},success:function(e){"ok"===e.status?a.success("Solution code was successfully set","Solution Code Set"):a.error("Something went wrong.","Error occurred")}})}})}))})),$(".js-overwrite-work-with-snapshots").on("click",(function(){i.send({method:"overwrite_work_history_from_snapshots",app:"editor",data:{itemID:window.pageSpecific.itemID,userID:window.pageSpecific.codeUserID},success:function(){window.location.reload()}})})),$(".js-convert-specific-snapshot").on("click",(function(){var e=$("#specific-snapshot-id").val();isNaN(e)?window.toastr.error("Invalid Snapshot ID"):i.send({method:"convert_specific_snapshot_to_work",app:"editor",data:{itemID:window.pageSpecific.itemID,userID:window.pageSpecific.codeUserID,snapshotID:e},success:function(){window.location.reload()}})})),$(".js-set-force-use-work").on("click",(function(){i.send({method:"set_student_assignment_force_use_work",app:"editor",data:{studentAssignmentID:$(this).data("student-assignment-id"),forceUseWork:$(this).data("force-use-work-value")},success:function(e){"ok"===e.status?window.location.reload():a.error("Failed to set force_use_work on student assignment")}})})),$(".js-load-solution-code-to-editor").on("click",(function(){var e=Object.values(window.Ed.solutionCode)[0];window.Ed.setCode(e)})),$(".js-load-starter-code-to-editor").on("click",(function(){var e=Object.values(window.pageSpecific.starterCode)[0];window.Ed.setCode(e)})),$(".add-tag-form").on("submit",(function(e){e.preventDefault();var t=$(this),n=$("#tags-input").val();c(t.data("item"),n,"add")})),$(".tag-list").on("click",".chs-icon-cancel",(function(e){e.preventDefault();var t=$(this);c($(".add-tag-form").data("item"),t.parent().text(),"remove")}))}}function u(e,t){if(e.hasClass("not-pro")&&!window.userData.isAdmin)l();else{var n="Are you sure? Clicking Ok will reset this student's ";n+="reset_item"===t?"progress on this activity. ":"activity back to the starter code. ",r({message:n+="The code won't actually be deleted and you can see it in the snapshots",rawHtml:"<b>User To Be Affected: "+e.data("name")+"</b>",cancelButton:!0,ok_callback:function(){i.send({method:t,app:"editor",data:{codeUserId:e.data("uid"),itemId:e.data("item_id")},success:function(e){location.reload(!0)}})}})}}function l(){r({message:"The ability to reset a problem for a student, as well as many other teacher tools and resources is only available on CodeHS Pro. To upgrade, get in touch.",rawHtml:'<a href="/learnmore" class="btn btn-main-green">Learn More About Pro</a>'})}function c(e,t,n){i.send({method:"add_remove_item_tag",app:"library",data:{item_id:e,tag_name:t,action:n},success:function(e){"ok"===e.status&&($(".tag-list").html(""),e.tags.forEach((function(e){$("<span>").addClass("badge").text(e).append($('<span class="chs-icon-cancel">')).appendTo($(".tag-list"))})),$("#tags-input").val(""))}})}o.on("editor:setupResetButtons",s),t.exports=s},{"../core/pubSub.js":60,"../utils/ajax.js":185,"../utils/alert.js":186,toastr:858}],71:[function(e,t,n){t.exports='<div style="width:100%; height:100%; text-align:center; overflow-y:auto"><h2>{{title}}</h2><div style="height: 600px; width: 600px; margin:auto" id=js-run-tab-container></div><button style="position:fixed; right: 20px; bottom: 60px" id=js-continue-btn class="btn btn-main-green">Continue</button></div>'},{}],72:[function(e,t,n){var i=e("../submitter.js"),r=Handlebars.compile(e("./index.hbs"));t.exports=function(e){var t=$(r({title:e.itemTitle}));return t.find("#js-continue-btn").on("click",(function(){i({item_id:e.itemID,module_id:e.moduleID,course_id:e.courseID,correct:!0,auto_grade:!0},e.goToNext)})),t}},{"../submitter.js":159,"./index.hbs":71}],73:[function(require,module,exports){"use strict";var PubSub=require("../core/pubSub.js"),jsBeautify=require("js-beautify").js_beautify,NOT_KAREL_COMMENT="/* PRAGMA NOT_KAREL */";function linesWithoutSemicolons(e){var t=window.jslint(e).warnings,n=[];return t&&t.length&&t.forEach((function(e){e&&"expected_a_b"==e.code&&";"==e.a&&n.push(e.line+1)})),n}function removeComments(e){for(var t={singleQuote:!1,doubleQuote:!1,blockComment:!1,lineComment:!1,condComp:!1},n=0,i=(e=e.split("")).length;n<i;n++)if(t.singleQuote)"'"===e[n]&&"\\"!==e[n-1]&&(t.singleQuote=!1);else if(t.doubleQuote)'"'===e[n]&&"\\"!==e[n-1]&&(t.doubleQuote=!1);else if(t.blockComment)"*"===e[n]&&"/"===e[n+1]&&("\n"!==e[n+1]&&(e[n+1]=""),t.blockComment=!1),"\n"!==e[n]&&(e[n]="");else if(t.lineComment)"\n"!==e[n+1]&&"\r"!==e[n+1]||(t.lineComment=!1),"\n"!==e[n]&&(e[n]="");else if(t.condComp)"@"===e[n-2]&&"*"===e[n-1]&&"/"===e[n]&&(t.condComp=!1);else if(t.doubleQuote='"'===e[n],t.singleQuote="'"===e[n],"/"===e[n]){if("*"===e[n+1]&&"@"===e[n+2]){t.condComp=!0;continue}if("*"===e[n+1]){"\n"!==e[n]&&(e[n]=""),t.blockComment=!0;continue}if("/"===e[n+1]){"\n"!==e[n]&&(e[n]=""),t.lineComment=!0;continue}}return e.join("")}function lineNumberFromError(e){var t=-1;return e.stack.replace(/<anonymous>:(.*):/gm,(function(e,n,i,r){-1==t&&(t=parseInt(n))})),t}function generateCodeArray(e){return e.split("\n")}function safeEditorCode(e,t){var n=(t=t||{}).fnOnError||function(){},i=t.toTryArgs||[],r=t.errorType||"eval";try{return e.apply(null,i)}catch(e){return PubSub.trigger("editorError:handle",e,r),n(e)}}function safeEval(code,context,contextName){var __context__;3===arguments.length&&(__context__=context,context=__context__,code="(function("+contextName+"){"+code,code+="})(__context__);");var fnToTry=function(){return{result:eval(code),hasError:!1}},fnOnError=function(e){return{hasError:!0,error:e}};return safeEditorCode(fnToTry,{fnOnError:fnOnError,errorType:"eval"})}function testInfiniteLoops(e){return safeEditorCode((function(){for(var t=new window.Interpreter(e),n=0;!t.paused_&&t.step()&&n<=2e4;)n++;if(n>=2e4)throw Error;return{result:t.value,hasError:!1}}),{fnOnError:function(){return{hasError:!0}},errorType:"infinite_loop"})}function safeSkulpt(){var e=arguments;return window.Sk.misceval.asyncToPromise((function(){return window.Sk.importMainWithBody.apply(null,e)}),{"Sk.promise":function(e){return e.data.promise.then((function(t){return e.resume()})).catch((function(e){return Promise.reject(e)}))}}).catch((function(t){if(e[e.length-1].preprocess)return t.preprocess=!0,"NameError"===t.__proto__.tp$name?Promise.resolve():(PubSub.trigger("editorError:handle",t,"skulpt"),Promise.reject(t));if(e[e.length-1].stripHighlightLines){var n=e[2].split("\n").reduce((function(e,t){var n=e[e.length-1];return e.push(t.trim().startsWith("highlight_line")?n+1:n),e}),[0]);t.traceback[0].lineno-=n[t.traceback[0].lineno]}return PubSub.trigger("editorError:handle",t,"skulpt"),Promise.reject(t)}))}function safeCallback(e,t){return function(){var n={};return n.fnOnError=t,n.toTryArgs=arguments,safeEditorCode(e,n)}}function safeSetInterval(e,t,n){var i=safeCallback(e,(function(){clearInterval(r)})),r=setInterval(i,n,t);return r}function makeSafeForInfiniteLoops(e){var t=removeComments(e),n="__ = new __karelRunner__.infiniteLoopDetector(__karelRunner__);",i=0,r=t.replace(/while\s*\((.*)\)/gm,(function(e,t,r,o){return NOT_KAREL_COMMENT+"var __loop_counter_"+i+++n+"while("+t+" && (__loop_counter_"+(i-1)+"__.dec()))"}));return r=r.replace(/for\s*\((.*);(.*);(.*)\)/gm,(function(e,t,r,o,a,s){var u="";return/\S/.test(r)&&(u=" && "),NOT_KAREL_COMMENT+"var __loop_counter_"+i+++n+"for("+t+"; "+r+u+"(__loop_counter_"+(i-1)+"__.dec()); "+o+")"}))}function getPrettyCode(e){var t=void 0!==e.code?e.code:"",n=void 0!==e.brace_style?e.brace_style:"collapse";return jsBeautify(t,{indent_size:1,indent_char:"\t",space_before_conditional:!1,brace_style:n})}function testIndentation(e){function t(e,t){function n(e){return""===(e=$.trim(e))}function i(e){var t=e.replace(/\s+$/g,"").split("    ").join("\t");return t=t.split(" ").join("")}function r(e){return e.split("\t").length-1}var o=getPrettyCode({brace_style:t,code:e})+"\n",a=[],s=e.split("\n"),u=o.split("\n");u=function(e,t){for(var n=0;""===e[n];){t=[""].concat(t),n++}return t}(s,u),u=function(e){for(var t=0;t<e.length;t++){var n=e[t],i=s[t];""===n&&"function"==(i=$.trim(i)).substr(0,"function".length)&&(e.splice(t,1),t--)}return e}(u);for(var l=0;l<u.length;l++){var c=s[l];if(!n(c)){c=i(c);var d=i(u[l]);if(c!=d){var p=r(c)-r(d);a.push({line:l+1,tab_difference:p})}}}return a}if(!function(e){var t=removeComments(e),n=(t.split("'").length-1)%2==0,i=t.split('"').length-1;return n&&i%2==0}(e))return[];var n=t(e,"collapse"),i=t(e,"expand");return i.length<n.length&&(n=i),n}function flattenAbacusFiles(e,t){return function e(t,n){return t.reduce((function(t,i){return Array.isArray(i.files)?t.concat(Object.assign({},i,{name:n+i.name+"/."}),e(i.files,n+i.name+"/")):t.concat(Object.assign({},i,{name:n+i.name}))}),[])}(_.cloneDeep(e),t||"")}function mapAbacusFiles(e,t){return function e(t,n){return t.map((function(t){return t.files&&(t.files=e(t.files,n)),n(t)}))}(_.cloneDeep(e),t)}function getInstallCommand(e,t){switch(t){default:return null;case"python2":return Object.keys(e).indexOf("requirements.txt")>-1&&"pip install -r requirements.txt --user";case"python3":return Object.keys(e).indexOf("requirements.txt")>-1&&"pip3 install -r requirements.txt --user";case"node":return Object.keys(e).indexOf("package.json")>-1&&"npm install package.json"}}function getPDBCommand(e){var t="pdb ",n=!1;return Object.keys(e).forEach((function(i){i.endsWith(".py")&&Object.keys(e[i]).forEach((function(e){t+='-c "b '+i+":"+e+'" ',n=!0}))})),n&&(t+="-c c "),t}function groupsToPermissions(e){var t={canUseChat:e.indexOf("Collab Chat")>-1,canToggleAutoRefresh:e.indexOf("Auto-Refresh Beta Testers")>-1,showSpriteEditor:e.indexOf("Sprite Editor Beta Testers")>-1,canComment:e.indexOf("Inline Comments Beta")>-1},n=["javascript-graphics","javascript-console","javascript-graphics-no-console"].indexOf(window.pageSpecific.abacusProjectType)>-1,i=["html"].indexOf(window.pageSpecific.abacusProjectType)>-1,r="brython-graphics"===window.pageSpecific.abacusProjectType;return t.canChangeIFrameTemplate=n||i||r,t}module.exports={linesWithoutSemicolons:linesWithoutSemicolons,removeComments:removeComments,lineNumberFromError:lineNumberFromError,generateCodeArray:generateCodeArray,safeEval:safeEval,safeCallback:safeCallback,safeSetInterval:safeSetInterval,safeSkulpt:safeSkulpt,makeSafeForInfiniteLoops:makeSafeForInfiniteLoops,testIndentation:testIndentation,getPrettyCode:getPrettyCode,testInfiniteLoops:testInfiniteLoops,flattenAbacusFiles:flattenAbacusFiles,mapAbacusFiles:mapAbacusFiles,getInstallCommand:getInstallCommand,getPDBCommand:getPDBCommand,groupsToPermissions:groupsToPermissions}},{"../core/pubSub.js":60,"js-beautify":474}],74:[function(e,t,n){getErrorType=function(e){for(var t=[{regex:/^'.*?' expected/,errorType:"EXPECTED_SYMBOL_MISSING"},{regex:/unclosed string literal/,errorType:"UNCLOSED_STRING_LITERAL"},{regex:/illegal start of expression/,errorType:"ILLEGAL_EXPRESSION_START"},{regex:/not a statement/,errorType:"NOT_A_STATEMENT"},{regex:/^orphaned default/,errorType:"ORPHANED_DEFAULT"},{regex:/case, default, or '\}' expected/,errorType:"MALFORMED_SWITCH_STATEMENT"},{regex:/cannot find symbol/,errorType:"CANNOT_FIND_SYMBOL"},{regex:new RegExp("method .*? in class .*? cannot be applied to given types;"),errorType:"PARAM_TYPE_MISMATCH"},{regex:/variable \w*? is already defined in method .*?/,errorType:"DOUBLE_DEFINED"},{regex:/array required, but \w*? found/,errorType:"NOT_AN_ARRAY"},{regex:new RegExp("cannot return a value from method whose result type is void"),errorType:"CANNOT_RETURN_VOID"},{regex:/^incompatible types$/,errorType:"INCOMPATIBLE_TYPES"},{regex:/java\.lang\.StackOverflowError/,errorType:"STACK_OVERFLOW"},{regex:/java\.lang\.OutOfMemoryError/,errorType:"OUT_OF_MEMORY"},{regex:/java\.lang\.StringIndexOutOfBoundsException/,errorType:"STRING_INDEX_OOB"},{regex:/java\.lang\.ArrayIndexOutOfBoundsException/,errorType:"ARRAY_INDEX_OOB"},{regex:/java\.lang\.NullPointerException/,errorType:"NULL_POINTER_EXCEPTION"},{regex:/java\.util\.InputMismatchException/,errorType:"INPUT_MISMATCH_EXCEPTION"},{regex:/java\.lang\.ArithmeticException/,errorType:"DIVIDE_BY_ZERO"},{regex:/java\.util\.IllegalFormatConversionException/,errorType:"ILLEGAL_FORMAT_CONVERSION"},{regex:/java\.util\.UnknownFormatConversionException/,errorType:"UNKNOWN_FORMAT_CONVERSION"},{regex:/java\.lang\.NumberFormatException/,errorType:"NUMBER_FORMAT_EXCEPTION"}],n=0;n<t.length;n++){var i=t[n];if(i.regex.test(e))return i.errorType}return""},findCodeExample=function(e){return""},getSimpleMessage=function(e){var t="",n=e.message.split(":");switch(e.errorType){case"EXPECTED_SYMBOL_MISSING":t="You forgot a `"+e.message.match(/'(.*?)' expected/)[1],t+="`, probably at the end";break;case"UNCLOSED_STRING_LITERAL":t="You forgot to end your string with a `\"` or `'`";break;case"ILLEGAL_EXPRESSION_START":e.errorLine.match(/=\s*?;/)?t="You forgot the right side of the assignement.":e.errorLine.match(/\)\s*?\)/)&&(t="You might have an extra parenthese.");break;case"NOT_A_STATEMENT":t="Not a statement.";break;case"ORPHANED_DEFAULT":t="Sorry, you can't use `default` as a variable name.";break;case"MALFORMED_SWITCH_STATEMENT":t="This is an imporperly formatted `switch` statement.";break;case"CANNOT_FIND_SYMBOL":t="You may have forgotten to declare `",t+=e.errorParams.symbol,t+="` or it's out of scope.";break;case"PARAM_TYPE_MISMATCH":t="Method is expecting type `",t+=e.errorParams.required,t+="` and type `"+e.errorParams.found,t+="` was given.";break;case"DOUBLE_DEFINED":var i=e.message.match(/defined in method (.*)/)[1];t="Variable `"+e.message.match(/variable (\w*?) /)[1]+"` is already defined ",t+="in method `"+i+"`";break;case"NOT_AN_ARRAY":t="`array` require, but `"+e.message.match(/required, but (.*?) found/)[1]+"` found.";break;case"CANNOT_RETURN_VOID":t="Cannot return a value from a `void` method.";break;case"INCOMPATIBLE_TYPES":e.errorLine.match(/return /)?(t="You're returning a type `",t+=e.errorParams.found+"` when you should be",t+=" returning a type `",t+=e.errorParams.required+"`."):(t="Cannot convert from `"+e.errorParams.found,t+="` to `"+e.errorParams.required+"`");break;case"STACK_OVERFLOW":t="Looks like you might have an infinite loop.";break;case"OUT_OF_MEMORY":t="Out of memory! Please try again.";break;case"NULL_POINTER_EXCEPTION":t="You appear to be referencing a variable that is ",t+="null.";break;case"STRING_INDEX_OOB":t="The index `"+n[n.length-1]+"` appears to be out ",t+="of bounds for this string.";break;case"ARRAY_INDEX_OOB":t="The index `"+n[n.length-1]+"` appears to be out ",t+="of bounds for this array.";break;case"INPUT_MISMATCH_EXCEPTION":t="Your scanner expected a different input then was ",t+="given.";break;case"DIVIDE_BY_ZERO":t="You may be dividing by zero.";break;case"ILLEGAL_FORMAT_CONVERSION":case"UNKNOWN_FORMAT_CONVERSION":t="Could not convert variable to specified format ",t+="type.";break;case"NUMBER_FORMAT_EXCEPTION":t="Cannot convert to specified number type."}return e.editor.typeTester.isJava()&&"CANNOT_FIND_SYMBOL"==e.errorType&&"variable grader of type Grader"==e.errorParams.location&&(e.lineNumber=1,e.column=0,t="Your method name might be off, it should be `",t+=e.errorParams.symbol+"`"),e.simpleMessage=t,e},t.exports={getErrorType:getErrorType,findCodeExample:findCodeExample,getSimpleMessage:getSimpleMessage}},{}],75:[function(e,t,n){var i=["putBall","takeBall","turnLeft","turnRight","turnAround","frontIsClear","frontIsBlocked","leftIsClear","leftIsBlocked","rightIsClear","rightIsBlocked","ballsPresent","noBallsPresent","facingNorth","facingEast","facingSouth","facingWest","println","readBoolean","readInt","readFloat","Math","getHeight","getWidth","getRadius","setPosition","setColor","getX","getY","move","Color"],r=function(e){return"OBJECT_TYPE_ERROR"==e.errorType?e.message.substr(e.message.indexOf("<")+1,e.message.indexOf(">")-e.message.indexOf("<")-1):null},o=function(e,t){for(var n=e.length>t.length?e.length:t.length,i=0,r=0;r<n;r++)e[r]!=t[r]&&i++;return i},a=function(e,t){for(var n=0;n<t.length;n++)if(e[n]!=t[n])return t[n];return null},s=function(e){e=e.toLowerCase();for(var t=0;t<i.length;t++)if(e==i[t].toLowerCase())return i[t];return null},u=function(e){for(var t=0;t<i.length;t++)if(o(i[t],e)<4)return i[t];return null};t.exports={getErrorType:function(e){for(var t=[{regex:/^Uncaught SyntaxError: Unexpected token \)$/,errorType:"UNEXPECTED_CLOSE_PARENS"},{regex:/Unexpected token '\)'/,errorType:"UNEXPECTED_CLOSE_PARENS"},{regex:/Expected token '\)'/,errorType:"EXPECTED_CLOSE_PARENS"},{regex:/ReferenceError:/,errorType:"REFERENCE_ERROR"},{regex:/Unexpected end of input/,errorType:"END_OF_INPUT"},{regex:/Unexpected token \}/,errorType:"EXTRA_END_BRACE"},{regex:/Unexpected token else/,errorType:"UNEXPECTED_ELSE"},{regex:/^Uncaught SyntaxError: Unexpected token :$/,errorType:"UNEXPECTED_COLON"},{regex:/Unexpected token ':'/,errorType:"UNEXPECTED_COLON"},{regex:/SyntaxError: Unexpected token ;/,errorType:"UNEXPECTED_SEMICOLON"},{regex:/TypeError: Object #/,errorType:"OBJECT_TYPE_ERROR"},{regex:/has no method/,errorType:"OBJECT_TYPE_ERROR"},{regex:/SyntaxError: Unexpected string/,errorType:"UNEXPECTED_STRING"},{regex:/missing ; after for\-loop/,errorType:"FOR_LOOP_ERROR"},{regex:/Unexpected token &&/,errorType:"UNEXPECTED_&&"},{regex:/Unexpected token if/,errorType:"UNEXPECTED_ID"},{regex:/Unexpected token while/,errorType:"UNEXPECTED_ID"},{regex:/Unexpected token for/,errorType:"UNEXPECTED_ID"},{regex:/Unexpected identifier/,errorType:"UNEXPECTED_ID"},{regex:/Unexpected number/,errorType:"UNEXPECTED_NUMBER"},{regex:/Naked block/,errorType:"NAKED_BLOCK"}],n=0;n<t.length;n++){var i=t[n];if(i.regex.test(e))return i.errorType}},findCodeExample:function(e){switch(e.objectType=r(e),e.errorType){case"UNEXPECTED_CLOSE_PARENS":case"REFERENCE_ERROR":case"END_OF_INPUT":case"EXTRA_END_BRACE":break;case"EXPECTED_CLOSE_PARENS":return"// Make sure to put conditions in your if statements in between parentheses \nif (frontIsClear()) {\n    ...\n} \nif (age < 21) {\n    ...\n}";case"UNEXPECTED_ELSE":return"if (CONDITION) { \n    //code that runs if CONDITION is true \n} else { \n    //code that runs if CONDITION is false \n}";case"UNEXPECTED_COLON":return"karel"==e.progtype||"superkarel"==e.progtype?"// Correct\nturnLeft();\nputBall();\nmove(); \n\n//Incorrect\nturnLeft():\nputBall():\nmove():":'// Correct\nturnLeft();\nprintln("Hello World");\nvar age = readInt("How old are you?"); \n\n//Incorrect\nturnLeft():\nprintln("Hello World"):\nvar age = readInt("How old are you?"):';case"UNEXPECTED_SEMICOLON":return"function newFunctionName() {\n   // When creating a function, don't put a semicolon\n}\n\nwhile (frontIsClear()) {\n   // No semicolon after a while loop's condition\n} \n\n// Puts the circle in the middle and at y-coordinate 300\n// Don't put semicolons in the parameters \nvar top = 300; \ncircle.setPosition(getWidth()/2, top);";case"OBJECT_TYPE_ERROR":switch(e.objectType){case"Circle":return"// Circle Documentation:\n\nvar circle = new Circle(radius);\n\ncircle.getRadius();\ncircle.setPosition(xPos, yPos); \ncircle.getX();\ncircle.getY();\ncircle.move(dx, dy);";case"Rectangle":return"// Rectangle Documentation:\n\nvar rect = new Rectangle(width, height);\n\nrect.setPosition(xPos, yPos); \nrect.getX();\nrect.getY();\nrect.move(dx, dy);\nrect.getWidth();\nrect.getHeight();"}break;case"UNEXPECTED_STRING":return'var playerName = readLine("Player Name: ");\nvar numPoints = readInt("Number of Points: "); \nvar numRebounds = readInt("Number of Rebounds: "); \nprintln(playerName + " scored " + numPoints + \n   " points and had " + numRebounds + " rebounds.");';case"FOR_LOOP_ERROR":return"for (var i=0; var i < COUNT; i++) {\n    //code that gets repeated\n} \n\n//Remember to replace COUNT with an actual number (or variable) like this\nfor (var i=0; var i < 4; i++) {";case"NAKED_BLOCK":return""}return""},getSimpleMessage:function(e){var t,n,i=e.message;switch(e.errorType){case"UNEXPECTED_CLOSE_PARENS":i='You might be missing a <span class="code">(</span> or have an extra <span class="code">)</span>';break;case"EXPECTED_CLOSE_PARENS":i='You are missing a <span class="code">)</span> somewhere.';break;case"REFERENCE_ERROR":var r=e.message.substr("Uncaught ReferenceError: ".length),o=(r.indexOf(" "),r.split(" "));if("Can't"===(t=o[0])&&(t=o[o.length-1]),"turnRight"==t){i="Karel doesn't know how to turn right! Is there another way you can solve this? <br/>(Hint: Karel can turnLeft(); )";break}if("turnAround"==t){i="Karel doesn't know how to turn around! Is there another way you can solve this? <br/>(Hint: Karel can turnLeft(); )";break}var l=s(t);if(null!==l){var c=a(t,l),d="";null!==c&&c===c.toUpperCase()?d="It looks like you should capitalize the "+c:null!==c&&c===c.toLowerCase()&&(d="It looks like you should put the "+c+" in lowercase."),i='You made a typo. You typed <span class="code">'+t+'</span> but probably meant <span class="code">'+l+"</span> - Check your capitalization. "+d}else i=null!==(n=u(t))?t==n?'<span class="code">'+t+'();</span> isn\'t defined in Karel. You must define it yourself or just use <span class="code">turnLeft();</span> to do what you want.':'You may have made a typo. You typed <span class="code">'+t+'</span> but probably meant <span class="code">'+n+"</span> - Check your spelling and capitalization.":'<span class="code">'+t+"</span> is not defined. You may have a typo. Check your spelling and capitalization.";break;case"END_OF_INPUT":i="You are probably missing an end bracket } somewhere. Check to make sure every { matches with a }. It helps to use good indentation style with your code. Look at the command reference for examples.";break;case"EXTRA_END_BRACE":i='It looks like you have an extra <span class="code">}</span>. Or you might just have an incomplete line somewhere. Make sure all parentheses and brackets are matched up.';break;case"UNEXPECTED_ELSE":i='You may have an extra <span class="code">else</span> in your code. Remember, there is only <span class="code">if/else</span>. There is no <span class="code">while/else</span>.<br/>If you think you need a <span class="code">while/else</span>, you just need to put the code after the while loop. If the while loop\'s condition is not true, it will just start running the code right after it.';break;case"UNEXPECTED_COLON":i='You have an extra colon <span class="code">:</span> on this line. You may have meant to put a semicolon <span class="code">;</span> instead.';break;case"UNEXPECTED_SEMICOLON":i='Are you missing a <span class="code">)</span>?<br/>You may have an extra semicolon <span class="code">;</span> on this line.<br/>Remember, if you\'re creating your own function or starting a while loop, you don\'t use a semicolon.<br/>Also, if you have a parameter in a function, don\'t put a semicolon inside the <span class="code">()</span>';break;case"OBJECT_TYPE_ERROR":var p=i.substr(i.indexOf("<")+1,i.indexOf(">")-i.indexOf("<")-1),h=i.indexOf("'"),f=i.indexOf("'",h+1);t=i.substr(h+1,f-h-1),i=null!==(n=u(t))?t==n?"A "+p+' object does not have a method named <span class="code">'+t+"();</span>":'Your object does not have a method named <span class="code">'+t+'</span> - You may have meant <span class="code">'+n+"</span> -- Check your spelling and capitalization.":'Your object does not have a method named <span class="code">'+t+"</span> - You may have a typo. Check your spelling and capitalization.";break;case"UNEXPECTED_STRING":i="You may have a string of text in the wrong place or you forgot a '+' between text and a variable.";break;case"FOR_LOOP_ERROR":i="You have an issue with a for-loop. Remember to use semicolons inside the parentheses.";break;case"UNEXPECTED_&&":i='Are you missing a <span class="code">(</span> or <span class="code">)</span> somewhere?';break;case"UNEXPECTED_ID":i='Check the previous line. Are you missing a <span class="code">(</span> or <span class="code">)</span> or <span class="code">{</span> or <span class="code">}</span>?';break;case"UNEXPECTED_NUMBER":i="You may be missing a comma between your parameters. <br/>Or, you have an extra space between numbers. <br/>Remember, you cannot name a function or var starting with a number.";break;case"NAKED_BLOCK":e.message="Curly Bracket Error",i="Looks like you have an error with curly bracket. Double check for missing brackets, extra brackets, or typos.";break;default:i=""}return e.simpleMessage=i,e}}},{}],76:[function(e,t,n){"use strict";var i,r=e("../core/constants.js"),o=function(e){for(var t="",n=0,i=!1,r=e.length-1;r>0;r--){var o=e[r];if("start "==o.substr(0,"start ".length)||0!==t.length){if(-1==o.indexOf("<anonymous>")){if(n++>=1)break;i=!0}var a=i?" (error here)":"<br/>";t=t+o.substr(0,o.indexOf(" ")+1)+a}}return t="//Follow the function trace to find your error:<br/>"+t},a=function(){var e=$(".error-box"),t=$(".error-container");t.append('<li class="bold">Your code did not pass the Autograder!</li>'),t.append("<li>Did you forget to print something?</li>"),t.append("<li>Did you check that you are using the right types?</li>"),t.append("<li>Did you make sure to check all edge cases?</li>"),e.show()},s=function(e){var t=$(".error-box"),n=$(".error-container"),r=$("#output"),o=e.fileName||"";o=o.replace(/^root\//,"");try{window.Ed.highlightLine(e.line,!1,o)}catch(t){console.log("Error in code on line "+e.line)}if(t.exists()||r.exists()){t.show();var a='<li class="ui-widget-content error-entry"',s="";a+=" data-column="+e.column||0,e.line&&(a+=" data-line="+e.line,s="Line "+e.line+": "),o&&(a+=" data-filename="+o,s=o+": "+s),a+=">",e.simpleMessage?s+=e.simpleMessage:s+=e.originalMessage,n.append(a+s+"</li>"),i=window.Markdown.getSanitizingConverter(),$(".error-entry").each((function(e,t){var n=$(this).html(),r=i.makeHtml(n);r=r.replace(/&amp;/g,"&"),$(this).html(r)})),window.prettyPrint(),$("#tab-bar").animate({scrollTop:t.offset().top})}},u=function(e){var t=$("#error-popup"),n=$("#output");try{window.Ed.highlightLine(e.line)}catch(t){console.log("Error in code on line "+e.line)}if(t.exists()||n.exists()){var i=n.width()||400,r=n.width()||300,o=n.offset().top||200;t.css("top",o+.1*r),t.width(.7*i),t.removeClass("gone"),$(".line-number").html(": Line "+e.line),$(".original-message").html(e.originalMessage),$(".simple-message").html(e.simpleMessage),$(".error-examples").html(e.examples),$(".stack").html(e.stack),""===e.stack?$(".stack").hide():$(".stack").show(),""===e.line||-1===e.line?$(".line-number").hide():$(".line-number").show(),""===e.examples?$(".error-examples").hide():$(".error-examples").show(),window.prettyPrint()}},l=function(e){};t.exports={show:function(t){var n,i="";if(void 0!==t.trace&&(i=o(t.trace)),"non-karel-js"===t.langType)t.errorType=t.rawError.name,t.simpleMessage=t.message,t.codeExamples=[];else{var c=(n=t.langType,e("java"==n?"./errorTranslators/javaTranslator.js":"./errorTranslators/karelJSTranslator.js"));t.errorType=c.getErrorType(t.message),(t=c.getSimpleMessage(t)).codeExamples=c.findCodeExample({errorType:t.errorType,progtype:t.progtype,message:t.message})}t.progtype===r.ProgramType.REACT_NATIVE&&(t.simpleMessage="");var d={line:t.lineNumber,originalMessage:t.message,simpleMessage:t.simpleMessage,progType:t.progtype||"graphics",examples:t.codeExamples,fileName:t.fileName,location:t.location,stack:i,column:t.column};if("errorList"===t.errorDisplay?s(d):"graderError"===t.errorDisplay?a():u(d),t.log){var p=t.editor.getInfo();l({user_id:p.codeUserID,item_id:p.itemID,module_id:p.moduleID,course_id:p.courseID,msg:t.message,simple_message:t.simpleMessage,line_number:t.lineNumber,editor_error:t.editorError||!1})}},hide:function(){$("#error-popup").addClass("gone"),$(".error-box").hide()},libraryError:function(e){this.show({message:e,lineNumber:"",trace:window.printStackTrace(),progtype:"graphics"})}}},{"../core/constants.js":58,"./errorTranslators/javaTranslator.js":74,"./errorTranslators/karelJSTranslator.js":75}],77:[function(e,t,n){var i=e("../utils/ajax.js"),r=e("../core/pubSub.js"),o="#sidebar-content-tab";function a(e){e.next().slideDown(400,(function(){var t=$(o).scrollTop()-$(o).offset().top;$(o).animate({scrollTop:e.offset().top+t},400)}))}t.exports=function(e,t){return!0===t||i.send({method:"get_sidebar_content",app:"editor",data:{userId:e,itemId:window.pageSpecific.itemID,moduleId:window.pageSpecific.moduleID,courseId:window.pageSpecific.courseID,studentAssignmentId:window.pageSpecific.studentAssignmentID||0},success:function(e){if("ok"===e.status&&!t){t=!0;var n=$(e.text);$(o).prepend(n);var i=$("#course-search"),s=$("#search-results"),u=$(".js-search-item");if(i.on("keyup",(function(){var e=i.val();e.length>=3?(s.show(),u.each((function(){var t=$(this);-1!==t.data("item-title").toLowerCase().indexOf(e)?t.show():t.hide()}))):s.hide()})),$(".module-progress").on("click",(function(){var e=$(this);$(this).hasClass("closed")?($(".module-progress.open").length?$(".module-progress.open").next().slideUp(400,(function(){$(this).prev().addClass("closed").removeClass("open").attr("aria-expanded","false"),a(e)})):a(e),$(this).addClass("open").removeClass("closed").attr("aria-expanded","true")):$(this).next().slideUp("slow",(function(){e.addClass("closed").removeClass("open").attr("aria-expanded","false")}))})),$(".lesson-item.current").parent().slideDown().prev().removeClass("closed").addClass("open").attr("aria-expanded","true"),$(".module-lesson").on("click",(function(){if($(this).next().slideToggle("fast"),$(this).toggleClass("closed").toggleClass("open"),$(this).hasClass("open")){var e=$(o).scrollTop()-$(o).offset().top;$(o).animate({scrollTop:$(this).offset().top+e},"slow"),$(this).attr("aria-expanded","true")}else $(this).attr("aria-expanded","false")})),$("#problem-sidebar").length){var l=".module-progress.current-module",c=$(o).offset().top;$(l).length&&$(o).scrollTop($(l).offset().top-c)}r.trigger("main:setupTooltips",o)}},error:function(){$(o).prepend("Oops. Something didn't work. Try refreshing.")}}),!0}},{"../core/pubSub.js":60,"../utils/ajax.js":185}],78:[function(e,t,n){"use strict";var i={lowercamelcase:{id:1,def:"lowerCamelCase is a naming convention where the first letter is lower case, and each subsequent start of a word is upper case."},world:{id:2,def:"A grid that Karel lives in"},"for loop":{id:4,def:"A for loop lets us repeat code a fixed number of times."},"while loop":{id:5,def:"A while loop lets us repeat code as long as something is true."},condition:{id:6,def:"Code that you put inside an if-statement or while-loop."},"break down":{id:7,def:"Breaking down (decomposing) your code is splitting it into more functions."},decompose:{id:7,def:"Breaking down (decomposing) your code is  splitting it into more functions."},boolean:{id:8,def:"A boolean is a true or false value."},"read like a story":{id:9,def:"Programs that read like a story have good decomposition and make the code easy to follow."},pseudocode:{id:10,def:"Pseudocode is a brief explanation of code in plain English."},constant:{id:13,def:"A variable in a program that has a value that does not change."},"magic number":{id:14,def:"A number in your code that appears arbitrary. These should all be replaced with calculations or constants."},indentation:{id:15,def:"The visual structure of how your code is laid out. It uses tabs to organize code into a hierarchy."},"nested function":{id:16,def:"A function that is defined inside another function. This should be avoided."},"comment out":{id:19,def:"Commenting out code makes the computer ignore it, so it does not run."},sentinel:{id:21,def:"A constant that has the specific purpose of being the value that breaks out of a loop."},"if statement":{id:22,def:"An if-statement lets you ask a question to the program and only run code if the answer is true."}},r=function(e){var t=e.term,n=e.plural||!1,r='<a target="_blank" rel="tooltip" title="'+i[t.toLowerCase()].def+'" href="'+function(e){return"/glossary/term/"+i[e].id}(t.toLowerCase())+'">'+t;return n&&(r+="s"),r+="</a>"};t.exports={formatTerms:function(e){for(var t,n=function(){var e=[];for(var t in i)i.hasOwnProperty(t)&&e.push(t);return e}(),o=e.toLowerCase(),a=e,s=0;s<n.length;s++){var u=n[s],l=o.indexOf(u+" ");-1!=l&&(t=a.substring(l,l+u.length),e=e.replace(t,r({term:t})));var c=o.indexOf(u+"s");-1!=c&&(t=a.substring(c,c+u.length),e=e.replace(t+"s",r({term:t,plural:!0})))}return e}}},{}],79:[function(e,t,n){"use strict";var i={"two towers":{id:22},"cleanup karel":{id:52},"for loop square":{id:34},"move tennis ball stack":{id:55}};function r(e){var t,n=e.item,r='<a target="_blank" href="'+(t=n.toLowerCase(),"/editor/"+i[t].id+'">')+n;return r+="</a>"}t.exports={linkItems:function(e){for(var t=function(){var e=[];for(var t in i)e.push(t);return e}(),n=e.toLowerCase(),o=e,a=0;a<t.length;a++){var s=t[a],u=n.indexOf(s);if(-1!=u){var l=o.substring(u,u+s.length);e=e.replace(l,r({item:l}))}}return e}}},{}],80:[function(e,t,n){"use strict";var i=e("../core/constants.js"),r=e("./errors.js");function o(e){this.editor=e}function a(e){for(var t=/ {2}([\w\s]*?):\s*(.*)/,n=e.shift(),i=n.match(t),r={};i;){var o=i[1];r[o]=i[2],"symbol"==o&&(r[o]=r[o].match(/(.*?) (.*)/)[2]),i=(n=e.shift()).match(t)}return{output:e,firstLine:n,errorParams:r}}o.prototype.check=function(e,t){var n=this;n.editor.clearHighlightedLines();var o=e.slice(0),s=e.slice(0);return function(e,t){var n,o=e.shift(),s=new RegExp("^(.*?):([\\d]+): error: (.*)"),u=o.match(s);if(u){for(;u;){var l=e.shift(),c=e.shift().length,d=parseInt(u[2]);t.editor.progType==i.ProgramType.JAVA_METHOD&&(d-=2);var p=a(e);o=p.firstLine,e=p.output;var h=p.errorParams;n=u[1],r.show({editor:t.editor,message:u[3],lineNumber:d,errorParams:h,fileName:n,errorLine:l,column:c,errorDisplay:"errorList",progtype:t.editor.progtype,langType:"java",log:!1}),u=o.match(s)}return!0}return!1}(o,n)||function(e,t,n){var i=/Exception in thread ".*?" (.*)/,o=t.contents,a=[];o.forEach((function(e){a.push(e.name)}));var s=a.join("|");for(;e.length>0;){var u=e.shift().match(i);if(u){var l=u[1],c=new RegExp("at .*?\\(("+s+"):([\\d]+)\\)","m"),d=e.join().match(c),p=d[1],h=d[2];return r.show({editor:n.editor,message:l,lineNumber:parseInt(h),fileName:p,errorDisplay:"errorList",progtype:n.editor.progtype,langType:"java",log:!1}),!0}}return!1}(s,t,n)},t.exports=o},{"../core/constants.js":58,"./errors.js":76}],81:[function(e,t,n){"use strict";var i=e("../editorUtils.js").removeComments,r=e("../errors.js");function o(e,t){this.editor=e,this.code=t.code||""}o.prototype.checkForLoopFormat=function(e,t){var n=e.match(/for\s*\((.*)\)/gi);if(n&&!n[0].match(/\s*int\s+.*/g))return"For loop requires `int` at the start of the initialization field",this.createError("For loop requires `int` at the start of the initialization field",t),!0;return!1},o.prototype.checkFunctionDeclare=function(e,t){return!!e.match(/function (.*?\(.*?\))/)&&("Don't declare your method with `function`. Use `private void` instead.",this.createError("Don't declare your method with `function`. Use `private void` instead.",t),!0)},o.prototype.checkFunctionReturnType=function(e,t){var n=e.match(/(private|public|protected) *?(\w*?) *?\w*?\(.*?\)/);if(n&&""===n[2]){return this.createError("You for got the return type, usually it's `void`such as `public void myFunction()`.",t),!0}return!1},o.prototype.checkVarDeclare=function(e,t){if(e.match(/(\s*?var\s+?\w*?(|=\s*?.*?)|for\s*?\(\s*?var\s*?)/)){return this.createError("Don't declare your variable with `var`. Use a primitive like `int` instead.",t),!0}return!1},o.prototype.checkClassExtend=function(e){var t=!1,n=/extends ((|Super|Ultra)Karel)/,i=/extends (Super|Ultra)Karel/,r=/\s*?turn(Around|Right)\(\)/,o=/void\s*?turn(Around|Right)\(\)/,a=e.match(/.*?public class .*?\{/g);if(a)for(var s=0;s<a.length;s++){var u,l=a[s];if(l.match(n)||(u="You need extend you class with `Karel`, e.g. `extends Karel`",this.createError(u,s),t=!0),!l.match(i)){var c=e.match(r),d=e.match(o);c&&!d&&(u="You need to extend `SuperKarel` to use `turnRight` and `turnAround`",this.createError(u,s))}}return t},o.prototype.createError=function(e,t){t+=1,r.show({editor:this.editor,message:e,lineNumber:t,progtype:"java-karel",langType:"java",errorDisplay:"errorList",log:!1})},o.prototype.hasErrors=function(){var e=this,t=!1,n=i(this.code);e.checkClassExtend(n)&&(t=!0),n=n.split("\n");for(var r=0;r<n.length;r++){var o=n[r],a=r;(e.checkForLoopFormat(o,a)||e.checkFunctionDeclare(o,a)||e.checkVarDeclare(o,a)||e.checkFunctionReturnType(o,a))&&(t=!0)}return t},t.exports=o},{"../editorUtils.js":73,"../errors.js":76}],82:[function(e,t,n){"use strict";var i=e("../../core/settings.js").STATIC_URL,r={},o=e("../../../lib/codehs/chs-js-lib/graphics/webimage.js");r.INFINITE_LOOP=-4,r.ERROR_NO_BEEPERS=-3,r.ERROR_CRASH_INTO_WALL=-2,r.ERROR=-1,r.EAST=0,r.NORTH=1,r.WEST=2,r.SOUTH=3,r.NUM_DIRS=4,r.DIRECTIONS=[],r.DIRECTIONS[r.EAST]="EAST",r.DIRECTIONS[r.NORTH]="NORTH",r.DIRECTIONS[r.WEST]="WEST",r.DIRECTIONS[r.SOUTH]="SOUTH",r.MOVE=5,r.PUT_BEEPER=6,r.PICK_BEEPER=7,r.TURN_LEFT=8,r.TURN_RIGHT=9,r.TURN_AROUND=10,r.FRONT_IS_CLEAR=11,r.LEFT_IS_CLEAR=12,r.RIGHT_IS_CLEAR=13,r.BALLS_PRESENT=14,r.FACING_NORTH=15,r.FACING_SOUTH=16,r.FACING_EAST=17,r.FACING_WEST=18,r.FUNCTION=19,r.PROGRAM_COMPLETE=20,r.PAINT=21,r.RANDOM_CHANCE=22,r.RANDOM_INT=23,r.COLOR_IS=24,r.BARK=25,r.FOR_LOOP=26,r.INFINITE_LOOP_COUNTER_MAX=1e3,r.BARK_SOUND=new Audio(i+"audio/bark3.mp3"),r.IMAGES={default:{east:i+"img/karel/default/karel_east.png",west:i+"img/karel/default/karel_west.png",north:i+"img/karel/default/karel_north.png",south:i+"img/karel/default/karel_south.png",EAST_IMAGE:r.EAST_IMAGE,WEST_IMAGE:r.WEST_IMAGE,NORTH_IMAGE:r.NORTH_IMAGE,SOUTH_IMAGE:r.SOUTH_IMAGE},thanksgiving:{east:i+"img/karel/thanksgiving/karel_east.png",west:i+"img/karel/thanksgiving/karel_west.png",north:i+"img/karel/thanksgiving/karel_north.png",south:i+"img/karel/thanksgiving/karel_south.png"},christmas:{east:i+"img/karel/christmas/karel_east.png",west:i+"img/karel/christmas/karel_west.png",north:i+"img/karel/christmas/karel_north.png",south:i+"img/karel/christmas/karel_south.png"},valentines:{east:i+"img/karel/valentines/karel_east.png",west:i+"img/karel/valentines/karel_west.png",north:i+"img/karel/valentines/karel_north.png",south:i+"img/karel/valentines/karel_south.png"},aprilfools:{east:i+"img/karel/aprilfools/karel_east.png",west:i+"img/karel/aprilfools/karel_west.png",north:i+"img/karel/aprilfools/karel_north.png",south:i+"img/karel/aprilfools/karel_south.png"},cincodemayo:{east:i+"img/karel/cincodemayo/karel_east.png",west:i+"img/karel/cincodemayo/karel_west.png",north:i+"img/karel/cincodemayo/karel_north.png",south:i+"img/karel/cincodemayo/karel_south.png"},amerikarel:{east:i+"img/karel/amerikarel/karel_east.png",west:i+"img/karel/amerikarel/karel_west.png",north:i+"img/karel/amerikarel/karel_north.png",south:i+"img/karel/amerikarel/karel_south.png"},ghost:{east:i+"img/karel/ghost/karel_east.png",west:i+"img/karel/ghost/karel_west.png",north:i+"img/karel/ghost/karel_north.png",south:i+"img/karel/ghost/karel_south.png"},mechakarel:{east:i+"img/karel/mechakarel/karel_east.png",west:i+"img/karel/mechakarel/karel_west.png",north:i+"img/karel/mechakarel/karel_north.png",south:i+"img/karel/mechakarel/karel_south.png"}},r.setKarelImage=function(e){var t;if("string"==typeof e){var n=e;t=r.IMAGES[n]}else t=e;t.EAST_IMAGE=new o(t.east),t.NORTH_IMAGE=new o(t.north),t.WEST_IMAGE=new o(t.west),t.SOUTH_IMAGE=new o(t.south),r.IMAGES.current=t},r.setKarelImage("default"),r.TENNIS_BALLS={custom:!1,present:i+"img/karel/christmas/present3.png",heart:i+"img/karel/valentines/paw_heart.png",earth:i+"img/karel/earth.png"},r.setKarelBall=function(e){r.TENNIS_BALLS.custom=!0,e.name?e.name in r.TENNIS_BALLS?r.TENNIS_BALLS.current=r.TENNIS_BALLS[e.name]:r.TENNIS_BALLS.custom=!1:e.url?r.TENNIS_BALLS.current=e.url:r.TENNIS_BALLS.custom=!1},t.exports=r},{"../../../lib/codehs/chs-js-lib/graphics/webimage.js":219,"../../core/settings.js":61}],83:[function(e,t,n){"use strict";var i=e("./karel.js"),r=e("./karelUtils.js"),o=e("../errors.js"),a=e("../../../lib/codehs/chs-js-lib/graphics/randomizer.js");function s(e){this.karelRunner=e,this.usingSuperKarel=this.karelRunner.usingSuperKarel(),this.usingUltraKarel=this.karelRunner.usingUltraKarel()}s.checkCommandArgs=function(e,t){if(e!=r.KAREL_ARGUMENT_SECRET)throw new Error("You cannot have anything between the parentheses for "+t+".")},s.prototype.functionCall=function(e){this.karelRunner.pushCommand({c:i.FUNCTION,l:e})},s.prototype.move=function(e,t){s.checkCommandArgs(e,"move command"),this.getWorld().canMove()?(this.getWorld().move(),this.pushCommand({c:i.MOVE,l:t})):this.pushCommand({c:i.ERROR_CRASH_INTO_WALL,l:t})},s.prototype.putBall=function(e,t){s.checkCommandArgs(e,"putBall command"),this.getWorld().putBall(),this.pushCommand({c:i.PUT_BEEPER,l:t})},s.prototype.bark=function(e,t){this.pushCommand({c:i.BARK,l:t})},s.prototype.takeBall=function(e,t){s.checkCommandArgs(e,"takeBall command"),this.getWorld().ballsPresent()?(this.getWorld().takeBall(),this.pushCommand({c:i.PICK_BEEPER,l:t})):this.pushCommand({c:i.ERROR_NO_BEEPERS,l:t})},s.prototype.turnLeft=function(e,t){s.checkCommandArgs(e,"turnLeft command"),this.getWorld().turnLeft(),this.pushCommand({c:i.TURN_LEFT,l:t})},s.prototype.frontIsClear=function(e,t){return s.checkCommandArgs(e,"frontIsClear condition"),!!this.validateCondition()&&(this.pushCommand({c:i.FRONT_IS_CLEAR,l:t}),this.getWorld().frontIsClear())},s.prototype.frontIsBlocked=function(e,t){return s.checkCommandArgs(e,"frontIsBlocked condition"),!!this.validateCondition()&&(this.pushCommand({c:i.FRONT_IS_CLEAR,l:t}),!this.getWorld().frontIsClear())},s.prototype.leftIsClear=function(e,t){return s.checkCommandArgs(e,"leftIsClear condition"),!!this.validateCondition()&&(this.pushCommand({c:i.LEFT_IS_CLEAR,l:t}),this.getWorld().leftIsClear())},s.prototype.leftIsBlocked=function(e,t){return s.checkCommandArgs(e,"leftIsClear condition"),!!this.validateCondition()&&(this.pushCommand({c:i.LEFT_IS_CLEAR,l:t}),!this.getWorld().leftIsClear())},s.prototype.rightIsClear=function(e,t){return s.checkCommandArgs(e,"rightIsClear condition"),!!this.validateCondition()&&(this.pushCommand({c:i.RIGHT_IS_CLEAR,l:t}),this.getWorld().rightIsClear())},s.prototype.rightIsBlocked=function(e,t){return s.checkCommandArgs(e,"rightIsBlocked condition"),!!this.validateCondition()&&(this.pushCommand({c:i.RIGHT_IS_CLEAR,l:t}),!this.getWorld().rightIsClear())},s.prototype.ballsPresent=function(e,t){return s.checkCommandArgs(e,"ballsPresent condition"),!!this.validateCondition()&&(this.pushCommand({c:i.BALLS_PRESENT,l:t}),this.getWorld().ballsPresent())},s.prototype.noBallsPresent=function(e,t){return s.checkCommandArgs(e,"noBallsPresent condition"),!!this.validateCondition()&&(this.pushCommand({c:i.BALLS_PRESENT,l:t}),!this.getWorld().ballsPresent())},s.prototype.facingNorth=function(e,t){return s.checkCommandArgs(e,"facingNorth condition"),!!this.validateCondition()&&(this.pushCommand({c:i.FACING_NORTH,l:t}),this.getWorld().facingNorth())},s.prototype.notFacingNorth=function(e,t){return s.checkCommandArgs(e,"notFacingNorth condition"),!!this.validateCondition()&&(this.pushCommand({c:i.FACING_NORTH,l:t}),!this.getWorld().facingNorth())},s.prototype.facingSouth=function(e,t){return s.checkCommandArgs(e,"facingSouth condition"),!!this.validateCondition()&&(this.pushCommand({c:i.FACING_SOUTH,l:t}),this.getWorld().facingSouth())},s.prototype.notFacingSouth=function(e,t){return s.checkCommandArgs(e,"notFacingSouth condition"),!!this.validateCondition()&&(this.pushCommand({c:i.FACING_SOUTH,l:t}),!this.getWorld().facingSouth())},s.prototype.facingEast=function(e,t){return s.checkCommandArgs(e,"facingEast condition"),!!this.validateCondition()&&(this.pushCommand({c:i.FACING_EAST,l:t}),this.getWorld().facingEast())},s.prototype.notFacingEast=function(e,t){return s.checkCommandArgs(e,"notFacingEast condition"),!!this.validateCondition()&&(this.pushCommand({c:i.FACING_EAST,l:t}),!this.getWorld().facingEast())},s.prototype.facingWest=function(e,t){return s.checkCommandArgs(e,"facingWest condition"),!!this.validateCondition()&&(this.pushCommand({c:i.FACING_WEST,l:t}),this.getWorld().facingWest())},s.prototype.notFacingWest=function(e,t){return s.checkCommandArgs(e,"notFacingWest condition"),!!this.validateCondition()&&(this.pushCommand({c:i.FACING_WEST,l:t}),!this.getWorld().facingWest())},s.prototype.turnRight=function(e,t){s.checkCommandArgs(e,"turnRight command"),this.getWorld().turnRight(),this.pushCommand({c:i.TURN_RIGHT,l:t})},s.prototype.turnAround=function(e,t){s.checkCommandArgs(e,"turnAround command"),this.getWorld().turnAround(),this.pushCommand({c:i.TURN_AROUND,l:t})},s.prototype.randomInt=function(e,t){return a.nextInt(t)},s.prototype.colorIs=function(e,t){return this.pushCommand({c:i.COLOR_IS,l:1}),this.getWorld().colorIs(e)},s.prototype.randomChance=function(e,t){return"number"!=typeof t?(o.libraryError("You must pass a number to randomChance()."),!1):t>1?(o.libraryError("You must pass a number between 0 and 1 to randomChance()."),!1):"number"!=typeof e?(o.libraryError("You have an error in your randomChance() call."),!1):(this.pushCommand({c:i.RANDOM_CHANCE,l:e}),a.nextBoolean(t))},s.prototype.paint=function(e,t,n){this.getWorld().paint(e),this.pushCommand({c:i.PAINT,color:e,l:n})},t.exports=s},{"../../../lib/codehs/chs-js-lib/graphics/randomizer.js":214,"../errors.js":76,"./karel.js":82,"./karelUtils.js":85}],84:[function(e,t,n){"use strict";var i=e("./karelUtils.js"),r=e("../editorUtils.js"),o=e("../errors.js");function a(e){this.code=e.code||"",this.checkMissingParens=e.checkMissingParens||!1,this.checkUndefinedCondition=e.checkUndefinedCondition||!1,this.checkCapitalFunctionDeclaration=e.checkInvalidFunctionDeclaration||!1,this.checkHasFunctionRedefinition=e.checkHasFunctionRedefinition||!1,this.checkHasSemicolonInFunctionDef=e.checkHasSemicolonInFunctionDef||!1,this.checkMisspelledFunction=e.checkMisspelledFunction||!1,this.checkValidCommands=e.checkValidCommands||!1}a.prototype.hasErrors=function(){var e=r.removeComments(this.code);return!(!this.checkMissingParens||!function(e){var t=i.getBuiltIns(!0),n=new RegExp("("+t.join("|")+")(?!\\s*\\(\\))(\\)|\\s+)",""),r=e.match(n);if(null!=r){var a='Missing <span class="code">()</span> after <span class="code">'+r[1]+'</span><br/><br/>You should write <span class="code">'+r[1]+"()</span>";return o.show({message:a,lineNumber:"",progtype:"karel"}),!0}return!1}(e))||(!(!this.checkUndefinedCondition||!function(e){var t,n=i.getConditions(),r=!1;if(-1==e.indexOf("randomChance")&&-1==e.indexOf("colorIs")){var a,s=/while\s*\((.*)\)/gi.exec(e);null!=s&&(a=s[1].replace("()","").trim(),-1==n.indexOf(a)&&(t="You can't write: <span class='code'>"+s[0]+"</span><br/> You need to choose a valid Karel condition to go inside the while loop. Make sure your spelling and capitalization is correct.<br/><br/>These are the choices you have:<pre class='prettyprint'>"+n.join("()<br/>")+"()</pre>",r=!0));var u=/if\s*\((.*)\)/gi.exec(e);return null!=u&&(a=u[1].replace("()","").trim(),-1==n.indexOf(a)&&(t='You can\'t write: <span class="code">'+u[0]+'</span><br/> You need to choose a valid Karel condition to go inside the if statement. Make sure your spelling and capitalization is correct.<br/><br/>These are the choices you have:<pre class="prettyprint">'+n.join("()<br/>")+"()</pre>",r=!0)),r&&o.show({message:t,lineNumber:"",progtype:"karel"}),r}}(e))||(!(!this.checkCapitalFunctionDeclaration||!function(e){for(var t=r.generateCodeArray(e),n=!1,i="",a="",s=new RegExp(/^\s*Function *.+\s*\(\)/m),u=0;u<t.length;u++)if(s.exec(t[u])){i='The function keyword must be in all lowercase. Make sure your function declaration follows the format <br/> <span class="code">function functionName(){}</span><br/>',n=!0,a=String(u+1);break}return n&&o.show({message:i,lineNumber:a,progtype:"karel"}),n}(e))||(!(!this.checkHasFunctionRedefinition||!function(e){for(var t,n=r.generateCodeArray(e),i=!1,a="",s="",u=/^function\s+([\w\$]+)\s*\(/gim,l={},c=0;c<n.length;c++)if(t=u.exec(n[c])){var d=t[1];if(d in l){a='You\'ve defined the function <span class="code">'+d+"</span> twice, on lines "+(c+1)+" and "+l[d]+".<br/>Remove one of the two definitions.",s=String(c+1),i=!0;break}l[d]=c+1}return i&&o.show({message:a,lineNumber:s,progtype:"karel"}),i}(e))||(!(!this.checkHasSemicolonInFunctionDef||!function(e){for(var t,n=r.generateCodeArray(e),i=!1,a="",s="",u=/^function\s.+\s*\(\s*\);/gim,l=0;l<n.length;l++)(t=u.exec(n[l]))&&(a="You have a semicolon where you define <code>"+t[0]+"</code>. \nWhen creating a function, you don't need a semicolon\n",s=String(l+1),i=!0);return i&&o.show({message:a,lineNumber:s,progtype:"karel"}),i}(e))||(!(!this.checkMisspelledFunction||!function(e){for(var t,n=r.generateCodeArray(e),i=!1,a="",s="",u=/^\w+(?= [\$\w]+\s*\([\$\w\s,]*\)\s*{?)/gim,l=0;l<n.length;l++)if((t=u.exec(n[l]))&&"function"!==t[0]){a="You misspelled <code> function </code> in your function declaration.",s=String(l+1),i=!0;break}return i&&o.show({message:a,lineNumber:s,progtype:"karel"}),i}(e))||!(!this.checkValidCommands||!function(e){var t,n,a,s,u,l;t=!1,n=-1,a="",l=["You need a semicolon at the end."],(u=r.generateCodeArray(e)).forEach((function(e,t,n){n[t]+="\n"}));for(var c=0;c<u.length;c++)if(!(s=i.testCommandStyle(u[c])).isValid&&!_.contains(l,s.reason)){t=!0,n=c+1,a=s.reason;break}return t&&o.show({message:a,lineNumber:n,progtype:"karel"}),t}(e)))))))},t.exports=a},{"../editorUtils.js":73,"../errors.js":76,"./karelUtils.js":85}],85:[function(e,t,n){var i=e("../../editor/editorUtils.js").removeComments,r=["move","putBall","takeBall","turnLeft","bark"],o=["move","put_ball","take_ball","turn_left","bark"],a=["turnRight","turnAround"],s=["turn_right","turn_around"],u=["frontIsClear","leftIsClear","rightIsClear","frontIsBlocked","leftIsBlocked","rightIsBlocked","ballsPresent","noBallsPresent","facingNorth","notFacingNorth","facingEast","notFacingEast","facingSouth","notFacingSouth","facingWest","notFacingWest"],l=["front_is_clear","left_is_clear","right_is_clear","front_is_blocked","left_is_blocked","right_is_blocked","balls_present","no_balls_present","facing_north","not_facing_north","facing_east","not_facing_east","facing_south","not_facing_south","facing_west","not_facing_west"],c=["randomChance","colorIs","paint"],d=["random_chance","color_is","paint"],p=12848484;function h(e,t,n,i){if(-1!=e.indexOf("function"))return e;var r=function(e,t){var n=/for\s*\((.*);(.*);(.*)\)/gim;return null!=e.match(n)?e.replace(n,(function(e,n,i,r,o,a){var s=[];n=n.replace(/\s*([$a-zA-Z_][0-9a-zA-Z_$]*)\s*=/gim,(function(e,t,n,i){return s.push(t),e}));var u="''";r="(function() {"+r+"; ";for(var l=0;l<s.length;l++){var c=s[l];u+=" + '"+c+" = ' + "+c+" + '<br>'"}var d="__karelRunner__.__forLoop__("+t+","+u+")";r+="})()";var p="";return/\S/.test(i)&&(p=", "),"for("+n+"; "+(i=d+p+i)+"; "+r+")"})):e}(e,t);if(r!=e)return r;for(var o=e.trim().replace(";",""),a=y(n,i),s=0;s<a.length;s++){var u=a[s];a[s]="paint"==u||"randomChance"==u?u+"\\(.*\\)":a[s]+"\\s*\\(\\s*\\)"}if(!function(e){var t=new RegExp(a.join("|"));return null!=e.match(t)}(o))return e.replace(/\(\s*\)/g,"(function(){ __karelRunner__.builtIns.functionCall("+t+"); }())");var l=o.match(/paint\((.*)\)/),c=o.match(/.*randomChance\((.*)\)\)/);if(null!=l)return"paint("+l[1]+","+"12848484,"+t+");";if(null!=c){c[1];var d=e.replace(/randomChance\(\)/,"randomChance(0.5)"),p=new RegExp("randomChance\\((\\d+.?\\d*|\\.\\d+)\\)","g");return d.replace(p,"randomChance("+t+", $1)")}return e.replace(/\(\s*\)/g,"(12848484,"+t+")")}function f(e,t,n,i){var r=e.indexOf("#");-1!=r&&(e=e.slice(0,r));var o=e;if(""==o||o.startsWith("#")||o.startsWith('"""')||0===o.trim().length)return e;for(var a=y(n,i,!0),s=0;s<a.length;s++){var u=a[s];a[s]="paint"===u||"random_chance"===u||"color_is"===u?u+"\\(.*\\)":a[s]+"\\s*\\(\\s*\\)",a[s]="(\\ +|\\t+|\\(|^)"+a[s]}if(!function(e){var t=new RegExp(a.join("|"));return null!=e.match(t)}(o)){var l=e,c="";for(s=0;s<e.length&&" "==e[s];s++)c+=" ";var d=l.trim().endsWith(":"),p=d?"    ":"";return d?l+"\n"+c+p+"highlight_line("+"12848484, "+t+")":p+c+"highlight_line("+"12848484, "+t+")\n"+l}var h,f=/paint\((.*)\)/,m=o.match(f),g=/random_chance\((.*)\)/,v=o.match(g),_=/color_is\((.*)\)/,b=o.match(_);return null!=m?(h=m[1],o.replace(f,"paint("+h+","+"12848484,"+t+")")):null!=v?(""===(h=v[1])&&(h="0.5"),o.replace(g,"random_chance("+h+","+"12848484,"+t+")")):b?(h=b[1],o.replace(_,"color_is("+h+","+"12848484,"+t+")")):e.replace(/\(\s*\)/g,"(12848484,"+t+")")}function m(){return r}function g(){return r.concat(a)}function y(e,t,n){return t?n?o.concat(s,l,d):r.concat(a,u,c):e?n?o.concat(s,l):r.concat(a,u):n?o.concat(l):r.concat(u)}var v=function(e){e=i(e);for(var t,n=[],r=new RegExp("([$a-zA-Z_][0-9a-zA-Z_$]*)\\s*\\(\\s*\\w*\\)\\s*;?(?!\\s*{)(?!\\s*\\)\\s*{?)(\\s*\n+)?","g");t=r.exec(e);)n.push({command:t[0],base:t[1]});return n},_={SEMICOLON:"You need a semicolon at the end.",SPACE_BETWEEN_PARENS:"You shouldn't have spaces between parentheses.",STUFF_BETWEEN_PARENS:"You shouldn't have anything between the parentheses",OWN_LINE:"Each command should be on its own line.",TRAILING_SPACES:"There shouldn't be any spaces after the command name.",SPACE_AFTER_PARENS:"There shouldn't be any spaces after the parenthesesbefore the semicolon.",DEFAULT:"Try to match the examples."};t.exports={dirName:function(e){switch(e){case 0:return"EAST";case 1:return"NORTH";case 2:return"WEST";case 3:return"SOUTH"}},getBasicCommands:m,getAllCommands:g,getBuiltIns:y,getConditions:function(){return u},getCommands:function(e){return e?g():m()},getContentsOfFunction:function(e,t){for(var n,i=new RegExp("function\\s+"+t+"\\s*\\(\\)\\s*{([\\w\\W]*?)}").exec(e)[1],r=/\w[\w\d]*\(\);/g,o=[];n=r.exec(i);)o.push(n[0]);return o},collectCommands:v,testCommandStyle:function(e){var t,n,i=v(e),r=i[0],o=0===i.length||function(e){e=function(e){var t=e.indexOf("//");if(-1==t)return e;var n=e.indexOf("\n");return e.substr(0,t)+e.substr(n)}(e);var t=new RegExp("[$a-zA-Z_][0-9a-zA-Z_$]*\\(\\);\\s*\n+");return 0==e.search(t)}(r.command);return{isValid:o,multipleCommandsOnLine:i.length>1,command:r,reason:r&&(n=r.command,-1==n.indexOf(";")?_.SEMICOLON:-1!=n.search(/\(\s+\)/)?_.SPACE_BETWEEN_PARENS:-1!=n.search(/\(\w+\)/)?_.STUFF_BETWEEN_PARENS:-1==n.indexOf("\n")?_.OWN_LINE:-1!=n.search(/\s+\(/)?_.TRAILING_SPACES:-1!=n.search(/\(\)\s+;/)?_.SPACE_AFTER_PARENS:_.DEFAULT),validCommand:r&&(t=r.base,t+"();")}},preprocessWithLineNums:function(e){for(var t,n=e.code.split("\n"),i=[],r=0;r<n.length;r++){var o=n[r];t=e.usingPython?f(o,r+1,e.usingSuperKarel,e.usingUltraKarel):h(o,r+1,e.usingSuperKarel,e.usingUltraKarel),i.push(t)}return i.join("\n")},KAREL_ARGUMENT_SECRET:p,COMMAND_STYLE_REASONS:_}},{"../../editor/editorUtils.js":73}],86:[function(require,module,exports){"use strict";var C=require("../../core/constants.js"),Karel=require("./karel.js"),Wall=require("./wall.js"),alertModal=require("../../utils/alert.js"),Graphics=require("../../../lib/codehs/chs-js-lib/graphics/graphicsbase.js"),chsSet=require("../../../lib/codehs/chs-js-lib/datastructures/set.js");function KarelWorld(e,t,n){this.__graphics__=t,this.karelImagePreset="default",this.info=e,this.customInfo=n||{},"10x10"===e&&(e={rows:10,cols:10,dir:"EAST",start:{row:0,col:0},walls:[]}),e.rows&&e.cols||(e.rows=10,e.cols=10),this.rows=e.rows,this.cols=e.cols,this.grid=new Graphics.Grid(e.rows,e.cols),this.colors=new Graphics.Grid(e.rows,e.cols),Karel.setKarelImage(this.karelImagePreset),this.karel=Karel.IMAGES.current.EAST_IMAGE,this.customInfo.karelBallSettings&&Karel.setKarelBall(this.customInfo.karelBallSettings),this.walls=new chsSet,this.initialBalls=e.beepers,this.initialColors=e.colors,this.reset(),this.setKarelLocation(e.start.row,e.start.col);var i=e.dir,r=Karel.DIRECTIONS.indexOf(i);this.setKarelDir(r),this.createWalls(e.walls),this.setupBalls(e.beepers),this.setupColors(e.colors),this.name=e.name,this.id=e.id,this.solution_world=e.solution_world,this.mechaKarelListener()}function colorNameAsHex(e){var t=document.createElement("canvas").getContext("2d");return t.fillStyle=e,t.fillStyle}KarelWorld.prototype.mechaKarelListener=function(){var e=this,t=0;document.addEventListener("keydown",(function n(i){if((t="&&((%'%'BA".charCodeAt(t)===i.keyCode?t+1:0)>9){try{e.karelImagePreset="mechakarel",Karel.setKarelImage(e.karelImagePreset),e.karel=Karel.IMAGES.mechakarel.EAST_IMAGE}catch(i){}document.removeEventListener("keydown",n)}}))},KarelWorld.BUFFER_SIZE=3,KarelWorld.DEFAULT_SIZE=400,KarelWorld.prototype.facingNorth=function(){return this.karelDir==Karel.NORTH},KarelWorld.prototype.facingSouth=function(){return this.karelDir==Karel.SOUTH},KarelWorld.prototype.facingEast=function(){return this.karelDir==Karel.EAST},KarelWorld.prototype.facingWest=function(){return this.karelDir==Karel.WEST},KarelWorld.prototype.frontIsClear=function(){return this.canMove()},KarelWorld.prototype.rightIsClear=function(){var e=this.karelDir+Karel.NUM_DIRS-1;return e%=Karel.NUM_DIRS,this.canMove(e)},KarelWorld.prototype.leftIsClear=function(){var e=this.karelDir+1;return e%=Karel.NUM_DIRS,this.canMove(e)},KarelWorld.prototype.setKarelDir=function(e){this.karelStartDir=e,this.karelDir=e},KarelWorld.prototype.createWalls=function(e){if(void 0!==e)for(var t=0;t<e.length;t++){var n=e[t],i=new Wall({row:n[0],col:n[1]},{row:n[2],col:n[3]});this.walls.add(i)}},KarelWorld.prototype.setupBalls=function(e){if(e)for(var t=0;t<e.length;t++){var n=e[t];this.setBalls(n[0],n[1],n[2])}},KarelWorld.prototype.setupColors=function(e){if(e)for(var t=0;t<e.length;t++){var n=e[t];this.paintSpot(n[0],n[1],n[2])}},KarelWorld.prototype.resize=function(e,t){this.rows=e,this.cols=t,this.karelStartRow>=this.rows&&(this.karelStartRow=this.rows-1),this.karelStartCol>=this.cols&&(this.karelStartCol=this.cols-1),this.karelRow>=this.rows&&(this.karelRow=this.rows-1),this.karelCol>=this.cols&&(this.karelCol=this.cols-1);var n=new Graphics.Grid(e,t);n.init(0),n.initFromArray(this.grid.grid),this.grid=n;var i=new Graphics.Grid(e,t);i.init(null),i.initFromArray(this.colors.grid),this.colors=i;var r=this;this.walls.forEach((function(e){var t=e.getFirst(),n=e.getSecond();(t.row>=r.rows||t.col>=r.cols||n.row>=r.rows||n.col>=r.cols)&&r.walls.remove(e)}))},KarelWorld.prototype.reset=function(){this.karelRow=this.karelStartRow,this.karelCol=this.karelStartCol,this.karelDir=this.karelStartDir;for(var e=0;e<this.grid.numRows();e++)for(var t=0;t<this.grid.numCols();t++)this.grid.set(e,t,0),this.colors.set(e,t,null);this.setupBalls(this.initialBalls),this.setupColors(this.initialColors),this.draw()},KarelWorld.prototype.move=function(e){var t;switch(t=(e=e||{}).backwards||!1?-1:1,this.karelDir){case Karel.EAST:this.karelCol+=t;break;case Karel.WEST:this.karelCol-=t;break;case Karel.SOUTH:this.karelRow-=t;break;case Karel.NORTH:this.karelRow+=t}},KarelWorld.prototype.paintSpot=function(e,t,n){this.colors.set(e,t,n)},KarelWorld.prototype.paint=function(e){this.colors.set(this.karelRow,this.karelCol,e)},KarelWorld.prototype.cleanPaint=function(e){this.colors.set(this.karelRow,this.karelCol,e)},KarelWorld.prototype.addWall=function(e){null!=e&&this.walls.add(e)},KarelWorld.prototype.removeWall=function(e){null!=e&&this.walls.contains(e)&&this.walls.remove(e)},KarelWorld.prototype.setBalls=function(e,t,n){n>=0&&this.grid.set(e,t,n)},KarelWorld.prototype.getBalls=function(){return this.grid.get(this.karelRow,this.karelCol)},KarelWorld.prototype.getBallsAt=function(e,t){return this.grid.get(e,t)},KarelWorld.prototype.getNumRows=function(){return this.rows},KarelWorld.prototype.getNumCols=function(){return this.cols},KarelWorld.prototype.getStartRow=function(){return this.karelStartRow},KarelWorld.prototype.getStartCol=function(){return this.karelStartCol},KarelWorld.prototype.getStartDir=function(e){return this.karelStartDir},KarelWorld.prototype.colorIs=function(e){if("string"!=typeof e)throw new TypeError('You should pass a color constant to <span class="code">colorIs</span>. Try something like: <span class="code">colorIs(Color.red)</span>');var t=this.colors.get(this.karelRow,this.karelCol);return t?e&&(t.toLowerCase()==e.toLowerCase()||colorNameAsHex(t)==e.toLowerCase()||colorNameAsHex(e)==t.toLowerCase()):e&&"#ffffff"==e.toLowerCase()},KarelWorld.prototype.ballsPresent=function(){return this.getBalls()>0},KarelWorld.prototype.putBall=function(){var e=this.grid.get(this.karelRow,this.karelCol);this.grid.set(this.karelRow,this.karelCol,e+1)},KarelWorld.prototype.takeBall=function(){var e=this.grid.get(this.karelRow,this.karelCol);this.grid.set(this.karelRow,this.karelCol,e-1)},KarelWorld.prototype.turnLeft=function(){this.karelDir=this.karelDir+1,this.karelDir=this.karelDir%Karel.NUM_DIRS},KarelWorld.prototype.turnRight=function(){this.karelDir=this.karelDir+Karel.NUM_DIRS-1,this.karelDir=this.karelDir%Karel.NUM_DIRS},KarelWorld.prototype.turnAround=function(){this.karelDir=this.karelDir+2,this.karelDir=this.karelDir%Karel.NUM_DIRS},KarelWorld.prototype.animate=function(e){var t=e.c;t==Karel.MOVE&&this.move(),t==Karel.TURN_LEFT&&this.turnLeft(),t==Karel.TURN_RIGHT&&this.turnRight(),t==Karel.TURN_AROUND&&this.turnAround(),t==Karel.PUT_BEEPER&&this.putBall(),t==Karel.PICK_BEEPER&&this.takeBall(),t==Karel.PAINT&&this.paint(e.color),t==Karel.BARK&&Karel.BARK_SOUND.play(),t!=Karel.PROGRAM_COMPLETE&&this.draw()},KarelWorld.prototype.animateBackwards=function(e){var t=e.c;t==Karel.MOVE&&this.canMove(this.karelDir,{backwards:!0})&&this.move({backwards:!0}),t==Karel.TURN_LEFT&&this.turnRight(),t==Karel.TURN_RIGHT&&this.turnLeft(),t==Karel.TURN_AROUND&&this.turnAround(),t==Karel.PUT_BEEPER&&this.takeBall(),t==Karel.PICK_BEEPER&&this.putBall(),t==Karel.PAINT&&this.cleanPaint(void 0),t==Karel.BARK&&Karel.BARK_SOUND.play(),t!=Karel.PROGRAM_COMPLETE&&this.draw()},KarelWorld.prototype.getNextPosition=function(e,t,n){var i,r=(n=n||{}).backwards||!1,o={row:e.row,col:e.col};return void 0===t&&(t=this.karelDir),i=r?-1:1,t==Karel.NORTH&&(o.row=o.row+i),t==Karel.SOUTH&&(o.row=o.row-i),t==Karel.EAST&&(o.col=o.col+i),t==Karel.WEST&&(o.col=o.col-i),o},KarelWorld.prototype.canMove=function(e,t){var n={row:this.karelRow,col:this.karelCol},i=this.getNextPosition(n,e,t);if(i.row<0||i.row>=this.rows||i.col<0||i.col>=this.cols)return!1;var r=new Wall(n,i);return!this.walls.contains(r)},KarelWorld.prototype.setKarelLocation=function(e,t){this.karelStartRow=e,this.karelStartCol=t,this.karelRow=e,this.karelCol=t},KarelWorld.prototype.drawWall=function(e,t){if(!(this.walls.contains(e)&&t)){var n,i,r=e.getFirst(),o=this.getCornerPos(r.row,r.col,this.dim);return e.orientation==Wall.VERTICAL?(i={x:o.x+this.dim/2,y:o.y-this.dim/2},n=new Graphics.Line(i.x,i.y,i.x,i.y+this.dim)):(i={x:o.x-this.dim/2,y:o.y-this.dim/2},n=new Graphics.Line(i.x,i.y,i.x+this.dim,i.y)),t&&n.setColor(Graphics.Color.GRAY),this.__graphics__.add(n),n}return null},KarelWorld.prototype.drawWalls=function(){var e=this;this.walls.forEach((function(t){e.drawWall(t)}))},KarelWorld.prototype.draw=function(){if(this.__graphics__){this.__graphics__.removeAll();var e=Math.min(this.__graphics__.getWidth()/this.cols,this.__graphics__.getHeight()/this.rows);if(this.dim=e,this.karel){var t=e*this.cols,n=e*this.rows;this.__graphics__.getWidth()==t&&this.__graphics__.getHeight()==n||this.__graphics__.setSize(t,n)}for(var i=0;i<this.rows;i++)for(var r=0;r<this.cols;r++)this.drawCorner(i,r,e);this.drawWalls();var o=this.getCornerPos(this.karelRow,this.karelCol,e);this.drawKarel(o)}},KarelWorld.prototype.drawBalls=function(e,t){if(t>0){var n;if(Karel.TENNIS_BALLS.custom){n=new Graphics.WebImage(Karel.TENNIS_BALLS.current);var i=e.x-this.dim/2,r=e.y-this.dim/2;n.setSize(.8*this.dim,.8*this.dim);var o=this.dim*(1-.8)/2;n.setPosition(i+o,r+o),this.__graphics__.add(n)}else(n=new Graphics.Circle(this.dim/2-KarelWorld.BUFFER_SIZE)).setColor(Graphics.Color.YELLOW),n.setPosition(e.x,e.y),this.__graphics__.add(n);if(t>1){var a=new Graphics.Text(t);a.setFont("10pt Arial"),a.setPosition(e.x-a.getWidth()/2,e.y+a.getHeight()/2),this.__graphics__.add(a)}}},KarelWorld.prototype.drawKarel=function(e){var t=e.x-this.dim/2,n=e.y-this.dim/2;this.karelDir==Karel.EAST?this.karel.setRotation(0):this.karelDir==Karel.NORTH?this.karel.setRotation(270):this.karelDir==Karel.WEST?this.karel.setRotation(180):this.karel.setRotation(90),this.karel.setSize(this.dim-KarelWorld.BUFFER_SIZE,this.dim-KarelWorld.BUFFER_SIZE),this.karel.setPosition(t,n),this.__graphics__.add(this.karel)},KarelWorld.prototype.getCornerPos=function(e,t,n){return e=e||0,{x:((t=t||0)+.5)*n,y:(this.rows-1-e+.5)*n}},KarelWorld.prototype.drawCorner=function(row,col,dim){var numBalls=this.grid.get(row,col),pos=this.getCornerPos(row,col,dim),color=this.colors.get(row,col);if(color){var paintX=pos.x-dim/2,paintY=pos.y-dim/2,rect;if(color==C.KarelWorld.RANDOM_COLOR)for(var xPosIncrement=dim/6,colorList=["purple","blue","green","yellow","orange","red"],i=0;i<6;i++)rect=new Graphics.Rectangle(dim/6,dim),rect.setPosition(paintX+i*xPosIncrement,paintY),rect.setColor(eval("Graphics.Color."+colorList[i])),this.__graphics__.add(rect);else rect=new Graphics.Rectangle(dim,dim),rect.setPosition(paintX,paintY),rect.setColor(color),this.__graphics__.add(rect)}if(0===numBalls){var radius=this.dim<30?1:2,circle=new Graphics.Circle(radius);circle.setPosition(pos.x,pos.y),this.__graphics__.add(circle)}this.drawBalls(pos,numBalls)},KarelWorld.prototype.getName=function(){return this.name},KarelWorld.prototype.getId=function(){return this.id},KarelWorld.prototype.clearBalls=function(){this.grid=new Graphics.Grid(this.rows,this.cols),this.grid.init(0)},KarelWorld.prototype.clearWalls=function(){this.walls=new chsSet},KarelWorld.prototype.clearColors=function(){this.colors=new Graphics.Grid(this.rows,this.cols)},KarelWorld.prototype.stringify=function(){var e={rows:this.rows,cols:this.cols,dir:Karel.DIRECTIONS[this.karelDir],start:{row:this.karelStartRow,col:this.karelStartCol}},t=this.grid.toList();t.length>0&&(e.beepers=t);var n=this.colors.toList();if(n.length>0&&(e.colors=n),!this.walls.isEmpty()){var i=[];this.walls.forEach((function(e){var t=e.getFirst(),n=e.getSecond();i.push([t.row,t.col,n.row,n.col])})),e.walls=i}return JSON.stringify(e)},KarelWorld.quickDraw=function(e,t,n,i){var r;r=null==n?KarelWorld.DEFAULT_SIZE:n,e.attr("width",r),e.attr("height",r),e.parent().hasClass("canvas-wrapper")&&(e.parent().width(r+10),e.parent().height(r+10));var o=new Graphics.CodeHSGraphics({canvas:e});Graphics.Text.giveDefaultContext(o);var a=t.split("&quot;").join('"'),s=new KarelWorld("10x10"==a?a:JSON.parse(a),o);return i&&s.draw(),{world:s,graphics:o}},KarelWorld.setupReorder=function(){$(".canvas-wrapper").hover((function(){var e,t=$(this).parent().is(":first-child"),n=$(this).parent().is(":last-child");t&&n||((e=t?$(this).find("#next"):n?$(this).find("#prev"):$(this).find(".arrow")).show(),e.css("cursor","pointer"))}),(function(){var e=$(this).find(".arrow");e.hide(),e.css("cursor","")})),$(".arrow").on("click",(function(){var e=$(this).parent().parent(),t={command:$(this).attr("id"),itemId:$(this).attr("data-item-id"),worldId:$(this).attr("data-world-id")};$.ajax({type:"POST",url:"/karel/ajax/reorder",dataType:"JSON",data:t,success:function(n){"ok"==n.status&&("prev"==t.command?e.fadeOut("slow",(function(){e.insertBefore(e.prev("div")).fadeIn("slow")})):e.fadeOut("slow",(function(){e.insertAfter(e.next("div")).fadeIn("slow")})))}})}))},KarelWorld.setupDuplicateTo=function(){$(".duplicate").on("click",(function(){var e=prompt("**Admin only**\nEnter id of item you want to duplicate to (or 0 for an unconnected world):",$(this).attr("data-item-id"));return null!=e&&(window.location="/karel/worlds/"+e+"/duplicate/"+$(this).attr("data-world-id")),!1}))},KarelWorld.setupPublishTo=function(e){$(".publish").on("click",(function(){var t;t=e?prompt("**Admin only**\nEnter id of item you want to publish to:",$(this).attr("data-item-id")):$(this).attr("data-item-id");var n=$(this).attr("data-world-id");return null!=t&&$.ajax({url:"/karel/ajax/save_world",type:"POST",data:$("#karel-world-form").serialize()+"&worldId="+n,dataType:"JSON",success:function(e){window.location="/karel/worlds/"+t+"/add/"+n}}),!1}))},KarelWorld.setupDeleteCheck=function(){$("#public-worlds .delete-world").on("click",(function(e){1==$("#public-worlds .canvas-wrapper").length&&(e.preventDefault(),alertModal({message:"At least one Karel world is required for each item. You can either change this world by editing it, or you can create a new world before deleting this world.",header:"Too Few Karel Worlds",button:"OK"}))}))},module.exports=KarelWorld},{"../../../lib/codehs/chs-js-lib/datastructures/set.js":200,"../../../lib/codehs/chs-js-lib/graphics/graphicsbase.js":208,"../../core/constants.js":58,"../../utils/alert.js":186,"./karel.js":82,"./wall.js":87}],87:[function(e,t,n){"use strict";function i(e,t){e.col==t.col?this.orientation=i.HORIZONTAL:this.orientation=i.VERTICAL,e.row<t.row?(this.pt1=e,this.pt2=t):t.row<e.row?(this.pt1=t,this.pt2=e):e.col<t.col?(this.pt1=e,this.pt2=t):(this.pt1=t,this.pt2=e)}i.VERTICAL=0,i.HORIZONTAL=1,i.prototype.toString=function(){return this.pt1.row+","+this.pt1.col+":"+this.pt2.row+","+this.pt2.col},i.prototype.getFirst=function(){return this.pt1},i.prototype.getSecond=function(){return this.pt2},t.exports=i},{}],88:[function(e,t,n){"use strict";var i=e("./editorUtils.js").removeComments;function r(e,t){if("js"!=t)throw new Error("Can only translate karel to js karel.");if("java"!=e&&"python"!=e)throw new Error("Can only translate from java and python");this.fromLanguage="java",this.toLanguage="js"}r.prototype.translateJavaToJavaScript=function(e,t){return(t=void 0===t||t)&&(e=i(e)),e=(e=(e=(e=(e=(e=(e=e.replace(/run\s*\(\s*\)/g,"start()")).replace(/((public|private)\s+)?class\s+\w+(\s+extends\s+\w+)?/,"")).replace(/{/,"")).replace(/}\s*(?:\/\/\s*[^}]*[\t\n\r]*)*$/,"")).replace(/(\n\t|\n {4})/g,"\n")).replace(/\bint/g,"var")).replace(/((public|private)\s+)?void/g,"function")},r.prototype.translate=function(e){if("java"==this.fromLanguage&&"js"==this.toLanguage)return this.translateJavaToJavaScript(e)},t.exports=r},{"./editorUtils.js":73}],89:[function(e,t,n){var i=e("../../core/constants.js"),r=e("../karel/karelUtils.js");t.exports.lint=function(e,t){var n,o;return t.language!==i.ProgrammingLanguage.JAVASCRIPT?{hasError:!1}:(n=function(e){var t=[];if(e.language===i.ProgrammingLanguage.JAVASCRIPT)switch(e.progType){case i.ProgramType.KAREL:t=r.getBuiltIns(!1,!1);break;case i.ProgramType.SUPER_KAREL:t=r.getBuiltIns(!0,!1);break;case i.ProgramType.ULTRA_KAREL:t=r.getBuiltIns(!1,!0);break;case i.ProgramType.CONSOLE:case i.ProgramType.GRAPHICS:t=[]}return t}(t),(o=function(e){return e.filter((function(e){return"unexpected_a"===e.code&&"Unexpected 'var'."!==e.message&&"Unexpected 'else'."!==e.message&&"Unexpected 'new'."!==e.message&&"Unexpected 'const'."!==e.message&&"Unexpected 'let'."!==e.message||"naked_block"===e.code||"expected_a_b_from_c_d"===e.code}))}(jslint(e,{browser:!0,es6:!1,for:!0,white:!0,this:!0},n).warnings))&&o.length?("expected_a_b_from_c_d"===o[0].code&&(o[0].message=o[0].message.replace(/\d+/,(function(e){return++e}))),{hasError:!0,message:o[0].message,lineNumber:o[0].line+1}):{hasError:!1})}},{"../../core/constants.js":58,"../karel/karelUtils.js":85}],90:[function(e,t,n){"use strict";var i=e("../../core/constants.js"),r=e("../../utils/alert.js");function o(e,t){this.chsEditor=e,this.highlightedLines=[],this.init()}function a(e){return new RegExp("^(https?://)?([a-z\\d-]+\\.)+[a-z]{2,6}/?[-a-z\\d/%_.~+=&]*\\??[-a-z\\d%_.~+=&]*$","i").test(e)}o.prototype.init=function(){var e,t=this;if(t.chsEditor.preventCopyPaste?["copy","paste","cut"].forEach((function(e){document.querySelector("#codehs-editor").addEventListener(e,(function(e){var t=e.clipboardData.getData("text");window.pageSpecific.allowPastingUrls&&a(t)||(e.stopPropagation(),e.preventDefault())}),!0)})):document.querySelector("#codehs-editor").addEventListener("paste",(function(){t.chsEditor.isOwnPage()&&t.chsEditor.save((function(){}),"paste")}),!1),t.chsEditor.codeEditorType===i.EditorType.DROPLET_EDITOR&&i.EditorType.DROPLET_CONFIG.hasOwnProperty(t.chsEditor.progType)){var n,o,s=t.chsEditor.dropletCustomBlocks;(e=s?new window.droplet.Editor($("#codehs-editor")[0],JSON.parse(s)):new window.droplet.Editor($("#codehs-editor")[0],i.EditorType.DROPLET_CONFIG[t.chsEditor.progType])).setEditorState(!0),e.aceEditor.getSession().setTabSize(4),e.aceEditor.getSession().setUseWrapMode(!0),t.editor=e,t.editor.fixingEditorCode=!1,e.on("change",(function(){if(t.editor.currentlyUsingBlocks&&!t.editor.currentlyAnimating&&!t.editor.fixingEditorCode){var e=this.getValue(),n=e.replace(/while \(\((.*?)\)\) \{/g,"while ($1) {");n!==e&&(t.editor.fixingEditorCode=!0,this.setValue(n),t.editor.fixingEditorCode=!1)}})),e.on("parseerror",(function(){r({message:"We cannot switch to Block View because there is a syntax error in your code",header:"Syntax error",button:"OK"})})),$("#droplet-code-toggle").on("click",(function(){t.toggleBlocks()})),t.chsEditor.defaultBlocks||t.toggleBlocks(),$(e.wrapperElement).on("touchstart",(function(e){e.originalEvent&&(e=e.originalEvent),u=e.touches[0].pageX,l=e.touches[0].pageY,n=u,o=l})).on("touchmove",(function(t){t.originalEvent&&(t=t.originalEvent);var i=t.touches[0].pageX,r=t.touches[0].pageY;c=n-i,d=o-r,e.aceEditor.session.setScrollTop(e.aceEditor.session.getScrollTop()+d),e.aceEditor.session.setScrollLeft(e.aceEditor.session.getScrollLeft()+c),n=i,o=r})).on("touchend",(function(t){if(t.originalEvent&&(t=t.originalEvent),Math.abs(o-l)<5&&Math.abs(n-u)<5){var i=e.aceEditor.renderer.screenToTextCoordinates(u,l);e.aceEditor.moveCursorToPosition(i)}if(e.aceEditor.isFocused())return t.preventDefault(),!1;e.aceEditor.focus()}))}else{(e=window.ace.edit("codehs-editor")).setOptions({showFoldWidgets:!window.useAccessibilityMode,showGutter:!window.useAccessibilityMode});e.textInput.getElement().setAttribute("tabindex",-1),e.renderer.content.setAttribute("tabindex",0),e.renderer.content.setAttribute("aria-label","Editor, press Enter key to start editing, press Escape key to exit"),window.useAccessibilityMode&&e.renderer.content.addEventListener("focus",(function(){window.toastr.info("Press Enter key to start editing, press Escape key to exit","",{positionClass:"toast-top-center"})})),e.renderer.content.addEventListener("keyup",function(e){e.target==this.renderer.content&&"Enter"===e.key&&(e.stopPropagation(),e.preventDefault(),this.focus())}.bind(e)),e.commands.addCommand({name:"blurTextInput",description:"Set focus to the editor content div to allow tabbing through the page",bindKey:"Esc",exec:function(e){e.blur(),e.renderer.content.focus()},readOnly:!0}),e.getSession().setUseWorker(!1),t.editor=e;var u,l,c,d,p=t.getModeString();t.editor.getSession().setMode("ace/mode/"+p),"text"===p&&t.editor.getSession().setUseWrapMode(!0),$(e.container).on("touchstart",(function(e){e.originalEvent&&(e=e.originalEvent),u=e.touches[0].pageX,l=e.touches[0].pageY})).on("touchmove",(function(t){t.originalEvent&&(t=t.originalEvent);var n=t.touches[0].pageX,i=t.touches[0].pageY;c=u-n,d=l-i,e.session.setScrollTop(e.session.getScrollTop()+d),e.session.setScrollLeft(e.session.getScrollLeft()+c),u=n,l=i})),t.chsEditor.preventCopyPaste&&(e.$toDestroy.filter((function(e){return"input"===e.type})).forEach((function(e){var t=e.elem,n=e.callback;t.removeEventListener("input",n,{useCapture:!1}),t.addEventListener("input",(function(e){if("insertFromPaste"===e.inputType)return e.stopPropagation(),e.preventDefault(),e.target.value="","";n(e)}),!1)})),e.$toDestroy.filter((function(e){return"copy"===e.type})).forEach((function(e){var t=e.elem,n=e.callback;t.removeEventListener("copy",n,{useCapture:!1}),t.addEventListener("copy",(function(e){return e.stopPropagation(),e.preventDefault(),!1}),!1)})),e.$toDestroy.filter((function(e){return"paste"===e.type})).forEach((function(e){var t=e.elem,n=e.callback;t.removeEventListener("paste",n,{useCapture:!1}),t.addEventListener("paste",(function(e){var t=e.clipboardData.getData("text");return window.pageSpecific.allowPastingUrls&&a(t)?(n(e),t):(e.stopPropagation(),e.preventDefault(),"")}),!1)})),e.$toDestroy.filter((function(e){return"drop"===e.type})).forEach((function(e){var t=e.elem,n=e.callback;t.removeEventListener("drop",n,!1)})))}},o.prototype.toggleBlocks=function(){var e=this;e.editor.toggleBlocks(),!e.editor.currentlyUsingBlocks&&e.editor.currentlyAnimating?$("#droplet-code-toggle").html("Switch to Block View"):e.editor.currentlyUsingBlocks&&e.editor.currentlyAnimating&&$("#droplet-code-toggle").html("Switch to Code View")},o.prototype.getModeString=function(){return this.chsEditor.typeTester.isHTML()?"html":this.chsEditor.typeTester.isPython()||this.chsEditor.typeTester.isUnitTestPython()||this.chsEditor.typeTester.isPython2()||this.chsEditor.typeTester.isPython3()||this.chsEditor.typeTester.isPythonGraphics()||this.chsEditor.typeTester.isUnitTestPython3()||this.chsEditor.typeTester.isPygame()||this.chsEditor.typeTester.isPythonProcessing()||this.chsEditor.typeTester.isPythonLanguage()?"python":this.chsEditor.typeTester.isJava()?"java":this.chsEditor.typeTester.isScheme()?"scheme":this.chsEditor.typeTester.isBash()?"sh":this.chsEditor.typeTester.isSQL()?"sql":this.chsEditor.typeTester.isElm()?"elm":this.chsEditor.typeTester.isReactNative()?"jsx":this.chsEditor.typeTester.isCpp()?"c_cpp":this.chsEditor.typeTester.isSwift()?"swift":this.chsEditor.typeTester.isJavascript()?"javascript":i.ItemTypeConfig.CONFIGS[this.chsEditor.getItemType()].normal_text_editor?"text":"javascript"},o.prototype.setModeString=function(e){this.getEditor().getSession().setMode("ace/mode/"+e)},o.prototype.getValue=function(){var e=this.getEditor().getValue();return e.match(/\n$/)||(e+="\n"),e},o.prototype.refreshModeStringNative=function(e){var t=ace.require("ace/ext/modelist");this.getEditor().getSession().setMode(t.getModeForPath(e).mode)},o.prototype.setValue=function(e){var t=this.getEditor();this.chsEditor.codeEditorType===i.EditorType.DROPLET_EDITOR&&this.editor.setValue(e),t.session.setValue(e)},o.prototype.clearSelection=function(){this.getEditor().clearSelection()},o.prototype.addBreakpoint=function(e){this.getEditor().getSession().setBreakpoint(e-1," breakpoint")},o.prototype.removeBreakpoint=function(e){this.getEditor().getSession().clearBreakpoint(e-1)},o.prototype.clearBreakpoints=function(e){this.getEditor().getSession().clearBreakpoints()},o.prototype.gotoLine=function(e){this.getEditor().gotoLine(e)},o.prototype.highlightLine=function(e,t){if(void 0===t&&(t=!0),t&&this.clearHighlightedLines(),!(""===e||void 0===e||e<=0)){var n=e-1;if(!this.isLineHighlighted(n)){var r=this.getEditor().getSession().highlightLines(n,n);if(this.chsEditor.codeEditorType===i.EditorType.DROPLET_EDITOR){var o={color:"#FFFF00"};this.editor.markLine(n,o)}var a={lineNumber:n,markerId:r.id};this.highlightedLines.push(a)}}},o.prototype.isLineHighlighted=function(e){for(var t=0;t<this.highlightedLines.length;t++)return this.highlightedLines[t].lineNumber==e},o.prototype.clearHighlightedLines=function(){for(;this.highlightedLines.length>0;){var e=this.highlightedLines.shift();this.clearHighlightedLine(e)}},o.prototype.clearHighlightedLine=function(e){e.lineNumber>=0&&(this.getEditor().getSession().removeMarker(e.markerId),this.chsEditor.codeEditorType===i.EditorType.DROPLET_EDITOR&&this.editor.unmarkLine(e.lineNumber))},o.prototype.resize=function(){this.editor.resize()},o.prototype.getEditor=function(){return this.chsEditor.codeEditorType===i.EditorType.DROPLET_EDITOR?this.editor.aceEditor:this.editor},t.exports=o},{"../../core/constants.js":58,"../../utils/alert.js":186}],91:[function(e,t,n){"use strict";var i=e("../../core/constants.js"),r=e("../../core/pubSub.js"),o=e("../../utils/ajax.js"),a=e("lodash"),s=e("toastr"),u="#save-button";function l(e){this.editor=e,this.latestCodeSave=JSON.stringify(this.editor.currentCode)}l.prototype.saveCode=function(e,t){e=e||function(){},this.editor.getItemType()==i.ItemType.FREE_RESPONSE&&".txt"==this.editor.activeFile&&(this.editor.activeFile="default.txt"),r.trigger("utils:disableButton",u);var n=this.editor.currentCode;this.editor.activeFile&&!this.editor.activeFile.endsWith(".jar")&&(n[this.editor.activeFile]=a.trimRight(this.editor.getCode()));var l=JSON.stringify(n);if(l===this.latestCodeSave)return setTimeout((function(){r.trigger("utils:enableButton",u)}),1e3),e();var c=this.editor.getInfo();if(this.editor.typeTester.isGradingQuiz()||this.editor.typeTester.isGradeAndRespond())return e();if(l.split("\\n",1e4).length>=1e4)r.trigger("editorError:handle",{message:'Your file is too large to save. Please shorten and try again.\nThink this is a mistake? <a href="mailto:support@codehs.com">Contact us!</a>',name:"code error"},"eval");else{var d=this,p=d.editor.studentAssignmentID,h=d.editor.firepad&&d.editor.firepad.avatars?d.editor.firepad.avatars.getCollaboratorIds():"";o.send({method:"save_editor",app:"editor",data:{info:c,fileJson:l,seconds:d.editor.timeTrackSeconds||0,studentAssignmentID:p,isSandbox:d.editor.getItemType()==i.ItemType.SANDBOX&&!p,collaboratorIds:h,reason:t},success:function(t){"ok"==t.status?(d.latestCodeSave=l,$(u).html("<span class='chs-icon-check'></span>"),d.editor.timeTrackSeconds=0,d.editor.editorHistory.addListing(l),t.just_started_time&&($("#start-time-text").html(t.just_started_time),$("#started-time").show()),setTimeout((function(){r.trigger("utils:enableButton",u)}),1e3),e()):(r.trigger("editorError:handle",{message:t.msg+'Think this is a mistake? <a href="mailto:support@codehs.com">Contact us!</a>',name:"code error"},"eval"),s.error("There was an error saving your code! Please try again before moving on."),setTimeout((function(){r.trigger("utils:enableButton",u)}),1e3))},error:function(){r.trigger("editorError:handle",{message:"There was an error saving your code! Please try again before moving on.",name:"code error"},"eval"),s.error("There was an error saving your code! Please try again before moving on."),setTimeout((function(){r.trigger("utils:enableButton",u)}),1e3)}})}},t.exports=l},{"../../core/constants.js":58,"../../core/pubSub.js":60,"../../utils/ajax.js":185,lodash:504,toastr:858}],92:[function(e,t,n){"use strict";var i=e("babylon"),r=e("recast"),o=e("toastr"),a={sourceType:"module",plugins:["jsx","flow","objectRestSpread","classProperties","asyncGenerators"]};function s(e){this.editor=e,this.aceEditor=this.editor.aceEditor,this.setup()}s.prototype.setup=function(){var e=this;e.parser={parse:function(e,t){return i.parse(e,a)}},$(".component-card").draggable({opacity:.7,helper:"clone",revert:"invalid",appendTo:"body",addClasses:!1,zIndex:2e3,drag:function(t,n){if($(this).hasClass("over-editor")){var i=e.aceEditor.editor.renderer.screenToTextCoordinates(t.clientX,t.clientY);e.aceEditor.editor.moveCursorToPosition(i),e.aceEditor.editor.clearSelection()}}}),$("#codehs-editor").droppable({accept:".component-card",over:function(e,t){t.draggable.addClass("over-editor")},out:function(e,t){t.draggable.removeClass("over-editor")},drop:function(t,n){return e.handleDrop(n.draggable),!0}}),$("#component-search-input").on("keyup",(function(t){e.filterComponents()}))},s.prototype.filterComponents=function(e){var t=$("#component-search-input").val().toLowerCase();$(".searchable-component").each((function(){var e=$(this).find(".component-name").text().toLowerCase();t.length&&-1===e.indexOf(t)?$(this).addClass("gone"):$(this).removeClass("gone")}))},s.prototype.handleDrop=function(e){var t,n=this,i=e.data("component-name"),a=window.pageSpecific.reactNativeComponents[i],s=n.aceEditor.editor.getCursorPosition(),u=a.code,l=n.aceEditor.getValue(),c=n.aceEditor.editor.session.getScrollTop();try{n.insertCode(s,u),t=n.aceEditor.editor.getCursorPosition(),n.fixIndentation(s,u,n.aceEditor.getValue());var d=n.aceEditor.getValue(),p=r.parse(d,{parser:n.parser})}catch(e){return n.editor.setCode(l),void o.error("There was an error inserting that component. Are you sure you dropped it in the right place?")}var h=s.row+2,f=n.findClassForLine(p,h);try{a.properties&&f&&a.properties.forEach((function(e){n.insertProperty(f,e)}))}catch(e){}try{a.states&&f&&a.states.forEach((function(e){n.insertState(f,e)}))}catch(e){}try{a.lifecycle&&f&&a.lifecycle.forEach((function(e){n.insertLifeCycle(f,e)}))}catch(e){}try{a.imports&&a.imports.forEach((function(e){n.insertImport(p,e)}))}catch(e){}n.aceEditor.editor.setValue(r.print(p).code),n.aceEditor.editor.clearSelection(),n.aceEditor.editor.moveCursorToPosition(t),n.aceEditor.editor.selection.moveCursorLineEnd(),n.aceEditor.editor.focus(),n.aceEditor.editor.session.setScrollTop(c)},s.prototype.insertCode=function(e,t){this.aceEditor.editor.session.insert(e,t)},s.prototype.insertProperty=function(e,t){var n=r.types.builders,i=null;if(e&&e.body&&(i=e.body.body),i&&!i.some((function(e){return e.key&&e.key.name===t.name}))){var o=i.findIndex((function(e){return e.key&&"render"===e.key.name}));i.splice(o,0,n.classProperty(n.identifier(t.name),r.parse(t.body,{parser:this.parser}).program.body[0].expression,null))}},s.prototype.insertState=function(e,t){var n=r.types.builders,i=r.types.namedTypes,o=null;if(e&&e.body&&(o=e.body.body),o){var a,s=o.find((function(e){return"constructor"===e.kind}));if(s)if(r.types.visit(s,{visitAssignmentExpression:function(e){var r=e.value;"="===r.operator&&i.MemberExpression.check(r.left)&&i.ThisExpression.check(r.left.object)&&i.ObjectExpression.check(r.right)&&r.left.property&&"state"===r.left.property.name&&(r.right.properties.push(n.objectProperty(n.identifier(t.name),n.identifier(t.value))),a=!0),this.traverse(e)}}),a)return;var u=o.find((function(e){return e.key&&"state"===e.key.name}));if(u)u.value&&u.value.properties&&!u.value.properties.some((function(e){return e.key&&e.key.name===t.name}))&&u.value.properties.push(n.objectProperty(n.identifier(t.name),n.identifier(t.value)));else{var l=o.reduce((function(e,t,n){return t.static?n:e}),-1),c=o.findIndex((function(e){return"constructor"===e.kind})),d=Math.max(l,c)+1;o.splice(d,0,n.classProperty(n.identifier("state"),n.objectExpression([n.objectProperty(n.identifier(t.name),n.identifier(t.value))]),null))}}},s.prototype.insertLifeCycle=function(e,t){var n=r.types.builders,i=r.types.namedTypes,o=null;if(e&&e.body&&(o=e.body.body),o){var a=o.find((function(e){return e.key&&e.key.name===t.name&&i.BlockStatement.check(e.body)}));if(a&&a.body&&a.body.body)a.body.body.push.apply(a.body.body,r.parse(t.body,{parser:this.parser}).program.body);else if(!o.some((function(e){return e.key&&e.key.name===t.name}))){var s=o.reduce((function(e,t,n){return t.static?n:e}),-1),u=o.findIndex((function(e){return"constructor"===e.kind})),l=o.findIndex((function(e){e.key&&e.key.name})),c=Math.max(s,u,l)+1;o.splice(c,0,n.classMethod("method",n.identifier(t.name),[],n.blockStatement(r.parse(t.body,{parser:this.parser}).program.body)))}}},s.prototype.insertImport=function(e,t){var n=r.types.builders,i=r.types.namedTypes,o=!1;if(r.types.visit(e,{visitImportDeclaration:function(e){e.node.source.value===t.from&&!(o=t.default?e.node.specifiers.some(i.importDefaultSpecifier.check):!t.name||e.node.specifiers.filter(i.ImportSpecifier.check).some((function(e){return e.imported.name===t.name})))&&t.name&&(t.default?e.node.specifiers.unshift(n.importDefaultSpecifier(n.identifier(t.name))):e.node.specifiers.push(n.importSpecifier(n.identifier(t.name))),o=!0),this.traverse(e)}}),!o){var a,s,u=e.program.body.reduce((function(e,t,n){return i.ImportDeclaration.check(t)?n:e}),0);if(t.name)s=t.default?[n.importDefaultSpecifier(n.identifier(t.name))]:[n.importSpecifier(n.identifier(t.name))],a=n.importDeclaration(s,n.literal(t.from));else a=n.importDeclaration([],n.literal(t.from));e.program.body.splice(u+1,0,a)}},s.prototype.findClassForLine=function(e,t){var n=r.types.namedTypes,i=e.program.body.filter((function(e){return n.ClassDeclaration.check(e)||n.ClassDeclaration.check(e.declaration)})).find((function(e){return e.loc.start.line<t&&e.loc.end.line>t}));return n.ClassDeclaration.check(i)?i:i.declaration},s.prototype.fixIndentation=function(e,t,n){for(var i=e.row+1,r=i+t.split("\n").length-2,o=n.split("\n"),a=i,s="";a>0&&!/\>\s*$/.test(s);)s=o[a-1],a--;var u=/(\/>$|<\/[^>]+>$)/.test(s.trim()),l=s.match(/^\s+/g),c=0;if(l&&l[0]&&(c=l[0].length),c){var d=o[i].match(/^\s+/g),p=0;d&&d[0]&&(p=d[0].length);var h=c;if(u||(h+=4),h!==p&&h>p){for(var f=new Array(h-p+1).join(" "),m=i;m<=r;)o[m]=f+o[m],m++;this.aceEditor.editor.setValue(o.join("\n"))}}},t.exports=s},{babylon:277,recast:533,toastr:858}],93:[function(e,t,n){"use strict";var i,r=e("../../utils/aiUtils.js"),o=e("../../utils/ajax.js"),a=e("../itemLinks.js"),s=e("../glossaryTerms.js"),u=e("../../core/pubSub.js"),l=e("../../utils/chsUtils.js"),c=e("../../utils/uploadUtils.js").uploadFormDataFile,d="#help-tab .send-message",p="#ai-hint-main-button",h="#help-tab .dropdown-toggle",f="#help-tab #voice-memo-container",m="#help-tab #voice-memo-result",g="#help-tab .help_question",y="#help-tab .open_help",v="#help-tab .help-thread",_="#rate-msg",b=".message:last-of-type .msg-rating.student";function w(e){this.editor=e,this.setup(),this.aiRequestID=null}w.prototype.messageBoxEmpty=function(){var e=$(g).val();return 0===$.trim(e).length},w.prototype.sendMessage=function(e){var t=this,n=t.editor.getInfo();return n.sectionId=window.pageSpecific.sectionID,o.send({app:"help",method:"help_message",data:{info:n,content:e,grade_mode:"grade_mode"in $.url().param(),ai_request_id:t.aiRequestID},success:function(e){t.aiRequestID=null,$(g).val(""),t.reload({checkHelpMode:!0}),window.analytics.track("Send Help Message",t.editor.getInfo())}})},w.prototype.generateAIHint=function(e){var t=this;return r.hideAIFeedback(),o.send({app:"ai",method:"get_ai_hint",data:{student_assignment_id:window.pageSpecific.studentAssignmentID,hint_level:e},success:function(e){"ok"===e.status?($(g).val(e.hint),e.ai_request_id&&(r.setupAIFeedbackButtons(e.ai_request_id,"AI Hints"),t.aiRequestID=e.ai_request_id)):"over_ai_limit"in e?($("#ai-error").removeClass("hidden"),$("#hints-button").addClass("hidden")):window.toastr.error(e.message)},error:function(){window.toastr.error("There was an error generating your hint.")}})},w.prototype.unhtmlEntityCode=function(e){return e=e.replace(/&amp;/g,"&")},w.prototype.filterProfanity=function(e){for(var t=CHS.Constants.FilteredWords.BADWORDS,n=0;n<t.length;n++){var i=new RegExp(t[n],"gi");e=e.replace(i,"====")}return e},w.prototype.reload=function(e){var t=(e=e||{}).checkHelpMode||!1,n=e.clearUnread||!1,r=this,a=this.editor.getInfo();a.clearUnread=n,o.send({method:"help_thread",app:"help",data:a,dataType:"HTML",type:"GET",success:function(e){var n=$(v).html(),o=n?n.split('<div class="message').length:0,a=e.split('<div class="message').length;if(o!=a){$(v).html(e),r.format();var s=a-1;$(i).html("Conversation ("+s+")")}(r.reloadCount>0||t)&&u.trigger("utils:checkHelpMode"),r.reloadCount++,u.trigger("Utils.Ratings:setup")}}),$(g).css("height","200px")},w.prototype.setupMsgMenu=function(){var e=this;$(v).on("click",".flag-msg",(function(e){e.preventDefault();var t=$(this),n=t.parents(".msg-dropdown").data("id");o.send({method:"flag_message",app:"help",data:{msg_id:n},success:function(e){"ok"==e.status&&t.addClass("has-flag")}})})),$(v).on("click",".hide-msg",(function(t){t.preventDefault();var n=$(this).parents(".msg-dropdown").data("id");o.send({method:"hide_message",app:"help",data:{msg_id:n},success:function(t){"ok"==t.status&&e.reload()}})}))},w.prototype.format=function(){var e=this;$("#help-tab .message .comment-content").each((function(){var t=$(this).html();t=(t=e.filterProfanity(t)).replace(/&gt;/g,">");var n=e.converter.makeHtml(t);n=e.unhtmlEntityCode(n),n=s.formatTerms(n),n=a.linkItems(n),$(this).html(n),$(this).find("pre").each((function(){$(this).addClass("prettyprint")})),$('[rel="tooltip"]').tooltip()})),e.commentEditor.run(),$("#wmd-preview").html(""),window.prettyPrint()},w.prototype.hideRating=function(e){var t=e.children("input")[0].value;t&&($(_).fadeOut("slow"),$(d).removeAttr("disabled"),$("#wmd-input").removeClass("needs-rating"),$(b).children("input")[0].value=t)},w.prototype.setSendButtonText=function(){var e=$(d),t=$("input[name=review-options]:checked").data("value"),n=this.messageBoxEmpty();t?n?e.text("Send Review Grade"):e.text("Send Grade with Message"):e.text("Send")},w.prototype.setupVoiceMemoRecording=function(){var e=this;if(e.audioContext=0,$(f).length){var t=window.AudioContext||window.webkitAudioContext||window.mozAudioContext||window.oAudioContext||window.msAudioContext;navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&window.MediaRecorder&&($(f).removeClass("hidden"),$("#help-tab #js-send-voice-memo-btn").on("click",(function(){var t=$(m).attr("src"),n=e.editor.getInfo();n.sectionId=window.pageSpecific.sectionID,t&&o.send({app:"help",method:"help_message",data:{info:n,content:t,is_voice_memo:!0},success:function(t){$("#help-tab #voice-memo-result-container").addClass("hidden"),$(m).attr("src",""),$("#help-tab #voice-memo-dropdown").hasClass("collapsed")||$("#help-tab #voice-memo-dropdown").trigger("click"),e.reload({checkHelpMode:!0}),window.analytics.track("Send Voice Memo",e.editor.getInfo())},error:function(e){window.toastr.error("There was an error sending your voice memo! Please try again.")}})})),$("#help-tab #voice-memo-dropdown").one("click",(function(n){n.preventDefault();var i=$("#help-tab #voice-memo-record");if(!e.audioContext&&t)try{e.audioContext=new t}catch(n){console.log("Too many AudioContexts are in use. Please close all browser windows and retry."),e.audioContext=0}navigator.mediaDevices.getUserMedia({audio:!0}).then((function(t){!function(t){if(e.audioContext){var n=e.audioContext.createMediaStreamSource(t),i=e.audioContext.createAnalyser();i.fftSize=2048;var r=i.frequencyBinCount,o=new Uint8Array(r);n.connect(i);var a=document.querySelector("#help-tab #voice-memo-analyser"),s=a.getContext("2d");function u(){var e=a.width,t=a.height;requestAnimationFrame(u),i.getByteTimeDomainData(o),s.fillStyle="rgb(200, 200, 200)",s.fillRect(0,0,e,t),s.lineWidth=2,s.strokeStyle="rgb(0, 0, 0)",s.beginPath();for(var n=1*e/r,l=0,c=0;c<r;c++){var d=o[c]/128*t/2;0===c?s.moveTo(l,d):s.lineTo(l,d),l+=n}s.lineTo(a.width,a.height/2),s.stroke()}u()}else $("#help-tab #voice-memo-analyser").hide()}(t);var n=new MediaRecorder(t),r=[];i.on("click",(function(e){"recording"!=n.state?(n.start(),i.addClass("btn-main-red"),i.removeClass("btn-main-blue"),i.html('<span class="icon icon-stop"></span> Stop')):(n.stop(),i.removeClass("btn-main-red"),i.addClass("btn-main-blue"),i.html("Uploading..."),i.attr("disabled",!0))})),n.ondataavailable=function(e){r.push(e.data)},n.onstop=function(e){var t=new Blob(r,{type:"audio/mpeg"});r=[];var n=new FormData;n.append("file",t),c(n,(function(e){i.html('<span class="icon icon-circle"></span> Record'),i.attr("disabled",!1),$("#help-tab #voice-memo-result-container").removeClass("hidden"),$(m).attr("src",e)}))}})).catch((function(e){console.log("The following getUserMedia error occured: "+e)}))})))}},w.prototype.setup=function(){var e=this;i=window.pageSpecific.isAbacus?'.__abacus_tab:contains("Conversation")':'a[href="#help-tab"]',0!==$("#help-tab").length&&(e.converter=window.Markdown.getSanitizingConverter(),window.Markdown.Extra.init(e.converter,{highlighter:"prettify"}),$(_).length>0&&$(d).attr("disabled","disabled"),$("#rate-msg .msg-rating").on("click",(function(){e.hideRating($(this))})),$(v).on("click",b,(function(){e.hideRating($(this))})),$("#item-code-review").length>0&&($(g).on("input paste focus blur",(function(){e.setSendButtonText()})),$("input[name=review-options]").on("change",(function(){e.setSendButtonText()}))),$(d).on("click",(function(t){t.preventDefault(),$(d).attr("disabled","disabled");var n=$("input[name=review-options]:checked");if($("#item-code-review").length>0&&0===n.length)l.alert({header:"Select a Grade",message:'Please select a grade or select "None" before sending a message.',close_callback:function(){$(d).removeAttr("disabled")}});else{var i,r=$(g).val(),o=n.data("value");if(!$("#item-code-review").length||!o){if(e.messageBoxEmpty())return void l.alert({header:"Write a Message",message:"You cannot send a blank message.",close_callback:function(){$(d).removeAttr("disabled")}});i=e.sendMessage(r)}i.always((function(){$(d).removeAttr("disabled")}))}})),$("#help-tab .ai-hint").on("click",(function(t){function n(){u.trigger("utils:enableButton",$(p)),u.trigger("utils:enableButton",$(h)),e.commentEditor.refreshPreview()}t.preventDefault(),u.trigger("utils:disableButton",$(p)),u.trigger("utils:disableButton",$(h));var i=$(this).data("hint-level");e.messageBoxEmpty()?e.generateAIHint(i).always((function(){n()})):l.alert({header:"Warning",message:"This will override your current message",ok_callback:function(){e.generateAIHint(i).always((function(){n()}))},close_callback:function(){n()}})})),e.setupMsgMenu(),e.setupVoiceMemoRecording(),$(document).on("click",y,(function(t){t.preventDefault(),e.reload(),u.trigger("utils:switchToTab","#help-tab",".right-col-tabs","editor-tab-content"),$("#wmd-input").trigger("focus"),$(i).removeClass("new-messages")})),$(i).on("click",(function(){e.editor.stop(),$(this).removeClass("new-messages"),e.reload({clearUnread:!0})})),e.commentEditor=new window.Markdown.Editor(e.converter),e.commentEditor.hooks.chain("onPreviewRefresh",(function(){$("#wmd-preview").find("pre").each((function(){$(this).addClass("prettyprint")})),window.prettyPrint()})),e.format(),e.reload({clearUnread:!1}),$(window).on("beforeunload",e.cleanup),$(document).one("turbolinks:before-render",(function(){e.cleanup(),$(window).off("beforeunload",e.cleanup)})))},w.prototype.cleanup=function(){$(document).off("click",y),this.audioContext&&this.audioContext.close()},t.exports=w},{"../../core/pubSub.js":60,"../../utils/aiUtils.js":184,"../../utils/ajax.js":185,"../../utils/chsUtils.js":187,"../../utils/uploadUtils.js":196,"../glossaryTerms.js":78,"../itemLinks.js":79}],94:[function(e,t,n){"use strict";var i=e("../../core/pubSub.js");function r(e){this.editor=e,this.setup()}function o(){var e=$("#docs-color-picker-input"),t=$("#docs-color-picker-value");e.on("input",(function(){t.val(e.val())})),e.on("change",(function(){t.val(e.val())})),t.on("change",(function(){e.val(t.val())}))}r.prototype.setup=function(){this.editor.typeTester.isHTML()&&o()},i.on("editor:setupColorPicker",o),t.exports=r},{"../../core/pubSub.js":60}],95:[function(e,t,n){"use strict";var i=e("../../core/constants.js"),r=e("../../utils/chsUtils.js").fileHasImageExtension,o=".editor-wrap",a="#codehs-editor",s="#tab-bar",u="#left",l="#right",c="#problem-sidebar",d="#content-listing",p="#editor-full-size",h="#history-preview",f=300;function m(e,t){this.editor=e,t=t||{},this.options=_.defaults(t,{isQuiz:!1}),this.sidebarOpen=!$(d).hasClass("gone"),this.fullSize=0===$(u).width(),this.setup()}function g(){$("#problem-sidebar-tabs").toggleClass("nav-justified").toggleClass("nav-stacked"),$(c).toggleClass("minimized")}function y(){var e=$(window).width()-250-400;return e<300?null:e}function v(e,t){if(""!==e&&-1===t.indexOf(e)){t.push(e);var n=e.lastIndexOf("/"),i=e.substring(n+1),r=e.substring(0,n);$("#new-file-folder-name").append('<option name="'+e+'">'+e+"</option>"),$("#new-folder-folder-name").append('<option name="'+e+'">'+e+"</option>"),$(".location-select").removeClass("gone"),v(r,t),function(e,t,n){var i=document.getElementById(e);null===i&&(i=$(".file-list"));var r=$('<ul class="folder" id="'+t+'">');$(i).append($("<li>").append($('<a href="javascript:void(0);" role="button"  class="folder '+t+'">').append('<span class="icon icon-folder-open-alt"></span>').append(n)).append('<a href="javascript:void(0);" class="right" data-toggle="modal" role="button" aria-haspopup="dialog"data-target="#create-new-file-modal" data-location="'+t+'"><span class="fas fa-plus-square folder-add-file" title="Add to this folder"></span></a>').append('<div class="clear"></div>').append(r))}(r,e,i)}}m.prototype.isSidebarOpen=function(){return this.sidebarOpen},m.prototype.toggleSidebar=function(){var e=this;this.sidebarOpen?(g(),$(c).animate({width:"60px"},400,(function(){$("#open-toggle").animate({width:"toggle"},"fast"),$(d).addClass("gone")})),$(o).animate({"padding-left":"60px"},400,(function(){e.editor.aceEditor.resize()})),$(c+"-tabs").animate({height:"100%"},400),$("#close-toggle").hide()):($(d).removeClass("gone"),$("#open-toggle").animate({width:"toggle"},"fast",(function(){$(c).animate({width:"250px"},400,(function(){$("#close-toggle").animate({width:"toggle"},"fast")})),$(o).animate({"padding-left":"250px"},250,(function(){e.editor.aceEditor.resize()})),$(c+"-tabs").animate({height:"44px"},400,(function(){g()}))}))),this.sidebarOpen=!this.sidebarOpen},m.prototype.setupSharedEditor=function(){var e=$("#shared-program").height();$(a).css("height",e+"px")},m.prototype.setupEditorHeight=function(){var e=$(u).height(),t=$("#left .action").height(),n=$("#grading-quiz").outerHeight(!0)||0,r=$("#grading-box").outerHeight(!0)||0,o=$("#code-edit-alert").outerHeight(!0)||0,l=$(".lti-launch-banner").outerHeight(!0)||0,c=e-t-8-n-r-o-($("#logged-out-editor-banner").outerHeight(!0)||0)-l;this.editor.codeEditorType===i.EditorType.DROPLET_EDITOR&&(c-=26),$(a).css("height",c+"px");var d=e-50-$("#right .nav-tabs").height();if(d<530){var p=$('canvas[data-type="superkarel"], canvas[data-type="karel"], canvas[data-type="ultrakarel"]');p&&d>0&&p.css("height",.7*d)}$(h).css({"max-height":$(s).height()-30})},m.prototype.setupSidebarContentTab=function(){var e=this;$(o).one("shown.bs.tab",'a[href="#sidebar-content-tab"]',(function(){e.editor.editorSidebarContent.setup()}))},m.prototype.setupRightSidebarResize=function(){var e=this;$(l).resizable({maxWidth:y(),minWidth:300,handles:"w",resize:function(e,t){$(o).css({"padding-right":t.size.width}),$(h).width($(s).width()-20-100)},stop:function(t,n){f=n.size.width,$(".right-col-tabs").outerHeight()>50?$(".right-col-tabs").addClass("wrapped"):$(".right-col-tabs").removeClass("wrapped"),e.editor.aceEditor.resize()}})},m.prototype.setupFileList=function(e){var t=this,n=t.editor.code,r=$(".file-list"),o=$.Deferred();if(t.editor.getItemType()===i.ItemType.UNIT_TEST){var a=t.editor.getInfo();window.PRACTICE_LOGGED_OUT_EDITOR?$.ajax({url:"/editor/ajax/unit_test_to_practice_code",type:"GET",dataType:"json",data:{itemID:a.itemID},success:function(e){Object.assign(t.editor.breakpoints,Object.keys(e.code).reduce((function(e,t){return e[t]=[],e}),{})),t.editor.code=$.extend(n,e.code),t.editor.breakpoints["Scratchpad.java"]={},o.resolve()}}):$.ajax({url:"/editor/ajax/unit_test_to_runnable_code",type:"GET",dataType:"json",data:{userID:a.codeUserID,itemID:a.itemID},success:function(e){Object.assign(t.editor.breakpoints,Object.keys(e.code).reduce((function(e,t){return e[t]=[],e}),{})),t.editor.code=$.extend(n,e.code),o.resolve()}})}else o.resolve();o.then((function(){r.length&&t.createFileList(n,e)}))},m.prototype.createFileList=function(e,t){var n=this;t=void 0===t||t;var r,o=[],a=$(".file-list");if(a.html(""),t){if(r=Object.keys(e)[0],n.editor.language===i.ProgrammingLanguage.JAVA&&n.editor.getItemType()!==i.ItemType.UNIT_TEST)r=n.editor.mainClass+i.ProgrammingLanguage.FILE_SUFFIX[n.editor.language];else if(n.editor.getItemType()==i.ItemType.FREE_RESPONSE){var s=i.ProgrammingLanguage.FILE_SUFFIX[n.editor.language];r=n.editor.mainClass.endsWith(s)?n.editor.mainClass:n.editor.mainClass+s}else void 0!==n.editor.mainClass&&(r=n.editor.mainClass);n.editor.activeFile=r}(Object.keys(e).forEach((function(t){var s=t.lastIndexOf("/"),u=t.substring(0,s),l=t.substring(s+1);v(u,o),""!==u&&(a=document.getElementById(u));var c,d=$('<a href="javascript:void(0);" class="file" role="button"'+('data-filename="'+t+'"')+">").append(l).data("filename",t);n.editor.mainClass+i.ProgrammingLanguage.FILE_SUFFIX[n.editor.language]!==t&&t!==r||(d.addClass("active"),d.attr("aria-selected",!0),_.size(e)>1&&n.editor.getItemType()!==i.ItemType.UNIT_TEST&&d.prepend($('<span class="icon icon-play-circle" rel="tooltip" title="This is the main file that runs when you click the run button.">'))),d.prepend($('<span class="icon icon-file">')),c="."==l||""==l?$('<li class="gone">').append(d):$('<li class="file-list-file">').append(d),$(a).append(c),$("[rel=tooltip]").tooltip({container:"body"}),a=$(".file-list")})),$(".file-list").off("click"),$(".file-list").on("click",".file",(function(){!n.editor.firepad||n.editor.firepad.isLeader()?n.activateFile(this):window.toastr.error("You can't switch files while collaborating")})),$(".folder").off("click"),$(".folder").on("click",(function(){var e=$(this).attr("class"),t=e.lastIndexOf(" "),n=e.substring(t+1),i=$(document.getElementById(n));"display: none;"===i.attr("style")?(i.show(),$(this).find(".icon-folder-close-alt").addClass("icon-folder-open-alt"),$(this).find(".icon-folder-close-alt").removeClass("icon-folder-close-alt")):(i.hide(),$(this).find(".icon-folder-open-alt").addClass("icon-folder-close-alt"),$(this).find(".icon-folder-open-alt").removeClass("icon-folder-open-alt"))})),n.editor.firepad&&!n.editor.firepad.isLeader())&&($("#create-new-file").addClass("gone"),$(".file-list").find('a.right[data-target="#create-new-file-modal"]').addClass("gone"))},m.prototype.activateFile=function(e){var t=this;if($(e).length){var n=t.editor.code;t.editor.currentCode[t.editor.activeFile]=t.editor.getCode(),n[t.editor.activeFile]=t.editor.getCode(),$(".file-list .file.active").removeClass("active");var o=$(e).data("filename");$(e).addClass("active"),$(".powered-by-firepad").css("display","block"),r(o)?($("#codehs-editor").hide(),$("#image-asset img").attr("src",n[o]),$("#image-asset").css("display","flex"),$(".powered-by-firepad").css("display","none"),t.editor.setCode(n[o]),t.editor.activeFile=o):o.endsWith(".jar")?($("#image-asset").css("display","none"),$("#codehs-editor").show(),t.editor.setCode(t.editor.getJarASCII()),t.editor.activeFile=o):($("#image-asset").css("display","none"),$("#codehs-editor").show(),t.editor.setCode(n[o]),t.editor.activeFile=o,"Unit Test"===o&&(o+=i.ProgrammingLanguage.FILE_SUFFIX[t.editor.language]),t.editor.aceEditor.refreshModeStringNative(o),t.editor.clearHighlightedLines(),$("li.error-entry").each((function(){var e=$(this).data("line"),n=$(this).data("filename");t.editor.highlightLine(e,!1,n)}))),t.editor.refreshBreakpoints(),t.editor.firepad&&t.editor.firepad.isLeader()&&t.editor.firepad.updateFiles()}},m.prototype.activateFileFirepad=function(e){r(e)?($("#codehs-editor").hide(),$("#image-asset img").attr("src",this.editor.code[e]),$("#image-asset").css("display","flex"),$(".powered-by-firepad").css("display","none")):($("#image-asset").css("display","none"),$("#codehs-editor").show(),$(".powered-by-firepad").css("display","block")),$(".file-list .file.active").removeClass("active"),$('.file[data-filename="'+e+'"]').addClass("active")},m.prototype.setup=function(){var e=this;if(e.editor&&e.editor.isSharedProgram){e.editor.aceEditor.getEditor().renderer.setShowGutter(!1),$(a).bind("copy paste",(function(e){e.preventDefault()})),$(a).on("contextmenu",(function(e){return!1}));var t=!1;$(a).on("keydown",(function(e){17!=e.keyCode&&91!=e.keyCode||(t=!0)})).on("keyup",(function(e){17!=e.keyCode&&91!=e.keyCode||(t=!1)})),$(a).on("keydown",(function(e){if(t&&(86==e.keyCode||67==e.keyCode))return!1})),window.pageSpecific.readOnly&&e.editor.aceEditor.editor.setReadOnly(!0),e.setupSharedEditor()}else e.options.isQuiz||e.setupEditorHeight();e.setupSidebarContentTab(),e.options.isQuiz||e.setupFileList(),e.options.isQuiz||$(window).on("resize",(function(){e.editor.isSharedProgram?e.setupSharedEditor():($(l).resizable("option","maxWidth",y()),e.setupEditorHeight())})),$(".toggle-sidebar").on("click",(function(){e.toggleSidebar()}));var n=o;e.options.isQuiz&&(n=".quiz-wrap"),$(n).on("click","#problem-sidebar.minimized .sidebar-nav-tab",(function(){$($(this).attr("href")).tab("show"),e.toggleSidebar()})),$(n).on("click","#problem-sidebar .sidebar-nav-tab",(function(){$('#problem-sidebar .sidebar-nav-tab[aria-selected="true"]').each((function(){$(this).attr("aria-selected",!1)})),$(this).attr("aria-selected",!0)})),$(n).on("click",".file-list-file .file",(function(){$('.file-list-file .file[aria-selected="true"]').each((function(){$(this).attr("aria-selected",!1)})),$(this).attr("aria-selected",!0)})),$(".js-editor-bottombar").length&&$(".js-editor-bottombar .module-name").on("click",(function(t){if($(c).length){var n=$('.sidebar-nav-tab[href="#sidebar-content-tab"]');n.hasClass("active")||($("#problem-sidebar-tabs .active").removeClass("active"),n.parent().addClass("active")),e.isSidebarOpen()||e.toggleSidebar()}})),document.getElementsByClassName("sandbox-demo-try-it-button").forEach((function(e){e.addEventListener("click",(function(){window.Ed.save((function(){window.Ed.setCodeFromJSON(JSON.parse(e.dataset.starterCode),{mainClass:e.dataset.main})}))}))})),$(p).on("click",(function(){var t;(e.sidebarOpen&&!e.fullSize||!e.sidebarOpen&&e.fullSize)&&$(c).exists()&&e.toggleSidebar(),t=e.fullSize?f:0,$(o).animate({"padding-right":t},250,(function(){e.editor.aceEditor.resize(),$(p).toggleClass("expanded")})),$(l).animate({width:"toggle"}),e.fullSize=!e.fullSize,e.fullSize?$(p).attr("aria-label","Exit editor fullscreen"):$(p).attr("aria-label","Activate editor fullscreen")})),e.setupRightSidebarResize(),$(h).width($(s).width()-20-100),e.options.isQuiz||e.editor.aceEditor.resize(),window.innerWidth<960&&e.toggleSidebar()},t.exports=m},{"../../core/constants.js":58,"../../utils/chsUtils.js":187}],96:[function(e,t,n){"use strict";var i=e("../../core/pubSub.js"),r=e("../errors.js"),o=e("../../utils/chsUtils.js"),a="linter",s="eval",u="skulpt",l="infinite_loop",c="react_native";function d(e,t){switch(t){case a:break;case s:"InfiniteLoop"===e.name?p(e):function(e){var t=-1,n="";t=e.line?e.line:e.lineNumber?e.lineNumber:function(e){var t=-1;return e.replace(/<anonymous>:(.*):/gm,(function(e,n,i,r){-1==t&&(t=parseInt(n))<f()&&(t=-1)})),t}(window.printStackTrace({e:e}).join("\n"));t=h(t),n=function(e){return"Uncaught "+e.name+": "+e.message}(e),r.show({editor:window.Ed,message:n,lineNumber:t>0?t:-1,progtype:window.Ed.getProgramType(),editorError:!0,log:!1})}(e);break;case u:!function(e){e.preprocess||(e.traceback[0].lineno=h(e.traceback[0].lineno));r.show({editor:window.Ed,message:e.toString(),lineNumber:e.traceback.length?e.traceback[0].lineno:-1,progtype:window.Ed.getProgramType(),editorError:!0,log:!1})}(e);break;case l:p(e);break;case c:!function(e){r.show({editor:window.Ed,message:e.message,lineNumber:e.lineNumber?e.lineNumber:-1,progtype:window.Ed.getProgramType(),editorError:!0,log:!1}),$(".stack").html(e.stack),$(".stack").show()}(e)}}function p(e){o.alert({header:"Proceed with caution!",message:"There might be infinite loop on line "+e.lineNumber+" in your code.\nRunning this program may cause the browser to crash.",cancel_callback:function(){window.Ed.externalRun({overrideInfiniteLoops:!0})},cancelButton:!0,buttonClass:"btn-main-green",exitButton:!1,button:"Exit Program Safely",enterToClose:!1,cancelButtonText:"Run anyway",cancelButtonClass:"btn-main-red"}),r.show({editor:window.Ed,message:e.message,lineNumber:e.lineNumber,progtype:window.Ed.getProgramType(),editorError:!0,log:!1})}function h(e){return e-f()}function f(){var e=window.pageSpecific.helper_code?window.pageSpecific.helper_code:"",t=e.split("\n").length;""===e&&(t=0);var n=186+t,i=0;return window.Ed.typeTester.isKarel()&&(i+=64,window.Ed.typeTester.isSuperKarel()?i+=6:window.Ed.typeTester.isUltraKarel()&&(i+=15),window.Ed.typeTester.isPython()&&(i+=214,window.Ed.typeTester.isSuperKarel()&&(i+=7),window.Ed.typeTester.isUltraKarel()&&(i+=58))),window.Ed.typeTester.isGraphics()&&(i+=100),window.Ed.typeTester.isPixel()&&(i+=82),window.Ed.typeTester.isTurtle()&&(i+=n),window.Ed.typeTester.isConsole()&&(i+=25),i}i.on("editorError:handle",(function(e,t){d(e,t)}))},{"../../core/pubSub.js":60,"../../utils/chsUtils.js":187,"../errors.js":76}],97:[function(e,t,n){"use strict";var i=e("../../utils/ajax.js"),r=e("../../utils/chsUtils.js").fileHasImageExtension,o=e("moment"),a=".snapshot-version",s="#extra-snapshots-tab",u=!1;function l(e){var t=this;t.editor=e,u=!1,$("#history-tab-container").on("click",(function(){u||i.send({method:"get_code_history",app:"editor",data:{item:t.editor.itemID,user:t.editor.codeUserID,course:t.editor.courseID,student_assignment_id:t.editor.studentAssignmentID},success:function(e){if("ok"===e.status&&!u){u=!0;var n=$(e.text);$("#snapshot-history-listings").prepend(n),function(e){$(a).on("click",(function(){d(e,this)})),$(a).on("mouseenter",(function(){p(this)})),$(s).on("mouseenter",(function(){$(".history-preview-file").remove();var e="";e+='<div class="history-preview-file">',e+="<h2> Upgrade to Pro </h2>",e+="To see a complete history of your student's code, upgrade to Pro. To learn more about pro, send an email to",e+='<a href="mailto:hello@codehs.com" target="_blank"> hello@codehs.com </a>',e+='or fill out a form <a href="https://codehs.com/learnmore" target="_blank">here</a>.',e+="</div>",$("#history-preview").append(e)}))}(t)}}})}))}function c(e){var t,n=$(e).find(".snapshot-full").html();return JSON.parse((t={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#x2F;":"/","&#x60;":"`","&#x3D;":"="},String(n).replace(/(&amp;)|(&lt;)|(&gt;)|(&quot;)|(&#39;)|(&#x2F;)|(&#x60;)|(&#x3D;)/g,(function(e){return t[e]}))))}function d(e,t){for(var n=c(t),i=Object.keys(n),r=0;r<i.length;r++)e.editor.code[i[r]]=n[i[r]],e.editor.currentCode[i[r]]=n[i[r]];e.editor.setCode(n[e.editor.activeFile])}function p(e){$(".history-preview-file").remove();var t=c(e),n="",i=Object.keys(t),o=$(e).find("> .date").text(),a=$(e).find("> .time").text(),s=$(e).find("> .save-reason").text();n+='<h3 class="history-preview-file">',n+=o?o+"   "+a+"</h3>":"Starter Code </h3>",s&&(n+='<h3 class="history-preview-file">'+s+"</h3>");for(var u=0;u<i.length;u++){var l=i[u];if(!l.endsWith(".")){var d=t[l];d=(d=(d=d.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;"),n+='<div class="history-preview-file">',i.length>1&&(n+="<h4>",n+=l,n+=":</h4>"),n+='<pre class="prettyprint">',r(l)&&(d='<img src="'+d+'">'),l.endsWith(".jar")&&(d=".jar file"),n+=d,n+="</pre></div>"}}$("#history-preview").append(n)}l.prototype.addListing=function(e){var t,n=this,i=o(),r=i.format("M/D/YY"),a=i.format("h:mm"),s=i.format("A"),u=$('<div class="snapshot-version" rel="tooltip" title="Click to reset your code to this."><div class="snapshot-timestamp date">'+r+'</div><div class="snapshot-timestamp time">'+a+" "+s+'</div><script class="snapshot-full" type="text/json">'+(t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},String(e).replace(/[&<>"'`=\/]/g,(function(e){return t[e]}))+"<\/script></div>"));$(u).on("click",(function(){d(n,this)})),$(u).on("mouseenter",(function(){p(this)})),$("#snapshot-history-listings").prepend(u)},t.exports=l},{"../../utils/ajax.js":185,"../../utils/chsUtils.js":187,moment:506}],98:[function(e,t,n){"use strict";var i,r=e("../karel/karelWorld.js"),o=e("../../utils/ajax.js"),a=e("../../../lib/codehs/chs-js-lib/graphics"),s=e("../../utils/quillCustom.js"),u=".start-ex-button",l="#directions-modal",c=".program-demo-canvas",d=".dark-screen";function p(e){this.editor=e;try{this.setup()}catch(e){console.log("editor instructions initialization error")}this.demo_graphics,this.demo_solution}p.prototype.usingGraphics=function(){return this.editor.typeTester.isGraphics()&&this.editor.needsPopup()},p.prototype.setupLetsGoButton=function(){$(u).on("click",this.hideInstructions)},p.prototype.hideInstructions=function(){$("#close-button").removeAttr("tabindex"),$(l).off("focus.directions.modal").fadeOut("fast",(function(){$(l).hide({complete:function(){i&&(i.trigger("focus"),i=null),$(document).off("keydown.directions.modal").off("keydown.directions.modal.initial")}})})),$(d).fadeOut()},p.prototype.setupDemoRunButton=function(){var e=this;$(".demo-run-button").on("click",(function(){e.usingGraphics()&&e.demo_graphics.fullReset();var t=e.demo_solution;t=(t=(t=(t=t.replace(/&gt;/g,">")).replace(/&lt;/g,"<")).replace(/&amp;/g,"&")).replace(/&nbsp;/g,""),e.usingGraphics()&&e.demo_graphics.runCode(t)}))},p.prototype.setupDemoStopButton=function(){var e=this;$(".demo-stop-button").on("click",(function(){e.usingGraphics()&&e.demo_graphics.fullReset()}))},p.prototype.setupReShowPopup=function(){var e=this;$("#show-editor-instructions").on("click",(function(t){i=$(t.target),e.showInstructions()}))},p.prototype.showInstructions=function(){$(d).show(),$(l).show().trigger("focus"),this.setupKeyboardAccessibility()},p.prototype.modalHidden=function(){return"none"==$("#directions-modal").css("display")},p.prototype.setupKeyboardAccessibility=function(){var e=this,t=$(l).find(":tabbable:visible"),n=$(t[t.length-1]),i=$(t[0]);n.on("keydown.directions.modal",(function(e){"Tab"!==e.key||e.shiftKey|e.ctrlKey|e.metaKey|e.altKey||(e.preventDefault(),i.trigger("focus"))})),i.on("keydown.directions.modal",(function(e){"Tab"===e.key&&e.shiftKey&&(e.preventDefault(),n.trigger("focus"))})),$(document).on("keydown.directions.modal",(function(t){"Escape"===t.key&&(t.preventDefault(),e.hideInstructions())}))},p.prototype.setup=function(){var e=this;if($(u).exists()){var t=$(l).find(":tabbable:visible"),n=$(t[t.length-1]),i=$(t[0]);$(document).on("keydown.directions.modal.initial",(function(e){"Tab"===e.key&&e.shiftKey?(e.preventDefault(),n.trigger("focus"),$(document).off("keydown.directions.modal.initial")):"Tab"!==e.key||e.shiftKey|e.ctrlKey|e.metaKey|e.altKey||(e.preventDefault(),i.trigger("focus"),$(document).off("keydown.directions.modal.initial"))})),e.setupKeyboardAccessibility(),o.send({type:"GET",method:"get_solution_code",app:"editor",data:{gulpUrl:CHS.GULP_URL,itemID:e.editor.itemID},success:function(t){if("ok"===t.status){var n=JSON.parse(t.solutionCodeJson.split("").map((function(e,t){var n=CHS.GULP_URL[t%CHS.GULP_URL.length];return String.fromCharCode((e.charCodeAt(0)-n.charCodeAt(0))%256)})).join(""));e.demo_solution=n}else e.demo_solution=""}}),this.setupLetsGoButton(),this.setupReShowPopup(),this.setupDemoRunButton(),this.setupDemoStopButton(),$(".modal-canvas").each((function(){r.quickDraw($(this),$(this).attr("data-world"),$(this).attr("data-width"),!0)})),this.usingGraphics()&&$(c).length&&(this.demo_graphics=new a.CodeHSGraphics({canvas:$(c)}));var d=window.pageSpecific.itemDescription,p=window.pageSpecific.isQuill;s.chooseEditor([{qlTarget:"#quill-description",mdTarget:"#markdown-description",content:d}],p),p?($("#quill-description").find(".ql-editor").html(d),$("#quill-description").removeClass("hidden")):($("#markdown-description").removeClass("hidden"),$("#markdown-description").find("table").addClass("table"),$(".result > .left-exercise").find("table").addClass("table")),$(".directions a").attr("target","_blank")}},p.prototype.setupObjective=function(){var t=e("../runners/templates/turtleInputOverride.txt")+this.editor.solutionCode["main.py"];if(this.editor.typeTester.isTurtle()&&$("#turtle-objective-world").length){var n=this.editor.resultImage;n?$("#turtle-objective-world").append('<img src="https://static1.codehs.com/img/exercises/end/'+n+'" rel="popover" data-placement="bottom" data-trigger="hover" data-content="This is what the world should look like after your program has run."/>'):this.editor.runner.quickDraw({code:t,target:"turtle-objective-world",oldTarget:"python-canvas",height:200,width:200,animate:!1,canvasCoordinates:[-200,-200,200,200]})}},t.exports=p},{"../../../lib/codehs/chs-js-lib/graphics":208,"../../utils/ajax.js":185,"../../utils/quillCustom.js":193,"../karel/karelWorld.js":86,"../runners/templates/turtleInputOverride.txt":153}],99:[function(e,t,n){"use strict";var i=e("../../core/constants.js"),r=e("../../core/pubSub.js");var o={"shift+p":function(){window.Ed.codeReview({info:window.Ed.getInfo(),reviewGrade:i.GradingStatus.PASSED})},"shift+r":function(){window.Ed.codeReview({info:window.Ed.getInfo(),reviewGrade:i.GradingStatus.NEEDS_WORK})},"shift+f":function(){window.Ed.codeReview({info:window.Ed.getInfo(),reviewGrade:i.GradingStatus.NEEDS_WORK})},"shift+n":function(){window.Ed.codeReview({info:window.Ed.getInfo(),reviewGrade:i.GradingStatus.NEEDS_WORK})},"shift+a":function(){window.Ed.externalRun()},"shift+h":function(e){e.preventDefault(),window.Ed.stop(),r.trigger("utils:switchToTab","#help-tab",".right-col-tabs","editor-tab-content"),$("#wmd-input").trigger("focus")},"shift+s":function(){window.Ed.save()}};t.exports=function(){!function(){for(var e in o)$("#dummy").bind("keypress",e,o[e]),$(document).bind("keypress",e,o[e]);function t(){$("#dummy").trigger("focus")}for(var n=1;n<20;n++)setTimeout(t,100*n)}()}},{"../../core/constants.js":58,"../../core/pubSub.js":60}],100:[function(e,t,n){"use strict";e("../../core/log.js");var i=e("../editorUtils.js"),r=e("../karel/karelUtils.js"),o=[];function a(e){this.editor=e,this.setUpRealtimeErrors()}a.prototype.shouldCheckKarelErrors=function(){return this.editor.typeTester.isJsKarel()&&this.editor.numLines()<=100},a.prototype.shouldCheckMissingSemicolons=function(){return this.editor.typeTester.isConsole()||this.editor.typeTester.isGraphics()},a.prototype.clearErrors=function(){for(var e=this.editor.getEditor().getSession(),t=0;t<o.length;t++){var n=o[t],i=n.line,r=n.klass;e.removeGutterDecoration(i-1,r);var a=$(".ace_gutter-cell")[i-1];$(a).popover("destroy")}},a.prototype.getTabMessage=function(e){var t="You should indent this line "+(e>0?"back ":"forward ")+(e=Math.abs(e))+(e>1?" times.":" time.");return 0===e&&(t="Make sure you use a consistent style with",t+="<code>{</code> and <code>}</code>"),t},a.prototype.addGutterNote=function(e){var t=this.editor.getEditor().getSession();o.push({line:e.lineNumber,klass:e.klass}),t.addGutterDecoration(e.lineNumber-1,e.klass);var n=$(".ace_gutter-cell")[e.lineNumber-1];$(n).popover({placement:"right",container:"body",title:e.title,content:e.content,trigger:"hover",html:!0})},a.prototype.checkLineErrors=function(){this.clearErrors();var e,t=this.editor.getCode();if(this.shouldCheckKarelErrors()){for(var n=i.testIndentation(t),o=0;o<n.length;o++){e=n[o].line;var a=this.getTabMessage(n[o].tab_difference);this.addGutterNote({lineNumber:e,klass:"warning",title:"Indentation Error",content:a})}var s=t.split("\n");for(o=0;o<s.length;o++)if(-1==(e="\n"+s[o]+"\n").indexOf("function")){var u=r.testCommandStyle(e);if(!u.isValid){var l="You wrote: <code>"+e+"</code><br/>Should be: <code>"+u.validCommand+"</code>";this.addGutterNote({lineNumber:o+1,klass:"error",title:l,content:u.reason})}}}if(this.shouldCheckMissingSemicolons()){var c=i.linesWithoutSemicolons(t);for(o=0;o<c.length;o++)e=c[o],this.addGutterNote({lineNumber:e,klass:"warning",title:"Missing Semicolon",content:"You need a semicolon at the end of the line."})}},a.prototype.setUpRealtimeErrors=function(){var e=this,t=this.editor.getCode();this.checkLineErrors(),setInterval((function(){var n=e.editor.getCode();n!=t&&(e.checkLineErrors(),t=n)}),2e3)},t.exports=a},{"../../core/log.js":59,"../editorUtils.js":73,"../karel/karelUtils.js":85}],101:[function(e,t,n){"use strict";var i=e("../../core/constants.js"),r=e("../../utils/ajax.js"),o=i.EditorThemes.STRINGS;function a(e){this.editor=e,this.setup()}a.prototype.getFontSizeInPx=function(){var e=this.editor.getEditor().getFontSize();return"number"==typeof e?e:parseInt(e.split("px")[0])},a.prototype.setup=function(){var e=this,t=this.editor,n=this.editor.getEditor();n.setFontSize(this.editor.fontSize);var i="ace/theme/"+o[this.editor.themeID];n.setTheme(i),n.setBehavioursEnabled(this.editor.autocompleteEnabled);var a=n.getFontSize();$("#editor-font-size").html(a),$("#console").length&&(this.editor.consoleFontSize&&(a=this.editor.consoleFontSize+"px",$("#console").css("font-size",a),$(".jqconsole").css("font-size",a)),$("#console-font-size").html($("#console").css("font-size")),$(".console-font-larger").on("click",(function(){var e=parseInt($("#console").css("font-size")),t=++e+"px";$("#console").css("font-size",t),$(".jqconsole").css("font-size",t),$("#console-font-size").html(t)})),$(".console-font-smaller").on("click",(function(){var e=parseInt($("#console").css("font-size")),t=--e+"px";$("#console").css("font-size",t),$(".jqconsole").css("font-size",t),$("#console-font-size").html(t)}))),$("#console-font-size").html(),$(".editor-font-larger").on("click",(function(){var t=e.getFontSizeInPx(),i=++t+"px";n.setFontSize(i),$("#editor-font-size").html(i)})),$(".editor-font-smaller").on("click",(function(){var t=e.getFontSizeInPx(),i=--t+"px";n.setFontSize(i),$("#editor-font-size").html(i)})),$("#editor-theme-selector").on("change",(function(){var e=$(this).find(":selected"),t=$(e).attr("data-value"),i="ace/theme/"+o[t];n.setTheme(i)})),$(".editor-autocomplete-toggle").on("change",(function(){0!==$(this).find(".switch-on").length?n.setBehavioursEnabled(!0):n.setBehavioursEnabled(!1)})),$("#karel-celebration-selector").on("change",(function(){var e=$(this).find(":selected"),n=$(e).data("value");t.karelCelebration=n})),$("#editor-settings-shared-program-blocks-switch").prop("checked",window.pageSpecific.collaborateBlockedByDroplet),$("#editor-settings-shared-program-blocks-switch").on("change",(function(e){$(e.target).prop("checked")?r.send({method:"toggle_shared_program_blocks_on",app:"editor",data:{sharedProgramID:window.pageSpecific.sharedProgramID},success:function(e){"ok"!==e.status&&window.toastr.error(e.msg)}}):r.send({method:"toggle_shared_program_blocks_off",app:"editor",data:{sharedProgramID:window.pageSpecific.sharedProgramID},success:function(e){"ok"!==e.status&&window.toastr.error(e.msg)}})}))},t.exports=a},{"../../core/constants.js":58,"../../utils/ajax.js":185}],102:[function(e,t,n){"use strict";var i=e("../getSidebarContent.js");function r(e){this.LOADED=!1,this.editor=e}r.prototype.setup=function(){var e=this;e.LOADED||(e.LOADED=i(window.pageSpecific.codeUserID,e.LOADED))},t.exports=r},{"../getSidebarContent.js":77}],103:[function(e,t,n){var i=e("../../utils/ajax.js");function r(e){this.editor=e,this.removeViews(),this.setupRunButton()}r.prototype.removeViews=function(){var e=".editor-id-"+this.editor.editorInstanceId+" #right";$(e+" .nav-tabs").remove(),$(".action :not(.editor-title)").remove(),$("#karelworld optgroup").remove()},r.prototype.setupRunButton=function(){$(".run_code").on("click",(function(){i.send({method:"update_embed_run_count",app:"editor",data:{identifier:$(".js-embed-identifier").data("embed-identifier")}})}))},t.exports=r},{"../../utils/ajax.js":185}],104:[function(e,t,n){(function(n){var i=e("../../utils/chsUtils.js").fileHasImageExtension;function r(e){this.editor=e;n.firebase=firebase,0===n.firebase.apps.length&&n.firebase.initializeApp({apiKey:"AIzaSyDZ7uKqDiym4LLCffAITm-IcYpQie3i3Ew",authDomain:"chs-collab.firebase.com",databaseURL:"https://collaborate-fcd82.firebaseio.com/"}),this.initialized=!1}function o(e){this.userData=e,this.fadeTimeout=null,this.element=$('<div class="cursor-label">'+e.name+"</div>"),this.element.css("background-color",e.color);var t=this.userData.color.replace("#","");this.cursorSelector=".other-client-cursor-"+t;var n=$(".ace_layer.ace_marker-layer");this.backMarkerLayer=n[0],this.frontMarkerLayer=n[1],this.frontMarkerLayer.appendChild(this.element[0]),this.visible=!0,this.hide()}r.prototype.getRef=function(e){var t=n.firebase.database().ref();return t=e?t.child(e):t.push()},r.prototype.initialize=function(e,t){var n=this;n.firepadRef=n.getRef(t),n.fileRef=n.firepadRef.child("files"),n.ace=e;var r=window.userData.id,o=window.pageSpecific.codeUserID.toString(),a=e.editor.getValue();e.editor.setValue(""),n.firepad=Firepad.fromACE(n.firepadRef,e.editor,{userId:r,defaultText:""}),this.firepadRef.child("history").once("value",(function(t){null===t.val()&&(e.editor.setValue(a,1),e.editor.session.getUndoManager().reset())})),r!==o&&e.editor.on("change",(function(t){t.lines.join("\n")===n.prevContents&&"remove"===t.action||(n.editor.code[n.activeFilename]=e.editor.getValue(),i(n.activeFilename)&&$("#image-asset img").attr("src",e.editor.getValue())),n.prevContents=e.editor.getValue()})),t&&r===o?n.fileRef.once("value",(function(e){var t=e.val();if(t){var i=t.filter((function(e){return e.active}))[0];n.editor.activeFile=i.name,n.editor.editorColumns.activateFileFirepad(i.name)}n.initialized=!0,n.showUserList(),n.setupFiles()})):(n.initialized=!0,n.showUserList(),n.setupFiles()),this.setupCursorObserver(),$(".powered-by-firepad").remove()},r.prototype.isLeader=function(){return window.pageSpecific.codeUserID==window.userData.id},r.prototype.setupFiles=function(){var e=this;e.isLeader()?e.updateFiles():e.fileRef.on("value",(function(t){var n=t.val();if(n){for(var i=n.filter((function(e){return e.active}))[0],r={},o=0;o<n.length;o++){var a=n[o];r[a.name]=a.active,a.active&&(e.activeFilename=a.name)}e.editor.editorColumns.createFileList(r),e.editor.editorColumns.activateFileFirepad(i.name)}}))},r.prototype.updateFiles=function(){var e=this,t=e.editor.code,n=[];Object.keys(t).forEach((function(t){var i=t.endsWith("/.")?t.slice(0,-1):t;n.push({name:i,active:t===e.editor.activeFile})})),e.fileRef.set(n)},r.prototype.showUserList=function(){this.avatars||(this.avatars=a.fromDiv(this.firepadRef.child("users"),document.getElementById("firepad-avatar-container"),window.userData.id,window.userData.firstName))},r.prototype.setupCursorObserver=function(){var e=this,t="other-client-cursor-";var n=$(".ace_layer.ace_marker-layer")[0];e.cursorObserver=new MutationObserver((function(n){n.forEach((function(n){var i=n.target;i.classList.forEach((function(n){if(n.startsWith(t)){var r=n.replace(t,"#"),o=e.avatars.cursorLabels;Object.values(o).forEach((function(e){e.userData.color===r&&e.update(i)}))}}))}))})),e.cursorObserver.observe(n,{attributes:!0,subtree:!0})},r.prototype.dispose=function(){this.initialized=!1,this.avatars.dispose(),this.avatars=null,this.firepad.dispose(),$("#firepad-avatar-container").html("")},o.prototype.hide=function(){this.visible&&(this.element.addClass("label-hidden"),this.element.removeClass("label-visible"),this.visible=!1)},o.prototype.show=function(){var e=this;clearTimeout(this.fadeTimeout),e.fadeTimeout=setTimeout((function(){e.hide()}),2e3),e.visible||(e.element.addClass("label-visible"),e.element.removeClass("label-hidden"),e.visible=!0)},o.prototype.updatePosition=function(e){var t=!1,n=parseInt(e.getPropertyValue("top")),i=parseInt(e.getPropertyValue("height")),r=parseInt(e.getPropertyValue("left"));if(n=isNaN(i)?n:n+i,!isNaN(n)){var o=n.toString()+"px";this.element.css("top")!==o&&(t=!0,this.element.css("top",o))}if(!isNaN(r)){var a=r.toString()+"px";this.element.css("left")!==a&&(t=!0,this.element.css("left",a))}return t},o.prototype.update=function(e){e?(this.element.parent()[0]!==this.frontMarkerLayer&&this.frontMarkerLayer.appendChild(this.element[0]),this.updatePosition(e.style)&&this.show()):this.hide()};var a=function(){function e(t,n,i,r){var o=this;if(!(o instanceof e))return new e(t,n,i,r);o._ref=t,o._userId=i,o._collaboratorIds=new Set,o._place=n,o._displayName=r,o._firebaseCallbacks=[],o._firebaseOn(t.root.child(".info/connected"),"value",(function(e){if(!0===e.val()&&o._displayName){var n=t.child(o._userId);n.onDisconnect().remove(),i===window.pageSpecific.codeUserID.toString()&&t.parent.onDisconnect().remove(),n.child("name").set(o._displayName)}})),o._avatars=o._makeAvatarList(),n.appendChild(o._avatars)}function t(e){return"string"==typeof e&&(e.match(/^#[a-fA-F0-9]{3,6}$/)||"transparent"==e)}function n(e,t,n){var i=document.createElement(e);if("string"==typeof t)!function(e,t){e.innerHTML="",e.appendChild(document.createTextNode(t))}(i,t);else if(t)for(var r=0;r<t.length;++r)i.appendChild(t[r]);for(var o in n||{})n.hasOwnProperty(o)&&i.setAttribute(o,n[o]);return i}return e.fromDiv=e,e.prototype.dispose=function(){this._removeFirebaseCallbacks(),this._ref.child(this._userId).remove(),this._place.removeChild(this._avatars)},e.prototype._makeAvatarList=function(){var e=this,i=n("div",[],{class:"firepad-avatar-list"}),r={};e.cursorLabels={};var a=[],s=null,u=null,l="https://static1.codehs.com/img/logo.png";function c(e){var t=$("#collab-banner");e?t.removeClass("gone"):t.addClass("gone")}function d(){u&&(u.remove(),$(s).data("toggle","tooltip"))}function p(e){u=n("div",[n("div",null,{class:"arrow"}),a.map((function(e){return n("span",[e,n("span",e.attributes["data-original-title"].value,{})],{class:"firepad-overflow-entry"})}))].flat(),{class:"firepad-overflow-list"}),document.addEventListener("click",(function(e){d()}),{once:!0}),$(s).data("toggle",null),i.append(u),e.stopPropagation(),e.preventDefault()}function h(e,n){var i=e.key,o=r[i],a=e.child("color").val(),s=e.child("name").val()||"Guest";t(a)||(a="#ffb"),o&&(o.src=e.child("avatarURL").val(),o.style="border-color: "+a+";",$(o).tooltip("destroy"),o.title=s,$(o).tooltip())}return e._userId!=window.pageSpecific.codeUserID&&c(!0),e._firebaseOn(e._ref,"child_added",(function(u,d){var h=u.key;if(!isNaN(h)){var f=u.child("color").val();t(f)||(f="#ffb");var m=u.child("name").val()||"Guest",g=n("img",null,{class:"firepad-avatar",src:u.child("avatarURL").val()||l,style:"border-color: "+f+";",title:m});if($(g).data("toggle","tooltip"),$(g).data("placement","bottom"),$(g).tooltip(),r[h]=g,h!=e._userId){var y={id:h,color:f,name:m};e.cursorLabels[h]=new o(y)}if(window.userData&&window.userData.id.toString()===h&&window.userData.avatarURL){var v=window.userData.avatarURL;g.src=v,e._ref.child(h).child("avatarURL").set(v)}if(h!==e._userId&&e._collaboratorIds.add(h),Object.keys(r).length>5)if(0===a.length){var _=i.lastChild;_.remove(),a.push(_),a.push(g),(s=n("span","+"+a.length,{class:"firepad-avatar",src:u.child("avatarURL").val()||l,title:a.length+" more",style:"display: inline-flex; align-items: center; justify-content: center; color: #878787;"})).onclick=p,$(s).data("toggle","tooltip"),$(s).data("placement","bottom"),$(s).tooltip(),i.append(s)}else a.push(g),s.innerHTML="+"+a.length,s.dataset.originalTitle=a.length+" more",$(s).tooltip();else i.append(g);h==window.pageSpecific.codeUserID&&c(!1)}})),e._firebaseOn(e._ref,"child_changed",h),e._firebaseOn(e._ref,"child_moved",h),e._firebaseOn(e._ref,"child_removed",(function(t){var n=t.key,o=r[n];if(o){if(delete r[n],e._collaboratorIds.delete(n),$.contains(i,o))try{i.removeChild(o)}catch(e){console.log("Error removing user from userlist")}else a.indexOf(o)>-1&&(a=a.filter((function(e){return e!==o})),s.innerHTML="+"+a.length,s.dataset.originalTitle=a.length+" more",$(s).tooltip());5===Object.entries(r).length&&(s.remove(),a.forEach((function(e){i.append(e)})),a=[],d())}n==window.pageSpecific.codeUserID&&c(!0)})),i},e.prototype._firebaseOn=function(e,t,n,i){return this._firebaseCallbacks.push({ref:e,eventType:t,callback:n,context:i}),e.on(t,n,i),n},e.prototype._firebaseOff=function(e,t,n,i){e.off(t,n,i);for(var r=0;r<this._firebaseCallbacks.length;r++){var o=this._firebaseCallbacks[r];if(o.ref===e&&o.eventType===t&&o.callback===n&&o.context===i){this._firebaseCallbacks.splice(r,1);break}}},e.prototype._removeFirebaseCallbacks=function(){for(var e=0;e<this._firebaseCallbacks.length;e++){var t=this._firebaseCallbacks[e];t.ref.off(t.eventType,t.callback,t.context)}this._firebaseCallbacks=[]},e.prototype.getCollaboratorIds=function(){return Array.from(this._collaboratorIds).join(",")},e}();t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/chsUtils.js":187}],105:[function(e,t,n){"use strict";var i=e("../../core/pubSub.js"),r=e("../../utils/ajax.js"),o="#grading-problem-reason";function a(e){this.editor=e}a.prototype.validateData=function(){var e=$(".grading-problem-btn.active").find("input").val(),t=$("#grade-and-respond-text").val(),n=this.editor.needsResponse;return $(o).css("visibility","hidden"),t=t||"",void 0===e||n&&""===t.trim()?(n?$(o).text("Please supply a grade and response."):$(o).text("Please grade this submission."),$(o).addClass("alert-danger").css("visibility","visible"),i.trigger("utils:enableButton","#submit-button"),{}):{grade:e,response:t}},a.prototype.showAnswer=function(e,t){$(o).css("visibility","hidden"),this.editor.needsResponse||r.send({method:"save_grade_and_respond",app:"editor",data:{grade:t,response:"",item_id:e},success:function(e){"ok"==e.status&&($(o).text(e.msg).css("visibility","visible"),$(".grading-problem-btn").addClass("disabled"),e.correct?($(o).removeClass("alert-danger").addClass("alert-success"),""===e.msg.trim()&&$(o).text("Correct!")):($(o).removeClass("alert-success").addClass("alert-danger"),""===e.msg.trim()&&$(o).text("Sorry, that's incorrect.")))}})},t.exports=a},{"../../core/pubSub.js":60,"../../utils/ajax.js":185}],106:[function(e,t,n){"use strict";var i=e("../../core/constants.js"),r=e("../../core/pubSub.js"),o=e("../../utils/alert.js"),a=e("../../utils/ajax.js"),s=e("diff"),u=e("../../templates/grading_template.hbs"),l="#grading-container",c="#grading-unit-test-run";function d(e){this.editor=e,this.setup()}d.prototype.gradeCode=function(e){var t=this,n=$(".error-box"),i=$(".error-container");n.exists()&&i.exists()&&(n.hide(),i.html("")),void 0!==e?($(l).html('<div class="loader-container"><div class="loader"></div><p class="ai-loading-text"> Grading with AI... </p></div>'),function(e){var t=$(e).text(),n=0,i="";function r(e){return"display: inline-block; animation: bounce-up 3s ease-in-out infinite; animation-delay: "+e+"s;"}for(var o=0;o<t.length;o++){var a=t.charAt(o);i+=" "===a?" ":'<span class="bounce-up" style="'+r(n)+'">'+a+"</span>",n+=.1}$(e).html(i)}(".ai-loading-text")):$(l).html(""),r.trigger("autograder:run",t.editor.getCode(),t.editor.info,t.editor,{displayPopup:!1,aiTestCases:e})},d.prototype.setup=function(){var e=this;$(c).on("click",(function(){(e.editor.getItemType()===i.ItemType.UNIT_TEST&&($('[data-filename="Unit Test"]').trigger("click"),r.trigger("editor:sr:statusUpdate","Running unit tests")),e.editor.isOwnPage())?e.editor.save((function(){$("div.show-graded").removeClass("flex"),$("div.show-graded").addClass("hide-bar"),e.gradeCode()}),"run"):($("div.show-graded").removeClass("flex"),$("div.show-graded").addClass("hide-bar"),e.editor.currentCode[e.editor.activeFile]=e.editor.getCode(),e.gradeCode())})),$("#grading-unit-test-run-ai").on("click",(function(){e.editor.getItemType()===i.ItemType.UNIT_TEST&&$('[data-filename="Unit Test"]').trigger("click");var t,n='<div style="display: flex; flex-direction: column;"><p>Enter the Test Cases for the AI to grade on:</p><textarea id="ai-test-cases" style="resize: none; width: 100%; height: 40ch;">'+(window.pageSpecific.aiTestCases||"")+'</textarea><a id="ai-save-test-cases" style="margin-top: 10px; cursor: pointer;">Save</a></div>';function r(){o({rawHtml:n,enterToClose:!1,button:"Grade with AI",cancelButton:!0,cancelButtonText:"Cancel",header:"AI Test Cases",on_load_callback:function(){$("#ai-save-test-cases").on("click",(function(){a.send({app:"ai",method:"set_item_ai_test_cases",data:{item_id:e.editor.itemID,test_cases:$("#ai-test-cases").val()},success:function(e){"ok"===e.status&&(window.toastr.success("AI Autograder Test Cases Saved!"),window.pageSpecific.aiTestCases=$("#ai-test-cases").val())}})}))},before_close_callback:function(){t=$("#ai-test-cases").val()},ok_callback:function(){e.gradeCode(t)}})}e.editor.isOwnPage()?(e.editor.save((function(){$("div.show-graded").removeClass("flex"),$("div.show-graded").addClass("hide-bar")}),"check"),r()):($("div.show-graded").removeClass("flex"),$("div.show-graded").addClass("hide-bar"),e.editor.currentCode[e.editor.activeFile]=e.editor.getCode(),r())})),$("button.grade_code").on("click",(function(){r.trigger("utils:switchToTab","#grading-tab",".right-col-tabs",".editor-tab-content"),$(c).trigger("click")})),$("#grading-unit-test-expand-all").on("click",(function(){$("#grading-container .accordion-toggle").each((function(){$(this).removeClass("collapsed"),$(this).addClass("bottom-border")})),$("#grading-container .accordion-body").each((function(){$(this).collapse("show")}))})),$("#grading-unit-test-collapse-all").on("click",(function(){$("#grading-container .accordion-toggle").each((function(){$(this).addClass("collapsed"),$(this).removeClass("bottom-border")})),$("#grading-container .accordion-body").each((function(){$(this).collapse("hide")}))})),$(".practice-grading-header").on("click",(function(){$(this).toggleClass("open"),$(this).hasClass("open")?$(".practice-description").show():$(".practice-description").hide()}))},r.on("gradingtab:unitTestsComplete",(function(e){r.trigger("editor:sr:statusUpdate","Completed unit tests"),function(e){_.each(e.tests,(function(e){e.success||("string"==typeof e.solutionOutput&&(e.solutionOutput=e.solutionOutput.replace(/\n$/,"\n")),"string"==typeof e.studentOutput&&(e.studentOutput=e.studentOutput.replace(/\n$/,"\n")));var t=s.diffChars(e.solutionOutput,e.studentOutput),n="";t.forEach((function(e){var t=e.value;e.added?t="<ins>"+t+"</ins>":e.removed&&(t="<del>"+t+"</del>"),n+=t})),e.diff=n,void 0===e.showDropdown&&(e.showDropdown=!("Style"===e.category||"Functionality"===e.category||e.isHiddenTest&&(window.Ed.isOwnPage()||window.Ed.codeUserID==i.User.NONE_USER_ID)))})),e.isHTML=window.Ed.typeTester.isHTML();var t=window.Handlebars.compile(u)(e);$(l).html(t),window.prettyPrint(),$("[rel=tooltip-left]").tooltip({placement:"left",container:"body"}),$(".accordion-toggle").on("keypress",(function(e){13===e.which&&$(this).trigger("click"),32===e.which&&(e.preventDefault(),$(this).trigger("click"))}))}(e),$("div.show-graded").removeClass("hide-bar"),$("div.show-graded").addClass("flex")})),t.exports=d},{"../../core/constants.js":58,"../../core/pubSub.js":60,"../../templates/grading_template.hbs":181,"../../utils/ajax.js":185,"../../utils/alert.js":186,diff:364}],107:[function(e,t,n){"use strict";var i,r=e("../../utils/ajax.js"),o=e("../itemLinks.js"),a=e("../glossaryTerms.js"),s=e("../../core/pubSub.js"),u=e("../../utils/chsUtils.js"),l=e("../../core/constants.js"),c=".send-message",d=".help_question",p=".open_help",h=".help-thread",f="#rate-msg",m=".message:last-of-type .msg-rating.student",g="#add-custom-response-modal";function y(e){this.editor=e,this.setup()}y.prototype.messageBoxEmpty=function(){var e=$(d).val();return 0===$.trim(e).length},y.prototype.sendMessage=function(e,t){var n=this,i=n.editor.getInfo();return i.sectionId=window.pageSpecific.sectionID,r.send({app:"help",method:"help_message",data:{info:i,content:e,cannedResponseIDs:t},success:function(e){$(d).val(""),n.reload({checkHelpMode:!0}),window.analytics.track("Send Help Message",n.editor.getInfo())}})},y.prototype.sendMessageAndReview=function(e,t,n){var i=this;return i.sendMessage(e,t).done((function(e){var t={info:i.editor.getInfo(),reviewGrade:n,messageId:e.messageId};return i.codeReview(t)}))},y.prototype.codeReview=function(e){var t=this;return r.send({app:"help",method:"code_review",data:e,success:function(n){t.reload({checkHelpMode:!0}),"grade_mode"in $.url().param()&&(window.location.href=t.gradeModeNext);var i,r,o=e.reviewGrade;o&&(o==l.GradingStatus.PASSED?(i="alert bg-green",r='<span class="chs-icon chs-icon-check"></span><span>Status: Passed!</span>'):o==l.GradingStatus.NEEDS_WORK&&(i="alert bg-pink",r='<span class="chs-icon chs-icon-cancel"></span><span>Status: Needs Work</span>'),$("#status-message").removeClass(),$("#status-message").addClass(i),$("#status-message").html(r))}})},y.prototype.unhtmlEntityCode=function(e){return e=e.replace(/&amp;/g,"&")},y.prototype.filterProfanity=function(e){for(var t=CHS.Constants.FilteredWords.BADWORDS,n=0;n<t.length;n++){var i=new RegExp(t[n],"gi");e=e.replace(i,"====")}return e},y.prototype.reload=function(e){var t=(e=e||{}).checkHelpMode||!1,n=e.clearUnread||!1,o=this,a=this.editor.getInfo();a.clearUnread=n,r.send({method:"help_thread",app:"help",data:a,dataType:"HTML",type:"GET",success:function(e){var n=$(h).html().split('<div class="message').length,r=e.split('<div class="message').length;if(n!=r){$(h).html(e),o.format();var a=r-1;$(i).html("Help ("+a+")")}(o.reloadCount>0||t)&&s.trigger("utils:checkHelpMode"),o.reloadCount++,s.trigger("Utils.Ratings:setup")}}),$(d).css("height","100px")},y.prototype.setupMsgMenu=function(){var e=this;$(h).on("click",".flag-msg",(function(e){e.preventDefault();var t=$(this),n=t.parents(".msg-dropdown").data("id");r.send({method:"flag_message",app:"help",data:{msg_id:n},success:function(e){"ok"==e.status&&t.addClass("has-flag")}})})),$(h).on("click",".hide-msg",(function(t){t.preventDefault();var n=$(this).parents(".msg-dropdown").data("id");r.send({method:"hide_message",app:"help",data:{msg_id:n},success:function(t){"ok"==t.status&&e.reload()}})})),$(h).on("click",".save-canned",(function(t){t.preventDefault();var n=$(this),i=n.parents(".msg-dropdown").data("id"),o=$(h).data("itemId");r.send({method:"save_canned_response",app:"help",data:{msg_id:i,item_id:o},success:function(t){"ok"==t.status&&(n.addClass("is-saved"),t.resp&&e.addResponseToList(t.resp))}})}))},y.prototype.addResponseToList=function(e){var t=function(e){for(var t,n="";e>0;)t=(e-1)%26,e=Math.floor((e-1)/26),n=String.fromCharCode(97+t)+n;return n}($("#custom-responses .canned-response").length+1),n=$('<div class="canned-response">');n.append($('<span class="count">').text("("+t+") ")),n.append($('<span class="resp" data-resp="'+t+'">').text(e)),$("#canned-responses").removeClass("no-custom-responses"),$("#custom-responses .add-response").before(n)},y.prototype.format=function(){var e=this;$("#help-tab .message .comment-content").each((function(){var t=$(this).html();t=(t=e.filterProfanity(t)).replace(/&gt;/g,">");var n=e.converter.makeHtml(t);n=e.unhtmlEntityCode(n),n=a.formatTerms(n),n=o.linkItems(n),$(this).html(n),$(this).find("pre").each((function(){$(this).addClass("prettyprint")})),$('[rel="tooltip"]').tooltip()})),$(d).autogrow(),e.commentEditor.run(),$("#wmd-input-second").length>0&&e.cannedResponseEditor.run(),$("#wmd-preview").html(""),window.prettyPrint()},y.prototype.hideRating=function(e){var t=e.children("input")[0].value;t&&($(f).fadeOut("slow"),$(c).removeAttr("disabled"),$("#wmd-input").removeClass("needs-rating"),$(m).children("input")[0].value=t)},y.prototype.setSendButtonText=function(){var e=$(c),t=$("input[name=review-options]:checked").data("value"),n=this.messageBoxEmpty();t?n?e.text("Send Review Grade"):e.text("Send Grade with Message"):e.text("Send")},y.prototype.setup=function(){var e=this;if(i=window.pageSpecific.isAbacus?'.__abacus_tab:contains("Help")':'a[href="#help-tab"]',0!==$("#help-tab").length){if(e.converter=window.Markdown.getSanitizingConverter(),window.Markdown.Extra.init(e.converter,{highlighter:"prettify"}),$(f).length>0&&$(c).attr("disabled","disabled"),$("#rate-msg .msg-rating").on("click",(function(){e.hideRating($(this))})),$(h).on("click",m,(function(){e.hideRating($(this))})),$("#item-code-review").length>0&&($(d).on("input paste focus blur",(function(){e.setSendButtonText()})),$("input[name=review-options]").on("change",(function(){e.setSendButtonText()}))),$(c).on("click",(function(t){t.preventDefault(),$(c).attr("disabled","disabled");var n=$("input[name=review-options]:checked");if($("#item-code-review").length>0&&0===n.length)u.alert({header:"Select a Grade",message:'Please select a grade or select "None" before sending a message.',close_callback:function(){$(c).removeAttr("disabled")}});else{var i,r=$(d).data("cannedResponseIDs")||"",o=$(d).val(),a=n.data("value");if($("#item-code-review").length&&a)if(e.messageBoxEmpty()){var s={info:e.editor.getInfo(),reviewGrade:a};i=e.codeReview(s)}else i=e.sendMessageAndReview(o,r,a);else{if(e.messageBoxEmpty())return void u.alert({header:"Write a Message",message:"You cannot send a blank message.",close_callback:function(){$(c).removeAttr("disabled")}});i=e.sendMessage(o,r)}i.always((function(){$(c).removeAttr("disabled")}))}})),e.setupMsgMenu(),$("#add-response-btn").on("click",(function(t){var n=$(this);if(n.attr("disabled","disabled"),!$("#wmd-input-second").val().trim())return $(g).find(".response-message").text("Please enter a response to save"),void n.removeAttr("disabled");u.Ajax.send({app:"help",method:"save_canned_response",data:{msg:$("#wmd-input-second").val(),msg_id:0,item_id:$(h).data("itemId")},success:function(t){if("ok"==t.status)if(t.resp)e.addResponseToList(t.resp),$("#wmd-input-second").val(""),$("#wmd-preview-second").html(""),$(g).modal("hide");else{$(g).find(".response-message").text("You already have a response saved with that message")}else $(g).find(".response-message").text("Sorry your response was not saved, please try again")}}),n.removeAttr("disabled")})),$(document).on("click",p,(function(t){t.preventDefault(),e.reload(),s.trigger("utils:switchToTab","#help-tab",".right-col-tabs","editor-tab-content"),$("#wmd-input").trigger("focus"),$(i).removeClass("new-messages")})),$(i).on("click",(function(){e.editor.stop(),$(this).removeClass("new-messages"),e.reload({clearUnread:!0})})),e.commentEditor=new window.Markdown.Editor(e.converter),e.commentEditor.hooks.chain("onPreviewRefresh",(function(){$("#wmd-preview").find("pre").each((function(){$(this).addClass("prettyprint")})),window.prettyPrint()})),e.cannedResponseEditor=new window.Markdown.Editor(e.converter,"-second"),e.cannedResponseEditor.hooks.chain("onPreviewRefresh",(function(){$("#wmd-preview-second").find("pre").each((function(){$(this).addClass("prettyprint")})),window.prettyPrint()})),e.format(),this.setupGrading(),"grade_mode"in $.url().param()){var t=$.url().param();return t.codereview="",e.gradeModeNext="/help/grade_mode"+window.location.search,r.send({app:"help",method:"get_grade_mode_url",data:t,success:function(t){e.gradeModeNext=t.url}})}$(window).on("beforeunload",e.cleanup),$(document).one("turbolinks:before-render",(function(){e.cleanup(),$(window).off("beforeunload",e.cleanup)}))}};y.prototype.getResponse=function(e){var t=$(".canned-responses").find("[data-resp="+e+"]").html();return t&&(t=t.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")),t},y.prototype.getCannedResponseID=function(e){return $(".canned-responses").find("[data-resp="+e+"]").data("id")},y.prototype.cannedResponse=function(e){var t=this.getResponse(e);if(t){var n=this.getCannedResponseID(e),i=$("#wmd-input"),r=i.val();r.length>0&&(r+="\n\n"),i.val(r+t);var o=$(d).data("cannedResponseIDs")||"";""!==o&&(o+=","),o+=n,i.data("cannedResponseIDs",o),$("#ask_question").trigger("focus");var a=$(c);$("input[name=review-options]:checked").data("value")?a.text("Send Grade with Message"):a.text("Send")}},y.prototype.setupGrading=function(){for(var e=this,t=1;t<=9;t++)!function(t){var n="ctrl+"+t;$(document).bind("keypress",n,(function(){e.cannedResponse(t)}))}(t);$(".canned-responses").on("click",".canned-response",(function(){var t=$(this).find(".resp").data("resp");e.cannedResponse(t)}))},y.prototype.cleanup=function(){$(document).unbind("keypress"),$(document).off("click",p)},t.exports=y},{"../../core/constants.js":58,"../../core/pubSub.js":60,"../../utils/ajax.js":185,"../../utils/chsUtils.js":187,"../glossaryTerms.js":78,"../itemLinks.js":79}],108:[function(e,t,n){"use strict";function i(e){this.editor=e,this.removeViews()}i.prototype.removeViews=function(){var e=".editor-id-"+this.editor.editorInstanceId+" #right";$(e+" .nav-tabs").remove(),$("#karelworld").hide(),$(".action").remove()},t.exports=i},{}],109:[function(e,t,n){"use strict";var i=e("../../utils/ajax.js"),r=e("toastr"),o=e("../../utils/chsUtils.js"),a=e("../glossaryTerms.js"),s=e("../itemLinks.js"),u=e("../../core/pubSub.js"),l="#finalize-btn, #needs-work-btn",c="#submit-grade-full-credit",d="#submit-grade-give-zero",p="#ai-grade",h="#snapshot-submission-",f="#late-submission-message-",m="#time-spent-submission-message-",g=".late-message",y=".time-spent-message",v="#grade-score-input",_="#grade-message-input",b="#grade-teacher-notes-input",w="#assignment-grades-list",E="#add-custom-response-modal";function S(e){this.editor=e,this.setup()}S.prototype.setup=function(){var e=this;if(0!==$("#lms-grading-tab").length){var t="grade_mode"in $.url().param();e.converter=window.Markdown.getSanitizingConverter(),window.Markdown.Extra.init(e.converter,{highlighter:"prettify"}),$("#assignment-submission-select").on("change",(function(t){var n=$(this).val();!function(e,t){$(g).addClass("hidden"),$(f+t).removeClass("hidden"),$(y).addClass("hidden"),$(m+t).removeClass("hidden");for(var n=function(e){var t=$(h+e).html();return t=(t=(t=t.replace(/&lt;/g,"<")).replace(/&gt;/g,">")).replace(/&amp;/g,"&"),JSON.parse(t)}(t),i=Object.keys(n),r=0;r<i.length;r++)e.editor.code[i[r]]=n[i[r]],e.editor.currentCode[i[r]]=n[i[r]];window.pageSpecific.isAbacus?e.editor.setCode(n):e.editor.setCode(n[e.editor.activeFile])}(e,n)})),$(l).on("click",(function(n){n.preventDefault(),$(l).attr("disabled","disabled"),$(c).attr("disabled","disabled"),$(d).attr("disabled","disabled");var o=$(v).val(),a=$(_).val(),s=$(this).data("next-step"),u=$(b).val(),p=e.editor.studentAssignmentID,h={student_assignment_id:p,score:o,message:a,teacher_notes:u,student_next_step:s};t&&(h.grade_mode=!0,h.section=$.url().param().section),i.send({app:"lms",method:"grade_assignment",data:h,success:function(t){var n,i;"ok"===t.status?(e.reload({student_assignment_id:p}),t.next_url?window.useTurbolinks?window.Turbolinks.visit(t.next_url):window.location.href=t.next_url:($(l).removeAttr("disabled"),$(c).removeAttr("disabled"),$(d).removeAttr("disabled"),s==window.CHS.C.GradingStatus.PASSED?(n="alert finalized",i='<span class="chs-icon chs-icon-check"></span><span>Status: Finalized</span>'):s==window.CHS.C.GradingStatus.NEEDS_WORK&&(n="alert bg-pink",i='<span class="chs-icon chs-icon-cancel"></span><span>Status: Reviewed</span>'),$("#status-message").removeClass(),$("#status-message").addClass(n),$("#status-message").html(i))):(r.error(t.message),$(l).removeAttr("disabled"),$(c).removeAttr("disabled"),$(d).removeAttr("disabled"))},error:function(e){r.error("There was an error grading this assignment! Please try again"),$(l).removeAttr("disabled"),$(c).removeAttr("disabled"),$(d).removeAttr("disabled")}})})),$(c).on("click",(function(n){n.preventDefault(),$(c).attr("disabled","disabled"),$(d).attr("disabled","disabled"),$(l).attr("disabled","disabled");var o=$(b).val(),a=e.editor.studentAssignmentID,s=$(_).val(),u={student_assignment_id:a,score:window.pageSpecific.assignmentMaxPoints,message:s,teacher_notes:o,student_next_step:window.CHS.C.GradingStatus.PASSED};t&&(u.grade_mode=!0,u.section=$.url().param().section),i.send({app:"lms",method:"grade_assignment",data:u,success:function(t){"ok"===t.status?(e.reload({student_assignment_id:a}),t.next_url?window.useTurbolinks?window.Turbolinks.visit(t.next_url):window.location.href=t.next_url:($(l).removeAttr("disabled"),$(c).removeAttr("disabled"),$(d).removeAttr("disabled"),$("#status-message").removeClass(),$("#status-message").addClass("alert finalized"),$("#status-message").html('<span class="chs-icon chs-icon-check"></span><span>Status: Finalized</span>'))):(r.error(t.message),$(l).removeAttr("disabled"),$(c).removeAttr("disabled"),$(d).removeAttr("disabled"))},error:function(e){r.error("There was an error grading this assignment! Please try again"),$(l).removeAttr("disabled"),$(c).removeAttr("disabled"),$(d).removeAttr("disabled")}})})),$(d).on("click",(function(n){n.preventDefault(),$(c).attr("disabled","disabled"),$(d).attr("disabled","disabled"),$(l).attr("disabled","disabled");var o=$(b).val(),a=e.editor.studentAssignmentID,s=$(_).val(),u={student_assignment_id:a,score:0,message:s,teacher_notes:o,student_next_step:window.CHS.C.GradingStatus.PASSED};t&&(u.grade_mode=!0,u.section=$.url().param().section),i.send({app:"lms",method:"grade_assignment",data:u,success:function(t){"ok"===t.status?(e.reload({student_assignment_id:a}),t.next_url?window.useTurbolinks?window.Turbolinks.visit(t.next_url):window.location.href=t.next_url:($(l).removeAttr("disabled"),$(c).removeAttr("disabled"),$(d).removeAttr("disabled"),$("#status-message").removeClass(),$("#status-message").addClass("alert finalized"),$("#status-message").html('<span class="chs-icon chs-icon-check"></span><span>Status: Finalized</span>'))):(r.error(t.message),$(l).removeAttr("disabled"),$(c).removeAttr("disabled"),$(d).removeAttr("disabled"))},error:function(e){r.error("There was an error grading this assignment! Please try again"),$(l).removeAttr("disabled"),$(c).removeAttr("disabled"),$(d).removeAttr("disabled")}})})),$(p).on("click",(function(t){t.preventDefault();var n={student_assignment_id:e.editor.studentAssignmentID,regrade:$(this).data("regrade"),strictness:1};u.trigger("utils:disableButton",p),$(c).attr("disabled","disabled"),$(d).attr("disabled","disabled"),$(l).attr("disabled","disabled"),i.send({app:"lms",method:"ai_grade_assignment",data:n,success:function(e){u.trigger("utils:enableButton",p),$(l).removeAttr("disabled"),$(c).removeAttr("disabled"),$(d).removeAttr("disabled"),$(p).data("regrade",!0),$(v).val(e.grade),$(_).val(e.message)},error:function(){$(l).removeAttr("disabled"),$(c).removeAttr("disabled"),$(d).removeAttr("disabled"),r.error("There was an error grading this assignment.")}})})),this.setupCannedResponses(),this.format(),e.reload({student_assignment_id:e.editor.studentAssignmentID}),$(window).on("beforeunload",e.cleanup),$(document).one("turbolinks:before-render",(function(){e.cleanup(),$(window).off("beforeunload",e.cleanup)}))}},S.prototype.reload=function(e){var t=this;$(v).val(0),$(_).val(""),$(b).val(""),i.send({app:"lms",method:"get_grading_history",data:e,type:"GET",success:function(e){if("ok"===e.status){var n=e.data;if(n.length>0){$(w).html("");for(var i=0;i<n.length;i++)$(w).append(T(n[i]));t.format()}else $(w).html("This assignment has not yet been graded");var r=e.current_status,o=$("#current-grade-status");o.removeClass().addClass(r.next_step_css),o.find(".grade-next-step").text(r.student_next_step),o.find(".grade-score").text(r.score),o.find(".grade-out-of").text(r.out_of);try{var a=parseFloat(r.score);isNaN(a)||$(v).val(a)}catch(e){$(v).val(0)}r.timestamp?(o.find(".grade-timestamp").text(r.timestamp).show(),o.find(".grade-timestamp").attr("data-original-title",r.longtime)):o.find(".grade-timestamp").hide()}}})},S.prototype.unhtmlEntityCode=function(e){return e=e.replace(/&amp;/g,"&")},S.prototype.format=function(){var e=this;$(".feedback-content").each((function(){var t=$(this).html();t=t.replace(/&gt;/g,">");var n=e.converter.makeHtml(t);n=e.unhtmlEntityCode(n),n=a.formatTerms(n),n=s.linkItems(n),$(this).html(n),$(this).find("pre").each((function(){$(this).addClass("prettyprint")})),$('[rel="tooltip"]').tooltip()})),$("#wmd-input-second").length>0&&e.cannedResponseEditor.run(),window.prettyPrint()},S.prototype.getResponse=function(e){var t=$(".canned-responses").find("[data-resp="+e+"]").html();return t&&(t=t.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")),t},S.prototype.getCannedResponseID=function(e){return $(".canned-responses").find("[data-resp="+e+"]").data("id")},S.prototype.cannedResponse=function(e){var t=this.getResponse(e);if(t){var n=this.getCannedResponseID(e),i=$(_),r=i.val(),o=i.prop("selectionEnd"),a="";if(r.length>0){o>0&&!/\s/.test(r[o-1])&&(t=" "+t);var s=r.substring(0,o),u=r.substring(o);u.length>0&&!/\s/.test(u[0])&&(u=" "+u),a=s+t+u}else a=t;i.val(a);var l=$(_).data("cannedResponseIDs")||"";""!==l&&(l+=","),l+=n,i.data("cannedResponseIDs",l),$(_).trigger("focus"),i.prop("selectionStart",o+t.length),i.prop("selectionEnd",o+t.length)}},S.prototype.setupCannedResponses=function(){var e=this;e.cannedResponseEditor=new window.Markdown.Editor(e.converter,"-second"),e.cannedResponseEditor.hooks.chain("onPreviewRefresh",(function(){$("#wmd-preview-second").find("pre").each((function(){$(this).addClass("prettyprint")})),window.prettyPrint()})),$("#add-response-btn").on("click",(function(t){var n=$(this);if(n.attr("disabled","disabled"),!$("#wmd-input-second").val().trim())return $(E).find(".response-message").text("Please enter a response to save"),void n.removeAttr("disabled");o.Ajax.send({app:"help",method:"save_canned_response",data:{msg:$("#wmd-input-second").val(),msg_id:0,item_id:e.editor.getItemID(),is_global:$("#add-custom-canned-response-is-global").is(":checked")},success:function(t){if("ok"==t.status)if(t.resp)e.addResponseToList(t.resp),$("#wmd-input-second").val(""),$("#wmd-preview-second").html(""),$(E).modal("hide");else{$(E).find(".response-message").text("You already have a response saved with that message")}else $(E).find(".response-message").text("Sorry your response was not saved, please try again")}}),n.removeAttr("disabled")}));for(var t=1;t<=9;t++)!function(t){var n="ctrl+"+t;$(document).bind("keypress",n,(function(){e.cannedResponse(t)}))}(t);$(".canned-responses").on("click",".canned-response",(function(){var t=$(this).find(".resp").data("resp");e.cannedResponse(t)}))},S.prototype.addResponseToList=function(e){var t=function(e){for(var t,n="";e>0;)t=(e-1)%26,e=Math.floor((e-1)/26),n=String.fromCharCode(97+t)+n;return n}($("#custom-responses .canned-response").length+1),n=$('<div class="canned-response">');n.append($('<span class="count">').text("("+t+") ")),n.append($('<span class="resp" data-resp="'+t+'">').text(e)),$("#canned-responses").removeClass("no-custom-responses"),$("#custom-responses .add-response").before(n)},S.prototype.cleanup=function(){$(document).unbind("keypress")};var T=function(e){var t='<div class="wrap"><label style="display: inline-block">Score: </label><span> '+e.score+" out of "+e.out_of+'</span><br><label style="display: inline-block">Next Step: </label><span> '+e.student_next_step+'</span><br><label style="display: inline-block">Graded By: </label><span> '+e.graded_by+'</span><br><label style="display: inline-block">Timestamp: </label><span rel="tooltip" title="'+e.longtime+'" style="text-decoration: underline;">'+e.timestamp+"</span>";return window.pageSpecific.viewerID===window.pageSpecific.codeUserID||(t+='<br><label style="display: inline-block">Teacher Notes: </label><span> '+e.teacher_notes+"</span>"),t+='<br><label style="display: inline-block">Feedback: </label><div class="feedback-content"> '+e.message.replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</div>",t+="</div>"};t.exports=S},{"../../core/pubSub.js":60,"../../utils/ajax.js":185,"../../utils/chsUtils.js":187,"../glossaryTerms.js":78,"../itemLinks.js":79,toastr:858}],110:[function(e,t,n){"use strict";var i=e("../../core/pubSub.js"),r=e("moment");function o(e){this.editor=e,this.loadSavedCode()}o.prototype.loadSavedCode=function(){try{for(var e=JSON.parse(window.localStorage.savedCode),t=e.length-1;t>=0;t--){var n=e[t];if(n.info.itemID==this.editor.getInfo().itemID)return void this.editor.setCode(n.code)}}catch(e){return}},o.prototype.saveCode=function(e){e=e||function(){};var t,n=this.editor.getCode(),o=this.editor.getInfo();try{t=JSON.parse(window.localStorage.savedCode)}catch(e){t=[]}var a=t[t.length-1];null!=a&&n==a.code&&o.itemID==a.info.itemID||(t.push({code:n,info:o,timestamp:r().unix()}),window.localStorage.savedCode=JSON.stringify(t)),i.trigger("signup:setupLocalStorageData"),e()},t.exports=o},{"../../core/pubSub.js":60,moment:506}],111:[function(e,t,n){"use strict";var i=e("../../utils/chsUtils.js").writeQRCode;function r(e){this.editor=e,this.setup()}r.prototype.setup=function(){if($("#html-qr-code").length){var e=$("#html-qr-code").data("url");i(e,"#html-qr-code",5)}},t.exports=r},{"../../utils/chsUtils.js":187}],112:[function(e,t,n){"use strict";var i=e("../../utils/ajax.js"),r=e("../../core/constants.js"),o=e("toastr"),a=e("../../core/pubSub.js"),s=e("../../utils/chsUtils.js").updateQueryString,u=e("../../utils/chsUtils.js").alert,l="#share-program",c="#share-tab-active-switch",d="#share-modal-active-switch",p="#editable-switch",h="#share-tab-show-code-switch",f="#share-modal-show-code-switch",m="#show-file-tree-switch",g="#share-tab-display-ide-switch",y="#share-tab-forkable-switch",v="#share-modal-display-ide-switch",_="#share-modal-forkable-switch",b="#share-modal-share-link",w="#share-modal-edit-description",E="#share-link",S="#share-modal",T="#share-options",C="#embed-options",x="#assign-options",A="#collab-options",k="#share-tab-submit-to-contest-button",I="";function D(){I=window.pageSpecific.shareBaseURL,this.setup()}function O(e,t){$.ajax({url:"/core/ajax/upload_image",type:"POST",data:e,processData:!1,dataType:"JSON",contentType:!1}).then((function(e){var n=r.Uploads.UPLOADS_PROXY_BASE_URL+e.url;t&&t(n)}))}function P(){var e=$(".__abacus_runButton");e&&e.trigger("click"),setTimeout((function(){try{document.querySelector("iframe#browser-runner").contentWindow.postMessage({type:"screenshot_data",data:{}},"*")}catch(e){return}}),5e3)}D.prototype.createShareDiv=function(e,t,n,i,r,o){var a=$(E);a.text(r),a.attr("href",r),$(h).attr("checked",t),$(m).attr("checked",!0),$(p).attr("checked",!0),$(g).attr("checked",n),$(y).attr("checked",i),$(k).data("share-id",e);var s="https://twitter.com/intent/tweet?text=Checkout%20this%20cool%20program%20I%20made%20on%20CodeHS%21&url=https%3A%2F%2Fcodehs.com%2Fshare%2F"+e+"&hashtags=ReadWriteCode&via=codehs",u="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fcodehs.com%2Fshare%2F"+e;$("#fb-share-link").attr("href",u),$("#twitter-share-link").attr("href",s),$("#share-tab-active-switch").prop("checked",o),$("#share-info-container").show(),$("#create-share-link-btn").hide()},D.prototype.domainDiv=function(e,t){$(".create-domain").hasClass("gone")?$("#medomain-link").slideToggle("fast",(function(){$(this).attr("href",t).text(e).slideToggle("fast")})):($("#medomain-link").attr("href",t).text(e),$(".create-domain").addClass("gone"),$(".show-domain").removeClass("gone"))},D.prototype.setupDownloadAppFiles=function(){$("#download-app-files-button").on("click",(function(){var e=window.pageSpecific.userProgramID,t=window.location.origin+"/editor/download_app_files/"+e;window.location=t}))},D.prototype.uploadFile=function(){$("#file-name").html($(".img-upload")[0].files[0].name),O(new FormData($("#upload-icon-form")[0]),(function(e){$("#icon-thumbnail").attr("src",e),$(".thumbnail-icon-container").removeClass("hidden"),$(".upload-icon-container").hide()}))},D.prototype.setup=function(){var e=this;$("button.create-share-link").on("click",(function(){i.send({method:"get_or_create_share_info",app:"editor",data:{itemID:window.pageSpecific.itemID,codeUserID:window.pageSpecific.codeUserID},success:function(t){"ok"==t.status&&(I=t.shareURL,e.createShareDiv(t.shareIdentifier,t.canShowCode,t.displayIDE,t.forkable,t.shareURL,t.isActive),window.pageSpecific.isAbacus&&window.pageSpecific.shouldScreenshotOnShare&&!t.shareImageURL&&P())}})})),$(S).find("#share-modal-create-share-link-btn").on("click",(function(){var t=$(this);t.attr("disabled",!0),t.html("<i class='icon-spinner icon-spin'></i>"),i.send({method:"get_or_create_share_info",app:"editor",data:{itemID:window.pageSpecific.itemID,codeUserID:window.pageSpecific.codeUserID},success:function(n){"ok"==n.status?($("#share-modal-contents").removeClass("gone"),$("#share-modal-create-share-link-btn").addClass("gone"),document.querySelector(b).value=n.shareURL,I=n.shareURL,e.createShareDiv(n.shareIdentifier,n.canShowCode,n.displayIDE,n.forkable,n.shareURL,n.isActive),window.pageSpecific.isAbacus&&window.pageSpecific.shouldScreenshotOnShare&&!n.shareImageURL&&P()):(o.error("There was an error sharing your program. Try refreshing the page, and contact support@codehs.com if you continue to experience errors."),t.attr("disabled",!1),t.html("Create share link"))},error:function(e){o.error("There was an error sharing your program. Try refreshing the page, and contact support@codehs.com if you continue to experience errors."),t.attr("disabled",!1),t.html("Create share link")}})})),$(S).find("#share-public-copy").on("click",(function(e){document.querySelector("#share-modal-public-link").select(),document.execCommand("copy"),window.toastr.success("Copied the URL")})),$(S).find("#share-code-copy").on("click",(function(e){document.querySelector("#share-modal-copy-link").select(),document.execCommand("copy"),window.toastr.success("Copied the URL")})),$(S).find("#copy-collab-link-btn").on("click",(function(e){document.querySelector("#share-modal-collab-link").select(),document.execCommand("copy"),window.toastr.success("Copied the URL")})),$(w).on("keyup",(function(){var e=$(w).val();$("#preview-description-text").empty().attr("data-markdown",e),a.trigger("CHS.Utils.markdown:setup")})),$(w).on("blur",(function(){var e=$(w).val();i.send({method:"save_item",app:"library",data:{itemId:window.pageSpecific.itemID,description:e},success:function(e){if("ok"==e.status){var t=$(".description-label").find(".chs-icon");t.removeClass("hidden"),setTimeout((function(){t.addClass("hidden")}),1e3)}else window.toastr.error(e.msg)}})})),L($(".course-select option:selected")),$(".course-select").on("change",(function(){L($(".course-select option:selected"))})),$("#share-modal-assign-btn").on("click",(function(){!function(e){a.trigger("utils:disableButton",$("#share-modal-assign-btn"));var t={assignmentType:"activity"};t.itemId=window.pageSpecific.itemID,t.itemType=$(".item-type-select option:selected").data("type"),t.teacherCourseId=e,t.addToLatestLesson=!0,i.send({method:"add_new_assignment",app:"lms",data:t,success:function(t){"ok"==t.status?($("#share-modal-assign-btn").html('<span class="chs-icon chs-icon-check"><span>'),$(".course-select option:selected").addClass("assigned"),$(".course-select option:selected").data("assignment-id",t.assignment.id),M(e,t.assignment.id)):window.toastr.error(t.msg)}})}($(".course-select option:selected").val())}));var t="#embed-opt-display-type",n="#embed-opt-width",r="#embed-opt-height",E="#embed-opt-read-only",D="#embed-opt-show-tree";function N(){var e=$(t).val(),i="850",o="500";$(n).val()&&(i=$(n).val()),$(r).val()&&(o=$(r).val());var a="/?display_mode="+e;$(E).prop("checked")&&(a+="&read_only=True"),$(D).prop("checked")||(a+="&show_file_tree=False");var s="<iframe "+('width="'+i+'" height="'+o+'"')+' src="'+I+"/embed"+a+'" frameborder="0" allowfullscreen class="video-iframe"></iframe>';$(b).val(s)}function R(e){var t=e.value;t&&(e.classList.add("active"),$(e).siblings().each((function(e,t){t.classList.remove("active")})),$("#share-modal-contents").removeClass("hidden"),$("#logged-out-edit-warning").removeClass("hidden"),$("#logged-out-banner-message").text("change the share settings for this program."),$(T).hasClass("hidden")&&($(T).removeClass("hidden"),$(C).addClass("hidden"),$(x).addClass("hidden"),$(A).addClass("hidden")),"Code"===t?($(x).addClass("hidden"),F(d),F(f)):"Embed"===t?($(C).removeClass("hidden"),$(T).addClass("hidden"),$(x).addClass("hidden"),N()):"Collaborate"===t?($(A).removeClass("hidden"),$(T).addClass("hidden"),$(x).addClass("hidden"),$("#logged-out-edit-warning").addClass("hidden"),$("#logged-out-banner-message").text("use the collaborate feature."),window.pageSpecific.unauthenticated||window.myAbacus||(window.pageSpecific.collaborateBlockedByDroplet&&($("#share-tab-button").addClass("active"),$("#collab-tab-button").removeClass("active"),$(A).addClass("hidden"),$(T).removeClass("hidden")),function(){if(window.pageSpecific.collaborateBlockedByDroplet)u({header:"Unable to collaborate",rawHtml:'<p>It looks like you\'re trying to collaborate on a Block coding program.\nTo collaborate, you need to switch this program to use text, not blocks.</p>\n<a target="_blank" href="/toggling-block-coding">Learn more about blocks settings</a>',cancelButton:!0,cancel_callback:function(){i.send({method:"toggle_shared_program_blocks_off",app:"editor",data:{sharedProgramID:window.pageSpecific.sharedProgramID},success:function(e){"ok"===e.status?window.location.reload():window.toastr.error(e.msg)}})},cancelButtonText:"Switch to Text and Refresh",cancelButtonClass:"btn-main-blue",buttonClass:"btn-main-green",button:"Close"});else{window.Ed.firepad&&window.Ed.firepad.initialized||window.Ed.setupFirepad(),$(d).prop("checked",!0),$(f).prop("checked",!0),i.send({method:"set_share_active",app:"editor",data:{sharedProgramID:window.pageSpecific.sharedProgramID,itemID:window.pageSpecific.itemID,codeUserID:window.pageSpecific.codeUserID,activeStatus:!0}}),i.send({method:"set_share_code",app:"editor",data:{sharedProgramID:window.pageSpecific.sharedProgramID,itemID:window.pageSpecific.itemID,codeUserID:window.pageSpecific.codeUserID,showCodeStatus:!0}}),i.send({method:"set_share_ide",app:"editor",data:{itemID:window.pageSpecific.itemID,codeUserID:window.pageSpecific.codeUserID,IDE:"original"}});var e="?collaborate="+window.Ed.firepad.firepadRef.key;$("#share-modal-collab-link").val(I+e),s({collaborate:window.Ed.firepad.firepadRef.key})}}())):($(x).removeClass("hidden"),$("#share-modal-contents").addClass("hidden")))}function L(e){e.hasClass("assigned")?(a.trigger("utils:disableButton",$("#share-modal-assign-btn")),$("#share-modal-assign-btn").html("Assigned"),M(e.val(),e.data("assignment-id"))):(a.trigger("utils:enableButton",$("#share-modal-assign-btn")),$("#links-section").addClass("hidden"),$("#share-modal-assign-btn").html("Assign"))}function M(e,t){var n="/lms/assignments/"+e+"?activity="+t;$(".view-link").attr("href",n),$("#links-section").removeClass("hidden")}function F(e){e===d?$(d).is(":checked")?($("#share-public-container").removeClass("hidden"),$("#share-modal-public-link").val(I+"/run"),$("#share-modal-public-link").attr("href",I+"/run")):$("#share-public-container").addClass("hidden"):e===f&&($(f).is(":checked")?($("#share-code-container").removeClass("hidden"),$("#share-modal-copy-link").val(I),$("#share-modal-copy-link").attr("href",I)):$("#share-code-container").addClass("hidden"))}$(t).on("change",N),$(n).on("input",(function(e){e.target.value=e.target.value.replace(/\D/g,""),N()})),$(r).on("input",(function(e){e.target.value=e.target.value.replace(/\D/g,""),N()})),$(E).on("change",N),$(D).on("change",N),F(d),F(f),window.pageSpecific.unauthenticated&&($(".sharing-option-checkbox").prop("disabled",!0),$("#share-modal-share-link").prop("disabled",!1),$("#share-modal-collab-link").addClass("hidden"),$("#copy-collab-link-btn").addClass("hidden")),$("#share-type-switch").on("click",(function(e){R(e.target)})),$(k).on("click",(function(){a.trigger("utils:disableButton",k),i.send({method:"submit",app:"contest",data:{shared_program_identifier:$(k).data("share-id"),contest_identifier:$("#share-tab-contest-id-input").val()},success:function(e){a.trigger("utils:enableButton",k),"ok"==e.status?$(".submit-to-contest-container").html('<span>Successfully submitted to <a target="_blank" href="'+e.contest_url+'">'+e.contest_name+"</a></span>"):window.toastr.error(e.msg)},error:function(){a.trigger("utils:enableButton",k),window.toastr.error("There was an error submitting to the contest. Please try again.")}})})),$(".new-domain").on("click",(function(){i.send({method:"create_or_update_codehsme_domain",app:"editor",data:{itemID:window.pageSpecific.itemID,codeUserID:window.pageSpecific.codeUserID},success:function(t){"ok"==t.status?e.domainDiv(t.fullDomain,t.fullURL):o.error("There was an error creating your domain, please try again.")},error:function(){o.error("There was an error creating your domain, please try again.")}})})),$(l).on("change",c,(function(){var e=$(this).is(":checked");i.send({method:"set_share_active",app:"editor",data:{sharedProgramID:window.pageSpecific.sharedProgramID,itemID:window.pageSpecific.itemID,codeUserID:window.pageSpecific.codeUserID,activeStatus:e}}),$(d).prop("checked",e)})),$(l).on("change",h,(function(){var e=$(this).is(":checked");i.send({method:"set_share_code",app:"editor",data:{sharedProgramID:window.pageSpecific.sharedProgramID,itemID:window.pageSpecific.itemID,codeUserID:window.pageSpecific.codeUserID,showCodeStatus:e}}),$(f).prop("checked",e)})),$(l).on("change","#shared-width",(function(){var e=$(this).val();i.send({method:"set_share_display_width",app:"editor",data:{sharedProgramID:window.pageSpecific.sharedProgramID,itemID:window.pageSpecific.itemID,codeUserID:window.pageSpecific.codeUserID,displayWidth:e}})})),$(l).on("change","#shared-height",(function(){var e=$(this).val();i.send({method:"set_share_display_height",app:"editor",data:{sharedProgramID:window.pageSpecific.sharedProgramID,itemID:window.pageSpecific.itemID,codeUserID:window.pageSpecific.codeUserID,displayHeight:e}})})),$(l).on("change",m,(function(){var e=$(this).is(":checked");i.send({method:"set_share_show_file_tree",app:"editor",data:{sharedProgramID:window.pageSpecific.sharedProgramID,itemID:window.pageSpecific.itemID,codeUserID:window.pageSpecific.codeUserID,showFileTreeStatus:e}})})),$(l).on("change",p,(function(){var e=$(this).is(":checked");i.send({method:"set_share_editable",app:"editor",data:{sharedProgramID:window.pageSpecific.sharedProgramID,itemID:window.pageSpecific.itemID,codeUserID:window.pageSpecific.codeUserID,editableStatus:e}})})),$(l).on("change",g,(function(){var e=$(this).is(":checked");i.send({method:"set_share_display_ide",app:"editor",data:{sharedProgramID:window.pageSpecific.sharedProgramID,itemID:window.pageSpecific.itemID,codeUserID:window.pageSpecific.codeUserID,displayIDEStatus:e}}),$(v).prop("checked",e)})),$(l).on("change",y,(function(){var e=$(this).is(":checked");i.send({method:"set_share_forkable",app:"editor",data:{sharedProgramID:window.pageSpecific.sharedProgramID,itemID:window.pageSpecific.itemID,codeUserID:window.pageSpecific.codeUserID,forkableStatus:e}}),$(_).prop("checked",e)})),$(S).on("change",d,(function(){var e=$(this).is(":checked");i.send({method:"set_share_active",app:"editor",data:{sharedProgramID:window.pageSpecific.sharedProgramID,itemID:window.pageSpecific.itemID,codeUserID:window.pageSpecific.codeUserID,activeStatus:e}}),$(c).prop("checked",e),F(d)})),$(S).on("change",v,(function(){var e=$(this).is(":checked");i.send({method:"set_share_display_ide",app:"editor",data:{sharedProgramID:window.pageSpecific.sharedProgramID,itemID:window.pageSpecific.itemID,codeUserID:window.pageSpecific.codeUserID,displayIDEStatus:e}}),$(g).prop("checked",e)})),$(S).on("change",f,(function(){var e=$(this).is(":checked");i.send({method:"set_share_code",app:"editor",data:{sharedProgramID:window.pageSpecific.sharedProgramID,itemID:window.pageSpecific.itemID,codeUserID:window.pageSpecific.codeUserID,showCodeStatus:e}}),$(h).prop("checked",e),F(f)})),$(S).on("change",_,(function(){var e=$(this).is(":checked");i.send({method:"set_share_forkable",app:"editor",data:{sharedProgramID:window.pageSpecific.sharedProgramID,itemID:window.pageSpecific.itemID,codeUserID:window.pageSpecific.codeUserID,forkableStatus:e}}),$(y).prop("checked",e)})),$(S).on("change","#share-modal-ide-dropdown",(function(){var e=$(this).val();i.send({method:"set_share_ide",app:"editor",data:{itemID:window.pageSpecific.itemID,codeUserID:window.pageSpecific.codeUserID,sharedProgramID:window.pageSpecific.sharedProgramID,IDE:e}})})),$(S).on("change","#share-modal-display-mode-dropdown",(function(){var e=$(this).val();i.send({method:"set_share_abacus_display_mode",app:"editor",data:{sharedProgramID:window.pageSpecific.sharedProgramID,itemID:window.pageSpecific.itemID,codeUserID:window.pageSpecific.codeUserID,displayMode:e}})})),$(S).on("click","#switch-to-abacus",(function(e){e.preventDefault(),i.send({method:"set_share_ide",app:"editor",data:{itemID:window.pageSpecific.itemID,codeUserID:window.pageSpecific.codeUserID,IDE:"abacus"},success:function(e){if("ok"===e.status){$("#collab-editor-warning").html('Switching to the newer editor. The page will reload in <b id="reload-countdown">10</b> seconds.');var t=10,n=setInterval((function(){$("#reload-countdown").text(t),--t<0&&(clearInterval(n),location.reload())}),1e3)}}})})),$("#upload-icon-btn").on("click",(function(){$(".img-upload").trigger("click")})),$("#icon-thumbnail").on("click",(function(){$(".img-upload").trigger("click")})),$(".img-upload").on("change",(function(){e.uploadFile()})),e.setupDownloadAppFiles(),window.addEventListener("message",(function(e){if("https://codehs.com"===e.origin||"https://static1.codehs.com"===e.origin||"http://localhost:8000"===e.origin){var t=e.data;if(t.type&&"screenshot_data"==t.type){var n=function(e,t){for(var n=atob(e.split(",")[1]),i=[],r=0;r<n.length;r++)i.push(n.charCodeAt(r));return new Blob([new Uint8Array(i)],{type:t})}(t.data,"image/png"),r=new FormData;r.append("file",n),O(r,(function(e){i.send({method:"set_share_image",app:"editor",data:{sharedProgramID:window.pageSpecific.sharedProgramID,itemID:window.pageSpecific.itemID,codeUserID:window.pageSpecific.codeUserID,imageURL:e}})}))}}}))},a.on("shareTab:setup",(function(){I=window.pageSpecific.shareBaseURL,new D})),a.on("editor:sandboxItemTitleChange",(function(e){var t=e[0],n=e[1];I=t;var i=$(E),r=$(b);i.text(t),i.attr("href",t),r.text(t),r.attr("href",t),history.pushState({},n,t)})),t.exports=D},{"../../core/constants.js":58,"../../core/pubSub.js":60,"../../utils/ajax.js":185,"../../utils/chsUtils.js":187,toastr:858}],113:[function(e,t,n){"use strict";var i=e("../karel/karelWorld.js"),r=206,o=".sidebar-canvas",a="#edit-solution-world";function s(e){this.editor=e}s.prototype.setupCanvas=function(t){if(this.editor.typeTester.isTurtle()){var n=e("../runners/templates/turtleInputOverride.txt")+this.editor.solutionCode["main.py"];if($("#turtle-result-world").length&&this.editor.isOwnPage()){var s=this.editor.resultImage;s?$("#turtle-result-world").append('<img src="https://static1.codehs.com/img/exercises/end/'+s+'" rel="popover" data-placement="bottom" data-trigger="hover" data-content="This is what the world should look like after your program has run."/>'):this.editor.runner.quickDraw({code:n,target:"turtle-result-world",animate:!1})}}else{if(void 0===t){var u=$("#karelworld").find(":selected").attr("data-world");t=this.editor.runner.loadWorldById(u)}var l,c=this.editor.worlds.length+this.editor.user_worlds.length;if(-1==t||t>=c)return void this.hideCanvas();if(t<this.editor.worlds.length)l=this.editor.worlds[t];else{var d=t-this.editor.worlds.length;l=this.editor.user_worlds[d]}var p="/karel/worlds/0/";if(!l||void 0===l.solution_world)return this.hideCanvas(),p+="duplicate/"+l.id+"?solution_item="+this.editor.itemID,$(a).text("Add Solution World"),$(a).addClass("add-world"),$(a).css("top",(r-$(a).innerHeight())/2+4),$(a).attr("href",p),$(a).attr("data-original-title","Add a solution for the current world"),void $(a).show();if(l){p+="edit/"+l.solution_id+"?solution_item="+this.editor.itemID,$(a).text("Edit Solution World"),$(a).removeClass("add-world"),$(a).attr("data-original-title","Edit the solution for the current world"),$(a).attr("href",p),$(a).css("display","inline-block");var h=JSON.stringify(l.solution_world);$(o).each((function(){$(".hideable-title").css("opacity",1),i.quickDraw($(this),h,r,!0)}))}}},s.prototype.hideCanvas=function(){$(".hideable-title").css("opacity",0),$(o).css("opacity",0),$(o).attr("rel",""),$(o).attr("width",r),$(o).attr("height",r)},t.exports=s},{"../karel/karelWorld.js":86,"../runners/templates/turtleInputOverride.txt":153}],114:[function(e,t,n){"use strict";var i=e("../../core/constants.js");function r(e){this.editor=e}r.prototype.isElm=function(){return this.editor.getProgramType()==i.ProgramType.ELM},r.prototype.isNode=function(){return this.editor.getProgramType()==i.ProgramType.NODE},r.prototype.isJsRepl=function(){return this.editor.getProgramType()==i.ProgramType.JAVASCRIPT_REPL},r.prototype.isPythonRepl=function(){return this.editor.getProgramType()==i.ProgramType.PYTHON_REPL},r.prototype.isElmRepl=function(){return this.editor.getProgramType()==i.ProgramType.ELM_REPL},r.prototype.isHTML=function(){return this.editor.getProgrammingLanguage()==i.ProgrammingLanguage.HTML},r.prototype.isPython=function(){var e=this.editor.getProgramType();return e==i.ProgramType.PYTHON||e==i.ProgramType.PYTHON_CANVAS||e==i.ProgramType.PYTHON_TURTLE||e==i.ProgramType.PYTHON_KAREL||e==i.ProgramType.PYTHON_SUPER_KAREL||e==i.ProgramType.PYTHON_ULTRA_KAREL},r.prototype.isPython2=function(){return this.editor.getProgramType()==i.ProgramType.PYTHON2},r.prototype.isPython3=function(){var e=this.editor.getProgramType();return e==i.ProgramType.PYTHON3||e==i.ProgramType.BRYTHON_GRAPHICS},r.prototype.isPygame=function(){return this.editor.getProgramType()==i.ProgramType.PYGAME},r.prototype.isPythonDataScience=function(){var e=this.editor.getProgramType();return e==i.ProgramType.PYTHON_3_DATA_SCIENCE||e==i.ProgramType.PYTHON_3_DATA_SCIENCE_GRAPHICS},r.prototype.isPythonDataScienceGraphics=function(){return this.editor.getProgramType()==i.ProgramType.PYTHON_3_DATA_SCIENCE_GRAPHICS},r.prototype.isTurtle=function(){return this.editor.getProgramType()==i.ProgramType.PYTHON_TURTLE},r.prototype.isPythonTutor=function(){return this.editor.getProgramType()==i.ProgramType.PYTHON_TUTOR},r.prototype.isPythonLanguage=function(){return this.editor.getProgrammingLanguage()==i.ProgrammingLanguage.PYTHON},r.prototype.isJavascript=function(){return this.editor.getProgrammingLanguage()==i.ProgrammingLanguage.JAVASCRIPT},r.prototype.isJava=function(){return this.editor.getProgrammingLanguage()==i.ProgrammingLanguage.JAVA},r.prototype.codeHubJava=function(){return this.editor.getProgrammingLanguage()==i.ProgrammingLanguage.JAVA&&this.editor.runOnHub},r.prototype.isReactNative=function(){return this.editor.getProgrammingLanguage()==i.ProgrammingLanguage.REACT_NATIVE},r.prototype.isC=function(){return this.editor.getProgrammingLanguage()==i.ProgrammingLanguage.C},r.prototype.isCpp=function(){return this.editor.getProgrammingLanguage()==i.ProgrammingLanguage.CPP},r.prototype.isJavaServer=function(){return _.contains(i.ProgramType.JAVA_SERVER_TYPES,this.editor.getProgramType())},r.prototype.isUnitTestJavascript=function(){return this.editor.getProgramType()==i.ProgramType.JAVASCRIPT_FUNCTION},r.prototype.isUnitTestPython=function(){return this.editor.getProgramType()==i.ProgramType.PYTHON_FUNCTION},r.prototype.isUnitTestPython3=function(){return this.editor.getProgramType()==i.ProgramType.PYTHON3_FUNCTION},r.prototype.isUnitTestJava=function(){var e=this.editor.getProgramType();return e==i.ProgramType.JAVA_METHOD||e===i.ProgramType.JAVA_METHOD_MAIN},r.prototype.isUnitTestCpp=function(){return this.editor.getProgramType()==i.ProgramType.CPP_FUNCTION},r.prototype.isUnitTest=function(){return this.editor.getItemType()==i.ItemType.UNIT_TEST},r.prototype.isBitInterpreter=function(){return _.includes(i.ProgramType.BIT_INTERPRETER_TYPES,this.editor.getProgramType())},r.prototype.isDataExplorer=function(){return this.editor.getItemType()==i.ItemType.DATA_EXPLORER},r.prototype.isKarel=function(){var e=this.editor.getProgramType();return e==i.ProgramType.KAREL||e==i.ProgramType.SUPER_KAREL||e==i.ProgramType.ULTRA_KAREL||e==i.ProgramType.JAVA_KAREL||e==i.ProgramType.JAVA_SUPER_KAREL||e==i.ProgramType.JAVA_ULTRA_KAREL||e==i.ProgramType.PYTHON_KAREL||e==i.ProgramType.PYTHON_SUPER_KAREL||e==i.ProgramType.PYTHON_ULTRA_KAREL},r.prototype.isJsKarel=function(){var e=this.editor.getProgramType();return e==i.ProgramType.KAREL||e==i.ProgramType.SUPER_KAREL||e==i.ProgramType.ULTRA_KAREL},r.prototype.isJavaKarel=function(){return this.isJava()&&this.isKarel()},r.prototype.isPythonKarel=function(){return this.isPython()&&this.isKarel()},r.prototype.isSuperKarel=function(){var e=this.editor.getProgramType();return e==i.ProgramType.SUPER_KAREL||e==i.ProgramType.JAVA_SUPER_KAREL||e==i.ProgramType.PYTHON_SUPER_KAREL},r.prototype.isUltraKarel=function(){var e=this.editor.getProgramType();return e==i.ProgramType.ULTRA_KAREL||e==i.ProgramType.JAVA_ULTRA_KAREL||e==i.ProgramType.PYTHON_ULTRA_KAREL},r.prototype.isConsole=function(){return this.editor.getProgramType()==i.ProgramType.CONSOLE},r.prototype.isVanillaJS=function(){return this.editor.getProgramType()==i.ProgramType.VANILLA_JS},r.prototype.isGraphics=function(){return-1!=[i.ProgramType.GRAPHICS,i.ProgramType.GRAPHICS_NO_CONSOLE].indexOf(this.editor.getProgramType())},r.prototype.isPixel=function(){return this.editor.getProgramType()==i.ProgramType.PIXEL},r.prototype.isExercise=function(){return this.editor.getItemType()==i.ItemType.EXERCISE},r.prototype.isFreeResponse=function(){return this.editor.getItemType()==i.ItemType.FREE_RESPONSE},r.prototype.isExample=function(){return this.editor.getItemType()==i.ItemType.EXAMPLE},r.prototype.isChallenge=function(){return this.editor.getItemType()==i.ItemType.CHALLENGE},r.prototype.isGradingQuiz=function(){return this.editor.getItemType()==i.ItemType.GRADING_QUIZ},r.prototype.isGradeAndRespond=function(){return this.editor.getItemType()==i.ItemType.GRADE_AND_RESPOND},r.prototype.isSQL=function(){return this.editor.getProgramType()==i.ProgramType.SQL},r.prototype.isScheme=function(){return this.editor.getProgramType()==i.ProgramType.SCHEME},r.prototype.isSwift=function(){return this.editor.getProgramType()==i.ProgramType.SWIFT},r.prototype.isBash=function(){return this.editor.getProgramType()==i.ProgramType.BASH},r.prototype.isJavaGraphics=function(){return this.editor.getProgramType()==i.ProgramType.JAVA_GRAPHICS},r.prototype.isJavaProcessing=function(){return this.editor.getProgramType()==i.ProgramType.JAVA_PROCESSING},r.prototype.isPythonProcessing=function(){return this.editor.getProgramType()==i.ProgramType.PYTHON_PROCESSING},r.prototype.isProcessing=function(){return this.editor.getProgrammingLanguage()==i.ProgrammingLanguage.PROCESSING},r.prototype.isPresentation=function(){return this.editor.getItemType()==i.ItemType.PRESENTATION},r.prototype.isDemo=function(){return this.editor.getItemType()==i.ItemType.DEMO},r.prototype.isMarkdown=function(){return this.editor.getProgrammingLanguage()==i.ProgrammingLanguage.MARKDOWN},r.prototype.isAlexa=function(){return this.editor.getProgramType()==i.ProgramType.ALEXA},r.prototype.isJavaServerGraphics=function(){return this.editor.getProgramType()==i.ProgramType.JAVA_SERVER_GRAPHICS},r.prototype.isPythonGraphics=function(){return this.editor.getProgramType()==i.ProgramType.PYTHON_GRAPHICS},r.prototype.isJavaMain=function(){return this.editor.getProgramType()==i.ProgramType.JAVA_MAIN},r.prototype.isSwift=function(){return this.editor.getProgramType()==i.ProgramType.SWIFT},t.exports=r},{"../../core/constants.js":58}],115:[function(e,t,n){"use strict";var i=e("../../core/constants.js").Uploads.UPLOADS_PROXY_BASE_URL;function r(e){this.editor=e,this.setup()}function o(){s(new FormData($("#js-upload-form")[0]))}function a(){s(new FormData($("#js-zip-upload-form")[0]),(function(){}),"/core/ajax/upload_zip_to_code")}function s(e,t,n){n=void 0!==n?n:"/core/ajax/upload_image",$.ajax({url:n,type:"POST",data:e,processData:!1,dataType:"JSON",contentType:!1}).then((function(e){var n=i+e.url;$("#img-thumbnail").attr("src",n),$(".upload-url-container").show(),$("#result-url").val(n),t&&t(e)}))}r.prototype.setup=function(){var e=this,t=null,n=null,i=null,r=!1,u=320,l=0,c=window.AudioContext||window.webkitAudioContext||window.mozAudioContext||window.oAudioContext||window.msAudioContext,d=0;$("#file-select").on("click",(function(e){e.preventDefault(),$(".microphone").hide(),$(".camera").hide(),$(".mic-result").hide(),$("#file-upload").trigger("click")})),$("#zip-select").on("click",(function(e){e.preventDefault(),$(".microphone").hide(),$(".camera").hide(),$(".mic-result").hide(),$("#zip-upload").trigger("click")})),navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&($("#webcam").removeClass("hidden"),window.MediaRecorder&&($("#microphone").removeClass("hidden"),$("#browser-warning").addClass("hidden")),$("#webcam").on("click",(function(o){o.preventDefault(),$(".microphone").hide(),$(".mic-result").hide(),$(".camera").show(),t=document.getElementById("video"),n=document.getElementById("video-still-canvas"),(i=document.getElementById("webcam-still")).addEventListener("click",(function(r){!function(){i.disabled=!0,i.innerHTML="...";var r=n.getContext("2d");if(l){n.width=u,n.height=l,t.pause(),r.filter=e.getCurrentImageFilterCSS(),r.drawImage(t,0,0,u,l);for(var o=n.toDataURL(),a=atob(o.split(",")[1]),c=[],d=0;d<a.length;d++)c.push(a.charCodeAt(d));var p=new Blob([new Uint8Array(c)],{type:"image/png"}),h=new FormData;h.append("file",p),s(h,(function(){$(".camera").hide(),i.innerHTML='<span class="icon icon-camera"></span> Take photo',i.disabled=!1}))}}(),r.preventDefault()}),!1),t.addEventListener("canplay",(function(e){r||(l=t.videoHeight/(t.videoWidth/u),isNaN(l)&&(l=240),t.setAttribute("width",u),t.setAttribute("height",l),n.setAttribute("width",u),n.setAttribute("height",l),r=!0)}),!1),navigator.mediaDevices.getUserMedia({video:!0}).then((function(e){t.srcObject=e,t.play()})).catch((function(e){console.error("The following getUserMedia error occured: ",e)}))})),$("#microphone").on("click",(function(e){e.preventDefault(),$(".camera").hide(),$(".mic-result").hide(),$(".microphone").show();var t=$("#mic-record");if(!d&&c)try{d=new c}catch(e){console.log("Too many AudioContexts are in use. Please close all browser windows and retry."),d=0}navigator.mediaDevices.getUserMedia({audio:!0}).then((function(e){!function(e){if(d){var t=d.createMediaStreamSource(e),n=d.createAnalyser();n.fftSize=2048;var i=n.frequencyBinCount,r=new Uint8Array(i);t.connect(n);var o=document.querySelector("#mic-analyser"),a=o.getContext("2d");function s(){var e=o.width,t=o.height;requestAnimationFrame(s),n.getByteTimeDomainData(r),a.fillStyle="rgb(200, 200, 200)",a.fillRect(0,0,e,t),a.lineWidth=2,a.strokeStyle="rgb(0, 0, 0)",a.beginPath();for(var u=1*e/i,l=0,c=0;c<i;c++){var d=r[c]/128*t/2;0===c?a.moveTo(l,d):a.lineTo(l,d),l+=u}a.lineTo(o.width,o.height/2),a.stroke()}s()}else $("#mic-analyser").hide()}(e);var n=new MediaRecorder(e),i=[];t.on("click",(function(e){"recording"!=n.state?(n.start(),t.addClass("btn-main-red"),t.removeClass("btn-main-blue"),t.html('<span class="icon icon-stop"></span> Stop')):(n.stop(),t.addClass("btn-main-blue"),t.removeClass("btn-main-red"),t.html("Uploading..."),t.attr("disabled",!0))})),n.ondataavailable=function(e){i.push(e.data)},n.onstop=function(e){var n=new Blob(i,{type:"audio/mpeg"});i=[];var r=new FormData;r.append("file",n),s(r,(function(){$(".microphone").hide(),t.html('<span class="icon icon-circle"></span> Record'),t.attr("disabled",!1),$(".mic-result").show();var e=$("#audio-result"),i=window.URL.createObjectURL(n);e.attr("src",i)}))}})).catch((function(e){console.log("The following getUserMedia error occured: "+e)}))}))),$("body").on("change","#file-upload",o),$("body").on("change","#zip-upload",a),$("#result-url").on("click",(function(){$(this).trigger("select"),document.execCommand("copy"),window.toastr.success("Copied the URL")})),this.setupImageFilters()},r.prototype.setupImageFilters=function(){var e=this;e.filters={grayscale:0,sepia:0,invert:0,contrast:100,brightness:100,saturate:100,"hue-rotate":0},$("#filter-toggle").on("click",(function(){$("#filters-container").toggleClass("hidden")})),$(".slider").each((function(){$(this).slider({orientation:"horizontal",range:"min",min:$(this).data("min-value"),max:$(this).data("max-value"),value:$(this).data("start-value"),change:function(t,n){e.updateFilter($(this).data("filter-name"),n.value)},slide:function(t,n){e.updateFilter($(this).data("filter-name"),n.value)}})}))},r.prototype.updateFilter=function(e,t){var n=this;n.filters.hasOwnProperty(e)&&(n.filters[e]=t),$("#video").css("filter",n.getCurrentImageFilterCSS())},r.prototype.getCurrentImageFilterCSS=function(){var e=this,t="";return Object.keys(e.filters).forEach((function(n){var i="%";"hue-rotate"==n&&(i="deg"),t+=n+"("+e.filters[n]+i+") "})),t},t.exports=r},{"../../core/constants.js":58}],116:[function(e,t,n){"use strict";var i,r,o,a,s,u,l,c,d,p,h,f,m,g=e("../core/pubSub.js"),y=e("../utils/ajax.js"),v=e("./submitter.js"),_=e("video.js"),b=e("../utils/quillCustom.js"),w=!0,E=!1,S=!1;function T(e,t){var n=new Image;n.onload=function(){t(!1)},n.onerror=function(){t(!0)},n.src=e}function C(){if(window.analytics.track("Play Video",{video_id:window.pageSpecific.CHS_CURRENT_ITEM_ID}),S=!0,c.fadeOut(750,(function(){h.fadeIn(750)})),h==u&&(f.play(),f.on("ended",A),f.on("pause",(function(){k(!0)})),f.on("play",(function(){k(!1)}))),h==a){var e={autoplay:0,rel:0,showinfo:0};"es"===window.pageSpecific.humanLanguage&&(e.cc_lang_pref="es",e.cc_load_policy=1),window.pageSpecific.accessibilityMode&&(e.cc_load_policy=1),new window.YT.Player("youtube-player",{height:"100%",width:"100%",videoId:i,playerVars:e,events:{onStateChange:function(e){e.data==window.YT.PlayerState.PLAYING?k(!1):e.data==window.YT.PlayerState.ENDED?(k(!0),A()):e.data==window.YT.PlayerState.PAUSED&&k(!0)},onReady:function(e){e.target.playVideo()}}})}h==s&&(k(!0),(m=new Vimeo.Player("vimeo-video")).ready().then((function(){m.on("ended",(function(){A()})),m.on("pause",(function(){k(!0)})),m.on("play",(function(){k(!1)}))})))}function x(){I(),void 0!==r&&void 0!==o&&!0!==E&&(r||o?!r&&o?(h=a,p.youtube.addClass("selected")):r&&!o&&w?(h=s,p.vimeo.addClass("selected")):(h=u,p.codehs.addClass("selected")):(h=a,p.youtube.addClass("selected")))}function A(){if(document.fullscreenElement&&document.exitFullscreen(),h.fadeOut(750),null,m=null,d.fadeIn(750),window.pageSpecific.isOwnPage){var e={};e=window.pageSpecific.studentAssignmentID?{student_assignment_id:window.pageSpecific.studentAssignmentID}:{item_id:window.pageSpecific.CHS_CURRENT_ITEM_ID,module_id:window.pageSpecific.CHS_CURRENT_MODULE_ID,course_id:window.pageSpecific.CHS_CURRENT_COURSE_ID},v(e,self.goToNext)}window.analytics.track("Finish Video",{video_id:window.pageSpecific.CHS_CURRENT_ITEM_ID})}function k(e){e?($(".navbar").fadeIn(750),$("#editor-bottombar-nav").fadeIn(750),$("body").animate({"background-color":"#FFF"},750),$(".lti-launch-banner").fadeIn(750)):($(".navbar").fadeOut(750),$("#editor-bottombar-nav").fadeOut(750),$("body").animate({"background-color":"#000"},750),$(".lti-launch-banner").fadeOut(750))}function I(){p.codehs.removeClass("selected"),p.youtube.removeClass("selected"),p.vimeo.removeClass("selected")}var D=function(){I(),p.codehs.addClass("selected"),E=!0,S?(h.fadeOut(600),(h=u).fadeIn(600),C()):(h=u,C()),d.hide()},O=function(){I(),p.youtube.addClass("selected"),E=!0,S?(h.fadeOut(600),(h=a).fadeIn(600),C()):(h=a,C()),d.hide()},P=function(){I(),p.vimeo.addClass("selected"),E=!0,S?(h.fadeOut(600),(h=s).fadeIn(600),C()):(h=s,C()),d.hide()},N=function(e){i=e},R=function(){w=!1};var L=function(){var e=$("#notepad").find(".ql-editor").html();y.send({method:"save_user_notes",app:"editor",data:{notes:e,item_id:window.pageSpecific.CHS_CURRENT_ITEM_ID}})};function M(e,t){var n=$(".slides-link-template").html();$(".navbar-left").append(n),$(".slides-link").on("click",(function(){var t=new URLSearchParams(window.location.search),n=e;t.has("lock-override")&&(n+="&lock-override=1"),window.location.href=n})),$(".next-link").on("click",(function(){window.location.href=t}))}var F=function(){var e;M(window.pageSpecific.slidesLink,window.pageSpecific.nextLink),b.createEditor("#notepad"),$("#notepad").find(".ql-editor").html(window.pageSpecific.userNotes),p={codehs:$(".codehsOption"),youtube:$(".youtubeOption"),vimeo:$(".vimeoOption")},l=$(".play-button"),c=$("#pre-video-container"),d=$("#post-video-container"),a=$("#youtube-video-container"),s=$("#vimeo-video-container"),u=$("#codehs-video-container"),f=_("codehsvideo",{controls:!0,playbackRates:[.5,.75,1,1.25,1.5,1.75,2],fill:!0}),$(".youtube-video"),m=$(".vimeo-video"),h=u,p.codehs.addClass("selected"),l.on("click",(function(){C()})),T("//youtube.com/favicon.ico",(function(e){r=e,x()})),T("//vimeo.com/favicon.ico",(function(e){o=e,x()})),$("#done-button").on("click",(function(e){e.preventDefault(),$(this).attr("disabled","disabled"),$("#replay-button").attr("disabled","disabled"),$("#replay-button").fadeOut(),$("#done-button").fadeOut(400,(function(){$("#loading-div").fadeIn()})),window.location.href=$("#done-button").attr("data-next")})),$("#replay-button").on("click",(function(e){e.preventDefault(),h==u?D():h==a?O():h==s&&P()})),$(".codehsOption").on("click",(function(){D()})),$(".youtubeOption").on("click",(function(){O()})),$(".vimeoOption").on("click",(function(){P()})),N(window.pageSpecific.youtubeID),window.pageSpecific.noVimeo&&R(),$("#notepad-button").on("click",(function(){$("#video-view").toggleClass("video-view-left video-view-full"),$("#video-view-notepad-container").toggle()})),$("body").on("DOMSubtreeModified",".ql-editor",(function(){$("#save-status").text("Saving..."),e&&clearTimeout(e),e=setTimeout((function(){L(),$("#save-status").text("Saved")}),1e3)})),$(window).on("beforeunload",j),$(document).one("turbolinks:before-render",(function(){j(),$(window).off("beforeunload",j)}))},j=function(){f&&f.dispose()};g.on("editor:newVideoPage:setup",F),g.on("editor:newVideoPage:playVideo",C),t.exports={setup:F,setupNavButtons:M,setPlayerCodeHS:D,setPlayerYoutube:O,setPlayerVimeo:P,setYoutubeID:N,noVimeoVideo:R,playVideo:C,saveNotes:L}},{"../core/pubSub.js":60,"../utils/ajax.js":185,"../utils/quillCustom.js":193,"./submitter.js":159,"video.js":869}],117:[function(e,t,n){t.exports='<div style="width:100%; height:calc(100% - 49px)"><div style="padding:5px; gap: 5px" class="flex flex-wrap"><span class="form-group has-float-label flex-unit" style="margin-bottom: 0; min-width: 75px"><input id=js-gslide-input placeholder="Google Slide ID" type=text style="height: 30px; width: 100%"><label for=js-gslide-input>Google Slide ID</label></span> <button id=js-gslide-edit-btn class="btn btn-main-orange" style="flex-basis:100px; height:30px">Edit</button><button id=js-gslide-present-btn class="btn btn-main-green" style="flex-basis:100px; height:30px">Present</button></div><iframe id=js-gslide-iframe style="border:none; width:100%; height:calc(100% - 40px)" title="Embed of slides for assignment"></iframe><div id=js-gslide-error aria-live=polite style="padding: 140px 75px 0 75px; border:none; width:100%; height:calc(100% - 40px)"><div style="font-size:32px; text-align:center">We could not load the Google Slide with that id</div></div><div id=js-gslide-welcome style="padding: 140px 75px 0 75px; border:none; width:100%; height:calc(100% - 40px)"><div style="font-size:32px; text-align:center">Please input the Google Slide id</div></div></div>'},{}],118:[function(e,t,n){var i=e("./index.hbs"),r="#js-gslide-iframe",o="#js-gslide-error",a="#js-gslide-welcome",s="default.txt",u="embed",l="edit";function c(e,t){return"https://docs.google.com/presentation/d/${slideId}/${type}?rm=minimal".replace("${slideId}",e).replace("${type}",t)}t.exports=function(e){var t,n,d=$(i),p=d.find("#js-gslide-input"),h=d.find("#js-gslide-edit-btn"),f=d.find("#js-gslide-present-btn"),m=d.find(r),g=d.find(o),y=d.find(a);function v(e){[m,g,y].forEach((function(t){t.is(e)?e===r?t.on("load",(function(){t.show()})):t.show():t.hide()}))}function _(t){var n=p.val(),i=c(n,t);$.get(i).done((function(){m.attr("src",i),e.activeFile||(e.activeFile=s),e.setCode(n),e.save(),v(r)})).fail((function(){v(o)}))}return h.on("click",(function(){_(l)})),f.on("click",(function(){_(u)})),p.on("change",(function(){_(u)})),t=e.currentCode["default.txt"],n=c(t,u),$.get(n).done((function(){m.attr("src",n),p.val(t),v(r)})).fail((function(){v(a)})),d}},{"./index.hbs":117}],119:[function(e,t,n){"use strict";t.exports=function(e){e=_.defaults(e||{},{terminalSelector:".repl-terminal",promptLabel:">>> ",continueLabel:"... ",multlineCb:function(){return!1}});var t=$(e.terminalSelector);return t.length?(t=t.jqconsole(e.welcomeString?e.welcomeString+"\n":"",e.promptLabel,e.continueLabel),{writeToConsole:function(e,n){return t.Write.bind(t)(e+(n?"":"\n"))},promptForInput:function(n){return t.Prompt.bind(t)(!0,n,e.multlineCb)},reset:function(){t.Reset()},clearPrompt:function(){t.AbortPrompt()}}):{writeToConsole:function(){},promptForInput:function(){},reset:function(){},clearPrompt:function(){}}}},{}],120:[function(e,t,n){"use strict";var i=e("./createReplWebSocket.js");t.exports=function(){var e=i("elm-repl",(function(e){return e.replace(/(\|\s*)+$/,"").replace(/>\s*$/,"")}),(function(e){return/>\s*$/.test(e)}));return function(t){return e.stdin(t)}}},{"./createReplWebSocket.js":123}],121:[function(e,t,n){"use strict";t.exports=function(){return function(e){var t=$.Deferred(),n=eval;try{t.resolve(""+n(e))}catch(e){t.resolve(""+e)}return t}}},{}],122:[function(e,t,n){"use strict";var i="__END_OF_OUTPUT__";t.exports=function(){return function(e){var t=$.Deferred(),n="";window.Sk.configure({output:function(e){-1!==e.indexOf(i)?(e=e.replace(i,""),n+=e,t.resolve(n),n=""):n+=e},read:function(e){if(void 0===window.Sk.builtinFiles||void 0===window.Sk.builtinFiles.files[e])throw"File not found: '"+e+"'";return window.Sk.builtinFiles.files[e]},retainglobals:!0});var r=function(e){var t=new RegExp("\\s*print"),n=new RegExp("\\s*import"),i=new RegExp("def.*|class.*"),r=e.split("\n");return 1===r.length&&!/^((\s*\(\s*(\s*((\s*((\s*[_a-zA-Z]\w*\s*)|(\s*\(\s*(\s*[_a-zA-Z]\w*\s*,)*\s*[_a-zA-Z]\w*\s*\)\s*))\s*)|(\s*\(\s*(\s*((\s*[_a-zA-Z]\w*\s*)|(\s*\(\s*(\s*[_a-zA-Z]\w*\s*,)*\s*[_a-zA-Z]\w*\s*\)\s*))\s*,)*\s*((\s*[_a-zA-Z]\w*\s*)|(\s*\(\s*(\s*[_a-zA-Z]\w*\s*,)*\s*[_a-zA-Z]\w*\s*\)\s*))\s*\)\s*))\s*,)*\s*((\s*((\s*[_a-zA-Z]\w*\s*)|(\s*\(\s*(\s*[_a-zA-Z]\w*\s*,)*\s*[_a-zA-Z]\w*\s*\)\s*))\s*)|(\s*\(\s*(\s*((\s*[_a-zA-Z]\w*\s*)|(\s*\(\s*(\s*[_a-zA-Z]\w*\s*,)*\s*[_a-zA-Z]\w*\s*\)\s*))\s*,)*\s*((\s*[_a-zA-Z]\w*\s*)|(\s*\(\s*(\s*[_a-zA-Z]\w*\s*,)*\s*[_a-zA-Z]\w*\s*\)\s*))\s*\)\s*))\s*\)\s*)|(\s*\s*(\s*((\s*((\s*[_a-zA-Z]\w*\s*)|(\s*\(\s*(\s*[_a-zA-Z]\w*\s*,)*\s*[_a-zA-Z]\w*\s*\)\s*))\s*)|(\s*\(\s*(\s*((\s*[_a-zA-Z]\w*\s*)|(\s*\(\s*(\s*[_a-zA-Z]\w*\s*,)*\s*[_a-zA-Z]\w*\s*\)\s*))\s*,)*\s*((\s*[_a-zA-Z]\w*\s*)|(\s*\(\s*(\s*[_a-zA-Z]\w*\s*,)*\s*[_a-zA-Z]\w*\s*\)\s*))\s*\)\s*))\s*,)*\s*((\s*((\s*[_a-zA-Z]\w*\s*)|(\s*\(\s*(\s*[_a-zA-Z]\w*\s*,)*\s*[_a-zA-Z]\w*\s*\)\s*))\s*)|(\s*\(\s*(\s*((\s*[_a-zA-Z]\w*\s*)|(\s*\(\s*(\s*[_a-zA-Z]\w*\s*,)*\s*[_a-zA-Z]\w*\s*\)\s*))\s*,)*\s*((\s*[_a-zA-Z]\w*\s*)|(\s*\(\s*(\s*[_a-zA-Z]\w*\s*,)*\s*[_a-zA-Z]\w*\s*\)\s*))\s*\)\s*))\s*\s*))=/.test(r[0])&&!i.test(r[0])&&!n.test(r[0])&&r[0].length>0&&(t.test(r[0])||(r.push("evaluationresult = "+r.pop()),r.push("if not evaluationresult == None: print repr(evaluationresult)"))),r}(e);!function(e){e.push('print("__END_OF_OUTPUT__")')}(r);try{!r||/^\s*$/.test(r)?t.resolve(""):window.Sk.importMainWithBody("<stdin>",!1,r.join("\n"))}catch(e){t.resolve(e.toString())}return t}}},{}],123:[function(e,t,n){"use strict";var i="waiting",r="processing";t.exports=function(e,t,n){var o,a=new WebSocket("wss://code.codehs.com:443/"+e),s="",u=i;return a.onmessage=function(e){var a=JSON.parse(e.data),l=a.name,c=a.data;"output"===l&&u===r&&(n(c)?(s+=t(c),o.resolve(s),s="",u=i):s+=t(c))},{stdin:function(e){if(u===i)return o=$.Deferred(),u=r,a.send(JSON.stringify({name:"stdin",data:e})),o}}}},{}],124:[function(e,t,n){var i=e("../../core/constants.js"),r=e("./createReplEvalElm.js"),o=e("./createReplEvalPython.js"),a=e("./createReplEvalJs.js"),s=e("./createReplConsole.js");t.exports=function(e){var t,n;if(function(e){return e.getProgrammingLanguage()===i.ProgrammingLanguage.ELM}(e))t=r(),n=s({welcomeString:["Welcome to the Elm REPL! Type a \\ character to write","multiline expressions."].join(" "),multlineCb:function(e){return-1!==e.trim().search(/\\$/)&&0}});else if(function(e){return e.getProgrammingLanguage()===i.ProgrammingLanguage.PYTHON}(e))t=o(),n=s({welcomeString:["Welcome to the Python REPL! Press Shift+Enter to write","multiline expressions."].join(" ")});else{if(!function(e){return e.getProgrammingLanguage()===i.ProgrammingLanguage.JAVASCRIPT&&!e.typeTester.isJsKarel()}(e))return;t=a(),n=s({welcomeString:["Welcome to the JavaScript REPL! Press Shift+Enter to write","multiline expressions."].join(" ")})}!function e(){n.promptForInput((function(i){t(i).then((function(t){n.writeToConsole(t.trim()),e()}))}))}()}},{"../../core/constants.js":58,"./createReplConsole.js":119,"./createReplEvalElm.js":120,"./createReplEvalJs.js":121,"./createReplEvalPython.js":122}],125:[function(e,t,n){"use strict";var i=e("./runners/baseRunner.js"),r=e("./runners/graphicsRunner.js"),o=e("./runners/htmlRunner.js"),a=e("./runners/consoleRunner.js"),s=e("./runners/karelRunner.js"),u=e("./runners/pythonRunner.js"),l=e("./runners/pythonTutorRunner.js"),c=e("./runners/javaRunner.js"),d=e("./runners/sqlRunner.js"),p=e("./runners/elmRunner.js"),h=e("./runners/processingRunner.js"),f=e("./runners/pixelRunner.js"),m=e("./runners/socketIoRunner.js"),g=e("./runners/socketIORunner2.js"),y=e("./runners/turtleRunner.js"),v=e("./runners/pythonKarelRunner.js"),_=e("./runners/markdownRunner.js"),b=e("./runners/reactNativeRunner.js"),w=e("./runners/alexaRunner.js");function E(e){this.editor=e}function S(e,t){return"long-polling"===e.socketIOTransportType?new m(e,t):new g(e,t)}E.prototype.create=function(){if(this.editor.typeTester.isGraphics())return new r(this.editor);if(this.editor.typeTester.isPixel())return new f(this.editor);if(this.editor.typeTester.isHTML())return new o(this.editor);if(this.editor.typeTester.isConsole())return new a(this.editor);if(this.editor.typeTester.isVanillaJS())return new a(this.editor);if(this.editor.typeTester.isPythonKarel())return new v(this.editor);if(this.editor.typeTester.isKarel())return new s(this.editor);if(this.editor.typeTester.isTurtle())return new y(this.editor);if(this.editor.typeTester.isPythonTutor())return new l(this.editor);if(this.editor.typeTester.isPython())return new u(this.editor);if(this.editor.typeTester.codeHubJava()){if(this.editor.graderExec)return;return new S(this.editor,"java")}if(this.editor.typeTester.isJava())return new c(this.editor);if(this.editor.typeTester.isC()){if(this.editor.graderExec)return;return new S(this.editor,"c")}if(this.editor.typeTester.isUnitTestCpp()){if(this.editor.graderExec)return;return new S(this.editor,"c++")}if(this.editor.typeTester.isCpp()){if(this.editor.graderExec)return;return new S(this.editor,"c++")}if(this.editor.typeTester.isPython2()){if(this.editor.graderExec)return;return new S(this.editor,"python2")}if(this.editor.typeTester.isPython3()){if(this.editor.graderExec)return;return new S(this.editor,"python3")}if(this.editor.typeTester.isPythonGraphics()){if(this.editor.graderExec)return;return new S(this.editor,"python3")}if(this.editor.typeTester.isPythonProcessing()){if(this.editor.graderExec)return;return new S(this.editor,"python3")}if(this.editor.typeTester.isPygame()){if(this.editor.graderExec)return;return new S(this.editor,"python3")}if(this.editor.typeTester.isPythonDataScience()){if(this.editor.graderExec)return;return new S(this.editor,"python3")}if(this.editor.typeTester.isScheme()){if(this.editor.graderExec)return;return new S(this.editor,"scheme")}if(this.editor.typeTester.isBash()){if(this.editor.graderExec)return;return new S(this.editor,"bash")}if(this.editor.typeTester.isSQL())return new d(this.editor);if(this.editor.typeTester.isUnitTestJavascript())return new a(this.editor);if(this.editor.typeTester.isUnitTestPython3()){if(this.editor.graderExec)return;return new S(this.editor,"python3")}if(this.editor.typeTester.isUnitTestPython())return new u(this.editor);if(this.editor.typeTester.isElm())return new p(this.editor);if(this.editor.typeTester.isProcessing())return new h(this.editor);if(this.editor.typeTester.isMarkdown())return new _(this.editor);if(this.editor.typeTester.isReactNative())return new b(this.editor);if(this.editor.typeTester.isAlexa())return new w(this.editor);if(this.editor.typeTester.isSwift()){if(this.editor.graderExec)return;return new S(this.editor,"swift")}if(this.editor.typeTester.isNode()){if(this.editor.graderExec)return;return new S(this.editor,"node")}return new i},t.exports=E},{"./runners/alexaRunner.js":126,"./runners/baseRunner.js":127,"./runners/consoleRunner.js":128,"./runners/elmRunner.js":129,"./runners/graphicsRunner.js":130,"./runners/htmlRunner.js":131,"./runners/javaRunner.js":132,"./runners/karelRunner.js":133,"./runners/markdownRunner.js":136,"./runners/pixelRunner.js":137,"./runners/processingRunner.js":138,"./runners/pythonKarelRunner.js":139,"./runners/pythonRunner.js":140,"./runners/pythonTutorRunner.js":141,"./runners/reactNativeRunner.js":142,"./runners/socketIORunner2.js":146,"./runners/socketIoRunner.js":147,"./runners/sqlRunner.js":148,"./runners/turtleRunner.js":155}],126:[function(e,t,n){"use strict";var i=e("../../utils/oop.js"),r=e("./baseRunner.js"),o="#js-echo-sim-iframe-1",a="#js-echo-sim-iframe-2",s="#js-echo-sim-iframe-3";function u(e){this.running=!1,this.editor=e,$("#js-echo-sim-button-1").on("click",(function(){$(o).show(),$(a).hide(),$(s).hide()})),$("#js-echo-sim-button-2").on("click",(function(){$(o).hide(),$(a).show(),$(s).hide()})),$("#js-echo-sim-button-3").on("click",(function(){$(o).hide(),$(a).hide(),$(s).show()}))}i.inherits(u,r),u.prototype.run=function(e){this.running=!0,$(o).show(),$("#js-mirror-buttons").show(),this.running=!1},u.prototype.stop=function(){this.running=!1},t.exports=u},{"../../utils/oop.js":192,"./baseRunner.js":127}],127:[function(e,t,n){"use strict";var i=e("../../utils/oop.js"),r=e("../../utils/eventEmitter.js");function o(e){this.running=!1,this.editor=e}o.prototype.supportsBreakpoints=function(){return!1},i.implement(o.prototype,r),t.exports=o},{"../../utils/eventEmitter.js":188,"../../utils/oop.js":192}],128:[function(e,t,n){"use strict";var i=e("../../utils/oop.js"),r=e("./baseRunner.js");function o(e){var t=this;t.running=!1,t.editor=e,t.__console__=new window.CodeHSConsole}i.inherits(o,r),o.prototype.run=function(e,t){var n=this;return n.stop(),n.running=!0,n.__console__.runCode(e,t)},o.prototype.stop=function(){this.running=!1},t.exports=o},{"../../utils/oop.js":192,"./baseRunner.js":127}],129:[function(e,t,n){"use strict";var i=e("../../utils/ajax.js"),r=e("../../utils/oop.js"),o=e("./baseRunner.js"),a=".elm-destination";function s(e){this.running=!1,this.editor=e}r.inherits(s,o),s.prototype.run=function(e){var t=this;t.stop(),t.running=!0,i.send({method:"compile_elm",app:"editor",type:"POST",data:{input:e},success:function(e){if("ok"===e.status){var n=$(a)[0].contentDocument;n.open(),n.write(e.result),n.close(),t.running=!1}}})},s.prototype.stop=function(){var e=$(a)[0].contentDocument;e.open(),e.writeln(""),e.close(),this.running=!1},t.exports=s},{"../../utils/ajax.js":185,"../../utils/oop.js":192,"./baseRunner.js":127}],130:[function(e,t,n){"use strict";var i=e("../../utils/oop.js"),r=e("./baseRunner.js");function o(){this.running=!1,this.__graphics__=new window.CodeHSGraphics({canvas:$(".codehs-editor-canvas")})}i.inherits(o,r),o.prototype.run=function(e,t){var n=this;return n.stop(),n.running=!0,n.helperCode&&(e=n.helperCode+e),n.__graphics__.runCode(e,t)},o.prototype.stop=function(){var e=this;e.__graphics__.removeAll(),e.__graphics__.fullReset(),e.running=!1},t.exports=o},{"../../utils/oop.js":192,"./baseRunner.js":127}],131:[function(e,t,n){"use strict";var i=e("../../utils/oop.js"),r=e("./baseRunner.js"),o="html-destination",a="#html";function s(e){this.running=!1,this.editor=e}i.inherits(s,r),s.prototype.run=function(e){var t=this;t.running=!0;var n=$("<iframe>");n.addClass(o),$(a).html(n);var i,r=n.get(0).contentDocument,s=1===Object.keys(e).length&&!t.editor.isOwnPage();if(window.HOC_LOGGED_OUT_PLAYLIST_EDITOR||s){if(r.open(),r.write(t.editor.getCode()),r.close(),Object.keys(e).length>1){var u=window.location.pathname.replace("playlist","html"),l=u.substring(0,u.lastIndexOf("/"));n.on("load",(function(){var e,t;n.contents().find("link").each((function(){t=$(this),(e=t.attr("href").trim()).startsWith("http://")||e.startsWith("https://")||e.startsWith("//")||(e.startsWith("/")||(e="/"+e),t.attr("href",l+e))}))}))}}else if(t.editor.isOwnPage())i=t.editor.studentAssignmentID?"/editor/html/"+t.editor.itemID+"/"+t.editor.codeUserID+"/"+t.editor.studentAssignmentID+"/"+t.editor.mainClass:"/editor/html/"+t.editor.itemID+"/"+t.editor.codeUserID+"/"+t.editor.mainClass,n.attr("src",i);else{var c,d,p,h;n.on("load",(function(){var e,t,i,r;p=n.get(0).contentDocument,(d=n.contents()).find("a").on("click",(function(e){if(c=$(this).attr("href").trim(),!g.hasOwnProperty(c))return!0;e.preventDefault(),n.attr("src",g[c])})),d.find("script").each((function(){e=$(this).attr("src").trim(),g.hasOwnProperty(e)&&((t=p.createElement("script")).type="text/javascript",t.src=g[e],p.body.appendChild(t))})),d.find("link").each((function(){r=$(this),i=r.attr("href").trim(),g.hasOwnProperty(i)&&r.attr("href",g[i])}))})),t.editor.currentCode[t.editor.activeFile]=t.editor.getCode();var f,m,g={},y=t.editor.currentCode,v=!0,_=/[^.]*$/;Object.keys(y).forEach((function(e){h=y[e],f=e.match(_)[0].toLowerCase(),m=function(e){switch(e){case"html":return"text/html";case"css":return"text/css";case"js":return"text/javascript"}}(f),m||(v=!1),g[e]=URL.createObjectURL(new Blob([h],{type:m}))})),i=v?g[t.editor.mainClass]:"/editor/html/"+t.editor.itemID+"/"+t.editor.codeUserID+"/"+t.editor.mainClass,n.attr("src",i)}t.running=!1},s.prototype.stop=function(){var e=$("<iframe>");e.addClass(o),$(a).html(e),this.running=!1},t.exports=s},{"../../utils/oop.js":192,"./baseRunner.js":127}],132:[function(e,t,n){"use strict";var i=e("../javaErrors.js"),r=e("../../../lib/codehs/chs-js-lib/graphics"),o=e("../../utils/oop.js"),a=e("./baseRunner.js"),s=e("./serverRunner.js"),u="__unittests__";function l(e){var t=this;t.editor=e,t.running=!1,t.serverRunner=new s("java",new i(e)),t.editor.typeTester.isJavaGraphics()&&(t.__graphics__=new r.CodeHSGraphics({canvas:$(".codehs-editor-canvas")}))}o.inherits(l,a),l.prototype.run=function(e,t){var n=this;n.running=!0;var i=n.serverRunner.run(e,t),r=$.Deferred();return i.done((function(e){if(n.editor.typeTester.isJavaGraphics()){n.__graphics__.removeAll(),n.__graphics__.fullReset();for(var t="",i=0;i<e.length;i++){var o=e[i];_.startsWith(o,"js:")&&(t+=o.substring(3))}n.__graphics__.runCode(t)}e=e.join(""),_.includes(e,u)&&n.serverRunner.replConsole.reset(),e=e.split(u)[1];try{e=JSON.parse(e).tests}catch(t){e=[]}r.resolve(e),n.running=!1})),r},l.prototype.stop=function(){var e=this;e.running=!1,e.serverRunner.stop(),e.editor.typeTester.isJavaGraphics()&&(e.__graphics__.removeAll(),e.__graphics__.fullReset())},l.prototype.showLoading=function(){this.serverRunner.showLoading()},l.prototype.hideLoading=function(){this.serverRunner.hideLoading()},l.prototype.connect=function(e){this.serverRunner.connect(e)},l.prototype.getOutput=function(){this.serverRunner.getOutput()},t.exports=l},{"../../../lib/codehs/chs-js-lib/graphics":208,"../../utils/oop.js":192,"../javaErrors.js":80,"./baseRunner.js":127,"./serverRunner.js":144}],133:[function(e,t,n){"use strict";var i=e("../../core/constants.js"),r=e("../editorUtils.js"),o=e("../karel/karel.js"),a=e("../karel/karelWorld.js"),s=e("../karel/karelBuiltins.js"),u=e("./karelRunner.preprocessor.js"),l=e("../errors.js"),c=e("../../../lib/codehs/chs-js-lib/graphics"),d=e("../../utils/ajax.js"),p=e("../../utils/oop.js"),h=e("./baseRunner.js"),f=".sidebar-canvas";function m(e){this.editor=e,this.isSuperKarel="superkarel"==this.editor.progTypeString||"java-superkarel"==this.editor.progTypeString,this.isUltraKarel="ultrakarel"==this.editor.progTypeString||"java-ultrakarel"==this.editor.progTypeString,this.onBreakpoint=!1,this.justSeenBreakpoint=-1,this.worlds=this.editor.worlds.concat(this.editor.user_worlds),this.commandIndex=0,this.inGradingMode=!1,this.paused=!1,this.firstDraw=!0,this.curWorld,this.commands=[],this.solutions=[],this.builtIns=new s(this),this.delayTime=200,this.SPEED=e.karelSliderSpeed,this.tester=new m.Tester(e,this)}p.inherits(m,h),m.Tester=e("./karelRunner.tester.js"),m.prototype.init=function(e){if(e=e||{},0!==$(".codehs-editor-canvas").length){this.headless=e.headless||!1,this.__graphics__=this.headless?void 0:new c.CodeHSGraphics({canvas:$(".codehs-editor-canvas")}),this.headless||c.Text.giveDefaultContext(this.__graphics__),this.loadWorld(this.worlds[0]),this.setSpeed(this.SPEED/100),this.setupEvents(),this._publish("updateCanvas");$(".ex-result-world").each((function(){a.quickDraw($(this),$(this).attr("data-world"),360,!0)}))}else this._publish("updateCanvas",{canvasId:-1})},m.prototype.setupEvents=function(){var e=this;$("#speed_slider").slider({slide:function(t,n){e.setSpeed(n.value/100),100==n.value?(e.editor.clearHighlightedLines(),e.editor.highlight=!1):e.editor.highlight=!0},stop:function(e,t){d.send({method:"set_karel_slider_speed",app:"editor",data:{speed:t.value}})},value:this.SPEED}),$("#karelworld").on("change",(function(){var t=$(this).find(":selected");if(t.hasClass("edit-worlds"))window.location.href=$(this).val();else{var n=t.attr("data-world"),i=e.loadWorldById(n);e.updateSidebarCanvas(i)}})),setTimeout((function(){var t=$("#karelworld").find(":selected").attr("data-world"),n=e.loadWorldById(t);e.updateSidebarCanvas(n)}),500)},m.prototype.updateSidebarCanvas=function(e){var t="<canvas ";t+='class="sidebar-canvas"',t+='rel="'+$(f).attr("rel")+'"',t+='data-placement="'+$(f).attr("data-placement")+'"',t+='data-trigger="'+$(f).attr("data-trigger")+'"',t+='data-content="'+$(f).attr("data-content")+'"',t+="></canvas>",$(f).replaceWith(t),this._publish("updateCanvas",{canvasId:e})},m.prototype.usingSuperKarel=function(){return this.isSuperKarel},m.prototype.usingUltraKarel=function(){return this.isUltraKarel},m.prototype.pushCommand=function(e){this.commands.push(e)},m.prototype.setup=function(){this.headless||(this.curWorld.draw(),this.__graphics__.redraw())},m.prototype.reset=function(){this.commands=[],this.commandIndex=0,this.onBreakpoint=!1,this.justSeenBreakpoint=-1,this.headless||(this.curWorld.reset(),this.__graphics__.globalTimer=!1,this.__graphics__.stopTimer("celebration"),this.__graphics__.redraw()),this.tester.hideMessage()},m.prototype.loadWorld=function(e){var t,n=this,i=e;this.tester.hideMessage(),this.headless||(this.__graphics__.globalTimer=!1,this.__graphics__.setSize(400,400)),this.editor.customKarelBall&&(t={karelBallSettings:this.editor.customKarelBall}),this.curWorld=new a(i,this.__graphics__,t),this.curWorld=new a(i,this.__graphics__),this.setup(),this.reset(),this.firstDraw&&(setTimeout((function(){n.reset()}),500),this.firstDraw=!1)},m.prototype.loadWorldById=function(e){for(var t=0;t<this.worlds.length;t++){var n=this.worlds[t];if(n.id==e)return this.loadWorld(n),t}return-1},m.prototype.animateFromIndex=function(e){var t=this;this.commandIndex=e,setTimeout((function(){t.runOneStep()}),this.delayTime),this.__graphics__.redraw()},m.prototype.animate=function(){this.animateFromIndex(this.commandIndex)},m.prototype.restart=function(){this.unpause(),0==this.delayTime&&(this.editor.clearHighlightedLines(),this.editor.highlight=!1),this.animateFromIndex(this.commandIndex)},m.prototype.pause=function(){this.paused=!0,this.editor.highlight=!0,this.editor.setPauseButton(this.paused)},m.prototype.unpause=function(){this.paused=!1,0==this.delayTime&&(this.editor.clearHighlightedLines(),this.editor.highlight=!1),this.editor.setPauseButton(this.paused)},m.prototype.drawError=function(e){var t,n=e.c;t=n==o.ERROR_NO_BEEPERS?"No tennis balls to pick up!":n==o.ERROR_CRASH_INTO_WALL?"Karel Crashed into a Wall! <br>(Do you have an extra move() command?)":n==o.INFINITE_LOOP?"Karel is in an infinite loop!":"Karel Error!",l.show({editor:this.editor,message:t,lineNumber:e.l,langType:"javascript",progtype:this.editor.progtype,log:!1})},m.prototype.commandListGenerated=function(){return this.commands.length>0},m.prototype.supportsBreakpoints=function(){return!0},m.prototype.testBreakpoint=function(e){var t=this;for(var n in t.editor.breakpoints)if(t.editor.breakpoints.hasOwnProperty(n)&&t.editor.breakpoints[n].hasOwnProperty(e)){if(!t.onBreakpoint)return t.editor.breakpoints[n][e].justSeen=!0,t.editor.breakpoints[n][e].timesHit++,t.justSeenBreakpoint=e,t.pause(),t.editor.highlightLine(e),t.onBreakpoint=!0,!0;t.onBreakpoint=!1}return!1},m.prototype.runOneStep=function(){var e=this,t=this.commands[this.commandIndex];if(void 0!==t&&t.hasOwnProperty("c")){var n=t.c,i=t.l;if(e.editor.highlightLine(i),n==o.FOR_LOOP&&t.hasOwnProperty("s")&&this.editor.showForLoopVars(t.s),!this.testBreakpoint(i)){if(n<0)return this.drawError(t),void this.__graphics__.redraw();if(this.commandIndex<this.commands.length-1&&(this.paused||setTimeout((function(){e.runOneStep()}),this.delayTime)),this.curWorld.animate(t),this.paused&&e.editor.goToLine(t.l),this.commandIndex++,this.commandIndex>=this.commands.length){var r=this.tester.testSolution({autograding:!1});this.editor.finishedProgram(r)}else this.__graphics__.redraw()}}},m.prototype.reverseOneStep=function(){var e=this;e.commandIndex-=e.commandIndex>0;var t=e.commands[e.commandIndex];if(void 0!==t&&t.hasOwnProperty("c")){var n=t.c,i=t.l;if(e.editor.highlightLine(i),n===o.FOR_LOOP&&t.hasOwnProperty("s")&&e.editor.showForLoopVars(t.s),n<0)return e.drawError(t),void e.__graphics__.redraw();e.curWorld.animateBackwards(t),e.paused&&e.editor.goToLine(t.l),e.__graphics__.redraw()}},m.prototype.stepForward=function(e){this.commandListGenerated()||(this.generateCommandList(e),this.curWorld.reset()),this.pause(),this.runOneStep()},m.prototype.stepBackward=function(e){this.commandListGenerated()||(this.generateCommandList(e),this.curWorld.reset()),this.pause(),this.reverseOneStep()},m.prototype.setSpeed=function(e){e=2+798*e,this.delayTime=800-e},m.prototype.generateCommandList=function(e){var t=u.run(e,this.isSuperKarel,this.isUltraKarel,this.editor.getProgrammingLanguage());return t.success?(this.reset(),t=r.safeEval(t.code,this,"__karelRunner__"),this.pushCommand({c:o.PROGRAM_COMPLETE,l:-1}),t):{hasError:!0}},m.prototype.run=function(e,t){this.unpause();var n=t.isRunning||!1,i={result:"",hasError:!1};return n||(t.pythonCommandList?this.commands=t.pythonCommandList:i=this.generateCommandList(e)),t.grading||i.hasError||(n||this.curWorld.reset(),this.animate()),i},m.prototype.stop=function(){this.reset(),this.editor.setRunButtonText("Run!")},m.prototype.getCurrentSolutionWorld=function(){return void 0!==this.curWorld.solution_world?new a(this.curWorld.solution_world):null},m.prototype.useGraphics=function(e){this.__graphics__=e},m.prototype.validateCondition=function(){var e=this.commands.length;return!(e>0&&this.commands[e-1]<0)},m.prototype.getWorld=function(){return this.curWorld},m.prototype.applyCommandsToWorld=function(e,t){return $(t).each((function(t){var n=$(this)[0],i=n.c;return i<0||isNaN(i)?(e.reset(),!0):(i==o.MOVE&&e.move(),i==o.TURN_LEFT&&e.turnLeft(),i==o.TURN_RIGHT&&e.turnRight(),i==o.TURN_AROUND&&e.turnAround(),i==o.PUT_BEEPER&&e.putBall(),i==o.PICK_BEEPER&&e.takeBall(),void(i==o.PAINT&&e.paint(n.color)))})),!1},m.prototype.setGradingMode=function(e){this.inGradingMode=e},m.prototype.getCommands=function(){return this.commands},m.prototype.infiniteLoopDetector=function(e){this.counter=o.INFINITE_LOOP_COUNTER_MAX;var t=e;this.dec=function(){if(this.counter--,this.counter<=0){var e=new Error;t.pushCommand({c:o.INFINITE_LOOP,l:r.lineNumberFromError(e)})}return this.counter>0}},m.prototype.celebrate=function(e){var t=this,n=this.curWorld.karel,r={dx:null,dy:null,x:null,y:null,gravity:2};var o={originalWidth:n.getWidth(),rotation:n.rotation,dRotation:.26,dSize:1.05};e===i.KarelCelebration.SOLITAIRE?t.__graphics__.setTimer((function(){var e=new c.WebImage(n.filename);e.setRotation(n.rotation,1),null==r.x&&(r.dx=c.Randomizer.nextInt(2,5),r.dy=c.Randomizer.nextInt(-8,0),r.x=n.getX(),r.y=n.getY(),n.getX()>t.__graphics__.getWidth()/2&&(r.dx*=-1));var i=r.x+r.dx,o=r.y+r.dy;e.setPosition(i,o),e.setSize(n.getWidth(),n.getHeight()),t.__graphics__.add(e),e.getY()+e.getHeight()>=t.__graphics__.getHeight()?r.dy=.9*-Math.abs(r.dy):r.dy+=r.gravity,r.x=i,r.y=o,(r.x>=t.__graphics__.getWidth()||r.x<-n.getWidth())&&(r.x=null,r.y=null)}),20,{},"celebration"):e===i.KarelCelebration.SPIN&&t.__graphics__.setTimer((function(){var e=o.dSize,i=o.rotation+o.dRotation;o.rotation=i,n.setRotation(i,1),n.setSize(n.getWidth()*e,n.getHeight()*e),n.getWidth()>t.__graphics__.getWidth()?o.dSize=.95:n.getWidth()<=o.originalWidth&&(o.dSize=1.05)}),40,{},"celebration")},m.prototype.__forLoop__=function(e,t){this.pushCommand({c:o.FOR_LOOP,l:e,s:t})},t.exports=m},{"../../../lib/codehs/chs-js-lib/graphics":208,"../../core/constants.js":58,"../../utils/ajax.js":185,"../../utils/oop.js":192,"../editorUtils.js":73,"../errors.js":76,"../karel/karel.js":82,"../karel/karelBuiltins.js":83,"../karel/karelWorld.js":86,"./baseRunner.js":127,"./karelRunner.preprocessor.js":134,"./karelRunner.tester.js":135}],134:[function(e,t,n){"use strict";var i=e("../../core/constants.js"),r=e("../editorUtils.js"),o=e("../karel/karelUtils.js"),a=e("../karel/karelErrors.js");t.exports={run:function(e,t,n,s){if(e=r.removeComments(e),new a({code:e,checkMissingParens:!0,checkUndefinedCondition:!0,checkInvalidFunctionDeclaration:!0,checkHasFunctionRedefinition:!0,checkHasSemicolonInFunctionDef:!0,checkMisspelledFunction:!0,checkValidCommands:s!==i.ProgrammingLanguage.JAVA}).hasErrors())return{code:e,success:!1};e=r.makeSafeForInfiniteLoops(e),e=o.preprocessWithLineNums({code:e,usingSuperKarel:t,usingUltraKarel:n});var u=function(e,t){for(var n=o.getBuiltIns(e,t),i="\n",r=0;r<n.length;r++){var a=n[r];i+="function "+a+"(){\n\treturn __karelRunner__.builtIns."+a+".apply(__karelRunner__, arguments);\n}\n"}return i}(t,n),l="";return l+=u,l+=e,{code:e=l+="\n\nif(typeof start == 'function') {start();} ",success:!0}}}},{"../../core/constants.js":58,"../editorUtils.js":73,"../karel/karelErrors.js":84,"../karel/karelUtils.js":85}],135:[function(e,t,n){"use strict";var i=e("../../core/constants.js"),r=e("../karel/karel.js"),o=e("../karel/karelUtils.js"),a="#tester-message";function s(e,t){this.editor=e,this.karelRunner=t}s.prototype.worldsAreEquivalent=function(e,t){var n,r,a=window.pageSpecific.preferredLang;if("es"===a)n="<strong>Gran trabajo!</strong> Lo lograste!";else n="<strong>Nice job!</strong> You got it!";this.editor.getInfo().itemType==i.ItemType.EXAMPLE&&(n+=' <a href="#" id="inline-next-button">Continue.</a>');var s,u,l={success:!0,message:n};if(e.rows==t.rows&&e.cols==t.cols||(l.success=!1,l.message="<strong>Oops!</strong> Something's wrong here."),e.karelDir!=t.karelDir&&null!=t.karelDir&&-1!=t.karelDir){if("es"===a)n="<strong>Ups!</strong> Karel debera estar mirando hacia el "+o.dirName(t.karelDir)+"pero est mirando hacia el "+o.dirName(e.karelDir);else n="<strong>Oops!</strong> Karel should be facing "+o.dirName(t.karelDir)+" but is facing "+o.dirName(e.karelDir);l.success=!1,l.message=n}if(e.karelRow!=t.karelRow&&null!=t.karelRow){l.success=!1;var c=parseInt(e.karelRow)+1,d=parseInt(t.karelRow)+1;if("es"===a)r=["<strong>Ups!</strong> ","Karel debera estar en la fila ",d.toString()," pero est en la fila ",c.toString()];else r=["<strong>Oops!</strong> ","Karel should be on row ",d.toString()," but is on row ",c.toString()];l.message=r.join("")}if(e.karelCol!=t.karelCol&&null!=t.karelCol){l.success=!1;var p=parseInt(e.karelCol)+1,h=parseInt(t.karelCol)+1;if("es"===a)r=["<strong>Ups!</strong> ","Karel debera estar en la columna ",h.toString()," pero est en la columna ",p.toString()];else r=["<strong>Oops!</strong> ","Karel should be on column ",h.toString()," but is on column ",p.toString()];l.message=r.join("")}for(var f=0;f<e.rows;f++)for(var m=0;m<e.cols;m++){var g=e.grid.get(f,m),y=t.grid.get(f,m);if(g!=y){l.success=!1;var v=1==y?"":"s";if(s=f+1,u=m+1,"es"===a)r="<strong>Ups!</strong> Debera haber "+y+" pelota"+v+" en ("+s+", "+u+") pero all hay "+g;else r="<strong>Oops!</strong> There should be "+y+" ball"+v+" at ("+s+", "+u+") but there "+(1==g?"is":"are")+" "+g;l.message=r}}if(this.editor.typeTester.isUltraKarel()){var _=i.KarelWorld.RANDOM_COLOR;for(f=0;f<e.rows;f++)for(m=0;m<e.cols;m++){var b=e.colors.get(f,m),w=t.colors.get(f,m),E="#ffffff";b=b?b.toLowerCase():E,((w=w?w.toLowerCase():E)===_&&b==E||b!==w&&w!==_)&&(l.success=!1,s=f+1,u=m+1,l.message="<strong>Oops!</strong> The color at ("+s+", "+u+") is not the proper color.")}}return l},s.prototype.hasError=function(){for(var e=this.karelRunner.getCommands(),t=0;t<e.length;t++)if(e[t].c<=r.ERROR)return!0;return!1},s.prototype.testSolution=function(e){var t=e.autograding,n=this.karelRunner.getCurrentSolutionWorld(),i=this.karelRunner.getWorld();if(null!=n){var r=this.worldsAreEquivalent(i,n);return t||($(a).html(r.message),r.success?($(a).removeClass("gone").removeClass("alert-danger").addClass("alert-info"),this.editor.turnSubmitButtonGreen(),this.editor.karelCelebration&&this.karelRunner.celebrate(this.editor.karelCelebration)):$(a).removeClass("gone").removeClass("alert-info").addClass("alert-danger"),this.editor.setupSubmitButton(),this.editor.setupNextButton()),r.success=!this.hasError()&&r.success,r}},s.prototype.hideMessage=function(){$(a).addClass("gone")},t.exports=s},{"../../core/constants.js":58,"../karel/karel.js":82,"../karel/karelUtils.js":85}],136:[function(e,t,n){"use strict";e("../../core/constants.js");var i=e("../../core/pubSub.js"),r=e("../../utils/oop.js"),o=(i=e("../../core/pubSub.js"),e("./baseRunner.js"));function a(e){this.editor=e}r.inherits(a,o),a.prototype.run=function(e){this.running=!0;var t=e;$("#markdown-runner-destination").attr("data-markdown",t),i.trigger("CHS.Utils.markdown:setup")},a.prototype.stop=function(){$("#markdown-runner-destination").data("markdown",""),$("#markdown-runner-destination").html("")},t.exports=a},{"../../core/constants.js":58,"../../core/pubSub.js":60,"../../utils/oop.js":192,"./baseRunner.js":127}],137:[function(e,t,n){"use strict";var i=e("es6-template-strings"),r=e("../../utils/oop.js"),o=e("./baseRunner.js"),a=e("./graphicsRunner.js"),s=e("./templates/pixel.js.txt");function u(){this.running=!1,this.graphicsRunner=new a}r.inherits(u,o),u.prototype.run=function(e){e=i(s,{studentCode:e}),this.graphicsRunner.run(e)},u.prototype.stop=function(){this.graphicsRunner.stop()},t.exports=u},{"../../utils/oop.js":192,"./baseRunner.js":127,"./graphicsRunner.js":130,"./templates/pixel.js.txt":150,"es6-template-strings":416}],138:[function(require,module,exports){"use strict";var oop=require("../../utils/oop.js"),BaseRunner=require("./baseRunner.js");function ProcessingRunner(){this.running=!1,this.canvas=$(".codehs-editor-canvas")[0]}oop.inherits(ProcessingRunner,BaseRunner),ProcessingRunner.prototype.run=function(code){var self=this;self.stop(),self.running=!0;var beginning="void setup() { size(400, 480); ",end="}",wrap=beginning+code+end,compiledJs=Processing.compile(wrap),sourceCode=compiledJs.sourceCode,processingSetupFunction=eval(sourceCode);return self.instance=new Processing(self.canvas,processingSetupFunction),self.instance},ProcessingRunner.prototype.stop=function(){var e=this;void 0!==e.instance&&e.instance.exit(),e.running=!1},module.exports=ProcessingRunner},{"../../utils/oop.js":192,"./baseRunner.js":127}],139:[function(require,module,exports){"use strict";var template=require("es6-template-strings"),oop=require("../../utils/oop.js"),KarelUtils=require("../karel/karelUtils.js"),C=require("../../core/constants.js"),BaseRunner=require("./baseRunner.js"),PythonRunner=require("./pythonRunner.js"),KarelRunner=require("./karelRunner.js"),karelPythonTemplate=require("./templates/karelPythonTemplate.txt"),superKarelAddonsPythonTemplate=require("./templates/superKarelAddonsPythonTemplate.txt"),ultraKarelAddonsPythonTemplate=require("./templates/ultraKarelAddonsPythonTemplate.txt");function PythonKarelRunner(e,t){var n=this;n.running=!1,n.editor=e,n.worlds=e.worlds.concat(e.user_worlds),n.pythonRunner=new PythonRunner(e,t),n.karelRunner=new KarelRunner(e),n.karelRunner.init(t),n.tester=n.karelRunner.tester}oop.inherits(PythonKarelRunner,BaseRunner),PythonKarelRunner.prototype.run=function(e){var t=this,n=$.Deferred();return t.pythonRunner.run(e,{preprocess:!0}).then((function(){var i=t.getCommandList(e),r=t.karelRunner.run(e,{pythonCommandList:i});n.resolve(r)})).catch((function(e){"NameError"!==e.__proto__.tp$name&&n.reject()})),n},PythonKarelRunner.prototype.getCommandList=function(code){var self=this,world=self.karelRunner.getWorld(),usingUltraKarel=self.editor.getProgramType()==C.ProgramType.PYTHON_ULTRA_KAREL,usingSuperKarel=usingUltraKarel||self.editor.getProgramType()==C.ProgramType.PYTHON_SUPER_KAREL,processedCode=KarelUtils.preprocessWithLineNums({code:code,usingSuperKarel:usingSuperKarel,usingUltraKarel:usingUltraKarel,usingPython:!0}),superKarelAddons="",ultraKarelAddons="";usingSuperKarel&&(superKarelAddons=template(superKarelAddonsPythonTemplate,{})),usingUltraKarel&&(ultraKarelAddons=template(ultraKarelAddonsPythonTemplate,{})),code=template(karelPythonTemplate,{studentCode:processedCode,rows:world.info.rows,cols:world.info.cols,start:JSON.stringify(world.info.start),startRow:world.karelStartRow,startCol:world.karelStartCol,dir:world.info.dir,balls:JSON.stringify(world.info.beepers||[]),walls:JSON.stringify(world.info.walls||[]),world:JSON.stringify(world.info),colors:JSON.stringify(world.colors.grid.map((function(e){return e.map((function(e){return null===e?0:e}))}))||[]),superKarelAddons:superKarelAddons,ultraKarelAddons:ultraKarelAddons}),self.pythonRunner.run(code,{stripHighlightLines:!0});var fullOutput=self.pythonRunner.getOutput();window.fullOutput=fullOutput;var output=eval(fullOutput[fullOutput.length-2]);return window.theOutput=output,output},PythonKarelRunner.prototype.stepForward=function(e){var t=this;t.karelRunner.commandListGenerated()||(t.karelRunner.commands=t.getCommandList(e)),t.karelRunner.stepForward(e)},PythonKarelRunner.prototype.stepBackward=function(e){this.karelRunner.stepBackward(e)},PythonKarelRunner.prototype.restart=function(){this.karelRunner.restart()},PythonKarelRunner.prototype.pause=function(){this.karelRunner.pause()},PythonKarelRunner.prototype.unpause=function(){this.karelRunner.unpause()},PythonKarelRunner.prototype.setGradingMode=function(e){this.karelRunner.setGradingMode(e)},PythonKarelRunner.prototype.getWorld=function(){return this.karelRunner.getWorld()},PythonKarelRunner.prototype.loadWorld=function(e){this.karelRunner.loadWorld(e)},PythonKarelRunner.prototype.loadWorldById=function(e){return this.karelRunner.loadWorldById(e)},PythonKarelRunner.prototype.stop=function(){this.pythonRunner.stop(),this.karelRunner.stop()},module.exports=PythonKarelRunner},{"../../core/constants.js":58,"../../utils/oop.js":192,"../karel/karelUtils.js":85,"./baseRunner.js":127,"./karelRunner.js":133,"./pythonRunner.js":140,"./templates/karelPythonTemplate.txt":149,"./templates/superKarelAddonsPythonTemplate.txt":151,"./templates/ultraKarelAddonsPythonTemplate.txt":154,"es6-template-strings":416}],140:[function(e,t,n){"use strict";e("../../core/log.js");var i=e("../../core/constants.js"),r=e("../../utils/oop.js"),o=e("../editorUtils.js").safeSkulpt,a=e("../repls/createReplConsole.js"),s=e("./baseRunner.js");function u(t,n){var r=this;n=n||{},r.editor=t,e("./skulptFileMonkeyPatch.js")(t),window.Sk.configure({inputfun:r.input.bind(r),output:r.output.bind(r),read:r.read.bind(r)}),r.replConsole=a({welcomeString:"",promptLabel:""}),$(".jqconsole-cursor").css("visibility","hidden"),r.dontPrint=n.dontPrint||!1,r.consoleOutput=[],t.getProgramType()==i.ProgramType.PYTHON&&($(".codehs-editor-canvas").hide(),$("#console").css("height","400px")),t.getProgramType()!=i.ProgramType.PYTHON_CANVAS&&t.getProgramType()!=i.ProgramType.PYTHON_TURTLE||$(".repl-terminal").css({height:"100px",width:"400px",margin:"0px 10px 10px 12px"})}r.inherits(u,s),u.prototype.getOutput=function(){return this.consoleOutput},u.prototype.output=function(e){this.consoleOutput.push(e),this.dontPrint||this.replConsole.writeToConsole(e,!0)},u.prototype.read=function(e){var t=e.split("/").pop();if(window.Sk.builtinFiles.files[e])return window.Sk.builtinFiles.files[e];if(this.editor.currentCode[t])return this.editor.currentCode[t];throw"File not found: '"+e+"'"},u.prototype.input=function(e){var t=this;return $(".jqconsole-cursor").css("visibility","visible"),t.replConsole.writeToConsole(e,!0),new Promise((function(e){return t.replConsole.promptForInput((function(t){e(t),$(".jqconsole-cursor").css("visibility","hidden")}))}))},u.prototype.stop=function(e){$(".jqconsole-cursor").css("visibility","hidden"),$("#python-canvas").html(""),this.replConsole.reset()},u.prototype.run=function(e,t){t=t||{};var n=this;n.stop();var i=o("<stdin>",!1,e,!0,t);return i.then((function(){n.editor.save()})),i.catch((function(e){n.consoleOutput=[]})),i},t.exports=u},{"../../core/constants.js":58,"../../core/log.js":59,"../../utils/oop.js":192,"../editorUtils.js":73,"../repls/createReplConsole.js":119,"./baseRunner.js":127,"./skulptFileMonkeyPatch.js":145}],141:[function(e,t,n){"use strict";e("../../core/log.js");var i=e("../../utils/alert.js"),r=e("../../core/constants.js");e("../../utils/oop.js"),e("./baseRunner.js");function o(e){var t=this;t.editor=e,$(".js-python-tutor-run").on("click",(function(){var n=e.getCode();e.getProgrammingLanguage()==r.ProgrammingLanguage.JAVASCRIPT&&(n+="\n\n// Your program starts on Step 4.",n+="\n// These lines are required for debugging mode.\n",n+="var println = console.log;",n+="var readInt = function(){return 1;};",n+='var readLine = function(){return "";};',n+="var readFloat = function(){return 1;};",n+="var readBoolean = function(){return true;};",n+="if(typeof start == 'function') {start();} "),t.run(n)}))}o.prototype.getPythonTutorLanguageCode=function(){var e=this.editor.getProgrammingLanguage();return e==r.ProgrammingLanguage.JAVASCRIPT?"js":e==r.ProgrammingLanguage.PYTHON?"2":e==r.ProgrammingLanguage.JAVA?"java":"2"},o.prototype.run=function(e){var t='<iframe width="1000" height="500" frameborder="0" ';t+='src="https://pythontutor.com/iframe-embed.html#code=',t+=encodeURIComponent(e),t+="&origin=opt-frontend.js&cumulative=false&heapPrimitives",t+="=false&textReferences=false&py=",t+=this.getPythonTutorLanguageCode(),t+="&rawInputLstJSON=%5B%5D",t+='&curInstr=0&codeDivWidth=450&codeDivHeight=500"> </iframe>',i({header:"Debugging: "+window.pageSpecific.itemTitle,message:"",rawHtml:t,button:"Close",buttonClass:"btn-main",cancelButton:!1}),$(".modal-dialog").css("width","90%")},t.exports=o},{"../../core/constants.js":58,"../../core/log.js":59,"../../utils/alert.js":186,"../../utils/oop.js":192,"./baseRunner.js":127}],142:[function(e,t,n){"use strict";var i=e("../../utils/oop.js"),r=e("./baseRunner.js");function o(e){var t=this;t.running=!1,t.editor=e;$(".jqconsole-cursor").css("visibility","hidden"),t.runWebPlayer=function(e,t){var n=$("#editor-react-web-player").attr("src"),i=e.replace("paddingTop: Constants.statusBarHeight,","");$(".error-message").remove();var r=encodeURIComponent(i);-1==r.search("AppRegistry")&&$(".simulator-instructions").append('<p class="error-message" style="color:red">Looks like you forgot to import AppRegistry on line 2!</p>'),r+='%0AAppRegistry.registerComponent("App"%2C%20()%20%3D%3E%20App)%3B';var o=n.search("&code=");-1!==o&&(n=n.substring(0,o)),(e.match(/Image/g)||[]).length>1&&(n+="&scale=0.75"),n+="&code="+r,$("#editor-react-web-player").remove();var a=$("<iframe>");a.attr("width",480).attr("height",425).attr("frameborder",0).attr("src",n).attr("id","editor-react-web-player"),$(".react-native-player-section").append(a)},t.runWebPlayer("\nimport React, { Component } from 'react';\nimport { AppRegistry, Text, View, StyleSheet } from 'react-native';\nimport { Constants } from 'expo';\n\nexport default class App extends Component {\n    render() {\n        return (\n            <View style={styles.container}>\n                <Text style={styles.paragraph}>\n                    Press <b>Run Code</b> to see changes\n                </Text>\n            </View>\n        );\n    }\n}\n\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n        alignItems: 'center',\n        justifyContent: 'center',\n        paddingTop: 5,\n        backgroundColor: '#ecf0f1',\n    },\n    paragraph: {\n        margin: 24,\n        fontSize: 18,\n        fontWeight: 'bold',\n        textAlign: 'center',\n        color: '#34495e',\n    },\n});\n")}i.inherits(o,r),o.prototype.run=function(e){var t=this;t.running=!0,t.editor.typeTester.isReactNative()&&(t.runWebPlayer(e,!1),t.editor.updateReactNativeQR(e))},o.prototype.stop=function(){this.running=!1},t.exports=o},{"../../utils/oop.js":192,"./baseRunner.js":127}],143:[function(e,t,n){"use strict";var i,r,o,a=e("../../core/pubSub.js"),s=function(){i=$.Deferred(),r=$.Deferred(),o=$.Deferred(),$.when(i,r,o).done((function(e,t,n){u({method:"PATCH",data:{was_successful:!0,running_time:(n-t)/1e3,id:e}})}))};s();var u=function(e){_.defaults(e,{method:"GET",data:{},success:function(){}});var t=e.data.id?e.data.id+"/":"";$.ajax({url:"/api/programrun/"+t,method:e.method,data:JSON.stringify(e.data),success:e.success,contentType:"application/json; charset=utf-8"})};a.on("ProgramRun:create",(function(e){s(),r.resolve(e.startTime),u({method:"POST",data:{item:e.itemId,user:e.userId,hub_server:e.usesHub},success:function(e){i.resolve(e.id)}})})),a.on("ProgramRun:successful",(function(e){o.resolve(e)}))},{"../../core/pubSub.js":60}],144:[function(e,t,n){"use strict";var i=e("../../core/pubSub.js"),r=e("../../utils/oop.js"),o=(e("../../utils/chsUtils.js"),e("./baseRunner.js")),a=e("../repls/createReplConsole.js"),s=".jqconsole-cursor",u=".js-server-runner-message",l="button.grade_code",c="#grading-unit-test-run",d="#submit-button",p=".run_code";function h(e,t){var n=this;n.replConsole=a({welcomeString:"",promptLabel:""}),$(s).css("visibility","hidden"),n.url="wss://code.codehs.com:443/"+e,n.setState("disconnected"),n.connect(),n.output="",n.first=!0,n.delay=2e4,n.timeoutID=0,$(u).hide(),t&&(n.errorChecker=t)}r.inherits(h,o),h.prototype.run=function(e,t){var n=t.arguments||[],r=this;i.trigger("ProgramRun:create",{userId:t.codeUserID,itemId:t.itemID,startTime:Date.now()}),r.codeTree={name:"root"};var o=[];for(var a in e){var l={};l.name=a,l.contents=e[a],o.push(l)}r.codeTree.contents=o,r.replConsole.reset(),function e(){$(s).css("visibility","visible"),r.replConsole.promptForInput((function(t){"running"===r.state&&r.emit("stdin",t+"\n"),e()}))}(),r.setState("running"),r.output="";var c={code:r.codeTree,name:t.mainClass,args:n,itemID:t.itemID,codeUserID:t.codeUserID};return r.emit("run",c),window.analytics.track("Ran Java Code",{name:t.mainClass,args:n}),$(u).hide(),r.outputPromise=$.Deferred(),r.timeoutID=window.setTimeout(r.oopsMessage.bind(r),r.delay),r.outputPromise},h.prototype.oopsMessage=function(){this.stop(),i.trigger("utils:switchToTab","#run-tab",".right-col-tabs",".editor-tab-content"),$(u).show()},h.prototype.stop=function(){var e=this;window.clearTimeout(e.timeoutID),e.replConsole.reset(),$(s).css("visibility","hidden"),$(u).hide(),e.output="","disconnected"==e.state?e.connect():e.cnx.close()},h.prototype.setState=function(e){var t=this;switch(t.state=e,e){case"disconnected":t.running=!1,i.trigger("utils:disableButton",p),i.trigger("utils:disableButton",l),i.trigger("utils:disableButton",d),i.trigger("utils:disableButton",c);break;case"idle":t.running=!1,i.trigger("utils:enableButton",p),i.trigger("utils:enableButton",l),i.trigger("utils:enableButton",d),i.trigger("utils:enableButton",c);break;case"running":t.running=!0,i.trigger("utils:disableButton",p),i.trigger("utils:disableButton",l),i.trigger("utils:disableButton",d),i.trigger("utils:disableButton",c)}},h.prototype.emit=function(e,t){this.cnx?(console.debug("Sending:",t),this.cnx.send(JSON.stringify({name:e,data:t}))):console.error("Tried to send message while disconnected!")},h.prototype.connect=function(){var e=this,t=new WebSocket(e.url);e.cnx=t,t.onopen=function(){e.setState("idle")},t.onmessage=function(t){var n=JSON.parse(t.data),r=n.name,o=n.data;switch(r){case"running":break;case"output":window.clearTimeout(e.timeoutID),i.trigger("ProgramRun:successful",Date.now()),e.output+=o,e.replConsole.writeToConsole(o,!0);break;case"terminated":window.clearTimeout(e.timeoutID),i.trigger("ProgramRun:successful",Date.now());try{e.replConsole.clearPrompt()}catch(e){}$(s).css("visibility","hidden"),e.errorChecker&&e.errorChecker.check(e.getOutput(),e.codeTree),e.setState("idle"),e.outputPromise.resolve(e.getOutput()),8===o.exit_code&&e.oopsMessage();break;case"error":window.clearTimeout(e.timeoutID),e.replConsole.clearPrompt(),$(s).css("visibility","hidden"),console.error("Code server error: ",o);break;default:e.replConsole.clearPrompt(),$(s).css("visibility","hidden"),console.warn("Unhandled message from server:",n)}},t.onclose=function(){e.setState("disconnected"),e.connect()}},h.prototype.getOutput=function(){return this.output.split("\n")},t.exports=h},{"../../core/pubSub.js":60,"../../utils/chsUtils.js":187,"../../utils/oop.js":192,"../repls/createReplConsole.js":119,"./baseRunner.js":127}],145:[function(e,t,n){t.exports=function(e){var t=window.Sk.builtin.file;window.Sk.builtin.file=function(t,n,i){var r;if(!(this instanceof Sk.builtin.file))return new Sk.builtin.file(t,n,i);if(this.mode=n,this.name=Sk.ffi.remapToJs(t),this.closed=!1,"/dev/stdout"===this.name)this.data$=Sk.builtin.none.none$,this.fileno=1;else if("/dev/stdin"===this.name)this.fileno=0;else if("/dev/stderr"===this.name)this.fileno=2;else{if(Sk.inBrowser){if(this.fileno=10,!_.has(e.currentCode,t.v))throw new Sk.builtin.IOError("[Errno 2] No such file or directory: '"+t.v+"'");this.data$=e.currentCode[t.v]}else this.fileno=11,this.data$=Sk.read(t.v);for(r in this.lineList=this.data$.split("\n"),this.lineList=this.lineList.slice(0,-1),this.lineList)this.lineList[r]=this.lineList[r]+"\n";this.currentLine=0}return this.pos$=0,this.__class__=Sk.builtin.file,this},t.prototype.write=new Sk.builtin.func((function(t,n){if(t.closed)throw new Sk.builtin.ValueError("I/O operation on closed file");if(t._pos=t._pos?t._pos:0,1===t.fileno)Sk.output(Sk.ffi.remapToJs(n));else{var i=(r=t._pos,o=n.v,(a=t.data$).slice(0,r)+o+a.slice(r+o.length));t._pos=t._pos+n.v.length,e.currentCode[t.name]=i,t.data$=i}var r,o,a})),window.Sk.builtin.file.prototype=t.prototype}},{}],146:[function(e,t,n){"use strict";var i,r=e("socket.io-client"),o=function(e){var t=new RegExp(["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:[a-zA-Z\\d]*(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|"),"g");return e.replace(t,"")},a=e("../../utils/oop.js"),s=e("../../core/pubSub.js"),u=e("../javaErrors.js"),l=e("../../core/constants.js"),c=e("../editorUtils.js").getInstallCommand,d=e("../editorUtils.js").getPDBCommand,p=e("./baseRunner.js"),h=e("../repls/createReplConsole.js"),f=".jqconsole-cursor";window.LOGGING=!1;var m=function(e){window.LOGGING&&console.info(e)};function g(e,t){var n=this;n.replConsole=h({welcomeString:"",promptLabel:""}),$(f).css("visibility","hidden"),$(".jqconsole + div textarea").attr("tabindex","-1"),n.running=!1,n.debugging=!1,n.editor=e,n.q=[],n.output="",n.connected=!1,n.numRetries=0,n.connection,n.socketInProgress=null,n.spinupInProgress=null,n.spawnUUID,n.execUUID,n.language=t,n.editor.typeTester.isJava()&&(n.javaErrorChecker=new u(e)),n.isGraphics=n.editor.typeTester.isPythonGraphics()||n.editor.typeTester.isJavaServerGraphics()||n.editor.typeTester.isPygame()||n.editor.typeTester.isPythonProcessing()||n.editor.typeTester.isJavaProcessing()||n.editor.typeTester.isPythonDataScienceGraphics(),n.docker_image=e.itemDockerImage,n.url="scalinghub.codehs.com";var a=function(e,t,n){return n=n||500,t().catch((function(i){return e>0?(r=n,new Promise((function(e){setTimeout(e,r)}))).then((function(){return a(e-1,t,2*n)})):Promise.reject(i);var r}))};n.makeConnection=function(){return a(5,(function(){return new Promise((function(e,t){var i;n.connection&&n.connection.connected?e():(i=n.socketInProgress,Promise.resolve(i)===i?n.socketInProgress.then(e).catch(t):null!==n.spinupInProgress?n.spinupInProgress.then((function(){return n.connectSocket()})).then(e).catch(t):n.spinup().then((function(){return n.connectSocket()})).then(e).catch(t))}))}),500).catch((function(){n.replConsole.writeToConsole("Couldnt connect to code servers.\nIf this persists, please contact support@codehs.com.",!0)}))},n.spinup=function(){n.uuid=Math.floor(1e4*Math.random());var e=Date.now();return n.spinupInProgress=new Promise((function(t,i){fetch("https://"+n.url+"/hub/api/spinup/"+n.uuid+(n.docker_image&&"default"!=n.docker_image?"/config/"+n.docker_image:""),{method:"GET",credentials:"include"}).then((function(r){if(202===r.status||201===r.status){var o=Date.now();m("Confirmed spinup for "+n.uuid+" in "+(o-e)+"ms."),t(),m("Spinup no longer in progress."),n.spinupInProgress=null}else"Conflict"===r.statusText?(m("Name conflict for "+n.uuid),n.spinup().then((function(){n.numRetries=0,t()}))):(m("HTTPS: "+r.status+". error for "+n.uuid),i(),n.spinupInProgress=null)})).catch((function(e){m("HTTPS error for "+n.uuid),i(),n.spinupInProgress=null}))})),n.spinupInProgress},n.connectSocket=function(){return m("Setting up socket for "+n.uuid),n.connected=!1,n.socketInProgress=new Promise((function(e,t){n.connection=r("wss://"+n.url+":443/",{path:"/user/"+n.uuid+"/spawn",reconnectionAttempts:3,transports:["websocket"]}).on("reconnect_failed",(function(){n.connected=!1,t("reconnect_failed"),n.socketInProgress=null,n.spinupInProgress=null,m("Socket no longer in progress.")})).on("connect",(function(t){m("Socket connected for "+n.uuid),n.isGraphics&&function(e,t){function n(t){e.resize()}function r(e){e.detail.clean||setTimeout(o,500)}function o(){i&&(i.removeEventListener("connect",n),i.removeEventListener("disconnect",r),clearInterval(o)),(i=new window.RFB(document.getElementById("screen"),t,{})).addEventListener("connect",n),i.addEventListener("disconnect",r)}o()}(n,"wss://"+n.url+":443/user/"+n.uuid+"/graphics/"),n.connected=!0,n.q.length>0&&(n.q.forEach((function(e){"spawn"===e.type?n.spawn(e.code,e.options):"install"===e.type?n.install(e.file):"transfer"===e.type?n.transfer(e.code):"resize"===e.type&&n.resize()})),n.q=[]),n.running||(s.trigger("utils:enableButton",".run_code"),s.trigger("utils:enableButton","button.grade_code")),e(t),n.socketInProgress=null,m("Socket no longer in progress.")})).on("error",(function(){m("Socket error for "+n.uuid),n.connected=!1})).on("connect_error",(function(){m("Socket connect error for "+n.uuid),n.connected=!1})).on("disconnect",(function(){this.disconnect(),n.connected=!1})).on("stdout",(function(e){s.trigger("ProgramRun:successful",Date.now());var t=o(e);n.debugging&&(t=n.parseDebuggerOutput(t)),n.replConsole.writeToConsole(t,!0),n.output+=t})).on("stderr",(function(e){var t=o(e);n.replConsole.writeToConsole("stderr: "+t,!0),n.output+=t})).on("exit",(function(e){s.trigger("ProgramRun:successful",Date.now()),s.trigger("utils:enableButton",".run_code"),s.trigger("utils:enableButton","button.grade_code"),$(f).css("visibility","hidden"),n.output.length>0&&n.editor.typeTester.isJava()&&n.javaErrorChecker&&n.javaErrorChecker.check(n.output.split("\n"),n.codeTree)})).on("fs:change",(function(e){}))})),n.socketInProgress},n.cleanup=function(){n.isGraphics&&i.disconnect(),n.connection.emit("disconnect"),n.connection.disconnect()},n.connection&&n.connection.connected||n.makeConnection(),$(window).on("beforeunload",n.cleanup),$(document).one("turbolinks:before-render",(function(){n.cleanup(),$(window).off("beforeunload",n.cleanup)}))}a.inherits(g,p),g.prototype.exec=function(e,t,n){var i=this;return new Promise((function(r,a){s.trigger("utils:disableButton",".run_code"),s.trigger("utils:disableButton","button.grade_code"),s.trigger("utils:disableButton","#grading-unit-test-run"),i.makeConnection().then((function(){s.trigger("ProgramRun:create",{userId:n.codeUserID,itemId:n.itemID,usesHub:!0,startTime:Date.now()}),i.connection.once("exec_result",(function(e){if(s.trigger("utils:enableButton",".run_code"),s.trigger("utils:enableButton","button.grade_code"),s.trigger("utils:enableButton","#grading-unit-test-run"),i.output+=e,s.trigger("ProgramRun:successful",Date.now()),i.editor.typeTester.isJava()&&i.javaErrorChecker){var n={name:"karel"},a=[];for(var u in t)if(t.hasOwnProperty(u)){var l={};l.name=u,l.contents=t[u],a.push(l)}n.contents=a,i.javaErrorChecker.check(i.output.split("\n"),n)}r(o(i.output))})).once("exec_stderr",(function(e){e&&(i.output+=e)})),i.output="",i.connection.emit("exec",{cmd:e,files:t})}))}))},g.prototype.run=function(e,t){var n=this;if(t.installPackages)n.install(e);else{n.numRetries=0;var i=c(e,n.language);i&&(t.installCommand=i),t.pythonDebugger&&(t.pdbCommand=d(n.editor.getBreakpoints())),s.trigger("ProgramRun:create",{userId:t.codeUserID,itemId:t.itemID,usesHub:!0,startTime:Date.now()}),n.spawn(e,t)}},g.prototype.resize=function(){var e=this;e.makeConnection().then((function(){var t=document.getElementById("screen").getBoundingClientRect(),n={w:t.width,h:t.height};e.connection.emit("resize",n)}))},g.prototype.transfer=function(e){var t=this;t.makeConnection().then((function(){e=Object.entries(e).reduce((function(e,t){var n=t[0],i=t[1];return n.endsWith("/.")||(e[n]=i),e}),{}),t.connection.emit("transfer",e)}))},g.prototype.spawn=function(e,t){var n=this;n.running=!0,s.trigger("utils:disableButton",".run_code"),s.trigger("utils:disableButton","button.grade_code"),n.makeConnection().then((function(){n.isGraphics&&n.resize(),n.output="",n.codeTree={name:"karel"};var i=[];for(var r in e)if(e.hasOwnProperty(r)){var o={};o.name=r,o.contents=e[r],i.push(o)}n.codeTree.contents=i,n.replConsole.reset(),function e(){$(f).css("visibility","visible"),n.replConsole.promptForInput((function(t){n.connection.emit("stdin",t+"\n"),e()}))}(),n.transfer(e),n.connection.off("transferComplete"),n.connection.on("transferComplete",(function(){var i;if("run.sh"in e&&n.connection.emit("spawn",{cmd:"sh",args:["run.sh"]}),"c"==n.language)n.connection.emit("spawn",{cmd:"sh",args:["-c","gcc *.c -o main && ./main"]});else if("c++"==n.language)i=n.editor.progType===l.ProgramType.CPP_FUNCTION?"scratchpad.cpp":"*.cpp",n.connection.emit("spawn",{cmd:"sh",args:["-c","gcc "+i+" -lstdc++ -lm -o main && ./main"]});else if("scheme"==n.language)n.connection.emit("spawn",{cmd:"sh",args:["-c","scheme < main.scm"]});else if("bash"==n.language)n.connection.emit("spawn",{cmd:"sh",args:["-c","sh"]});else if("python2"==n.language)n.connection.emit("spawn",{cmd:"sh",args:["-c",(t.installCommand?t.installCommand+" && ":"")+"python2 main.py"]});else if(n.editor.progType===l.ProgramType.PYTHON_PROCESSING)n.connection.emit("spawn",{cmd:"sh",args:["-c","java -jar /app/processing-py.jar main.py"]});else if("python3"==n.language)i=n.editor.progType===l.ProgramType.PYTHON3_FUNCTION?"scratchpad.py":"main.py",t.pythonDebugger&&t.pdbCommand?(n.debugging=!0,n.connection.emit("spawn",{cmd:"sh",args:["-c",(t.installCommand?t.installCommand+" && ":"")+"python3 -m "+t.pdbCommand+i]})):n.connection.emit("spawn",{cmd:"sh",args:["-c",(t.installCommand?t.installCommand+" && ":"")+"python3 "+i]});else if(n.editor.progType===l.ProgramType.JAVA_PROCESSING){var r=Object.keys(e).filter((function(e){return e.endsWith(".java")})).join(" ");n.connection.emit("spawn",{cmd:"sh",args:["-c",'echo "Compiling..." && javac -cp .:/app/processing-jars/* '+r+" && java -cp .:/app/processing-jars/* "+t.mainClass]})}else"java"==n.language?n.spawnJava(e,t):"node"==n.language?n.connection.emit("spawn",{cmd:"sh",args:["-c",(t.installCommand?t.installCommand+" && ":"")+"node default.js"]}):"swift"===n.language&&n.connection.emit("spawn",{cmd:"sh",args:["-c","swiftc -o main *.swift && ./main"]})}))}))},g.prototype.install=function(e,t){var n=this;return new Promise((function(i,r){n.makeConnection().then((function(){n.connection.emit("transfer",e),"python3"===n.language?n.connection.emit("spawn",{cmd:"sh",args:["-c","pip3 install "+(t?"-q ":"")+"-r requirements.txt --user "+(t?"":'&& echo "Requirements installed."')]}):"node"===n.language?n.connection.emit("spawn",{cmd:"sh",args:["-c","-s"]}):alert("I WAS UNPREPARED FOR THIS"),i()}))}))},g.prototype.stop=function(){this.connection.emit("kill"),this.replConsole.reset(),s.trigger("utils:enableButton",".run_code"),s.trigger("utils:enableButton","button.grade_code"),s.trigger("utils:enableButton","#grading-unit-test-run")},g.prototype.spawnJava=function(e,t){var n=this;function i(e){var i=!1;Object.keys(e).forEach((function(t){if(t.endsWith(".java")){var r=t.substr(0,t.length-".java".length);Object.keys(e[t]).forEach((function(e){i=!0,n.connection.emit("stdin","stop at "+r+":"+e+"\n")}))}})),i||(n.editor.progType===l.ProgramType.JAVA_CONSOLE||n.editor.progType===l.ProgramType.JAVA_METHOD?n.connection.emit("stdin","stop in "+t.mainClass+".run\n"):n.connection.emit("stdin","stop in "+t.mainClass+".main\n"))}var r=Object.keys(e).filter((function(e){return e.endsWith(".java")})).join(" "),o=n.editor.getBreakpoints(),a=Object.keys(e).filter((function(e){return e.endsWith(".jar")})).join(":./");n.editor.progType===l.ProgramType.JAVA_CONSOLE?t.javaDebugger?(n.debugging=!0,n.connection.emit("spawn",{cmd:"sh",args:["-c","javac -g "+r+" && jdb -launch ConsoleProgram "+t.mainClass]}),i(o)):n.connection.emit("spawn",{cmd:"sh",args:["-c","javac "+r+" && java ConsoleProgram "+t.mainClass]}):n.editor.progType===l.ProgramType.JAVA_METHOD?t.javaDebugger?(n.debugging=!0,n.connection.emit("spawn",{cmd:"sh",args:["-c","javac -g "+r+" && jdb -launch ConsoleProgram "+t.mainClass]}),i(o)):n.connection.emit("spawn",{cmd:"sh",args:["-c","javac -cp .:/app/json.jar:/app/java-util-1.19.3.jar:"+a+" "+r+" && java -cp .:/app/json.jar:/app/java-util-1.19.3.jar:"+a+" ConsoleProgram "+t.mainClass]}):n.editor.progType===l.ProgramType.JAVA_METHOD_MAIN?t.javaDebugger?(n.debugging=!0,n.connection.emit("spawn",{cmd:"sh",args:["-c","javac -g "+r+" && jdb -launch "+t.mainClass]}),i(o)):n.connection.emit("spawn",{cmd:"sh",args:["-c","javac -cp .:/app/json.jar:/app/java-util-1.19.3.jar:"+a+" "+r+" && java -cp .:/app/json.jar:/app/java-util-1.19.3.jar:"+a+" "+t.mainClass]}):t.javaDebugger?(n.debugging=!0,n.connection.emit("spawn",{cmd:"sh",args:["-c","javac -g "+r+" && jdb -launch "+t.mainClass]}),i(o)):n.connection.emit("spawn",{cmd:"sh",args:["-c","javac "+(a?"-cp .:"+a+" ":"")+r+" && java "+(a?"-cp .:"+a+" ":"")+t.mainClass]})},g.prototype.parseDebuggerOutput=function(e){var t,n,i,r,o=this,a=e;if("python3"==o.language){(n=/\/home\/karel\/([\w\d\/_]+\.py)\(([\d]+)\)/gm.exec(e))&&n.length>=3&&(r=n[1],t=n[2],i=$('[data-filename="'+r+'"]'),o.editor.editorColumns.activateFile(i),o.editor.highlightLine(t,!0,r));var s=e.indexOf("> /home/karel/");-1!=s&&(a=e.substring(0,s)),a=a.replaceAll("(Pdb) ","")}else if("java"==o.language){if(-1!=e.indexOf("VM Started: No frames on the current call stack"))return o.connection.emit("stdin","cont\n"),"";(n=/"thread=main", ([\w\d\/_$]+)\..*, line=([\d]+)\s/gm.exec(e))&&n.length>=3&&(r=n[1]+".java",t=n[2],i=$('[data-filename="'+r+'"]'),o.editor.editorColumns.activateFile(i),o.editor.highlightLine(t,!0,r));for(var u=e.split("\n"),l=0,c=0;c<u.length;c++)-1!=u[c].indexOf('"thread=main"')&&(l=c);0!=l&&(a=u.splice(0,l-1).join("\n")+u.splice(l+2).join("\n")),(a=a.replaceAll("main[1] ","").trim()).startsWith(">")&&(a=a.substring(1).trim()),a.length&&(a+="\n")}return a},t.exports=g},{"../../core/constants.js":58,"../../core/pubSub.js":60,"../../utils/oop.js":192,"../editorUtils.js":73,"../javaErrors.js":80,"../repls/createReplConsole.js":119,"./baseRunner.js":127,"socket.io-client":829}],147:[function(e,t,n){"use strict";var i,r=e("socket.io-client"),o=function(e){var t=new RegExp(["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:[a-zA-Z\\d]*(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|"),"g");return e.replace(t,"")},a=e("../../utils/oop.js"),s=e("../../core/pubSub.js"),u=e("../javaErrors.js"),l=e("../../core/constants.js"),c=e("../editorUtils.js").getInstallCommand,d=e("../editorUtils.js").getPDBCommand,p=e("./baseRunner.js"),h=e("../repls/createReplConsole.js"),f=".jqconsole-cursor";function m(e,t){var n=this;n.replConsole=h({welcomeString:"",promptLabel:""}),$(f).css("visibility","hidden"),n.running=!1,n.debugging=!1,n.editor=e,n.q=[],n.output="",n.connected=!1,n.attemptReconnection=!0,n.numRetries=0,n.connection,n.confirmedConnection=$.Deferred().reject(),n.spawnUUID,n.execUUID,n.lang=t,n.editor.typeTester.isJava()&&(n.javaErrorChecker=new u(e)),n.isGraphics=n.editor.typeTester.isPythonGraphics()||n.editor.typeTester.isJavaServerGraphics()||n.editor.typeTester.isPygame()||n.editor.typeTester.isPythonProcessing()||n.editor.typeTester.isJavaProcessing(),n.docker_image=e.itemDockerImage,n.url="scalinghub.codehs.com",n.confirmConnection=function(){return n.connection&&n.connection.connected||!n.attemptReconnection?n.confirmedConnection:n.reconnect()},n.reconnect=function(){return n.confirmedConnection=$.Deferred(),n.setupConnection().then((function(){n.numRetries=0,setTimeout((function(){n.setupSocket().then((function(e){n.confirmedConnection.resolve(e)}))}),1e3)})),n.confirmedConnection},n.setupSocket=function(){var e=$.Deferred();return n.attemptReconnection=!0,n.connection=r("wss://"+n.url+":443/",{path:"/user/"+n.uuid+"/spawn",reconnection:!1}).on("connect",(function(t){var r;n.isGraphics&&(r="wss://"+n.url+":443/user/"+n.uuid+"/graphics/",(i=new window.RFB(document.getElementById("screen"),r,{})).addEventListener("connect",(function(e){console.log("Connected")})),i.addEventListener("disconnect",(function(e){e.detail.clean?console.log("Disconnected"):console.log("Something went wrong, connection is closed")}))),n.connected=!0,e.resolve(t),n.q.length>0&&(n.q.forEach((function(e){"spawn"===e.type?n.spawn(e.code,e.options):"install"===e.type?n.install(e.file):"transfer"===e.type?n.transfer(e.code):"resize"===e.type&&n.resize()})),n.q=[]),n.running||(s.trigger("utils:enableButton",".run_code"),s.trigger("utils:enableButton","button.grade_code"))})).on("error",(function(){n.attemptReconnection=!0})).on("disconnect",(function(){if(n.connected=!1,this.disconnect(),n.attemptReconnection)return n.reconnect()})).on("stdout",(function(e){s.trigger("ProgramRun:successful",Date.now());var t=o(e);n.debugging&&(t=n.parseDebuggerOutput(t)),n.replConsole.writeToConsole(t,!0),n.output+=t})).on("stderr",(function(e){var t=o(e);n.replConsole.writeToConsole("stderr: "+t,!0),n.output+=t})).on("exit",(function(e){s.trigger("ProgramRun:successful",Date.now()),s.trigger("utils:enableButton",".run_code"),s.trigger("utils:enableButton","button.grade_code"),$(f).css("visibility","hidden"),n.output.length>0&&n.editor.typeTester.isJava()&&n.javaErrorChecker&&n.javaErrorChecker.check(n.output.split("\n"),n.codeTree)})).on("fs:change",(function(e){n.editor.updateCodeExternally(e)})),e},n.setupConnection=function(){return n.uuid=Math.floor(1e4*Math.random()),n.attemptReconnection=!1,new Promise((function(e,t){fetch("https://"+n.url+"/hub/api/spinup/"+n.uuid+(n.docker_image&&n.isGraphics?"/config/"+n.docker_image:""),{method:"GET",headers:{Authorization:"token 8ec61780cf6896f2f8efbd8a6ce14aa9a25b397052aafae926823805b30bd037"},credentials:"include"}).then((function(t){if(202===t.status||201===t.status)e();else{if("Conflict"===t.statusText)return n.setupConnection().then((function(){n.numRetries=0,e()}));setTimeout((function(){document.cookie="AWSALB= ; expires = Thu, 01 Jan 1970 00:00:00 GMT",n.numRetries++,n.numRetries=Math.min(5,n.numRetries),n.setupConnection().then((function(){n.numRetries=0,e()}))}),1e3*(Math.pow(2,n.numRetries)-1))}})).catch((function(t){setTimeout((function(){document.cookie="AWSALB= ; expires = Thu, 01 Jan 1970 00:00:00 GMT",n.numRetries++,n.numRetries=Math.min(5,n.numRetries),n.setupConnection().then((function(){n.numRetries=0,e()}))}),1e3*(Math.pow(2,n.numRetries)-1))}))}))},n.connection&&n.connection.connected||n.reconnect();var a=function(){n.attemptReconnection=!1,n.isGraphics&&i.disconnect(),n.connection.emit("disconnect"),n.connection.disconnect()};$(window).on("beforeunload",a),$(document).one("turbolinks:before-render",(function(){a(),$(window).off("beforeunload",a)}))}a.inherits(m,p),m.prototype.exec=function(e,t,n){var i=this;return new Promise((function(r,a){s.trigger("utils:disableButton",".run_code"),s.trigger("utils:disableButton","button.grade_code"),s.trigger("utils:disableButton","#grading-unit-test-run"),i.confirmConnection().then((function(){s.trigger("ProgramRun:create",{userId:n.codeUserID,itemId:n.itemID,usesHub:!0,startTime:Date.now()}),i.connection.once("exec_result",(function(e){if(s.trigger("utils:enableButton",".run_code"),s.trigger("utils:enableButton","button.grade_code"),s.trigger("utils:enableButton","#grading-unit-test-run"),i.output+=e,s.trigger("ProgramRun:successful",Date.now()),i.editor.typeTester.isJava()&&i.javaErrorChecker){var n={name:"karel"},a=[];for(var u in t)if(t.hasOwnProperty(u)){var l={};l.name=u,l.contents=t[u],a.push(l)}n.contents=a,i.javaErrorChecker.check(i.output.split("\n"),n)}r(o(i.output))})).once("exec_stderr",(function(e){e&&(i.output+=e)})),i.output="",i.connection.emit("exec",{cmd:e,files:t})}))}))},m.prototype.run=function(e,t){var n=this;if(t.installPackages)n.install(e);else{var i=c(e,n.lang);i&&(t.installCommand=i),t.pythonDebugger&&(t.pdbCommand=d(n.editor.getBreakpoints())),s.trigger("ProgramRun:create",{userId:t.codeUserID,itemId:t.itemID,usesHub:!0,startTime:Date.now()}),n.spawn(e,t)}},m.prototype.install=function(e){var t=this;return new Promise((function(n,i){t.connected&&t.connection.connected?(t.connection.emit("transfer",e),"python3"===t.lang?t.connection.emit("spawn",{cmd:"sh",args:["-c",'pip3 install -r requirements.txt --user && echo "Requirements installed."']}):"node"===t.lang?t.connection.emit("spawn",{cmd:"sh",args:["-c","npm install"]}):alert("I WAS UNPREPARED FOR THIS"),n()):(t.q.push({type:"install",file:e}),t.attemptReconnection&&t.setupConnection().then((function(){t.numRetries=0,t.setupSocket().done((function(){n()}))})))}))},m.prototype.resize=function(){var e=this;if(!e.connected||!e.connection.connected)return e.q.push({type:"resize"}),void(e.attemptReconnection&&e.setupConnection().then((function(){e.numRetries=0,e.setupSocket()})));var t=document.getElementById("screen").getBoundingClientRect(),n={w:t.width,h:t.height};e.connection.emit("resize",n)},m.prototype.transfer=function(e){var t=this;if(!t.connected||!t.connection.connected)return t.q.push({type:"transfer",code:e}),void(t.attemptReconnection&&t.setupConnection().then((function(){t.numRetries=0,t.setupSocket()})));e=Object.entries(e).reduce((function(e,t){var n=t[0],i=t[1];return n.endsWith("/.")||(e[n]=i),e}),{}),t.connection.emit("transfer",e)},m.prototype.spawn=function(e,t){var n=this;if(n.running=!0,s.trigger("utils:disableButton",".run_code"),s.trigger("utils:disableButton","button.grade_code"),!n.connected||!n.connection.connected)return n.q.push({type:"spawn",code:e,options:t}),void(n.attemptReconnection&&n.setupConnection().then((function(){n.numRetries=0,n.setupSocket()})));n.isGraphics&&n.resize(),n.output="",n.codeTree={name:"karel"};var i=[];for(var r in e)if(e.hasOwnProperty(r)){var o={};o.name=r,o.contents=e[r],i.push(o)}n.codeTree.contents=i,n.replConsole.reset(),function e(){$(f).css("visibility","visible"),n.replConsole.promptForInput((function(t){n.connection.emit("stdin",t+"\n"),e()}))}(),n.transfer(e),n.connection.off("transferComplete"),n.connection.on("transferComplete",(function(){var i;if("run.sh"in e&&n.connection.emit("spawn",{cmd:"sh",args:["run.sh"]}),"c"==n.lang)n.connection.emit("spawn",{cmd:"sh",args:["-c","gcc *.c -o main && ./main"]});else if("c++"==n.lang)i=n.editor.progType===l.ProgramType.CPP_FUNCTION?"scratchpad.cpp":"*.cpp",n.connection.emit("spawn",{cmd:"sh",args:["-c","gcc "+i+" -lstdc++ -o main && ./main"]});else if("scheme"==n.lang)n.connection.emit("spawn",{cmd:"sh",args:["-c","scheme"]});else if("bash"==n.lang)n.connection.emit("spawn",{cmd:"sh",args:["-c","sh"]});else if("python2"==n.lang)n.connection.emit("spawn",{cmd:"sh",args:["-c",(t.installCommand?t.installCommand+" && ":"")+"python2 main.py"]});else if(n.editor.progType===l.ProgramType.PYTHON_PROCESSING)n.connection.emit("spawn",{cmd:"sh",args:["-c","java -jar /app/processing-py.jar main.py"]});else if("python3"==n.lang)i=n.editor.progType===l.ProgramType.PYTHON3_FUNCTION?"scratchpad.py":"main.py",t.pythonDebugger&&t.pdbCommand?(n.debugging=!0,n.connection.emit("spawn",{cmd:"sh",args:["-c",(t.installCommand?t.installCommand+" && ":"")+"python3 -m "+t.pdbCommand+i]})):n.connection.emit("spawn",{cmd:"sh",args:["-c",(t.installCommand?t.installCommand+" && ":"")+"python3 "+i]});else if(n.editor.progType===l.ProgramType.JAVA_PROCESSING){var r=Object.keys(e).filter((function(e){return e.endsWith(".java")})).join(" ");n.connection.emit("spawn",{cmd:"sh",args:["-c",'echo "Compiling..." && javac -cp .:/app/processing-jars/* '+r+" && java -cp .:/app/processing-jars/* "+t.mainClass]})}else"java"==n.lang?n.spawnJava(e,t):"node"==n.lang&&n.connection.emit("spawn",{cmd:"sh",args:["-c",(t.installCommand?t.installCommand+" && ":"")+"node default.js"]})}))},m.prototype.stop=function(){var e=this;e.connection.emit("kill"),e.replConsole.reset(),s.trigger("utils:enableButton",".run_code"),s.trigger("utils:enableButton","button.grade_code"),s.trigger("utils:enableButton","#grading-unit-test-run"),e.connected&&e.connection.connected||e.reconnect()},m.prototype.spawnJava=function(e,t){var n=this;function i(e){var i=!1;Object.keys(e).forEach((function(t){if(t.endsWith(".java")){var r=t.substr(0,t.length-".java".length);Object.keys(e[t]).forEach((function(e){i=!0,n.connection.emit("stdin","stop at "+r+":"+e+"\n")}))}})),i||(n.editor.progType===l.ProgramType.JAVA_CONSOLE||n.editor.progType===l.ProgramType.JAVA_METHOD?n.connection.emit("stdin","stop in "+t.mainClass+".run\n"):n.connection.emit("stdin","stop in "+t.mainClass+".main\n"))}var r=Object.keys(e).filter((function(e){return e.endsWith(".java")})).join(" "),o=n.editor.getBreakpoints(),a=Object.keys(e).filter((function(e){return e.endsWith(".jar")})).join(":./");n.editor.progType===l.ProgramType.JAVA_CONSOLE?t.javaDebugger?(n.debugging=!0,n.connection.emit("spawn",{cmd:"sh",args:["-c","javac -g "+r+" && jdb -launch ConsoleProgram "+t.mainClass]}),i(o)):n.connection.emit("spawn",{cmd:"sh",args:["-c","javac "+r+" && java ConsoleProgram "+t.mainClass]}):n.editor.progType===l.ProgramType.JAVA_METHOD?t.javaDebugger?(n.debugging=!0,n.connection.emit("spawn",{cmd:"sh",args:["-c","javac -g "+r+" && jdb -launch ConsoleProgram "+t.mainClass]}),i(o)):n.connection.emit("spawn",{cmd:"sh",args:["-c","javac -cp .:/app/json.jar:/app/java-util-1.19.3.jar:"+a+" "+r+" && java -cp .:/app/json.jar:/app/java-util-1.19.3.jar:"+a+" ConsoleProgram "+t.mainClass]}):n.editor.progType===l.ProgramType.JAVA_METHOD_MAIN?t.javaDebugger?(n.debugging=!0,n.connection.emit("spawn",{cmd:"sh",args:["-c","javac -g "+r+" && jdb -launch "+t.mainClass]}),i(o)):n.connection.emit("spawn",{cmd:"sh",args:["-c","javac -cp .:/app/json.jar:/app/java-util-1.19.3.jar:"+a+" "+r+" && java -cp .:/app/json.jar:/app/java-util-1.19.3.jar:"+a+" "+t.mainClass]}):t.javaDebugger?(n.debugging=!0,n.connection.emit("spawn",{cmd:"sh",args:["-c","javac -g "+r+" && jdb -launch "+t.mainClass]}),i(o)):n.connection.emit("spawn",{cmd:"sh",args:["-c","javac "+(a?"-cp .:"+a+" ":"")+r+" && java "+(a?"-cp .:"+a+" ":"")+t.mainClass]})},m.prototype.parseDebuggerOutput=function(e){var t,n,i,r,o=this,a=e;if("python3"==o.language){(n=/\/home\/karel\/([\w\d\/_]+\.py)\(([\d]+)\)/gm.exec(e))&&n.length>=3&&(r=n[1],t=n[2],i=$('[data-filename="'+r+'"]'),o.editor.editorColumns.activateFile(i),o.editor.highlightLine(t,!0,r));var s=e.indexOf("> /home/karel/");-1!=s&&(a=e.substring(0,s)),a=a.replaceAll("(Pdb) ","")}else if("java"==o.language){if(-1!=e.indexOf("VM Started: No frames on the current call stack"))return o.connection.emit("stdin","cont\n"),"";(n=/"thread=main", ([\w\d\/_$]+)\..*, line=([\d]+)\s/gm.exec(e))&&n.length>=3&&(r=n[1]+".java",t=n[2],i=$('[data-filename="'+r+'"]'),o.editor.editorColumns.activateFile(i),o.editor.highlightLine(t,!0,r));for(var u=e.split("\n"),l=0,c=0;c<u.length;c++)-1!=u[c].indexOf('"thread=main"')&&(l=c);0!=l&&(a=u.splice(0,l-1).join("\n")+u.splice(l+2).join("\n")),(a=a.replaceAll("main[1] ","").trim()).startsWith(">")&&(a=a.substring(1).trim()),a.length&&(a+="\n")}return a},t.exports=m},{"../../core/constants.js":58,"../../core/pubSub.js":60,"../../utils/oop.js":192,"../editorUtils.js":73,"../javaErrors.js":80,"../repls/createReplConsole.js":119,"./baseRunner.js":127,"socket.io-client":829}],148:[function(e,t,n){"use strict";var i=e("../../core/constants.js"),r=e("../../core/pubSub.js"),o=e("../../utils/oop.js"),a=e("../../editor/errors.js"),s=e("./baseRunner.js");function u(e){var t=this;t.editor=e,t.sqlSetup=e.sqlSetup;try{t.solution=t.editor.autograderConfig.sqlOutputChecker.solution}catch(e){}t.running=!1;var n=e.info.sql_tables;t.tables=void 0!==n?n.split(","):[]}o.inherits(u,s);var l=function(){function e(e,t){if(0===e.length)return"";var n="<"+t+">",i="</"+t+">";return n+e.join(i+n)+i}return function(t,n){var i='<table class="table"><thead>';i+=e(t,"th")+"</thead>";var r=n.map((function(t){return e(t,"td")}));return i+="<tbody>"+e(r,"tr")+"</tbody></table>"}}();u.prototype.getResults=function(e,t){var n=new window.SQL.Database;return t&&n.run(this.sqlSetup),e+=";",n.exec(e)},u.prototype.getHtmlTables=function(e){var t="";return _.each(e,(function(e){t+=l(e.columns,e.values)})),""===t&&(t="<h3>No results</h3>"),t},u.prototype.run=function(e){var t=this;t.running=!0;try{var n=t.getResults(e,!0),i=t.getHtmlTables(n);$("#sql-destination").html(i)}catch(e){a.show({editor:t.editor,message:"<pre>"+e+"</pre>",errorDisplay:"errorList",progtype:t.editor.progtype,langType:"sql",log:!1}),$("#sql-destination").html("")}t.running=!1},u.prototype.stop=function(){$("#sql-destination").html("")},u.prototype.showResultColumns=function(){for(var e=this.getResults(this.solution,!0)[0].columns,t="",n=0;n<e.length;n++){t+="<div data-markdown>`"+e[n]+"`</div>"}$("#sql-result-columns-list").html(t),r.trigger("CHS.Utils.markdown:setup")},u.prototype.setupDBExplorer=function(e){for(var t=this,n="",i=0;i<t.tables.length;i++){var r=t.tables[i].trim(),o=t.getResults("SELECT * FROM "+r,!0);n+='<div class="tab-pane '+(0===i?"active":""),n+='" id="db-'+r+e+'">',n+="<h3>"+r+"</h3>"+t.getHtmlTables(o)+"</div>"}$("#sql-database-viewer"+e).html(n)},u.prototype.init=function(){var e=this;e.setupDBExplorer(1),e.setupDBExplorer(2),e.editor.getInfo().itemType==i.ItemType.EXERCISE&&e.showResultColumns()},t.exports=u},{"../../core/constants.js":58,"../../core/pubSub.js":60,"../../editor/errors.js":76,"../../utils/oop.js":192,"./baseRunner.js":127}],149:[function(e,t,n){t.exports="class Karel:\n    INFINITE_LOOP = -4\n    ERROR_NO_BEEPERS = -3\n    ERROR_CRASH_INTO_WALL = -2\n    ERROR = -1\n    EAST = 0\n    NORTH = 1\n    WEST = 2\n    SOUTH = 3\n    NUM_DIRS = 4\n\n    DIRECTIONS = {}\n    DIRECTIONS[0] = \"EAST\"\n    DIRECTIONS[1] = \"NORTH\"\n    DIRECTIONS[2] = \"WEST\"\n    DIRECTIONS[3] = \"SOUTH\"\n\n    DIRS = {}\n    DIRS[\"EAST\"] = 0\n    DIRS[\"NORTH\"] = 1\n    DIRS[\"WEST\"] = 2\n    DIRS[\"SOUTH\"] = 3\n\n    MOVE = 5\n    PUT_BALL = 6\n    TAKE_BALL = 7\n    TURN_LEFT = 8\n    TURN_RIGHT = 9\n    TURN_AROUND = 10\n\n    FRONT_IS_CLEAR = 11\n    LEFT_IS_CLEAR = 12\n    RIGHT_IS_CLEAR = 13\n\n    BALLS_PRESENT = 14\n\n    FACING_NORTH = 15\n    FACING_SOUTH = 16\n    FACING_EAST = 17\n    FACING_WEST = 18\n\n    FUNCTION = 19\n    PROGRAM_COMPLETE = 20\n\n    PAINT = 21\n\n    RANDOM_CHANCE = 22\n\n    RANDOM_INT = 23\n\n    COLOR_IS = 24\n\n    BARK = 25\n\n    FOR_LOOP = 26\n\n    INFINITE_LOOP_COUNTER_MAX = 500\n\ncommand_list = []\n\nclass KarelState():\n    rows = ${rows}\n    cols = ${cols}\n\n    dir_string = \"${dir}\"\n    dir = Karel.DIRS[dir_string]\n\n    balls = ${balls}\n    ball_grid = {row: {\n        col: 0\n        for col in range(cols)\n    } for row in range(rows)}\n    for row, col, num in balls:\n        ball_grid[row][col] = num\n\n    walls = ${walls}\n\n    colors = ${colors}\n\n    # this part needs to be after the ball_grid setup\n    start = ${start}\n    row = int(start['row'])\n    col = int(start['col'])\n\ndef _frontIsClear():\n    if KarelState.dir == Karel.EAST:\n        next_row = KarelState.row\n        next_col = KarelState.col + 1\n    if KarelState.dir == Karel.WEST:\n        next_row = KarelState.row\n        next_col = KarelState.col - 1\n    if KarelState.dir == Karel.NORTH:\n        next_row = KarelState.row + 1\n        next_col = KarelState.col\n    if KarelState.dir == Karel.SOUTH:\n        next_row = KarelState.row - 1\n        next_col = KarelState.col\n\n    if KarelState.dir == Karel.SOUTH or KarelState.dir == Karel.WEST:\n        possible_wall = [next_row, next_col, KarelState.row, KarelState.col]\n    else:\n        possible_wall = [KarelState.row, KarelState.col, next_row, next_col]\n\n    if next_row < 0 or next_col < 0:\n        return False\n    if next_row >= KarelState.rows or next_col >= KarelState.cols:\n        return False\n    return possible_wall not in KarelState.walls\n\ndef front_is_clear(secret, line):\n    command_list.append({\n        'c': Karel.FRONT_IS_CLEAR,\n        'l': line\n    })\n    return _frontIsClear()\n\ndef right_is_clear(secret, line):\n    command_list.append({\n        'c': Karel.RIGHT_IS_CLEAR,\n        'l': line\n    })\n    # turn right for a second\n    KarelState.dir = (KarelState.dir + 3) % Karel.NUM_DIRS\n    clear = _frontIsClear()\n    # turn back\n    KarelState.dir = (KarelState.dir + 1) % Karel.NUM_DIRS\n    return clear\n\ndef left_is_clear(secret, line):\n    command_list.append({\n        'c': Karel.LEFT_IS_CLEAR,\n        'l': line\n    })\n    # turn left for a second\n    KarelState.dir = (KarelState.dir + 1) % Karel.NUM_DIRS\n    clear = _frontIsClear()\n    # turn back\n    KarelState.dir = (KarelState.dir + 3) % Karel.NUM_DIRS\n    return clear\n\ndef front_is_blocked(secret, line):\n    return not front_is_clear(secret, line)\n\ndef left_is_blocked(secret, line):\n    return not left_is_clear(secret, line)\n\ndef right_is_blocked(secret, line):\n    return not right_is_clear(secret, line)\n\ndef move(secret, line):\n    if not _frontIsClear():\n        command_list.append({\n            'c': Karel.ERROR_CRASH_INTO_WALL,\n            'l': line\n        })\n    else:\n        if KarelState.dir == Karel.EAST:\n            KarelState.col += 1\n        if KarelState.dir == Karel.WEST:\n            KarelState.col -= 1\n        if KarelState.dir == Karel.NORTH:\n            KarelState.row += 1\n        if KarelState.dir == Karel.SOUTH:\n            KarelState.row -= 1\n        command_list.append({\n            'c': Karel.MOVE,\n            'l': line\n        })\n\n\ndef put_ball(secret, line):\n    command_list.append({\n        'c': Karel.PUT_BALL,\n        'l': line\n    })\n    KarelState.ball_grid[KarelState.row][KarelState.col] += 1\n\n\ndef take_ball(secret, line):\n    num_balls = KarelState.ball_grid[KarelState.row][KarelState.col]\n    if num_balls > 0:\n        KarelState.ball_grid[KarelState.row][KarelState.col] = num_balls - 1\n        command_list.append({\n            'c': Karel.TAKE_BALL,\n            'l': line\n        })\n    else:\n        command_list.append({\n            'c': Karel.ERROR_NO_BEEPERS,\n            'l': line\n        })\n\n\ndef turn_left(secret, line):\n    KarelState.dir = (KarelState.dir + 1) % Karel.NUM_DIRS\n    command_list.append({\n        'c': Karel.TURN_LEFT,\n        'l': line\n    })\n\ndef balls_present(secret, line):\n    command_list.append({\n        'c': Karel.BALLS_PRESENT,\n        'l': line\n    })\n    num_balls = KarelState.ball_grid[KarelState.row][KarelState.col]\n    return num_balls > 0\n\ndef no_balls_present(secret, line):\n    return not balls_present(secret, line)\n\ndef facing_north(secret, line):\n    command_list.append({\n        'c': Karel.FACING_NORTH,\n        'l': line\n    })\n    return KarelState.dir == Karel.NORTH\n\ndef not_facing_north(secret, line):\n    command_list.append({\n        'c': Karel.FACING_NORTH,\n        'l': line\n    })\n    return KarelState.dir != Karel.NORTH\n\ndef facing_west(secret, line):\n    command_list.append({\n        'c': Karel.FACING_WEST,\n        'l': line\n    })\n    return KarelState.dir == Karel.WEST\n\ndef not_facing_west(secret, line):\n    command_list.append({\n        'c': Karel.FACING_WEST,\n        'l': line\n    })\n    return KarelState.dir != Karel.WEST\n\ndef facing_south(secret, line):\n    command_list.append({\n        'c': Karel.FACING_SOUTH,\n        'l': line\n    })\n    return KarelState.dir == Karel.SOUTH\n\ndef not_facing_south(secret, line):\n    command_list.append({\n        'c': Karel.FACING_SOUTH,\n        'l': line\n    })\n    return KarelState.dir != Karel.SOUTH\n\ndef facing_east(secret, line):\n    command_list.append({\n        'c': Karel.FACING_EAST,\n        'l': line\n    })\n    return KarelState.dir == Karel.EAST\n\ndef not_facing_east(secret, line):\n    command_list.append({\n        'c': Karel.FACING_EAST,\n        'l': line\n    })\n    return KarelState.dir != Karel.EAST\n\ndef highlight_line(secret, line):\n    command_list.append({\n        'c': Karel.FUNCTION,\n        'l': line\n    })\n    return\n\n${superKarelAddons}\n\n${ultraKarelAddons}\n\n${studentCode}\n\nprint command_list\n"},{}],150:[function(e,t,n){t.exports="function drawPixels() {\n    ${studentCode}\n}\n\nvar pixelCanvas;\n\n/**\n * Start point for program just like our graphics programs. Setups up the\n * canvas and then runs the user's code.\n */\nfunction start() {\n    pixelCanvas = new PixelCanvas();\n    drawPixels();\n}\n\nvar red = '#FF0000';\nvar RED = '#FF0000';\nvar green = '#00FF00';\nvar GREEN = '#00FF00';\nvar blue = '#0000FF';\nvar BLUE = '#0000FF';\nvar yellow = '#FFFF00';\nvar YELLOW = '#FFFF00';\nvar cyan = '#00FFFF';\nvar CYAN = '#00FFFF';\nvar orange = '#FFA500';\nvar ORANGE = '#FFA500';\nvar white = '#FFFFFF';\nvar WHITE = '#FFFFFF';\nvar black = '#000000';\nvar BLACK = '#000000';\nvar gray = '#cccccc';\nvar GRAY = '#CCCCCC';\nvar grey = '#cccccc';\nvar GREY = '#CCCCCC';\nvar purple = '#9B30FF';\nvar PURPLE = '#9B30FF';\n\nfunction PixelCanvas(){\n    var LABEL_OFFSET = 20;\n    var ROW_LABEL_OFFSET = 56;\n    var COL_LABEL_OFFSET = -15;\n    var CANVAS_BORDER_OFFSET = 30;\n    var CANVAS_BORDER_WIDTH = 2;\n    var canvasWidth = getWidth() - CANVAS_BORDER_OFFSET - LABEL_OFFSET * 2;\n    var canvasHeight = canvasWidth;\n    var canvasBorder;\n    var canvas = {\n        'canvas': null,\n        'canvasBorder': null,\n        'columnLabel': null,\n        'rowLabel': null,\n        'showGrid': true,\n        'rows': 5,\n        'cols': 5,\n        'pixelSize': canvasWidth / 5,\n        'gridLines': [],\n        'pixels': null,\n    };\n\n    setupCanvas();\n\n    /**\n     * Sets up the initial canvas state for a user. Mainly this is just the labels.\n     * and the border. Also calls redrawCanvas which handles most of the drawing\n     * logic.\n     */\n    function setupCanvas() {\n        canvas.columnLabel = new Text('Columns', '14pt Arial');\n        add(canvas.columnLabel);\n\n        canvas.rowLabel = new Text('Rows', '14pt Arial');\n        canvas.rowLabel.setRotation(270);\n        add(canvas.rowLabel);\n\n        canvas.canvasBorder = new Rectangle(canvasWidth + CANVAS_BORDER_WIDTH * 2,\n            canvasHeight + CANVAS_BORDER_WIDTH * 2);\n        canvas.canvasBorder.setPosition(CANVAS_BORDER_OFFSET, CANVAS_BORDER_OFFSET);\n        add(canvas.canvasBorder);\n\n        redrawCanvas(true);\n    }\n\n    /**\n     * Handles the redraw logic everytime we resize the board or show the grid.\n     * @param  {boolean} remakeBoard - True if we've resized the board. Otherwise,\n     *                                 false.\n     */\n    function redrawCanvas(remakeBoard) {\n        // Clear out previous grid.\n        for (var i = canvas.gridLines.length - 1; i >= 0; i--) {\n            remove(canvas.gridLines.pop());\n        }\n\n        canvasWidth = getWidth() - CANVAS_BORDER_OFFSET - LABEL_OFFSET * 2 -\n            CANVAS_BORDER_WIDTH * 2;\n        canvas.pixelSize = canvasWidth / canvas.cols;\n        var canvasHeight = canvas.pixelSize * canvas.rows;\n        if (canvasHeight > getHeight() - CANVAS_BORDER_OFFSET) {\n            canvasHeight = getHeight() - CANVAS_BORDER_OFFSET - LABEL_OFFSET * 2;\n            canvas.pixelSize = canvasHeight / canvas.rows;\n            canvasWidth = canvas.pixelSize * canvas.cols;\n        }\n        // // Canvas border\n        canvas.canvasBorder.height = canvasHeight + CANVAS_BORDER_WIDTH * 2;\n        canvas.canvasBorder.width = canvasWidth + CANVAS_BORDER_WIDTH * 2;\n\n        // Row Label\n        canvas.rowLabel.setPosition(LABEL_OFFSET, canvasHeight / 2 +\n            ROW_LABEL_OFFSET);\n\n        // Column Label\n        canvas.columnLabel.setPosition(canvasWidth / 2 + COL_LABEL_OFFSET,\n            LABEL_OFFSET);\n\n        if (remakeBoard) {\n            createBoard();\n        }\n\n        // Grid drawing\n        // This should always be last!\n        if (canvas.showGrid) {\n            var line;\n            var x1;\n            var y1;\n            var x2;\n            var y2;\n            for (var j = 1; j < canvas.rows; j++) {\n                x1 = CANVAS_BORDER_OFFSET + CANVAS_BORDER_WIDTH;\n                y1 = CANVAS_BORDER_OFFSET + canvas.pixelSize * j +\n                    CANVAS_BORDER_WIDTH;\n                x2 = canvasWidth + CANVAS_BORDER_OFFSET + CANVAS_BORDER_WIDTH;\n                y2 = CANVAS_BORDER_OFFSET + canvas.pixelSize * j +\n                    CANVAS_BORDER_WIDTH;\n                line = new Line(x1, y1, x2, y2);\n                add(line);\n                canvas.gridLines.push(line);\n            }\n\n            for (var k = 1; k < canvas.cols; k++) {\n                x1 = CANVAS_BORDER_OFFSET + canvas.pixelSize * k +\n                    CANVAS_BORDER_WIDTH;\n                y1 = CANVAS_BORDER_OFFSET + CANVAS_BORDER_WIDTH;\n                x2 = CANVAS_BORDER_OFFSET + canvas.pixelSize * k +\n                    CANVAS_BORDER_WIDTH;\n                y2 = canvasHeight + CANVAS_BORDER_OFFSET + CANVAS_BORDER_WIDTH;\n                line = new Line(x1, y1, x2, y2);\n                add(line);\n                canvas.gridLines.push(line);\n            }\n        }\n    }\n\n    /**\n     * Creates the pixes that make up the board. These are then attached to the\n     * canvas.\n     */\n    function createBoard() {\n        canvas.pixels = new Grid(canvas.cols, canvas.rows);\n\n        for (var i = 0; i < canvas.cols; i++) {\n            for (var j = 0; j < canvas.rows; j++) {\n                var pixel = new Rectangle(canvas.pixelSize, canvas.pixelSize);\n                pixel.setPosition(CANVAS_BORDER_OFFSET + canvas.pixelSize * i + 2,\n                    CANVAS_BORDER_OFFSET + canvas.pixelSize * j + 2);\n                pixel.setColor(Color.WHITE);\n                add(pixel);\n                canvas.pixels.set(i, j, pixel);\n            }\n        }\n    }\n\n    /**\n     * Clears the grid of all pixels. Should always be used if we're resizing the\n     * grid.\n     */\n    function clearGrid() {\n        for (var i = 0; i < canvas.cols; i++) {\n            for (var j = 0; j < canvas.rows; j++) {\n                remove(canvas.pixels.get(i, j));\n            }\n        }\n    }\n\n    //\n    // Public methods\n    //\n\n    /**\n     * Set's the dimensions of the pixel. This will resize the canvas.\n     * @param {int} rows - The number of pixel rows.\n     * @param {int} cols - The number of pixel columns.\n     */\n    this.setDimensions = function(rows, cols) {\n        clearGrid();\n        canvas.rows = rows;\n        canvas.cols = cols;\n        redrawCanvas(true);\n    };\n\n    /**\n     * Get the number of pixel rows.\n     * @return {int} - Number of pixel rows.\n     */\n    this.getRows = function() {\n        return canvas.rows;\n    };\n\n    /**\n     * Set the number of pixel rows. This will resize the canvas.\n     * @param {int} rows - The new number of pixel rows.\n     */\n    this.setRows = function(rows) {\n        clearGrid();\n        canvas.rows = rows;\n        redrawCanvas(true);\n    };\n\n    /**\n     * Get the number of pixel columns.\n     * @return {int} - Number of pixel columns.\n     */\n    this.getCols = function() {\n        return canvas.cols;\n    };\n\n    /**\n     * Set the number of pixel columns. This will resize the canvas.\n     * @param {int} cols - The new number of pixel columns.\n     */\n    this.setCols = function(cols) {\n        clearGrid();\n        canvas.cols = cols;\n        redrawCanvas(true);\n    };\n\n    /**\n     * Set whether to show the grid lines or not.\n     * @param  {boolean} bool - True means grid lines will show. False means no\n     *                          gridlines.\n     */\n    this.showGrid = function(bool) {\n        canvas.showGrid = bool;\n        redrawCanvas(false);\n    };\n\n    /**\n     * Set the pixel color at a particular row or column.\n     * @param {int} row      - Row to set pixel color\n     * @param {int} col      - Column to set pixel color\n     * @param {string} color - The color to set. This can either be 'green',\n     *                         '#00FF00', or Color.GREEN.\n     */\n    this.setPixel = function(row, col, color) {\n        canvas.pixels.get(col, row).setColor(color);\n    };\n\n    /**\n     * Set the pixel color at a particular row and column to an RGB value.\n     * @param {int} row - Row to set pixel color\n     * @param {int} col - Column to set pixel color\n     * @param {int} r   - Red value of RGB color\n     * @param {int} g   - Green value of RGB color\n     * @param {int} b   - Blue value of RGB color\n     */\n    this.setPixelRGB = function(row, col, r, g, b) {\n        canvas.pixels.get(col, row).setColor(Color.createFromRGB(r, g, b));\n    };\n}\n\n/**\n * Sets up input checking and calls the canvas's setDimensions method.\n * @param {int} rows - The number of pixel rows.\n * @param {int} cols - The number of pixel columns.\n */\nfunction setDimensions(rows, cols) {\n    if (arguments.length !== 2) {\n        throw new Error('You should pass exactly 2 arguments to <span ' +\n            'class=\"code\">setDimensions(rows, cols)</span>');\n    }\n    if (typeof rows !== 'number' || !isFinite(rows) || rows < 1) {\n        throw new TypeError('Invalid value for <span class=\"code\">rows' +\n            '</span>. Make sure you are passing finite positive numbers to ' +\n            '<span class=\"code\">setDimensions(rows, cols)</span>. Did you ' +\n            'perform a calculation on a variable that is not a number?');\n    }\n    if (typeof cols !== 'number' || !isFinite(cols) || cols < 1) {\n        throw new TypeError('Invalid value for <span class=\"code\">cols' +\n            '</span>. Make sure you are passing finite positive numbers to ' +\n            '<span class=\"code\">setDimensions(rows, cols)</span>. Did you ' +\n            'perform a calculation on a variable that is not a number?');\n    }\n    pixelCanvas.setDimensions(rows, cols);\n}\n\n/**\n * Sets up input checking and calls the canvas's getRows method.\n * @return {int} - Number of pixel rows.\n */\nfunction getRows() {\n    if (arguments.length !== 0) {\n        throw new Error('You should pass no arguments to <span class=\"code\">' +\n            'getRows()</span>');\n    }\n    return pixelCanvas.getRows();\n}\n\n/**\n * Sets up input checking and calls the canvas's setRows method.\n * @param {int} rows - The new number of pixel rows.\n */\nfunction setRows(rows) {\n    if (arguments.length !== 1) {\n        throw new Error('You should pass exactly 1 argument to <span ' +\n            'class=\"code\">setRows(rows)</span>');\n    }\n    if (typeof rows !== 'number' || !isFinite(rows) || rows < 1) {\n        throw new TypeError('Invalid value for <span class=\"code\">rows' +\n            '</span>. Make sure you are passing finite positive numbers to ' +\n            '<span class=\"code\">setRows(rows)</span>. Did you perform ' +\n            'a calculation on a variable that is not a number?');\n    }\n    pixelCanvas.setRows();\n}\n\n/**\n * Sets up input checking and calls the canvas's getCols method.\n * @return {int} - Number of pixel columns.\n */\nfunction getCols() {\n    if (arguments.length !== 0) {\n        throw new Error('You should pass no arguments to <span class=\"code\">' +\n            'getCols()</span>');\n    }\n    return pixelCanvas.getCols();\n}\n\n/**\n * Sets up input checking and calls the canvas's setCols method.\n * @param {int} cols - The new number of pixel columns.\n */\nfunction setCols(cols) {\n    if (arguments.length !== 1) {\n        throw new Error('You should pass exactly 1 argument to <span ' +\n            'class=\"code\">setCols(cols)</span>');\n    }\n    if (typeof cols !== 'number' || !isFinite(cols) || cols < 1) {\n        throw new TypeError('Invalid value for <span class=\"code\">cols' +\n            '</span>. Make sure you are passing finite positive numbers to ' +\n            '<span class=\"code\">setCols(cols)</span>. Did you perform ' +\n            'a calculation on a variable that is not a number?');\n    }\n    pixelCanvas.setCols(cols);\n}\n\n/**\n * Sets up input checking and calls the canvas's showGrid method.\n * @param  {boolean} bool - True means grid lines will show. False means no\n *                          gridlines.\n */\nfunction showGrid(bool) {\n    if (arguments.length !== 1) {\n        throw new Error('You should pass exactly 1 argument to <span ' +\n            'class=\"code\">showGrid(bool)</span>');\n    }\n    if (typeof bool !== 'boolean') {\n        throw new TypeError('Invalid value for <span class=\"code\">cols' +\n            '</span>. Make sure you are passing finite positive numbers to ' +\n            '<span class=\"code\">showGrid(cool)</span>. Did you perform ' +\n            'a calculation on a variable that is not a number?');\n    }\n    pixelCanvas.showGrid(bool);\n}\n\n/**\n * Sets up input checking and calls the canvas's setPixel method.\n * @param {int} row      - Row to set pixel color\n * @param {int} col      - Column to set pixel color\n * @param {string} color - The color to set. This can either be 'green',\n *                         '#00FF00', or Color.GREEN.\n */\nfunction setPixel(row, col, color) {\n    if (arguments.length !== 3) {\n        throw new Error('You should pass exactly 3 arguments to <span ' +\n            'class=\"code\">setPixel(row, col, color)</span>');\n    }\n    if (typeof row !== 'number' || !isFinite(row)) {\n        throw new TypeError('Invalid value for <span class=\"code\">row' +\n            '</span>. Make sure you are passing finite positive numbers to ' +\n            '<span class=\"code\">setPixel(row, col, color)</span>. Did you ' +\n            'perform a calculation on a variable that is not a number?');\n    }\n    if (row < 0 || row >= pixelCanvas.getRows()) {\n        throw new RangeError('Invalid value for <span class=\"code\">row</span>' +\n            ' in <span class=\"code\">setPixel(row, col, color)</span>' +\n            'Your <span class=\"code\">row</span> must be between 0 and ' +\n            (canvas.rows - 1) + '.');\n    }\n    if (typeof col !== 'number' || !isFinite(col)) {\n        throw new TypeError('Invalid value for <span class=\"code\">col' +\n            '</span>. Make sure you are passing finite positive numbers to ' +\n            '<span class=\"code\">setPixel(row, col, color)</span>. Did you ' +\n            'perform a calculation on a variable that is not a number?');\n    }\n    if (col < 0 || col >= pixelCanvas.getCols()) {\n        throw new RangeError('Invalid value for <span class=\"code\">row</span>' +\n            ' in <span class=\"code\">setPixel(row, col, color)</span>' +\n            'Your <span class=\"code\">row</span> must be between 0 and ' +\n            (canvas.cols - 1) + '.');\n    }\n    if (color === undefined) {\n        throw new TypeError('Invalid color');\n    }\n    pixelCanvas.setPixel(row, col, color);\n}\n\n/**\n * Sets up input checking and calls the canvas's setPixelRGB method.\n * @param {int} row - Row to set pixel color\n * @param {int} col - Column to set pixel color\n * @param {int} r   - Red value of RGB color\n * @param {int} g   - Green value of RGB color\n * @param {int} b   - Blue value of RGB color\n */\nfunction setPixelRGB(row, col, r, g, b) {\n    if (arguments.length !== 5) {\n        throw new Error('You should pass exactly 5 argument to <span ' +\n            'class=\"code\">setPixelRGB(row, col, r, g, b)</span>');\n    }\n    if (typeof row !== 'number' || !isFinite(row)) {\n        throw new TypeError('Invalid value for <span class=\"code\">row' +\n            '</span>. Make sure you are passing finite positive numbers to ' +\n            '<span class=\"code\">setPixelRGB(row, col, r, g, b)</span>. Did ' +\n            'you perform a calculation on a variable that is not a number?');\n    }\n    if (row < 0 || row >= pixelCanvas.getRows()) {\n        throw new RangeError('Invalid value for <span class=\"code\">row</span>' +\n            ' in <span class=\"code\">setPixelRGB(row, col, r, g, b)</span>' +\n            'Your <span class=\"code\">row</span> must be between 0 and ' +\n            (pixelCanvas.rows - 1) + '.');\n    }\n    if (typeof col !== 'number' || !isFinite(col)) {\n        throw new TypeError('Invalid value for <span class=\"code\">col' +\n            '</span>. Make sure you are passing finite positive numbers to ' +\n            '<span class=\"code\">setPixelRGB(row, col, r, g, b)</span>. Did ' +\n            'you perform a calculation on a variable that is not a number?');\n    }\n    if (col < 0 || col >= pixelCanvas.getCols()) {\n        throw new RangeError('Invalid value for <span class=\"code\">col</span>' +\n            ' in <span class=\"code\">setPixelRGB(row, col, r, g, b)</span>' +\n            'Your <span class=\"code\">col</span> must be between 0 and ' +\n            (pixelCanvas.cols - 1) + '.');\n    }\n    if (typeof r !== 'number' || !isFinite(r)) {\n        throw new TypeError('Invalid value for <span class=\"code\">r' +\n            '</span>. Make sure you are passing finite positive numbers to ' +\n            '<span class=\"code\">setPixelRGB(row, col, r, g, b)</span>. Did ' +\n            'you perform a calculation on a variable that is not a number?');\n    }\n    if (r < 0 || r > 255) {\n        throw new RangeError('Invalid value for <span class=\"code\">r</span>' +\n            ' in <span class=\"code\">setPixelRGB(row, col, r, g, b)</span>' +\n            'Your <span class=\"code\">r</span> must be between 0 and 255.');\n    }\n    if (typeof g !== 'number' || !isFinite(g)) {\n        throw new TypeError('Invalid value for <span class=\"code\">g' +\n            '</span>. Make sure you are passing finite positive numbers to ' +\n            '<span class=\"code\">setPixelRGB(row, col, r, g, b)</span>. Did ' +\n            'you perform a calculation on a variable that is not a number?');\n    }\n    if (g < 0 || g > 255) {\n        throw new RangeError('Invalid value for <span class=\"code\">g</span>' +\n            ' in <span class=\"code\">setPixelRGB(row, col, r, g, b)</span>' +\n            'Your <span class=\"code\">g</span> must be between 0 and 255.');\n    }\n    if (typeof b !== 'number' || !isFinite(b)) {\n        throw new TypeError('Invalid value for <span class=\"code\">b' +\n            '</span>. Make sure you are passing finite positive numbers to ' +\n            '<span class=\"code\">setPixelRGB(row, col, r, g, b)</span>. Did ' +\n            'you perform a calculation on a variable that is not a number?');\n    }\n    if (b < 0 || b > 255) {\n        throw new RangeError('Invalid value for <span class=\"code\">b</span>' +\n            ' in <span class=\"code\">setPixelRGB(row, col, r, g, b)</span>' +\n            'Your <span class=\"code\">b</span> must be between 0 and 255.');\n    }\n    pixelCanvas.setPixelRGB(row, col, r, g, b);\n}\n"},{}],151:[function(e,t,n){t.exports="def turn_right(secret, line):\n    KarelState.dir = (KarelState.dir - 1) % Karel.NUM_DIRS\n    command_list.append({\n        'c': Karel.TURN_RIGHT,\n        'l': line\n    })\n\ndef turn_around(secret, line):\n    KarelState.dir = (KarelState.dir - 2) % Karel.NUM_DIRS\n    command_list.append({\n        'c': Karel.TURN_AROUND,\n        'l': line\n    })\n"},{}],152:[function(e,t,n){t.exports="import turtle\n__turtle = turtle.Turtle()\nworld_coords = (${coords}) or None\nif world_coords:\n    __turtle.getscreen().setworldcoordinates(*world_coords)\n\n__turtle.shape(\"turtle\")\n\n__command_history = []\n\ndef degrees(n=None):\n    __command_history.append(['degrees', (n if n else 'None')])\n    return __turtle.degrees(n)\n\ndef radians():\n    __command_history.append(['radians'])\n    return __turtle.radians()\n\ndef position():\n    __command_history.append(['position'])\n    return __turtle.position()\n\ndef pos():\n    __command_history.append(['pos'])\n    return __turtle.pos()\n\ndef towards(x, y=None):\n    __command_history.append(['towards', (x, y if y else 'None')])\n    return __turtle.towards(x, y)\n\ndef distance(x, y=None):\n    __command_history.append(['distance', (x, y if y else 'None')])\n    return __turtle.distance(x, y)\n\ndef xcor():\n    __command_history.append(['xcor'])\n    return __turtle.xcor()\n\ndef ycor():\n    __command_history.append(['ycor'])\n    return __turtle.ycor()\n\ndef heading():\n    __command_history.append(['heading'])\n    return __turtle.heading()\n\ndef forward(d):\n    __command_history.append(['forward', (d)])\n    return __turtle.forward(d)\n\ndef fd(d):\n    __command_history.append(['fd', (d)])\n    return __turtle.fd(d)\n\ndef undo():\n    __command_history.append(['undo'])\n    return __turtle.undo()\n\ndef backward(d):\n    __command_history.append(['backward', (d)])\n    return __turtle.backward(d)\n\ndef bk(d):\n    __command_history.append(['bk', (d)])\n    return __turtle.bk(d)\n\ndef back(d):\n    __command_history.append(['back', (d)])\n    return __turtle.back(d)\n\ndef setx(x):\n    __command_history.append(['setx', (x)])\n    return __turtle.setx(x)\n\ndef sety(y):\n    __command_history.append(['sety', (y)])\n    return __turtle.sety(y)\n\ndef setposition(x, y):\n    __command_history.append(['setposition', (x, y)])\n    return __turtle.setposition(x, y)\n\ndef setpos(x, y):\n    __command_history.append(['setpos', (x, y)])\n    return __turtle.setpos(x, y)\n\ndef goto(x, y):\n    __command_history.append(['goto', (x, y)])\n    return __turtle.goto(x, y)\n\ndef setheading(angle):\n    __command_history.append(['setheading', (angle)])\n    return __turtle.setheading(angle)\n\ndef seth(n):\n    __command_history.append(['seth', (n)])\n    return __turtle.seth(n)\n\ndef home():\n    __command_history.append(['home'])\n    return __turtle.home()\n\ndef right(a):\n    __command_history.append(['right', (a)])\n    return __turtle.right(a)\n\ndef rt(a):\n    __command_history.append(['rt', (a)])\n    return __turtle.rt(a)\n\ndef left(a):\n    __command_history.append(['left', (a)])\n    return __turtle.left(a)\n\ndef lt(a):\n    __command_history.append(['lt', (a)])\n    return __turtle.lt(a)\n\ndef circle(radius, extent=None, steps=None):\n    __command_history.append(['circle', (radius, extent if extent else 'None', steps if steps else 'None')])\n    if extent and steps:\n        return __turtle.circle(radius, extent, steps)\n    if extent:\n        return __turtle.circle(radius, extent)\n    if steps:\n        return __turtle.circle(radius, steps=steps)\n    return __turtle.circle(radius)\n\ndef penup():\n    __command_history.append(['penup'])\n    return __turtle.penup()\n\ndef up():\n    __command_history.append(['up'])\n    return __turtle.up()\n\ndef pu():\n    __command_history.append(['pu'])\n\ndef pendown():\n    __command_history.append(['pendown'])\n    return __turtle.pendown()\n\ndef down():\n    __command_history.append(['down'])\n    return __turtle.down()\n\ndef pd():\n    __command_history.append(['pd'])\n    return __turtle.pd()\n\ndef isdown():\n    __command_history.append(['isdown'])\n    return __turtle.isdown()\n\ndef speed(s=None):\n    __command_history.append(['speed', (s if s else 'None')])\n    return __turtle.speed(s)\n\ndef set_color(color=None):\n    __command_history.append(['color', (color if color else 'None')])\n    return __turtle.color(color)\n\ndef color(color=None):\n    __command_history.append(['color', (color if color else 'None')])\n    return __turtle.color(color)\n\ndef stamp():\n    __command_history.append(['stamp'])\n    return __turtle.stamp()\n\ndef fill(flag):\n    __command_history.append(['fill', (flag)])\n    return __turtle.fill(flag)\n\ndef dot(size, color, g, b, a):\n    __command_history.append(['dot', (size, color, g, b, a)])\n    return __turtle.dot(size, color, g, b, a)\n\ndef pensize(size):\n    __command_history.append(['pensize', (size)])\n    return __turtle.pensize(size)\n\ndef width(size):\n    __command_history.append(['width', (size)])\n    return __turtle.width(size)\n\ndef show_turtle():\n    __command_history.append(['show_turtle'])\n    return __turtle.showturtle()\n\ndef hide_turtle():\n    __command_history.append(['hide_turtle'])\n    return __turtle.hideturtle()\n\ndef shape(shape):\n    __command_history.append(['shape', (shape)])\n    return __turtle.shape(shape)\n\ndef window_height():\n    __command_history.append(['window_height'])\n    # scaled window height\n    if world_coords:\n        _, lly, _, ury = world_coords\n        return ury - lly\n    return __turtle.window_height()\n\ndef window_width():\n    __command_history.append(['window_width'])\n    # scaled window width\n    if world_coords:\n        llx, _, urx, _ = world_coords\n        return urx - llx\n    return __turtle.window_width()\n\ndef reset():\n    __command_history.append(['reset'])\n    return __turtle.reset()\n\ndef clear():\n    __command_history.append(['clear'])\n    return __turtle.clear()\n\ndef getscreen():\n    __command_history.append(['getscreen'])\n    return __turtle.getscreen()\n\ndef onclick(fn, btn=1, add=None):\n    __command_history.append(['onclick', (fn, btn, add if add else 'None')])\n    return __turtle.onclick(fn, btn, add)\n\ndef ondrag(fn, btn=1, add=None):\n    __command_history.append(['ondrag', (fn, btn, add if add else 'None')])\n    return __turtle.ondrag(fn, btn, add)\n\ndef onrelease(fn, btn=1, add=None):\n    __command_history.append(['onrelease', (fn, btn, add if add else 'None')])\n    return __turtle.onrelease(fn, btn, add)\n\ndef tracer(frames=None, delay=None):\n    __command_history.append(['tracer', (frames if frames else 'None', delay if delay else 'None')])\n    return __turtle.tracer(frames, delay)\n\ndef begin_fill():\n    __command_history.append(['begin_fill'])\n    return __turtle.begin_fill()\n\ndef end_fill():\n    __command_history.append(['end_fill'])\n    return __turtle.end_fill()\n\ndef bgcolor(color=None):\n    __command_history.append(['bgcolor', (color if color else 'None')])\n    return __turtle.getscreen().bgcolor(color)\n\ndef setworldcoordinates(llx, lly, urx, ury):\n    __command_history.append(['setworldcoordinates', (llx, lly, urx, ury)])\n    __turtle.getscreen().reset()  # Ensure canvas is valid if this command is not called first\n    set_coordinates_output = __turtle.getscreen().setworldcoordinates(llx, lly, urx, ury)\n    __turtle.shape(\"turtle\")\n    return  set_coordinates_output\n\ndef write(arg, move=False, align=\"left\", font=(\"Arial\", 8, \"normal\")):\n    # __command_history.append(['write', (arg, move, align, font)])\n    # return __turtle.write(arg, move, align, font)\n    pass\n"},{}],153:[function(e,t,n){t.exports="inputs = []\ncurrent_input = 0\n\ndef input(*args):\n    return readOverwrite()\n\ndef readOverwrite():\n    global current_input\n    global inputs\n    try:\n        val = inputs[current_input]\n    except IndexError:\n        val = 0\n    else:\n        current_input += 1\n    return val\n"},{}],154:[function(e,t,n){t.exports="def random_chance(chance, secret, line):\n    command_list.append({\n        'c': Karel.RANDOM_CHANCE,\n        'l': line\n    })\n    import random\n    return random.random() < chance\n\ndef color_is(test_color, secret, line):\n    command_list.append({\n        'c': Karel.COLOR_IS,\n        'l': line\n    })\n\n    current_color = KarelState.colors[KarelState.row][KarelState.col]\n\n    return (\n        test_color == current_color or\n        (\n            test_color in color and\n            color[test_color] == current_color\n        ) or\n        (\n            current_color in color and\n            color[current_color] == test_color\n        )\n    )\n\ndef paint(color, secret, line):\n    command_list.append({\n        'c': Karel.PAINT,\n        'color': color,\n        'l': line\n    })\n    KarelState.colors[KarelState.row][KarelState.col] = color\n\ncolor = {\n    'red': '#FF0000',\n    'RED': '#FF0000',\n    'green': '#00FF00',\n    'GREEN': '#00FF00',\n    'blue': '#0000FF',\n    'BLUE': '#0000FF',\n    'yellow': '#FFFF00',\n    'YELLOW': '#FFFF00',\n    'cyan': '#00FFFF',\n    'CYAN': '#00FFFF',\n    'orange': '#FFA500',\n    'ORANGE': '#FFA500',\n    'white': '#FFFFFF',\n    'WHITE': '#FFFFFF',\n    'black': '#000000',\n    'BLACK': '#000000',\n    'gray': '#cccccc',\n    'GRAY': '#CCCCCC',\n    'grey': '#cccccc',\n    'GREY': '#CCCCCC',\n    'purple': '#9B30FF',\n    'PURPLE': '#9B30FF'\n}\n"},{}],155:[function(e,t,n){"use strict";var i=e("es6-template-strings"),r=e("../../utils/oop.js"),o=e("./baseRunner.js"),a=e("./pythonRunner.js"),s=e("../editorUtils.js").safeSkulpt,u=e("./templates/turtle.txt");function l(e,t){var n=this;n.running=!1,n.pythonRunner=new a(e,t),n.runCompleted=$.Deferred().resolve(),(Sk.TurtleGraphics||(Sk.TurtleGraphics={})).target="python-canvas"}r.inherits(l,o),l.prototype.init=function(){this._publish("updateCanvas")},l.prototype.quickDraw=function(e){return e=_.defaults(e,{width:400,height:400,oldTarget:"python-canvas",animate:!0,canvasCoordinates:[]}),this.runCompleted=this.runCompleted.then((function(){var t=$.Deferred(),n=window.Sk.TurtleGraphics.width||400,r=window.Sk.TurtleGraphics.height||400;window.Sk.TurtleGraphics.target=e.target,window.Sk.TurtleGraphics.width=e.width,window.Sk.TurtleGraphics.height=e.height,window.Sk.TurtleGraphics.animate=e.animate;var o=i(u,{coords:e.canvasCoordinates.join(", ")})+"__turtle.tracer(0,0)\n"+e.code+"\n__turtle.update()";return s("<stdin>",!1,o,!0).then((function(){window.Sk.TurtleGraphics.target=e.oldTarget,window.Sk.TurtleGraphics.width=n,window.Sk.TurtleGraphics.height=r,window.Sk.TurtleGraphics.animate=!0,t.resolve()})),t}))},l.prototype.run=function(e){var t=this,n=i(u,{coords:""});return t.runCompleted=t.runCompleted.then((function(){return e=n+e,t.pythonRunner.run(e)}))},l.prototype.stop=function(){this.pythonRunner.stop()},t.exports=l},{"../../utils/oop.js":192,"../editorUtils.js":73,"./baseRunner.js":127,"./pythonRunner.js":140,"./templates/turtle.txt":152,"es6-template-strings":416}],156:[function(e,t,n){"use strict";var i=e("../../utils/oop.js"),r=e("../editorUtils.js").safeEval,o=e("./baseRunner.js");function a(e){this.editor=e,this.running=!1}i.inherits(a,o),a.prototype.run=function(e){var t=this;t.running=!0;var n=r(e);return t.running=!1,t.editor.stop(),n},t.exports=a},{"../../utils/oop.js":192,"../editorUtils.js":73,"./baseRunner.js":127}],157:[function(e,t,n){"use strict";var i,r=e("../../core/settings.js").STATIC_URL,o=e("../../utils/oop.js"),a=e("../editorUtils.js").safeEval,s=e("./baseRunner.js");function u(e){this.editor=e,this.running=!1}o.inherits(u,s),u.prototype.run=function(e,t){var n=this;n.running=!0,i=window.Sk.output;var o=$.Deferred();return window.Sk.externalLibraries={json:{path:r+"lib/skulpt-external/json/__init__.js",dependencies:[r+"lib/skulpt-external/json/stringify.js"]}},window.Sk.configure({read:function(e){if(void 0===window.Sk.builtinFiles||void 0===window.Sk.builtinFiles.files[e])throw'File not found: "'+e+'"';return window.Sk.builtinFiles.files[e]},output:function(e){e.match(/^__unittests__/)&&(e=e.replace(/^__unittests__/,""),e=JSON.parse(e),o.resolve(e)),window.Sk.configure({output:i})}}),a(window.Sk.importMainWithBody("<stdin>",!1,e)),n.running=!1,n.editor.stop(),o},t.exports=u},{"../../core/settings.js":61,"../../utils/oop.js":192,"../editorUtils.js":73,"./baseRunner.js":127}],158:[function(e,t,n){"use strict";var i=e("../utils/ajax.js"),r=e("../core/constants.js"),o=e("./modules/typeTester.js");function a(e){for(var t in e=e||{})this[t]=e[t];this.editor=window.ace.edit("problem-editor"),this.setup()}a.prototype.setup=function(){this.editor.getSession().setUseWorker(!1),this.typeTester=new o(this);var e=this.getModeString();this.modeString=e,this.editor.getSession().setMode("ace/mode/"+e);var t=r.EditorThemes.STRINGS[this.themeID];this.editor.setTheme("ace/theme/"+t),this.editor.setBehavioursEnabled(this.autocompleteEnabled),this.setupEditorEvents()},a.prototype.getModeString=function(){return this.typeTester.isHTML()?"html":this.typeTester.isPython()?"python":this.typeTester.isJava()?"java":this.typeTester.isSQL()?"sql":r.ItemTypeConfig.CONFIGS[this.getItemType()].normal_text_editor?"text":"javascript"},a.prototype.setupEditorEvents=function(){var e=this;$("#edit-starter-code").on("click",(function(){$("#edit-exercise-code-modal").addClass("starter-edit"),$("#edit-exercise-code-modal").removeClass("solution-edit"),e.editor.session.setValue(e.itemStarterCode),$("#save-code-btn .save-text").text("Save Starter Code")})),$("#edit-solution-code").on("click",(function(){$("#edit-exercise-code-modal").removeClass("starter-edit"),$("#edit-exercise-code-modal").addClass("solution-edit"),e.editor.session.setValue(e.itemSolutionCode),$("#save-code-btn .save-text").text("Save Solution Code")})),$("#save-code-btn").on("click",(function(){$(this).attr("disabled","disabled");var t,n=e.editor.getValue(),r=$(this).data("id");t=$("#edit-exercise-code-modal").hasClass("starter-edit")?"starter":"solution",i.send({method:"edit_item_info",app:"library",data:{exercise:r,new_val:n,field:t},success:function(i){"ok"==i.status&&($("#edit-exercise-code-modal").modal("hide"),"starter"==t?e.itemStarterCode=n:e.itemSolutionCode=n,e.editor.session.setValue()),$("#save-code-btn").removeAttr("disabled")}})}))},a.prototype.getProgrammingLanguage=function(){return this.language},a.prototype.getProgramType=function(){return this.progType},a.prototype.getItemType=function(){return this.itemType},t.exports=a},{"../core/constants.js":58,"../utils/ajax.js":185,"./modules/typeTester.js":114}],159:[function(e,t,n){var i=e("../utils/ajax.js"),r=e("moment"),o=e("../core/pubSub.js"),a=e("../utils/alert.js"),s=e("../core/constants.js"),u="#submit-button";t.exports=function(e,t){"None"!==window.userData.id&&window.userData.id?e.hasOwnProperty("student_assignment_id")?(window.CodeHSEditor&&o.trigger("editor:sr:statusUpdate","Submitting Assignment"),i.send({method:"submit_assignment",app:"lms",data:e,success:function(e){"ok"==e.status?t&&t(this):(window.CodeHSEditor&&o.trigger("editor:sr:statusUpdate","Assignment has errors"),o.trigger("utils:enableButton",u),a({message:e.msg,header:"Please Try Again",button:"OK"}))},error:function(){o.trigger("editorError:handle",{message:"There was an error submitting your code! Please try again before moving on.",name:"code error"},"eval"),window.toastr.error("There was an error submitting your code! Please try again before moving on."),o.trigger("editor:sr:statusUpdate","There was an error submitting your code! Please try again before moving on."),setTimeout((function(){o.trigger("utils:enableButton",u)}),1e3)}})):i.send({method:"submit_item",app:"help",data:e,success:function(e){"ok"==e.status?t&&t(this):(o.trigger("utils:enableButton",u),a({message:e.msg,header:"Please Try Again",button:"OK"}))},error:function(){o.trigger("editorError:handle",{message:"There was an error saving your code! Please try again before moving on.",name:"code error"},"eval"),window.toastr.error("There was an error saving your code! Please try again before moving on."),setTimeout((function(){o.trigger("utils:enableButton",u)}),1e3)}}):(!function(e){var t;try{t=JSON.parse(localStorage.submittedPrograms)}catch(e){t=[]}t.push({info:e,timestamp:r().unix()}),localStorage.submittedPrograms=JSON.stringify(t)}(e),t&&t()),window.pageSpecific.freeResponseAutograder!=s.AIAutograderSetting.BACKGROUND&&window.pageSpecific.htmlAutograder!=s.AIAutograderSetting.BACKGROUND||i.send({app:"ai",method:"async_ai_autograde",data:{item_id:window.pageSpecific.itemID,student_id:window.pageSpecific.codeUserID,student_assignment_id:window.pageSpecific.studentAssignmentID,test_cases:"The student's response addresses the assignment."}})}},{"../core/constants.js":58,"../core/pubSub.js":60,"../utils/ajax.js":185,"../utils/alert.js":186,moment:506}],160:[function(e,t,n){var i,r=e("datamaps"),o=e("../utils/ajax.js"),a=e("../core/pubSub.js"),s=e("toastr"),u="#traceroute-button";function l(){i=new r({element:document.getElementById("traceroute-map"),scope:"usa"}),$(u).on("click",(function(){var e=$("#traceroute-select").val();void 0!==e&&""!==e&&($(u).attr("disabled","disabled"),$(u).children(".text").hide(),$(u).children(".icon").show(),function(e){o.send({method:"traceroute_map",app:"editor",data:{ipAddr:e},success:function(e){if("ok"==e.status){var t=e.hops,n=[];t.forEach((function(e,r){var o={};if(0===r?(o.origin={latitude:37.776126,longitude:-122.415343},o.destination={latitude:e.latitude,longitude:e.longitude}):(o.origin={latitude:t[r-1].latitude,longitude:t[r-1].longitude},o.destination={latitude:e.latitude,longitude:e.longitude}),o.origin.latitude!=o.destination.latitude||o.origin.longitude!=o.destination.longitude){n.push(o),function(e,t){var n=e+" "+t;$("#console").append(n+"\n")}(e.hop_num,e.ip_address);o.origin.latitude,o.origin.longitude,o.destination.latitude,o.destination.longitude;i.arc(n)}})),$(u).children(".text").show(),$(u).children(".icon").hide(),$(u).removeAttr("disabled")}else $(u).children(".text").show(),$(u).children(".icon").hide(),$(u).removeAttr("disabled"),s.error("Error: "+e.msg)},error:function(e){$(u).children(".text").show(),$(u).children(".icon").hide(),$(u).removeAttr("disabled")}})}(e))}))}a.on("editor:traceroute:map:setup",(function(){l()}))},{"../core/pubSub.js":60,"../utils/ajax.js":185,datamaps:363,toastr:858}],161:[function(e,t,n){var i=e("./core/pubSub.js");e("jq-console"),e("../lib/spectrum/spectrum.js"),e("../lib/stacktrace-min-0.3.js"),e("../lib/jslint.js"),window.stringify=e("json-stable-stringify"),e("./editor/newVideoPage.js"),e("./editor/traceroute.js"),e("./page-specific/editor/slides.js"),e("./page-specific/editor/survey.js"),e("./page-specific/editor/itemNotReleasedToast.js"),e("./page-specific/editor/notesNumberBaseTool.js"),e("./autograder/core.js"),e("./page-specific/editor/abacusEditor.js"),e("./page-specific/editor/abacusShareProgramEditor.js"),e("./page-specific/editor/embeddedAbacusSharedProgram.js"),e("./page-specific/editor/abacusCodeReplay.js"),e("./page-specific/editor/viewNote.js"),window.CodeHSEditor=e("./editor/chsEditor.js"),window.SimpleEditor=e("./editor/simpleEditor.js"),i.on("editor:setup",(function(){window.editorSpecific.itemOutput&&window.CodeHSConsole.setSolution(window.editorSpecific.itemOutput),window.editorSpecific.hideDarkScreen&&$(".dark-screen").hide(),window.HOC_LOGGED_OUT_PLAYLIST_EDITOR=window.editorSpecific.HOC_LOGGED_OUT_PLAYLIST_EDITOR,window.IS_PRACTICE=window.editorSpecific.IS_PRACTICE,window.PRACTICE_LOGGED_OUT_EDITOR=window.editorSpecific.PRACTICE_LOGGED_OUT_EDITOR,window.Ed=new window.CodeHSEditor(window.editorData),window.editorSpecific.simpleEditorData&&(window.SimpleEd=new window.SimpleEditor(window.editorSpecific.simpleEditorData)),window.editorSpecific.isMultiFile&&$(".error-container").selectable({selected:function(e,t){var n=$(t.selected).data("line"),i=$(t.selected).data("column")-1;if(window.editorSpecific.shouldSelectFile){var r=$(t.selected).data("filename");$('a.file[data-filename="'+r+'"]').trigger("click")}window.Ed.aceEditor.editor.gotoLine(n,i,!0),window.Ed.aceEditor.editor.focus()}}),window.editorSpecific.isEmbeddable&&$("#embed-tab-container").on("click",(function(){var e=$("#embed-textarea"),t=e.val();e.val(t.replace("//placeholder-code",window.Ed.aceEditor.getValue()))})),window.editorSpecific.isFreeResponse&&i.trigger("utils:switchToTab","#exercise-tab")})),i.on("editor:other:setup",(function(){window.CodeHSConsole.setSolution(""),$(".dark-screen").hide(),window.Ed=new window.CodeHSEditor(window.editorData)})),i.on("editor:sr:statusUpdate",(function(e){var t=$("#editor-sr-status-msg");t&&t.html(e)})),window.addEventListener("message",(function(e){["https://static1.codehs.com","http://localhost:8000","https://staticflare.codehs.com","https://devstaticflare.codehs.com"].includes(e.origin)&&e.data&&"react-native-player-error"===e.data.name&&i.trigger("editorError:handle",{lineNumber:e.data.lineNumber,stack:e.data.stack,message:e.data.message},"react_native")}),!1)},{"../lib/jslint.js":223,"../lib/spectrum/spectrum.js":224,"../lib/stacktrace-min-0.3.js":225,"./autograder/core.js":41,"./core/pubSub.js":60,"./editor/chsEditor.js":67,"./editor/newVideoPage.js":116,"./editor/simpleEditor.js":158,"./editor/traceroute.js":160,"./page-specific/editor/abacusCodeReplay.js":164,"./page-specific/editor/abacusEditor.js":166,"./page-specific/editor/abacusShareProgramEditor.js":169,"./page-specific/editor/embeddedAbacusSharedProgram.js":170,"./page-specific/editor/itemNotReleasedToast.js":171,"./page-specific/editor/notesNumberBaseTool.js":172,"./page-specific/editor/slides.js":173,"./page-specific/editor/survey.js":174,"./page-specific/editor/viewNote.js":175,"jq-console":472,"json-stable-stringify":498}],162:[function(e,t,n){t.exports='<div class=container style="height:400px; width:700px"><style>a.place.btn.btn-default{\n      border-color: #FFFFFF;\n      pointer-events: none;\n    }</style><h4>Binary (Base-2) Value:</h4><div class="btn-group btn-group-justified" role=group aria-label=binaryData><a class="place128 bit btn btn-main-dark-blue" data-place=128 id=place128 role=button>0</a> <a class="place64 bit btn btn-main-dark-blue" data-place=64 id=place64 role=button>0</a> <a class="place32 bit btn btn-main-dark-blue" data-place=32 id=place32 role=button>0</a> <a class="place16 bit btn btn-main-dark-blue" data-place=16 id=place16 role=button>0</a> <a class="place8 bit btn btn-main-dark-blue" data-place=8 id=place8 role=button>0</a> <a class="place4 bit btn btn-main-dark-blue" data-place=4 id=place4 role=button>0</a> <a class="place2 bit btn btn-main-dark-blue" data-place=2 id=place2 role=button>0</a> <a class="place1 bit btn btn-main-dark-blue" data-place=1 id=place1 role=button>0</a></div><div class="btn-group btn-group-justified" role=group aria-label=binaryLabels><a class="place btn btn-default">128</a> <a class="place btn btn-default">64</a> <a class="place btn btn-default">32</a> <a class="place btn btn-default">16</a> <a class="place btn btn-default">8</a> <a class="place btn btn-default">4</a> <a class="place btn btn-default">2</a> <a class="place btn btn-default">1</a></div><div class="btn-group btn-group-justified" role=group aria-label=binaryPowers><a class="place btn btn-default">(2<sup>7</sup>)</a> <a class="place btn btn-default">(2<sup>6</sup>)</a> <a class="place btn btn-default">(2<sup>5</sup>)</a> <a class="place btn btn-default">(2<sup>4</sup>)</a> <a class="place btn btn-default">(2<sup>3</sup>)</a> <a class="place btn btn-default">(2<sup>2</sup>)</a> <a class="place btn btn-default">(2<sup>1</sup>)</a> <a class="place btn btn-default">(2<sup>0</sup>)</a></div><h4>Decimal (Base-10) Value:</h4><center><h2 id=binaryResult></h2><h2 id=decimalResult></h2></center></div>'},{}],163:[function(e,t,n){var i=e("./index.hbs");function r(){var e=$(i),t=e.find(".bit"),n=e.find("#decimalResult"),r=e.find("#binaryResult"),o=t.get().sort((function(e,t){return parseInt($(e).attr("data-place"))>parseInt($(t).attr("data-place"))?-1:1}));return t.on("click",(function(){"0"==$(this).html()?$(this).html("1").addClass("on").addClass("btn-main-blue").removeClass("btn-main-dark-blue"):$(this).html("0").removeClass("on").addClass("btn-main-dark-blue").removeClass("btn-main-blue");var e="",t="",i=0;$.each(o,(function(n,r){if(t+=$(this).html(),$(r).hasClass("on")){var o=$(this).attr("data-place");e=e+" + "+o,i+=parseInt(o)}})),e=0===e.length?"0<sub>10</sub> = 0<sub>10</sub>":e.substring(3)+"<sub>10</sub> = "+i.toString()+"<sub>10</sub>",t=t+"<sub>2</sub> = "+i.toString()+"<sub>10</sub>",n.html(e),r.html(t)})),e}t.exports={dialog:function(e){r().dialog(e)},jqueryElem:r}},{"./index.hbs":162}],164:[function(e,t,n){"use strict";var i=e("../../utils/ajax.js"),r=e("../../core/pubSub.js"),o=e("../../editor/editorUtils.js").flattenAbacusFiles,a=e("./abacusEditor.js").shimAbacusForModules,s=e("../../utils/chsUtils.js").getQueryParams,u=e("../../editor/editorUtils.js").mapAbacusFiles,l=e("../../core/constants.js").Uploads.UPLOADS_PROXY_BASE_URL,c=e("./abacusEditorUtils.js"),d=c.fetchAjaxTabRequests,p=c.deriveAbacusSettings;function h(e){return(new DOMParser).parseFromString(e,"text/html").documentElement.textContent}function f(){var e,t,n,i=window.pageSpecific.keystrokes;i.unshift(null),window.keystrokes=i;var r,o,a=window.pageSpecific.starterCode,s=$("#start-replay"),u=$("#pause-replay"),l=$("#reset-replay"),c=$("#step-back"),d=$("#step-forward"),p=$("#replay-time"),h=$("#replay-scrubber"),f=$("#top-bar"),m=null,g=0,y=0;function v(e){e.preventDefault(),e.stopImmediatePropagation()}function _(){s.attr("disabled",!1),u.attr("disabled",!0),r.container.removeEventListener("click",v,!0),r.container.removeEventListener("mousedown",v,!0),m&&clearTimeout(m)}function b(e,t){if(e>0){var n=i[e];if("i"==n.action||"p"==n.action){var a=n.start.row+n.lines.length-1,s=n.start.column+n.lines[n.lines.length-1].length-1;r.moveCursorTo(a,s),o.insert(n.start,n.lines.join("\n")),"p"==n.action&&t?($(".paste").removeClass("hidden"),f.removeClass("paste-flash"),setTimeout((function(){f.addClass("paste-flash")}),0)):$(".paste").addClass("hidden")}else"r"==n.action&&(o.remove(new window.ace.Range(n.start.row,n.start.column,n.end.row,n.end.column)),r.moveCursorTo(n.start.row,n.start.column));t&&h.val(e),p.text((u=n.timestamp-y,l=Math.round(u/1e3),c=Math.floor(l/86400),d=Math.floor(l%86400/3600),m=Math.floor(l%3600/60),g=l%60,v=[],c>0&&v.push(c.toString().padStart(2,"0")),(c>0||d>0)&&v.push(d.toString().padStart(2,"0")),v.push(m.toString().padStart(2,"0")),v.push(g.toString().padStart(2,"0")),v.join(":")))}var u,l,c,d,m,g,v;return e+1}function w(e){g=0,r.setValue(a,-1),function t(){var n=b(g,!1);n<=e&&(g=n,t())}(),e>0&&"p"==i[e].action?($(".paste").removeClass("hidden"),f.removeClass("paste-flash"),setTimeout((function(){f.addClass("paste-flash")}),0)):$(".paste").addClass("hidden")}i.length>1&&(y=i[1].timestamp),r=null===(e=window.pageSpecific.editorRef)||void 0===e||null===(t=e.current)||void 0===t?void 0:t.editor,o=null===(n=r)||void 0===n?void 0:n.session,r.setValue(a,-1),s.on("click",(function(){r.container.addEventListener("click",v,!0),r.container.addEventListener("mousedown",v,!0),$(this).attr("disabled",!0),u.attr("disabled",!1),g>=i.length-1&&w(0),r&&o&&(m&&clearTimeout(m),i.length&&(g>0&&(w(g),g++),function e(){if(0==g&&(g=1),!(g>=i.length)){var t=b(g,!0);if(t<i.length){var n=i[t].timestamp-i[g].timestamp;n>750&&(n=750),g=t,m=setTimeout(e,n)}else _()}}()))})),u.on("click",(function(){_()})),l.on("click",(function(){_(),g=0,h.val(0),r.setValue(a,-1)})),h.on("input",(function(){_(),w(parseInt($(this).val()))})),c.on("click",(function(){_(),g>0&&(h.val(g-1),w(g-1))})),d.on("click",(function(){_(),g<i.length-1&&(h.val(g+1),w(g+1))}))}r.on("codeReplay:setup",(function(){var e=window.pageSpecific.hideLeftPanel,t={editorEngine:window.pageSpecific.editorEngine,autoRun:window.pageSpecific.autorun,projectName:h(window.pageSpecific.itemTitle),projectType:window.pageSpecific.abacusProjectType,root:"root",slurpHTML:window.pageSpecific.slurpHTML,useBlockly:!1,dockerImage:window.pageSpecific.dockerImage,hideSettingsButton:window.pageSpecific.isTutorial||window.pageSpecific.isBlockly,leftTabsMinimized:!0,helperCode:window.pageSpecific.helper_code,staticUrl:window.CHS.GULP_URL+"abacus/",hideNewFileButton:window.pageSpecific.hideNewFileButton,readOnly:window.pageSpecific.readOnly,displayMode:window.pageSpecific.displayMode,files:u(window.pageSpecific.files,(function(e){return Object.assign(e,{text:h(e.text)})})),autoFocus:!1,projectConfigurationOverrides:{inDebugMode:window.pageSpecific.inDebugMode},editorSettings:{theme:{value:window.pageSpecific.editorSettings.theme.value,choices:window.pageSpecific.editorSettings.theme.choices,displayName:window.pageSpecific.editorSettings.theme.displayName,category:window.pageSpecific.editorSettings.theme.category},fontSize:{value:window.pageSpecific.editorSettings.fontSize.value,displayName:window.pageSpecific.editorSettings.fontSize.displayName,category:window.pageSpecific.editorSettings.fontSize.category,type:"numerical"},consoleFontSize:{value:window.pageSpecific.editorSettings.consoleFontSize.value,displayName:window.pageSpecific.editorSettings.consoleFontSize.displayName,category:window.pageSpecific.editorSettings.consoleFontSize.category,type:"numerical"},defaultBlocks:{value:window.pageSpecific.editorSettings.defaultBlocks.value,displayName:window.pageSpecific.editorSettings.defaultBlocks.displayName,category:window.pageSpecific.editorSettings.defaultBlocks.category,type:"switch"},autoComplete:{value:window.pageSpecific.editorSettings.autocomplete.value,displayName:window.pageSpecific.editorSettings.autocomplete.displayName,category:window.pageSpecific.editorSettings.autocomplete.category,type:"switch"},wrapLines:{value:window.pageSpecific.editorSettings.wrapLines.value,displayName:window.pageSpecific.editorSettings.wrapLines.displayName,category:window.pageSpecific.editorSettings.wrapLines.category,type:"switch"}},allowUploads:!0,processFiles:function(e){return new Promise((function(t,n){$.ajax({url:"/core/ajax/abacus_upload",type:"POST",data:e,processData:!1,dataType:"JSON",contentType:!1}).then((function(e){if("ok"!=e.status&&e.msg)window.toastr.error(e.msg);else switch(e.type){case"file_contents":t(e.file_text);break;case"file_tree":t(e.file_tree);break;case"asset_url":var n=l+e.url;t(n)}}))}))},onSettingsChange:function(e,t,n){window.pageSpecific.viewerID&&i.send({method:"user_settings_change",app:"editor",data:{setting:e,value:t,user_id:window.pageSpecific.viewerID,editor_engine:n}})},onFileRename:function(e){var t=e.newFileName,n=e.main;return new Promise((function(e,r){n?i.send({method:"update_main_class",app:"library",type:"POST",data:{item_id:window.pageSpecific.itemID,filename:t},success:function(t){"ok"==t.status?e():r()}}):e()}))},onSave:function(e,t){return"mainFileChanged"===t?new Promise((function(t,n){var r=o(e),a=r.filter((function(e){return e.main}))[0]||r[0];i.send({method:"update_main_class",app:"library",type:"POST",data:{item_id:window.pageSpecific.itemID,filename:a.name},success:function(e){if("ok"==e.status)return t();n()}})})):Promise.resolve()},activeFilePathString:s().filepath,codeServerUrl:window.pageSpecific.codeServerUrl,history:[],hideTabContainerTopBar:!1,hideTopBar:!0,hideLeftPanel:e,canRenameMainFile:!0,baseHtmlProgramUrl:window.pageSpecific.baseHtmlProgramUrl,isEmbedded:!0,showSaveButton:window.pageSpecific.codeUserID===window.pageSpecific.viewerID};window.pageSpecific.newEditorSettings?window.myAbacus=new window.Abacus(p({pageSpecific:pageSpecific,autoFocus:!1,projectConfigurationOverrides:{inDebugMode:window.pageSpecific.inDebugMode},explicitlyAllowUploads:!0,hideTabContainerTopBar:!1,hideTopBar:!0,isEmbedded:!0,canRenameMainFile:!0,newResolvedSettings:window.pageSpecific.newEditorSettings,permissions:{},processFiles:function(e){return new Promise((function(t,n){$.ajax({url:"/core/ajax/abacus_upload",type:"POST",data:e,processData:!1,dataType:"JSON",contentType:!1}).then((function(e){if("ok"!=e.status&&e.msg)window.toastr.error(e.msg);else switch(e.type){case"file_contents":t(e.file_text);break;case"file_tree":t(e.file_tree);break;case"asset_url":var n=l+e.url;t(n)}}))}))},onSettingsChange:function(e,t,n){window.pageSpecific.viewerID&&i.send({method:"user_settings_change",app:"editor",data:{setting:e,value:t,user_id:window.pageSpecific.viewerID,editor_engine:n}})},onFileRename:function(e){var t=e.newFileName,n=e.main;return new Promise((function(e,r){n?i.send({method:"update_main_class",app:"library",type:"POST",data:{item_id:window.pageSpecific.itemID,filename:t},success:function(t){"ok"==t.status?e():r()}}):e()}))},onSave:function(e,t){return"mainFileChanged"===t?new Promise((function(t,n){var r=o(e),a=r.filter((function(e){return e.main}))[0]||r[0];i.send({method:"update_main_class",app:"library",type:"POST",data:{item_id:window.pageSpecific.itemID,filename:a.name},success:function(e){if("ok"==e.status)return t();n()}})})):Promise.resolve()},showSaveButton:window.pageSpecific.codeUserID===window.pageSpecific.viewerID})):window.myAbacus=new window.Abacus(t),$(".__abacus_tab-bar").css("display","none"),window.pageSpecific.showGradingTab&&$("#right-tab-bar.__abacus_tab-bar").css("display","flex"),a(window.myAbacus),d(),window.pageSpecific.keystrokes.length&&($("#start-replay").attr("disabled",!1),$("#reset-replay").attr("disabled",!1),$("#replay-scrubber").attr("disabled",!1),f())}))},{"../../core/constants.js":58,"../../core/pubSub.js":60,"../../editor/editorUtils.js":73,"../../utils/ajax.js":185,"../../utils/chsUtils.js":187,"./abacusEditor.js":166,"./abacusEditorUtils.js":167}],165:[function(e,t,n){"use strict";t.exports='<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M448 312.43c.77-1.11 1.51-2.26 2.27-3.34A174.55 174.55 0 00480 211.85C480.32 112.55 396.54 32 292.94 32c-90.36 0-165.74 61.49-183.4 143.12a172.81 172.81 0 00-4 36.83c0 99.4 80.56 182.11 184.16 182.11 16.47 0 38.66-4.95 50.83-8.29s24.23-7.75 27.35-8.94 8-2.41 11.89-1.29l77.42 22.38a4 4 0 005-4.86l-17.72-67.49c-1.23-5-1.39-5.94 3.53-13.14z"></path><path d="M312.54 415.38a165.32 165.32 0 01-23.26 2.05c-42.43 0-82.5-11.2-115-32.2a184.09 184.09 0 01-53.09-49.32c-26.08-34.57-40.3-78.51-40.3-124.49 0-3.13.11-6.14.22-9.16a4.34 4.34 0 00-7.54-3.12 158.76 158.76 0 00-14.86 195.24c2.47 3.77 3.87 6.68 3.44 8.62l-14.09 72.26a4 4 0 005.22 4.53l68-24.24a16.85 16.85 0 0112.92.22c20.35 8 42.86 12.92 65.37 12.92a169.45 169.45 0 00116.63-46 4.29 4.29 0 00-3.66-7.31z"></path></svg>'},{}],166:[function(require,module,exports){"use strict";function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function _iterableToArrayLimit(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){s=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return o}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ajax=require("../../utils/ajax.js"),_=require("lodash"),h=require("hyperscript"),html=require("hyperscript-helpers")(h),alertModal=require("../../utils/alert.js"),validEmail=require("../../utils/chsUtils.js").validEmail,PubSub=require("../../core/pubSub.js"),submit=require("../../editor/submitter.js"),EditorInstructions=require("./abacusInstructionsModal.js"),ShareTab=require("../../editor/modules/shareTab.js"),LMSGradingTab=require("../../editor/modules/lmsGradingTab.js"),HelpTab=require("../../editor/modules/helpTab.js"),ConversationTab=require("../../editor/modules/conversationTab.js"),GradingTab=require("../../editor/modules/gradingTab.js"),UploadTab=require("../../editor/modules/uploadTab.js"),PhoneTab=require("../../editor/modules/phoneTab.js"),TypeTester=require("../../editor/modules/typeTester.js"),KarelWorld=require("../../editor/karel/karelWorld.js"),RunnerFactory=require("../../editor/runnerFactory.js"),QuillCustom=require("../../utils/quillCustom.js"),flattenAbacusFiles=require("../../editor/editorUtils.js").flattenAbacusFiles,mapAbacusFiles=require("../../editor/editorUtils.js").mapAbacusFiles,groupsToPermissions=require("../../editor/editorUtils.js").groupsToPermissions,turtleTemplate=require("../../editor/runners/templates/turtle.txt"),turtleInputOerrideTemplate=require("../../editor/runners/templates/turtleInputOverride.txt"),template=require("es6-template-strings"),expoIntegrationUtils=require("../../utils/expoIntegrationUtils.js"),getQueryParams=require("../../utils/chsUtils.js").getQueryParams,modalAlert=require("../../utils/chsUtils.js").alert,conversationTabIcon=require("./abacusConversationIcon.js"),SHARE_MODAL_TEMPLATE=require("../../templates/share_modal.hbs"),FORK_MODAL_TEMPLATE=require("../../templates/fork_modal.hbs"),CONTEST_MODAL_TEMPLATE=require("../../templates/contest_modal.hbs"),BU_CONTEST_MODAL_TEMPLATE=require("../../templates/bu_contest_modal.hbs"),FAVORITE_PROGRAM_STAR=".favorite-program-star",GRADE_CODE_BUTTON="button.grade_code",GRADING_TAB_CHECK_BUTTON="#grading-unit-test-run",SUBMIT_BUTTON="#submit-button",RUN_BUTTON=".run_code",SUBMIT_CORRECT_BUTTON="#submit-correct",AI_EASIER_BUTTON="#ai-easier-button",AI_CHALLENGE_BUTTON="#ai-challenge-button",SHARE_SCREENSHOT_WAIT_TIME=5e3,CODE_LINE_LIMIT=1e4,mostRecentSavedCode,submittedToContest={},C=require("../../core/constants.js"),_require=require("./abacusEditorUtils.js"),fetchAjaxTabRequests=_require.fetchAjaxTabRequests,registerAjaxTabRequest=_require.registerAjaxTabRequest,htmlDecode=_require.htmlDecode,loadHistory=_require.loadHistory,cleanupTabRequests=_require.cleanupTabRequests,updateQueryString=_require.updateQueryString,deriveAbacusSettings=_require.deriveAbacusSettings,JavaErrors=require("../../editor/javaErrors.js"),BASE_URL=C.Uploads.UPLOADS_PROXY_BASE_URL,TIMERS=[],ANSI={transform:function(e){var t=new RegExp(["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:[a-zA-Z\\d]*(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|"),"g");return e.replace(t,"")}};function onCollaborationEnabled(e){if(window.pageSpecific.showCollabTab){var t={identifier:e};if(window.pageSpecific.sharedProgramID)t=_objectSpread(_objectSpread({},t),{},{shared_program_id:window.pageSpecific.sharedProgramID});else{if(!window.pageSpecific.studentAssignmentID)return void window.toastr.error("No shared program or student assignment found to collaborate on");t=_objectSpread(_objectSpread({},t),{},{student_assignment_id:window.pageSpecific.studentAssignmentID})}Ajax.send({method:"setup_collaboration",app:"editor",data:t});var n=window.location.href;if(!n.includes(e)){var i="collaborate="+e;n.endsWith("?")?n+=i:n+=(n.includes("?")?"&":"?")+i}$("#share-modal-collab-link").val(n)}}function onCollaborationDisabled(){if(window.pageSpecific.showCollabTab)return new Promise((function(e,t){var n;window.pageSpecific.sharedProgramID?n={shared_program_id:window.pageSpecific.sharedProgramID}:window.pageSpecific.studentAssignmentID?n={student_assignment_id:window.pageSpecific.studentAssignmentID}:(window.toastr.error("No shared program or student assignment found to collaborate on"),e()),Ajax.send({method:"disable_collaboration",app:"editor",data:n,success:function(n){"ok"===n.status?e():t()}})}))}function onCollabIdentifierReset(){if(window.pageSpecific.showCollabTab)return new Promise((function(e,t){var n;window.pageSpecific.sharedProgramID?n={shared_program_id:window.pageSpecific.sharedProgramID}:window.pageSpecific.studentAssignmentID?n={student_assignment_id:window.pageSpecific.studentAssignmentID}:(window.toastr.error("No shared program or student assignment found to collaborate on"),e()),Ajax.send({method:"reset_collab_identifier",app:"editor",data:n,success:function(n){"ok"===n.status?e():t()}})}))}function onAudioDataReceived(e){var t=new FormData;return t.append("file",e),new Promise((function(e,n){$.ajax({url:"/core/ajax/code_remix_upload_beat",type:"POST",data:t,processData:!1,dataType:"JSON",contentType:!1}).then((function(t){e(t.url)}))}))}function onSendAudioText(e,t){var n="Download your beat at https://codehs.com/uploads/"+t;return new Promise((function(t,i){Ajax.send({method:"send_text_message",app:"core",data:{phone_number:e,message:n},success:function(e){"ok"===e.status?(window.toastr.success("Text Message Sent!"),t()):i(e.msg)}})}))}function shimAbacusForModules(e){var t={cleanup:function(){},getCode:function(){var t,n=null===(t=flattenAbacusFiles(e.getCodeTree()).filter((function(e){return e.main})))||void 0===t?void 0:t[0];return n?n.text:flattenAbacusFiles(e.getCodeTree())[0].text},getCurrentCode:function(){return flattenAbacusFiles(e.getCodeTree()).reduce((function(e,t){var n={};return n[t.name]=t.text,Object.assign(e,n)}),{})},currentCode:flattenAbacusFiles(e.getCodeTree()).reduce((function(e,t){var n={};return n[t.name]=t.text,Object.assign(e,n)}),{}),code:flattenAbacusFiles(e.getCodeTree()).reduce((function(e,t){var n={};return n[t.name]=t.text,Object.assign(e,n)}),{}),setCode:function(t){var n=Object.entries(t).reduce((function(e,t,n){return Object.assign({name:t[0],text:t[1],main:0===n},e)}),{});e.setCodeTree([n])},studentAssignmentID:window.pageSpecific.studentAssignmentID,getItemType:function(){return window.pageSpecific.itemType},itemType:window.pageSpecific.itemType,isOwnPage:function(){return window.pageSpecific.viewerID===window.pageSpecific.codeUserID},isHourOfCode:function(){return"hourofcode"===window.pageSpecific.editorType},getProgrammingLanguage:function(){return window.pageSpecific.programmingLanguage},getProgramType:function(){return window.pageSpecific.progType},getItemID:function(){return window.pageSpecific.itemID},autograderCode:JSON.parse(window.pageSpecific.autograderCode),autograderConfig:window.pageSpecific.autograderConfig,codeUserID:window.pageSpecific.codeUserID,viewerID:window.pageSpecific.viewerID,solutionCode:htmlDecode(window.pageSpecific.solutionCode),save:function(t,n){void 0!==n?saveCode(e.getCodeTree(),!1,n).then((function(){t()})):saveCode(e.getCodeTree()).then((function(){t()}))},getInfo:function(){return this.info},info:{codeUserID:window.pageSpecific.codeUserID,itemID:window.pageSpecific.itemID,studentAssignmentID:window.pageSpecific.studentAssignmentID,moduleID:window.pageSpecific.moduleID,courseID:window.pageSpecific.courseID},itemID:window.pageSpecific.itemID,moduleID:window.pageSpecific.moduleID,courseID:window.pageSpecific.courseID,stop:function(){window.CodeHSConsole.clear()},cleanNewLine:function(e){return e=(e=e.replace(/\r\n/g,"\n")).replace(/\r/g,"\n")},abc:e.abc,wasShimmed:!0,runOnHub:!0,clearHighlightedLines:function(){},graderExec:function(t,n,i){return new Promise((function(r,o){PubSub.trigger("utils:disableButton",".run_code"),PubSub.trigger("utils:disableButton","button.grade_code"),PubSub.trigger("utils:disableButton","#grading-unit-test-run"),PubSub.trigger("ProgramRun:create",{userId:i.codeUserID,itemId:i.itemID,usesHub:!0,startTime:Date.now()}),e.execWithExistingConnection(t,n).then((function(t){if(PubSub.trigger("utils:enableButton",".run_code"),PubSub.trigger("utils:enableButton","button.grade_code"),PubSub.trigger("utils:enableButton","#grading-unit-test-run"),PubSub.trigger("ProgramRun:successful",Date.now()),e.shim.typeTester.isJava()&&e.shim.javaErrorChecker){var i={name:"karel"},o=[];for(var a in n)if(n.hasOwnProperty(a)){var s={};s.name=a,s.contents=n[a],o.push(s)}i.contents=o,e.shim.javaErrorChecker.check(t.split("\n"),i)}r(ANSI.transform(t))}))}))}};t.typeTester=new TypeTester(t),t.javaErrorChecker=new JavaErrors(t),window.Ed=t,e.shim=t}function setup(){window.pageSpecific.showTeacherSaveButton||setupAutosave(),window.pageSpecific.trackKeystrokes&&setupTrackingKeystrokes(),setupTrackingHeartbeat();var permissions=groupsToPermissions(window.pageSpecific.groups),assetImports=void 0;void 0!==window.pageSpecific.assetImports&&(assetImports=JSON.parse(window.pageSpecific.assetImports),assetImports=assetImports.map((function(e){return e.uploadDate=new Date(JSON.parse(e.uploadDate)),e})));var assetStore=void 0;void 0!==window.pageSpecific.assetStore&&(assetStore=JSON.parse(window.pageSpecific.assetStore),assetStore=assetStore.map((function(e){return e.uploadDate=new Date(JSON.parse(e.uploadDate)),e})));var viewerIsPageUser=window.pageSpecific.codeUserID===window.pageSpecific.viewerID,isAdmin=window.pageSpecific.isAdmin,isFacebookExperienceCourse=58752===window.pageSpecific.teacherCourseID||43536===window.pageSpecific.teacherCourseID||4252===window.pageSpecific.courseID||4280===window.pageSpecific.courseID||4251===window.pageSpecific.courseID,canRenameProject=window.pageSpecific.isSandbox&&window.pageSpecific.isAuthenticated&&viewerIsPageUser&&!window.pageSpecific.isCodeHSMeHomepage;window.pageSpecific.isBlockly&&eval(window.pageSpecific.block_definitions);var consoleThemeValue=window.pageSpecific.editorSettings.consoleTheme.value;"System Default"===consoleThemeValue&&(consoleThemeValue=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"Dark":"Light");var editorSettings={theme:{value:window.pageSpecific.editorSettings.theme.value,choices:window.pageSpecific.editorSettings.theme.choices,displayName:window.pageSpecific.editorSettings.theme.displayName,category:window.pageSpecific.editorSettings.theme.category,type:"choice"},fontSize:{value:window.pageSpecific.editorSettings.fontSize.value,min:10,max:36,displayName:window.pageSpecific.editorSettings.fontSize.displayName,category:window.pageSpecific.editorSettings.fontSize.category,type:"numerical"},consoleFontSize:{value:window.pageSpecific.editorSettings.consoleFontSize.value,displayName:window.pageSpecific.editorSettings.consoleFontSize.displayName,category:window.pageSpecific.editorSettings.consoleFontSize.category,min:10,max:36,type:"numerical"},autoComplete:{value:window.pageSpecific.editorSettings.autocomplete.value,type:"switch",displayName:window.pageSpecific.editorSettings.autocomplete.displayName,category:window.pageSpecific.editorSettings.autocomplete.category,hidden:"Monaco Editor"==window.pageSpecific.editorEngine},wrapLines:{value:window.pageSpecific.editorSettings.wrapLines.value,type:"switch",displayName:window.pageSpecific.editorSettings.wrapLines.displayName,category:window.pageSpecific.editorSettings.wrapLines.category,hidden:"Monaco Editor"==window.pageSpecific.editorEngine},consoleTheme:{value:consoleThemeValue,choices:window.pageSpecific.editorSettings.consoleTheme.choices,displayName:window.pageSpecific.editorSettings.consoleTheme.displayName,category:window.pageSpecific.editorSettings.consoleTheme.category,type:"choice"}};window.pageSpecific.sharedProgramID&&window.pageSpecific.isAuthenticated&&viewerIsPageUser&&window.pageSpecific.editorSettings.sharedProgramDroplet?editorSettings.sharedProgramDroplet={value:window.pageSpecific.editorSettings.sharedProgramDroplet.value,type:"switch",displayName:window.pageSpecific.editorSettings.sharedProgramDroplet.displayName,category:window.pageSpecific.editorSettings.sharedProgramDroplet.category}:window.pageSpecific.isSandbox||(editorSettings.defaultBlocks={value:window.pageSpecific.editorSettings.defaultBlocks.value,type:"switch",displayName:window.pageSpecific.editorSettings.defaultBlocks.displayName,category:window.pageSpecific.editorSettings.defaultBlocks.category});var abacusOptions={uuid:"outer",projectName:htmlDecode(window.pageSpecific.itemTitle),linkProjectName:window.pageSpecific.isHomepage,linkedProjectName:htmlDecode(window.pageSpecific.baseItemTitle),projectType:window.pageSpecific.abacusProjectType,displayMode:window.pageSpecific.displayMode,dockerImage:window.pageSpecific.dockerImage,root:"root",useBlockly:JSON.parse(window.pageSpecific.showBlocks),helperCode:window.pageSpecific.helper_code,customToolbox:JSON.parse(window.pageSpecific.custom_toolbox),staticUrl:window.CHS.GULP_URL+"abacus/",showFileTree:JSON.parse(window.pageSpecific.showFileTree),leftTabsMinimized:window.pageSpecific.isBlockly||window.pageSpecific.isSandbox&&!JSON.parse(window.pageSpecific.hasMultipleFiles),hideSettingsButton:window.pageSpecific.isBlockly,showAssetList:viewerIsPageUser&&isFacebookExperienceCourse&&isAdmin,readOnly:!1,hideCode:window.pageSpecific.hideCode,hideLeftPanel:window.pageSpecific.hideLeftPanel,files:mapAbacusFiles(window.pageSpecific.files,(function(e){return Object.assign(e,{text:htmlDecode(e.text)})})),activeFilePathString:getQueryParams().filepath,assetImports:assetImports,assetStore:assetStore,onSave:window.pageSpecific.codeUserID===window.pageSpecific.viewerID||window.pageSpecific.viewingNoneUsersSharedProgramAsNoneUser||window.pageSpecific.allowCollaboration&&window.pageSpecific.isAuthenticated?onAbacusEditorSave:void 0,onAssetUpload:window.pageSpecific.codeUserID===window.pageSpecific.viewerID?uploadAsset:void 0,onAssetChange:window.pageSpecific.codeUserID===window.pageSpecific.viewerID?saveAssets:void 0,onFileRename:window.pageSpecific.codeUserID===window.pageSpecific.viewerID?fileRename:void 0,onProjectConfigurationChange:onProjectConfigurationChange,onFileSelected:function(e){updateQueryString({filepath:e})},onComment:onComment,editorSettings:editorSettings,canRenameMainFile:window.pageSpecific.isSandbox||window.pageSpecific.allowRenameMainFile,canRenameProject:canRenameProject,codeServerUrl:window.pageSpecific.codeServerUrl,onSettingsChange:function(e,t,n){"projectName"===e?Ajax.send({method:"set_item_title",app:"library",data:{itemId:window.pageSpecific.itemID,title:t},success:function(e){"ok"===e.status&&(PubSub.trigger("editor:sandboxItemTitleChange",e.URLTitle),shareURL=e.URLTitle[0])}}):Ajax.send({method:"user_settings_change",app:"editor",data:{setting:e,value:t,user_id:window.pageSpecific.viewerID,shared_program_id:window.pageSpecific.sharedProgramID,editor_engine:n}})},onFileIOChange:function(e){Ajax.send({method:"set_file_io",app:"editor",data:{value:e,item_id:window.pageSpecific.itemID}})},baseHtmlProgramUrl:window.pageSpecific.baseHtmlProgramUrl,externalProgramURL:window.pageSpecific.externalProgramURL,slurpHTML:window.pageSpecific.slurpHTML,iframeDocs:!window.pageSpecific.hideDocsTab,iframeDocsURL:window.pageSpecific.BASE_URL+"/documentation/item/"+window.pageSpecific.itemID+"/embed",allowUploads:window.pageSpecific.isSandbox||window.pageSpecific.explicitlyAllowUploads,processFiles:function(e){return new Promise((function(t,n){$.ajax({url:"/core/ajax/abacus_upload",type:"POST",data:e,processData:!1,dataType:"JSON",contentType:!1}).then((function(e){if("ok"!=e.status&&e.msg)window.toastr.error(e.msg);else switch(e.type){case"file_contents":t(e.file_text);break;case"file_tree":t(e.file_tree);break;case"asset_url":var n=BASE_URL+e.url;t(n)}}))}))},socketIOTransportType:window.pageSpecific.socketIOTransportType||"polling",allowCollaboration:window.pageSpecific.allowCollaboration,onCollaborationEnabled:window.pageSpecific.allowCollaboration&&onCollaborationEnabled,onCollaborationDisabled:window.pageSpecific.allowCollaboration&&onCollaborationDisabled,onCollabIdentifierReset:window.pageSpecific.allowCollaboration&&onCollabIdentifierReset,collaborateVisible:window.pageSpecific.collaborateVisible,showCollabTab:window.pageSpecific.allowCollaboration&&window.pageSpecific.showCollabTab&&window.pageSpecific.collaborateVisible,showCollabControls:window.pageSpecific.showCollabControls&&window.pageSpecific.collaborateVisible,collaborateIdentifier:window.pageSpecific.allowCollaboration&&window.pageSpecific.collaborateIdentifier,collaborationEnabled:window.pageSpecific.allowCollaboration&&window.pageSpecific.collaborationEnabled,isHost:window.pageSpecific.codeUserID===window.pageSpecific.viewerID,canChangeProjectConfigurations:window.pageSpecific.isSandbox,projectConfigurations:window.pageSpecific.transitions,initialProjectConfigurationName:window.pageSpecific.initialProjectConfigurationName,showChat:permissions.canUseChat||window.pageSpecific.isAdmin,canUseMonaco:!window.pageSpecific.isCollaborate,canToggleFileTabBar:!0,showFileTabBar:!0,canChangeIFrameTemplate:permissions.canChangeIFrameTemplate,preventCopyPaste:window.pageSpecific.preventCopyPaste,initialLayoutOverride:window.pageSpecific.isSandbox?{}:{left:{width:"21%",minimized:!1}},canToggleAutoRefresh:permissions.canToggleAutoRefresh,canAutoFormat:"javascript"==window.pageSpecific.language,showSpriteEditor:permissions.showSpriteEditor,showLayoutConfig:!0,showSaveButton:window.pageSpecific.codeUserID===window.pageSpecific.viewerID,collaborators:window.pageSpecific.collaborators,canComment:permissions.canComment,editorEngine:window.pageSpecific.editorEngine,showRecordButton:window.pageSpecific.isAuthenticated&&0!==window.pageSpecific.beatsUnlockedContestID,onAudioDataReceived:onAudioDataReceived,onSendAudioText:onSendAudioText,watchCodeServer:window.pageSpecific.watchCodeServer,showTimeSpent:window.pageSpecific.showTimeSpent,launchTemplate:window.pageSpecific.launchTemplate};if("html"===window.pageSpecific.abacusProjectType)if(window.pageSpecific.isAuthenticated){var urlBarTemplate=window.pageSpecific.baseHtmlProgramUrl?window.pageSpecific.baseHtmlProgramUrl+"/__codehs__/html_url_bar/index.html":"evaluation/htmlUrlBar/index.html";abacusOptions=Object.assign(abacusOptions,{projectConfigurationOverrides:{evaluationIFrames:[{shortName:"Default",template:"evaluation/html.html",hideRunBar:!1,autoRun:!1,active:!1},{shortName:"Show URL Bar",template:urlBarTemplate,description:"Replaces the standard Run bar with one for navigating URLs.This can only be used if your HTML program is hosted on CodeHS.",hideRunBar:!0,autoRun:!0,active:!0}]}})}else abacusOptions=Object.assign(abacusOptions,{projectConfigurationOverrides:{evaluationIFrames:[{shortName:"Default",template:"evaluation/html.html",hideRunBar:!1,autoRun:!1,active:!0}]}});else if("python3"===window.pageSpecific.abacusProjectType){var queryParams=new URLSearchParams(window.location.search);queryParams.has("python3.11")&&(abacusOptions=Object.assign(abacusOptions,{projectConfigurationOverrides:{spawnCommand:function(e){var t=e.installCommand,n=e.mainFileName;return e.debugMode?"".concat(t?t+"&& ":"","python3.11 -m pdb ").concat(n):"".concat(t?t+"&& ":"","python3.11 -B ").concat(n)}}}))}else if("java"===window.pageSpecific.abacusProjectType){var _queryParams=new URLSearchParams(window.location.search);_queryParams.has("java17")&&(abacusOptions=Object.assign(abacusOptions,{projectConfigurationOverrides:{spawnCommand:function(e){var t=e.filesToCompile,n=e.jarNames,i=e.mainClass,r=e.debugMode,o=n?"-classpath .:".concat(n):"";return r?"jenv local 17 &&                            javac -g ".concat(o," ").concat(t," &&                            jdb -launch ").concat(o," ").concat(i):"jenv local 17 &&                            javac ".concat(o," ").concat(t," &&                            java ").concat(o," ").concat(i)}}}))}window.pageSpecific.isBlockly&&(abacusOptions=Object.assign(abacusOptions,{projectConfigurationOverrides:{evaluationIFrames:[{shortName:"Default",template:"evaluation/js/javascript-graphics.html",autoRun:!1,hideRunBar:!1,active:!0}]}})),window.pageSpecific.shouldUseStopifyWhenAvailable&&"javascript-console"===window.pageSpecific.abacusProjectType&&(abacusOptions=Object.assign(abacusOptions,{projectConfigurationOverrides:{evaluationIFrames:[{shortName:"Default",template:"evaluation/js/beta/javascript-console-new-js-lib.html",autoRun:!1,description:"Use the newest vesion of the JavaScript library.",hideRunBar:!1,active:!1},{shortName:"Legacy JavaScript Library",template:"evaluation/js/javascript-console.html",hideRunBar:!1,autoRun:!1,active:!1},{shortName:"Stopify",template:"evaluation/js/javascript-console-stopify.html",description:"Stopify introduces non-blocking input and safe evaluation of infinite loops to JavaScript. For more, see stopify.org",hideRunBar:!1,active:!0}]}})),window.pageSpecific.newEditorSettings&&(abacusOptions=deriveAbacusSettings({pageSpecific:pageSpecific,viewerIsPageUser:viewerIsPageUser,isFacebookExperienceCourse:isFacebookExperienceCourse,isAdmin:isAdmin,onAbacusEditorSave:onAbacusEditorSave,uploadAsset:uploadAsset,fileRename:fileRename,onProjectConfigurationChange:onProjectConfigurationChange,permissions:permissions,canRenameProject:canRenameProject,newResolvedSettings:window.pageSpecific.newEditorSettings,onSettingsChange:function(e,t,n){"projectName"===e?Ajax.send({method:"set_item_title",app:"library",data:{itemId:window.pageSpecific.itemID,title:t},success:function(e){"ok"===e.status&&(PubSub.trigger("editor:sandboxItemTitleChange",e.URLTitle),shareURL=e.URLTitle[0])}}):Ajax.send({method:"user_settings_change",app:"editor",data:{setting:e,value:t,user_id:window.pageSpecific.viewerID,shared_program_id:window.pageSpecific.sharedProgramID,editor_engine:n}})},onFileIOChange:function(e){Ajax.send({method:"set_file_io",app:"editor",data:{value:e,item_id:window.pageSpecific.itemID}})},processFiles:function(e){return new Promise((function(t,n){$.ajax({url:"/core/ajax/abacus_upload",type:"POST",data:e,processData:!1,dataType:"JSON",contentType:!1}).then((function(e){if("ok"!=e.status&&e.msg)window.toastr.error(e.msg);else switch(e.type){case"file_contents":t(e.file_text);break;case"file_tree":t(e.file_tree);break;case"asset_url":var n=BASE_URL+e.url;t(n)}}))}))},onCollaborationEnabled:onCollaborationEnabled,onCollaborationDisabled:onCollaborationDisabled,onCollabIdentifierReset:onCollabIdentifierReset,onAudioDataReceived:onAudioDataReceived,onSendAudioText:onSendAudioText})),window.myAbacus=new window.Abacus(abacusOptions),loadHistory(window.myAbacus,window.pageSpecific.codeUserID,window.pageSpecific.itemID,window.pageSpecific.studentAssignmentID,window.pageSpecific.viewerID),window.pageSpecific.studentAssignmentURLs.length&&window.myAbacus.addTitleBarElement((function(e){var t=window.pageSpecific.studentAssignmentURLs,n=window.pageSpecific.codeUserName,i=null;if(t.length>0){var r,o=t.filter((function(e){var t=_slicedToArray(e,2),i=t[0];t[1];return i===n}));o.length>0?r=o[0][1]:(r=window.location.href,t.push([n,r]));var a=t.map((function(e){var t=_slicedToArray(e,2),n=t[0],i=t[1];return html.option({value:i,selected:i===r},[n])}));i=html.select({className:"student-dropdown"},[a]),e.appendChild(i),i.onchange=function(e){window.location.assign(e.target.value)}}})),shimAbacusForModules(window.myAbacus);var editorInstructions=new EditorInstructions({itemID:window.pageSpecific.itemID,isGraphics:window.pageSpecific.isGraphics,isBlockly:window.pageSpecific.isBlockly,itemType:window.pageSpecific.itemType,noInstructions:window.pageSpecific.isSandbox});function getReactCode(){return expoIntegrationUtils.userCodeToReactCode(getCurrentCodeText(),window.location.hostname)}function getCurrentCodeText(){var e=flattenAbacusFiles(window.myAbacus.getCodeTree())[0].text;window.pageSpecific.showBlocks&&(e=xmlToCodeHeadless(e,window.pageSpecific.language.split("-")[0]));var t=(window.pageSpecific.helper_code?window.pageSpecific.helper_code+"\n":"")+e;return window.pageSpecific.showBlocks&&window.pageSpecific.isGraphics&&(t="var start = function(){"+t+"};"),t}function xmlToCodeHeadless(e,t){var n=new window.Blockly.Workspace,i=window.Blockly.Xml.textToDom(e);switch(window.Blockly.Xml.domToWorkspace(i,n),t){case"javascript":return window.Blockly.JavaScript.workspaceToCode(n);default:return window.Blockly.Python.workspaceToCode(n);case"html":return window.Blockly.HTML.workspaceToCode(n)}}mostRecentSavedCode=window.myAbacus.getCodeTree(),$(".sidebar-canvas").each((function(){KarelWorld.quickDraw($(this),$(this).attr("data-world"),$(this).attr("data-width"),!0)})),window.Sk.TurtleGraphics={},window.Sk.configure({read:builtinRead}),setTimeout((function(){var e=new URLSearchParams(window.location.search).get("collaborate");e&&window.pageSpecific.unauthenticated&&!window.pageSpecific.allowUnauthenticatedCollaboration&&modalAlert({header:"Unable to collaborate",message:"It looks like you're trying to collaborate on this program.\nTo collaborate, you need to log in.",cancel_callback:function(){var t=new URL(window.location.origin+"/login");t.searchParams.set("next",window.location.pathname),t.searchParams.set("collaborate",e),window.location.href=t.href},cancelButton:!0,buttonClass:"btn-main-green",button:"View Program",cancelButtonText:"Log In",cancelButtonClass:"btn-main-blue"})}),0);var expoSnackSessionPromise=null,tabName,SEARCH_INPUT_ID,CONTENT_LISTING,tabContent,existingFetch,onSearchKeyUp,onModuleClick,onModuleLessonClick,openModule;if(window.pageSpecific.showPhoneTab){var expoArgs={hostname:window.location.hostname,codeTitle:htmlDecode(window.pageSpecific.itemTitle),codeDescription:window.pageSpecific.codeUserFirstNameLastInitial,userProgramID:window.pageSpecific.userProgramID};expoSnackSessionPromise=expoIntegrationUtils.sessionPromise(getReactCode(),expoArgs)}function onAbacusEditorSave(e,t){return"mainFileChanged"===t?new Promise((function(t,n){var i=flattenAbacusFiles(e),r=i.filter((function(e){return e.main}))[0]||i[0];Ajax.send({method:"update_main_class",app:"library",type:"POST",data:{item_id:window.pageSpecific.itemID,filename:r.name},success:function(e){if("ok"==e.status)return t();n()}})})):(expoSnackSessionPromise&&expoSnackSessionPromise.then((function(e){expoIntegrationUtils.updateCode(getReactCode(),e,expoIntegrationUtils.SNACK_SESSION_QR_DOM)})),saveCode(e,!1,t))}if(!window.pageSpecific.isSandbox&&(tabName=window.pageSpecific.isExample?"Example":window.pageSpecific.studentAssignmentID?"Assignment":"Exercise",SEARCH_INPUT_ID="#course-search",CONTENT_LISTING="#content-listing",tabContent=null,existingFetch=null,onSearchKeyUp=function(){var e=$("#search-results"),t=$(".js-search-item"),n=$(SEARCH_INPUT_ID).val();n.length>=3?(e.show(),t.each((function(){var e=$(this);-1!==e.data("item-title").toLowerCase().indexOf(n)?e.show():e.hide()}))):e.hide()},onModuleClick=function(){var e=$(this);$(this).hasClass("closed")?($(".module-progress.open").length?$(".module-progress.open").next().slideUp(400,(function(){$(this).prev().addClass("closed").removeClass("open").attr("aria-expanded","false"),openModule(e)})):openModule(e),$(this).addClass("open").removeClass("closed").attr("aria-expanded","true")):$(this).next().slideUp("slow",(function(){e.addClass("closed").removeClass("open").attr("aria-expanded","false")}))},onModuleLessonClick=function(){if($(this).next().slideToggle("fast"),$(this).toggleClass("closed").toggleClass("open"),$(this).hasClass("open")){var e=$(CONTENT_LISTING).scrollTop()-$(CONTENT_LISTING).offset().top;$(CONTENT_LISTING).animate({scrollTop:$(this).offset().top+e},"slow"),$(this).attr("aria-expanded","true")}else $(this).attr("aria-expanded","false")},openModule=function(e){e.next().slideDown(400,(function(){var t=$(CONTENT_LISTING).scrollTop()-$(CONTENT_LISTING).offset().top;$(CONTENT_LISTING).animate({scrollTop:e.offset().top+t},400)}))},window.myAbacus.addTab({title:'<span class="chs-icon chs-icon-calendar" style="font-size:19px;margin:auto;width:100%;"></span>',side:"left",tooltipText:"Course",id:"course-tab",index:0,tabClass:"js-course-sidebar-lazy"},(function(e){e.innerHTML='<div><div class="less-important-js-loading"><div class="loader"></div></div></div>',$(".js-course-sidebar-lazy").one("mouseover",(function(){(existingFetch||(existingFetch=new Promise((function(e,t){tabContent?e(tabContent):Ajax.send({method:"get_sidebar_content",app:"editor",data:{userId:window.pageSpecific.codeUserID,itemId:window.pageSpecific.itemID,moduleId:window.pageSpecific.moduleID,courseId:window.pageSpecific.courseID,studentAssignmentId:window.pageSpecific.studentAssignmentID||0}}).then((function(t){var n=t.text;tabContent=n,e(n)}))}))),existingFetch).then((function(t){e.innerHTML='<div id="course-sidebar" style="padding-top:0; width:100%;"><div id="sidebar-content-tab" class="tab-pane">'+t+"</div></div>",$(e).find(SEARCH_INPUT_ID).on("keyup",onSearchKeyUp),$(e).find(".module-progress").on("click",onModuleClick),$(e).find(".lesson-item.current").parent().slideDown().prev().removeClass("closed").addClass("open").attr("aria-expanded","true"),$(e).find(".module-lesson").on("click",onModuleLessonClick);var n=$(e).find(".module-progress.current-module");n.length&&$(e).find(CONTENT_LISTING).scrollTop(n.offset().top),PubSub.trigger("main:setupTooltips","#sidebar-content-tab")}))}))}),(function(e){$(e).find(SEARCH_INPUT_ID).off("keyup",onSearchKeyUp),$(e).find(".module-progress").off("click",onModuleClick),$(e).find(".module-lesson").off("click",onModuleLessonClick)})),window.myAbacus.addTab({title:'<span class="chs-icon chs-icon-map" style="font-size:19px;margin:auto;width:100%;"></span>',side:"left",tooltipText:"Assignment",id:"assignment-tab",index:0},(function(e){e.innerHTML=window.pageSpecific.overviewTab.text,editorInstructions.setupReShowPopup(),PubSub.trigger("CHS.Utils.markdown:setup"),$("#turtle-objective-world").each((function(){this.style.display="inline-block",turtleQuickDraw({code:htmlDecode(window.pageSpecific.solution),target:"turtle-objective-world",oldTarget:"python-canvas",height:200,width:200,animate:!1,canvasCoordinates:[-200,-200,200,200]})}))})),window.myAbacus.selectTabWithIdentifier("leftTabs","files"),window.myAbacus.addTab({title:tabName,side:"right",isMore:!1,id:"content-tab",index:2},(function(e){var t={item_id:window.pageSpecific.itemID,course_id:window.pageSpecific.courseID,result_world:window.pageSpecific.resultWorld,code_user_id:window.pageSpecific.codeUserID,module_id:window.pageSpecific.moduleID};window.pageSpecific.studentAssignmentID&&(t.student_assignment_id=window.pageSpecific.studentAssignmentID),registerAjaxTabRequest("exercise tab",t).then((function(t){if("ok"==t.status){e.innerHTML=t.text;var n=window.pageSpecific.itemDescription;$(e).css({"flex-flow":"column",padding:"10px 10px 50px 10px",overflow:"auto"}),PubSub.trigger("CHS.Utils.markdown:setup"),$(AI_EASIER_BUTTON).on("click",(function(){PubSub.trigger("utils:disableButton",$(AI_EASIER_BUTTON)),$(AI_CHALLENGE_BUTTON).attr("disabled","disabled"),Ajax.send({method:"change_difficulty",app:"ai",data:{difficulty:"decrease",description:n},success:function(e){$(AI_CHALLENGE_BUTTON).removeAttr("disabled"),PubSub.trigger("utils:enableButton",$(AI_EASIER_BUTTON)),"ok"==e.status?($(".markdown-ai-exercise-description").removeClass("hidden"),$(".markdown-ai-exercise-description").attr("data-markdown",e.new_description),PubSub.trigger("CHS.Utils.markdown:setup")):window.toastr.error(e.msg)}})})),$(AI_CHALLENGE_BUTTON).on("click",(function(){PubSub.trigger("utils:disableButton",$(AI_CHALLENGE_BUTTON)),$(AI_EASIER_BUTTON).attr("disabled","disabled"),Ajax.send({method:"change_difficulty",app:"ai",data:{difficulty:"increase",description:n},success:function(e){$(AI_EASIER_BUTTON).removeAttr("disabled"),PubSub.trigger("utils:enableButton",$(AI_CHALLENGE_BUTTON)),"ok"==e.status?($(".markdown-ai-exercise-description").removeClass("hidden"),$(".markdown-ai-exercise-description").attr("data-markdown",e.new_description),PubSub.trigger("CHS.Utils.markdown:setup")):window.toastr.error(e.msg)}})}));var i=window.pageSpecific.itemDescription,r=window.pageSpecific.isQuill;QuillCustom.chooseEditor([{qlTarget:"#quill-exercise-description",mdTarget:"#markdown-exercise-description",content:i}],r),r?($("#quill-exercise-description").find(".ql-editor").html(i),$("#quill-exercise-description").removeClass("hidden")):$(".markdown-exercise-description").removeClass("hidden")}}))})),!window.pageSpecific.isExample&&window.pageSpecific.showGradingTab?window.myAbacus.addTab({title:window.pageSpecific.studentAssignmentID?"Test&nbsp;Cases":"Grading",side:"right",id:"test-tab",isMore:!1,index:1},(function(e){registerAjaxTabRequest("autograder tab",{item_id:window.pageSpecific.itemID,module_id:window.pageSpecific.moduleID,course_id:window.pageSpecific.courseID,code_user_id:window.pageSpecific.codeUserID,student_assignment_id:window.pageSpecific.studentAssignmentID}).then((function(t){if("ok"==t.status){e.innerHTML='<div class="grading-tab" id="grading-tab">'+t.text+'<pre hidden id="console"></pre><canvas width="400" height="480" class="codehs-editor-canvas" hidden></canvas></div>',$(e).css({"flex-flow":"column",padding:"10px 10px 50px 10px",overflow:"auto"}).addClass("editor-tab-content"),window.myAbacus.shim.runner=new RunnerFactory(window.myAbacus.shim).create();var n=new GradingTab(window.myAbacus.shim);PubSub.trigger("ajaxui:setup",".grading-tab"),$(".switch").bootstrapSwitch(),window.myAbacus.addExternalRunBarDefinition({className:"button",onClick:function(){window.myAbacus.selectTabWithIdentifier("rightTabs","test-tab"),n.gradeCode()},label:"Check Code",color:"#9e1e62",hoverIndicator:{background:{color:"#77194f"}}})}}))})):$("body").append('<pre hidden id="console"></pre><canvas width="400" height="480" class="codehs-editor-canvas" hidden></canvas></div>'),window.pageSpecific.isAuthenticated&&window.pageSpecific.studentAssignmentID&&window.myAbacus.addTab({title:"Grade",side:"right",id:"grade-tab",isMore:!1,index:4},(function(e){registerAjaxTabRequest("lms grading tab",{code_user_id:window.pageSpecific.codeUserID,item_id:window.pageSpecific.itemID,module_id:window.pageSpecific.moduleID,course_id:window.pageSpecific.courseID,student_assignment_id:window.pageSpecific.studentAssignmentID}).then((function(t){"ok"==t.status&&(e.innerHTML=t.text,$(e).css({"flex-flow":"column",padding:"10px 10px 50px 10px",overflow:"auto"}),$(e).find("select").selectpicker(),new LMSGradingTab(window.myAbacus.shim),PubSub.trigger("ajaxui:setup","#lms-grading-tab"))}))})),window.pageSpecific.canViewSolutionTab&&window.myAbacus.addTab({title:"Solution",side:"right",id:"solution-tab",isMore:!0},(function(e){var t={item_id:window.pageSpecific.itemID,module_id:window.pageSpecific.moduleID,course_id:window.pageSpecific.courseID,code_user_id:window.pageSpecific.codeUserID};window.pageSpecific.studentAssignmentID&&(t.student_assignment_id=window.pageSpecific.studentAssignmentID),registerAjaxTabRequest("solution tab",t).then((function(t){"ok"==t.status&&(e.innerHTML=t.text,$(e).css({"flex-flow":"column",padding:"10px 10px 50px 10px",overflow:"auto"}),PubSub.trigger("CHS.Utils.markdown:setup"))}))})),window.pageSpecific.textbookUrl&&window.myAbacus.addTab({title:"Textbook",side:"right",id:"textbook-tab",isMore:!0,tabClass:"js-textbook-lazy-load"},(function(e){$(".js-textbook-lazy-load").one("mouseover",(function(){$(e).append($("<iframe>").attr({src:window.pageSpecific.textbookUrl,id:"textbook-tab-iframe"}))}))})),window.myAbacus.addTab({title:"Video",side:"right",id:"video-tab",isMore:!0,tabClass:"js-video-slides-lazy-load"},(function(e){var t={course_id:window.pageSpecific.courseID,module_id:window.pageSpecific.moduleID,item_id:window.pageSpecific.itemID,code_user_id:window.pageSpecific.codeUserID};window.pageSpecific.studentAssignmentID&&(t.student_assignment_id=window.pageSpecific.studentAssignmentID),registerAjaxTabRequest("video tab",t).then((function(t){if("ok"==t.status){e.innerHTML=t.text,$(e).css({"flex-flow":"column",padding:"10px 10px 50px 10px",overflow:"auto"});var n=function(e,t){Ajax.send({method:"save_user_notes",app:"editor",data:{notes:e,item_id:t}})};(i=window.pageSpecific.videoID)&&window.pageSpecific.isAuthenticated&&$('.__abacus_tab:contains("Video")').one("click",(function(){$(".ql-toolbar").show();var e,t=$("#ql-notepad-container").data("notes");QuillCustom.createEditor("#ql-notepad-container"),$("#ql-notepad-container").height(200),$("#ql-notepad-container").find(".ql-editor").html(t),$("#ql-notepad-container").on("DOMSubtreeModified",".ql-editor",(function(){$("#save-status").text("Saving..."),e&&clearTimeout(e),e=setTimeout((function(){n($("#ql-notepad-container").find(".ql-editor").html(),i),$("#save-status").text("Saved")}),1e3)}))})),PubSub.trigger("CHS.Utils.markdown:setup"),$(".js-video-slides-lazy-load").one("mouseover",(function(){var e=$("#video-tab-slides-iframe");if(!e.attr("src")){var t=e.data("src");e.attr("src",t)}}))}var i}))})),window.pageSpecific.showHelpTab&&window.pageSpecific.isAuthenticated&&(!window.pageSpecific.studentAssignmentID||window.pageSpecific.showConversationTab))){var showConversationTabOnLeft=window.pageSpecific.showConversationTabOnLeft,conversationTabLabel=window.pageSpecific.studentAssignmentID?"Conversation":"Help";window.myAbacus.addTab({title:showConversationTabOnLeft?conversationTabIcon:conversationTabLabel,tooltipText:showConversationTabOnLeft?conversationTabLabel:void 0,side:showConversationTabOnLeft?"left":"right",id:"convo-tab",isMore:!!window.pageSpecific.studentAssignmentID},(function(e){registerAjaxTabRequest("help tab",{item_id:window.pageSpecific.itemID,module_id:window.pageSpecific.moduleID,course_id:window.pageSpecific.courseID,code_user_id:window.pageSpecific.codeUserID,student_assignment_id:window.pageSpecific.studentAssignmentID}).then((function(t){if("ok"==t.status){if(e.innerHTML=t.text,$(e).css({"flex-flow":"column",padding:"10px 10px 50px 10px",overflow:"auto"}).addClass("help-tab").attr("id","help-tab"),window.pageSpecific.studentAssignmentID){if(new ConversationTab(window.myAbacus.shim),showConversationTabOnLeft){$('.__abacus_left-tab div[aria-label*="Conversation"]').on("click",(function(){window.myAbacus.resizeLeftPanel(30)}));$('.__abacus_left-tab :not(div[aria-label*="Conversation"])').on("click",(function(){window.myAbacus.resizeLeftPanel(21)}))}}else new HelpTab(window.myAbacus.shim);PubSub.trigger("ajaxui:setup",".help-tab"),$(".switch").bootstrapSwitch(),setupFavoriteStar()}}))}))}function initializeButtons(e,t){var n="#controls-"+e,i=t.get(e);$(n+" .tracker").val(0),$(n+" .play-btn").removeClass("icon-spinner"),$(n+" .play-btn").removeClass("icon-spin"),$(n+" .play-btn").addClass("icon-play"),$(n+" .tracker").removeClass("hidden"),$(n+" .play-btn").off("click"),$(n+" .play-btn").on("click",(function(){t.stopAll(),$(".play-btn").removeClass("hidden"),$(".pause-btn").addClass("hidden"),$(".info").removeClass("playing-color"),$(n+" .play-btn").addClass("hidden"),$(n+" .pause-btn").removeClass("hidden"),$("#info-"+e).addClass("playing-color");var r=$(n+" .tracker").val();i.toMaster().start(window.Tone.now(),r)})),$(n+" .pause-btn").off("click"),$(n+" .pause-btn").on("click",(function(){$(n+" .play-btn").removeClass("hidden"),$(n+" .pause-btn").addClass("hidden"),$("#info-"+e).removeClass("playing-color"),i.toMaster().stop(window.Tone.now())})),$(n+" .tracker").attr("max",i.buffer.duration),$(n+" .tracker").data("mousedown",!1),$(n+" .tracker").on("click",(function(){i.toMaster().seek($(this).val(),window.Tone.now())})),$(n+" .tracker").on("mousedown",(function(){$(this).data("mousedown",!0)})),$(n+" .tracker").on("mouseup",(function(){$(this).data("mousedown",!1)}))}function updateSeeker(e,t){e.forEach((function(e){var n=e[3],i=t.get(n);if(i&&"started"==i.state){var r=$("#controls-"+n+" .tracker");r.data("mousedown")||r.val(i.position)}else;}))}window.pageSpecific.showMusicLibraryTab&&window.pageSpecific.isAuthenticated&&!window.pageSpecific.viewingOthersSharedProgram&&window.myAbacus.addTab({title:"Music Library",side:"right",id:"music-tab",isMore:!0},(function(e){registerAjaxTabRequest("music library tab",{item_id:window.pageSpecific.itemID,module_id:window.pageSpecific.moduleID,course_id:window.pageSpecific.courseID,code_user_id:window.pageSpecific.codeUserID}).then((function(t){if("ok"==t.status){var n=C.BlocklyMusicSettings.SONG_SAMPLES;e.innerHTML=t.text;var i=new window.Tone.Players,r=setInterval((function(){updateSeeker(n,i)}),500);TIMERS.push(r),n.forEach((function(e){var t=e[3],n='<block type="instrument_custom" x="31" y="167"><field name="INSTRUMENT">https://codehs.com/uploads/'+t+"</field></block>",r=window.Blockly.Xml.textToDom(n);$("#info-"+t+" .copy-btn").off("click"),$("#info-"+t+" .copy-btn").on("click",(function(){window.Blockly.mainWorkspace.paste(r),window.Blockly.clipboardXml_=r})),i.add(t,"https://codehs.com/uploads/"+t,(function(){initializeButtons(t,i)}))}))}}))})),window.pageSpecific.hideCode||window.myAbacus.addTab({title:"Download",side:"right",id:"download-tab",isMore:!0},(function(e){registerAjaxTabRequest("download tab",{course_id:window.pageSpecific.courseID,module_id:window.pageSpecific.moduleID,item_id:window.pageSpecific.itemID,code_user_id:window.pageSpecific.codeUserID}).then((function(t){"ok"==t.status&&(e.innerHTML=t.text,$(e).css({"flex-flow":"column",padding:"10px 10px 50px 10px",overflow:"auto"}))}))})),window.myAbacus.addTab({title:"About",side:"right",id:"about-tab",isMore:!0},(function(e){registerAjaxTabRequest("about tab",{item_id:window.pageSpecific.itemID,code_user_id:window.pageSpecific.codeUserID}).then((function(t){"ok"==t.status&&(e.innerHTML=t.text,$(e).css({"flex-flow":"column",padding:"10px 10px 50px 10px",overflow:"auto"}).attr("id","about-tab"),$(e).find("[rel=tooltip]").tooltip({container:"body"}),PubSub.trigger("ajaxui:setup","#about-tab"))}))})),window.pageSpecific.isAdmin&&window.myAbacus.addTab({title:"Admin",side:"right",id:"admin-tab",isMore:!0},(function(e){registerAjaxTabRequest("admin tab",{course_id:window.pageSpecific.courseID,module_id:window.pageSpecific.moduleID,item_id:window.pageSpecific.itemID,code_user_id:window.pageSpecific.codeUserID,student_assignment_id:window.pageSpecific.studentAssignmentID}).then((function(t){"ok"==t.status&&(e.innerHTML=t.text,$(e).css({"flex-flow":"column",padding:"10px 10px 50px 10px",overflow:"auto"}).attr("id","admin-tab"),setupResetButtons(),PubSub.trigger("ajaxui:setup","#admin-tab"),PubSub.trigger("main:setupIframeModals","#admin-tab"),PubSub.trigger("main:setupTooltips","#admin-tab"),PubSub.trigger("internal:genericNote:setupNotes"),setupFavoriteStar())}))})),window.pageSpecific.isAdmin&&window.myAbacus.addTab({title:"Embed",side:"right",id:"embed-tab",isMore:!0},(function(e){registerAjaxTabRequest("embedding tab",{item_id:window.pageSpecific.itemID,module_id:window.pageSpecific.moduleID,course_id:window.pageSpecific.courseID,code_user_id:window.pageSpecific.codeUserID}).then((function(t){if("ok"==t.status){e.innerHTML=t.text,$(e).css({"flex-flow":"column",padding:"10px 10px 50px 10px",overflow:"auto"}),$("#display-options").selectpicker();var n=$("#dynamic-content").data("sharedprogram");$("#embed-display-options input, #embed-display-options select").on("change",(function(){var e="/?";$("#read-only").prop("checked")&&(e.length>2?e+="&read_only=True":e+="read_only=True"),$("#show-file-tree").prop("checked")||(e.length>2?e+="&show_file_tree=False":e+="show_file_tree=False");var t,i,r=$("#display-options").find(":selected").val();e.length>2?e+="&display_option="+r:e+="display_option="+r,t=$("#iframe-width").val()?$("#iframe-width").val():"850",i=$("#iframe-height").val()?$("#iframe-height").val():"500";var o='<div id="dynamic-content" class="prettyprint" data-sharedprogram="'+n+'">&lt;iframe '+('width="'+t+'" height="'+i+'"')+' src="https://codehs.com/editor/share_abacus/'+n+e+'" frameborder="0" allowfullscreen class="video-iframe"&gt;&lt;iframe&gt;</div>';$("#dynamic-embed").html(o),$("#dynamic-content").css("overflow","auto")}))}}))})),window.pageSpecific.isTeacher&&window.myAbacus.addTab({title:"Teacher",side:"right",id:"teacher-tab",isMore:!0},(function(e){registerAjaxTabRequest("teacher tab",{course_id:window.pageSpecific.courseID,module_id:window.pageSpecific.moduleID,item_id:window.pageSpecific.itemID,code_user_id:window.pageSpecific.codeUserID,student_assignment_id:window.pageSpecific.studentAssignmentID}).then((function(t){"ok"==t.status&&(e.innerHTML=t.text,$(e).css({"flex-flow":"column",padding:"10px 10px 50px 10px",overflow:"auto"}).attr("id","teacher-tab").addClass("js-teacher-tab"),PubSub.trigger("ajaxui:setup","#teacher-tab"),PubSub.trigger("share:setup","#teacher-tab"),PubSub.trigger("editor:setupResetButtons","#teacher-tab"),PubSub.trigger("main:setupClickToCopy"),$('input[name="next_url"]').val(window.location.href))}))}));var publishedExpoUrlPromise=new Promise((function(e,t){window.pageSpecific.showPhoneTab&&window.pageSpecific.isAuthenticated?window.myAbacus.addTab({title:"Run on Phone",side:"right",id:"phone-tab",isMore:!0},(function(n){registerAjaxTabRequest("phone tab",{item_id:window.pageSpecific.itemID,module_id:window.pageSpecific.moduleID,course_id:window.pageSpecific.courseID,code_user_id:window.pageSpecific.codeUserID,shared_program_id:window.pageSpecific.sharedProgramID}).then((function(i){if("ok"==i.status){n.innerHTML=i.text;var r=i.published_expo_url;e(r),$(n).css({"flex-flow":"column",padding:"10px 10px 50px 10px",overflow:"auto"}).attr("id","abacus-phone-tab"),PubSub.trigger("ajaxui:setup","#abacus-phone-tab"),expoSnackSessionPromise&&expoSnackSessionPromise.then((function(e){return Promise.resolve(expoIntegrationUtils.updateCode(getReactCode(),e,expoIntegrationUtils.SNACK_SESSION_QR_DOM).then((function(){return e})))})).then((function(e){$("#expo-update-code-button").on("click",(function(t){expoIntegrationUtils.updateCode(getReactCode(),e,expoIntegrationUtils.SNACK_SESSION_QR_DOM)})),$(".expo-option-checkbox").on("change",(function(t){expoIntegrationUtils.checkboxChange(t,getReactCode(),expoArgs,e)}))})),new PhoneTab}else t()}))})):t()}));window.pageSpecific.isAuthenticated&&!window.pageSpecific.viewingOthersSharedProgram&&window.pageSpecific.showShareTab&&window.myAbacus.addTab({title:"Share",side:"right",isMore:!0},(function(e){registerAjaxTabRequest("share tab",{item_id:window.pageSpecific.itemID,module_id:window.pageSpecific.moduleID,course_id:window.pageSpecific.courseID,code_user_id:window.pageSpecific.codeUserID}).then((function(t){var n={hostname:window.location.hostname,codeTitle:htmlDecode(window.pageSpecific.itemTitle),codeDescription:window.pageSpecific.codeUserFirstNameLastInitial,userProgramID:window.pageSpecific.userProgramID};"ok"==t.status&&(e.innerHTML=t.text,$(e).css({"flex-flow":"column",padding:"10px 10px 50px 10px",overflow:"auto"}),new ShareTab(window.pageSpecific.shareBaseURL)),expoSnackSessionPromise&&(expoSnackSessionPromise.then((function(e){$("#publish-button").on("click",(function(){expoIntegrationUtils.publishCode(getReactCode(),n,e,!1)}))})),publishedExpoUrlPromise.then((function(e){null!==e&&expoIntegrationUtils.writeQRCode(e,expoIntegrationUtils.PUBLISH_QR_DOM)})))}))})),window.myAbacus.addTab({title:"Upload",side:"right",id:"upload-tab",isMore:!0},(function(e){registerAjaxTabRequest("upload tab",{item_id:window.pageSpecific.itemID,module_id:window.pageSpecific.moduleID,course_id:window.pageSpecific.courseID,code_user_id:window.pageSpecific.codeUserID}).then((function(t){"ok"==t.status&&(e.innerHTML=t.text,$(e).css({"flex-flow":"column",padding:"10px 10px 50px 10px",overflow:"auto"}),new UploadTab)}))})),window.pageSpecific.isAuthenticated&&!window.pageSpecific.hideCode&&window.myAbacus.addTab({title:"Print",side:"right",id:"print-tab",isMore:!0},(function(e){e.innerHTML='<h3 class="spacing-top">Print Your Code</h3><button id="abacus-print-button">Print</button><br><button id="abacus-print-button-noname">Print without name</button>',$("#abacus-print-button").css({"margin-left":"5px","min-width":"60px",margin:"10%"}).addClass("btn-main-blue"),$("#abacus-print-button").parent().css("text-align","center"),$("#abacus-print-button").on("click",(function(){var e="";window.pageSpecific.assignmentID?(e="/editor/print_assignment_code/"+window.pageSpecific.assignmentID+"/"+window.pageSpecific.codeUserID,window.pageSpecific.sectionID&&(e+="?section_id="+window.pageSpecific.sectionID)):e="/editor/print/"+window.pageSpecific.itemID+"/"+window.pageSpecific.codeUserID+"/"+window.pageSpecific.moduleID+"/"+window.pageSpecific.courseID;var t=window.open(e,"_blank");t?t.focus():alert("Please allow popups for this website")})),$("#abacus-print-button-noname").css({"margin-left":"5px","min-width":"60px",margin:"10%"}).addClass("btn-main-blue"),$("#abacus-print-button-noname").parent().css("text-align","center"),$("#abacus-print-button-noname").on("click",(function(){var e="";window.pageSpecific.assignmentID?(e="/editor/print_assignment_code/"+window.pageSpecific.assignmentID+"/"+window.pageSpecific.codeUserID+"?noname",window.pageSpecific.sectionID&&(e+="&section_id="+window.pageSpecific.sectionID)):e="/editor/print/"+window.pageSpecific.itemID+"/"+window.pageSpecific.codeUserID+"/"+window.pageSpecific.moduleID+"/"+window.pageSpecific.courseID+"?noname";var t=window.open(e,"_blank");t?t.focus():alert("Please allow popups for this website")}))})),fetchAjaxTabRequests();var shareView=window.Handlebars.compile(SHARE_MODAL_TEMPLATE);function shareAlert(e){var t=e.shareId,n=e.shareIdentifier,i=e.shareURL;i.endsWith("/run")&&(i=i.slice(0,-4));var r=e.itemTitle,o=window.pageSpecific.itemID;shareImageURL=e.shareImageURL;var a=window.pageSpecific.itemImageUrl;window.pageSpecific.beatsUnlockedContestID&&PubSub.trigger("eventtracking:track_event",{name:"Clicked Share Beats Unlocked",data:{sectionID:window.pageSpecific.sectionID}});var s="#share-program",u="#share-modal-show-code-switch",l="#share-tab-show-code-switch",c="#share-modal-active-switch",d="#share-tab-active-switch",p="#share-modal-forkable-switch",h="#share-tab-forkable-switch",f="#share-modal #share-modal-share-link",m="#share-modal-edit-description",g="#share-options",y="#embed-options",v="#assign-options",_="#embed-opt-display-type",b="#embed-opt-width",w="#embed-opt-height",E="#embed-opt-read-only",S="#embed-opt-show-tree";function T(){var e=$(_).val(),t="850",n="500";$(b).val()&&(t=$(b).val()),$(w).val()&&(n=$(w).val());var r="/?display_mode="+e;$(E).prop("checked")&&(r+="&read_only=True"),$(S).prop("checked")||(r+="&show_file_tree=False");var o="<iframe "+('width="'+t+'" height="'+n+'"')+' src="'+i+"/embed"+r+'" frameborder="0" allowfullscreen class="video-iframe"></iframe>';$(f).val(o)}function x(e){e===c?$(c).is(":checked")?($("#share-modal-public-link").removeClass("hidden"),$("#share-public-copy").removeClass("hidden"),$("#share-modal-public-link").val(i+"/run"),$("#share-modal-public-link").attr("href",i+"/run")):($("#share-modal-public-link").addClass("hidden"),$("#share-public-copy").addClass("hidden")):e===u&&($(u).is(":checked")?($("#share-modal-copy-link").removeClass("hidden"),$("#share-code-copy").removeClass("hidden"),$("#share-modal-copy-link").val(i),$("#share-modal-copy-link").attr("href",i)):($("#share-modal-copy-link").addClass("hidden"),$("#share-code-copy").addClass("hidden")))}alertModal({header:"Share Your Program",button:"Close",useShareTemplate:!0,rawHtml:shareView({shareId:t,shareIdentifier:n,shareURL:i,shareImageURL:shareImageURL,itemTitle:r,isLoggedOut:!window.pageSpecific.isAuthenticated,showCode:e.showCode,isActive:e.isActive,forkable:e.isForkable,showForkOption:e.showForkOption,itemID:o,itemImageUrl:a,isOriginal:0==window.pageSpecific.IDE,isAbacus:1==window.pageSpecific.IDE,isInherit:2==window.pageSpecific.IDE,displayModeDisplayOnly:"displayOnly"===window.pageSpecific.displayMode,displayModeDefault:"default"===window.pageSpecific.displayMode,displayModeEditorOnly:"editorOnly"===window.pageSpecific.displayMode,showIdentifierURL:window.pageSpecific.showIdentifierURL,showIDEDropdown:window.pageSpecific.isAdmin&&!window.pageSpecific.onlyAbacus,itemDescription:window.pageSpecific.itemDescription,activeTeacherCourses:window.pageSpecific.activeTeacherCourses,canBeAssigned:window.pageSpecific.canBeAssigned,showSocialMedia:window.pageSpecific.showContestModal,showCollaborateTab:e.showCollaborateTab,showEditWarning:window.pageSpecific.viewingNoneUsersSharedProgramAsNoneUser,C:C}),on_load_callback:function(){function e(e){e.hasClass("assigned")?(PubSub.trigger("utils:disableButton",$("#share-modal-assign-btn")),$("#share-modal-assign-btn").html("Assigned"),t(e.val(),e.data("assignment-id"))):(PubSub.trigger("utils:enableButton",$("#share-modal-assign-btn")),$("#links-section").addClass("hidden"),$("#share-modal-assign-btn").html("Assign"))}function t(e,t){var n="/lms/assignments/"+e+"?activity="+t;$(".view-link").attr("href",n),$("#links-section").removeClass("hidden")}!function(){$(".item-type-select").selectpicker(),$(".course-select").selectpicker();var n=$(".course-select option:selected");e(n),$(".course-select").on("change",(function(){e(n=$(".course-select option:selected"))})),$("#share-modal-assign-btn").on("click",(function(){!function(e){PubSub.trigger("utils:disableButton",$("#share-modal-assign-btn"));var n={assignmentType:"activity"};n.itemId=window.pageSpecific.itemID,n.itemType=$(".item-type-select option:selected").data("type"),n.teacherCourseId=e,n.addToLatestLesson=!0,Ajax.send({method:"add_new_assignment",app:"lms",data:n,success:function(n){"ok"==n.status?($("#share-modal-assign-btn").html('<span class="chs-icon chs-icon-check"><span>'),$(".course-select option:selected").addClass("assigned"),$(".course-select option:selected").data("assignment-id",n.assignment.id),t(e,n.assignment.id)):window.toastr.error(n.msg)}})}($(".course-select option:selected").val())}))}(),window.pageSpecific.isAuthenticated||($(".share-tab-checkbox").prop("disabled",!0),$("#share-modal-share-link").prop("disabled",!1)),window.myAbacus.collaborationEnabled()?($("#collab-enabled-section").removeClass("hidden"),$("#collab-disabled-section").addClass("hidden"),$("#share-modal-collab-link").val(window.location.href)):($("#collab-enabled-section").addClass("hidden"),$("#collab-disabled-section").removeClass("hidden")),$("#share-type-switch").on("click",(function(e){var t=e.target,n=t.value;if(n){t.classList.add("active"),$(t).siblings().each((function(e,t){t.classList.remove("active")}));var i=$(f);$("#share-modal-contents").removeClass("hidden"),$("#collab-container").addClass("hidden"),$("#advanced-settings-container").removeClass("hidden"),$("#logged-out-edit-warning").removeClass("hidden"),$("#logged-out-banner-message").text("change the share settings for this program."),i.addClass("hidden"),$(".share-modal-btn").removeClass("hidden"),$(".js-share-modal-copy").addClass("hidden"),$(g).hasClass("hidden")&&($(g).removeClass("hidden"),$(y).addClass("hidden"),$(v).addClass("hidden")),"Code"===n?(i.addClass("hidden"),$(".share-modal-btn").addClass("hidden"),x(u),x(c),$(v).addClass("hidden")):(i.removeClass("hidden"),$(".js-share-modal-copy").removeClass("hidden"),"Embed"===n?($(y).removeClass("hidden"),$(g).addClass("hidden"),$(v).addClass("hidden"),T()):"Collaborate"===n?(i.addClass("hidden"),$(".js-share-modal-copy").addClass("hidden"),$(y).addClass("hidden"),$(g).addClass("hidden"),$(v).addClass("hidden"),$("#collab-container").removeClass("hidden"),$("#advanced-settings-container").addClass("hidden")):($(v).removeClass("hidden"),$("#share-modal-contents").addClass("hidden")))}})),$("#enable-collab-button").on("click",(function(){$(c).prop("checked",!0),$(u).prop("checked",!0),Ajax.send({method:"set_share_active",app:"editor",data:{sharedProgramID:window.pageSpecific.sharedProgramID,itemID:window.pageSpecific.itemID,codeUserID:window.pageSpecific.codeUserID,activeStatus:!0}}),Ajax.send({method:"set_share_code",app:"editor",data:{sharedProgramID:window.pageSpecific.sharedProgramID,itemID:window.pageSpecific.itemID,codeUserID:window.pageSpecific.codeUserID,showCodeStatus:!0}}),$("#collab-enabled-section").removeClass("hidden"),$("#collab-disabled-section").addClass("hidden"),window.myAbacus.enableCollaboration(window.pageSpecific.collaborateIdentifier||""),window.myAbacus.selectCollabTab()})),$(".js-share-modal-collab-copy").on("click",(function(){navigator.clipboard.writeText(window.location.href),window.toastr.success("Copied the collaboration link")})),$(m).on("keyup",(function(){var e=$(m).val();$("#preview-description-text").empty().attr("data-markdown",e),PubSub.trigger("CHS.Utils.markdown:setup")})),$(m).on("blur",(function(){var e=$(m).val();Ajax.send({method:"save_item",app:"library",data:{itemId:window.pageSpecific.itemID,description:e},success:function(e){if("ok"==e.status){var t=$(".description-label").find(".chs-icon");t.removeClass("hidden"),setTimeout((function(){t.addClass("hidden")}),1e3)}else window.toastr.error(e.msg)}})})),$(s).on("change",l,(function(){showCode=$(this).is(":checked"),$(u).prop("checked",$(this).is(":checked"))})),$(s).on("change",d,(function(){isActive=$(this).is(":checked"),$(c).prop("checked",$(this).is(":checked"))})),$(s).on("change",h,(function(){isForkable=$(this).is(":checked"),$(p).prop("checked",$(this).is(":checked"))})),$(u).on("change",(function(){showCode=$(this).is(":checked"),Ajax.send({method:"set_share_code",app:"editor",data:{sharedProgramID:window.pageSpecific.sharedProgramID,itemID:window.pageSpecific.itemID,codeUserID:window.pageSpecific.codeUserID,showCodeStatus:showCode}}),$(l).prop("checked",showCode),x(u)})),$(c).on("change",(function(){isActive=$(this).is(":checked"),Ajax.send({method:"set_share_active",app:"editor",data:{sharedProgramID:window.pageSpecific.sharedProgramID,itemID:window.pageSpecific.itemID,codeUserID:window.pageSpecific.codeUserID,activeStatus:isActive}}),$(d).prop("checked",isActive),x(c)})),$(p).on("change",(function(){isForkable=$(this).is(":checked"),Ajax.send({method:"set_share_forkable",app:"editor",data:{sharedProgramID:window.pageSpecific.sharedProgramID,itemID:window.pageSpecific.itemID,codeUserID:window.pageSpecific.codeUserID,forkableStatus:isForkable}}),$(h).prop("checked",isForkable)})),$("#share-modal-ide-dropdown").on("change",(function(){var e=$(this).val();Ajax.send({method:"set_share_ide",app:"editor",data:{itemID:window.pageSpecific.itemID,codeUserID:window.pageSpecific.codeUserID,sharedProgramID:window.pageSpecific.sharedProgramID,IDE:e}})})),$("#share-modal-display-mode-dropdown").on("change",(function(){var e=$(this).val();Ajax.send({method:"set_share_abacus_display_mode",app:"editor",data:{sharedProgramID:window.pageSpecific.sharedProgramID,itemID:window.pageSpecific.itemID,codeUserID:window.pageSpecific.codeUserID,displayMode:e}})})),$(".js-share-modal-copy").on("click",(function(){$(this).siblings("input").trigger("select"),document.execCommand("copy"),window.toastr.success("Copied the share link")})),x(u),x(c),$("#share-modal-image").on("load",(function(){var e=$(this).attr("src");shareImageURL=e})),$(_).on("change",T),$(b).on("input",(function(e){e.target.value=e.target.value.replace(/\D/g,""),T()})),$(w).on("input",(function(e){e.target.value=e.target.value.replace(/\D/g,""),T()})),$(E).on("change",T),$(S).on("change",T),PubSub.trigger("ajaxui:setup","#share-alert-modal")}})}var contestView=window.Handlebars.compile(CONTEST_MODAL_TEMPLATE);function contestAlert(e){var t=e.shareIdentifier,n="#submit-to-contest-btn",i="#contest-id-input",r="#contest-user-email-input",o="#contest-just-submitted",a="#contest-already-submitted",s=".contest-not-submitted",u="#contest-past-submissions",l=".contest-past-submissions-container";function c(){var e=$(i).val(),c=$("#contest-user-name-input").val();""===c&&(c=window.pageSpecific.codeUserFirstNameLastInitial);var d="";if($("#contest-contact-me-input").is(":checked")){if(d=$(r).val(),!validEmail(d))return $(r).addClass("error"),void window.toastr.error("Please enter a valid email address.");$(r).removeClass("error")}PubSub.trigger("utils:disableButton",n),Ajax.send({method:"submit",app:"contest",data:{shared_program_identifier:t,contest_identifier:e,user_name:c,user_email:d}}).then((function(e){PubSub.trigger("utils:enableButton",n),"ok"==e.status?e.new_submission?($(o).hasClass("hidden")&&$(o).removeClass("hidden"),$(a).hasClass("hidden")||$(a).addClass("hidden"),$(s).hasClass("hidden")||$(s).addClass("hidden"),$(l).hasClass("hidden")||$(l).addClass("hidden"),$(o+" .contest-url-link").attr("href",e.contest_url),$(o+" .contest-url-link").text(e.contest_name),submittedToContest[e.contest_identifier]=e.contest_name,$(u).append('<li><a href="/contest/'+e.contest_identifier+'">'+e.contest_name+"</a></li>")):($(o).hasClass("hidden")||$(o).addClass("hidden"),$(a).hasClass("hidden")&&$(a).removeClass("hidden"),$(s).hasClass("hidden")||$(s).addClass("hidden"),$(l).hasClass("hidden")||$(l).addClass("hidden"),$(a+" .contest-url-link").attr("href",e.contest_url),$(a+" .contest-url-link").text(e.contest_name)):(window.toastr.error(e.msg),"contest_id"==e.error?$(i).addClass("error"):$(i).removeClass("error"),$(o).hasClass("hidden")||$(o).addClass("hidden"),$(a).hasClass("hidden")||$(a).addClass("hidden"),$(s).hasClass("hidden")&&$(s).removeClass("hidden"),!$.isEmptyObject(submittedToContest)&&$(l).hasClass("hidden")&&$(l).removeClass("hidden"))}),(function(){PubSub.trigger("utils:enableButton",n),window.toastr.error("There was an error submitting to the contest. Please try again.")}))}alertModal({header:"Submit to a Contest!",button:"Close",rawHtml:contestView({shareIdentifier:t,submittedTo:submittedToContest}),on_load_callback:function(){$(n).on("click",c),$.isEmptyObject(submittedToContest)||($(l).removeClass("hidden"),Object.keys(submittedToContest).forEach((function(e){$(u).append('<li><a href="/contest/'+e+'">'+submittedToContest[e]+"</a></li>")})))}})}var buContestView=window.Handlebars.compile(BU_CONTEST_MODAL_TEMPLATE);function buContestAlert(e){var t=e.shareIdentifier,n="#submit-to-fb-contest-btn",i="#submit-to-section-contest-btn";function r(r){var o,a,s,u;r?(o=e.contestId,a="#section-contest-just-submitted",s="#section-contest-already-submitted",u="#section-contest-not-submitted"):(o=C.Contest.BEATS_UNLOCKED_CONTEST,a="#fb-contest-just-submitted",s="#fb-contest-already-submitted",u="#fb-contest-not-submitted");var l=window.userData.username,c=window.userData.email;return function(){PubSub.trigger("utils:disableButton",n),PubSub.trigger("utils:disableButton",i),Ajax.send({method:"submit",app:"contest",data:{shared_program_identifier:t,contest_id:o,user_name:l,user_email:c,student_assignment_id:window.myAbacus.shim.studentAssignmentID}}).then((function(e){PubSub.trigger("utils:enableButton",n),PubSub.trigger("utils:enableButton",i),$(a+" .contest-name").text(e.contest_name),$(s+" .contest-name").text(e.contest_name),$(u+" .contest-name").text(e.contest_name),"ok"==e.status?e.new_submission?($(a).removeClass("hidden"),$(s).addClass("hidden"),$(u).addClass("hidden"),submittedToContest[e.contest_identifier]=e.contest_name):($(a).addClass("hidden"),$(s).removeClass("hidden"),$(u).addClass("hidden")):(window.toastr.error(e.msg),$(a).addClass("hidden"),$(s).addClass("hidden"),$(u).removeClass("hidden"))}),(function(){PubSub.trigger("utils:enableButton",n),PubSub.trigger("utils:enableButton",i),window.toastr.error("There was an error submitting to the contest. Please try again.")}))}}alertModal({header:"Submit your beat!",button:"Close",rawHtml:buContestView({shareIdentifier:t,submittedTo:submittedToContest}),on_load_callback:function(){$(n).on("click",r(!1)),$(i).on("click",r(!0))}})}var shareId=null,shareIdentifier=null,shareURL=null,isActive=null,showCode=null,isForkable=null,showForkOption=null,sharedCode=null,shareImageURL=null;if(window.pageSpecific.hocLoggedOutPlaylistEditor||!viewerIsPageUser&&window.pageSpecific.codeUserID!=C.User.NONE_USER_ID||!(isFacebookExperienceCourse||window.pageSpecific.isBlockly||window.pageSpecific.showShareModal)||window.myAbacus.addTopBarButton("Share",(function(e){function t(e){Ajax.send({method:"get_or_create_share_info",app:"editor",data:{itemID:window.pageSpecific.itemID,codeUserID:window.pageSpecific.codeUserID,codeTree:JSON.stringify(e),shareIdentifier:shareIdentifier}}).then((function(t){if(PubSub.trigger("utils:enableButton",i),shareId=t.shareId,shareIdentifier=t.shareIdentifier,shareImageURL=t.shareImageURL,shareURL=t.shareURL,isActive=t.isActive,showForkOption=t.showForkOption,isForkable=t.forkable,sharedCode=e,shareAlert({shareId:shareId,shareIdentifier:shareIdentifier,shareURL:shareURL,shareImageURL:shareImageURL,itemTitle:htmlDecode(window.pageSpecific.itemTitle),showCode:window.pageSpecific.showCode,showForkOption:showForkOption,isActive:isActive,isForkable:isForkable,showCollaborateTab:window.pageSpecific.showCollaborateTab}),!t.shareImageURL&&window.pageSpecific.shouldScreenshotOnShare){var n=$(".__abacus_runButton");n&&n.trigger("click"),setTimeout((function(){try{document.querySelector("iframe#browser-runner").contentWindow.postMessage({type:"screenshot_data",data:{}},"*")}catch(e){return}}),SHARE_SCREENSHOT_WAIT_TIME)}}),(function(){PubSub.trigger("utils:enableButton",i),shareIdentifier=null,alertModal({header:"An error occurred",button:"Try again",message:"There was an error sharing your program. Please try again."})}))}var n,i=e.target;null!==shareIdentifier&&null!==shareURL?window.pageSpecific.codeUserID==C.User.NONE_USER_ID?(n=getCodeForAdminTab(),sharedCode!=n?(PubSub.trigger("utils:disableButton",i),t(n)):shareAlert({shareId:shareId,shareIdentifier:shareIdentifier,shareURL:shareURL,shareImageURL:shareImageURL,itemTitle:htmlDecode(window.pageSpecific.itemTitle),showCode:showCode,showForkOption:showForkOption,isActive:isActive,isForkable:isForkable,showCollaborateTab:window.pageSpecific.showCollaborateTab})):shareAlert({shareId:shareId,shareIdentifier:shareIdentifier,shareURL:shareURL,shareImageURL:shareImageURL,itemTitle:htmlDecode(window.pageSpecific.itemTitle),showCode:showCode,showForkOption:showForkOption,isActive:isActive,isForkable:isForkable,showCollaborateTab:window.pageSpecific.showCollaborateTab}):(PubSub.trigger("utils:disableButton",i),window.pageSpecific.codeUserID==C.User.NONE_USER_ID&&(shareIdentifier=window.pageSpecific.shareIdentifier),t(n=getCodeForAdminTab()))})),(viewerIsPageUser||window.pageSpecific.codeUserID==C.User.NONE_USER_ID)&&(isFacebookExperienceCourse||window.pageSpecific.showContestModal)){var buttonText=isFacebookExperienceCourse?"Submit Your Beat!":"Submit to Contest";window.myAbacus.addTopBarButton(buttonText,(function(e){var t=e.target,n=getCodeForAdminTab();PubSub.trigger("utils:disableButton",t),function(e){Ajax.send({method:"get_or_create_share_info",app:"editor",data:{itemID:window.pageSpecific.itemID,codeUserID:window.pageSpecific.codeUserID,codeTree:JSON.stringify(e),shareIdentifier:shareIdentifier,getContestInfo:window.pageSpecific.showContestModal}}).then((function(e){PubSub.trigger("utils:enableButton",t),shareIdentifier=e.shareIdentifier,submittedToContest=e.submittedTo,window.pageSpecific.beatsUnlockedContestID?buContestAlert({shareIdentifier:shareIdentifier,contestId:window.pageSpecific.beatsUnlockedContestID}):contestAlert({shareIdentifier:shareIdentifier})}))}(n)}))}window.pageSpecific.codeUserID===window.pageSpecific.viewerID&&window.pageSpecific.isGradable||window.pageSpecific.showSubmitButton?window.myAbacus.addTopBarButton("Submit + Continue",(function(e){PubSub.on("autograder:testingComplete",(function(){t.disabled=!1,t.innerHTML="Submit + Continue",PubSub.trigger("utils:enableButton",RUN_BUTTON),PubSub.trigger("utils:enableButton",GRADE_CODE_BUTTON),PubSub.trigger("utils:enableButton",SUBMIT_BUTTON),PubSub.trigger("utils:enableButton",GRADING_TAB_CHECK_BUTTON)}));var t=e.target;t.disabled=!0,t.innerHTML="Grading...";var n=$(".error-box"),i=$(".error-container");n.exists()&&i.exists()&&(n.hide(),i.html("")),PubSub.trigger("utils:disableButton",SUBMIT_BUTTON),window.HOC_LOGGED_OUT_PLAYLIST_EDITOR?C.ItemTypeConfig.CONFIGS[window.myAbacus.itemType].autograder?PubSub.trigger("autograder:run",window.myAbacus.getCode(),window.myAbacus.info,self,{displayPopup:!0}):goToNext():window.Ed.save((function(){if(C.ItemTypeConfig.CONFIGS[window.myAbacus.shim.itemType].autograder&&!window.pageSpecific.isSandbox)PubSub.trigger("autograder:run",window.myAbacus.shim.getCode(),window.myAbacus.shim.info,window.myAbacus.shim,{displayPopup:!0});else{var e={};if(e=window.myAbacus.shim.studentAssignmentID?{student_assignment_id:window.myAbacus.shim.studentAssignmentID}:{item_id:window.myAbacus.shim.itemID,module_id:window.myAbacus.shim.moduleID,course_id:window.myAbacus.shim.courseID,correct:!0},window.myAbacus.shim.typeTester.isGradeAndRespond()){var t=window.myAbacus.shim.gradeAndRespond.validateData();if(_.isEmpty(t))return;e.response=t.response,e.grade=t.grade}submit(e,goToNext)}}),"submit")})):(window.pageSpecific.codeUserID!==window.pageSpecific.viewerID&&!window.pageSpecific.isSandbox||window.pageSpecific.showContinueButton)&&window.myAbacus.addTopBarButton("Next",(function(e){if(window.pageSpecific.codeUserID!==window.pageSpecific.viewerID)goToNext();else{var t={};t=window.myAbacus.shim.studentAssignmentID?{student_assignment_id:window.myAbacus.shim.studentAssignmentID}:{item_id:window.myAbacus.shim.itemID,module_id:window.myAbacus.shim.moduleID,course_id:window.myAbacus.shim.courseID,correct:!0},saveCode(window.myAbacus.getCodeTree(),!0,"submit").then((function(){submit(t,goToNext)}))}})),$(document).on("click",SUBMIT_CORRECT_BUTTON,(function(){var e={};e=window.myAbacus.shim.studentAssignmentID?{student_assignment_id:window.myAbacus.shim.studentAssignmentID}:{item_id:window.myAbacus.shim.itemID,module_id:window.myAbacus.shim.moduleID,course_id:window.myAbacus.shim.courseID,correct:!0},submit(e,goToNext)})),window.pageSpecific.showForkButton&&window.myAbacus.addTopBarButton("Fork",(function(e){alertModal({header:"Fork to Your Sandbox",button:"Done",rawHtml:window.Handlebars.compile(FORK_MODAL_TEMPLATE)({STATIC_URL:window.CHS.STATIC_URL,shareIdentifier:window.pageSpecific.shareIdentifier,itemTitle:htmlDecode(window.pageSpecific.baseItemTitle),itemOwnerUsername:window.pageSpecific.sharedProgramOwnerUsername,sharedProgramOwnerAttribution:window.pageSpecific.sharedProgramOwnerAttribution,progTypeString:window.pageSpecific.progTypeString}),on_load_callback:function(){$("#abacus-fork-submit").on("click.fork-submit-handler",(function(e){var t=$(this);t.attr("disabled",!0),t.html("<i class='icon-spinner icon-spin'></i>"),Ajax.send({method:"fork_shared_program",app:"editor",data:{shared_program_id:window.pageSpecific.sharedProgramID,forking_user_id:window.pageSpecific.viewerID,shared_program_owner_id:window.pageSpecific.codeUserID,shared_program_item_id:window.pageSpecific.itemID,forked_title:$(".sandbox-program-title").text().trim()},success:function(e){if("ok"===e.status){var n=e.forked_url;t.replaceWith('<a class="btn btn-main-green" href="'+n+'">View Your Program!</a>'),t.off("click.fork-submit-handler")}else e.message?window.toastr.error(e.message):window.toastr.error("There was an issue forking the program. Send an email to support@codehs.com with the URL."),t.html("Fork!");t.attr("disabled",!1)}})}))}})})),window.pageSpecific.showTeacherSaveButton&&window.myAbacus.addTopBarButton("Save",(function(e){var t=e.target;t.disabled=!0,t.innerHTML="<i class='icon-spinner icon-spin'></i>";var n=flattenAbacusFiles(window.myAbacus.getCodeTree()).reduce((function(e,t){if(t.shouldSave&&!t.hidden){var n=t.name,i=_.trimRight(t.text);e[n]=i}return e}),{}),i=JSON.stringify(n);i.split("\\n",CODE_LINE_LIMIT).length>=CODE_LINE_LIMIT?window.toastr.error("Your file is too large to save. Please shorten and try again.","Code Error"):Ajax.send({method:"save_teacher_revision",app:"editor",data:{file_json:i,item_id:window.pageSpecific.itemID,student_id:window.pageSpecific.codeUserID,student_assignment_id:window.pageSpecific.studentAssignmentID},success:function(e){t.innerHTML="Save",t.disabled=!1,"ok"!==e.status?e.message?window.toastr.error(e.message):window.toastr.error("There was an issue saving the program. Send an email to support@codehs.com with the URL."):e.should_show_banner?$("#teacher-revision-banner").show():$("#teacher-revision-banner").hide()}})})),setupTimeTracking()}function builtinRead(e){if(void 0===Sk.builtinFiles||void 0===Sk.builtinFiles.files[e])throw new Error("File not found: '"+e+"'");return Sk.builtinFiles.files[e]}function turtleQuickDraw(e){e=_.defaults(e,{width:400,height:400,oldTarget:"python-canvas",animate:!0,canvasCoordinates:[]});var t=window.Sk.TurtleGraphics.width||400,n=window.Sk.TurtleGraphics.height||400;window.Sk.TurtleGraphics.target=e.target,window.Sk.TurtleGraphics.width=e.width,window.Sk.TurtleGraphics.height=e.height,window.Sk.TurtleGraphics.animate=e.animate;var i=template(turtleTemplate,{coords:e.canvasCoordinates.join(", ")})+template(turtleInputOerrideTemplate)+e.code;window.Sk.misceval.asyncToPromise((function(){return window.Sk.importMainWithBody("<stdin>",!1,i,!0)})).then((function(){window.Sk.TurtleGraphics.target=e.oldTarget,window.Sk.TurtleGraphics.width=t,window.Sk.TurtleGraphics.height=n,window.Sk.TurtleGraphics.animate=!0}))}function uploadAsset(e){return new Promise((function(t,n){$.ajax({url:"/core/ajax/upload_asset",type:"POST",data:e,processData:!1,dataType:"JSON",contentType:!1}).then((function(i){if("error"===i.status)n();else{var r=BASE_URL+i.url,o=i.url,a=e.get("file").name,s=new Date(JSON.parse(i.uploadDate));t({mimeType:e.get("file").type,url:r,name:a,hashName:o,uploadDate:s})}}))}))}function onProjectConfigurationChange(e){return new Promise((function(t,n){Ajax.send({method:"abacus_project_configuration_change",app:"editor",data:{itemID:window.pageSpecific.itemID,name:e},success:function(e){"ok"===e.status?t():n()},error:function(){n()}})}))}function saveAssets(e){return new Promise((function(t,n){var i={itemID:window.pageSpecific.itemID,codeUserID:window.pageSpecific.codeUserID};Ajax.send({method:"asset_imports_save",app:"editor",data:{info:i,assetImports:JSON.stringify(e)},success:function(e){"ok"===e.status?t():n()},error:function(){n()}})}))}var UPDATE_TIME_INTERVAL=5e3,INACTIVE_THRESHOLD=3e4,timeTrackSeconds=0,timeTrackIntervalId=null;function setupTimeTracking(){timeTrackSeconds=0,$.idleTimer(INACTIVE_THRESHOLD),timeTrackIntervalId=setInterval((function(){$.idleTimer("isIdle")||(timeTrackSeconds+=UPDATE_TIME_INTERVAL/1e3)}),UPDATE_TIME_INTERVAL)}function saveCode(e,t,n){var i,r=null===(i=flattenAbacusFiles(window.myAbacus.getCodeTree()).filter((function(e){return".settings.json"===e.name})))||void 0===i?void 0:i[0];return e=flattenAbacusFiles(e),window.pageSpecific.codeUserID===window.pageSpecific.viewerID||window.pageSpecific.viewingNoneUsersSharedProgramAsNoneUser||window.pageSpecific.collaborationEnabled?_.isEqual(mostRecentSavedCode,e)?(t&&goToNext(),new Promise((function(e,t){setTimeout(e,500)}))):new Promise((function(i,o){var a={itemID:window.pageSpecific.itemID,codeUserID:window.pageSpecific.codeUserID,isAbacus:!0,isSandbox:window.pageSpecific.isSandbox},s=e.reduce((function(e,t){if(t.shouldSave){var n=t.name,i=_.trimRight(t.text);e[n]=i}return e}),{});if(JSON.stringify(s).split("\\n",CODE_LINE_LIMIT).length>=CODE_LINE_LIMIT)window.toastr.error("Your file is too large to save. Please shorten and try again.","Code Error"),i();else{var u=window.myAbacus.getCollaboratorIDs().filter((function(e){return e!==window.pageSpecific.codeUserID})).join(",");try{getSolutionCode,a.isTemp=!0}catch(e){a.isTemp=!1}var l=timeTrackSeconds;timeTrackSeconds=0;var c=window.pageSpecific.codeUserID!==window.pageSpecific.viewerID?window.pageSpecific.viewerID:null;Ajax.send({method:"save_editor",app:"editor",data:{info:a,fileJson:JSON.stringify(s),settingsJSONFile:null==r?void 0:r.text,seconds:l||0,collaboratorIds:u,studentAssignmentID:window.pageSpecific.studentAssignmentID,reason:n,collaboratorSave:c},success:function(n){"ok"==n.status?(mostRecentSavedCode=e,i(),t&&goToNext()):(o(),n.msg&&window.toastr.error(n.msg))}})}})):(t&&goToNext(),Promise.resolve())}function setupAutosave(){if(window.pageSpecific.viewerID===window.pageSpecific.codeUserID){var e=setInterval((function(){saveCode(window.myAbacus.getCodeTree(),!1,"autosave").then((function(){window.myAbacus.forceSnapshot()}),!1)}),6e4);TIMERS.push(e)}}function setupTrackingHeartbeat(){var e=setInterval((function(){fetch("/usertracking/heartbeat")}),6e5);TIMERS.push(e)}function setupTrackingKeystrokes(){var e=[],t={file:null,authorID:null};function n(){if(e.length){var n=e.splice(0,e.length);Ajax.send({method:"save_keystroke",app:"editor",data:_objectSpread({keystrokes:JSON.stringify(n),studentAssignmentID:window.pageSpecific.studentAssignmentID,studentID:window.pageSpecific.studentID},t)})}}window.pageSpecific.storeKeystroke=function(i,r,o){t.authorID=r,t.file&&t.file!==o&&n(),t.file=o,e.push(i)},$(window).one("beforeunload",(function(e){n()})),$(document).one("turbolinks:before-visit",(function(e){n()})),setInterval((function(){n()}),1e4)}function fileRename(e){var t=e.newFilename,n=e.main;return new Promise((function(e,i){n?Ajax.send({method:"update_main_class",app:"library",type:"POST",data:{item_id:window.pageSpecific.itemID,filename:t},success:function(t){"ok"==t.status?e():i()}}):e()}))}function onComment(e){return new Promise((function(t,n){Ajax.send({method:"add_editor_comment",app:"library",type:"POST",data:{studentAssignmentId:window.pageSpecific.studentAssignmentID,filePath:e.filePath,lineNumber:e.lineNumber,content:e.content},success:function(e){"ok"==e.status?t():n()}})}))}function goToNext(){window.location.href=window.pageSpecific.nextURL}function showProModal(){alertModal({message:"The ability to reset a problem for a student, as well as many other teacher tools and resources is only available on CodeHS Pro. To upgrade, get in touch.",rawHtml:'<a href="/learnmore" class="btn btn-main-green">Learn More About Pro</a>'})}function resetItem(e,t){if(e.hasClass("not-pro")&&!window.pageSpecific.isAdmin)showProModal();else{var n="Are you sure? Clicking Ok will reset this student's ";n+="reset_item"===t?"progress on this activity. ":"activity back to the starter code. ",alertModal({message:n+="The code won't actually be deleted and you can see it in the snapshots",rawHtml:"<b>User To Be Affected: "+e.data("name")+"</b>",cancelButton:!0,ok_callback:function(){Ajax.send({method:t,app:"editor",data:{codeUserId:window.pageSpecific.codeUserID,itemId:window.pageSpecific.itemID,studentAssignmentId:window.pageSpecific.studentAssignmentID},success:function(e){location.reload(!0)}})}})}}function setupFavoriteStar(){$(FAVORITE_PROGRAM_STAR).exists()&&$(FAVORITE_PROGRAM_STAR).on("click",(function(){var e=$(this),t=$(this).attr("data-userprogram");Ajax.send({method:"toggle_favorite",app:"editor",data:{program:t},success:function(t){t.fav?e.addClass("selected"):e.removeClass("selected")}})}))}function getCodeForAdminTab(){return flattenAbacusFiles(window.myAbacus.getCodeTree()).reduce((function(e,t){var n=t.name,i=t.text;return e[n]=i,e}),{})}function setupResetButtons(){$(".js-admin-create-item").on("click",(function(){var e=getCodeForAdminTab(),t="?code="+encodeURIComponent(Object.values(e)[0]);window.location.href=$(this).data("href")+t}));var e=$(".js-reset-to-starter").first();e.on("click",(function(){resetItem(e,"reset_to_starter_code")})),$(".js-set-starter").first().on("click",(function(){alertModal({message:"Are you sure? Clicking Ok will overwrite the starter for all users.",cancelButton:!0,ok_callback:function(){var e=getCodeForAdminTab();Ajax.send({method:"set_starter_code",app:"editor",data:{code:JSON.stringify(e),itemId:window.pageSpecific.itemID},success:function(e){"ok"===e.status?window.toastr.success("Starter code was successfully set","Starter Code Set"):window.toastr.error("Something went wrong.","Error occurred")}})}})})),$("[data-ui=select]").selectpicker(),$(".js-overwrite-work-with-snapshots").on("click",(function(){Ajax.send({method:"overwrite_work_history_from_snapshots",app:"editor",data:{itemID:window.pageSpecific.itemID,userID:window.pageSpecific.codeUserID},success:function(){window.location.reload()}})})),$(".js-convert-specific-snapshot").on("click",(function(){var e=$("#specific-snapshot-id").val();isNaN(e)?window.toastr.error("Invalid Snapshot ID"):Ajax.send({method:"convert_specific_snapshot_to_work",app:"editor",data:{itemID:window.pageSpecific.itemID,userID:window.pageSpecific.codeUserID,snapshotID:e},success:function(){window.location.reload()}})})),$(".js-set-force-use-work").on("click",(function(){Ajax.send({method:"set_student_assignment_force_use_work",app:"editor",data:{studentAssignmentID:$(this).data("student-assignment-id"),forceUseWork:$(this).data("force-use-work-value")},success:function(e){"ok"===e.status?window.location.reload():window.toastr.error("Failed to set force_use_work on student assignment")}})})),$(".js-load-solution-code-to-editor").on("click",(function(){var e=window.pageSpecific.solutionCode,t=Object.entries(e).map((function(e,t){return{name:e[0],text:htmlDecode(e[1]),main:0==t}}));window.myAbacus.setCodeTree(t)})),$(".js-load-starter-code-to-editor").on("click",(function(){var e=window.pageSpecific.starterCode,t=Object.entries(e).map((function(e,t){return{name:e[0],text:htmlDecode(e[1]),main:0==t}}));window.myAbacus.setCodeTree(t)})),$(".add-tag-form").on("submit",(function(e){e.preventDefault();var t=$(this),n=$("#tags-input").val();addRemoveTag(t.data("item"),n,"add")})),$(".tag-list").on("click",".chs-icon-cancel",(function(e){e.preventDefault();var t=$(this);addRemoveTag($(".add-tag-form").data("item"),t.parent().text(),"remove")}))}function cleanup(){$(document).off("click",SUBMIT_CORRECT_BUTTON);for(var e=0;e<TIMERS.length;e++)clearInterval(TIMERS[e]);clearInterval(timeTrackIntervalId),$.idleTimer("destroy"),cleanupTabRequests(),window.myAbacus.cleanup()}function addRemoveTag(e,t,n){Ajax.send({method:"add_remove_item_tag",app:"library",data:{item_id:e,tag_name:t,action:n},success:function(e){"ok"===e.status&&($(".tag-list").html(""),e.tags.forEach((function(e){$("<span>").addClass("badge").text(e).append($('<span class="chs-icon-cancel">')).appendTo($(".tag-list"))})),$("#tags-input").val(""))}})}PubSub.on("abacusEditor:setup",setup),PubSub.on("abacusEditor:cleanup",cleanup),module.exports={shimAbacusForModules:shimAbacusForModules}},{"../../core/constants.js":58,"../../core/pubSub.js":60,"../../editor/editorUtils.js":73,"../../editor/javaErrors.js":80,"../../editor/karel/karelWorld.js":86,"../../editor/modules/conversationTab.js":93,"../../editor/modules/gradingTab.js":106,"../../editor/modules/helpTab.js":107,"../../editor/modules/lmsGradingTab.js":109,"../../editor/modules/phoneTab.js":111,"../../editor/modules/shareTab.js":112,"../../editor/modules/typeTester.js":114,"../../editor/modules/uploadTab.js":115,"../../editor/runnerFactory.js":125,"../../editor/runners/templates/turtle.txt":152,"../../editor/runners/templates/turtleInputOverride.txt":153,"../../editor/submitter.js":159,"../../templates/bu_contest_modal.hbs":178,"../../templates/contest_modal.hbs":179,"../../templates/fork_modal.hbs":180,"../../templates/share_modal.hbs":183,"../../utils/ajax.js":185,"../../utils/alert.js":186,"../../utils/chsUtils.js":187,"../../utils/expoIntegrationUtils.js":189,"../../utils/quillCustom.js":193,"./abacusConversationIcon.js":165,"./abacusEditorUtils.js":167,"./abacusInstructionsModal.js":168,"es6-template-strings":416,hyperscript:468,"hyperscript-helpers":467,lodash:504}],167:[function(e,t,n){"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,r,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){s=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var a=e("../../utils/ajax.js"),s=e("../../editor/editorUtils.js"),u=s.mapAbacusFiles,l=(s.groupsToPermissions,e("../../utils/chsUtils").getQueryParams);function c(e){var t=l(),n="";for(var i in t)if(!(Object.keys(e).indexOf(i)>-1)){var r=encodeURIComponent(i),o=encodeURIComponent(t[i]);r&&(n+=""===n?"?":"&",n+=r+"="+o)}return Object.entries(e).forEach((function(e){var t=e[0],i=e[1];n+=""===n?"?":"&",n+=encodeURIComponent(t)+"="+encodeURIComponent(i)})),window.history.replaceState(null,null,window.location.pathname+n),Promise.resolve()}var d={},p=!1,h=function(){var e={},t=[];Object.entries(d).forEach((function(n){var i=r(n,2),o=i[0],a=i[1],s=a.data;a.success,a.failure;e=Object.assign(e,s),t=t.concat(o)}));var n=window.location.search,i=new URLSearchParams(n),o=i.get("lang"),s=i.get("student_language");a.send({method:"batch_abacus_editor_tabs",app:"editor",type:"GET",data:{requestData:e,tabNames:t,lang:o,student_language:s},success:function(e){"ok"===e.status?(Object.entries(e.tabs).forEach((function(e){var t=r(e,2),n=t[0],i=t[1];"ok"===i.status?d[n].success(i):d[n].failure(i)})),Object.entries(d).forEach((function(e){var t=r(e,2);t[0];(0,t[1].failure)()}))):Object.entries(d).forEach((function(e){var t=r(e,2);t[0];(0,t[1].failure)()})),d={}}}),p||(p=!0)};function f(e){return e.map((function(e){var t,n=e.timestamp,i=(t=n.split("T").join(" "),window.moment.tz(t,"YYYY-MM-DD HH:mm:ss","America/Los_Angeles").tz("UTC").local().format("YYYY-MM-DD HH:mm:ss").split(" ").join("T"));return Object.assign(e,{timestamp:i})}))}function m(e){return"string"==typeof e?(new DOMParser).parseFromString(e,"text/html").documentElement.textContent:"object"===i(e)?Object.entries(e).reduce((function(e,t){var n=(new DOMParser).parseFromString(t[1],"text/html");return e[t[0]]=n.documentElement.textContent,e}),{}):void 0}t.exports={registerAjaxTabRequest:function(e,t){var n=new Promise((function(n,i){d[e]={data:t,success:n,failure:i}}));return p&&h(),n},fetchAjaxTabRequests:h,loadHistory:function(e,t,n,i,r){(function(e,t,n,i){return new Promise((function(r,o){a.send({method:"ajax_abacus_history",app:"editor",type:"GET",data:{code_user_id:e,item_id:t,student_assignment_id:n,viewer_id:i},success:function(e){"ok"===e.status?r(e.history):o(e.status)}})}))})(t,n,i,r).then((function(t){var n=function(e){return e.map((function(e){return Object.assign(e,{files:u(e.files,(function(e){return e.text?Object.assign(e,{name:e.name,text:m(e.text)}):e}))})}))}(t),i=f(n);!function(e,t){e.replaceHistory(t)}(e,i)}))},htmlDecode:m,cleanupTabRequests:function(){d={},p=!1},deriveAbacusSettings:function(e){var t,n,i,r,o,a,s,d,p,h,f,g,y,v,_,b,w,E,S,T,C,x,A,k=e.pageSpecific,I=e.viewerIsPageUser,D=e.isFacebookExperienceCourse,O=e.isAdmin,P=e.onAbacusEditorSave,N=e.uploadAsset,R=e.fileRename,L=e.onProjectConfigurationChange,M=e.permissions,F=e.canRenameProject,j=e.canRenameMainFile,B=e.onSettingsChange,U=e.onFileIOChange,H=e.processFiles,$=e.onFirepadConnected,G=e.onCollaborationEnabled,q=e.onCollaborationDisabled,V=e.onCollabIdentifierReset,z=e.newResolvedSettings,W=e.autoFocus,K=e.hideTabContainerTopBar,Y=e.hideTopBar,J=e.isEmbedded,X=e.onAudioDataReceived,Q=e.onSendAudioText,Z=k.isTutorial,ee=k.editorSettings,te=k.sharedProgramID,ne=k.isAuthenticated,ie=k.itemTitle,re=k.linkProjectName,oe=k.linkedProjectName,ae=k.abacusProjectType,se=k.displayMode,ue=k.dockerImage,le=k.showBlocks,ce=k.helper_code,de=k.custom_toolbox,pe=k.isBlockly,he=k.isSandbox,fe=k.hasMultipleFiles,me=k.hideCode,ge=k.files,ye=k.viewerID,ve=k.codeUserID,_e=k.viewingNoneUsersSharedProgramAsNoneUser,be=k.codeServerUrl,we=k.baseHtmlProgramUrl,Ee=k.externalProgramURL,Se=k.slurpHTML,Te=k.BASE_URL,Ce=k.docsShortString,xe=k.explicitlyAllowUploads,Ae=k.allowCollaboration,ke=k.socketIOTransportType,Ie=k.transitions,De=k.initialProjectConfigurationName,Oe=k.preventCopyPaste,Pe=k.editorEngine,Ne=k.autoRun,Re=k.leftTabsMinimized,Le=k.hideNewFileButton,Me=k.readOnly,Fe=k.canvasDimensions,je=k.hideLeftPanel,Be={ace:"Ace Editor",monaco:"Monaco Editor"},Ue={theme:{value:null!==(t=null==z?void 0:z.theme)&&void 0!==t?t:ee.theme.value,choices:ee.theme.choices,displayName:ee.theme.displayName,category:ee.theme.category},fontSize:{value:null!==(n=null==z?void 0:z.editor_font_size)&&void 0!==n?n:ee.fontSize.value,min:10,max:36,displayName:ee.fontSize.displayName,category:ee.fontSize.category,type:"numerical"},consoleFontSize:{value:null!==(i=null==z?void 0:z.console_font_size)&&void 0!==i?i:ee.consoleFontSize.value,displayName:ee.consoleFontSize.displayName,category:ee.consoleFontSize.category,min:10,max:36,type:"numerical"},autoComplete:{value:null!==(r=null==z?void 0:z.auto_complete)&&void 0!==r?r:ee.autocomplete.value,type:"switch",displayName:ee.autocomplete.displayName,category:ee.autocomplete.category,hidden:Pe===Be.monaco},wrapLines:{value:null!==(o=null==z?void 0:z.wrap_lines)&&void 0!==o?o:ee.wrapLines.value,type:"switch",displayName:ee.wrapLines.displayName,category:ee.wrapLines.category,hidden:Pe===Be.monaco}};if(te&&ne&&I&&ee.sharedProgramDroplet)Ue.sharedProgramDroplet={value:ee.sharedProgramDroplet.value,type:"switch",displayName:ee.sharedProgramDroplet.displayName,category:ee.sharedProgramDroplet.category};else if(!he){var He;Ue.defaultBlocks={value:null!==(He=null==z?void 0:z.default_blocks)&&void 0!==He?He:ee.defaultBlocks.value,type:"switch",displayName:ee.defaultBlocks.displayName,category:ee.defaultBlocks.category}}var $e,Ge,qe={uuid:"outer",autoRun:Ne,hideNewFileButton:Le,projectName:m(ie),linkProjectName:re,linkedProjectName:m(oe),projectType:ae,displayMode:null!==($e=null==z?void 0:z.show_code,Ge=null==z?void 0:z.show_output,a=$e&&Ge?"default":!$e&&Ge?"displayOnly":$e&&!Ge?"editorOnly":null)&&void 0!==a?a:se,dockerImage:ue,root:"root",autoFocus:W,useBlockly:le&&JSON.parse(le),helperCode:ce,customToolbox:JSON.parse(de),staticUrl:window.CHS.GULP_URL+"abacus/",showFileTree:null!==(s=null==z?void 0:z.show_file_tree)&&void 0!==s?s:fe&&JSON.parse(fe),leftTabsMinimized:null!==(d=null!==(p=null==z?void 0:z.left_tabs_minimized)&&void 0!==p?p:Re)&&void 0!==d?d:pe||he&&!(fe&&JSON.parse(fe)),hideSettingsButton:pe||Z,showAssetList:I&&D&&O,readOnly:null!==(h=null==z?void 0:z.read_only)&&void 0!==h?h:Me,hideCode:null!=z&&z.show_code?!z.show_code:me,files:u(ge,(function(e){return Object.assign(e,{text:m(e.text)})})),activeFilePathString:l().filepath,onSave:ve===ye||_e?P:void 0,onAssetUpload:ve===ye?N:void 0,onFileRename:ve===ye?R:void 0,onProjectConfigurationChange:L,onFileSelected:function(e){c({filepath:e})},editorSettings:Ue,canRenameMainFile:he||j,canRenameProject:F,codeServerUrl:be,onSettingsChange:B,onFileIOChange:U,baseHtmlProgramUrl:we,externalProgramURL:Ee,slurpHTML:Se,iframeDocs:!0,iframeDocsURL:Te+"/documentation/"+Ce+"/embed",allowUploads:he||xe,processFiles:H,socketIOTransportType:ke||"polling",allowCollaboration:Ae,onFirepadConnected:Ae&&$,onCollaborationEnabled:Ae&&G,onCollaborationDisabled:Ae&&q,onCollabIdentifierReset:Ae&&V,showCollabTab:Ae&&k.showCollabTab,isHost:ve===ye,canChangeProjectConfigurations:he,projectConfigurations:Ie,initialProjectConfigurationName:De,showChat:null!==(f=null==z?void 0:z.collab_chat)&&void 0!==f?f:M.canUseChat||O,canToggleChat:null!==(g=null==z?void 0:z.can_toggle_collab_chat)&&void 0!==g?g:M.canUseChat||O,canUseMonaco:!0,showFileTabBar:null===(y=null==z?void 0:z.file_tabs)||void 0===y||y,canToggleFileTabBar:null===(v=null==z?void 0:z.can_toggle_file_tabs)||void 0===v||v,canChangeIFrameTemplate:M.canChangeIFrameTemplate,preventCopyPaste:Oe,initialLayoutOverride:he?{}:{left:{width:"21%",minimized:!1}},autoRefresh:null!==(_=null==z?void 0:z.auto_refresh)&&void 0!==_&&_,canToggleAutoRefresh:null!==(b=null==z?void 0:z.can_toggle_auto_refresh)&&void 0!==b?b:M.canToggleAutoRefresh,hideLeftPanel:null!==(w=null==z?void 0:z.hide_left_panel)&&void 0!==w?w:je,hideTopBar:null!==(E=null==z?void 0:z.hideTopBar)&&void 0!==E?E:Y,editorEngine:null!==(S=null==Be?void 0:Be[null==z?void 0:z.editor_engine])&&void 0!==S?S:Pe,showSpriteEditor:null!==(T=null==z?void 0:z.sprite_editor)&&void 0!==T?T:M.showSpriteEditor,canvasDimensions:Fe,hideTabContainerTopBar:K,isEmbedded:J,initialFileTabs:null!==(C=null==z?void 0:z.initial_file_tabs)&&void 0!==C?C:[],freezeTabs:null!==(x=null==z?void 0:z.freeze_tabs)&&void 0!==x&&x,showLayoutConfig:null===(A=null==z?void 0:z.layout_config)||void 0===A||A,onAudioDataReceived:X,onSendAudioText:Q};if("html"===ae&&null!=z&&z.can_toggle_html_url_bar){var Ve=window.pageSpecific.baseHtmlProgramUrl?window.pageSpecific.baseHtmlProgramUrl+"/__codehs__/html_url_bar/index.html":"evaluation/htmlUrlBar/index.html";qe=Object.assign(qe,{projectConfigurationOverrides:{evaluationIFrames:[{shortName:"Default",template:"evaluation/html.html",hideRunBar:!1,autoRun:!1,active:!(null!=z&&z.html_url_bar)},{shortName:"Show URL Bar",template:Ve,description:"Replaces the standard Run bar with one for navigating URLs. This can only be used if your HTML program is hosted on CodeHS.",hideRunBar:!0,autoRun:!0,active:null==z?void 0:z.html_url_bar}]}})}return pe&&(qe=Object.assign(qe,{projectConfigurationOverrides:{evaluationIFrames:[{shortName:"Default",template:"evaluation/js/javascript-graphics.html",autoRun:!1,hideRunBar:!1,active:!0}]}})),qe},updateQueryString:c}},{"../../editor/editorUtils.js":73,"../../utils/ajax.js":185,"../../utils/chsUtils":187}],168:[function(e,t,n){"use strict";var i=e("../../editor/karel/karelWorld.js"),r=e("../../utils/ajax.js"),o=e("../../../lib/codehs/chs-js-lib/graphics"),a=e("../../core/constants.js"),s=e("../../utils/quillCustom.js"),u=".start-ex-button",l="#directions-modal",c=".program-demo-canvas",d=".dark-screen";function p(e){e.noInstructions&&$(d).hide(),this.info={itemType:e.itemType,itemID:e.itemID,isGraphics:e.isGraphics,isBlockly:e.isBlockly},this.setup(),this.demo_graphics,this.demo_solution}p.prototype.needsPopup=function(){return this.info.itemType==a.ItemType.EXERCISE||this.info.itemType==a.ItemType.CHALLENGE},p.prototype.usingGraphics=function(){return this.info.isGraphics&&this.needsPopup()&&$(c).length},p.prototype.setupLetsGoButton=function(){var e=this;$(u).on("click",(function(){$(l).fadeOut("fast",(function(){$(l).hide(),e.usingGraphics()&&e.demo_graphics.fullReset()})),$(d).fadeOut()}))},p.prototype.setupDemoRunButton=function(){var e=this;$(".demo-run-button").on("click",(function(){e.usingGraphics()&&e.demo_graphics.fullReset();var t=e.demo_solution;t=(t=(t=(t=t.replace(/&gt;/g,">")).replace(/&lt;/g,"<")).replace(/&amp;/g,"&")).replace(/&nbsp;/g,""),e.usingGraphics()&&e.demo_graphics.runCode(t)}))},p.prototype.setupDemoStopButton=function(){var e=this;$(".demo-stop-button").on("click",(function(){e.usingGraphics()&&e.demo_graphics.fullReset()}))},p.prototype.setupReShowPopup=function(){var e=this;$("#show-editor-instructions").on("click",(function(){e.showInstructions()}))},p.prototype.showInstructions=function(){$(d).show(),$(l).show()},p.prototype.modalHidden=function(){return"none"==$("#directions-modal").css("display")},p.prototype.setup=function(){var e=this;if($(u).exists()){r.send({type:"GET",method:"get_solution_code",app:"editor",data:{itemID:e.info.itemID,gulpUrl:CHS.GULP_URL},success:function(t){if("ok"===t.status){var n=JSON.parse(t.solutionCodeJson.split("").map((function(e,t){var n=CHS.GULP_URL[t%CHS.GULP_URL.length];return String.fromCharCode((e.charCodeAt(0)-n.charCodeAt(0))%256)})).join(""));e.demo_solution=n}else e.demo_solution=""}}),e.info.isBlockly&&$("div.result-end.result-single").css("display","none"),this.setupLetsGoButton(),this.setupDemoRunButton(),this.setupDemoStopButton(),this.setupReShowPopup(),$(".modal-canvas").each((function(){i.quickDraw($(this),$(this).attr("data-world"),$(this).attr("data-width"),!0)})),this.usingGraphics()&&(this.demo_graphics=new o.CodeHSGraphics({canvas:$(c)}));var t=window.pageSpecific.itemDescription,n=window.pageSpecific.isQuill;s.chooseEditor([{qlTarget:"#quill-description",mdTarget:"#markdown-description",content:t}],n),n?($("#quill-description").find(".ql-editor").html(t),$("#quill-description").removeClass("hidden")):$("#markdown-description").removeClass("hidden"),$(".directions a").attr("target","_blank")}},t.exports=p},{"../../../lib/codehs/chs-js-lib/graphics":208,"../../core/constants.js":58,"../../editor/karel/karelWorld.js":86,"../../utils/ajax.js":185,"../../utils/quillCustom.js":193}],169:[function(require,module,exports){"use strict";var PubSub=require("../../core/pubSub.js"),expoIntegrationUtils=require("../../utils/expoIntegrationUtils.js"),mapAbacusFiles=require("../../editor/editorUtils.js").mapAbacusFiles,groupsToPermissions=require("../../editor/editorUtils.js").groupsToPermissions,htmlDecode=require("./abacusEditorUtils.js").htmlDecode;function setup(){var abacusOptions={projectName:htmlDecode(window.pageSpecific.itemTitle),projectType:window.pageSpecific.abacusProjectType,root:"root",staticUrl:window.CHS.GULP_URL+"abacus/",files:mapAbacusFiles(window.pageSpecific.files,(function(e){return Object.assign(e,{text:htmlDecode(e.text)})})),slurpHTML:window.pageSpecific.slurpHTML,dockerImage:window.pageSpecific.dockerImage,history:[],hideSettingsButton:!0,showFileTree:window.pageSpecific.showFileTree,displayMode:"Display Only"==window.pageSpecific.viewType?"displayOnly":"default",readOnly:!window.pageSpecific.editable,useBlockly:JSON.parse(window.pageSpecific.showBlocks),helperCode:window.pageSpecific.helper_code,customToolbox:JSON.parse(window.pageSpecific.custom_toolbox),codeServerUrl:window.pageSpecific.codeServerUrl,baseHtmlProgramUrl:window.pageSpecific.baseHtmlProgramUrl,showSaveButton:window.pageSpecific.codeUserID===window.pageSpecific.viewerID};if(window.pageSpecific.isBlockly){var evaluationIFrames=[{shortName:"Default",template:"evaluation/js/javascript-graphics.html",hideRunBar:!1,autoRun:!1,active:!0}];abacusOptions=Object.assign(abacusOptions,{projectConfigurationOverrides:{evaluationIFrames:evaluationIFrames}})}$("#view-on-phone-btn").prop("disabled",!0),eval(window.pageSpecific.block_definitions),window.myAbacus=new window.Abacus(abacusOptions);var expoArgs={hostname:window.location.hostname,codeTitle:htmlDecode(window.pageSpecific.itemTitle),codeDescription:window.pageSpecific.codeUserFirstNameLastInitial,userProgramID:window.pageSpecific.userProgramID};function getReactCode(){return expoIntegrationUtils.userCodeToReactCode(getCurrentCodeText(),window.location.hostname)}function getCurrentCodeText(){var e=window.myAbacus.getCodeTree()[0].text;window.pageSpecific.showBlocks&&(e=xmlToCodeHeadless(e,window.pageSpecific.language.split("-")[0]));var t=(window.pageSpecific.helper_code?window.pageSpecific.helper_code+"\n":"")+e;return window.pageSpecific.showBlocks&&window.pageSpecific.isGraphics&&(t="var start = function(){"+t+"};"),t}function xmlToCodeHeadless(e,t){var n=new window.Blockly.Workspace,i=window.Blockly.Xml.textToDom(e);switch(window.Blockly.Xml.domToWorkspace(i,n),t){case"javascript":return window.Blockly.JavaScript.workspaceToCode(n);default:return window.Blockly.Python.workspaceToCode(n);case"html":return window.Blockly.HTML.workspaceToCode(n)}}var expoSnackSessionPromise=expoIntegrationUtils.sessionPromise(getReactCode(),expoArgs);expoSnackSessionPromise.then((function(e){$("#view-on-phone-btn").prop("disabled",!1),$("#view-on-phone-btn").on("click",(function(t){if($("#view-on-phone-btn").attr("data-expo-url")){var n=$("#view-on-phone-btn").data("expo-url");expoIntegrationUtils.writeQRCode(n,expoIntegrationUtils.SNACK_SESSION_QR_DOM)}else expoIntegrationUtils.updateCode(getReactCode(),e,expoIntegrationUtils.SNACK_SESSION_QR_DOM)}))})),$(".__abacus_tab-bar").css("display","none"),$(".__abacus_abacus").css("width","100%")}PubSub.on("abacusShareProgramEditor:setup",setup)},{"../../core/pubSub.js":60,"../../editor/editorUtils.js":73,"../../utils/expoIntegrationUtils.js":189,"./abacusEditorUtils.js":167}],170:[function(require,module,exports){"use strict";var Ajax=require("../../utils/ajax.js"),PubSub=require("../../core/pubSub.js"),RunnerFactory=require("../../editor/runnerFactory.js"),GradingTab=require("../../editor/modules/gradingTab.js"),flattenAbacusFiles=require("../../editor/editorUtils.js").flattenAbacusFiles,shimAbacusForModules=require("./abacusEditor.js").shimAbacusForModules,getQueryParams=require("../../utils/chsUtils.js").getQueryParams,mapAbacusFiles=require("../../editor/editorUtils.js").mapAbacusFiles,C=require("../../core/constants.js"),BASE_URL=C.Uploads.UPLOADS_PROXY_BASE_URL,_require=require("./abacusEditorUtils.js"),fetchAjaxTabRequests=_require.fetchAjaxTabRequests,registerAjaxTabRequest=_require.registerAjaxTabRequest,deriveAbacusSettings=_require.deriveAbacusSettings;function htmlDecode(e){return(new DOMParser).parseFromString(e,"text/html").documentElement.textContent}function setup(){if(window.pageSpecific.programIsActive){var hideLeftPanel=window.pageSpecific.hideLeftPanel;window.pageSpecific.skipBlockDefinitions||eval(window.pageSpecific.block_definitions);var abacusOptions={editorEngine:window.pageSpecific.editorEngine,autoRun:window.pageSpecific.autorun,projectName:htmlDecode(window.pageSpecific.itemTitle),projectType:window.pageSpecific.abacusProjectType,root:"root",slurpHTML:window.pageSpecific.slurpHTML,useBlockly:JSON.parse(window.pageSpecific.showBlocks),dockerImage:window.pageSpecific.dockerImage,hideSettingsButton:window.pageSpecific.isTutorial||window.pageSpecific.isBlockly,leftTabsMinimized:JSON.parse(window.pageSpecific.leftTabsMinimized),helperCode:window.pageSpecific.helper_code,customToolbox:JSON.parse(window.pageSpecific.custom_toolbox),staticUrl:window.CHS.GULP_URL+"abacus/",hideNewFileButton:window.pageSpecific.hideNewFileButton,readOnly:window.pageSpecific.readOnly,displayMode:window.pageSpecific.displayMode,files:mapAbacusFiles(window.pageSpecific.files,(function(e){return Object.assign(e,{text:htmlDecode(e.text)})})),canvasDimensions:window.pageSpecific.canvasDimensions,autoFocus:!1,projectConfigurationOverrides:{inDebugMode:window.pageSpecific.inDebugMode},editorSettings:{theme:{value:window.pageSpecific.editorSettings.theme.value,choices:window.pageSpecific.editorSettings.theme.choices,displayName:window.pageSpecific.editorSettings.theme.displayName,category:window.pageSpecific.editorSettings.theme.category},fontSize:{value:window.pageSpecific.editorSettings.fontSize.value,displayName:window.pageSpecific.editorSettings.fontSize.displayName,category:window.pageSpecific.editorSettings.fontSize.category,type:"numerical"},consoleFontSize:{value:window.pageSpecific.editorSettings.consoleFontSize.value,displayName:window.pageSpecific.editorSettings.consoleFontSize.displayName,category:window.pageSpecific.editorSettings.consoleFontSize.category,type:"numerical"},defaultBlocks:{value:window.pageSpecific.editorSettings.defaultBlocks.value,displayName:window.pageSpecific.editorSettings.defaultBlocks.displayName,category:window.pageSpecific.editorSettings.defaultBlocks.category,type:"switch"},autoComplete:{value:window.pageSpecific.editorSettings.autocomplete.value,displayName:window.pageSpecific.editorSettings.autocomplete.displayName,category:window.pageSpecific.editorSettings.autocomplete.category,type:"switch"},wrapLines:{value:window.pageSpecific.editorSettings.wrapLines.value,displayName:window.pageSpecific.editorSettings.wrapLines.displayName,category:window.pageSpecific.editorSettings.wrapLines.category,type:"switch"}},allowUploads:!0,processFiles:function(e){return new Promise((function(t,n){$.ajax({url:"/core/ajax/abacus_upload",type:"POST",data:e,processData:!1,dataType:"JSON",contentType:!1}).then((function(e){if("ok"!=e.status&&e.msg)window.toastr.error(e.msg);else switch(e.type){case"file_contents":t(e.file_text);break;case"file_tree":t(e.file_tree);break;case"asset_url":var n=BASE_URL+e.url;t(n)}}))}))},onSettingsChange:function(e,t,n){window.pageSpecific.viewerID&&Ajax.send({method:"user_settings_change",app:"editor",data:{setting:e,value:t,user_id:window.pageSpecific.viewerID,editor_engine:n}})},onFileRename:function(e){var t=e.newFileName,n=e.main;return new Promise((function(e,i){n?Ajax.send({method:"update_main_class",app:"library",type:"POST",data:{item_id:window.pageSpecific.itemID,filename:t},success:function(t){"ok"==t.status?e():i()}}):e()}))},onSave:function(e,t){return"mainFileChanged"===t?new Promise((function(t,n){var i=flattenAbacusFiles(e),r=i.filter((function(e){return e.main}))[0]||i[0];Ajax.send({method:"update_main_class",app:"library",type:"POST",data:{item_id:window.pageSpecific.itemID,filename:r.name},success:function(e){if("ok"==e.status)return t();n()}})})):Promise.resolve()},activeFilePathString:getQueryParams().filepath,codeServerUrl:window.pageSpecific.codeServerUrl,history:[],hideTabContainerTopBar:!1,hideTopBar:!0,hideLeftPanel:hideLeftPanel,canRenameMainFile:!0,baseHtmlProgramUrl:window.pageSpecific.baseHtmlProgramUrl,isEmbedded:!0,showSaveButton:window.pageSpecific.codeUserID===window.pageSpecific.viewerID,watchCodeServer:window.pageSpecific.watchCodeServer};window.pageSpecific.newEditorSettings?window.myAbacus=new window.Abacus(deriveAbacusSettings({pageSpecific:pageSpecific,autoFocus:!1,projectConfigurationOverrides:{inDebugMode:window.pageSpecific.inDebugMode},explicitlyAllowUploads:!0,hideTabContainerTopBar:!1,hideTopBar:!0,isEmbedded:!0,canRenameMainFile:!0,newResolvedSettings:window.pageSpecific.newEditorSettings,permissions:{},processFiles:function(e){return new Promise((function(t,n){$.ajax({url:"/core/ajax/abacus_upload",type:"POST",data:e,processData:!1,dataType:"JSON",contentType:!1}).then((function(e){if("ok"!=e.status&&e.msg)window.toastr.error(e.msg);else switch(e.type){case"file_contents":t(e.file_text);break;case"file_tree":t(e.file_tree);break;case"asset_url":var n=BASE_URL+e.url;t(n)}}))}))},onSettingsChange:function(e,t,n){window.pageSpecific.viewerID&&Ajax.send({method:"user_settings_change",app:"editor",data:{setting:e,value:t,user_id:window.pageSpecific.viewerID,editor_engine:n}})},onFileRename:function(e){var t=e.newFileName,n=e.main;return new Promise((function(e,i){n?Ajax.send({method:"update_main_class",app:"library",type:"POST",data:{item_id:window.pageSpecific.itemID,filename:t},success:function(t){"ok"==t.status?e():i()}}):e()}))},onSave:function(e,t){return"mainFileChanged"===t?new Promise((function(t,n){var i=flattenAbacusFiles(e),r=i.filter((function(e){return e.main}))[0]||i[0];Ajax.send({method:"update_main_class",app:"library",type:"POST",data:{item_id:window.pageSpecific.itemID,filename:r.name},success:function(e){if("ok"==e.status)return t();n()}})})):Promise.resolve()},showSaveButton:window.pageSpecific.codeUserID===window.pageSpecific.viewerID})):window.myAbacus=new window.Abacus(abacusOptions),$(".__abacus_tab-bar").css("display","none"),window.pageSpecific.showGradingTab&&$("#right-tab-bar.__abacus_tab-bar").css("display","flex")}else $("#change-active-embed-switch").on("change",(function(){var e=$(this).is(":checked");Ajax.send({method:"set_share_active",app:"editor",data:{itemID:window.pageSpecific.itemID,codeUserID:window.pageSpecific.codeUserID,activeStatus:e},success:function(e){$("#container").css("display","none"),window.location.reload()}})}));shimAbacusForModules(window.myAbacus),window.pageSpecific.showGradingTab?window.myAbacus.addTab({title:"Test&nbsp;Cases",isMore:!1},(function(e){registerAjaxTabRequest("autograder tab",{item_id:window.pageSpecific.itemID,code_user_id:window.pageSpecific.codeUserID}).then((function(t){"ok"==t.status&&(e.innerHTML='<div class="grading-tab" id="grading-tab">'+t.text+'<pre hidden id="console"></pre><canvas width="400" height="500" class="codehs-editor-canvas" hidden></canvas></div>',$(e).css({"flex-flow":"column",padding:"10px 10px 50px 10px",overflow:"auto"}).addClass("editor-tab-content"),window.myAbacus.shim.runner||(window.myAbacus.shim.runner=new RunnerFactory(window.myAbacus.shim).create()),new GradingTab(window.myAbacus.shim),PubSub.trigger("ajaxui:setup",".grading-tab"),$(".switch").bootstrapSwitch())}))})):$("body").append('<pre hidden id="console"></pre><canvas width="400" height="500" class="codehs-editor-canvas" hidden></canvas></div>'),fetchAjaxTabRequests()}PubSub.on("embeddedAbacusSharedProgram:setup",setup)},{"../../core/constants.js":58,"../../core/pubSub.js":60,"../../editor/editorUtils.js":73,"../../editor/modules/gradingTab.js":106,"../../editor/runnerFactory.js":125,"../../utils/ajax.js":185,"../../utils/chsUtils.js":187,"./abacusEditor.js":166,"./abacusEditorUtils.js":167}],171:[function(e,t,n){"use strict";var i=e("toastr");e("../../core/pubSub.js").on("editor:showItemNotReleasedToast",(function(){i.warning("You can use the custom content tool to release it.","This exercise is not released.")}))},{"../../core/pubSub.js":60,toastr:858}],172:[function(e,t,n){"use strict";var i=e("../../core/pubSub.js"),r=e("../../number-base-tool");i.on("notes:number-base-tool",(function(){$(".notes-wrap").append(r.jqueryElem())}))},{"../../core/pubSub.js":60,"../../number-base-tool":163}],173:[function(e,t,n){"use strict";var i=e("../../core/pubSub.js"),r=e("../../editor/submitter.js");i.on("slides:setup",(function(){var e=$(".slides-link-template").html();$(".navbar-left").append(e),$(".video-link").on("click",(function(){var e=new URLSearchParams(window.location.search),t=window.pageSpecific.videoLink;e.has("lock-override")&&(t+="?lock-override=1"),window.location.href=t})),$(".next-link").on("click",(function(){window.location.href=window.pageSpecific.nextUrl}))})),i.on("slides:novideo",(function(){if(window.pageSpecific.isOwnPage){var e={};e=window.pageSpecific.studentAssignmentID?{student_assignment_id:window.pageSpecific.studentAssignmentID}:{item_id:window.pageSpecific.itemID,module_id:window.pageSpecific.moduleID,course_id:window.pageSpecific.courseID},r(e,(function(){}))}}))},{"../../core/pubSub.js":60,"../../editor/submitter.js":159}],174:[function(e,t,n){"use strict";var i,r,o=e("../../core/constants.js"),a=e("../../core/pubSub.js"),s=e("../../utils/ajax.js"),u=e("../../utils/alert.js"),l="#next-button";function c(e){var t=0;return e.each((function(){var e,n=parseInt($(this).data("qtype")),i=$(this).data("answered");if(n==o.SurveyQuestion.FREE_RESPONSE){var r=$(this).find("textarea");i=$(r).val()}else(n==o.SurveyQuestion.ONE_TO_TEN_AND_WHY||n==o.SurveyQuestion.ONE_TO_FIVE_AND_WHY)&&(e=$(this).find("textarea"),i=$(e).val());(window._.isNumber(i)||""!==i&&"None"!==i)&&t++})),t}function d(e){var t=$(".question"),n=t.length,i=$(".question:not(.blocking)").length,r=c(t);if(n===i)return r>0&&!e?($("#survey-questions").addClass("disabled"),$("#survey-questions").css({pointerEvents:"none"}),!0):!!(r>0&&e)&&($("#survey-questions").addClass("disabled"),$("#survey-questions").css({pointerEvents:"none"}),$("#continue-no-answer-link").css("display","None"),$(l).text("Next"),!0);var o=$(".question.blocking"),a=o.length,s=c(o);return a!==s||e?!(a!==s||!e)&&($("#survey-questions").addClass("disabled"),$("#survey-questions").css({pointerEvents:"none"}),$("#continue-no-answer-link").css("display","None"),$(l).text("Next"),!0):($("#survey-questions").addClass("disabled"),$("#survey-questions").css({pointerEvents:"none"}),!0)}function p(e,t,n){var i=parseInt(t)-1,r=$("#q-"+e+" .answers tr.selected");r&&r.removeClass(n);var o=$("#q-"+e+" .answers tr")[i];$(o).addClass(n)}function h(e,t){return t===o.SurveyQuestion.MULTIPLE_CHOICE||t==o.SurveyQuestion.ONE_TO_TEN||t==o.SurveyQuestion.ONE_TO_TEN_AND_WHY||t==o.SurveyQuestion.ONE_TO_FIVE_AND_WHY||t==o.SurveyQuestion.ONE_TO_FIVE_AND_WHY?$("input[name=question"+e+"]:checked").data("idx")+1:null}function f(e){r=(e=e||{}).numQuestions||0,i=e.pageUserID||0,$(".question").each((function(){var e=$(this).data("questionid"),t=$(this).data("answered"),n=$(this).data("qtype");if("None"!=t){if(n==o.SurveyQuestion.FREE_RESPONSE)$(this).find("textarea").val(t);else if(n==o.SurveyQuestion.ONE_TO_TEN_AND_WHY||n==o.SurveyQuestion.ONE_TO_FIVE_AND_WHY){"string"!=typeof t&&(t=JSON.stringify(t)),t=t.replace(/(\r\n|\n|\r)/gm,"1a2drc7d5f");var i=(t=JSON.parse(t)).score,r=t.why;r=r.replace(/1a2drc7d5f/gm,"\n"),$(this).find("textarea").val(r),p(e,i,"selected");var a=parseInt(i)-1,s=$("#q-"+e+" .answers .answer")[a];$(s).find("input:radio").prop("checked",!0)}else{p(e,t,"selected");var u=parseInt(t)-1,l=$("#q-"+e+" .answers .answer")[u];$(l).find("input:radio").prop("checked",!0)}$(this).find("input, textarea").attr("disabled",!0)}})),d(!0),$(".question").each((function(){var e=$(this).data("questionid"),t=$(this).data("qtype");if(t==o.SurveyQuestion.FREE_RESPONSE){var n=$(this).find("textarea"),i=n.val(),r=!$.trim($("#myTextArea").val());n.on("change",(function(){!$.trim(n.val())!=r&&$("#q-"+e).data("answered",i)}))}else if(t==o.SurveyQuestion.ONE_TO_TEN_AND_WHY||t==o.SurveyQuestion.ONE_TO_FIVE_AND_WHY){$(this).find(".answers .answer").on("click",(function(){$(this).find("input:radio").prop("checked",!0);var e=parseInt($(this).data("questionid")),t=h(e,parseInt($(this).data("qtype")));$("#q-"+e).data("answered",t),p(e,t,"selected")}));var a=$("#freeresponse-answer-"+e),s=a.val(),u=!$.trim($("#myTextArea").val());a.on("change",(function(){!$.trim(a.val())!=u&&(s=a.val(),a.data("why",s))}))}else $(this).find(".answers .answer").on("click",(function(){$(this).find("input:radio").prop("checked",!0);var e=parseInt($(this).data("questionid")),t=h(e,parseInt($(this).data("qtype")));$("#q-"+e).data("answered",t),p(e,t,"selected")}))})),$(l).on("click",(function(e){if(a.trigger("utils:disableButton",l),e.preventDefault(),d(!1)){var t=$(".question"),n={};t.each((function(){var e=parseInt($(this).data("qtype")),t=$(this).data("questionid"),a=$(this).data("answered");if(e==o.SurveyQuestion.FREE_RESPONSE){var s=$(this).find("textarea"),u=$(s).val();u&&(n[t]={pageUserID:i,questionID:t,numQuestions:r,questionType:e,answer:u})}else if(e!=o.SurveyQuestion.ONE_TO_TEN_AND_WHY&&e!=o.SurveyQuestion.ONE_TO_FIVE_AND_WHY||"None"==a)"None"!=a&&(n[t]={pageUserID:i,questionID:t,numQuestions:r,questionType:e,answer:a});else{var l=JSON.stringify({score:a,why:$(this).find("textarea").val()});n[t]={pageUserID:i,questionID:t,numQuestions:r,questionType:e,answer:l}}})),s.send({method:"answer_survey_question",app:"editor",data:{questionAnswerData:JSON.stringify(n)},success:function(e){$("#survey-questions").addClass("disabled"),$("#survey-questions textarea").attr("readonly",!0),$("#survey-questions .multiple-choice-answers").css({pointerEvents:"none"}),$("#survey-questions input:checkbox:not(:checked)").attr("disabled","disabled")},contentType:"application/json; charset=utf-8"}),window.location.replace($(l).data("next"))}else u({message:"Please answer all of the required questions in order to submit",button:"OK",refocusTarget:l}),a.trigger("utils:enableButton",l)}))}a.on("editor:survey",(function(){f({numQuestions:window.pageSpecific.numQuestions,pageUserID:window.pageSpecific.pageUserID})}))},{"../../core/constants.js":58,"../../core/pubSub.js":60,"../../utils/ajax.js":185,"../../utils/alert.js":186}],175:[function(e,t,n){var i=e("../../core/pubSub.js"),r=e("../../utils/quillCustom.js");i.on("editor:viewnote:setup",(function(){var e=window.pageSpecific.description,t=window.pageSpecific.isQuill;r.chooseEditor([{qlTarget:"#quill-note",mdTarget:"#markdown-note",content:e}],t),$(".notes-wrap a").attr("target","_blank")}))},{"../../core/pubSub.js":60,"../../utils/quillCustom.js":193}],176:[function(e,t,n){t.exports='{{#if refocusTarget}}<div class=modal id=alert-modal tabindex=-1 role=dialog aria-modal=true aria-labelledby=alert-modal-title data-refocus=true>{{else}}<div class=modal id=alert-modal tabindex=-1 role=dialog aria-modal=true aria-labelledby=alert-modal-title>{{/if}}<div class=modal-dialog style="width: {{width}}"><div class=modal-content><div class=modal-header><button type=button aria-label=Close class="alert-close close alert-cancel exit-button" data-dismiss=modal>&times;</button><h3 class=modal-title id=alert-modal-title>{{header}}</h3></div>{{#if modalBodyPadding}}<div class=modal-body style="padding: {{modalBodyPadding}}">{{else}}<div class=modal-body>{{/if}} {{#if msg}}<p>{{msg}}</p>{{/if}} {{{rawHtml}}}</div><div class=modal-footer>{{#if cancelButton}} <a href=# class="btn btn-secondary alert-close alert-cancel cancel-button text-blue">{{cancelButtonText}}</a> {{/if}} <a href=# class="btn btn-main alert-close ok-button">{{button}}</a></div></div></div></div></div></div>'},{}],177:[function(e,t,n){t.exports="<div class=modal id=autograder-modal><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=\"alert-close close\" data-dismiss=modal>&times;</button><h3>CodeHS</h3></div><div class=modal-body style=max-height:60%;overflow-y:auto><h4>{{#if aiGradingInProgress }}<div class=\"full-width flex flex-align-center\"><div class=\"spinner icon-spinner icon-spin icon\"></div></div><h3 class=center>Running Autograder</h3>{{else if passed }} {{#if hasTests}} {{#ifCond prefLang '===' 'es'}} <span>Excelente!</span> {{#unless freeResponse}}Tu programa funciona.{{/unless}} {{else}} <span>Great job!</span> {{#unless freeResponse}}Your program works.{{/unless}} {{/ifCond}} {{else}} <span>Thanks!</span> Your program has been submitted. {{/if}} {{else}} {{#ifCond prefLang '===' 'es'}} <span>Ups.</span> Parece que tienes algunos errores. {{else}} <span>Oops.</span> It looks like you have a few errors. {{/ifCond}}<br>{{#if isUserLoggedIn }} {{#unless isAbacus }} {{#ifCond prefLang '===' 'es'}} Deberas seguir trabajando y volver a intentarlo {{else}} You should keep working and try again. {{/ifCond}} {{/unless}} {{/if}} {{/if}}</h4>{{#if funcTests}}<h5>{{#ifCond prefLang '===' 'es'}} Funcionalidad {{else}} Functionality {{/ifCond}}</h5>{{#each funcTests}}<div class=world-status><div class=\"status left{{#if success}} pass{{else}} fail{{/if}}\"><span class=\"chs-icon chs-icon-{{#if success}}check text-green{{else}}cancel text-red{{/if}}\"></span></div><h4 class=\"left name\">{{#if isHiddenTest}} Hidden Test {{else}} {{#if test}} {{{test}}} {{else}} {{{message}}} {{/if}} {{/if}}</h4></div><div class=clear></div>{{/each}} {{/if}} {{#if styleTests}}<h5>{{#ifCond prefLang '===' 'es'}} Estilo {{else}} Style {{/ifCond}}</h5>{{#each styleTests}}<div class=world-status><div class=\"status left{{#if success}} pass{{else}} fail{{/if}}\"><span class=\"chs-icon chs-icon-{{#if success}}check text-green{{else}}cancel text-red{{/if}}\"></span></div><h4 class=\"left name\">{{{message}}}</h4></div><div class=clear></div>{{/each}} {{/if}} {{#if aiTests}}<h5>AI Tests</h5>{{#each aiTests}}<div class=world-status><div class=\"status left{{#if success}} pass{{else}} fail{{/if}}\"><span class=\"chs-icon chs-icon-{{#if success}}check text-green{{else}}cancel text-red{{/if}}\"></span></div><h4 class=\"left name\">{{#if test}} {{{test}}} {{else}} {{{message}}} {{/if}}</h4></div><div class=clear></div>{{/each}} {{/if}} {{#if isHourOfCode}} {{#if passed}}<div id=autograder-signup><btn id=hoc-signup-autograder-btn class=\"btn btn-main-green js-hoc-signup-modal alert-close\">Sign Up to save your progress</btn></div>{{/if}} {{/if}}</div><div class=modal-footer>{{#if ownPage}} {{#if passed}} <a href=# class=\"uppercase alert-close\">{{#ifCond prefLang '===' 'es'}} Cerrar {{else}} Close {{/ifCond}}</a> {{#if isPractice}} <a href={{practiceUrl}} class=\"btn btn-main-dark-blue\">Back to Practice</a> {{/if}} <a id=submit-correct href=# class=\"btn btn-main alert-close\">{{#ifCond prefLang '===' 'es'}} Enviar + Continuar {{else}} Submit + Continue {{/ifCond}}</a> {{else}} {{#unless isPracticeLoggedOut}} <a id=continue-anyways-btn href={{nextUrl}}>{{#ifCond prefLang '===' 'es'}} Continuar de todos modos {{else}} Continue Anyway {{/ifCond}}</a> {{/unless}} {{#if isPractice}} <a href={{practiceUrl}} class=\"btn btn-main-dark-blue\">Back to Practice</a> {{/if}} <a href=# class=\"btn btn-main-transparent alert-close\">{{#ifCond prefLang '===' 'es'}} Cerrar {{else}} Close {{/ifCond}}</a> {{/if}} {{else}} <a href=# class=\"btn btn-main-transparent alert-close\">{{#ifCond prefLang '===' 'es'}} Cerrar {{else}} Close {{/ifCond}}</a> {{/if}}</div></div></div></div>"},{}],178:[function(e,t,n){t.exports='<style>#contest-modal .contest-modal-btn {\n        color: #27a9e1;\n        border-color: #27a9e1;\n        margin: 3px;\n    }\n    #contest-modal .contest-modal-btn:hover {\n        color: rgb(39,169,225);\n    }\n    #contest-modal input.error {\n        border-color: red;\n    }</style><div id=contest-modal><div><div id=section-contest-just-submitted class=hidden><h3>Successfully submitted to <span class=contest-name>!</span></h3></div><div id=section-contest-already-submitted class=hidden><h3>You\'ve already submitted this program to <span class=contest-name>!</span></h3></div><div id=section-contest-not-submitted><h3>Submit to the Beat Showcase for your Section:</h3><button id=submit-to-section-contest-btn class="btn btn-main-transparent contest-modal-btn spacing-top"><span class="icon icon-external-link"></span> Submit</button></div></div></div>'},{}],179:[function(e,t,n){t.exports='<style>#contest-modal .contest-modal-btn {\n        color: #27a9e1;\n        border-color: #27a9e1;\n        margin: 3px;\n    }\n    #contest-modal .contest-modal-btn:hover {\n        color: rgb(39,169,225);\n    }\n    #contest-modal input.error {\n        border-color: red;\n    }</style><div id=contest-modal><div><div id=contest-just-submitted class=hidden><h3>Successfully submitted to <a class=contest-url-link target=_blank>!</a></h3><div><strong>Submit to another contest?</strong></div></div><div id=contest-already-submitted class=hidden><h3>You\'ve already submitted this program to <a class=contest-url-link target=_blank></a>!</h3><div><strong>Submit to another contest?</strong></div></div><div class=contest-not-submitted><h3>Submit to a Contest!</h3><div><strong>If you have a contest code, enter it here</strong></div></div><div class=submit-to-contest-wrapper>{{#if isLoggedOut}} <input id=contest-contact-me-input type=checkbox checked=checked> <span>I would like to be contacted about contest results</span> <input id=contest-user-name-input type=text placeholder="First Name Last Initial" autocomplete=off> <input id=contest-user-email-input type=text placeholder=name@email.com autocomplete=off> {{/if}} <input class=spacing-top id=contest-id-input style="display: inline-block" type=text placeholder="Contest Code"> <button id=submit-to-contest-btn type=submit class="btn btn-main-transparent contest-modal-btn spacing-top"><span class="icon icon-external-link"></span> Submit</button></div><div class="contest-past-submissions-container hidden"><hr><div><strong>Past Submissions</strong></div><ul id=contest-past-submissions style="margin-bottom: 0px"></ul></div></div></div>'},{}],180:[function(e,t,n){t.exports='<style>.abacus-fork-modal .row {\n    display: flex;\n    height: 83px;\n    position: relative;\n    width: 100%;\n    padding: 0px 20px;\n    margin-top: 20px;\n    margin-bottom: 0;\n    align-items: center;\n}\n .abacus-fork-modal .text-wrap {\n    display: flex;\n    align-items: center;\n    word-break: break-all;\n}\n.abacus-fork-modal .sandbox-program-title {\n    font-size: 24px;\n    font-weight: 200;\n    color: #555;\n}\n.abacus-fork-modal img {\n    height: 80px;\n    margin-right: 20px;\n    vertical-align: middle;\n}\n#abacus-fork-submit {\n    height: 40px;\n    margin-left: auto;\n}</style><div class=abacus-fork-modal><div class=row><img src="{{STATIC_URL}}img/program_icons/{{ progTypeString }}.png"><div class=text-wrap><h1 class=sandbox-program-title><span id=forked-program-title-display-span>{{itemTitle}}</span> (Forked from {{sharedProgramOwnerAttribution}})</h1></div><button class="btn btn-main" id=abacus-fork-submit>Fork!</button></div></div>'},{}],181:[function(e,t,n){t.exports='<table class="table table-condensed"><thead class=table-header-sticky><tr><th class=bottom-border></th><th class=bottom-border>Pass</th><th class=bottom-border>Test</th><th class=bottom-border>Message</th></tr></thead>{{#each tests}} {{#if showDropdown}}<tr tabindex=0 class="{{#if success}} success-test accordion-toggle side-borders collapsed {{else}} {{#if invalid}} invalid-test accordion-toggle side-borders bottom-border {{else}} danger-test accordion-toggle side-borders bottom-border {{/if}} {{/if}}" data-toggle=collapse data-target=#result{{@index}}><td class="test-show test-case-spacing"><span class=icon-caret-right><i class="fas fa-angle-right"></i></span> <span class=icon-caret-down><i class="fas fa-angle-down"></i></span></td><td class=test-case-spacing>{{#if success}}<div class=green-circle><span class=chs-icon-check role=img aria-label=Passed></span></div>{{else}}<div class=red-circle><span class=chs-icon-cancel role=img aria-label=Failed></span></div>{{/if}}</td><td class="grading-code test-case-spacing">{{#if isHiddenTest}} <span class="icon icon-eye-close" rel=tooltip-left title="Hidden tests hide the input and output of the test case. Your program should work for all inputs, even the ones there isn\'t a test for."></span> {{/if}} {{{test}}}</td><td class=test-case-spacing>{{{message}}}</td></tr><tr><td colspan=5 class="hidden-row side-borders bottom-border"><div class="accordion-body collapse{{#unless success}} in{{/unless}}" id=result{{@index}} data-toggle=false>{{#if solutionOutput}}<div class=expanded-case><div class="div-spacing grading-code">Expected result:</div><div class="div-spacing bottom-spacing grading-code"><pre class=rounded>{{solutionOutput}}</pre></div></div>{{/if}} {{#if studentOutput}}<div class=expanded-case><div class="div-spacing grading-code">Your result:</div><div class="div-spacing bottom-spacing grading-code"><pre class=rounded>{{studentOutput}}</pre></div></div>{{/if}} {{#if showDiff}}<div class=expanded-case><div class="div-spacing grading-code">Difference:</div><div class="div-spacing bottom-spacing grading-code"><pre class="result rounded">{{{diff}}}</pre></div></div>{{/if}}</div></td></tr>{{else}} {{#if isHiddenTest}}<tr tabindex=0 class="{{#if success}} success-test {{else}} {{#if invalid}} invalid-test {{else}} danger-test {{/if}} bottom-border {{/if}} side-borders" data-toggle=collapse data-target=#result{{@index}}><td class=test-case-spacing></td><td class=test-case-spacing>{{#if success}}<div class=green-circle><span class=chs-icon-check role=img aria-label=Passed></span></div>{{else}}<div class=red-circle><span class=chs-icon-cancel role=img aria-label=Failed></span></div>{{/if}}</td><td class="grading-code test-case-spacing">{{#if isHiddenTest}} <span class="icon icon-eye-close" rel=tooltip-left title="Hidden tests hide the input and output of the test case. Your program should work for all inputs, even the ones there isn\'t a test for."></span> {{/if}} Hidden Test</td><td class=test-case-spacing></td></tr>{{else}}<tr tabindex=0 class="{{#if success}} success-test {{else}} {{#if invalid}} invalid-test {{else}} danger-test {{/if}} {{/if}} side-borders" data-toggle=collapse data-target=#result{{@index}}>{{#if aiTestCase}}<td class=test-show style="padding-left: 12px; padding-top: 7px; font-size: 20px"></td>{{else}}<td class=test-show></td>{{/if}}<td>{{#if success}}<div class=green-circle><span class=chs-icon-check role=img aria-label=Passed></span></div>{{else}}<div class=red-circle><span class=chs-icon-cancel role=img aria-label=Failed></span></div>{{/if}}</td>{{#if isHiddenTest}}<td><span class="icon icon-eye-close" rel=tooltip-left title="Hidden tests hide the input and output of the test case. Your program should work for all inputs, even the ones there isn\'t a test for."></span></td>{{/if}}<td class=grading-code>{{{category}}}</td><td>{{{message}}}</td></tr>{{/if}} {{/if}} {{/each}}</table>'},{}],182:[function(e,t,n){t.exports='<div class=modal id=alert-modal role=dialog tabindex=-1 aria-modal=true><div id=share-alert-modal><div class=modal-dialog style="width: {{width}}"><div class=modal-content><div class=modal-header><button type=button class="alert-close close alert-cancel exit-button" data-dismiss=modal aria-hidden=true>&times;</button><h3 class=modal-title>{{header}}</h3></div>{{#if modalBodyPadding}}<div class=modal-body style="padding: {{modalBodyPadding}}">{{else}}<div class=modal-body>{{/if}} {{#if msg}}<p>{{msg}}</p>{{/if}} {{{rawHtml}}}</div></div></div></div></div></div>'},{}],183:[function(e,t,n){t.exports='<style>#share-modal #share-modal-link-wrapper {\n        display: flex;\n    }\n\n    #share-modal #share-modal-link-input {\n        cursor: auto;\n        background-color: white;\n        width: 75%;\n        margin: 3px;\n        flex: 1;\n    }\n\n    #share-modal .share-modal-info {\n        padding: 10px;\n        margin: 10px 0 0;\n        background-color: rgba(39,169,225,.15);\n        color: #27a9e1;\n        border-radius: 3px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n    }\n\n    #share-modal .share-modal-info-icon {\n        padding-right: 3px;\n    }\n\n    #share-modal input {\n        margin: 5px auto;\n\n    }\n\n    #share-modal input.error {\n        border-color: red;\n    }\n\n    #sharemodal .info-text {\n        margin-top: 15px;\n    }\n\n    #sharemodal .info-text .icon-info-sign {\n        margin-right: 5px;\n    }\n\n    #sharemodal  #course-select-section {\n        margin-top: 15px;\n    }\n\n    #share-modal h3.advanced-settings {\n        margin-bottom: 0px;\n    }\n    .modal-footer {\n        margin-top: 0px;\n    }\n\n    #collab-enabled-section p {\n        font-size: 16px;\n        font-weight: bold;\n        text-align: center;\n    }\n\n    #collab-disabled-section {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n    }\n\n    #collab-disabled-section p {\n        font-size: 20px;\n    }</style><div id=share-modal><div id=share-url class=share-publish-url><div id=share-type-switch><button value=Code class="btn active"><i class="fas fa-share-alt"></i> Share</button> <button value=Embed class=btn><i class="far fa-file-code"></i> Embed</button> {{#if canBeAssigned }} <button value=Assign class=btn><i class="far fa-check-circle"></i> Assign</button> {{/if}} {{#if showCollaborateTab }} <button value=Collaborate class=btn><i class="fas fa-user-friends"></i> Collaborate</button> {{/if}}</div></div>{{#if isLoggedOut }}<div id=logged-out-banner class="alert alert-warning">You are using CodeHS with no account. {{#if showEditWarning }}<span id=logged-out-edit-warning>Anyone with this link will be able to edit this program.</span>{{/if}}<a target=_blank href="/login?next=/signup/from_sandbox/{{itemID}}">Log in</a> or <a target=_blank href=/signup/from_sandbox/{{itemID}}>sign up</a> for an account to <span id=logged-out-banner-message>change the share settings for this program.</span></div>{{else}} {{/if}}<div id=share-modal-contents><input id=share-modal-share-link value={{shareURL}} target=_blank class=hidden><button class="btn btn-main-transparent share-modal-btn js-share-modal-copy hidden"><span>copy</span> <i class="far fa-clone"></i></button><div id=share-options class=checkbox-container><div><div class=checkbox-display>{{#if isActive }} <input type=checkbox id=share-modal-active-switch class="sharing-option-checkbox share-tab-checkbox" checked=checked> {{else}} <input type=checkbox id=share-modal-active-switch class="sharing-option-checkbox share-tab-checkbox"> {{/if}}<label class=sharing-option-label>Public<p>Allow others to run your program without seeing the code.</p></label></div><input id=share-modal-public-link value={{shareURL}} target=_blank class=hidden><button class="btn btn-main-transparent share-public-modal-btn js-share-modal-copy" id=share-public-copy><span>copy</span> <i class="far fa-clone"></i></button></div><div id=code-display-container><div class=checkbox-display>{{#if showCode }} <input type=checkbox id=share-modal-show-code-switch class="sharing-option-checkbox share-tab-checkbox" checked=checked> {{else}} <input type=checkbox id=share-modal-show-code-switch class="sharing-option-checkbox share-tab-checkbox"> {{/if}}<label class=sharing-option-label>Show code<p>Allow others to view your code and run your program.</p></label></div><input id=share-modal-copy-link value={{shareURL}} target=_blank class=hidden><button class="btn btn-main-transparent share-code-modal-btn js-share-modal-copy" id=share-code-copy><span>copy</span> <i class="far fa-clone"></i></button></div>{{#if showSocialMedia }}<label class=sharing-option-label>Social media</label><div class=sharing-option><a href="https://www.facebook.com/dialog/feed?&app_id=374319315985729&link=https%3A%2F%2Fcodehs.com%2Fshare%2F{{shareIdentifier}}&display=popup&quote=Check out this cool beat I made with Code Remix and let me know what you think!&hashtag=#UnlockTheBeat" target=_blank><i class="icon-facebook-sign large share" rel=tooltip title="Share on Facebook"></i></a> <a id=twitter-share-link href="https://twitter.com/intent/tweet?text=Check%20out%20this%20cool%20beat%20I%20made%20with%20Beats%20Unlocked%20and%20let%20me%20know%20what%20you%20think!&url=https%3A%2F%2Fcodehs.com%2Fshare%2F{{shareIdentifier}}&hashtags=UnlockTheBeat&via=codehs" target=_blank><i class="icon-twitter-sign large share" rel=tooltip title="Share on Twitter"></i></a></div>{{/if}}</div><div id=embed-options class=hidden><div class=dimension-container><div class=embed-dimension><label class="">Display</label><select id=embed-opt-display-type class=small-dropdown><option value=default>App &amp; Code</option><option value=displayOnly>App Only</option><option value=editorOnly>Code Only</option></select></div><div class=embed-dimension><label class="">Width</label><input type=text id=embed-opt-width placeholder=850></div><div class=embed-dimension><label class="">Height</label><input type=text id=embed-opt-height placeholder=500></div></div><div id=embed-display-options class=checkbox-container><div class=checkbox-display><input type=checkbox id=embed-opt-read-only class=sharing-option-checkbox><label class=sharing-option-label>Read Only<p>Prevent others from modifying the embedded code.</p></label></div><div class=checkbox-display><input type=checkbox id=embed-opt-show-tree class=sharing-option-checkbox><label class=sharing-option-label>Show File Tree<p>Show the file tree in the embedded editor.</p></label></div></div></div>{{#unless isLoggedOut}}<div id=collab-container class=hidden><div id=collab-disabled-section><p>Collaboration is currently disabled for this program.</p><button id=enable-collab-button class="btn btn-main">Enable Collaboration</button></div><div id=collab-enabled-section class=hidden><p>Share this link to let others collaborate on this program with you!</p><input id=share-modal-collab-link><button class="btn btn-main-transparent share-modal-btn js-share-modal-collab-copy"><span>copy</span> <i class="far fa-clone"></i></button></div></div>{{/unless}}</div><div id=assign-options class=hidden><div class=info-text><p><span class="icon icon-info-sign"></span> The starter code for this assignment will automatically be generated from your sandbox program. Any future changes made to this sandbox program will not affect this assignment.</p></div><div id=description-container><label class="sharing-option-label description-label">Description<span class="chs-icon chs-icon-check text-green hidden"></span></label><p>This is the exercise prompt your students will see when they open this assignment</p><div id=markdown-editor class=description-container><textarea name=description id=share-modal-edit-description>{{itemDescription}}</textarea><div id=preview-description-text data-markdown={{itemDescription}}></div></div></div><div id=item-type-container><label class="sharing-option-label item-type-label">Assign as</label><div class=item-type-picker-container><select class="item-type-select selectpicker" data-dropup-auto=false data-width=50%><option data-type={{C.ItemType.EXERCISE}}>Exercise</option><option data-type={{C.ItemType.EXAMPLE}}>Example</option></select></div></div><div id=course-select-section><label class=sharing-option-label>Choose a Course</label><div class=course-picker-container><select class="course-select selectpicker" data-dropup-auto=false data-width=438px><option disabled=disabled>Choose a Course</option>{{#each activeTeacherCourses as | course |}}<option value={{[id]}} id={{[id]}}>{{[name]}}</option>{{/each}}</select><button class="btn btn-main btn-main-green assign-btn" id=share-modal-assign-btn>Assign</button></div></div><div id=links-section class=hidden><a class=view-link target=_blank>View Assignment in the Course</a></div></div></div>'},{}],184:[function(e,t,n){"use strict";var i,r=e("./ajax.js"),o=e("../core/pubSub.js"),a=e("./alert.js"),s=".ai-hint-feedback",u=".ai-hint-feedback-button",l="#ai-hint-main-button",c="#help-tab .dropdown-toggle";function d(){$(s).addClass("hidden"),$(u).off("click")}function p(e,t,n,i,o){var l=$(s),c=$(u);n&&!o&&(c=c.filter("[data-student-assignment-id="+n+"]"),l=l.filter("[data-student-assignment-id="+n+"]")),i&&(c=c.filter("[data-ai-request-id="+e+"]"),l=l.filter("[data-ai-request-id="+e+"]")),l.removeClass("hidden"),c.on("click",(function(){var n=$(this),i=$(this).closest(s);n.prop("disabled",!0);var o=$(this).find(".fa-thumbs-up").length>0,l={};i.data("batched-ai-request")&&(l.student_assignment_id=i.data("student-assignment-id")),r.send({app:"ai",method:"ai_hint_feedback",data:{ai_request_id:e,is_positive:o,extra_data:JSON.stringify(l)},success:function(e){n.prop("disabled",!1),"ok"===e.status?(i.addClass("hidden"),function(e,t,n){var i,o;a({rawHtml:e,enterToClose:!1,button:"Submit",cancelButton:!0,cancelButtonText:"Cancel",header:n+" Feedback",before_close_callback:function(){i=$("#ai-feedback-message").val(),o=Array.from($(".canned-feedback:checked").map((function(e,t){return $(t).attr("name")}))).join(",")},ok_callback:function(){r.send({app:"ai",method:"ai_hint_feedback_message",data:{ai_feedback_id:t,ai_feedback_message:i,canned_feedback:o},success:function(e){"ok"===e.status?e.feedback_received&&window.toastr.success("Thank you for your feedback!"):window.toastr.error(e.message)},error:function(){$(u).prop("disabled",!1),window.toastr.error("There was an error submitting your feedback.")}})}})}(e.feedback_modal_content,e.ai_feedback_id,t)):window.toastr.error(e.message)},error:function(){n.prop("disabled",!1),window.toastr.error("There was an error submitting your feedback.")}})}))}function h(e,t){r.send({method:"get_student_assignment",app:"ai",data:{assignment_id:$("#choose-assignment").val(),student_id:$("#choose-student").val()},success:function(n){e(n.student_assignment_id,t)},error:function(){window.toastr.error("Error retrieving assignment."),o.trigger("utils:enableButton","#ai-grade-free-response"),o.trigger("utils:enableButton","#ai-grade-free-response-dropdown-toggle")}})}function f(e,t){var n={student_assignment_id:e,score:$("#grade-score").val(),message:$("#grade-message").val(),teacher_notes:"",student_next_step:t,grade_mode:!0,section:$("#choose-student").find("option:selected").data("section-id"),ai_request_id:$(this).data("ai-request-id")};r.send({app:"lms",method:"grade_assignment",data:n,success:function(e){"ok"===e.status?window.toastr.success("Grade submitted"):window.toastr.error(e.message)},error:function(e){window.toastr.error("There was an error grading this assignment! Please try again")}})}function m(e,t){r.send({method:"ai_grade_assignments",app:"lms",data:{assignment_id:$("#choose-assignment").val(),item_id:$("#choose-assignment").data("item-id"),strictness:t,student_assignment_id:e},success:function(t){o.trigger("utils:enableButton","#ai-grade-free-response"),o.trigger("utils:enableButton","#ai-grade-free-response-dropdown-toggle"),"status"in t&&"fail"===t.status?window.toastr.error("Try again in a few seconds."):Object.keys(t).forEach((function(n){n==e&&($("#grade-message").val(t[n].message),t[n].pass?$("#grade-score").val($("#max-points").html()):$("#grade-score").val(0),t[n].ai_request_id&&p(t[n].ai_request_id,"AI Grades",e,!1,!0))}))},error:function(){o.trigger("utils:enableButton","#ai-grade-free-response"),o.trigger("utils:enableButton","#ai-grade-free-response-dropdown-toggle"),window.toastr.error("Could not get an AI grade for this submission.")}})}function g(e,t,n){return o.trigger("utils:disableButton",$(l)),o.trigger("utils:disableButton",$(c)),$("#load-solution-code").addClass("hidden"),r.send({app:"ai",method:"load_demo_ai_program",data:{ai_request_id:e,hint_level:t,strictness:t},success:function(t){o.trigger("utils:enableButton",$(l)),o.trigger("utils:enableButton",$(c)),"ok"===t.status?($("#choose-assignment").val("default").selectpicker("refresh"),$("#choose-student").val("default").selectpicker("refresh"),$("#send-hint").addClass("hidden"),n&&("hint"in t?$("#ai-hint-result").val(t.hint):"grade"in t&&($("#max-points").html(t.max_points),$("#grade-message").val(t.grade.message),t.grade.pass?$("#grade-score").val($("#max-points").html()):$("#grade-score").val(0))),i.session.setValue(t.code),$("#item-description").val(t.description),window.pageSpecific.demoAIRequest=e):window.toastr.error("There was an error loading the program.")},error:function(){o.trigger("utils:enableButton",$(l)),o.trigger("utils:enableButton",$(c)),window.toastr.error("There was an error loading the program.")}})}o.on("ai:setup:setupFeedbackTagging",(function(){$(".canned-feedback").on("change",(function(){r.send({app:"ai",method:"tag_airequest_feedback",data:{ai_request_id:$(this).data("ai-request-id"),ai_feedback_id:$(this).data("ai-feedback-id"),tag_name:$(this).data("tag-name"),add:$(this).is(":checked")}})})),$(".ai-hint-feedback-button").on("click",(function(){$(this).removeClass("gray"),10==$(this).parent().data("rating")?$("#thumbs-down-"+$(this).parent().data("id")).find(".ai-hint-feedback-button").addClass("gray"):$("#thumbs-up-"+$(this).parent().data("id")).find(".ai-hint-feedback-button").addClass("gray")}))})),o.on("ai:sectionFeed:setupAIFeedback",(function(){window.pageSpecific.aiRequestIds.forEach((function(e){p(e,"AI",void 0,!0)})),o.trigger("main:fixCheckmarkIcons")})),o.on("ai:toolbox:hints:setup",(function(){var e="#edit-description-button",t="#item-description",n="#edit-description",a="#load-solution-code-button",s=null,u=null,c=null,h=null,f=window.pageSpecific.defaultRevisionSource;function m(i){var r=$(e);i?(r.data("editing","true"),r.text("Save Changes"),$(n).val($(t).attr("data-markdown")),$(t).addClass("hidden"),$(n).removeClass("hidden")):(r.data("editing","false"),r.text("Edit"),$(t).attr("data-markdown",$(n).val()),o.trigger("CHS.Utils.markdown:setup"),$(t).removeClass("hidden"),$(n).addClass("hidden"))}function g(e,r,s,u,l){$("#program-title").text(e),m(!1),$(t).attr("data-markdown",r),$(n).val(r),o.trigger("CHS.Utils.markdown:setup"),$("#student-name").text(l),$("#assignment-in-editor-link").toggleClass("hidden",!l),i.session.setValue(s),i.getSession().setMode("ace/mode/"+u),$(a).toggleClass("hidden",!h),$("#ai-hint-result").val(""),$("#send-ai-response").addClass("hidden"),d()}(i=window.ace.edit("code-editor")).session.setUseWrapMode(!0),i.getSession().setMode("ace/mode/"+window.pageSpecific.defaultProgLang),i.session.setValue(window.pageSpecific.defaultCode),$(".load-ai-demo").on("click",(function(){s=null,u=null,c=null,h=null;g($(this).text()+" (Demo)",$(this).data("description"),$(this).data("code"),$(this).data("prog-lang"),""),f=$(this).data("revision-source")})),$(".load-student").on("click",(function(){s=$(this).data("item-id"),u=$(this).data("student-id"),c=null,h=null,f=null;var e=$(this).data("student-assignment-id"),t=$(this).data("student-assignment-url"),n=$(this).data("title"),i=$(this).data("description"),o=$(this).data("prog-lang"),a="("+$(this).text().trim()+")";r.send({method:"get_student_assignment_code_and_solution",app:"editor",type:"GET",data:{item_id:s,student_assignment_id:e,student_id:u},success:function(e){var r;"ok"===e.status?(r=e.student_code,h=JSON.parse(e.solution_code)):r=e.message,$("#assignment-in-editor-link").attr("href",t),g(n,i,r,o,a),f="ok"===e.status?e.revision_source:null}})})),$(e).on("click",(function(){var e=$(this);m(!JSON.parse(e.data("editing")))})),i.getSession().on("change",(function(){f=null})),$(a).on("click",(function(){i.session.setValue(h),f=null})),$(l).on("click",(function(e){e.preventDefault(),o.trigger("utils:disableButton",$(l)),d();var n=$(t).attr("data-markdown");return r.send({app:"ai",method:"get_custom_ai_hint",data:{description:n,code:i.session.getValue(),hint_level:$('input[name="hint-level"]:checked').val(),revision_source:f,item_id:s},success:function(e){"ok"===e.status?($("#ai-hint-result").val(e.hint),(c=e.ai_request_id)&&p(c,"AI Hints"),u&&$("#send-ai-response").removeClass("hidden")):window.toastr.error(e.message),o.trigger("utils:enableButton",$(l))},error:function(){window.toastr.error("There was an error generating your hint."),o.trigger("utils:enableButton",$(l))}})})),$("#send-ai-response").on("click",(function(){return s&&u&&c?r.send({app:"help",method:"help_message",data:{info:{itemID:s,codeUserID:u},content:$("#ai-hint-result").val(),ai_request_id:c},success:function(e){"ok"===e.status?($("#ai-hint-result").val(""),$("#send-ai-response").addClass("hidden"),window.toastr.success("Your hint has been sent!"),c=null):window.toastr.error("There was an error sending your hint.")}}):($("#send-ai-response").addClass("hidden"),void window.toastr.error("You cannot send a hint now."))}))})),o.on("ai:quickHint:setup",(function(){(i=window.ace.edit("code-editor")).session.setUseWrapMode(!0),i.setOptions({readOnly:!0,highlightActiveLine:!1,highlightGutterLine:!1}),i.getSession().setMode("ace/mode/"+window.pageSpecific.programmingLanguage),window.pageSpecific.files&&i.session.setValue(Object.values(window.pageSpecific.files)[0]),$(".ai-hint").on("click",(function(e){e.preventDefault(),o.trigger("utils:disableButton",$(l)),d(),$("#send-ai-response").addClass("hidden");var t=$("input[name=hint-level]:checked").val()||"0";return r.send({app:"ai",method:"get_ai_hint",data:{student_assignment_id:window.pageSpecific.studentAssignmentID,hint_level:t},success:function(e){"ok"===e.status?($("#ai-hint-result").val(e.hint),$("#ai-hint-result").data("ai-request-id",e.ai_request_id),e.ai_request_id&&p(e.ai_request_id,"AI Hints"),$("#send-ai-response").removeClass("hidden")):window.toastr.error(e.message),o.trigger("utils:enableButton",$(l))},error:function(){window.toastr.error("There was an error generating your hint."),o.trigger("utils:enableButton",$(l))}})})),$("#send-ai-response").on("click",(function(){return r.send({app:"help",method:"help_message",data:{info:{itemID:window.pageSpecific.itemID,codeUserID:window.pageSpecific.studentID},content:$("#ai-hint-result").val(),ai_request_id:$("#ai-hint-result").data("ai-request-id")},success:function(e){"ok"===e.status?($("#ai-hint-result").val(""),$("#send-ai-response").addClass("hidden"),window.toastr.success("Your hint has been sent!")):window.toastr.error("There was an error sending your hint.")}})}))})),o.on("ai:toolbox:grades:setup",(function(){!function(){function e(){var e=$("#choose-assignment").data("item-id"),t=$("#choose-student").val(),n=$("#choose-student").find("option:selected").data("section-id");e&&r.send({method:"get_student_code",app:"editor",type:"GET",data:{item_id:e,student_id:t,section_id:n},success:function(e){"ok"==e.status?(i.session.setValue(e.code),$("#choose-student").data("revision",e.revision)):(i.session.setValue(e.message),$("#choose-student").data("revision",void 0)),$("#choose-student").val(t)}})}function t(e){var t=$("#choose-student").val(),n=$("#choose-student");n.empty(),n.append('<option value="" selected disabled>Choose Student</option>'),e.forEach((function(e){var i='<option value="'+e.id+'" data-section-id="'+e.section_id+'"';e.id==t&&(i+=" selected"),i+=">"+e.name+"</option>",n.append(i)})),0==e.length&&$("#choose-assignment").val()&&n.append("<option disabled>No Students Have Started this Assignment</option>"),n.selectpicker("refresh")}(i=window.ace.edit("code-editor")).session.setUseWrapMode(!0),$("#choose-teacher-course").on("change",(function(){if($("#send-ai-response").addClass("hidden"),$("#load-solution-code").addClass("hidden"),!$(this).val())return $("#choose-assignment").parent().addClass("hidden"),void $("#choose-assignment").data("item-id","");r.send({method:"get_coding_assignments_in_teacher_course",app:"library",type:"GET",data:{teacher_course_id:$(this).val()},success:function(e){var t=e.assignments,n=$("#choose-assignment");n.empty(),n.append('<option value="" selected disabled>Choose Assignment</option>'),t.forEach((function(e){n.append('<option value="'+e.id+'">'+e.title+"</option>")})),n.selectpicker("refresh"),n.parent().removeClass("hidden")}}),r.send({method:"get_students_in_teacher_course",app:"library",type:"GET",data:{teacher_course_id:$(this).val()},success:function(e){t(e.students)}})})),$("#choose-assignment").on("change",(function(){$("#send-ai-response").addClass("hidden"),r.send({method:"get_assignment_description",app:"library",type:"GET",data:{assignment_id:$(this).val()},success:function(t){$("#item-description").val(t.description),$("#choose-assignment").data("item-id",t.item_id),$("#load-solution-code").removeClass("hidden"),$("#max-points").html(t.max_points),$("#choose-student").val()&&e()}}),r.send({method:"get_students_in_teacher_course",app:"library",type:"GET",data:{assignment_id:$("#choose-assignment").val(),teacher_course_id:$("#choose-teacher-course").val()},success:function(n){t(n.students),$("#choose-student").val()&&e()}})})),$("#choose-student").on("change",(function(){$("#send-ai-response").addClass("hidden"),e(),$(this).val()&&h((function(e,t){$(".ai-hint-feedback-button").each((function(){$(this).data("student-assignment-id",""+e)}))}))})),$("#load-solution-code").on("click",(function(){r.send({type:"GET",method:"get_solution_code",app:"editor",data:{itemID:$("#choose-assignment").data("item-id"),gulpUrl:CHS.GULP_URL},success:function(e){if("ok"===e.status){var t=JSON.parse(e.solutionCodeJson.split("").map((function(e,t){var n=CHS.GULP_URL[t%CHS.GULP_URL.length];return String.fromCharCode((e.charCodeAt(0)-n.charCodeAt(0))%256)})).join(""));i.session.setValue(t),$("#choose-student").val("")}}})})),$(".load-ai-demo").on("click",(function(){g($(this).data("ai-request-id"),void 0,!1)})),$("#item-description").on("change",(function(e){window.pageSpecific.demoAIRequest=void 0})),i.session.on("change",(function(e,t){window.pageSpecific.demoAIRequest=void 0,$("#choose-student").val("")}))}(),$(".submit-grade").on("click",(function(e){e.preventDefault(),$("#choose-assignment").val()&&$("#choose-student").val()&&$("#choose-teacher-course").val()?h(f,$(this).data("next-step")):window.toastr.error("Must select Course, Assignment, and Student to submit a grade.")})),$(".ai-autograde").on("click",(function(){if(window.pageSpecific.demoAIRequest)return g(window.pageSpecific.demoAIRequest,$(this).data("strictness"),!0);var e;d(),o.trigger("utils:disableButton","#ai-grade-free-response"),o.trigger("utils:disableButton","#ai-grade-free-response-dropdown-toggle"),$("#choose-assignment").val()&&$("#choose-student").val()&&$("#choose-teacher-course").val()?h(m,$(this).data("strictness")):""!=$("#item-description").val()&&""!=window.ace.edit("code-editor").getValue()?(e=$(this).data("strictness"),r.send({app:"lms",method:"teacher_toolbox_ai_grade_assignment",data:{strictness:e,description:$("#item-description").val(),item_id:$("#choose-assignment").data("item-id"),student_response:window.ace.edit("code-editor").getValue(),category:$("#assignment-type").val()},success:function(e){o.trigger("utils:enableButton","#ai-grade-free-response"),o.trigger("utils:enableButton","#ai-grade-free-response-dropdown-toggle"),"status"in e&&"fail"===e.status?window.toastr.error("Try again in a few seconds."):($("#grade-message").val(e.message),e.pass?$("#grade-score").val($("#max-points").html()):$("#grade-score").val(0),e.ai_request_id&&p(e.ai_request_id,"AI Grades"))},error:function(){o.trigger("utils:enableButton","#ai-grade-free-response"),o.trigger("utils:enableButton","#ai-grade-free-response-dropdown-toggle"),window.toastr.error("Could not get an AI suggested grade.")}})):(o.trigger("utils:enableButton","#ai-grade-free-response"),o.trigger("utils:enableButton","#ai-grade-free-response-dropdown-toggle"))}))})),t.exports={hideAIFeedback:d,setupAIFeedbackButtons:p}},{"../core/pubSub.js":60,"./ajax.js":185,"./alert.js":186}],185:[function(e,t,n){"use strict";t.exports={send:function(e){var t=e.data;t.method=e.method;var n="/"+e.app+"/ajax/"+e.method,i="JSON";void 0!==e.dataType&&(i=e.dataType);var r=void 0!==e.type?e.type:"POST";return $.ajax({url:n,type:r,data:t,dataType:i,success:function(t){e.success&&e.success(t)},error:function(t,n,i){void 0!==e.error&&e.error(t,n,i)},complete:function(t,n){void 0!==e.complete&&e.complete(t,n)}})},sendFormData:function(e){var t=e.formData,n="/"+e.app+"/ajax/"+e.method,i=void 0!==e.type?e.type:"POST";return $.ajax({url:n,type:i,data:t,processData:!1,dataType:"JSON",contentType:!1,success:function(t){e.success&&e.success(t)},error:function(t,n,i){void 0!==e.error&&e.error(t,n,i)}})}}},{}],186:[function(e,t,n){"use strict";var i=e("handlebars"),r=e("../templates/alert.hbs"),o=e("../templates/share_alert.hbs");t.exports=function(e){$("#alert-modal.modal").remove();var t=void 0!==e.useShareTemplate?o:r,n=void 0!==e.button?e.button:"Ok",a=void 0!==e.header?e.header:"CodeHS",s=e.buttonClass||"",u=e.cancelButtonClass||"",l=e.cancelButton||!1,c=e.cancelButtonText||"Cancel",d=void 0===e.exitButton||e.exitButton,p=e.getText||!1,h=void 0===e.enterToClose||e.enterToClose,f=e.hideFooter||!1,m=e.width||"",g=e.rawHtml||"",y=e.modalBodyPadding||"",v=e.refocusTarget||"",_={msg:e.message,rawHtml:g,header:a,button:n,cancelButton:l,cancelButtonText:c,width:m,modalBodyPadding:y,refocusTarget:v},b=void 0!==e.disableButton&&e.disableButton,w=i.compile(t);if($("body").append(w(_)),$("#alert-modal").on("shown.bs.modal",(function(t){e.on_load_callback&&e.on_load_callback()})).modal({backdrop:"static",show:!0}),v&&$("#alert-modal").one("hidden.bs.modal",(function(){$(v).trigger("focus")})),$(".ok-button").addClass(s),$(".ok-button").on("click",(function(t){t.preventDefault();var n=e;null!=e.ok_callback&&(n.close_callback=e.ok_callback),p?C(e,$("#alert-text-area").val()):T(),$("body").off("keypress")})),$(".alert-cancel").addClass(u),$(".alert-cancel").on("click",(function(t){t.preventDefault(),delete e.before_close_callback;var n=e;void 0!==e.cancel_callback&&(n.close_callback=e.cancel_callback),p?C(e,$("#alert-text-area").val()):T()})),b&&$(".ok-button").attr("disabled","disabled"),d||$(".exit-button").hide(),f&&$(".modal-footer").hide(),p){var E=$("<textarea />").attr({id:"alert-text-area"});$(".modal-body").append(E)}function S(t){if(13==t.which){var n=e;void 0!==e.ok_callback&&(n.close_callback=e.ok_callback),T()}}function T(){var t=$("#alert-modal");if(e.before_close_callback&&!1===e.before_close_callback())return;$(".modal-footer").show(),t.modal("hide"),t.remove(),e.close_callback&&e.close_callback(),$("body").unbind("keypress",S)}function C(e,t){$("#alert-modal").modal("hide"),$("#alert-modal").remove(),e.close_callback&&e.close_callback(t),$("body").off("keypress",S)}h&&$("body").on("keypress",S)}},{"../templates/alert.hbs":176,"../templates/share_alert.hbs":182,handlebars:463}],187:[function(e,t,n){"use strict";var i=e("lodash"),r=e("./alert.js"),o=e("./ajax.js"),a=e("./stripe.js"),s=e("qrcode-npm");function u(e,t){var n="",i=e.split("<% ");n+=i[0];for(var r=1;r<i.length;r++){var o=i[r].split(" %>",2);t.hasOwnProperty(o[0])?n+=t[o[0]]:n+=o[0],n+=o[1]}return n}function l(){for(var e={},t=window.location.search.substring(1).split("&"),n=0;n<t.length;n++){var i=t[n].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]||"")}return e}t.exports={validEmail:function(e){if(0===e.length)return!1;return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},validName:function(e){return!(e.includes("<")||e.includes(">")||e.includes("&"))},htmlDecode:function(e){return $("<div/>").html(e).text()},removeWhitespace:function(e){return e.replace(/\s/g,"")},mock:function(e){function t(){}for(var n in e)"function"==typeof e[n]&&(t[n]=function(){});for(n in e.prototype)"function"==typeof e.prototype[n]&&(t.prototype[n]=function(){});return t},titleize:function(e){return e.replace(/([A-Z])/g," $1").replace(/^./,(function(e){return e.toUpperCase()}))},assert:function(e,t){if(!e){if(t=t||"Assertion failed","undefined"!=typeof Error)throw new Error(t);throw t}},serializeDict:function(e){return i.object(e.serializeArray().map((function(e){return[e.name,e.value]})))},validateFilename:function(e,t){return""===e?{isValid:!1,message:"Please enter a file name"}:e in t?{isValid:!1,message:"That file already exists"}:function(e){var t=e.indexOf(".");return t>-1&&0!==t&&t<e.length-1}(e)?/^[\w\d-_.\/]+$/.test(e)?{isValid:!0,message:""}:{isValid:!1,message:"Invalid characters in file name"}:{isValid:!1,message:"File should have an extension"}},validateFolderName:function(e,t){return""===e?{isValid:!1,message:"Please enter a folder name"}:e in t?{isValid:!1,message:"That folder already exists"}:/^[\w\d-_.\/]+$/.test(e)?{isValid:!0,message:""}:{isValid:!1,message:"Invalid characters in folder name"}},fileHasImageExtension:function(e){return[".apng",".bmp",".gif",".ico",".cur",".jpg",".jpeg",".jfif",".pjpeg",".pjp",".png",".svg",".tif",".tiff",".webp"].indexOf(e.slice(e.lastIndexOf(".")))>-1},applyTemplate:u,getAndApplyTemplate:function(t){return u(e("../../../templates/editor/react_native_embed.txt"),t)},writeQRCode:function(e,t,n){var i=s.qrcode(n||4,"M");i.addData(e),i.make();var r=i.createImgTag(4);$(t).map((function(e,t){$(t).html(r)}))},getQueryParams:l,updateQueryString:function(e){var t=l(),n="";for(var i in t)if(!(Object.keys(e).indexOf(i)>-1)){var r=encodeURIComponent(i),o=encodeURIComponent(t[i]);r&&(n+=""===n?"?":"&",n+=r+"="+o)}Object.entries(e).forEach((function(e){var t=e[0],i=e[1];null!==i&&(n+=""===n?"?":"&",n+=encodeURIComponent(t)+"="+encodeURIComponent(i))})),window.history.replaceState(null,null,window.location.pathname+n)},alert:r,Ajax:o,Stripe:a,updateQueryStringParameter:function(e,t){var n=[location.protocol,"//",location.host,location.pathname].join(""),i=document.location.search,r=e+"="+t,o="?"+r;if(i){var a=new RegExp("([?&])"+e+"[^&]*"),s=new RegExp("([?&])"+e+"=[^&;]+[&;]?");o=void 0===t||null==t||""==t?(o=i.replace(s,"$1")).replace(/[&;]$/,""):null!==i.match(a)?i.replace(a,"$1"+r):i+"&"+r}window.history.replaceState({},"",n+o)}}},{"../../../templates/editor/react_native_embed.txt":237,"./ajax.js":185,"./alert.js":186,"./stripe.js":195,lodash:504,"qrcode-npm":521}],188:[function(e,t,n){EventEmitter={},EventEmitter._publish=function(e,t){var n=(this._eventRegistry||{})[e];if(n){n=n.slice();for(var i=0;i<n.length;i++)n[i](t,this)}},EventEmitter.once=function(e,t){var n=this;t&&this.addEventListener(e,(function i(){n.removeEventListener(e,i),t.apply(null,arguments)}))},EventEmitter.on=EventEmitter.addEventListener=function(e,t,n){this._eventRegistry=this._eventRegistry||{};var i=this._eventRegistry[e];return i||(i=this._eventRegistry[e]=[]),-1==i.indexOf(t)&&i[n?"unshift":"push"](t),t},EventEmitter.off=EventEmitter.removeListener=EventEmitter.removeEventListener=function(e,t){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[e];if(n){var i=n.indexOf(t);-1!==i&&n.splice(i,1)}},EventEmitter.removeAllListeners=function(e){this._eventRegistry&&(this._eventRegistry[e]=[])},t.exports=EventEmitter},{}],189:[function(e,t,n){"use strict";var i=e("./expoUtils.js"),r=e("./ajax.js"),o=e("./chsUtils.js"),a=e("./../core/settings.js").GULP_URL,s="#react-native-destination",u=".expo-publish-destination";function l(e,t,n){return i.updateSessionCode(e,t).then((function(e){o.writeQRCode(e,n)}))}t.exports={checkboxChange:function(e,t,n,i){var o=$(e.target),a=o.parent().parent(),u=o.data("field"),c=o.prop("checked");return function(e,t,n){return new Promise((function(i,o){r.send({method:"set_expo_metadata_field",app:"editor",type:"POST",data:{userProgramID:n,field:e,value:t},success:function(e){return"ok"===e.status?i():o()},error:function(e){return o()}})}))}(u,c,n.userProgramID).then((function(e){a.append("<i class='status-icon icon-ok icon-green'></i>")})).catch((function(e){o.prop("checked",!c),a.append("<i class='status-icon icon-remove icon-red'></i>")})).finally((function(){setTimeout((function(){$(".status-icon").remove()}),800)})).then((function(){return l(t,i,s)}))},updateCode:l,publishCode:function(e,t,n,r){return i.publishSnack(e,n,t.userProgramID,t.codeTitle,t.codeDescription).then((function(e){o.writeQRCode(e.expoUrl,u),function(e,t){t=void 0===t&&t;var n=$("#publish-link");n.text(e),n.attr("href",e),$("#publish-button").text("Republish"),$("#publish-url").show(),t&&($("#publish-button-container").append("<i class='status-icon icon-ok icon-green'></i>"),setTimeout((function(){$(".status-icon").remove()}),800))}(e.codehsUrl,r)}))},sessionPromise:function(e,t){return i.sessionPromise(e,t.codeTitle,t.codeDescription,t.replConsole)},userCodeToReactCode:function(e,t){var n=t.includes("localhost")?"https://static1.codehs.com/gulp/21347555622fb729429e152d684edf12f5c26d97/":a,i={showButtons:$("#show-buttons-switch").prop("checked"),startImmediately:$("#start-immediately-switch").prop("checked"),fullScreen:$("#full-screen-switch").prop("checked"),placeholderCode:e,GULP_URL:n};return o.getAndApplyTemplate(i)},writeQRCode:function(e,t){o.writeQRCode(e,t)},SNACK_SESSION_QR_DOM:s,PUBLISH_QR_DOM:u}},{"./../core/settings.js":61,"./ajax.js":185,"./chsUtils.js":187,"./expoUtils.js":190}],190:[function(e,t,n){"use strict";var i=e("./ajax.js"),r=e("snack-sdk");function o(e,t){var n=a(e);t.updateFiles(n),t.sendCodeChanges();return t.getStateAsync().then((function(e){return e.url}))}function a(e){return{"app.js":{contents:e,type:"CODE"}}}t.exports={sessionPromise:function(e,t,n,i){var o=new r.Snack({files:a(e),name:t,description:n,sdkVersion:"49.0.0",dependencies:{"react-native-webview":{version:"10.10.0",isUserSpecified:!0}},online:!0,codeChangesDelay:1e3});return Promise.resolve(o)},updateSessionCode:o,publishSnack:function(e,t,n,r,a){return function(e,t,n,r){return new Promise((function(o,a){i.send({method:"publish_expo_project",app:"editor",type:"POST",data:{userProgramID:t,code:e,name:n,description:r},success:function(e){return"ok"===e.status?o({expoUrl:e.expoUrl,codehsUrl:e.codehsUrl}):a()},error:function(e){return a()}})}))}(e,n,r,a).catch((function(r){return function(e,t,n){return o(e,t).then((function(){return t.saveAsync()})).then((function(e){return function(e,t){return new Promise((function(n,r){i.send({method:"publish_expo_metadata",app:"editor",type:"POST",data:{userProgramID:t,expoUrl:e},success:function(e){return"ok"===e.status?n({expoUrl:e.expoUrl,codehsUrl:e.codehsUrl}):r()},error:function(e){return r()}})}))}(e.url,n)}))}(e,t,n)}))}}},{"./ajax.js":185,"snack-sdk":616}],191:[function(e,t,n){"use strict";var i=e("./ajax.js"),r=".favorite-program-star";t.exports={setup:function(){$(r).exists()&&$(r).on("click",(function(){var e=$(this),t=$(this).attr("data-userprogram");i.send({method:"toggle_favorite",app:"editor",data:{program:t},success:function(t){t.fav?e.addClass("selected"):e.removeClass("selected")}})}))}}},{"./ajax.js":185}],192:[function(e,t,n){"use strict";t.exports={inherits:function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})},mixin:function(e,t){for(var n in t)e[n]=t[n];return e},implement:function(e,t){this.mixin(e,t)}}},{}],193:[function(e,t,n){var i=e("../core/constants.js").Uploads.UPLOADS_PROXY_BASE_URL,r=e("quill"),o=r.import("formats/image"),a=r.import("parchment");t.exports={createEditor:function(e){var t={container:[["bold","italic",{color:[]},{background:[]},{header:1},{header:2},"underline","strike","blockquote","code-block",{font:[]}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],["link","image"],["clean"]],handlers:{image:function(){$("#choose-file-modal").show(),$("#close-file-modal").off("click").on("click",(function(){$("#choose-file-modal").hide()})),$("#add-image").off("click").on("click",(function(){if($("#image-from-computer").val()){var e=$("#image-from-computer")[0],t=e.files[0];if(null!=e.files&&null!=t){var n=new FormData;n.append("file",t),r=n,o=s,$.ajax({url:"/core/ajax/upload_image",type:"POST",data:r,processData:!1,dataType:"JSON",contentType:!1}).then((function(e){var t=i+e.url;o&&o(t)}))}$("#image-from-computer").val(""),$("#choose-file-modal").hide()}else $("#image-from-link").val()&&(s($("#image-from-link").val()),$("#image-from-link").val(""),$("#choose-file-modal").hide());var r,o}))}}};this.target=e;var n=new r(this.target,{modules:{toolbar:t},theme:"snow"});function s(e){var t=n.getSelection(!0),i=t.index+t.length;n.insertEmbed(i,"image",e)}return n.root.addEventListener("click",(function(e){var t=a.find(e.target);t instanceof o?(n.setSelection(t.offset(n.scroll),1,"user"),$("#adjust-size").closest("span").remove(),$('<span style="background-color: white; border: 1px gray solid; padding: 5px">Width (px)<input id="adjust-size" type="text"><button id="resize-img" class="btn btn-main-green">Resize</button></span>').css({left:e.pageX+"px",top:e.pageY+"px",position:"absolute"}).appendTo(document.body),$("#adjust-size").on("keyup",(function(e){13===e.keyCode&&$("#resize-img").trigger("click")})),$("#resize-img").on("click",(function(e){var i=$("#adjust-size").val()+"px";n.formatText(t.offset(n.scroll),1,"width",i),$("#adjust-size").closest("span").remove()}))):$("#adjust-size").closest("span").remove()})),n},chooseEditor:function(e,t){for(var n=0;n<e.length;n++){var i=e[n].qlTarget,r=e[n].mdTarget,o=e[n].content;t?($(i).find(".ql-editor").html(o),$(i).removeClass("hidden")):($(r).removeClass("hidden"),$(r).parent().find(".ql-toolbar").hide())}}}},{"../core/constants.js":58,quill:522}],194:[function(e,t,n){"use strict";var i=e("../core/pubSub.js"),r=" You left some required fields blank.",o=" That e-mail is not valid.",a=" Name contains an invalid character (<, >, or &).",s=" Your password is too short.",u=" Your password is too long.",l=["12345","123456","1234567","password","codehs"];i.on("signup:formValidation",(function(){$(".create-account-form").on("submit",(function(e){$(".error-text").remove(),$(".form-error").removeClass("form-error");var t,n=$(this).find(".submit-btn");i.trigger("utils:disableButton",n);var r=$("#id_email").val(),c=$("#id_email").closest(".form-group");r&&!CHS.Utils.validEmail(r)&&((t=$("<div>").addClass("error-text")).text(o),c.addClass("form-error"),c.after(t),e.preventDefault(),i.trigger("utils:enableButton",n));var d=$("#id_first_name").val(),p=$("#id_first_name").closest(".form-group");console.log(CHS.Utils.validName(d)),d&&!CHS.Utils.validName(d)&&((t=$("<div>").addClass("error-text")).text(a),p.addClass("form-error"),p.after(t),e.preventDefault(),i.trigger("utils:enableButton",n));var h=$("#id_last_name").val(),f=$("#id_last_name").closest(".form-group");console.log(CHS.Utils.validName(h)),h&&!CHS.Utils.validName(h)&&((t=$("<div>").addClass("error-text")).text(a),f.addClass("form-error"),f.after(t),e.preventDefault(),i.trigger("utils:enableButton",n));var m=$("#id_password").val(),g="yes"===$("#id_oauth_signup").val(),y=$("#id_password").closest(".form-group");m&&!g&&(t=$("<div>").addClass("error-text"),m.length<5||m.length>100?(t.text(m.length<5?s:u),y.addClass("form-error"),y.after(t),e.preventDefault(),i.trigger("utils:enableButton",n)):(-1!=l.indexOf(m.toLowerCase())||""===m.trim())&&(t.text("Your password is not strong enough"),y.addClass("form-error"),y.after(t),e.preventDefault(),i.trigger("utils:enableButton",n)))}))})),t.exports={validateSignup:function(){$("#basic-form .alert").html("Oops!"),$("#teacher-form .alert").html("Oops!"),$(".error").removeClass("error"),$(".alert").hide(),$(".wrap.has-alert").removeClass("has-alert");var e=!1,t=!1,n=!1,i=[],c=["#id_first_name","#id_last_name","#id_email","#id_age","#id_password","#id_password_match"];window.pageSpecific.isLiveClass&&window.pageSpecific.isAuthenticated&&(c=[]),window.pageSpecific.anonSignup&&(c=["#id_password","#id_password_match"]),c.forEach((function(t){var n=$(t);n.val()?"#id_age"==t&&"hidden"!==n.attr("type")&&n.next(".bootstrap-select").is(":visible")&&n.val()==CHS.C.AgeGroup.UNKNOWN&&(e=!0,_(n)):(e=!0,_(n))}));var d=$("#id_first_name").val(),p=$("#id_last_name").val(),h=$("#id_email").val(),f=$("#id_password").val(),m=$("#id_password_match").val(),g="yes"===$("#id_oauth_signup").val();e&&i.push(r),d&&!CHS.Utils.validName(d)&&(_($("#id_first_name")),i.push(a)),p&&!CHS.Utils.validName(p)&&(_($("#id_last_name")),i.push(a)),h&&!CHS.Utils.validEmail(h)&&(_($("#id_email")),i.push(o)),f&&!g&&(f!=m&&(_($("#id_password_match")),i.push(" Your passwords do not match.")),f.length<5&&(_($("#id_password")),i.push(s)),f.length>100&&(_($("#id_password")),i.push(u)),(""===f.trim()||-1!=l.indexOf(f.toLowerCase()))&&(_($("#id_password")),i.push(" Your password is not strong enough")));var y=parseInt($("#id_plan").val()),v=$("#id_class_code").val();if(y==CHS.C.Plan.SCHOOL&&""===v&&(_($("#id_class_code")),n=!0),$("#teacher-section").is(":visible")){["#id_school","#id_city"].forEach((function(e){var n=$(e);n.val()||(t=!0,_(n))}))}function _(e){e.closest("div").addClass("error")}return 0===i.length&&!t&&!n||(i.length>0&&(i.forEach((function(e){$("#basic-form .alert").append(e)})),$("#basic-form .alert").show(),$("#basic-form .wrap").addClass("has-alert")),n&&($("#class-code .alert").html("Oops! You must enter a class code"),$("#class-code .wrap").addClass("has-alert"),$("#class-code .alert").show()),t&&($("#teacher-form .alert").html("Oops! "+r),$("#teacher-form .alert").show()),!1)}}},{"../core/pubSub.js":60}],195:[function(e,t,n){var i=e("./signupUtils.js"),r="#register-form",o="#register-button",a="#payment-errors",s=function(){$(".card-number").parent().removeClass("error"),$(".card-cvc").parent().removeClass("error"),$("select.card-expiry-month").parent().removeClass("error"),$(".card-expiry-year").parent().removeClass("error")},u=function(e){switch(e.param){case"number":$(".card-number").parent().addClass("error");break;case"cvc":$(".card-cvc").parent().addClass("error");break;case"exp_month":$("select.card-expiry-month").parent().addClass("error");break;case"exp_year":$(".card-expiry-year").parent().addClass("error")}},l=function(e,t){if(t.error)$(o).removeAttr("disabled"),s(),u(t.error),$(a).html(t.error.message),$(a).show();else{s(),$(a).hide();var n=$(r),l=t.id,c=!0;n.children("#basic-form").length>0&&(c=i.validateSignup()),c?(n.append('<input type="hidden" name="stripeToken" value="'+l+'" />'),n.get(0).submit()):$(o).removeAttr("disabled")}};t.exports={setup:function(){$(r).on("submit",(function(e){$(o).attr("disabled","disabled");var t=$("select.card-expiry-month").val();return window.Stripe.createToken({number:$(".card-number").val(),cvc:$(".card-cvc").val(),exp_month:t,exp_year:$(".card-expiry-year").val()},l),!1}))},setupBuyButton:function(){$(r).on("submit",(function(e){$(o).attr("disabled","disabled")}))},setupMicrocredentials:function(){var e="#microcredentials-cc-form",t="#purchase-button",n="#admin-button",i="#stripe-token";function r(n,r){if(s(),r.error)return $(t).removeAttr("disabled"),u(r.error),$(a).html(r.error.message),void $(a).show();$(a).hide();var o=r.id;$(i).val(o),$(e).get(0).submit()}$(t).on("click",(function(){return $(t).attr("disabled","disabled"),$(n).attr("disabled","disabled"),window.Stripe.createToken({number:$(".card-number").val(),cvc:$(".card-cvc").val(),exp_month:$("select.card-expiry-month").val(),exp_year:$(".card-expiry-year").val()},r),!1})),$(n).on("click",(function(){$(t).attr("disabled","disabled"),$(n).attr("disabled","disabled"),$(i).val("ADMIN"),$(e).get(0).submit()}))},setupSelfServe:function(){var e="#purchase-button",t="#billing-email";function n(t,n){if(s(),n.error)return $(e).removeAttr("disabled"),u(n.error),$(a).html(n.error.message),void $(a).show();$(a).hide();var i=n.id;$("#stripe-token").val(i),$("#self-serve-upgrade-purchase-form").get(0).submit()}$(e).on("click",(function(){return $(a).hide(),$(t).length&&!$(t).val()?($(a).html("You must provide a billing email"),$(a).show()):($(e).attr("disabled","disabled"),window.Stripe.createToken({number:$(".card-number").val(),cvc:$(".card-cvc").val(),exp_month:$("select.card-expiry-month").val(),exp_year:$(".card-expiry-year").val()},n)),!1}))},setupContractPayments:function(){var e="#purchase-button";function t(t,n){if(s(),n.error)return $(e).removeAttr("disabled"),u(n.error),$(a).html(n.error.message),void $(a).show();$(a).hide();var i=n.id;$("#stripe-token").val(i),$("#contract-cc-form").get(0).submit()}$(e).on("click",(function(){return $(e).attr("disabled","disabled"),window.Stripe.createToken({number:$(".card-number").val(),cvc:$(".card-cvc").val(),exp_month:$("select.card-expiry-month").val(),exp_year:$(".card-expiry-year").val()},t),!1}))}}},{"./signupUtils.js":194}],196:[function(e,t,n){"use strict";var i=e("../core/constants.js").Uploads.UPLOADS_PROXY_BASE_URL;t.exports={uploadFormDataFile:function(e,t){$.ajax({url:"/core/ajax/upload_image",type:"POST",data:e,processData:!1,dataType:"JSON",contentType:!1}).then((function(e){var n=i+e.url;t&&t(n)}))}}},{"../core/constants.js":58}],197:[function(e,t,n){"use strict";var i=e("codehs-js-utils").safeEval,r=[],o=null,a="#tester-message",s=[],u=window.pageSpecific?window.pageSpecific.preferredLang:void 0;function l(){this.internalOutput=[],this.internalOutputBuffer=""}l.registerPublicMethod=function(e){s.push(e)},l.getNamespaceModifcationString=function(){for(var e="",t=0;t<s.length;t++){var n=s[t];e+="function "+n+"(){\n\treturn __console__."+n+".apply(__console__, arguments);\n}\n"}return e},l.getStubString=function(){var e="";return _.each(s,(function(t){e+="function "+t+"(){\n\treturn 0;\n}\n"})),e},l.setSolution=function(e){o=e},l.prototype.checkOutput=function(){if(o){var e;if("es"===u)e="<strong>Gran trabajo!</strong> Lo lograste!";else e="<strong>Nice job!</strong> You got it!";var t={success:!0,message:e};if(0===$("#console").html().length)t.success=!1,t.message="You didn't print anything.";else if(r.length!=o.length)t.success=!1,t.message="<strong>Not quite.</strong> Take a look at the example output in the exercise tab.";else for(var n=0;n<r.length;n++){var i=r[n],s=o[n],l=new RegExp(s);0!==i.search(l)&&(t.success=!1,t.message="<strong>Not quite.</strong> Take a look at the example output in the exercise tab.")}return $(a).html(t.message),t.success?$(a).removeClass("gone").removeClass("alert-error").addClass("alert-info"):$(a).removeClass("gone").removeClass("alert-info").addClass("alert-error"),t}};l.prototype.quietPrint=function(e){this.internalOutputBuffer||(this.internalOutputBuffer=""),this.internalOutputBuffer+=e},l.prototype.quietPrintln=function(e){this.quietPrint(e+"\n")},l.prototype.flushQuietOutput=function(){this.internalOutputBuffer||(this.internalOutputBuffer=""),this.internalOutput||(this.internalOutput=[]);var e,t,n=this.internalOutput.concat((e=this.internalOutputBuffer,0===(t=e.split("\n"))[t.length-1].length&&(t=t.slice(0,-1)),t));return this.internalOutput=[],this.internalOutputBuffer="",n},l.getOutput=function(){return $("#console").text()},l.exists=function(){return $("#console").exists()},l.clear=function(){r=[],$("#console").html(""),$(a).addClass("gone")},l.prototype.readLinePrivate=function(e,t){var n,i;if(void 0!==t&&t||this.print(e),$("#console").length){$("#console").css("margin-top","180px"),(n=_.takeRight($("#console").text().split("\n"),21)).pop();var r=n.concat(["","",e]).join("\n");i=prompt(r),$("#console").css("margin-top","0px")}else n=this.internalOutput.slice(-10),i=prompt(n.join("\n"));return void 0!==t&&t||this.println(i),i},l.prototype.runCode=function(e,t){var n=(t=t||{}).lineOffset||0,r="";if(r+=l.getNamespaceModifcationString(),r+=";var console = {}; console.log = println;\n",r+=";var __nativeSet=window.Set;var Set=window.chsSet;",!t.overrideInfiniteLoops){e=(e=(e=e.replace(/while\s*\((.*)\)\s*{/gm,(function(e,t,i,r){var o=r.slice(0,i).split("\n").length-n;return"var ___nloops=0;while("+t+") {"+("if(___nloops++>15000){var e = new Error('Your while loop on line "+o+" may contain an infinite loop. Exiting.'); e.name = 'InfiniteLoop'; e.lineNumber = "+o+"; throw e;}")}))).replace(/for\s*\((.*)\)\s*{/gm,(function(e,t,i,r){var o=r.slice(0,i).split("\n").length-n;return"var ___nloops=0;for("+t+"){"+("if(___nloops++>15000){var e = new Error('Your for loop on line "+o+" may contain an infinite loop. Exiting.'); e.name = 'InfiniteLoop'; e.lineNumber = "+o+"; throw e;}")}))).replace(/do\s*\{/gm,(function(e,t,i){var r=i.slice(0,t).split("\n").length-n;return"var ___nloops=0;do {"+("if(___nloops++>15000){var e = new Error('Your do-while loop on line "+r+" may contain an infinite loop. Exiting.'); e.name = 'InfiniteLoop'; e.lineNumber = "+r+"; throw e;}")}))}return r+=e,r+="\n\nif(typeof start == 'function') {start();} ",r+=";window.Set=__nativeSet;",r+="__console__.checkOutput();",this.internalOutput=[],i(r,this,"__console__")},l.prototype.hasUserinput=function(e){return e.match(new RegExp("readLine|readInt|readFloat|readBoolean|readNumber"))},l.prototype.clear=function(){if(0!==arguments.length)throw new Error("You should not pass any arguments to clear");l.clear()},l.registerPublicMethod("clear"),l.prototype.print=function(e){if(1!==arguments.length)throw new Error("You should pass exactly 1 argument to print");var t=$("#console");t.length?(t.html($("#console").html()+e),t.scrollTop($("#console")[0].scrollHeight),(r=t.html().split("\n")).splice(r.length-1,1)):(this.internalOutput.push(e),"function"==typeof window.console.print?window.console.print(e):window.console.log(e))},l.registerPublicMethod("print"),l.prototype.println=function(e){if(0===arguments.length)e="";else{if(1!==arguments.length)throw new Error("You should pass exactly 1 argument to println");this.print(e+"\n"),$("#console").scrollTop()}},l.registerPublicMethod("println"),l.prototype.readNumber=function(e,t,n){for(var i=e,r=!1,o=0;;){var a=this.readLinePrivate(i,r);if(null===a)return null;if(a=t(a),!isNaN(a))return a;if(null===a)return 0;if(o>100)return 0;i="That was not "+n+". Please try again. "+e,r=!0,o++}},l.registerPublicMethod("readNumber"),l.prototype.readLine=function(e){if(1!==arguments.length)throw new Error("You should pass exactly 1 argument to readLine");return this.readLinePrivate(e,!1)},l.registerPublicMethod("readLine"),l.prototype.readBoolean=function(e){if(1!==arguments.length)throw new Error("You should pass exactly 1 argument to readBoolean");return this.readNumber(e,(function(e){return null===e?NaN:"true"==(e=e.toLowerCase())||"yes"==e||"false"!=e&&"no"!=e&&NaN}),"a boolean (true/false)")},l.registerPublicMethod("readBoolean"),l.prototype.readInt=function(e){if(1!==arguments.length)throw new Error("You should pass exactly 1 argument to readInt");return this.readNumber(e,(function(e){var t=parseInt(e);return t==parseFloat(e)?t:NaN}),"an integer")},l.registerPublicMethod("readInt"),l.prototype.readFloat=function(e){if(1!==arguments.length)throw new Error("You should pass exactly 1 argument to readFloat");return this.readNumber(e,parseFloat,"a float")},l.registerPublicMethod("readFloat"),t.exports={CodeHSConsole:l,PUBLIC_METHODS:s}},{"codehs-js-utils":289}],198:[function(e,t,n){"use strict";e("./queue.js");var i=e("./set.js"),r=e("./stack.js");t.exports={PUBLIC_CONSTRUCTORS:["Queue","chsSet","Stack"],chsSet:i,Stack:r}},{"./queue.js":199,"./set.js":200,"./stack.js":201}],199:[function(e,t,n){"use strict";function i(){this.q=[]}i.prototype.size=function(){return this.q.length},i.prototype.clear=function(){this.q=[]},i.prototype.enqueue=function(e){this.q.push(e)},i.prototype.dequeue=function(){var e=this.q[0];return this.q.splice(0,1),e},i.prototype.peek=function(){return this.q[0]},i.prototype.hasNext=function(){return 0!==this.q.length},i.prototype.isEmpty=function(){return 0===this.q.length},t.exports=i},{}],200:[function(e,t,n){"use strict";Set.prototype.isEmpty=function(){return 0===this.size},Set.prototype.getKey=function(e){var t=e;return"object"==typeof e&&(t=e.toString()),t},Set.prototype.remove=function(e){var t=this.getKey(e),n=this;this.forEach((function(e){n.getKey(e)===t&&n.delete(e)}))},Set.prototype.getKey=function(e){var t=e;return"object"==typeof e&&(t=e.toString()),t},Set.prototype.contains=function(e){var t=this.getKey(e),n=this;return this.elems().reduce((function(e,i){return e||t===n.getKey(i)}),!1)},Set.prototype.elems=function(){return Array.from(this.values())},Set.prototype.union=function(e){var t=new Set(this);return e.forEach((function(e){t.add(e)})),t},Set.prototype.intersect=function(e){var t=new Set,n=this;return e.forEach((function(e){n.has(e)&&t.add(e)})),t},Set.prototype.toString=function(){var e="Set: {";return this.forEach((function(t){e+=t+", "})),e+="}"},t.exports=Set},{}],201:[function(e,t,n){"use strict";function i(){this.stack=[]}i.prototype.size=function(){return this.stack.length},i.prototype.clear=function(){this.stack=[]},i.prototype.push=function(e){this.stack.push(e)},i.prototype.pop=function(){var e=this.stack.length,t=this.stack[e-1];return this.stack.splice(e-1,1),t},i.prototype.peek=function(){var e=this.stack.length;return this.stack[e-1]},i.prototype.hasNext=function(){return 0!==this.stack.length},i.prototype.isEmpty=function(){return 0===this.stack.length},t.exports=i},{}],202:[function(e,t,n){"use strict";var i=e("./thing.js"),r=e("./graphics-utils.js");function o(e,t,n,r){if(4!==arguments.length)throw new Error('You should pass exactly 4 arguments to <span class="code">new Arc(raduis, startAngle, endAngle, angleUnit)</span>');if("number"!=typeof e||!isFinite(e))throw new TypeError('Invalid value for <span class="code">radius</span>. Make sure you are passing finite numbers to <span class="code">new Arc(raduis, startAngle, endAngle, angleUnit)</span>');if("number"!=typeof t||!isFinite(t))throw new TypeError('Invalid value for <span class="code">startAngle</span>. Make sure you are passing finite numbers to <span class="code">new Arc(raduis, startAngle, endAngle, angleUnit)</span>');if("number"!=typeof n||!isFinite(n))throw new TypeError('Invalid value for <span class="code">endAngle</span>. Make sure you are passing finite numbers to <span class="code">new Arc(raduis, startAngle, endAngle, angleUnit)</span>');if("number"!=typeof r||!isFinite(r))throw new TypeError('Invalid value for <span class="code">angleUnit</span>. Make sure you are passing finite numbers to <span class="code">new Arc(raduis, startAngle, endAngle, angleUnit)</span>');i.call(this),this.radius=e,this.angleUnit=r==o.DEGREES?o.DEGREES:o.RADIANS,this.counterclockwise=o.COUNTER_CLOCKWISE,this.type="Arc",this.angleUnit==o.DEGREES&&(t=s(t),n=s(n)),this.startAngle=t,this.endAngle=n}o.prototype=new i,o.prototype.constructor=o,o.COUNTER_CLOCKWISE=!0,o.CLOCKWISE=!1,o.DEGREES=0,o.RADIANS=1,o.prototype.draw=function(e){var t=e.getContext();t.save(),t.beginPath(),t.translate(this.x,this.y),t.rotate(this.rotation),t.arc(0,0,this.radius,a(this.startAngle),a(this.endAngle),this.counterclockwise),t.lineTo(0,0),this.hasBorder&&(t.lineWidth=this.lineWidth,t.strokeStyle=this.stroke.toString(),t.stroke()),t.fillStyle=this.color.toString(),t.fill(),t.restore()},o.prototype.setStartAngle=function(e){if(1!==arguments.length)throw new Error('You should pass exactly 1 argument to <span class="code">setStartAngle</span>');if("number"!=typeof e||!isFinite(e))throw new Error('Invalid value passed to <span class="code">setStartAngle</span>. Make sure you are passing a finite number.');this.angleUnit==o.DEGREES&&(e=s(e)),this.startAngle=e},o.prototype.setEndAngle=function(e){if(1!==arguments.length)throw new Error('You should pass exactly 1 argument to <span class="code">setEndAngle</span>');if("number"!=typeof e||!isFinite(e))throw new Error('Invalid value passed to <span class="code">setEndAngle</span>. Make sure you are passing a finite number.');this.angleUnit==o.DEGREES&&(e=s(e)),this.endAngle=e},o.prototype.getStartAngle=function(){var e=this.startAngle;return this.angleUnit==o.DEGREES&&(e=u(this.startAngle)),Math.round(e)},o.prototype.getEndAngle=function(){var e=this.endAngle;return this.angleUnit==o.DEGREES&&(e=u(this.endAngle)),Math.round(e)},o.prototype.setDirection=function(e){if(1!==arguments.length)throw new Error('You should pass exactly 1 argument to <span class="code">setDirection</span>');if("boolean"!=typeof e)throw new Error('Invalid value passed to <span class="code">setDirection</span>. Make sure you are passing a boolean value. true for counterclockwise, false for clockwise.');this.counterclockwise=e},o.prototype.containsPoint=function(e,t){if(r.getDistance(this.x,this.y,e,t)>this.radius)return!1;var n=e-this.x,i=this.y-t,o=Math.atan(i/n);n<0?o+=Math.PI:i<0&&(o+=2*Math.PI);var a=o>=this.startAngle&&o<=this.endAngle;return this.counterclockwise?a:!a};var a=function(e){return e=u(e),e=Math.round(e),e=s(e=(360-e)%360)},s=function(e){return e/180*Math.PI},u=function(e){return e/Math.PI*180};t.exports=o},{"./graphics-utils.js":206,"./thing.js":218}],203:[function(e,t,n){"use strict";t.exports=function(){var e=window.AudioContext||window.webkitAudioContext||window.mozAudioContext||window.oAudioContext||window.msAudioContext;if(!e)return console.log("Web Audio is not supported in this browser. Please use the most up to date version of Chrome, Firefox, or Safari."),0;try{return new e}catch(e){return console.log("Too many AudioContexts are in use. Please close all browser windows and retry."),0}}},{}],204:[function(e,t,n){"use strict";var i=e("./thing.js"),r=e("./color.js"),o=e("./graphics-utils.js");function a(e){if(1!==arguments.length)throw new Error('You should pass exactly 1 argument to <span class="code">new Circle(radius)</span>');if("number"!=typeof e||!isFinite(e))throw new TypeError('You must pass a finite number to <span class="code">new Circle(radius)</span>. Did you forget the parentheses in <span class="code">getWidth()</span> or <span class="code">getHeight()</span>? Or did you perform a calculation on a variable that is not a number?');i.call(this),this.radius=Math.max(0,e),this.color=r.black,this.lineWidth=3,this.type="Circle"}a.prototype=new i,a.prototype.constructor=a,a.prototype.draw=function(e){var t=e.getContext();t.beginPath(),this.hasBorder&&(t.strokeStyle=this.stroke.toString(),t.lineWidth=this.lineWidth),t.fillStyle=this.color.toString(),t.arc(this.x,this.y,this.radius,0,2*Math.PI,!0),t.closePath(),this.hasBorder&&t.stroke(),t.fill()},a.prototype.getRadius=function(){return this.radius},a.prototype.getHeight=function(){return 2*this.radius},a.prototype.getWidth=function(){return 2*this.radius},a.prototype.setRadius=function(e){if(1!==arguments.length)throw new Error('You should pass exactly 1 argument to <span class="code">setRadius(radius)</span>');if("number"!=typeof e||!isFinite(e))throw new TypeError('You must pass a finite number to <span class="code">setRadius(radius)</span>. Did you forget the parentheses in <span class="code">getWidth()</span> or <span class="code">getHeight()</span>? Or did you perform a calculation on a variable that is not a number?');this.radius=Math.max(0,e)},a.prototype.containsPoint=function(e,t){var n=this.radius;return this.hasBorder&&(n+=this.lineWidth),o.getDistance(this.x,this.y,e,t)<n},t.exports=a},{"./color.js":205,"./graphics-utils.js":206,"./thing.js":218}],205:[function(e,t,n){"use strict";var i,r=e("./randomizer.js");function o(e,t,n){this.r=e,this.g=t,this.b=n}for(i in o.prototype.toString=function(){return o.createFromRGB(this.r,this.g,this.b)},o.random=r.nextColor,o.constants={red:"#FF0000",RED:"#FF0000",green:"#00FF00",GREEN:"#00FF00",blue:"#0000FF",BLUE:"#0000FF",yellow:"#FFFF00",YELLOW:"#FFFF00",cyan:"#00FFFF",CYAN:"#00FFFF",orange:"#FFA500",ORANGE:"#FFA500",white:"#FFFFFF",WHITE:"#FFFFFF",black:"#000000",BLACK:"#000000",gray:"#cccccc",GRAY:"#CCCCCC",grey:"#cccccc",GREY:"#CCCCCC",purple:"#9B30FF",PURPLE:"#9B30FF"},o.constants)o[i]=o.constants[i];function a(e,t,n){return"#"+("000000"+function(e,t,n){if(e=Math.floor(e),t=Math.floor(t),n=Math.floor(n),e>255||t>255||n>255)throw"Invalid color component";return(e<<16|t<<8|n).toString(16)}(e,t,n)).slice(-6)}function s(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}o.createFromRGB=function(e,t,n){return a(e,t,n)},o.randomRed=function(){var e=r.nextInt(50,255);return o.createFromRGB(e,0,0)},o.randomGreen=function(){var e=r.nextInt(50,255);return o.createFromRGB(0,e,0)},o.randomBlue=function(){var e=r.nextInt(50,255);return o.createFromRGB(0,0,e)},o.createFromRGBL=function(e,t,n,i){var r=o.rgbToHsl(e,t,n);i<0&&(i=0),i>1&&(i=1);var a=o.hslToRgb(r[0],r[1],i);return o.createFromRGB(a[0],a[1],a[2])},o.rgbToHsl=function(e,t,n){e/=255,t/=255,n/=255;var i,r,o=Math.max(e,t,n),a=Math.min(e,t,n),s=(o+a)/2;if(o==a)i=r=0;else{var u=o-a;switch(r=s>.5?u/(2-o-a):u/(o+a),o){case e:i=(t-n)/u+(t<n?6:0);break;case t:i=(n-e)/u+2;break;case n:i=(e-t)/u+4}i/=6}return[i,r,s]},o.hslToRgb=function(e,t,n){var i,r,o;if(0===t)i=r=o=n;else{var a=n<.5?n*(1+t):n+t-n*t,u=2*n-a;i=s(u,a,e+1/3),r=s(u,a,e),o=s(u,a,e-1/3)}return[255*i,255*r,255*o]},o.average=function(e,t){function n(e){return parseInt(e,16)}for(var i,r,o,a,s=/[\da-z]{2}/gi,u=e.match(s),l=t.match(s),c="#",d=0;d<u.length;d++)i=n(u[d]),r=n(l[d]),o=Math.floor(i+r>>1),1==(a=o.toString(16)).length&&(a="0"+a),c+=a;return c},o.getColor=function(e){return o.constants[e]},o.getHexColor=function(e){return e},t.exports=o},{"./randomizer.js":214}],206:[function(e,t,n){"use strict";t.exports={getDistance:function(e,t,n,i){return Math.sqrt(Math.pow(e-n,2)+Math.pow(t-i,2))}}},{}],207:[function(e,t,n){"use strict";Array.prototype.remove=function(e){return this.splice(e,1)[0]};var i,r,o,a=e("codehs-js-utils"),s=e("./graphics-utils.js"),u=e("./audioContext.js"),l=[],c=[],d=[],p=[],h=0,f=0;function m(e){e=e||{},this.resetAllState(),this.globalTimer=!0,this.currentCanvas=null,this.setCurrentCanvas(e.canvas),this.debugMode=e.debug||!1,this.fullscreenMode=!1,this.instanceId=h,h++;var t=this.canvasHasInstance(e.canvas);null!==t?(p[t].stopTimer("MAIN_TIMER"),p[t]=this):p.push(this)}m.registerPublicMethod=function(e){l.push(e)},m.registerConstructorMethod=function(e){c.push(e)},m.getNamespaceModifcationString=function(){for(var e="\n",t=0;t<l.length;t++){var n=l[t];e+="function "+n+"(){\n\treturn __graphics__."+n+".apply(__graphics__, arguments);\n}\n"}return e},m.getConstructorModificationString=function(){for(var e="",t=0;t<c.length;t++){var n=c[t];e+="var "+n+" = __graphics__."+n+";\n"}return e},m.prototype.add=function(e){this.elements.push(e)},m.registerPublicMethod("add"),window.oldAudio=window.Audio,m.prototype.Audio=function(e){var t=new oldAudio(e);return t.crossOrigin="anonymous",this.audioElements.push(t),t},m.prototype.Audio.constructor=window.oldAudio,m.registerPublicMethod("Audio");var g,y=e("./sound.js");m.prototype.Sound=function(e,t){var n=new y(e=e||440,t=t||"fatsawtooth");return this.soundElements.push(n),n},m.prototype.Sound.constructor=y,m.registerPublicMethod("Sound"),m.prototype.waitForClick=function(){this.clickCount++},m.registerPublicMethod("waitForClick"),m.prototype.mouseClickMethod=function(e){this.clickCallback=a.safeCallback(e)},m.registerPublicMethod("mouseClickMethod"),m.prototype.mouseMoveMethod=function(e){this.moveCallback=a.safeCallback(e)},m.registerPublicMethod("mouseMoveMethod"),m.prototype.mouseDownMethod=function(e){this.mouseDownCallback=a.safeCallback(e)},m.registerPublicMethod("mouseDownMethod"),m.prototype.mouseUpMethod=function(e){this.mouseUpCallback=a.safeCallback(e)},m.registerPublicMethod("mouseUpMethod"),m.prototype.mouseDragMethod=function(e){this.dragCallback=a.safeCallback(e)},m.registerPublicMethod("mouseDragMethod"),m.prototype.keyDownMethod=function(e){this.keyDownCallback=a.safeCallback(e)},m.registerPublicMethod("keyDownMethod"),m.prototype.keyUpMethod=function(e){this.keyUpCallback=a.safeCallback(e)},m.registerPublicMethod("keyUpMethod"),m.prototype.deviceOrientationMethod=function(e){this.deviceOrientationCallback=a.safeCallback(e)},m.registerPublicMethod("deviceOrientationMethod"),m.prototype.deviceMotionMethod=function(e){this.deviceMotionCallback=a.safeCallback(e)},m.registerPublicMethod("deviceMotionMethod"),m.prototype.audioChangeMethod=function(e,t){if(f=u()){(i=f.createAnalyser()).fftSize=128;var n=i.frequencyBinCount;r=new Uint8Array(n),(o=f.createMediaElementSource(e)).crossOrigin="anonymous",o.connect(i);var s=f.createGain();o.connect(s),s.connect(f.destination),this.audioChangeCallback=a.safeCallback(t),this.setGraphicsTimer(this.updateAudio.bind(this),40,null,"updateAudio")}},m.registerPublicMethod("audioChangeMethod"),m.prototype.isKeyPressed=function(e){return-1!=d.indexOf(e)},m.registerPublicMethod("isKeyPressed"),m.prototype.getWidth=function(){var e=this.getCanvas();return parseFloat(e.getAttribute("width"))},m.registerPublicMethod("getWidth"),m.prototype.getHeight=function(){var e=this.getCanvas();return parseFloat(e.getAttribute("height"))},m.registerPublicMethod("getHeight"),m.prototype.stopTimer=function(e){var t="function"==typeof e?e.name:e;clearInterval(this.timers[t])},m.registerPublicMethod("stopTimer"),m.prototype.stopAllTimers=function(){for(var e=1;e<99999;e++)window.clearInterval(e);this.setMainTimer()},m.registerPublicMethod("stopAllTimers"),m.prototype.setTimer=function(e,t,n,i){if(arguments.length<2)throw new Error('2 parameters required for <span class="code">setTimer</span>, '+arguments.length+' found. You must provide a callback function and a number representing the time delay to <span class="code">setTimer</span>');if("function"!=typeof e)throw new TypeError('Invalid callback function. Make sure you are passing an actual function to <span class="code">setTimer</span>.');if("number"!=typeof t||!isFinite(t))throw new TypeError('Invalid value for time delay. Make sure you are passing a finite number to <span class="code">setTimer</span> for the delay.');var r=this;(isNaN(t)||t<15)&&(t=15),this.waitingForClick()?this.delayedTimers.push({fn:e,time:t,data:n,clicks:r.clickCount,name:i}):this.setGraphicsTimer(e,t,n,i)},m.registerPublicMethod("setTimer"),m.prototype.setBackgroundColor=function(e){this.backgroundColor=e},m.registerPublicMethod("setBackgroundColor"),m.prototype.clear=function(e){(e||this.getContext()).clearRect(0,0,this.getWidth(),this.getHeight())},m.registerPublicMethod("clear"),m.prototype.getElementAt=function(e,t){for(var n=this.elements.length-1;n>=0;n--)if(this.elements[n].containsPoint(e,t,this))return this.elements[n];return null},m.registerPublicMethod("getElementAt"),m.prototype.elementExistsWithParameters=function(e){for(var t=this.elements.length-1;t>=0;t--){var n=this.elements[t];try{if(void 0!==e.x&&this.runCode("return "+e.x).result.toFixed(0)!=n.getX().toFixed(0))continue;if(void 0!==e.y&&this.runCode("return "+e.y).result.toFixed(0)!=n.getY().toFixed(0))continue;if(void 0!==e.width&&this.runCode("return "+e.width).result.toFixed(0)!=n.getWidth().toFixed(0))continue;if(void 0!==e.height&&this.runCode("return "+e.height).result.toFixed(0)!=n.getHeight().toFixed(0))continue;if(void 0!==e.radius&&this.runCode("return "+e.radius).result.toFixed(0)!=n.getRadius().toFixed(0))continue;if(void 0!==e.color&&this.runCode("return "+e.color).result!=n.getColor())continue;if(void 0!==e.label&&e.label!=n.getLabel())continue;if(void 0!==e.type&&e.type!=n.getType())continue}catch(e){continue}return!0}return!1},m.registerPublicMethod("elementExistsWithParameters"),m.prototype.removeAll=function(){this.stopAllVideo(),this.elements=[]},m.registerPublicMethod("removeAll"),m.prototype.remove=function(e){for(var t=0;t<this.elements.length;t++)this.elements[t]==e&&("WebVideo"==this.elements[t].type&&this.elements[t].stop(),this.elements.splice(t,1))},m.registerPublicMethod("remove"),m.prototype.setSize=function(e,t){this.fullscreenMode=!1;var n=this.getCanvas();n.width=e,n.height=t,$(n).css({"max-height":t,"max-width":e})},m.registerPublicMethod("setSize"),m.prototype.setFullscreen=function(){this.fullscreenMode=!0;var e=this.getCanvas();e.width=e.parentElement.offsetWidth-5,e.height=e.parentElement.offsetHeight-5,$(e).css({"max-height":e.height,"max-width":e.width})},m.registerPublicMethod("setFullscreen"),m.prototype.Rectangle=e("./rectangle.js"),m.registerConstructorMethod("Rectangle"),m.prototype.Circle=e("./circle.js"),m.registerConstructorMethod("Circle"),m.prototype.Line=e("./line.js"),m.registerConstructorMethod("Line"),m.prototype.Grid=e("./grid.js"),m.registerConstructorMethod("Grid"),m.prototype.Line=e("./line.js"),m.registerConstructorMethod("Line"),m.prototype.Polygon=e("./polygon.js"),m.registerConstructorMethod("Polygon"),m.prototype.Text=e("./text.js"),m.registerConstructorMethod("Text"),m.prototype.Oval=e("./oval.js"),m.registerConstructorMethod("Oval"),m.prototype.Arc=e("./arc.js"),m.registerConstructorMethod("Arc"),m.prototype.Color=e("./color.js"),m.registerConstructorMethod("Color"),m.prototype.WebImage=e("./webimage.js"),m.registerConstructorMethod("WebImage"),m.prototype.WebVideo=e("./webvideo.js"),m.registerConstructorMethod("WebVideo"),m.prototype.ImageLibrary=e("./imagelibrary.js"),m.registerConstructorMethod("ImageLibrary"),m.prototype.runCode=function(e,t){t=t||{};var n="";if(n+=m.getNamespaceModifcationString(),n+=m.getConstructorModificationString(),n+=";var __nativeText=window.Text;var Text=__graphics__.Text;",n+="\nText.giveDefaultContext(__graphics__);\n",n+=";var __nativeSet=window.Set;var Set=window.chsSet;",!t.overrideInfiniteLoops){e=(e=(e=e.replace(/while\s*\((.*)\)\s*{/gm,(function(e,t,n,i){var r=i.slice(0,n).split("\n").length;return"var ___nloops=0;while("+t+") {"+("if(___nloops++>15000){var e = new Error('Your while loop on line "+r+" may contain an infinite loop. Exiting.'); e.name = 'InfiniteLoop'; e.lineNumber = "+r+"; throw e;}")}))).replace(/for\s*\((.*)\)\s*{/gm,(function(e,t,n,i){var r=i.slice(0,n).split("\n").length;return"var ___nloops=0;for("+t+"){"+("if(___nloops++>15000){var e = new Error('Your for loop on line "+r+" may contain an infinite loop. Exiting.'); e.name = 'InfiniteLoop'; e.lineNumber = "+r+"; throw e;}")}))).replace(/do\s*\{/gm,(function(e,t,n){var i=n.slice(0,t).split("\n").length;return"var ___nloops=0;do {"+("if(___nloops++>15000){var e = new Error('Your do-while loop on line "+i+" may contain an infinite loop. Exiting.'); e.name = 'InfiniteLoop'; e.lineNumber = "+i+"; throw e;}")}))}return n+=e,n+="\n\nif(typeof start == 'function') {start();} ",n+=";window.Text=__nativeText;",n+=";window.Set=__nativeSet;",a.safeEval(n,this,"__graphics__")},m.prototype.resetAllTimers=function(){for(var e in this.timers)clearInterval(this.timers[e])},m.prototype.stopAllAudio=function(){this.audioElements.forEach((function(e){e.pause()})),this.soundElements.forEach((function(e){e.stop(),e.disconnect()}))},m.prototype.stopAllVideo=function(){for(var e=0;e<this.elements.length;e++)"WebVideo"==this.elements[e].type&&this.elements[e].stop()},m.prototype.resetAllState=function(){this.backgroundColor=null,this.elements=[],this.audioElements=[],this.soundElements=[],this.clickCallback=null,this.moveCallback=null,this.mouseDownCallback=null,this.mouseUpCallback=null,this.dragCallback=null,this.keyDownCallback=null,this.keyUpCallback=null,this.deviceOrientationCallback=null,this.deviceMotionCallback=null,this.audioChangeCallback=null,o&&(o.disconnect(),o=0),this.timers={},this.timersList=[],this.clickCount=0,this.delayedTimers=[],f&&(f.close(),f=0),this.fullscreenMode=!1},m.prototype.fullReset=function(){this.stopAllAudio(),this.stopAllVideo(),this.resetAllTimers(),this.resetAllState(),this.setMainTimer()},m.prototype.canvasExists=function(){return null!==this.getCanvas()},m.prototype.getCanvas=function(){return this.currentCanvas},m.prototype.setCurrentCanvas=function(e){this.currentCanvas=e?$(e)[0]:document.getElementsByTagName("canvas")[0],this.currentCanvas||(this.currentCanvas=null),this.fullReset(),this.setup()},m.prototype.stopGlobalTimer=function(){this.globalTimer=!1},m.prototype.drawBackground=function(){if(this.backgroundColor){var e=this.getContext();e.fillStyle=this.backgroundColor,e.beginPath(),e.rect(0,0,this.getWidth(),this.getHeight()),e.closePath(),e.fill()}},m.prototype.getContext=function(){var e=this.getCanvas();return e&&e.getContext?e.getContext("2d"):null},m.prototype.redraw=function(){this.clear(),this.drawBackground();for(var e=0;e<this.elements.length;e++)this.elements[e].draw(this)},m.prototype.setMainTimer=function(){var e=this;this.globalTimer&&this.setTimer((function(){e.redraw()}),40,null,"MAIN_TIMER")},m.prototype.waitingForClick=function(){return 0!==this.clickCount},m.prototype.canvasHasInstance=function(e){for(var t,n=0;n<p.length;n++)if((t=p[n]).instanceId!==this.instanceId&&t.getCanvas()===e)return t.instanceId;return null},m.prototype.getDistance=function(e,t,n,i){return s.getDistance(e,t,n,i)},m.prototype.setup=function(){var e=this,t=this.getCanvas();t.onclick=function(t){if(e.waitingForClick()){e.clickCount--;for(var n=0;n<e.delayedTimers.length;n++){var i=e.delayedTimers[n];i.clicks--,0===i.clicks&&e.setGraphicsTimer(i.fn,i.time,i.data)}}else e.clickCallback&&e.clickCallback(t)};var n=!1;t.onmousemove=function(t){e.moveCallback&&e.moveCallback(t),n&&e.dragCallback&&e.dragCallback(t)},t.onmousedown=function(t){n=!0,e.mouseDownCallback&&e.mouseDownCallback(t)},t.onmouseup=function(t){n=!1,e.mouseUpCallback&&e.mouseUpCallback(t)},t.ontouchmove=function(t){t.preventDefault(),e.dragCallback?e.dragCallback(t):e.moveCallback&&e.moveCallback(t)},t.ontouchstart=function(t){if(t.preventDefault(),e.mouseDownCallback?e.mouseDownCallback(t):e.clickCallback&&e.clickCallback(t),e.waitingForClick()){e.clickCount--;for(var n=0;n<e.delayedTimers.length;n++){var i=e.delayedTimers[n];i.clicks--,0===i.clicks&&e.setGraphicsTimer(i.fn,i.time,i.data)}}else;},t.ontouchend=function(t){t.preventDefault(),e.mouseUpCallback&&e.mouseUpCallback(t)}},m.prototype.setGraphicsTimer=function(e,t,n,i){void 0===i&&(i=e.name),this.timers[i]=a.safeSetInterval(e,n,t),this.timersList.push({name:i,fn:e,data:n,time:t})},m.prototype.updateAudio=function(){if(i.getByteFrequencyData(r),this.audioChangeCallback){this.audioChangeCallback(r.slice(0,46))}},window.onkeydown=function(e){-1===d.indexOf(e.keyCode)&&d.push(e.keyCode);for(var t=0;t<p.length;t++){var n=p[t];n.keyDownCallback&&n.keyDownCallback(e)}return!0},window.onkeyup=function(e){var t=d.indexOf(e.keyCode);-1!==t&&d.splice(t,1);for(var n=0;n<p.length;n++){var i=p[n];i.keyUpCallback&&i.keyUpCallback(e)}},window.onresize=function(e){g||(g=setTimeout((function(){g=null;for(var e=0;e<p.length;e++){var t=p[e];t.fullscreenMode&&t.setFullscreen()}}),40))},window.DeviceOrientationEvent&&(window.ondeviceorientation=function(e){for(var t=0;t<p.length;t++){var n=p[t];n.deviceOrientationCallback&&n.deviceOrientationCallback(e)}}),window.DeviceMotionEvent&&(window.ondevicemotion=function(e){for(var t=0;t<p.length;t++){var n=p[t];n.deviceMotionCallback&&n.deviceMotionCallback(e)}}),m.getBaseCoordinates=function(e,t){var n,i;e.pageX||e.pageY?(n=e.pageX,i=e.pageY):(n=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,i=e.clientY+document.body.scrollTop+document.documentElement.scrollTop);var r=t.offset();return{x:n-=r.left,y:i-=r.top}},m.getMouseCoordinates=function(e){var t=m.getBaseCoordinates(e,$(e.currentTarget)),n=t.x,i=t.y;return{x:n=Math.round(n),y:i=Math.round(i)}},m.getTouchCoordinates=function(e){var t=m.getBaseCoordinates(e,$(e.target)),n=t.x,i=t.y,r=$("#game").width(),o=$("#game").attr("width")/r;return n*=o,i*=o,{x:n=Math.round(n),y:i=Math.round(i)}},MouseEvent.prototype.getX=function(){return m.getMouseCoordinates(this).x},MouseEvent.prototype.getY=function(){return m.getMouseCoordinates(this).y},"undefined"!=typeof TouchEvent&&(TouchEvent.prototype.getX=function(){return m.getTouchCoordinates(this.touches[0]).x},TouchEvent.prototype.getY=function(){return m.getTouchCoordinates(this.touches[0]).y}),t.exports={CodeHSGraphics:m,PUBLIC_METHODS:l,PUBLIC_CONSTRUCTORS:c}},{"./arc.js":202,"./audioContext.js":203,"./circle.js":204,"./color.js":205,"./graphics-utils.js":206,"./grid.js":209,"./imagelibrary.js":210,"./line.js":211,"./oval.js":212,"./polygon.js":213,"./rectangle.js":215,"./sound.js":216,"./text.js":217,"./webimage.js":219,"./webvideo.js":220,"codehs-js-utils":289}],208:[function(e,t,n){"use strict";var i=e("./graphics.js"),r=i.CodeHSGraphics,o=i.PUBLIC_CONSTRUCTORS,a=i.PUBLIC_METHODS,s=e("./webimage.js"),u=e("./webvideo.js"),l=e("./polygon.js"),c=e("./color.js"),d=e("./randomizer.js"),p=e("./text.js"),h=e("./grid.js"),f=e("./circle.js"),m=e("./line.js"),g=e("./rectangle.js"),y=e("./imagelibrary.js"),v=e("./sound.js"),_=e("./audioContext.js");t.exports={CodeHSGraphics:r,PUBLIC_METHODS:a,PUBLIC_CONSTRUCTORS:o,WebImage:s,WebVideo:u,ImageLibrary:y,Polygon:l,Color:c,Randomizer:d,Text:p,Grid:h,Circle:f,Line:m,Rectangle:g,Sound:v,getAudioContext:_}},{"./audioContext.js":203,"./circle.js":204,"./color.js":205,"./graphics.js":207,"./grid.js":209,"./imagelibrary.js":210,"./line.js":211,"./polygon.js":213,"./randomizer.js":214,"./rectangle.js":215,"./sound.js":216,"./text.js":217,"./webimage.js":219,"./webvideo.js":220}],209:[function(e,t,n){"use strict";function i(e,t){if(2!==arguments.length)throw new Error('You should pass exactly 2 arguments to <span class="code">new Grid(rows, cols)</span>');if("number"!=typeof e||!isFinite(e))throw new TypeError('Invalid value for <span class="code">rows</span>. Make sure you are passing finite numbers to <span class="code">new Grid(rows, cols)</span>.');if("number"!=typeof t||!isFinite(t))throw new TypeError('Invalid value for <span class="code">cols</span>. Make sure you are passing finite numbers to <span class="code">new Grid(rows, cols)</span>.');e=Math.max(0,e),t=Math.max(0,t),this.grid=new Array(e);for(var n=0;n<e;n++)this.grid[n]=new Array(t)}i.prototype.initFromArray=function(e){if(1!==arguments.length)throw new Error('You should pass exactly 1 argument to <span class="code">initFromArray</span>');if(!Array.isArray(e))throw new Error('Invalid value passed to <span class="code">initFromArray</span>. Make sure you are passing an array.');for(var t=0;t<e.length;t++)for(var n=0;n<e[0].length;n++)this.inBounds(t,n)&&this.set(t,n,e[t][n])},i.prototype.init=function(e){if(1!==arguments.length)throw new Error('You should pass exactly 1 argument to <span class="code">init</span>');if("boolean"!=typeof e&&"number"!=typeof e&&"string"!=typeof e&&"object"!=typeof e)throw new TypeError('Invalid value passed to <span class="code">init</span>. You passed a value of type '+typeof e+". Make sure you are passing a number, string, object, or boolean value.");if("number"==typeof e&&!isFinite(e))throw new TypeError('Non finite number passed to <span class="code">init</span>. If you are passing a number, make sure it is a finite number.');for(var t=0;t<this.numRows();t++)for(var n=0;n<this.numCols();n++)this.grid[t][n]=e},i.prototype.get=function(e,t){if(2!==arguments.length)throw new Error('You should pass exactly 2 arguments to <span class="code">get(row, col)</span>');if("number"!=typeof e||!isFinite(e))throw new TypeError('Invalid value for <span class="code">row</span>. Make sure you are passing finite numbers to <span class="code">get(row, col)</span>.');if("number"!=typeof t||!isFinite(t))throw new TypeError('Invalid value for <span class="code">col</span>. Make sure you are passing finite numbers to <span class="code">get(row, col)</span>.');return this.grid[e][t]},i.prototype.set=function(e,t,n){if(3!==arguments.length)throw new Error('You should pass exactly 3 arguments to <span class="code">set(row, col, value)</span>');if("number"!=typeof e||!isFinite(e))throw new TypeError('Invalid value for <span class="code">row</span>. You passed a value of type '+typeof e+". Make sure you are passing a number.");if("number"!=typeof t||!isFinite(t))throw new TypeError('Invalid value for <span class="code">col</span>. You passed a value of type '+typeof t+". Make sure you are passing a number.");if("boolean"!=typeof n&&"number"!=typeof n&&"string"!=typeof n&&"object"!=typeof n)throw new TypeError('Invalid value passed to <span class="code">set</span>. You passed a value of type '+typeof n+". Make sure you are passing a number, string, object, or boolean value.");if("number"==typeof n&&!isFinite(n))throw new TypeError('Non finite value passed to <span class="code">set</span>. If you are passing a number, make sure it is a finite number.');this.grid[e][t]=n},i.prototype.numRows=function(){return this.grid.length},i.prototype.numCols=function(){return this.grid[0].length},i.prototype.inBounds=function(e,t){if(2!==arguments.length)throw new Error('You should pass exactly 2 arguments to <span class="code">inBounds(row, col)</span>');if("number"!=typeof e||!isFinite(e))throw new TypeError('Invalid value for <span class="code">row</span>. Make sure you are passing finite numbers to <span class="code">inBounds(row, col)</span>.');if("number"!=typeof t||!isFinite(t))throw new TypeError('Invalid value for <span class="code">col</span>. Make sure you are passing finite numbers to <span class="code">inBounds(row, col)</span>.');return!(e<0||t<0)&&!(e>=this.numRows()||t>=this.numCols())},i.prototype.toList=function(){for(var e=[],t=0;t<this.grid.length;t++)for(var n=0;n<this.grid[0].length;n++){var i=this.grid[t][n];i&&0!==i&&e.push([t,n,i])}return e},i.prototype.toString=function(){for(var e="",t=0;t<this.numRows();t++){for(var n=0;n<this.numCols();n++)e+=this.get(t,n)+" ";e+="\n"}return e},t.exports=i},{}],210:[function(e,t,n){t.exports={Characters:{penguin:"https://static1.codehs.com/img/library/characters/penguin.png",monkey:"https://static1.codehs.com/img/library/characters/monkey.jpg",leopard:"https://static1.codehs.com/img/library/characters/leopard.jpg",chameleon:"https://static1.codehs.com/img/library/characters/chameleon.jpg",lizard:"https://static1.codehs.com/img/library/characters/lizard.jpg",butterfly:"https://static1.codehs.com/img/library/characters/butterfly.jpg",secretMessage:"https://static1.codehs.com/img/library/characters/secretMessage.png"},Objects:{icicle:"https://static1.codehs.com/img/library/objects/icicle.png",helicopter:"https://static1.codehs.com/img/library/objects/helicopter.png",asteroid:"https://static1.codehs.com/img/library/objects/asteroid.png",soccerBall:"https://static1.codehs.com/img/library/objects/soccerBall.png"},Landscapes:{flowers:"https://static1.codehs.com/img/library/landscapes/flowers.jpg"}}},{}],211:[function(e,t,n){"use strict";var i=e("./thing.js");function r(e,t,n,r){if(4!==arguments.length)throw new Error('You should pass exactly 4 argument to <span class="code">new Line(x1, y1, x2, y2)</span>');if("number"!=typeof e||"number"!=typeof t||"number"!=typeof n||"number"!=typeof r)throw new TypeError('You must pass 4 numbers to <span class="code">new Line(x1, y1, x2, y2)</span>. Make sure each parameter youare passing is a number.');if(!(isFinite(e)&&isFinite(t)&&isFinite(n)&&isFinite(r)))throw new TypeError('One or more of the values you passed to <span class="code">new Line(x1, y1, x2, y2)</span> is an illegal number. Did you forget the parentheses in <span class="code">getWidth()</span> or <span class="code">getHeight()</span>? Or did you perform a calculation on a variable that is not a number?');i.call(this),this.x1=e,this.y1=t,this.x2=n,this.y2=r,this.lineWidth=2,this.type="Line"}r.prototype=new i,r.prototype.constructor=r,r.prototype.setColor=function(e){if(1!==arguments.length)throw new Error('You should pass exactly 1 argument to <span class="code">setColor(color)</span>.');if(void 0===e)throw new TypeError("Invalid color");this.stroke=e},r.prototype.getColor=function(){return this.stroke},r.prototype.draw=function(e){var t=e.getContext();t.save(),t.fillStyle=this.color.toString(),t.beginPath(),t.strokeStyle=this.stroke.toString(),t.lineWidth=this.lineWidth;var n=o(this.x1,this.y1,this.x2,this.y2,this.rotation);t.moveTo(n[0],n[1]),t.lineTo(n[2],n[3]),t.closePath(),t.stroke(),t.restore()};var o=function(e,t,n,i,r){var o,a,s=(e+n)/2,u=(t+i)/2,l=Math.sin(r),c=Math.cos(r);return o=(e-=s)*c-(t-=u)*l,t=(a=e*l+t*c)+u,a=(n-=s)*l+(i-=u)*c,[e=o+s,t,n=(o=n*c-i*l)+s,i=a+u]};r.prototype.containsPoint=function(e,t){var n=this.x1<=e&&e<=this.x2||this.x2<=e&&e<=this.x1,i=this.y1<=t&&t<=this.y2||this.y2<=t&&t<=this.y1;if(this.x1==this.x2)return this.x1==e&&i;var r=(this.y2-this.y1)/(this.x2-this.x1);return Math.abs(r*(e-this.x1)-(t-this.y1))<=this.lineWidth&&n&&i},r.prototype.getWidth=function(){return this.width},r.prototype.getHeight=function(){return this.height},r.prototype.setLineWidth=function(e){if(1!==arguments.length)throw new Error('You should pass exactly 1 argument to <span class="code">setLineWidth</span>');if("number"!=typeof e||!isFinite(e))throw new TypeError('You must pass a finite number to <span class="code">setLineWidth(width)</span>. Did you perform a calculation on a variable that is not a number?');this.lineWidth=e},r.prototype.setStartpoint=function(e,t){if(2!==arguments.length)throw new Error('You should pass exactly 2 arguments to <span class="code">setStartpoint(x, y)</span>');if("number"!=typeof e||!isFinite(e))throw new TypeError('Invalid value for x-coordinate. Make sure you are passing finite numbers to <span class="code">setStartpoint(x, y)</span>. Did you forget the parentheses in <span class="code">getWidth()</span> or <span class="code">getHeight()</span>? Or did you perform a calculation on a variable that is not a number?');if("number"!=typeof t||!isFinite(t))throw new TypeError('Invalid value for y-coordinate. Make sure you are passing finite numbers to <span class="code">setStartpoint(x, y)</span>. Did you forget the parentheses in <span class="code">getWidth()</span> or <span class="code">getHeight()</span>? Or did you perform a calculation on a variable that is not a number?');this.setPosition(e,t)},r.prototype.setPosition=function(e,t){if(2!==arguments.length)throw new Error('You should pass exactly 2 arguments to <span class="code">setPosition(x, y)</span>');if("number"!=typeof e||!isFinite(e))throw new TypeError('Invalid value for x-coordinate. Make sure you are passing finite numbers to <span class="code">setPosition(x, y)</span>. Did you forget the parentheses in <span class="code">getWidth()</span> or <span class="code">getHeight()</span>? Or did you perform a calculation on a variable that is not a number?');if("number"!=typeof t||!isFinite(t))throw new TypeError('Invalid value for y-coordinate. Make sure you are passing finite numbers to <span class="code">setPosition(x, y)</span>. Did you forget the parentheses in <span class="code">getWidth()</span> or <span class="code">getHeight()</span>? Or did you perform a calculation on a variable that is not a number?');this.x1=e,this.y1=t},r.prototype.setEndpoint=function(e,t){if(2!==arguments.length)throw new Error('You should pass exactly 2 arguments to <span class="code">setEndpoint(x, y)</span>');if("number"!=typeof e||!isFinite(e))throw new TypeError('Invalid value for x-coordinate. Make sure you are passing finite numbers to <span class="code">setEndpoint(x, y)</span>. Did you forget the parentheses in <span class="code">getWidth()</span> or <span class="code">getHeight()</span>? Or did you perform a calculation on a variable that is not a number?');if("number"!=typeof t||!isFinite(t))throw new TypeError('Invalid value for y-coordinate. Make sure you are passing finite numbers to <span class="code">setEndpoint(x, y)</span>. Did you forget the parentheses in <span class="code">getWidth()</span> or <span class="code">getHeight()</span>? Or did you perform a calculation on a variable that is not a number?');this.x2=e,this.y2=t},r.prototype.move=function(e,t){if(2!==arguments.length)throw new Error('You should pass exactly 2 arguments to <span class="code">move</span>');if("number"!=typeof e||!isFinite(e))throw new TypeError('Invalid number passed for <span class="code">dx</span>. Make sure you are passing finite numbers to <span class="code">move(dx, dy)</span>');if("number"!=typeof t||!isFinite(t))throw new TypeError('Invalid number passed for <span class="code">dy</span>. Make sure you are passing finite numbers to <span class="code">move(dx, dy)</span>');this.x1+=e,this.y1+=t,this.x2+=e,this.y2+=t},r.prototype.getX=function(){return this.x1},r.prototype.getY=function(){return this.y1},r.prototype.getStartX=function(){return this.x1},r.prototype.getStartY=function(){return this.y1},r.prototype.getEndX=function(){return this.x2},r.prototype.getEndY=function(){return this.y2},t.exports=r},{"./thing.js":218}],212:[function(e,t,n){"use strict";var i=e("./thing.js");function r(e,t){if(2!==arguments.length)throw new Error('You should pass exactly 2 arguments to <span class="code">new Oval(width, height)</span>');if("number"!=typeof e||!isFinite(e))throw new TypeError('Invalid value for <span class="code">width</span>. Make sure you are passing finite numbers to <span class="code">new Oval(width, height)</span>. Did you forget the parentheses in <span class="code">getWidth()</span> or <span class="code">getHeight()</span>? Or did you perform a calculation on a variable that is not a number?');if("number"!=typeof t||!isFinite(t))throw new TypeError('Invalid value for <span class="code">height</span>. Make sure you are passing finite numbers to <span class="code">new Oval(width, height)</span>. Did you forget the parentheses in <span class="code">getWidth()</span> or <span class="code">getHeight()</span>? Or did you perform a calculation on a variable that is not a number?');i.call(this),this.width=Math.max(0,e),this.height=Math.max(0,t),this.type="Oval"}r.prototype=new i,r.prototype.constructor=r,r.prototype.draw=function(e){var t=e.getContext();t.save(),t.translate(this.x,this.y),t.rotate(this.rotation);var n=this.width,i=this.height,r=-n/2,o=-i/2,a=.5522848,s=n/2*a,u=i/2*a,l=r+n,c=o+i,d=r+n/2,p=o+i/2;t.beginPath(),t.moveTo(r,p),t.bezierCurveTo(r,p-u,d-s,o,d,o),t.bezierCurveTo(d+s,o,l,p-u,l,p),t.bezierCurveTo(l,p+u,d+s,c,d,c),t.bezierCurveTo(d-s,c,r,p+u,r,p),t.fillStyle=this.color.toString(),t.fill(),this.hasBorder&&(t.strokeStyle=this.stroke.toString(),t.lineWidth=this.lineWidth,t.stroke()),t.closePath(),t.restore()},r.prototype.getHeight=function(){return this.height},r.prototype.getWidth=function(){return this.width},r.prototype.setWidth=function(e){if(1!==arguments.length)throw new Error('You should pass exactly 1 argument to <span class="code">setWidth(width)</span>');if("number"!=typeof e||!isFinite(e))throw new TypeError('You must pass a finite number to <span class="code">setWidth(width)</span>. Did you forget the parentheses in <span class="code">getWidth()</span> or <span class="code">getHeight()</span>? Or did you perform a calculation on a variable that is not a number?');this.width=Math.max(0,e)},r.prototype.setHeight=function(e){if(1!==arguments.length)throw new Error('You should pass exactly 1 argument to <span class="code">setHeight(height)</span>');if("number"!=typeof e||!isFinite(e))throw new TypeError('You must pass a finite number to <span class="code">setHeight(height)</span>. Did you forget the parentheses in <span class="code">getWidth()</span> or <span class="code">getHeight()</span>? Or did you perform a calculation on a variable that is not a number?');this.height=Math.max(0,e)},r.prototype.containsPoint=function(e,t){var n=Math.pow(this.width/2,2),i=Math.pow(this.height/2,2);return Math.pow(e-this.x,2)/n+Math.pow(t-this.y,2)/i<=1},t.exports=r},{"./thing.js":218}],213:[function(e,t,n){"use strict";var i=e("./thing.js");function r(){if(0!==arguments.length)throw new Error('You should pass exactly 0 arguments to <span class="code">new Polygon()</span>');i.call(this),this.points=[],this.width=0,this.height=0,this.type="Polygon"}r.prototype=new i,r.prototype.constructor=r,r.prototype.draw=function(e){if(0!==this.points.length){var t=e.getContext();t.fillStyle=this.color.toString(),t.beginPath();var n=this.points[0];t.moveTo(n.x,n.y);for(var i=1;i<this.points.length;i++){var r=this.points[i];t.lineTo(r.x,r.y)}t.closePath(),t.fill()}},r.prototype.containsPoint=function(e,t){for(var n,i,r=-1,o=0;o<this.points.length;o++){n=this.points[o].x;var a=(t-(i=this.points[o].y))*(this.points[(o+1)%this.points.length].x-n)-(e-n)*(this.points[(o+1)%this.points.length].y-i)<=0;if(r<0)r=a;else if(r!==a)return!1}return!0},r.prototype.getWidth=function(){return this.width},r.prototype.getHeight=function(){return this.height},r.prototype.addPoint=function(e,t){if(2!==arguments.length)throw new Error('You should pass exactly 2 arguments to <span class="code">addPoint(x, y)</span>');if("number"!=typeof e||!isFinite(e))throw new TypeError('Invalid value for x-coordinate. Make sure you are passing finite numbers to <span class="code">addPoint(x, y)</span>.');if("number"!=typeof t||!isFinite(t))throw new TypeError('Invalid value for y-coordinate. Make sure you are passing finite numbers to <span class="code">addPoint(x, y)</span>.');for(var n=0;n<this.points.length;n++)Math.abs(e-this.points[n].x)>this.width&&(this.width=Math.abs(e-this.points[n].x)),Math.abs(t-this.points[n].y)>this.height&&(this.height=Math.abs(t-this.points[n].y));this.points.push({x:e,y:t})},r.prototype.move=function(e,t){if(2!==arguments.length)throw new Error('You should pass exactly 2 arguments to <span class="code">move</span>');if("number"!=typeof e||!isFinite(e))throw new TypeError('Invalid number passed for <span class="code">dx</span>. Make sure you are passing finite numbers to <span class="code">move(dx, dy)</span>');if("number"!=typeof t||!isFinite(t))throw new TypeError('Invalid number passed for <span class="code">dy</span>. Make sure you are passing finite numbers to <span class="code">move(dx, dy)</span>');for(var n=0;n<this.points.length;n++)this.points[n].x+=e,this.points[n].y+=t},t.exports=r},{"./thing.js":218}],214:[function(e,t,n){"use strict";var i=function(e,t){void 0===t&&(t=e-1,e=0),e=Math.floor(e);var n=Math.random();return e+Math.floor(n*(t-e+1))},r=function(){var e=i(0,255);return e<16?"0"+e.toString(16):e.toString(16)};t.exports={nextInt:i,nextFloat:function(e,t){return void 0===t&&(t=e,e=0),e+(t-e)*Math.random()},nextHex:r,nextColor:function(){return"#"+r()+r()+r()},nextBoolean:function(e){return void 0===e&&(e=.5),Math.random()<e}}},{}],215:[function(e,t,n){"use strict";var i=e("./thing.js");function r(e,t){if(2!==arguments.length)throw new Error('You should pass exactly 2 arguments to <span class="code">new Rectangle(width, height)</span>');if("number"!=typeof e||!isFinite(e))throw new TypeError('Invalid value for <span class="code">width</span>. Make sure you are passing finite numbers to <span class="code">new Rectangle(width, height)</span>. Did you forget the parentheses in <span class="code">getWidth()</span> or <span class="code">getHeight()</span>? Or did you perform a calculation on a variable that is not a number?');if("number"!=typeof t||!isFinite(t))throw new TypeError('Invalid value for <span class="code">height</span>. Make sure you are passing finite numbers to <span class="code">new Rectangle(width, height)</span>. Did you forget the parentheses in <span class="code">getWidth()</span> or <span class="code">getHeight()</span>? Or did you perform a calculation on a variable that is not a number?');i.call(this),this.width=Math.max(0,e),this.height=Math.max(0,t),this.type="Rectangle"}r.prototype=new i,r.prototype.constructor=r,r.prototype.draw=function(e){var t=e.getContext();t.save(),t.fillStyle=this.color.toString(),this.hasBorder&&(t.lineWidth=this.lineWidth,t.strokeStyle=this.stroke.toString()),t.beginPath(),t.translate(this.x+this.width/2,this.y+this.height/2),t.rotate(this.rotation),t.rect(-this.width/2,-this.height/2,this.width,this.height),t.closePath(),this.hasBorder&&t.stroke(),t.fill(),t.restore()},r.prototype.setSize=function(e,t){if(2!==arguments.length)throw new Error('You should pass exactly 2 arguments to <span class="code">setSize(width, height)</span>');if("number"!=typeof e||!isFinite(e))throw new TypeError('Invalid value for <span class="code">width</span>. Make sure you are passing finite numbers to <span class="code">setSize(width, height)</span>. Did you forget the parentheses in <span class="code">getWidth()</span> or <span class="code">getHeight()</span>? Or did you perform a calculation on a variable that is not a number?');if("number"!=typeof t||!isFinite(t))throw new TypeError('Invalid value for <span class="code">height</span>. Make sure you are passing finite numbers to <span class="code">setSize(width, height)</span>. Did you forget the parentheses in <span class="code">getWidth()</span> or <span class="code">getHeight()</span>? Or did you perform a calculation on a variable that is not a number?');this.width=Math.max(0,e),this.height=Math.max(0,t)},r.prototype.setWidth=function(e){if(1!==arguments.length)throw new Error('You should pass exactly 1 argument to <span class="code">setWidth(width)</span>');if("number"!=typeof e||!isFinite(e))throw new TypeError('Invalid value for <span class="code">width</span>. Make sure you are passing finite numbers to <span class="code">setWidth(width)</span>. Did you forget the parentheses in <span class="code">getWidth()</span> or <span class="code">getHeight()</span>? Or did you perform a calculation on a variable that is not a number?');this.width=Math.max(0,e)},r.prototype.setHeight=function(e){if(1!==arguments.length)throw new Error('You should pass exactly 1 argument to <span class="code">setHeight(height)</span>');if("number"!=typeof e||!isFinite(e))throw new TypeError('Invalid value for <span class="code">height</span>. Make sure you are passing finite numbers to <span class="code">setHeight(height)</span>. Did you forget the parentheses in <span class="code">getWidth()</span> or <span class="code">getHeight()</span>? Or did you perform a calculation on a variable that is not a number?');this.height=Math.max(0,e)},r.prototype.containsPoint=function(e,t){return e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height},r.prototype.getWidth=function(){return this.width},r.prototype.getHeight=function(){return this.height},t.exports=r},{"./thing.js":218}],216:[function(e,t,n){"use strict";var i=function(e,t){window.Tone&&window.Tone.supported&&(this.frequency=e||440,this.oscillatorType=t||"fatsawtooth",this.volume=1,"drum"==this.oscillatorType?this.synth=(new window.Tone.MembraneSynth).toMaster():"metal"==this.oscillatorType?this.synth=(new window.Tone.MetalSynth).toMaster():this.synth=new window.Tone.Synth({oscillator:{type:this.oscillatorType}}).toMaster(),this.setFrequency(this.frequency))};i.prototype.setFrequency=function(e){window.Tone&&window.Tone.supported&&(this.frequency=e,"metal"==this.getOscillatorType()?this.synth.frequency.value=e:this.synth.oscillator.frequency.value=e)},i.prototype.setVolume=function(e){window.Tone&&window.Tone.supported&&(this.volume=e,this.synth.volume.value=e)},i.prototype.getFrequency=function(){if(window.Tone&&window.Tone.supported)return this.frequency},i.prototype.getVolume=function(){if(window.Tone&&window.Tone.supported)return this.volume},i.prototype.setOscillatorType=function(e){if(window.Tone&&window.Tone.supported){var t=this.getOscillatorType();if(e==t)return;this.oscillatorType=e,"drum"==e?(this.disconnect(),this.synth=(new window.Tone.MembraneSynth).toMaster(),this.setFrequency(this.getFrequency())):"metal"==e?(this.disconnect(),this.synth=(new window.Tone.MetalSynth).toMaster(),this.setFrequency(this.getFrequency())):"drum"==t||"metal"==t?(this.disconnect(),this.synth=new window.Tone.Synth({oscillator:{type:e}}).toMaster(),this.setFrequency(this.frequency)):this.synth.oscillator.type=e}},i.prototype.getOscillatorType=function(){if(window.Tone&&window.Tone.supported)return this.oscillatorType},i.prototype.play=function(){window.Tone&&window.Tone.supported&&("metal"==this.getOscillatorType()?this.synth.triggerAttack():this.synth.triggerAttack(this.getFrequency()))},i.prototype.playFor=function(e){window.Tone&&window.Tone.supported&&("metal"==this.getOscillatorType()?this.synth.triggerAttackRelease(e):this.synth.triggerAttackRelease(this.getFrequency(),e))},i.prototype.stop=function(){window.Tone&&window.Tone.supported&&this.synth.triggerRelease()},i.prototype.disconnect=function(){window.Tone&&window.Tone.supported&&this.synth.disconnect()},i.prototype.setEffect=function(e,t){if(window.Tone&&window.Tone.supported)switch(e){case"distortion":var n=new window.Tone.Distortion(t).toMaster();return void this.synth.connect(n);case"chebyshev":var i=new window.Tone.Chebyshev(100*t).toMaster();return void this.synth.connect(i);case"reverb":var r=(new window.Tone.Freeverb).toMaster();return r.wet.value=t,void this.synth.connect(r);case"tremolo":var o=(new window.Tone.Tremolo).toMaster().start();return o.wet.value=t,void this.synth.connect(o);case"vibrato":var a=(new window.Tone.Vibrato).toMaster();return a.wet.value=t,void this.synth.connect(a);default:return}},t.exports=i},{}],217:[function(e,t,n){"use strict";var i=e("./thing.js");function r(e,t){if(arguments.length<1)throw new Error('You should pass at least one argument to <span class="code">new Text(label, font)</span>. <span class="code">label</span> is a required parameter.');if("string"!=typeof e&&"number"!=typeof e)throw new TypeError('Invalid value for <span class="code">label</span>. You passed a value of type '+typeof e+" but a string or number is required.");if("string"!=typeof(t=void 0===t?"20pt Arial":t))throw new TypeError('Invalid value for <span class="code">font</span>. You passed a value of type '+typeof e+" but a string is required.");i.call(this),this.label=e,this.type="Text",this.font=t,this.context=null,this.resetDimensions()}r.prototype=new i,r.prototype.constructor=r,r.defaultContext=null,r.giveDefaultContext=function(e){r.defaultContext=e.getContext()},r.prototype.resetDimensions=function(){var e=this.context||r.defaultContext;e.font=this.font,this.width=e.measureText(this.label).width,this.height=1.2*e.measureText("m").width},r.prototype.draw=function(e){var t=e.getContext();this.context=t,t.save(),t.fillStyle=this.color.toString(),t.beginPath(),t.font=this.font,this.resetDimensions(),t.translate(this.x,this.y),t.rotate(this.rotation),t.fillText(this.label,0,0),t.closePath(),t.fill(),t.restore()},r.prototype.setFont=function(e){if(1!==arguments.length)throw new Error('You should pass exactly 1 argument to <span class="code">setFont</span>');if("string"!=typeof e)throw new TypeError('Invalid value passed to <span class="code">setFont</span>. You passed a value of type '+typeof label+", but a string is required.");this.font=e,this.resetDimensions()},r.prototype.setLabel=function(e){if(1!==arguments.length)throw new Error('You should pass exactly 1 argument to <span class="code">setLabel</span>');if("string"!=typeof e&&"number"!=typeof e)throw new TypeError('Invalid value passed to <span class="code">setLabel</span>. You passed a value of type '+typeof e+", but a string or number is required.");this.label=e,this.resetDimensions()},r.prototype.setText=function(e){if(1!==arguments.length)throw new Error('You should pass exactly 1 argument to <span class="code">setText</span>');if("string"!=typeof e&&"number"!=typeof e)throw new TypeError('Invalid value passed to <span class="code">setText</span>. You passed a value of type '+typeof e+", but a string or number is required.");this.label=e,this.resetDimensions()},r.prototype.getLabel=function(){return this.label},r.prototype.getText=function(){return this.label},r.prototype.getWidth=function(){return this.width},r.prototype.getHeight=function(){return this.height},r.prototype.containsPoint=function(e,t){return e>=this.x&&e<=this.x+this.width&&t<=this.y&&t>=this.y-this.height},t.exports=r},{"./thing.js":218}],218:[function(e,t,n){"use strict";function i(){this.x=0,this.y=0,this.color="#000000",this.stroke="#000000",this.type="Thing",this.lineWidth=1,this.filled=!0,this.hasBorder=!1,this.rotation=0}i.DEGREES=0,i.RADIANS=1,i.prototype.setFilled=function(e){if(1!==arguments.length)throw new Error('You should pass exactly 1 argument to <span class="code">setFilled</span>');if("boolean"!=typeof e)throw new Error('Invalid value passed to <span class="code">setFilled</span>. Make sure you are passing a boolean value.');this.filled=e},i.prototype.isFilled=function(){return this.filled},i.prototype.setBorder=function(e){if(1!==arguments.length)throw new Error('You should pass exactly 1 argument to <span class="code">setBorder</span>');if("boolean"!=typeof e)throw new Error('Invalid value passed to <span class="code">setBorder</span>. Make sure you are passing a boolean value.');this.hasBorder=e},i.prototype.hasBorder=function(){return this.hasBorder},i.prototype.setType=function(e){if(1!==arguments.length)throw new Error('You should pass exactly 1 argument to <span class="code">setType</span>');this.type=e},i.prototype.getType=function(){return this.type},i.prototype.setPosition=function(e,t){if(2!==arguments.length)throw new Error('You should pass exactly 2 arguments to <span class="code">setPosition(x, y)</span>');if("number"!=typeof e||!isFinite(e))throw new TypeError('Invalid value for x-coordinate. Make sure you are passing finite numbers to <span class="code">setPosition(x, y)</span>. Did you forget the parentheses in <span class="code">getWidth()</span> or <span class="code">getHeight()</span>? Or did you perform a calculation on a variable that is not a number?');if("number"!=typeof t||!isFinite(t))throw new TypeError('Invalid value for y-coordinate. Make sure you are passing finite numbers to <span class="code">setPosition(x, y)</span>. Did you forget the parentheses in <span class="code">getWidth()</span> or <span class="code">getHeight()</span>? Or did you perform a calculation on a variable that is not a number?');this.x=e,this.y=t},i.prototype.setRotation=function(e,t){if(arguments.length<1||arguments.length>2)throw new Error('You should pass 1 or 2 arguments to <span class="code">setRotation(degrees, angleUnit)</span>');if("number"!=typeof e||!isFinite(e))throw new TypeError('Invalid value for degrees. Make sure you are passing finite numbers to <span class="code">setRotation(degrees, angleUnit)</span>. Did you perform a calculation on a variable that is not a number?');if(t||(t=i.DEGREES),"number"!=typeof t||!isFinite(t))throw new TypeError('Invalid value for <span class="code">angleUnit</span>. Make sure you are passing finite numbers to <span class="code">setRotation(degrees, angleUnit)</span>');t==i.DEGREES?this.rotation=e*Math.PI/180:this.rotation=e},i.prototype.rotate=function(e,t){if(arguments.length<1||arguments.length>2)throw new Error('You should pass exactly 1 argument to <span class="code">rotate(degrees, angleUnit)</span>');if("number"!=typeof e||!isFinite(e))throw new TypeError('Invalid value for degrees. Make sure you are passing finite numbers to <span class="code">rotate(degrees, angleUnit)</span>. Did you perform a calculation on a variable that is not a number?');if(t||(t=i.DEGREES),"number"!=typeof t||!isFinite(t))throw new TypeError('Invalid value for <span class="code">angleUnit</span>. Make sure you are passing finite numbers to <span class="code">rotate(degrees, angleUnit)</span>');t==i.DEGREES?this.rotation+=e*Math.PI/180:this.rotation+=e},i.prototype.setColor=function(e){if(1!==arguments.length)throw new Error('You should pass exactly 1 argument to <span class="code">setColor</span>');if(void 0===e)throw new TypeError("Invalid color");this.color=e},i.prototype.getColor=function(){return this.color},i.prototype.setBorderColor=function(e){if(1!==arguments.length)throw new Error('You should pass exactly 1 argument to <span class="code">setBorderColor</span>');if(void 0===e)throw new TypeError("Invalid color.");this.stroke=e,this.hasBorder=!0},i.prototype.getBorderColor=function(){return this.stroke},i.prototype.setBorderWidth=function(e){if(1!==arguments.length)throw new Error('You should pass exactly 1 argument to <span class="code">setBorderWidth</span>');if("number"!=typeof e||!isFinite(e))throw new Error('Invalid value for border width. Make sure you are passing a finite number to <span class="code">setBorderWidth</span>');this.lineWidth=e,this.hasBorder=!0},i.prototype.getBorderWidth=function(){return this.lineWidth},i.prototype.move=function(e,t){if(2!==arguments.length)throw new Error('You should pass exactly 2 arguments to <span class="code">move</span>');if("number"!=typeof e||!isFinite(e))throw new TypeError('Invalid number passed for <span class="code">dx</span>. Make sure you are passing finite numbers to <span class="code">move(dx, dy)</span>');if("number"!=typeof t||!isFinite(t))throw new TypeError('Invalid number passed for <span class="code">dy</span>. Make sure you are passing finite numbers to <span class="code">move(dx, dy)</span>');this.x+=e,this.y+=t},i.prototype.getX=function(){return this.x},i.prototype.getY=function(){return this.y},i.prototype.draw=function(){},i.prototype.containsPoint=function(e,t){return!1},t.exports=i},{}],219:[function(e,t,n){"use strict";var i=e("./thing.js"),r={};function o(e){if("string"!=typeof e)throw new TypeError('You must pass a string to <span class="code">new WebImage(filename)</span> that has the image\'s URL.');i.call(this);var t=this;this.image=new Image;var n=document.createElement("a");n.href=e;var o=e;n.origin!=window.location.origin&&(this.image.crossOrigin="Anonymous",r.hasOwnProperty(e)?o=r[e]:(o=e+"?time="+Date.now(),r[e]=o)),this.imageLoaded=!1,this.image.src=o,this.filename=e,this.width=0,this.height=0,this.image.onload=function(){t.imageLoaded=!0,t.checkDimensions(),t.loadPixelData(),t.loadfn&&t.loadfn()},this.set=0,this.type="WebImage",this.displayFromData=!1,this.dirtyHiddenCanvas=!1,this.data=0}o.prototype=new i,o.prototype.constructor=o,o.prototype.loaded=function(e){this.loadfn=e},o.prototype.setImage=function(e){if("string"!=typeof e)throw new TypeError('You must pass a string to <span class="code">new WebImage(filename)</span> that has the image\'s URL.');var t=this;this.image=new Image;var n=document.createElement("a");n.href=e;var i=e;n.origin!=window.location.origin&&(this.image.crossOrigin="Anonymous",r.hasOwnProperty(e)?i=r[e]:(i=e+"?time="+Date.now(),r[e]=i)),this.imageLoaded=!1,this.image.src=i,this.filename=e,this.width=0,this.height=0,this.image.onload=function(){t.imageLoaded=!0,t.checkDimensions(),t.loadPixelData(),t.loadfn&&t.loadfn()},this.set=0,this.displayFromData=!1,this.dirtyHiddenCanvas=!1,this.data=0},o.prototype.checkDimensions=function(){0==this.width&&this.imageLoaded&&(this.width=this.image.width,this.height=this.image.height)},o.prototype.draw=function(e){this.checkDimensions();var t=e.getContext("2d");t.setTransform(1,0,0,1,this.x+this.width/2,this.y+this.height/2),t.rotate(this.rotation);var n=this.image;if(this.displayFromData&&0!==this.data&&this.hiddenCanvas){if(this.dirtyHiddenCanvas){var i=this.hiddenCanvas.getContext("2d");i.clearRect(0,0,this.hiddenCanvas.width,this.hiddenCanvas.height),i.putImageData(this.data,0,0),this.dirtyHiddenCanvas=!1}n=this.hiddenCanvas}try{t.drawImage(n,-this.width/2,-this.height/2,this.width,this.height)}catch(e){throw new TypeError('Unable to create a WebImage from <span class="code">'+this.filename+"</span> Make sure you have a valid image URL. Hint: You can use More > Upload to upload your image and create a valid image URL.")}finally{t.setTransform(1,0,0,1,0,0)}},o.prototype.loadPixelData=function(){if(0===this.data&&this.imageLoaded)try{this.hiddenCanvas=document.createElement("canvas"),this.hiddenCanvas.width=this.width,this.hiddenCanvas.height=this.height;var e=this.hiddenCanvas.getContext("2d");e.drawImage(this.image,0,0,this.width,this.height),this.data=e.getImageData(0,0,this.width,this.height),this.dirtyHiddenCanvas=!1}catch(e){this.data=0}return this.data},o.prototype.containsPoint=function(e,t){return e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height},o.prototype.getWidth=function(){return this.width},o.prototype.getHeight=function(){return this.height},o.prototype.setSize=function(e,t){if(2!==arguments.length)throw new Error('You should pass exactly 2 arguments to <span class="code">setSize(width, height)</span>');if("number"!=typeof e||!isFinite(e))throw new TypeError('Invalid value for <span class="code">width</span>. Make sure you are passing finite numbers to <span class="code">setSize(width, height)</span>. Did you forget the parentheses in <span class="code">getWidth()</span> or <span class="code">getHeight()</span>? Or did you perform a calculation on a variable that is not a number?');if("number"!=typeof t||!isFinite(t))throw new TypeError('Invalid value for <span class="code">height</span>. Make sure you are passing finite numbers to <span class="code">setSize(width, height)</span>. Did you forget the parentheses in <span class="code">getWidth()</span> or <span class="code">getHeight()</span>? Or did you perform a calculation on a variable that is not a number?');this.width=Math.max(0,e),this.height=Math.max(0,t)},o.prototype.getPixel=function(e,t){if(0===this.data||e>this.width||e<0||t>this.height||t<0)return[-1,-1,-1,-1];var n=4*(t*this.width+e);return[this.data.data[n+0],this.data.data[n+1],this.data.data[n+2],this.data.data[n+3]]},o.prototype.getRed=function(e,t){return this.getPixel(e,t)[0]},o.prototype.getGreen=function(e,t){return this.getPixel(e,t)[1]},o.prototype.getBlue=function(e,t){return this.getPixel(e,t)[2]},o.prototype.getAlpha=function(e,t){return this.getPixel(e,t)[3]},o.prototype.setPixel=function(e,t,n,i){if(0!==this.data&&!(e<0||t<0||e>this.width||t>this.height)){var r=4*(t*this.width+e);this.data.data[r+n]=i,this.displayFromData=!0,this.dirtyHiddenCanvas=!0}},o.prototype.setRed=function(e,t,n){this.setPixel(e,t,0,n)},o.prototype.setGreen=function(e,t,n){this.setPixel(e,t,1,n)},o.prototype.setBlue=function(e,t,n){this.setPixel(e,t,2,n)},o.prototype.setAlpha=function(e,t,n){this.setPixel(e,t,3,n)},t.exports=o},{"./thing.js":218}],220:[function(e,t,n){"use strict";var i=e("./thing.js");const r="WEBCAM";function o(e){if("string"!=typeof e)throw new TypeError('You must pass a string to <span class="code">new WebVideo(filename)</span> that has the video\'s location.');i.call(this);var t=this,n=document.createElement("video");if(this.width=150,this.height=112.5,this.type="WebVideo",this.isWebCam=e===r,this.browserSupportsVideo=!!n.canPlayType,this.browserSupportsVideo){if(this.video=n,this.isWebCam){if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new TypeError("Your browser does not support web camera access");navigator.mediaDevices.getUserMedia({video:!0}).then((function(e){t.video.srcObject=e,t.video.play()})).catch((function(e){throw new Error("Web camera access was denied: "+e)}))}else this.video.src=e;this.filename=e,this.video.autoplay=!0,this.video.loop=!1,this.video.crossOrigin="anonymous"}}o.WEBCAM=r,o.prototype=new i,o.prototype.constructor=o,o.prototype.draw=function(e){if(this.browserSupportsVideo){var t=e.getContext("2d");t.setTransform(1,0,0,1,this.x+this.width/2,this.y+this.height/2),t.rotate(this.rotation),t.drawImage(this.video,-this.width/2,-this.height/2,this.width,this.height),t.setTransform(1,0,0,1,0,0)}},o.prototype.containsPoint=function(e,t){return!!this.browserSupportsVideo&&(e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height)},o.prototype.getWidth=function(){return this.width},o.prototype.getHeight=function(){return this.height},o.prototype.setSize=function(e,t){this.width=e,this.height=t},o.prototype.setAutoplay=function(e){this.browserSupportsVideo&&(this.video.autoplay=e)},o.prototype.setLoop=function(e){this.browserSupportsVideo&&(this.video.loop=e)},o.prototype.setMuted=function(e){this.browserSupportsVideo&&(this.video.muted=e)},o.prototype.play=function(){this.browserSupportsVideo&&this.video.play()},o.prototype.pause=function(){this.browserSupportsVideo&&this.video.pause()},o.prototype.stop=function(){this.browserSupportsVideo&&(this.video.pause(),this.video.currentTime=0,this.isWebCam&&this.video.srcObject&&this.video.srcObject.getTracks().forEach((function(e){e.stop()})))},o.prototype.isPlaying=function(){return!!this.browserSupportsVideo&&!(this.video.paused||this.video.ended)},o.prototype.isMuted=function(){return!!this.browserSupportsVideo&&this.video.muted},o.prototype.onReadyToPlay=function(e){this.browserSupportsVideo&&(this.video.oncanplay=e)},t.exports=o},{"./thing.js":218}],221:[function(e,t,n){"use strict";var i=e("./graphics/graphicsbase.js"),r=e("./datastructures/datastructuresbase.js"),o=e("./console/console.js"),a=e("./keyboard/keyboard.js");window.CodeHSGraphics=i.CodeHSGraphics,window.CodeHSConsole=o.CodeHSConsole,window.Polygon=i.Polygon,window.Rectangle=i.Rectangle,window.WebImage=i.WebImage,window.WebVideo=i.WebVideo,window.ImageLibrary=i.ImageLibrary,window.Grid=i.Grid,window.chsText=i.Text,window.Circle=i.Circle,window.chsSet=r.chsSet,window.Stack=r.Stack,window.Line=i.Line,window.Keyboard=a;var s=new window.CodeHSConsole;window.globalCodeHSConsoleInstance=s,window.quietPrintln=function(){return s.quietPrintln.apply(s,arguments)},window.quietPrint=function(){return s.quietPrint.apply(s,arguments)},window.println=function(){return s.println.apply(s,arguments)},window.print=function(){return s.print.apply(s,arguments)},window.readInt=function(){return s.readInt.apply(s,arguments)},window.readBoolean=function(){return s.readBoolean.apply(s,arguments)},window.readFloat=function(){return s.readFloat.apply(s,arguments)},window.readLine=function(){return s.readLine.apply(s,arguments)},window.Randomizer=i.Randomizer,window.Color=i.Color},{"./console/console.js":197,"./datastructures/datastructuresbase.js":198,"./graphics/graphicsbase.js":208,"./keyboard/keyboard.js":222}],222:[function(e,t,n){"use strict";var i={};(i={LEFT:37,UP:38,RIGHT:39,DOWN:40,ENTER:13,SHIFT:16,SPACE:32,BACKSPACE:8,TAB:9,CTRL:17,ALT:18,CAPS_LOCK:20,LEFT_COMMAND:91,LEFT_WINDOW:91,RIGHT_WINDOW:92,RIGHT_COMMAND:93,SELECT:93}).digit=function(e){return(e%=10)+48},i.letter=function(e){return 0===e.length?null:e.toUpperCase().charCodeAt(0)},i.nonEditingKeys=[i.LEFT,i.RIGHT,i.UP,i.DOWN,i.CTRL,i.SHIFT,i.ALT,i.CAPS_LOCK,i.LEFT_COMMAND,i.RIGHT_COMMAND,i.SELECT,i.LEFT_WINDOW,i.RIGHT_WINDOW],i.isEditingKey=function(e){return-1===i.nonEditingKeys.indexOf(e)},t.exports=i},{}],223:[function(e,t,n){window.jslint=function(){"use strict";function e(){return Object.create(null)}function t(e,t,n){t.forEach((function(t){e[t]=n}))}var n={bitwise:!0,browser:["Audio","clearInterval","clearTimeout","document","event","FormData","frames","history","Image","localStorage","location","name","navigator","Option","parent","screen","sessionStorage","setInterval","setTimeout","Storage","XMLHttpRequest"],couch:["emit","getRow","isArray","log","provides","registerType","require","send","start","sum","toJSON"],devel:["alert","confirm","console","Debug","opera","prompt","WSH"],es6:["ArrayBuffer","DataView","Float32Array","Float64Array","Generator","GeneratorFunction","Int8Array","Int16Array","Int32Array","Intl","Map","Promise","Proxy","Reflect","Set","Symbol","System","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","WeakSet"],eval:!0,for:!0,fudge:!0,maxerr:1e4,maxlen:1e4,node:["Buffer","clearImmediate","clearInterval","clearTimeout","console","exports","global","module","process","require","setImmediate","setInterval","setTimeout","__dirname","__filename"],this:!0,white:!0},i={"!=":!0,"!==":!0,"%":!0,"%=":!0,"^":!0,"^=":!0,"&":!0,"&=":!0,"&&":!0,"*":!0,"*=":!0,"-=":!0,"+=":!0,"=":!0,"=>":!0,"==":!0,"===":!0,"|":!0,"|=":!0,"||":!0,"<":!0,"<=":!0,"<<":!0,"<<=":!0,">":!0,">=":!0,">>":!0,">>=":!0,">>>":!0,">>>=":!0},r={"~":!0,"^":!0,"^=":!0,"&":!0,"&=":!0,"|":!0,"|=":!0,"<<":!0,"<<=":!0,">>":!0,">>=":!0,">>>":!0,">>>=":!0},o={"(":")","[":"]","{":"}","${":"}"},a={"!=":!0,"!==":!0,"==":!0,"===":!0,"<":!0,"<=":!0,">":!0,">=":!0},s=["Array","Boolean","Date","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","Error","EvalError","Function","isFinite","isNaN","JSON","Math","Number","Object","parseInt","parseFloat","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError"],u={and:"The '&&' subexpression should be wrapped in parens.",bad_assignment_a:"Bad assignment to '{a}'.",bad_character_number_a:"Bad character code: '{a}'",bad_get:"A get function takes no parameters.",bad_module_name_a:"Bad module name '{a}'.",bad_option_a:"Bad option '{a}'.",bad_property_a:"Bad property name '{a}'.",bad_set:"A set function takes one parameter.",duplicate_a:"Duplicate '{a}'.",empty_block:"Empty block.",es6:"Unexpected ES6 feature.",expected_a_at_b_c:"Expected '{a}' at column {b}, not column {c}.",expected_a_b:"Expected '{a}' and instead saw '{b}'.",expected_a_b_from_c_d:"Expected '{a}' to match '{b}' from line {c} and instead saw '{d}'.",expected_a_before_b:"Expected '{a}' before '{b}'.",expected_digits_after_a:"Expected digits after '{a}'.",expected_four_digits:"Expected four digits after '\\u'.",expected_identifier_a:"Expected an identifier and instead saw '{a}'.",expected_line_break_a_b:"Expected a line break between '{a}' and '{b}'.",expected_regexp_factor_a:"Expected a regexp factor and instead saw '{a}'.",expected_space_a_b:"Expected one space between '{a}' and '{b}'.",expected_string_a:"Expected a string and instead saw '{a}'.",expected_type_string_a:"Expected a type string and instead saw '{a}'.",function_in_loop:"Don't make functions within a loop.",infix_in:"Unexpected 'in'. Compare with undefined, or use the hasOwnProperty method instead.",isNaN:"Use the isNaN function to compare with NaN.",label_a:"'{a}' is a statement label.",misplaced_a:"Place '{a}' at the outermost level.",misplaced_directive_a:"Place the '/*{a}*/' directive before the first statement.",naked_block:"Naked block.",nested_comment:"Nested comment.",not_label_a:"'{a}' is not a label.",out_of_scope_a:"'{a}' is out of scope.",redefinition_a_b:"Redefinition of '{a}' from line {b}.",reserved_a:"Reserved name '{a}'.",slash_equal:"A regular expression literal can be confused with '/='.",stopping:"Stopping.",subscript_a:"['{a}'] is better written in dot notation.",todo_comment:"Unexpected TODO comment.",too_long:"Line too long.",too_many:"Too many warnings.",unclosed_comment:"Unclosed comment.",unclosed_mega:"Unclosed mega literal.",unclosed_string:"Unclosed string.",undeclared_a:"Undeclared '{a}'.",unexpected_a:"Unexpected '{a}'.",unexpected_a_after_b:"Unexpected '{a}' after '{b}'.",unexpected_at_top_level_a:"Unexpected '{a}' at top level.",unexpected_char_a:"Unexpected character '{a}'.",unexpected_comment:"Unexpected comment.",unexpected_directive_a:"When using modules, don't use directive '/*{a}'.",unexpected_expression_a:"Unexpected expression '{a}' in statement position.",unexpected_label_a:"Unexpected label '{a}'.",unexpected_quotes_a:"Quotes are not needed around '{a}'.",unexpected_parens:"Don't wrap function literals in parens.",unexpected_space_a_b:"Unexpected space between '{a}' and '{b}'.",unexpected_statement_a:"Unexpected statement '{a}' in expression position.",unexpected_trailing_space:"Unexpected trailing space.",unexpected_typeof_a:"Unexpected 'typeof'. Use '===' to compare directly with {a}.",uninitialized_a:"Uninitialized '{a}'.",unreachable_a:"Unreachable '{a}'.",unregistered_property_a:"Unregistered property name '{a}'.",unsafe:"Unsafe character '{a}'.",unused_a:"Unused '{a}'.",use_spaces:"Use spaces, not tabs.",var_loop:"Don't declare variables in a loop.",var_switch:"Don't declare variables in a switch.",weird_condition_a:"Weird condition '{a}'.",weird_expression_a:"Weird expression '{a}'.",weird_loop:"Weird loop.",weird_relation_a:"Weird relation '{a}'.",wrap_immediate:"Wrap an immediate function invocation in parentheses to assist the reader in understanding that the expression is the result of a function, and not the function itself.",wrap_regexp:"Wrap this regexp in parens to avoid confusion."},l=/\{([^{}]*)\}/g,c=/\n|\r\n?/,d=/[\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/,p=/^([a-zA-Z_$][a-zA-Z0-9_$]*)$/,h=/^_|\$|Sync$|_$/,f=/[a-zA-Z0-9]/,m=/\*\//,g=/\/\*/,y=/\/\*|\/$/,v=/\b(?:todo|TO\s?DO|HACK)\b/,_=/\t/g,b=/^(jslint|property|global)\s*(.*)$/,w=/^([a-zA-Z$_][a-zA-Z0-9$_]*)\s*(?::\s*(true|false|[0-9]+)\s*)?(?:,\s*)?(.*)$/,E=/^((\s+)|([a-zA-Z_$][a-zA-Z0-9_$]*)|[(){}\[\]\?,:;'"~`]|=(?:==?|>)?|\.+|\/[=*\/]?|\*[\/=]?|\+(?:=|\++)?|-(?:=|-+)?|[\^%]=?|&[&=]?|\|[\|=]?|>{1,3}=?|<<?=?|!={0,2}|(0|[1-9][0-9]*))(.*)$/,S=/^([0-9]+)(.*)$/,T=/^([0-9a-fA-F]+)(.*)$/,C=/^([0-7]+)(.*)$/,x=/^([01]+)(.*)$/,A=/`|\$\{/,k=/^(.*)\?([:.]*)$/,I=/\.$/,D=/^-?\d+(?:\.\d*)?(?:e[\-+]?\d+)?$/i;var O,P,N,R,L,M,F,j,B,U,H,$,G,q,V,z,W,K,Y,J,X,Q,Z,ee,te,ne,ie,re,oe="anonymous";function ae(e){return void 0===e&&(e=V),"(string)"===e.id||"(number)"===e.id?String(e.value):e.id}function se(e,t,n,i,r,o,a){var s,c={name:"JSLintError",column:n,line:t,code:e};return void 0!==i&&(c.a=i),void 0!==r&&(c.b=r),void 0!==o&&(c.c=o),void 0!==a&&(c.d=a),c.message=(s=c,(u[e]||e).replace(l,(function(e,t){var n=s[t];return void 0!==n?n:e}))),ie.push(c),"number"==typeof z.maxerr&&ie.length===z.maxerr?ue("too_many",t,n):c}function ue(e,t,n,i,r,o,a){throw se(e,t,n,i,r,o,a),se("stopping",t,n)}function le(e,t,n,i,r,o){if(void 0===t&&(t=V),void 0===t.warning)return t.warning=se(e,t.line,t.from,n||ae(t),i,r,o),t.warning}function ce(e,t,n,i,r,o){throw void 0===t&&(t=V),t.warning=void 0,le(e,t,n,i,r,o),t.warning=void 0,le("stopping",t,n,i,r,o)}function de(i){G=Array.isArray(i)?i:i.split(c),Z=[];var r,o,a,s,u,l,p=0,h=-1,f=U,k=U;function I(){var e;return p=0,void 0!==(l=G[h+=1])&&((e=l.search(_))>=0&&(z.white||se("use_spaces",h,e+1),l=l.replace(_," ")),(e=l.search(d))>=0&&se("unsafe",h,p+e,"U+"+l.charCodeAt(e).toString(16)),z.maxlen&&z.maxlen<l.length?se("too_long",h,l.length):z.white||" "!==l.slice(-1)||se("unexpected_trailing_space",h,l.length-1)),l}function D(){u=u.slice(0,-1)}function O(e){return void 0!==e&&r!==e?ue("expected_a_b",h,p,e,r):(l?(r=l.charAt(0),l=l.slice(1),u+=r):(r="",u+=" "),p+=1,r)}function P(){return u?(r=u.slice(-1),l=r+l,p-=1,D()):r="",r}function L(e,t){var n=l.match(e);return n?(r=n[1],p+=r.length,l=n[2],u+=r):(r="",t||se("expected_digits_after_a",h,p,u)),r.length}function M(e){switch(O("\\")){case"\\":case"'":case'"':case"/":case":":case"=":case"|":case"b":case"f":case"n":case"r":case"t":case" ":break;case"u":if("{"===O("u"))return L(T)>5&&se("too_many_digits",h,p-1),z.es6||se("es6",h,p),void("}"!==O()&&ue("expected_a_before_b",h,p,"}",r));P(),L(T,!0)<4&&se("expected_four_digits",h,p-1);break;case"":return ue("unclosed_string",h,p);default:e&&e.indexOf(r)<0&&se("unexpected_a_after_b",h,p,r,"\\")}O()}function F(e,t,n){var i={id:e,identifier:!!n,from:o,thru:p,line:h};return Z.push(i),"(comment)"!==e&&(R=!1),void 0!==t&&(i.value=t),f.line!==h||f.thru!==o||"(comment)"!==e&&"(regexp)"!==e&&"/"!==e||"(comment)"!==f.id&&"(regexp)"!==f.id||le("expected_space_a_b",i,ae(f),ae(i)),"."===f.id&&"(number)"===e&&le("expected_a_before_b",f,"0","."),"."===k.id&&i.identifier&&(i.dot=!0),"(comment)"!==(f=i).id&&(k=f),i}function j(i,r){var o=r.match(w);if(o){var a,s=o[1],u=o[2];switch(i.directive){case"jslint":switch(typeof(a=n[s])){case"boolean":switch(u){case"true":case"":case void 0:z[s]=!0;break;case"false":z[s]=!1;break;default:le("bad_option_a",i,s+":"+u)}break;case"number":isFinite(+u)?z[s]=+u:le("bad_option_a",i,s+":"+u);break;case"object":z[s]=!0,t(N,a,!1);break;default:le("bad_option_a",i,s)}break;case"property":void 0===ee&&(ee=e()),ee[s]=!0;break;case"global":u&&le("bad_option_a",i,s+":"+u),N[s]=!1,q=i}return j(i,o[3])}if(r)return ce("bad_directive_a",i,r)}function B(e){var t=F("(comment)",e);$&&le("unexpected_comment",t),Array.isArray(e)&&(e=e.join(" ")),!z.devel&&v.test(e)&&le("todo_comment",t);var n=e.match(b);return n&&(R?(t.directive=n[1],j(t,n[2])):se("misplaced_directive_a",h,o,n[1])),t}function H(){var t,n;function i(){switch(r){case"\\":return M(),!0;case"[":case"]":case"/":case"^":case"-":case"|":case"":return!1;case"`":return K&&se("unexpected_a",h,p,"`"),O(),!0;case" ":return se("expected_a_before_b",h,p,"\\"," "),O(),!0;default:return O(),!0}}function a(){if(i())return"-"!==r||(O("-"),i())?a():ue("unexpected_a",h,p-1,"-")}function s(){O("["),"^"===r&&O("^"),a(),O("]")}u="",O(),"="===r&&se("expected_a_before_b",h,p,"\\","="),function e(){function t(){switch(r){case"[":return s(),!0;case"\\":return M("BbDdSsWw^${}[]().|*+?"),!0;case"(":return function(){if(O("("),"?"===r)switch(O("?"),r){case":":case"=":case"!":O();break;default:O(":")}else":"===r&&se("expected_a_before_b",h,p,"?",":");e(),O(")")}(),!0;case"/":case"|":case"]":case")":case"}":case"{":case"?":case"+":case"*":case"":return!1;case"`":K&&se("unexpected_a",h,p,"`");break;case" ":se("expected_a_before_b",h,p,"\\"," ")}return O(),!0}if(function e(n){if(t())return function(){switch(r){case"?":case"*":case"+":O();break;case"{":0===L(S,!0)&&se("expected_a",h,p,"0"),","===O()&&(L(S,!0),O()),O("}");break;default:return}"?"===r&&O("?")}(),e(!0);n||se("expected_regexp_factor_a",h,p,r)}(),"|"===r)return O("|"),e()}(),D(),n=u,O("/");var l={g:!0,i:!0,m:!0,u:false,y:z.es6},c=e();return function e(){if(function(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"}(r))return!0!==l[r]&&se("unexpected_a",h,p,r),l[r]=!1,c[r]=!0,O(),e()}(),P(),"/"===r||"*"===r?ue("unexpected_a",h,o,r):((t=F("(regexp)",r)).flag=c,t.value=n,t)}function V(e){var t;return u="",O(),function n(){switch(r){case e:return D(),(t=F("(string)",u)).quote=e,t;case"\\":M();break;case"":return ue("unclosed_string",h,p);case"`":K&&se("unexpected_a",h,p,"`"),O("`");break;default:O()}return n()}()}function W(){"."===r&&(L(S),O()),"E"!==r&&"e"!==r||(O(),"+"!==r&&"-"!==r&&P(),L(S),O())}function Y(){var e,t,n,i,c,d;if(!l)return l=I(),o=0,void 0===l?K?ue("unclosed_mega",s,a):F("(end)"):Y();if(o=p,!(c=l.match(E)))return ue("unexpected_char_a",h,p,l.charAt(0));if(u=c[1],p+=u.length,l=c[5],c[2])return Y();if(c[3])return F(u,void 0,!0);if(c[4])return function(){if("0"===u)switch(O()){case".":W();break;case"b":L(x),O();break;case"o":L(C),O();break;case"x":L(T),O()}else O(),W();return r>="0"&&r<="9"||r>="a"&&r<="z"||r>="A"&&r<="Z"?ue("unexpected_a_after_b",h,p-1,u.slice(-1),u.slice(0,-1)):(P(),F("(number)",u))}();switch(u){case"'":return $&&se("unexpected_a",h,p,"'"),V("'");case'"':return V('"');case"`":return K?ue("expected_a_b",h,p,"}","`"):(u="",a=o,s=h,K=!0,F("`"),o+=1,function e(){var t=l.search(A);return t<0?(u+=l+"\n",void 0===I()?ue("unclosed_mega",s,a):e()):(u+=l.slice(0,t),p+=t,l=l.slice(t),F("(string)",u).quote="`",u="","$"===l.charAt(0)?(p+=2,F("${"),l=l.slice(2),function e(){var t=Y().id;return"{"===t?ue("expected_a_b",h,p,"}","{"):"}"!==t?e():void 0}(),e()):void 0)}(),l=l.slice(1),p+=1,K=!1,F("`"));case"//":return u=l,l="",d=B(u),K&&le("unexpected_comment",d,"`"),d;case"/*":return e=[],"/"===l.charAt(0)&&se("unexpected_a",h,p+t,"/"),function i(){if(l>""){if((t=l.search(m))>=0)return;(n=l.search(g))>=0&&se("nested_comment",h,p+n)}return e.push(l),void 0===(l=I())?ue("unclosed_comment",h,p):i()}(),u=l.slice(0,t),(n=u.search(y))>=0&&se("nested_comment",h,p+n),e.push(u),p+=t+2,l=l.slice(t+2),B(e);case"/":if(k.identifier){if(!k.dot)switch(k.id){case"return":return H();case"(begin)":case"case":case"delete":case"in":case"instanceof":case"new":case"typeof":case"void":case"yield":return ce("unexpected_a",d=H())}}else{if(i=k.id.charAt(k.id.length-1),"(,=:?[".indexOf(i)>=0)return H();if("!&|{};~+-*%/^<>".indexOf(i)>=0)return le("wrap_regexp",d=H()),d}"/"===l.charAt(0)&&(p+=1,l=l.slice(1),u="/=",se("unexpected_a",h,p,"/="))}return F(u)}for(;"(end)"!==Y().id;);}function pe(e){var t=e.id;if("(string)"===t){if(t=e.value,!p.test(t))return t;if(!f.test(t))return t;le("unexpected_quotes_a",e)}else if(!e.identifier)return ce("expected_identifier_a",e);return"number"==typeof W[t]?W[t]+=1:(void 0!==ee?!0!==ee[t]&&le("unregistered_property_a",e):e.identifier&&h.test(t)&&le("bad_property_a",e),W[t]=1),t}function he(){var e=Z[Q];return Q+=1,"(comment)"===e.id?he():e}function fe(e,t){if(X.identifier&&"function"!==X.id?oe=X.id:"(string)"===X.id&&p.test(X.value)&&(oe=X.value),void 0!==e&&V.id!==e)return void 0===t?ce("expected_a_b",V,e,ae()):ce("expected_a_b_from_c_d",V,e,ae(t),(void 0===(n=t)&&(n=V),n.line+F),ae(V));var n;X=V,"(end)"===(V=he()).id&&(Q-=1)}function me(){switch(V.id){case"{":n=V,i=e(),fe("{"),"}"!==V.id&&function e(){if(fe("(string)"),void 0!==i[X.value]?le("duplicate_a",X):"__proto__"===X.value?le("bad_property_name_a",X):i[X.value]=X,fe(":"),me(),","===V.id)return fe(","),e()}(),fe("}",n);break;case"[":t=V,fe("["),"]"!==V.id&&function e(){if(me(),","===V.id)return fe(","),e()}(),fe("]",t);break;case"true":case"false":case"null":case"(string)":fe();break;case"(number)":D.test(V.value)||le("unexpected_a"),fe();break;case"-":fe("-"),fe("(number)");break;default:ce("unexpected_a")}var t,n,i}function ge(e,t,n){var i=e.id;if(void 0!==J[i]&&"ignore"!==i)le("reserved_a",e);else{var r=j.context[i];r?le("redefinition_a_b",e,e.id,r.line+F):(Y.forEach((function(e){var t=e.context[i];void 0!==t&&(r=t)})),r&&("ignore"===i?"variable"===r.role&&le("unexpected_a",e):"exception"===t&&"exception"===r.role||"parameter"===t||"function"===t||le("redefinition_a_b",e,e.id,r.line+F)),j.context[i]=e,e.dead=!0,e.function=j,e.init=!1,e.role=t,e.used=0,e.writable=!n)}}function ye(e,t){var n,i;if(t||fe(),void 0!==(i=J[X.id])&&void 0!==i.nud)n=i.nud();else{if(!X.identifier)return ce("unexpected_a",X);(n=X).arity="variable"}return function t(){if(void 0!==(i=J[V.id])&&void 0!==i.led&&e<i.lbp)return fe(),n=i.led(n),t()}(),n}function ve(){var e,t=V;switch(t.free=!0,fe("("),e=ye(0),fe(")"),!0===e.wrapped&&le("unexpected_a",t),e.id){case"?":case"~":case"&":case"|":case"^":case"<<":case">>":case">>>":case"+":case"-":case"*":case"/":case"%":case"typeof":case"(number)":case"(string)":le("unexpected_a",e)}return e}function _e(){";"===V.id?fe(";"):se("expected_a_b",X.line,X.thru,";",ae(V)),oe="anonymous"}function be(){var e,t,n,i;if(fe(),X.identifier&&":"===V.id)switch("ignore"===(t=X).id&&le("unexpected_a",t),fe(":"),V.id){case"do":case"for":case"switch":case"while":return ge(t,"label",!0),t.init=!0,t.dead=!1,(n=be()).label=t,n.statement=!0,n;default:fe(),le("unexpected_label_a",t)}return(e=X).statement=!0,void 0!==(i=J[e.id])&&void 0!==i.fud?(i.disrupt=!1,i.statement=!0,n=i.fud()):(!(n=ye(0,!0)).wrapped||"("===n.id&&"function"===n.expression[0].id||le("unexpected_a",e),_e()),void 0!==t&&(t.dead=!0),n}function we(){var e=[];return function t(n){var i;switch(V.id){case"}":case"case":case"default":case"else":case"(end)":break;default:return i=be(),e.push(i),n&&le("unreachable_a",i),t(i.disrupt)}}(!1),e}function Ee(e){j===U&&le("unexpected_at_top_level_a",e)}function Se(e){O!==U&&le("misplaced_a",e)}function Te(e){var t,n;return"naked"!==e&&fe("{"),(n=X).arity="statement",n.body="body"===e,n.body&&Y.length<=1&&!U.strict&&("(string)"===V.id||"use strict"===V.value?(V.statement=!0,j.strict=!0,fe("(string)"),fe(";")):le("expected_a_before_b",V,"`"===V.id?"'":"use strict",ae(V))),t=we(),n.block=t,0===t.length?(z.devel||"ignore"===e||le("empty_block",n),n.disrupt=!1):n.disrupt=t[t.length-1].disrupt,fe("}"),n}function Ce(e){return"."===e.id||"["===e.id&&"binary"===e.arity||"variable"===e.arity||(le("bad_assignment_a",e),!1)}function xe(e,t){var n=e.id;return!(!e.identifier&&("binary"!==e.arity||"."!==n&&"("!==n&&"["!==n))||(le("unexpected_a",t),!1)}function Ae(t,n){var i=J[t];return void 0===i&&((i=e()).id=t,i.lbp=n||0,J[t]=i),i}function ke(e){var t=Ae(e,20);return t.led=function(t){var n,i=X;switch(i.arity="assignment",n=ye(19),"="===e&&"variable"===t.arity?(i.names=t,i.expression=n):i.expression=[t,n],n.arity){case"assignment":case"pre":case"post":le("unexpected_a",n)}return!z.es6||"unary"!==t.arity||"["!==t.id&&"{"!==t.id?Ce(t):le("expected_a_before_b",t,"const",t.id),i},t}function Ie(e,t,n){var i=Ae(e);return i.nud="function"==typeof n?n:function(){return X.constant=!0,void 0!==n&&(X.value=n),X},i.type=t,i.value=n,i}function De(e,t,n){var i=Ae(e,t);return i.led=function(e){var i=X;return i.arity="binary",void 0!==n?n(e):(i.expression=[e,ye(t)],i)},i}function Oe(e){var t=Ae(e,150);return t.led=function(e){return X.expression=e,X.arity="post",Ce(X.expression),X},t}function Pe(e){var t=Ae(e);return t.nud=function(){var e=X;return e.arity="pre",e.expression=ye(150),Ce(e.expression),e},t}function Ne(e,t){var n=Ae(e);return n.nud=function(){var e=X;return e.arity="unary","function"==typeof t?t():(e.expression=ye(150),e)},n}function Re(e,t){var n=Ae(e);return n.fud=function(){return X.arity="statement",t()},n}function Le(){var e=X;return z.es6||le("es6",e),e.value=[],e.expression=[],"`"!==V.id&&function t(){if(fe("(string)"),e.value.push(X),"${"===V.id)return fe("${"),e.expression.push(ye(0)),fe("}"),t()}(),fe("`"),e}function Me(e,t){var n,i=!1;if("{"===V.id){if(z.es6||le("es6"),(n=V).names=[],fe("{"),t.push("{"),function e(){var i=V;return i.identifier?(pe(i),fe(),t.push(i.id),":"!==V.id||(fe(":"),fe(),X.label=i,(i=X).identifier)?(n.names.push(i),","===V.id?(fe(","),t.push(", "),e()):void 0):ce("expected_identifier_a")):ce("expected_identifier_a")}(),e.push(n),fe("}"),t.push("}"),","===V.id)return fe(","),t.push(", "),Me(e,t)}else if("["===V.id){if(z.es6||le("es6"),(n=V).names=[],fe("["),t.push("[]"),function e(){var t=V;return t.identifier?(fe(),n.names.push(t),","===V.id?(fe(","),e()):void 0):ce("expected_identifier_a")}(),e.push(n),fe("]"),","===V.id)return fe(","),t.push(", "),Me(e,t)}else{if("..."===V.id&&(z.es6||le("es6"),i=!0,t.push("..."),fe("...")),!V.identifier)return ce("expected_identifier_a");if(n=V,e.push(n),fe(),t.push(n.id),i)n.ellipsis=!0;else if("="===V.id&&(z.es6||le("es6"),fe("="),n.expression=ye(0)),","===V.id)return fe(","),t.push(", "),Me(e,t)}}function Fe(){var e=[],t=["("];return")"!==V.id&&"(end)"!==V.id&&Me(e,t),fe(")"),t.push(")"),[e,t.join("")]}function je(t){var n;if(void 0===t)if("statement"===(t=X).arity){if(!V.identifier)return ce("expected_identifier_a",V);ge(n=V,"variable",!0),t.name=n,n.init=!0,n.calls=e(),fe()}else void 0===n&&(V.identifier?(n=V,t.name=n,fe()):t.name=oe);else n=t.name;t.level=j.level+1,K&&le("unexpected_a",t),j.loop>0&&le("function_in_loop",t),t.context=e(),t.loop=0,t.switch=0,Y.push(j),B.push(t),j=t,"statement"!==t.arity&&n&&(ge(n,"function",!0),n.dead=!1,n.init=!0,n.used=1),fe("("),X.free=!1,X.arity="function";var i=Fe();return j.parameters=i[0],j.signature=i[1],j.parameters.forEach((function e(t){t.identifier?ge(t,"parameter",!1):t.names.forEach(e)})),t.block=Te("body"),"statement"===t.arity&&V.line===X.line?ce("unexpected_a",V):("."!==V.id&&"["!==V.id||le("unexpected_a"),j=Y.pop(),t)}function Be(t){fe("=>");var n=X;return n.arity="binary",n.name="=>",n.level=j.level+1,B.push(n),j.loop>0&&le("function_in_loop",n),n.context=e(),n.loop=0,n.switch=0,Y.push(j),j=n,n.parameters=t[0],n.signature=t[1],n.parameters.forEach((function(e){ge(e,"parameter",!0)})),z.es6||le("es6",n),"{"===V.id?(le("expected_a_b",n,"function","=>"),n.block=Te("body")):n.expression=ye(0),j=Y.pop(),n}function Ue(){var e=X,t="const"===e.id;return e.names=[],t?z.es6||le("es6",e):void 0===ne?(ne=e.id,z.es6||"var"===ne||le("es6",e)):e.id!==ne&&le("expected_a_b",e,ne,e.id),j.switch>0&&le("var_switch",e),j.loop>0&&"var"===e.id&&le("var_loop",e),function n(){if("{"===V.id&&"var"!==e.id){var i=V;i.names=[],fe("{"),function e(){if(!V.identifier)return ce("expected_identifier_a",V);var n=V;if(pe(n),fe(),":"===V.id){if(fe(":"),!V.identifier)return ce("expected_identifier_a",V);V.label=n,i.names.push(V),ge(V,"variable",t),fe()}else i.names.push(n),ge(n,"variable",t);return","===V.id?(fe(","),e()):void 0}(),fe("}"),fe("="),i.expression=ye(0),e.names.push(i)}else if("["===V.id&&"var"!==e.id){var r=V;r.names=[],fe("["),function t(){var n;if("..."===V.id&&(n=!0,fe("...")),!V.identifier)return ce("expected_identifier_a",V);var i=V;if(fe(),r.names.push(i),ge(i,"variable","const"===e.id),n)i.ellipsis=!0;else if(","===V.id)return fe(","),t()}(),fe("]"),fe("="),r.expression=ye(0),e.names.push(r)}else{if(!V.identifier)return ce("expected_identifier_a",V);var o=V;fe(),"ignore"===o.id&&le("unexpected_a",o),ge(o,"variable",t),("="===V.id||t)&&(fe("="),o.expression=ye(0),o.init=!0),e.names.push(o)}if(","===V.id)return fe(","),n()}(),e.open=e.names.length>1&&e.line!==e.names[1].line,_e(),e}function He(t){return function(n,i,r){var o,a=t[n];"string"!=typeof i&&(r=i,i="(all)"),void 0===a&&(a=e(),t[n]=a),void 0===(o=a[i])&&(o=[],a[i]=o),o.push(r)}}function $e(e){return function(t){var n,i=e[t.arity];void 0!==i&&(void 0!==(n=i[t.id])&&n.forEach((function(e){return e(t)})),void 0!==(n=i["(all)"])&&n.forEach((function(e){return e(t)})))}}J=e(),Ae("}"),Ae(")"),Ae("]"),Ae(","),Ae(";"),Ae(":"),Ae("*/"),Ae("await"),Ae("case"),Ae("catch"),Ae("class"),Ae("default"),Ae("else"),Ae("enum"),Ae("finally"),Ae("implements"),Ae("interface"),Ae("package"),Ae("private"),Ae("protected"),Ae("public"),Ae("static"),Ae("super"),Ae("void"),Ae("with"),Ae("yield"),Ie("(number)","number"),Ie("(regexp)","regexp"),Ie("(string)","string"),Ie("arguments","object",(function(){return le("unexpected_a",X),X})),Ie("eval","function",(function(){return z.eval?"("!==V.id&&le("expected_a_before_b",V,"(",ae()):le("unexpected_a",X),X})),Ie("false","boolean",!1),Ie("ignore","undefined",(function(){return le("unexpected_a",X),X})),Ie("Infinity","number",1/0),Ie("NaN","number",NaN),Ie("null","null",null),Ie("this","object",(function(){return z.this||le("unexpected_a",X),X})),Ie("true","boolean",!0),Ie("undefined","undefined"),ke("="),ke("+="),ke("-="),ke("*="),ke("/="),ke("%="),ke("&="),ke("|="),ke("^="),ke("<<="),ke(">>="),ke(">>>="),De("||",40),De("&&",50),De("|",70),De("^",80),De("&",90),De("==",100),De("===",100),De("!=",100),De("!==",100),De("<",110),De(">",110),De("<=",110),De(">=",110),De("in",110),De("instanceof",110),De("<<",120),De(">>",120),De(">>>",120),De("+",130),De("-",130),De("*",140),De("/",140),De("%",140),De("(",160,(function(e){var t,n=X;return"function"!==e.id&&xe(e,n),n.free=!1,n.expression=[e],e.identifier&&(e.new?e.id.charAt(0)>"Z"||"Boolean"===e.id||"Number"===e.id||"String"===e.id||"Symbol"===e.id&&z.es6?le("unexpected_a",e,"new"):"Function"===e.id?z.eval||le("unexpected_a",e,"new Function"):"Array"===e.id?le("expected_a_b",e,"[]","new Array"):"Object"===e.id&&le("expected_a_b",e,"Object.create(null)","new Object"):(e.id.charAt(0)>="A"&&e.id.charAt(0)<="Z"&&"Boolean"!==e.id&&"Number"!==e.id&&"String"!==e.id&&"Symbol"!==e.id&&le("expected_a_before_b",e,"new",ae(e)),"statement"===j.arity&&(j.name.calls[e.id]=e))),")"!==V.id&&function e(){if(t=ye(10),n.expression.push(t),","===V.id)return fe(","),e()}(),fe(")",n),2===n.expression.length&&(!0===t.wrapped&&le("unexpected_a",n),"("===t.id&&(t.wrapped=!0)),n})),De(".",170,(function(e){var t=X,n=V;return"(string)"===e.id&&"indexOf"===n.id||"["===e.id&&("concat"===n.id||"forEach"===n.id)||"+"===e.id&&"slice"===n.id||"(regexp)"===e.id&&("exec"===n.id||"test"===n.id)||xe(e,t),n.identifier||ce("expected_identifier_a"),fe(),pe(n),t.name=n,t.expression=e,t})),De("[",170,(function(e){var t=X,n=ye(0);return"(string)"===n.id&&p.test(n.value)?(le("subscript_a",n),pe(n)):"`"===n.id&&le("unexpected_a",n),xe(e,t),t.expression=[e,n],fe("]"),t})),De("=>",170,(function(e){return ce("expected_a_before_b",e,"(",ae(e))})),De("`",160,(function(e){var t=Le();return xe(e,t),t.expression=[e].concat(t.expression),t})),Oe("++"),Oe("--"),Pe("++"),Pe("--"),Ne("+"),Ne("-"),Ne("~"),Ne("!"),Ne("!!"),Ne("[",(function(){var e=X;return e.expression=[],"]"!==V.id&&function t(){if(e.expression.push(ye(10)),","===V.id)return fe(","),t()}(),fe("]"),e})),Ne("/=",(function(){ce("expected_a_b",X,"/\\=","/=")})),Ne("=>",(function(){return ce("expected_a_before_b",X,"()","=>")})),Ne("new",(function(){var e=X;return V.new=!0,e.expression=ye(150),"("!==e.expression.id&&le("expected_a_before_b",V,"()",ae(V)),e})),Ne("typeof"),Ne("void",(function(){var e=X;return le("unexpected_a",e),e.expression=ye(0),e})),Ne("function",je),Ne("(",(function(){var e,t=X,n=function(){var e=Q,t=he();return Q=e,t}().id;return")"===V.id||"..."===V.id||V.identifier&&(","===n||"="===n)?(t.free=!1,Be(Fe())):(t.free=!0,!0===(e=ye(0)).wrapped&&le("unexpected_a",t),e.wrapped=!0,fe(")",t),"=>"===V.id?"variable"!==e.arity?ce("expected_identifier_a",e):(t.expression=[e],Be([t.expression,"("+e.id+")"])):e)})),Ne("`",Le),Ne("{",(function(){var t=X,n=e();return t.expression=[],"}"!==V.id&&function e(){var i,r,o=!0,a=V;if(fe(),"get"!==a.id&&"set"!==a.id||!V.identifier||(o=a.id,a=V,fe()),i=pe(a),!0===n[i]?le("duplicate_a",a):"get"===n[i]&&"set"!==o&&le("expected_a_before_b",a,"set",ae(a)),n[i]="get"!==o||"get",a.identifier){switch(V.id){case"}":case",":z.es6?!0!==o&&fe(":"):le("es6"),a.arity="variable",r=a;break;case"(":z.es6||le("es6"),r=je({arity:"unary",from:a.from,id:"function",line:a.line,name:a,thru:a.from});break;default:fe(":"),r=ye(0)}r.label=a,"string"==typeof o&&(r.extra=o),t.expression.push(r)}else fe(":"),(r=ye(0)).label=a,t.expression.push(r);if(","===V.id)return fe(","),e()}(),fe("}"),t})),Re(";",(function(){return le("unexpected_a",X),X})),Re("{",(function(){return le("naked_block",X),Te("naked")})),Re("break",(function(){var e,t=X;return j.loop<1&&j.switch<1&&le("unexpected_a",t),t.disrupt=!0,V.identifier&&X.line===V.line&&(void 0===(e=j.context[V.id])||"label"!==e.role||e.dead?le(void 0!==e&&e.dead?"out_of_scope_a":"not_label_a"):e.used+=1,t.label=V,fe()),fe(";"),t})),Re("const",Ue),Re("continue",(function(){var e=X;return j.loop<1&&le("unexpected_a",e),Ee(e),e.disrupt=!0,le("unexpected_a",e),fe(";"),e})),Re("debugger",(function(){var e=X;return z.devel||le("unexpected_a",e),_e(),e})),Re("delete",(function(){var e=X,t=ye(0);return("."!==t.id&&"["!==t.id||"binary"!==t.arity)&&ce("expected_a_b",t,".",ae(t)),e.expression=t,_e(),e})),Re("do",(function(){var e=X;return Ee(e),j.loop+=1,e.block=Te(),fe("while"),e.expression=ve(),_e(),!0===e.block.disrupt&&le("weird_loop",e),j.loop-=1,e})),Re("export",(function(){var e=X;return M&&le("es6",e),z.es6||le("es6",e),"object"==typeof q&&le("unexpected_directive_a",q,q.directive),q=!0,fe("default"),e.expression=ye(0),_e(),e})),Re("for",(function(){var e,t=X;return z.for||le("unexpected_a",t),Ee(t),j.loop+=1,fe("("),X.free=!0,";"===V.id?ce("expected_a_b",t,"while (","for (;"):"var"===V.id||"let"===V.id||"const"===V.id?ce("unexpected_a"):("in"===(e=ye(0)).id?("variable"!==e.expression[0].arity&&le("bad_assignment_a",e.expression[0]),t.name=e.expression[0],t.expression=e.expression[1],le("expected_a_b",t,"Object.keys","for in")):(t.initial=e,fe(";"),t.expression=ye(0),fe(";"),t.inc=ye(0),"++"===t.inc.id&&le("expected_a_b",t.inc,"+= 1","++")),fe(")"),t.block=Te(),!0===t.block.disrupt&&le("weird_loop",t),j.loop-=1,t)})),Re("function",je),Re("if",(function(){var e,t=X;return t.expression=ve(),t.block=Te(),"else"===V.id&&(fe("else"),e=X,t.else="if"===V.id?be():Te(),!0===t.block.disrupt&&(!0===t.else.disrupt?t.disrupt=!0:le("unexpected_a",e))),t})),Re("import",(function(){var e=X;if(z.es6?"object"==typeof q&&le("unexpected_directive_a",q,q.directive):le("es6",e),q=!0,!V.identifier)return ce("expected_identifier_a");var t=V;return fe(),"ignore"===t.id&&le("unexpected_a",t),ge(t,"variable",!0),fe("from"),fe("(string)"),e.import=X,e.name=t,p.test(X.value)||le("bad_module_name_a",X),H.push(X.value),_e(),e})),Re("let",Ue),Re("return",(function(){var e=X;return Ee(e),e.disrupt=!0,";"!==V.id&&e.line===V.line&&(e.expression=ye(10)),fe(";"),e})),Re("switch",(function(){var e,t,n=[],i=!0,r=X;return Ee(r),j.switch+=1,fe("("),X.free=!0,r.expression=ye(0),r.block=n,fe(")"),fe("{"),function r(){var o=V;if(o.arity="statement",o.expression=[],function e(){if(fe("case"),X.switch=!0,o.expression.push(ye(0)),fe(":"),"case"===V.id)return e()}(),t=we(),o.block=t,n.push(o),(e=t[t.length-1]).disrupt?"break"===e.id&&void 0===e.label&&(i=!1):le("expected_a_before_b",V,"break;",ae(V)),"case"===V.id)return r()}(),"default"===V.id?(fe("default"),X.switch=!0,fe(":"),r.else=we(),r.else.length<1?(le("unexpected_a"),i=!1):i=i&&r.else[r.else.length-1].disrupt):i=!1,fe("}",r),j.switch-=1,r.disrupt=i,r})),Re("throw",(function(){var e=X;return e.disrupt=!0,e.expression=ye(10),_e(),e})),Re("try",(function(){var e,t,n=!1,i=X;if(i.block=Te(),t=i.block.disrupt,"catch"===V.id){var r="ignore";if(n=!0,e=V,i.catch=e,fe("catch"),fe("("),!V.identifier)return ce("expected_identifier_a",V);"ignore"!==V.id&&(r=void 0,e.name=V,ge(V,"exception",!0)),fe(),fe(")"),e.block=Te(r),!0!==e.block.disrupt&&(t=!1)}return"finally"===V.id&&(n=!0,fe("finally"),i.else=Te(),t=i.else.disrupt),i.disrupt=t,n||le("expected_a_before_b",V,"catch",ae(V)),i})),Re("var",Ue),Re("while",(function(){var e=X;return Ee(e),j.loop+=1,e.expression=ve(),e.block=Te(),!0===e.block.disrupt&&le("weird_loop",e),j.loop-=1,e})),re=":",Ae("?",30).led=function(e){var t=X,n=ye(20);return fe(re),X.arity="ternary",t.arity="ternary",t.expression=[e,n,ye(10)],t};var Ge=e(),qe=e(),Ve=He(qe),ze=He(Ge),We=$e(qe),Ke=$e(Ge);function Ye(e){if(e)if(Array.isArray(e))e.forEach(Ye);else{switch(We(e),Ye(e.expression),"function"===e.id&&Je(e.block),e.arity){case"post":case"pre":le("unexpected_a",e);break;case"statement":case"assignment":le("unexpected_statement_a",e)}Ke(e)}}function Je(e){if(e)if(Array.isArray(e))e.forEach(Je);else{switch(We(e),Ye(e.expression),e.arity){case"statement":case"assignment":break;case"binary":"("!==e.id&&le("unexpected_expression_a",e);break;default:le("unexpected_expression_a",e)}Je(e.block),Je(e.else),Ke(e)}}function Xe(e){if("variable"===e.arity){var t=j.context[e.id];if(void 0===t){if(Y.forEach((function(n){var i=n.context[e.id];void 0!==i&&"label"!==i.role&&(t=i)})),void 0===t){if(void 0===N[e.id])return void le("undeclared_a",e);t={dead:!1,function:U,id:e.id,init:!0,role:"variable",used:0,writable:!1},U.context[e.id]=t}t.closure=!0,j.context[e.id]=t}else"label"===t.role&&le("label_a",e);return t.dead&&t.function===j&&le("out_of_scope_a",e),t}}function Qe(e){switch("statement"===e.arity&&!0!==O.body&&le("unexpected_a",e),Y.push(j),P.push(O),j=e,O=e,e.live=[],"object"==typeof e.name&&(e.name.dead=!1,e.name.init=!0),e.extra){case"get":0!==e.parameters.length&&le("bad_get",e);break;case"set":1!==e.parameters.length&&le("bad_set",e)}e.parameters.forEach((function(e){Ye(e.expression),"{"===e.id||"["===e.id?e.names.forEach(tt):(e.dead=!1,e.init=!0)}))}function Ze(e){z.bitwise||!0!==r[e.id]||le("unexpected_a",e)}function et(){O.live.forEach((function(e){e.dead=!0})),delete O.live,O=P.pop()}function tt(e){e.init=!0,e.dead=!1,O.live.push(e)}function nt(e){void 0!==e.expression&&(Ye(e.expression),"{"===e.id||"["===e.id?e.names.forEach(tt):e.init=!0),e.dead=!1,O.live.push(e)}function it(e){e.names.forEach(nt)}function rt(e){var t=Xe(e);void 0!==t&&t.writable?t.init=!0:le("bad_assignment_a",e)}function ot(e){return delete j.loop,delete j.switch,j=Y.pop(),e.wrapped&&le("unexpected_parens",e),et()}function at(e){return"(regexp)"===e.id||"{"===e.id||"=>"===e.id||"function"===e.id||"["===e.id&&"unary"===e.arity}function st(e,t){if(e===t)return!0;if(Array.isArray(e))return Array.isArray(t)&&e.length===t.length&&e.every((function(e,n){return st(e,t[n])}));if(Array.isArray(t))return!1;if("(number)"===e.id&&"(number)"===t.id)return e.value===t.value;var n,i;if("(string)"===e.id?n=e.value:"`"===e.id&&e.constant&&(n=e.value[0]),"(string)"===t.id?i=t.value:"`"===t.id&&t.constant&&(i=t.value[0]),"string"==typeof n)return n===i;if(at(e)||at(t))return!1;if(e.arity===t.arity&&e.id===t.id){if("."===e.id)return st(e.expression,t.expression)&&st(e.name,t.name);switch(e.arity){case"unary":return st(e.expression,t.expression);case"binary":return"("!==e.id&&st(e.expression[0],t.expression[0])&&st(e.expression[1],t.expression[1]);case"ternary":return st(e.expression[0],t.expression[0])&&st(e.expression[1],t.expression[1])&&st(e.expression[2],t.expression[2]);case"function":case"regexp":return!1;default:return!0}}return!1}function ut(e){Object.keys(e.context).forEach((function(t){if("ignore"!==t){var n=e.context[t];n.function===e&&(0===n.used?le("unused_a",n):n.init||le("uninitialized_a",n))}}))}function lt(){var e,t,n="(end)",r=!1,a=U,s=0,u=0,l=!0,c="";function d(e){var n;le("expected_a_at_b_c",t,ae(t),F+e,(void 0===(n=t)&&(n=V),n.from+F))}function p(e){var n=s+e;if(t.from!==n)return d(n)}function h(){a.line===t.line&&a.thru===t.from||le("unexpected_space_a_b",t,ae(a),ae(t))}function f(){if(a.line===t.line)a.thru!==t.from&&0===u&&le("unexpected_space_a_b",t,ae(a),ae(t));else if(l){var e=r?s:s+8;t.from<e&&d(e)}else t.from!==s+8&&d(s+8)}function m(){a.line===t.line&&a.thru+1===t.from||le("expected_space_a_b",t,ae(a),ae(t))}function g(){if(a.line===t.line)a.thru+1!==t.from&&0===u&&le("expected_space_a_b",t,ae(a),ae(t));else if(l){var e=r?s:s+8;t.from<e&&d(e)}else t.from!==s+8&&d(s+8)}function y(){var e=c.length;e>0&&(s-=4*e),c=""}Y=[],Z.forEach((function(v){if("(comment)"===(t=v).id||"(end)"===t.id)u+=1;else{var _=o[a.id];if("string"==typeof _)_!==t.id?(Y.push({closer:n,free:r,margin:s,open:l,qmark:c}),c="",n=_,a.line!==t.line?(r=")"===n&&a.free||"]"===n,l=!0,s+=4,"label"===t.role?0!==t.from&&d(0):t.switch?(y(),p(-4)):p(0)):((t.statement||"label"===t.role)&&le("expected_line_break_a_b",t,ae(a),ae(t)),r=!1,l=!1,h())):a.line===t.line?f():p(0);else if(t.id===n){var b=Y.pop();s=b.margin,l&&";"!==t.id?p(0):h(),n=b.closer,r=b.free,l=b.open,c=b.qmark}else t.switch?(y(),p(-4)):"label"===t.role?0!==t.from&&d(0):","===a.id?(y(),!l||r&&a.line===t.line?g():p(0)):"ternary"===t.arity?("?"===t.id?(s+=4,c+="?"):(e=c.match(k),c=e[1]+":",s-=4*e[2].length),p(0)):"..."===a.id||","===t.id||";"===t.id||":"===t.id||"binary"===t.arity&&("("===t.id||"["===t.id)||"function"===t.arity&&"function"!==a.id?h():"."===a.id?f():"."===t.id?a.line===t.line?f():(I.test(c)||(c+=".",s+=4),p(0)):";"===a.id?(y(),l?p(0):g()):"ternary"===a.arity||"case"===a.id||"catch"===a.id||"else"===a.id||"finally"===a.id||"while"===a.id||"catch"===t.id||"else"===t.id||"finally"===t.id||"while"===t.id&&!t.statement||")"===a.id&&"{"===t.id?m():!0===t.statement?l?p(0):g():"var"===a.id||"const"===a.id||"let"===a.id?(Y.push({closer:n,free:r,margin:s,open:l,qmark:c}),n=";",r=!1,l=a.open,c="",l?(s+=4,p(0)):m()):!0===i[a.id]||!0===i[t.id]||"binary"===a.arity&&("+"===a.id||"-"===a.id)||"binary"===t.arity&&("+"===t.id||"-"===t.id)||"function"===a.id||":"===a.id||(a.identifier||"(string)"===a.id||"(number)"===a.id)&&(t.identifier||"(string)"===t.id||"(number)"===t.id)||"statement"===a.arity&&";"!==t.id?g():"unary"===a.arity&&h();u=0,delete a.calls,delete a.dead,delete a.free,delete a.init,delete a.open,delete a.used,a=t}}))}return Ve("assignment",Ze),Ve("binary",Ze),Ve("binary",(function(e){if(!0===a[e.id])if("NaN"===e.expression[0].id||"NaN"===e.expression[1].id)le("isNaN",e);else if("typeof"===e.expression[0].id)if("(string)"!==e.expression[1].id)"typeof"!==e.expression[1].id&&le("expected_string_a",ye[1]);else{var t=e.expression[1].value;"symbol"===t?z.es6||le("es6",e.expression[1],t):"null"===t||"undefined"===t?le("unexpected_typeof_a",e.expression[1],t):"boolean"!==t&&"function"!==t&&"number"!==t&&"object"!==t&&"string"!==t&&le("expected_type_string_a",ye[1],t)}})),Ve("binary","==",(function(e){le("expected_a_b",e,"===","==")})),Ve("binary","!=",(function(e){le("expected_a_b",e,"!==","!=")})),Ve("binary","=>",Qe),Ve("binary","||",(function(e){e.expression.forEach((function(e){"&&"!==e.id||e.wrapped||le("and",e)}))})),Ve("binary","(",(function(e){var t=e.expression[0];if(t.identifier&&void 0===j.context[t.id]&&"object"==typeof j.name){var n=j.name.function;if(n){var i=n.context[t.id];void 0!==i&&i.dead&&i.function===n&&void 0!==i.calls&&void 0!==i.calls[j.name.id]&&(i.dead=!1)}}})),Ve("binary","in",(function(e){le("infix_in",e)})),Ve("statement","{",(function(e){P.push(O),O=e,e.live=[]})),Ve("statement","for",(function(e){if(void 0!==e.name){var t=Xe(e.name);void 0!==t&&(t.init=!0,t.writable||le("bad_assignment_a",e.name))}Je(e.initial)})),Ve("statement","function",Qe),Ve("unary","~",Ze),Ve("unary","function",Qe),Ve("variable",(function(e){var t=Xe(e);void 0!==t&&(e.variable=t,t.used+=1)})),ze("assignment",(function(e){if("="===e.id)void 0!==e.names&&(Array.isArray(e.names)?e.names.forEach(rt):rt(e.names));else{var t=e.expression[0];"variable"===t.arity&&(t.variable&&!0===t.variable.writable||le("bad_assignment_a",t))}})),ze("binary",(function(e){switch(a[e.id]&&(at(e.expression[0])||at(e.expression[1])||st(e.expression[0],e.expression[1])||!0===e.expression[0].constant&&!0===e.expression[1].constant)&&le("weird_relation_a",e),e.id){case"=>":case"(":case".":break;default:!0===e.expression[0].constant&&!0===e.expression[1].constant&&(e.constant=!0)}})),ze("binary","&&",(function(e){(at(e.expression[0])||st(e.expression[0],e.expression[1])||!0===e.expression[0].constant||!0===e.expression[1].constant)&&le("weird_condition_a",e)})),ze("binary","||",(function(e){(at(e.expression[0])||st(e.expression[0],e.expression[1])||!0===e.expression[0].constant)&&le("weird_condition_a",e)})),ze("binary","=>",ot),ze("binary","(",(function(e){e.wrapped||"function"!==e.expression[0].id||le("wrap_immediate",e)})),ze("binary","[",(function(e){at(e.expression[1])&&le("weird_expression_a",e.expression[1])})),ze("statement","{",et),ze("statement","const",it),ze("statement","export",Se),ze("statement","for",(function(e){Je(e.inc)})),ze("statement","function",ot),ze("statement","import",(function(e){var t=e.name;return t.init=!0,t.dead=!1,O.live.push(t),Se(e)})),ze("statement","let",it),ze("statement","try",(function(e){if(void 0!==e.catch){var t=e.catch.name;if(void 0!==t){var n=j.context[t.id];n.dead=!1,n.init=!0}Je(e.catch.block)}})),ze("statement","var",it),ze("ternary",(function(e){at(e.expression[0])||!0===e.expression[0].constant||st(e.expression[1],e.expression[2])?le("unexpected_a",e):st(e.expression[0],e.expression[1])?le("expected_a_b",e,"||","?"):st(e.expression[0],e.expression[2])?le("expected_a_b",e,"&&","?"):"true"===e.expression[1].id&&"false"===e.expression[2].id?le("expected_a_b",e,"!!","?"):"false"===e.expression[1].id&&"true"===e.expression[2].id&&le("expected_a_b",e,"!","?")})),ze("unary",(function(e){switch(e.id){case"[":case"{":case"function":case"new":break;case"`":e.expression.every((function(e){return e.constant}))&&(e.constant=!0);break;default:!0===e.expression.constant&&(e.constant=!0)}})),ze("unary","function",ot),function(i,r,o){try{ie=[],z=r||e(),oe="anonymous",P=[],N=e(),R=!0,L=!0,M=!0,F=z.fudge?1:0,B=[],U={id:"(global)",body:!0,context:e(),from:0,level:0,line:0,live:[],loop:0,switch:0,thru:0},O=U,j=U,H=[],$=!1,K=!1,q=!1,V=U,W=e(),Y=[],ee=void 0,X=U,Q=0,ne=void 0,t(N,s,!1),void 0!==o&&t(N,o,!1),Object.keys(z).forEach((function(e){if(!0===z[e]){var i=n[e];Array.isArray(i)&&t(N,i,!1)}})),de(i),fe(),"{"===Z[0].id||"["===Z[0].id?($=!0,te=me(),fe("(end)")):(z.browser?";"===V.id&&fe(";"):"(string)"===V.id&&"use strict"===V.value&&(fe("(string)"),fe(";"),U.strict=!0),te=we(),fe("(end)"),j=U,Je(te),(!0===q||z.node)&&ut(U),B.forEach(ut),z.white||lt()),L=!1}catch(e){"JSLintError"!==e.name&&ie.push(e)}return{edition:"2015-06-22",functions:B,global:U,id:"(JSLint)",imports:H,json:$,lines:G,module:!0===q,ok:0===ie.length&&!L,option:z,property:W,stop:L,tokens:Z,tree:te,warnings:ie.sort((function(e,t){return e.line-t.line||e.column-t.column}))}}}()},{}],224:[function(e,t,n){!function(e){"use strict";!function(e,t){var n={beforeShow:h,move:h,change:h,show:h,hide:h,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},i=[],r=!!/msie/i.exec(window.navigator.userAgent),o=function(){function e(e,t){return!!~(""+e).indexOf(t)}var t=document.createElement("div").style;return t.cssText="background-color:rgba(0,0,0,.5)",e(t.backgroundColor,"rgba")||e(t.backgroundColor,"hsla")}(),a=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),s=function(){var e="";if(r)for(var t=1;t<=6;t++)e+="<div class='sp-"+t+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",e,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}();function u(t,n,i,r){for(var a=[],s=0;s<t.length;s++){var u=t[s];if(u){var l=tinycolor(u),c=l.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";c+=tinycolor.equals(n,u)?" sp-thumb-active":"";var d=l.toString(r.preferredFormat||"rgb"),p=o?"background-color:"+l.toRgbString():"filter:"+l.toFilter();a.push('<span title="'+d+'" data-color="'+l.toRgbString()+'" class="'+c+'"><span class="sp-thumb-inner" style="'+p+';" /></span>')}else{var h="sp-clear-display";a.push(e("<div />").append(e('<span data-color="" style="background-color:transparent;" class="'+h+'"></span>').attr("title",r.noColorSelectedText)).html())}}return"<div class='sp-cf "+i+"'>"+a.join("")+"</div>"}function l(){for(var e=0;e<i.length;e++)i[e]&&i[e].hide()}function c(t,i){var r=e.extend({},n,t);return r.callbacks={move:m(r.move,i),change:m(r.change,i),show:m(r.show,i),hide:m(r.hide,i),beforeShow:m(r.beforeShow,i)},r}function d(n,d){var h=c(d,n),m=h.flat,_=h.showSelectionPalette,b=h.localStorageKey,w=h.theme,E=h.callbacks,S=y(qe,10),T=!1,C=!1,x=0,A=0,k=0,I=0,D=0,O=0,P=0,N=0,R=0,L=0,M=1,F=[],j=[],B={},U=h.selectionPalette.slice(0),H=h.maxSelectionSize,$="sp-dragging",G=null,q=n.ownerDocument,V=(q.body,e(n)),z=!1,W=e(s,q).addClass(w),K=W.find(".sp-picker-container"),Y=W.find(".sp-color"),J=W.find(".sp-dragger"),X=W.find(".sp-hue"),Q=W.find(".sp-slider"),Z=W.find(".sp-alpha-inner"),ee=W.find(".sp-alpha"),te=W.find(".sp-alpha-handle"),ne=W.find(".sp-input"),ie=W.find(".sp-palette"),re=W.find(".sp-initial"),oe=W.find(".sp-cancel"),ae=W.find(".sp-clear"),se=W.find(".sp-choose"),ue=W.find(".sp-palette-toggle"),le=V.is("input"),ce=le&&"color"===V.attr("type")&&v(),de=le&&!m,pe=de?e(a).addClass(w).addClass(h.className).addClass(h.replacerClassName):e([]),he=de?pe:V,fe=pe.find(".sp-preview-inner"),me=h.color||le&&V.val(),ge=!1,ye=h.preferredFormat,ve=!h.showButtons||h.clickoutFiresChange,_e=!me,be=h.allowEmpty&&!ce;function we(){if(h.showPaletteOnly&&(h.showPalette=!0),ue.text(h.showPaletteOnly?h.togglePaletteMoreText:h.togglePaletteLessText),h.palette){F=h.palette.slice(0),j=e.isArray(F[0])?F:[F],B={};for(var t=0;t<j.length;t++)for(var n=0;n<j[t].length;n++){var i=tinycolor(j[t][n]).toRgbString();B[i]=!0}}W.toggleClass("sp-flat",m),W.toggleClass("sp-input-disabled",!h.showInput),W.toggleClass("sp-alpha-enabled",h.showAlpha),W.toggleClass("sp-clear-enabled",be),W.toggleClass("sp-buttons-disabled",!h.showButtons),W.toggleClass("sp-palette-buttons-disabled",!h.togglePaletteOnly),W.toggleClass("sp-palette-disabled",!h.showPalette),W.toggleClass("sp-palette-only",h.showPaletteOnly),W.toggleClass("sp-initial-disabled",!h.showInitial),W.addClass(h.className).addClass(h.containerClassName),qe()}function Ee(){if(r&&W.find("*:not(input)").attr("unselectable","on"),we(),de&&V.after(pe).hide(),be||ae.hide(),m)V.after(W).hide();else{var t="parent"===h.appendTo?V.parent():e(h.appendTo);1!==t.length&&(t=e("body")),t.append(W)}function n(t){return t.data&&t.data.ignore?(Fe(e(t.target).closest(".sp-thumb-el").data("color")),Ue()):(Fe(e(t.target).closest(".sp-thumb-el").data("color")),Ue(),h.hideAfterPaletteSelect?(Ge(!0),Le()):Ge()),!1}Se(),he.on("click.spectrum touchstart.spectrum",(function(t){z||Oe(),t.stopPropagation(),e(t.target).is("input")||t.preventDefault()})),(V.is(":disabled")||!0===h.disabled)&&Ke(),W.click(f),ne.change(De),ne.on("paste",(function(){setTimeout(De,1)})),ne.keydown((function(e){13==e.keyCode&&De()})),oe.text(h.cancelText),oe.on("click.spectrum",(function(e){e.stopPropagation(),e.preventDefault(),Me(),Le()})),ae.attr("title",h.clearText),ae.on("click.spectrum",(function(e){e.stopPropagation(),e.preventDefault(),_e=!0,Ue(),m&&Ge(!0)})),se.text(h.chooseText),se.on("click.spectrum",(function(e){e.stopPropagation(),e.preventDefault(),r&&ne.is(":focus")&&ne.trigger("change"),Be()&&(Ge(!0),Le())})),ue.text(h.showPaletteOnly?h.togglePaletteMoreText:h.togglePaletteLessText),ue.on("click.spectrum",(function(e){e.stopPropagation(),e.preventDefault(),h.showPaletteOnly=!h.showPaletteOnly,h.showPaletteOnly||m||W.css("left","-="+(K.outerWidth(!0)+5)),we()})),g(ee,(function(e,t,n){M=e/D,_e=!1,n.shiftKey&&(M=Math.round(10*M)/10),Ue()}),ke,Ie),g(X,(function(e,t){N=parseFloat(t/I),_e=!1,h.showAlpha||(M=1),Ue()}),ke,Ie),g(Y,(function(e,t,n){if(n.shiftKey){if(!G){var i=R*x,r=A-L*A,o=Math.abs(e-i)>Math.abs(t-r);G=o?"x":"y"}}else G=null;var a=!G||"y"===G;(!G||"x"===G)&&(R=parseFloat(e/x)),a&&(L=parseFloat((A-t)/A)),_e=!1,h.showAlpha||(M=1),Ue()}),ke,Ie),me?(Fe(me),He(),ye=h.preferredFormat||tinycolor(me).format,Te(me)):He(),m&&Pe();var i=r?"mousedown.spectrum":"click.spectrum touchstart.spectrum";ie.on(i,".sp-thumb-el",n),re.on(i,".sp-thumb-el:nth-child(1)",{ignore:!0},n)}function Se(){if(b&&window.localStorage){try{var t=window.localStorage[b].split(",#");t.length>1&&(delete window.localStorage[b],e.each(t,(function(e,t){Te(t)})))}catch(e){}try{U=window.localStorage[b].split(";")}catch(e){}}}function Te(t){if(_){var n=tinycolor(t).toRgbString();if(!B[n]&&-1===e.inArray(n,U))for(U.push(n);U.length>H;)U.shift();if(b&&window.localStorage)try{window.localStorage[b]=U.join(";")}catch(e){}}}function Ce(){var e=[];if(h.showPalette)for(var t=0;t<U.length;t++){var n=tinycolor(U[t]).toRgbString();B[n]||e.push(U[t])}return e.reverse().slice(0,h.maxSelectionSize)}function xe(){var t=je(),n=e.map(j,(function(e,n){return u(e,t,"sp-palette-row sp-palette-row-"+n,h)}));Se(),U&&n.push(u(Ce(),t,"sp-palette-row sp-palette-row-selection",h)),ie.html(n.join(""))}function Ae(){if(h.showInitial){var e=ge,t=je();re.html(u([e,t],t,"sp-palette-row-initial",h))}}function ke(){(A<=0||x<=0||I<=0)&&qe(),C=!0,W.addClass($),G=null,V.trigger("dragstart.spectrum",[je()])}function Ie(){C=!1,W.removeClass($),V.trigger("dragstop.spectrum",[je()])}function De(){var e=ne.val();if(null!==e&&""!==e||!be){var t=tinycolor(e);t.isValid()?(Fe(t),Ue(),Ge()):ne.addClass("sp-validation-error")}else Fe(null),Ue(),Ge()}function Oe(){T?Le():Pe()}function Pe(){var t=e.Event("beforeShow.spectrum");T?qe():(V.trigger(t,[je()]),!1===E.beforeShow(je())||t.isDefaultPrevented()||(l(),T=!0,e(q).on("keydown.spectrum",Ne),e(q).on("click.spectrum",Re),e(window).on("resize.spectrum",S),pe.addClass("sp-active"),W.removeClass("sp-hidden"),qe(),He(),ge=je(),Ae(),E.show(ge),V.trigger("show.spectrum",[ge])))}function Ne(e){27===e.keyCode&&Le()}function Re(e){2!=e.button&&(C||(ve?Ge(!0):Me(),Le()))}function Le(){T&&!m&&(T=!1,e(q).off("keydown.spectrum",Ne),e(q).off("click.spectrum",Re),e(window).off("resize.spectrum",S),pe.removeClass("sp-active"),W.addClass("sp-hidden"),E.hide(je()),V.trigger("hide.spectrum",[je()]))}function Me(){Fe(ge,!0),Ge(!0)}function Fe(e,t){var n,i;tinycolor.equals(e,je())?He():(!e&&be?_e=!0:(_e=!1,i=(n=tinycolor(e)).toHsv(),N=i.h%360/360,R=i.s,L=i.v,M=i.a),He(),n&&n.isValid()&&!t&&(ye=h.preferredFormat||n.getFormat()))}function je(e){return e=e||{},be&&_e?null:tinycolor.fromRatio({h:N,s:R,v:L,a:Math.round(1e3*M)/1e3},{format:e.format||ye})}function Be(){return!ne.hasClass("sp-validation-error")}function Ue(){He(),E.move(je()),V.trigger("move.spectrum",[je()])}function He(){ne.removeClass("sp-validation-error"),$e();var e=tinycolor.fromRatio({h:N,s:1,v:1});Y.css("background-color",e.toHexString());var t=ye;M<1&&(0!==M||"name"!==t)&&("hex"!==t&&"hex3"!==t&&"hex6"!==t&&"name"!==t||(t="rgb"));var n=je({format:t}),i="";if(fe.removeClass("sp-clear-display"),fe.css("background-color","transparent"),!n&&be)fe.addClass("sp-clear-display");else{var a=n.toHexString(),s=n.toRgbString();if(o||1===n.alpha?fe.css("background-color",s):(fe.css("background-color","transparent"),fe.css("filter",n.toFilter())),h.showAlpha){var u=n.toRgb();u.a=0;var l=tinycolor(u).toRgbString(),c="linear-gradient(left, "+l+", "+a+")";r?Z.css("filter",tinycolor(l).toFilter({gradientType:1},a)):(Z.css("background","-webkit-"+c),Z.css("background","-moz-"+c),Z.css("background","-ms-"+c),Z.css("background","linear-gradient(to right, "+l+", "+a+")"))}i=n.toString(t)}h.showInput&&ne.val(i),h.showPalette&&xe(),Ae()}function $e(){var e=R,t=L;if(be&&_e)te.hide(),Q.hide(),J.hide();else{te.show(),Q.show(),J.show();var n=e*x,i=A-t*A;n=Math.max(-k,Math.min(x-k,n-k)),i=Math.max(-k,Math.min(A-k,i-k)),J.css({top:i+"px",left:n+"px"});var r=M*D;te.css({left:r-O/2+"px"});var o=N*I;Q.css({top:o-P+"px"})}}function Ge(e){var t=je(),n="",i=!tinycolor.equals(t,ge);t&&(n=t.toString(ye),Te(t)),le&&V.val(n),e&&i&&(E.change(t),V.trigger("change",[t]))}function qe(){T&&(x=Y.width(),A=Y.height(),k=J.height(),X.width(),I=X.height(),P=Q.height(),D=ee.width(),O=te.width(),m||(W.css("position","absolute"),h.offset?W.offset(h.offset):W.offset(p(W,he))),$e(),h.showPalette&&xe(),V.trigger("reflow.spectrum"))}function Ve(){V.show(),he.off("click.spectrum touchstart.spectrum"),W.remove(),pe.remove(),i[Je.id]=null}function ze(n,i){return n===t?e.extend({},h):i===t?h[n]:(h[n]=i,"preferredFormat"===n&&(ye=h.preferredFormat),void we())}function We(){z=!1,V.attr("disabled",!1),he.removeClass("sp-disabled")}function Ke(){Le(),z=!0,V.attr("disabled",!0),he.addClass("sp-disabled")}function Ye(e){h.offset=e,qe()}Ee();var Je={show:Pe,hide:Le,toggle:Oe,reflow:qe,option:ze,enable:We,disable:Ke,offset:Ye,set:function(e){Fe(e),Ge()},get:je,destroy:Ve,container:W};return Je.id=i.push(Je)-1,Je}function p(t,n){var i=0,r=t.outerWidth(),o=t.outerHeight(),a=n.outerHeight(),s=t[0].ownerDocument,u=s.documentElement,l=u.clientWidth+e(s).scrollLeft(),c=u.clientHeight+e(s).scrollTop(),d=n.offset(),p=d.left,h=d.top;return h+=a,p-=Math.min(p,p+r>l&&l>r?Math.abs(p+r-l):0),{top:h-=Math.min(h,h+o>c&&c>o?Math.abs(o+a-i):i),bottom:d.bottom,left:p,right:d.right,width:d.width,height:d.height}}function h(){}function f(e){e.stopPropagation()}function m(e,t){var n=Array.prototype.slice,i=n.call(arguments,2);return function(){return e.apply(t,i.concat(n.call(arguments)))}}function g(t,n,i,o){n=n||function(){},i=i||function(){},o=o||function(){};var a=document,s=!1,u={},l=0,c=0,d="ontouchstart"in window,p={};function h(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.returnValue=!1}function f(e){if(s){if(r&&a.documentMode<9&&!e.button)return g();var i=e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches[0],o=i&&i.pageX||e.pageX,p=i&&i.pageY||e.pageY,f=Math.max(0,Math.min(o-u.left,c)),m=Math.max(0,Math.min(p-u.top,l));d&&h(e),n.apply(t,[f,m,e])}}function m(n){(n.which?3==n.which:2==n.button)||s||!1!==i.apply(t,arguments)&&(s=!0,l=e(t).height(),c=e(t).width(),u=e(t).offset(),e(a).on(p),e(a.body).addClass("sp-dragging"),f(n),h(n))}function g(){s&&(e(a).off(p),e(a.body).removeClass("sp-dragging"),setTimeout((function(){o.apply(t,arguments)}),0)),s=!1}p.selectstart=h,p.dragstart=h,p["touchmove mousemove"]=f,p["touchend mouseup"]=g,e(t).on("touchstart mousedown",m)}function y(e,t,n){var i;return function(){var r=this,o=arguments,a=function(){i=null,e.apply(r,o)};n&&clearTimeout(i),!n&&i||(i=setTimeout(a,t))}}function v(){return e.fn.spectrum.inputTypeColorSupport()}var _="spectrum.id";e.fn.spectrum=function(t,n){if("string"==typeof t){var r=this,o=Array.prototype.slice.call(arguments,1);return this.each((function(){var n=i[e(this).data(_)];if(n){var a=n[t];if(!a)throw new Error("Spectrum: no such method: '"+t+"'");"get"==t?r=n.get():"container"==t?r=n.container:"option"==t?r=n.option.apply(n,o):"destroy"==t?(n.destroy(),e(this).removeData(_)):a.apply(n,o)}})),r}return this.spectrum("destroy").each((function(){var n=d(this,e.extend({},e(this).data(),t));e(this).data(_,n.id)}))},e.fn.spectrum.load=!0,e.fn.spectrum.loadOpts={},e.fn.spectrum.draggable=g,e.fn.spectrum.defaults=n,e.fn.spectrum.inputTypeColorSupport=function t(){if(void 0===t._cachedResult){var n=e("<input type='color'/>")[0];t._cachedResult="color"===n.type&&""!==n.value}return t._cachedResult},e.spectrum={},e.spectrum.localization={},e.spectrum.palettes={},e.fn.spectrum.processNativeColorInputs=function(){var t=e("input[type=color]");t.length&&!v()&&t.spectrum({preferredFormat:"hex6"})},function(){var e=/^[\s,#]+/,t=/\s+$/,n=0,i=Math,r=i.round,o=i.min,a=i.max,s=i.random,u=function(e,t){if(t=t||{},(e=e||"")instanceof u)return e;if(!(this instanceof u))return new u(e,t);var i=l(e);this._originalInput=e,this._r=i.r,this._g=i.g,this._b=i.b,this._a=i.a,this._roundA=r(1e3*this._a)/1e3,this._format=t.format||i.format,this._gradientType=t.gradientType,this._r<1&&(this._r=r(this._r)),this._g<1&&(this._g=r(this._g)),this._b<1&&(this._b=r(this._b)),this._ok=i.ok,this._tc_id=n++};function l(e){var t={r:0,g:0,b:0},n=1,i=!1,r=!1;return"string"==typeof e&&(e=W(e)),"object"==typeof e&&(e.hasOwnProperty("r")&&e.hasOwnProperty("g")&&e.hasOwnProperty("b")?(t=c(e.r,e.g,e.b),i=!0,r="%"===String(e.r).substr(-1)?"prgb":"rgb"):e.hasOwnProperty("h")&&e.hasOwnProperty("s")&&e.hasOwnProperty("v")?(e.s=U(e.s),e.v=U(e.v),t=f(e.h,e.s,e.v),i=!0,r="hsv"):e.hasOwnProperty("h")&&e.hasOwnProperty("s")&&e.hasOwnProperty("l")&&(e.s=U(e.s),e.l=U(e.l),t=p(e.h,e.s,e.l),i=!0,r="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=N(n),{ok:i,format:e.format||r,r:o(255,a(t.r,0)),g:o(255,a(t.g,0)),b:o(255,a(t.b,0)),a:n}}function c(e,t,n){return{r:255*R(e,255),g:255*R(t,255),b:255*R(n,255)}}function d(e,t,n){e=R(e,255),t=R(t,255),n=R(n,255);var i,r,s=a(e,t,n),u=o(e,t,n),l=(s+u)/2;if(s==u)i=r=0;else{var c=s-u;switch(r=l>.5?c/(2-s-u):c/(s+u),s){case e:i=(t-n)/c+(t<n?6:0);break;case t:i=(n-e)/c+2;break;case n:i=(e-t)/c+4}i/=6}return{h:i,s:r,l:l}}function p(e,t,n){var i,r,o;function a(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=R(e,360),t=R(t,100),n=R(n,100),0===t)i=r=o=n;else{var s=n<.5?n*(1+t):n+t-n*t,u=2*n-s;i=a(u,s,e+1/3),r=a(u,s,e),o=a(u,s,e-1/3)}return{r:255*i,g:255*r,b:255*o}}function h(e,t,n){e=R(e,255),t=R(t,255),n=R(n,255);var i,r,s=a(e,t,n),u=o(e,t,n),l=s,c=s-u;if(r=0===s?0:c/s,s==u)i=0;else{switch(s){case e:i=(t-n)/c+(t<n?6:0);break;case t:i=(n-e)/c+2;break;case n:i=(e-t)/c+4}i/=6}return{h:i,s:r,v:l}}function f(e,t,n){e=6*R(e,360),t=R(t,100),n=R(n,100);var r=i.floor(e),o=e-r,a=n*(1-t),s=n*(1-o*t),u=n*(1-(1-o)*t),l=r%6;return{r:255*[n,s,a,a,u,n][l],g:255*[u,n,n,s,a,a][l],b:255*[a,a,u,n,n,s][l]}}function m(e,t,n,i){var o=[B(r(e).toString(16)),B(r(t).toString(16)),B(r(n).toString(16))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function g(e,t,n,i){return[B(H(i)),B(r(e).toString(16)),B(r(t).toString(16)),B(r(n).toString(16))].join("")}function y(e,t){t=0===t?0:t||10;var n=u(e).toHsl();return n.s-=t/100,n.s=L(n.s),u(n)}function v(e,t){t=0===t?0:t||10;var n=u(e).toHsl();return n.s+=t/100,n.s=L(n.s),u(n)}function _(e){return u(e).desaturate(100)}function b(e,t){t=0===t?0:t||10;var n=u(e).toHsl();return n.l+=t/100,n.l=L(n.l),u(n)}function w(e,t){t=0===t?0:t||10;var n=u(e).toRgb();return n.r=a(0,o(255,n.r-r(-t/100*255))),n.g=a(0,o(255,n.g-r(-t/100*255))),n.b=a(0,o(255,n.b-r(-t/100*255))),u(n)}function E(e,t){t=0===t?0:t||10;var n=u(e).toHsl();return n.l-=t/100,n.l=L(n.l),u(n)}function S(e,t){var n=u(e).toHsl(),i=(r(n.h)+t)%360;return n.h=i<0?360+i:i,u(n)}function T(e){var t=u(e).toHsl();return t.h=(t.h+180)%360,u(t)}function C(e){var t=u(e).toHsl(),n=t.h;return[u(e),u({h:(n+120)%360,s:t.s,l:t.l}),u({h:(n+240)%360,s:t.s,l:t.l})]}function x(e){var t=u(e).toHsl(),n=t.h;return[u(e),u({h:(n+90)%360,s:t.s,l:t.l}),u({h:(n+180)%360,s:t.s,l:t.l}),u({h:(n+270)%360,s:t.s,l:t.l})]}function A(e){var t=u(e).toHsl(),n=t.h;return[u(e),u({h:(n+72)%360,s:t.s,l:t.l}),u({h:(n+216)%360,s:t.s,l:t.l})]}function k(e,t,n){t=t||6,n=n||30;var i=u(e).toHsl(),r=360/n,o=[u(e)];for(i.h=(i.h-(r*t>>1)+720)%360;--t;)i.h=(i.h+r)%360,o.push(u(i));return o}function I(e,t){t=t||6;for(var n=u(e).toHsv(),i=n.h,r=n.s,o=n.v,a=[],s=1/t;t--;)a.push(u({h:i,s:r,v:o})),o=(o+s)%1;return a}u.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},setAlpha:function(e){return this._a=N(e),this._roundA=r(1e3*this._a)/1e3,this},toHsv:function(){var e=h(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=h(this._r,this._g,this._b),t=r(360*e.h),n=r(100*e.s),i=r(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+i+"%)":"hsva("+t+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=d(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=d(this._r,this._g,this._b),t=r(360*e.h),n=r(100*e.s),i=r(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+i+"%)":"hsla("+t+", "+n+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return m(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(){return g(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:r(this._r),g:r(this._g),b:r(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+r(this._r)+", "+r(this._g)+", "+r(this._b)+")":"rgba("+r(this._r)+", "+r(this._g)+", "+r(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:r(100*R(this._r,255))+"%",g:r(100*R(this._g,255))+"%",b:r(100*R(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+r(100*R(this._r,255))+"%, "+r(100*R(this._g,255))+"%, "+r(100*R(this._b,255))+"%)":"rgba("+r(100*R(this._r,255))+"%, "+r(100*R(this._g,255))+"%, "+r(100*R(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(O[m(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+g(this._r,this._g,this._b,this._a),n=t,i=this._gradientType?"GradientType = 1, ":"";e&&(n=u(e).toHex8String());return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,i=this._a<1&&this._a>=0;return t||!i||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(b,arguments)},brighten:function(){return this._applyModification(w,arguments)},darken:function(){return this._applyModification(E,arguments)},desaturate:function(){return this._applyModification(y,arguments)},saturate:function(){return this._applyModification(v,arguments)},greyscale:function(){return this._applyModification(_,arguments)},spin:function(){return this._applyModification(S,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(k,arguments)},complement:function(){return this._applyCombination(T,arguments)},monochromatic:function(){return this._applyCombination(I,arguments)},splitcomplement:function(){return this._applyCombination(A,arguments)},triad:function(){return this._applyCombination(C,arguments)},tetrad:function(){return this._applyCombination(x,arguments)}},u.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]="a"===i?e[i]:U(e[i]));e=n}return u(e,t)},u.equals=function(e,t){return!(!e||!t)&&u(e).toRgbString()==u(t).toRgbString()},u.random=function(){return u.fromRatio({r:s(),g:s(),b:s()})},u.mix=function(e,t,n){n=0===n?0:n||50;var i,r=u(e).toRgb(),o=u(t).toRgb(),a=n/100,s=2*a-1,l=o.a-r.a,c=1-(i=((i=s*l==-1?s:(s+l)/(1+s*l))+1)/2),d={r:o.r*i+r.r*c,g:o.g*i+r.g*c,b:o.b*i+r.b*c,a:o.a*a+r.a*(1-a)};return u(d)},u.readability=function(e,t){var n=u(e),i=u(t),r=n.toRgb(),o=i.toRgb(),a=n.getBrightness(),s=i.getBrightness(),l=Math.max(r.r,o.r)-Math.min(r.r,o.r)+Math.max(r.g,o.g)-Math.min(r.g,o.g)+Math.max(r.b,o.b)-Math.min(r.b,o.b);return{brightness:Math.abs(a-s),color:l}},u.isReadable=function(e,t){var n=u.readability(e,t);return n.brightness>125&&n.color>500},u.mostReadable=function(e,t){for(var n=null,i=0,r=!1,o=0;o<t.length;o++){var a=u.readability(e,t[o]),s=a.brightness>125&&a.color>500,l=a.brightness/125*3+a.color/500;(s&&!r||s&&r&&l>i||!s&&!r&&l>i)&&(r=s,i=l,n=u(t[o]))}return n};var D=u.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},O=u.hexNames=P(D);function P(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function N(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function R(e,t){F(e)&&(e="100%");var n=j(e);return e=o(t,a(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),i.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function L(e){return o(1,a(0,e))}function M(e){return parseInt(e,16)}function F(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)}function j(e){return"string"==typeof e&&-1!=e.indexOf("%")}function B(e){return 1==e.length?"0"+e:""+e}function U(e){return e<=1&&(e=100*e+"%"),e}function H(e){return Math.round(255*parseFloat(e)).toString(16)}function $(e){return M(e)/255}var G,q,V,z=(q="[\\s|\\(]+("+(G="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+G+")[,|\\s]+("+G+")\\s*\\)?",V="[\\s|\\(]+("+G+")[,|\\s]+("+G+")[,|\\s]+("+G+")[,|\\s]+("+G+")\\s*\\)?",{rgb:new RegExp("rgb"+q),rgba:new RegExp("rgba"+V),hsl:new RegExp("hsl"+q),hsla:new RegExp("hsla"+V),hsv:new RegExp("hsv"+q),hsva:new RegExp("hsva"+V),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function W(n){n=n.replace(e,"").replace(t,"").toLowerCase();var i,r=!1;if(D[n])n=D[n],r=!0;else if("transparent"==n)return{r:0,g:0,b:0,a:0,format:"name"};return(i=z.rgb.exec(n))?{r:i[1],g:i[2],b:i[3]}:(i=z.rgba.exec(n))?{r:i[1],g:i[2],b:i[3],a:i[4]}:(i=z.hsl.exec(n))?{h:i[1],s:i[2],l:i[3]}:(i=z.hsla.exec(n))?{h:i[1],s:i[2],l:i[3],a:i[4]}:(i=z.hsv.exec(n))?{h:i[1],s:i[2],v:i[3]}:(i=z.hsva.exec(n))?{h:i[1],s:i[2],v:i[3],a:i[4]}:(i=z.hex8.exec(n))?{a:$(i[1]),r:M(i[2]),g:M(i[3]),b:M(i[4]),format:r?"name":"hex8"}:(i=z.hex6.exec(n))?{r:M(i[1]),g:M(i[2]),b:M(i[3]),format:r?"name":"hex"}:!!(i=z.hex3.exec(n))&&{r:M(i[1]+""+i[1]),g:M(i[2]+""+i[2]),b:M(i[3]+""+i[3]),format:r?"name":"hex"}}window.tinycolor=u}(),e((function(){e.fn.spectrum.load&&e.fn.spectrum.processNativeColorInputs()}))}(window.jQuery)}()},{}],225:[function(e,t,n){function i(e){var t=e&&e.e?e.e:null,n=!e||!!e.guess,r=new i.implementation,o=r.run(t);return n?r.guessFunctions(o):o}i.implementation=function(){},i.implementation.prototype={run:function(e){e=e||function(){try{__undef__}catch(e){return e}}();var t=this._mode||this.mode(e);return"other"===t?this.other(arguments.callee):this[t](e)},mode:function(e){return e.arguments?this._mode="chrome":window.opera&&e.stacktrace?this._mode="opera10":e.stack?this._mode="firefox":window.opera&&!("stacktrace"in e)?this._mode="opera":this._mode="other"},instrumentFunction:function(e,t,n){(e=e||window)["_old"+t]=e[t],e[t]=function(){return n.call(this,i()),e["_old"+t].apply(this,arguments)},e[t]._instrumented=!0},deinstrumentFunction:function(e,t){e[t].constructor===Function&&e[t]._instrumented&&e["_old"+t].constructor===Function&&(e[t]=e["_old"+t])},chrome:function(e){return e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@").split("\n")},firefox:function(e){return e.stack.replace(/(?:\n@:0)?\s+$/m,"").replace(/^\(/gm,"{anonymous}(").split("\n")},opera10:function(e){var t,n,i,r=e.stacktrace.split("\n"),o=/.*line (\d+), column (\d+) in ((<anonymous function\:?\s*(\S+))|([^\(]+)\([^\)]*\))(?: in )?(.*)\s*$/i;for(t=2,n=0,i=r.length;t<i-2;t++)if(o.test(r[t])){var a=RegExp.$6+":"+RegExp.$1+":"+RegExp.$2,s=RegExp.$3;s=s.replace(/<anonymous function\:?\s?(\S+)?>/g,"{anonymous}"),r[n++]=s+"@"+a}return r.splice(n,r.length-n),r},opera:function(e){var t,n,i,r=e.message.split("\n"),o=/Line\s+(\d+).*script\s+(http\S+)(?:.*in\s+function\s+(\S+))?/i;for(t=4,n=0,i=r.length;t<i;t+=2)o.test(r[t])&&(r[n++]=(RegExp.$3?RegExp.$3+"()@"+RegExp.$2+RegExp.$1:"{anonymous}()@"+RegExp.$2+":"+RegExp.$1)+" -- "+r[t+1].replace(/^\s+/,""));return r.splice(n,r.length-n),r},other:function(e){for(var t,n,i="{anonymous}",r=/function\s*([\w\-$]+)?\s*\(/i,o=[],a=0;e&&o.length<10;)t=r.test(e.toString())&&RegExp.$1||i,n=Array.prototype.slice.call(e.arguments),o[a++]=t+"("+this.stringifyArguments(n)+")",e=e.caller;return o},stringifyArguments:function(e){for(var t=0;t<e.length;++t){var n=e[t];void 0===n?e[t]="undefined":null===n?e[t]="null":n.constructor&&(n.constructor===Array?n.length<3?e[t]="["+this.stringifyArguments(n)+"]":e[t]="["+this.stringifyArguments(Array.prototype.slice.call(n,0,1))+"..."+this.stringifyArguments(Array.prototype.slice.call(n,-1))+"]":n.constructor===Object?e[t]="#object":n.constructor===Function?e[t]="#function":n.constructor===String&&(e[t]='"'+n+'"'))}return e.join(",")},sourceCache:{},ajax:function(e){var t=this.createXMLHTTPObject();if(t)return t.open("GET",e,!1),t.setRequestHeader("User-Agent","XMLHTTP/1.0"),t.send(""),t.responseText},createXMLHTTPObject:function(){for(var e,t=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],n=0;n<t.length;n++)try{return e=t[n](),this.createXMLHTTPObject=t[n],e}catch(e){}},isSameDomain:function(e){return-1!==e.indexOf(location.hostname)},getSource:function(e){return e in this.sourceCache||(this.sourceCache[e]=this.ajax(e).split("\n")),this.sourceCache[e]},guessFunctions:function(e){for(var t=0;t<e.length;++t){var n=e[t],i=/\{anonymous\}\(.*\)@(\w+:\/\/([\-\w\.]+)+(:\d+)?[^:]+):(\d+):?(\d+)?/.exec(n);if(i){var r=i[1],o=i[4];if(r&&this.isSameDomain(r)&&o){var a=this.guessFunctionName(r,o);e[t]=n.replace("{anonymous}",a)}}}return e},guessFunctionName:function(e,t){try{return this.guessFunctionNameFromLines(t,this.getSource(e))}catch(t){return"getSource failed with url: "+e+", exception: "+t.toString()}},guessFunctionNameFromLines:function(e,t){for(var n=/function ([^(]*)\(([^)]*)\)/,i=/['"]?([0-9A-Za-z_]+)['"]?\s*[:=]\s*(function|eval|new Function)/,r="",o=0;o<10;++o)if(void 0!==(r=t[e-o]+r)){var a=i.exec(r);if(a&&a[1])return a[1];if((a=n.exec(r))&&a[1])return a[1]}return"(?)"}},window.printStackTrace=i},{}],226:[function(e,t,n){t.exports='#include "util.h"\n#include <iostream>\n#include <sstream>\n#include <ctime>\n\nusing namespace std;\n\nvoid Error(string message) {\n    cerr << "Error: " << message << endl;\n    exit(-1);\n}\n\nstring readLine(const string prompt)\n{\n    cout << prompt;\n    string line;\n    getline(cin, line);\n    return line;\n}\n\ndouble readDouble(const string prompt, string reprompt) {\n    if (reprompt == "") reprompt = prompt;\n\n    double value = 0;\n    cout << prompt;\n    while (true) {\n        string line;\n        try {\n            if (!getline(cin, line)) {\n                throw "getInteger: End of input reached while waiting for integer value.";\n            }\n        }\n        catch (const char *c) {\n            cerr << c << endl;\n            exit (EXIT_FAILURE);\n        }\n\n        istringstream stream(line);\n        stream >> value;\n        if (!stream.fail() && stream.eof()) {\n            break;\n        }\n\n        cout<<  reprompt;\n    }\n    return value;\n}\n\ndouble readDouble(const double low, const double high, const string prompt, string reprompt) {\n    if (reprompt == "") reprompt = prompt;\n    double value = readDouble(prompt, reprompt);\n\n    while (value < low || value > high) {\n        value = readDouble(reprompt);\n    }\n\n    return value;\n}\n\nint readInt(const string prompt, string reprompt) {\n    if (reprompt == "") reprompt = prompt;\n\n    int value = 0;\n    cout << prompt;\n    while (true) {\n        string line;\n        try {\n            if (!getline(cin, line)) {\n                throw "getInteger: End of input reached while waiting for integer value.";\n            }\n        }\n        catch (const char *c) {\n            cerr << c << endl;\n            exit (EXIT_FAILURE);\n        }\n\n        istringstream stream(line);\n        stream >> value;\n        if (!stream.fail() && stream.eof()) {\n            break;\n        }\n\n        cout<<  reprompt;\n    }\n    return value;\n}\n\nint readInt(const int low, const int high, const string prompt, string reprompt) {\n    if (reprompt == "") reprompt = prompt;\n    int value = readInt(prompt, reprompt);\n\n    while (value < low || value > high) {\n        value = readInt(reprompt);\n    }\n\n    return value;\n}\n\nvector<string> splitLine(string input, char delimeter) {\n\n    vector<string> output;\n    istringstream stream(input);\n    string token;\n\n    while(getline(stream, token, delimeter)) {\n        output.push_back(token);\n    }\n    return output;\n}\n\nstring toUpperCase(string s) {\n    string result;\n    for (int i = 0; i < (int)s.length(); i++) {\n        result += toupper(s[i]);\n    }\n    return result;\n}\n\nstring toLowerCase(string s){\n    string result;\n    for (int i = 0; i < (int)s.length(); i++) {\n        result += tolower(s[i]);\n    }\n    return result;\n}\n\nstatic void initRandomSeed() {\n    static bool initialized = false;\n    if (!initialized) {\n        srand(int(time(0)));\n        rand();\n        initialized = true;\n    }\n}\n\nvoid setSeed(int seed) {\n    initRandomSeed();\n    srand(seed);\n}\n\nint randInt(){\n    initRandomSeed();\n    return rand();\n}\n\nint randInt(int min, int max) {\n    initRandomSeed();\n    return rand() % (max - min + 1) + min;\n}\n'},{}],227:[function(e,t,n){t.exports='#ifndef _util\n#define _util\n\n#include <iostream>\n#include <vector>\n\nusing  namespace std;\n\nvoid Error(string message);\n\nstring readLine(const string prompt = "?");\n\nint readInt(const string prompt = "?", string reprompt = "");\nint readInt(const int low, const int high, const string prompt = "?", string reprompt = "");\n\ndouble readDouble(const string prompt = "?", string reprompt = "");\ndouble readDouble(const double low, const double high, const string prompt = "?", string reprompt = "");\n\nvector<string> splitLine(string input, char delimeter = \' \');\n\nstring toUpperCase(string s);\nstring toLowerCase(string s);\n\nvoid setSeed(int seed);\nint randInt();\nint randInt(int min, int max);\n\n#endif'},{}],228:[function(e,t,n){t.exports='public class Circle extends Thing\n{\n\n    double radius = 10;\n\n    public Circle(int radius)\n    {\n        this.radius = (double)radius;\n        this.type = "Circle";\n        this.name = "thing" + Thing.numThings++;\n        System.out.println("js:var " + name + " = new Circle(" + radius + ");");\n    }\n\n    public Circle(double radius)\n    {\n        this.radius = radius;\n        this.name = "thing" + Thing.numThings++;\n        System.out.println("js:var " + name + " = new Circle(" + radius + ");");\n    }\n\n    public void setRadius(int radius)\n    {\n        this.radius = (double)radius;\n        System.out.println("js:" + name + ".setRadius(" + radius + ");");\n    }\n\n    public void setRadius(double radius)\n    {\n        this.radius = radius;\n        System.out.println("js:" + name + ".setRadius(" + radius + ");");\n    }\n\n    public double getRadius()\n    {\n        return radius;\n    }\n}\n'},{}],229:[function(e,t,n){t.exports='public class Color\n{\n\n    public static String black = "Color.black";\n    public static String red = "Color.red";\n    public static String blue = "Color.blue";\n    public static String green = "Color.green";\n    public static String yellow = "Color.yellow";\n    public static String orange = "Color.orange";\n    public static String gray = "Color.gray";\n    public static String grey = "Color.gray";\n    public static String cyan = "Color.cyan";\n    public static String purple = "Color.purple";\n\n    public static String BLACK = "Color.black";\n    public static String RED = "Color.red";\n    public static String BLUE = "Color.blue";\n    public static String GREEN = "Color.green";\n    public static String YELLOW = "Color.yellow";\n    public static String ORANGE = "Color.orange";\n    public static String GRAY = "Color.gray";\n    public static String GREY = "Color.gray";\n    public static String CYAN = "Color.cyan";\n    public static String PURPLE = "Color.purple";\n}\n'},{}],230:[function(e,t,n){t.exports='import java.util.*;\n\npublic class ConsoleProgram{\n\n    private Scanner scanner;\n\n    public static void main(String[] args){\n        // Assume the class name is passed in as the first argument.\n\n        if(args.length == 0){\n            System.out.println("Please provide the name of the main class as an argument.");\n            return;\n        }\n\n        String mainClassName = args[0];\n\n        try{\n            Class mainClass = Class.forName(mainClassName);\n            Object obj = mainClass.newInstance();\n            ConsoleProgram program = (ConsoleProgram)obj;\n            program.run();\n        } catch (IllegalAccessException ex) {\n            System.out.println("Error in program. Make sure you extend ConsoleProgram");\n        } catch (InstantiationException ex) {\n            System.out.println("Error in program. Make sure you extend ConsoleProgram");\n        } catch (ClassNotFoundException ex) {\n            System.out.println("Error in program. Make sure you extend ConsoleProgram");\n        }\n    }\n\n    public void run(){\n        /* Overridden by subclass */\n    }\n\n    public ConsoleProgram(){\n        scanner = new Scanner(System.in);\n\n    }\n\n    public String readLine(String prompt){\n        System.out.print(prompt);\n        return scanner.nextLine();\n    }\n\n    public boolean readBoolean(String prompt){\n\n        while(true){\n            String input = readLine(prompt);\n\n            if(input.equalsIgnoreCase("true")){\n                return true;\n            }\n\n            if(input.equalsIgnoreCase("false")){\n                return false;\n            }\n        }\n    }\n\n    public double readDouble(String prompt){\n\n        while(true){\n            String input = readLine(prompt);\n            try {\n                double n = Double.valueOf(input).doubleValue();\n                return n;\n            } catch (NumberFormatException e){\n\n            }\n        }\n    }\n\n    // Allow the user to get an integer.\n    public int readInt(String prompt){\n\n        while(true){\n            String input = readLine(prompt);\n            try {\n                int n = Integer.parseInt(input);\n                return n;\n            } catch (NumberFormatException e){\n\n            }\n        }\n    }\n\n    /**\n     * Allows us to use a shorthand version for System.out.println()\n     */\n    public void println() {\n        System.out.println();\n    }\n\n    /**\n     * Allows us to use a shorthand version for System.out.println(String s)\n     */\n    public void println(String s) {\n        System.out.println(s);\n    }\n\n    /**\n     * Allows us to use a shorthand version for System.out.println(boolean x)\n     */\n    public void println(boolean x) {\n        System.out.println(x);\n    }\n\n    /**\n     * Allows us to use a shorthand version for System.out.println(char x)\n     */\n    public void println(char x) {\n        System.out.println(x);\n    }\n\n    /**\n     * Allows us to use a shorthand version for System.out.println(char[] x)\n     */\n    public void println(char[] x) {\n        System.out.println(x);\n    }\n\n    /**\n     * Allows us to use a shorthand version for System.out.println(int x)\n     */\n    public void println(int x) {\n        System.out.println(x);\n    }\n\n    /**\n     * Allows us to use a shorthand version for System.out.println(long x)\n     */\n    public void println(long x) {\n        System.out.println(x);\n    }\n\n    /**\n     * Allows us to use a shorthand version for System.out.println(float x)\n     */\n    public void println(float x) {\n        System.out.println(x);\n    }\n\n    /**\n     * Allows us to use a shorthand version for System.out.println(double x)\n     */\n    public void println(double x) {\n        System.out.println(x);\n    }\n\n    /**\n     * Allows us to use a shorthand version for System.out.println(Object o)\n     */\n    public void println(Object o) {\n        System.out.println(o);\n    }\n\n    /**\n     * Allows us to use a shorthand version for System.out.print()\n     */\n    public void print() {\n        System.out.print("");\n    }\n\n    /**\n     * Allows us to use a shorthand version for System.out.print(String s)\n     */\n    public void print(String s) {\n        System.out.print(s);\n    }\n\n    /**\n     * Allows us to use a shorthand version for System.out.print(boolean x)\n     */\n    public void print(boolean x) {\n        System.out.print(x);\n    }\n\n    /**\n     * Allows us to use a shorthand version for System.out.print(char x)\n     */\n    public void print(char x) {\n        System.out.print(x);\n    }\n\n    /**\n     * Allows us to use a shorthand version for System.out.print(char[] x)\n     */\n    public void print(char[] x) {\n        System.out.print(x);\n    }\n\n    /**\n     * Allows us to use a shorthand version for System.out.print(int x)\n     */\n    public void print(int x) {\n        System.out.print(x);\n    }\n\n    /**\n     * Allows us to use a shorthand version for System.out.print(long x)\n     */\n    public void print(long x) {\n        System.out.print(x);\n    }\n\n    /**\n     * Allows us to use a shorthand version for System.out.print(float x)\n     */\n    public void print(float x) {\n        System.out.print(x);\n    }\n\n    /**\n     * Allows us to use a shorthand version for System.out.print(double x)\n     */\n    public void print(double x) {\n        System.out.print(x);\n    }\n\n    /**\n     * Allows us to use a shorthand version for System.out.print(Object o)\n     */\n    public void print(Object o) {\n        System.out.print(o);\n    }\n}\n'},{}],231:[function(e,t,n){t.exports='import java.util.*;\n\npublic class GraphicsProgram extends ConsoleProgram\n{\n\n    // These are the defaults\n    double width = 400;\n    double height = 480;\n\n    public void add(Thing thing)\n    {\n        System.out.println("js:add(" + thing.name + ");");\n    }\n\n    public double getWidth()\n    {\n        return width;\n    }\n\n    public double getHeight()\n    {\n        return height;\n    }\n\n    public void setSize(double width, double height)\n    {\n        this.width = width;\n        this.height = height;\n        System.out.println("js:setSize(" + width + "," + height + ");");\n    }\n\n    public void setSize(int width, int height)\n    {\n        this.width = (double)width;\n        this.height = (double)height;\n        System.out.println("js:setSize(" + width + "," + height + ");");\n    }\n}\n'},{}],232:[function(e,t,n){t.exports='public class Line extends Thing\n{\n\n    double x2 = 10;\n    double y2 = 10;\n    double lineWidth = 2;\n\n    public Line(int x1, int y1, int x2, int y2)\n    {\n        this.x = (double)x1;\n        this.y = (double)y1;\n        this.x2 = (double)x2;\n        this.y2 = (double)y2;\n        this.type = "Line";\n        this.name = "thing" + Thing.numThings++;\n        System.out.println("js:var " + name + " = new Line(" + this.x + "," + this.y + "," + this.x2 + "," + this.y2 +  ");");\n    }\n\n    public Line(double x1, double y1, double x2, double y2)\n    {\n        this.x = x1;\n        this.y = y1;\n        this.x2 = x2;\n        this.y2 = y2;\n        this.name = "thing" + Thing.numThings++;\n        System.out.println("js:var " + name + " = new Line(" + x1 + "," + y1 + "," + x2 + "," + y2 +  ");");\n    }\n\n    public void setEndpoint(int x, int y)\n    {\n        this.x2 = (double)x;\n        this.y2 = (double)y;\n        System.out.println("js:" + name + ".setEndpoint(" + this.x2 + "," + this.y2 + ");");\n    }\n\n    public void setEndpoint(double x, double y)\n    {\n        this.x2 = x;\n        this.y2 = y;\n        System.out.println("js:" + name + ".setEndpoint(" + this.x2 + "," + this.y2 + ");");\n    }\n\n    public void setLineWidth(double width)\n    {\n        this.lineWidth = width;\n        System.out.println("js:" + name + ".setLineWidth(" + this.lineWidth + ");");\n    }\n\n    public double getEndX()\n    {\n        return x2;\n    }\n\n    public double getEndY()\n    {\n        return y2;\n    }\n}\n'},{}],233:[function(e,t,n){t.exports='import java.util.Random;\n\npublic class Randomizer{\n\n    public static Random theInstance = null;\n\n    public Randomizer(){\n\n    }\n\n    public static Random getInstance(){\n        if(theInstance == null){\n            theInstance = new Random();\n        }\n        return theInstance;\n    }\n\n    /**\n     * Return a random boolean value.\n     * @return True or false value simulating a coin flip.\n     */\n    public static boolean nextBoolean(){\n        return Randomizer.getInstance().nextBoolean();\n    }\n\n    /**\n     * This method simulates a weighted coin flip which will return\n     * true with the probability passed as a parameter.\n     *\n     * @param   probability The probability that the method returns true, a value between 0 to 1 inclusive.\n     * @return True or false value simulating a weighted coin flip.\n     */\n    public static boolean nextBoolean(double probability){\n        return Randomizer.nextDouble() < probability;\n    }\n\n    /**\n     * This method returns a random integer.\n     * @return A random integer.\n     */\n    public static int nextInt(){\n        return Randomizer.getInstance().nextInt();\n    }\n\n    /**\n     * This method returns a random integer between 0 and n, exclusive.\n     * @param n The maximum value for the range.\n     * @return A random integer between 0 and n, exclusive.\n     */\n    public static int nextInt(int n){\n        return Randomizer.getInstance().nextInt(n);\n    }\n\n    /**\n     * Return a number between min and max, inclusive.\n     * @param min   The minimum integer value of the range, inclusive.\n     * @param max   The maximum integer value in the range, inclusive.\n     * @return A random integer between min and max.\n     */\n    public static int nextInt(int min, int max){\n        return min + Randomizer.nextInt(max - min + 1);\n    }\n\n    /**\n     * Return a random double between 0 and 1.\n     * @return A random double between 0 and 1.\n     */\n    public static double nextDouble(){\n        return Randomizer.getInstance().nextDouble();\n    }\n\n    /**\n     * Return a random double between min and max.\n     * @param min The minimum double value in the range.\n     * @param max The maximum double value in the rang.\n     * @return A random double between min and max.\n     */\n    public static double nextDouble(double min, double max){\n        return min + (max - min) * Randomizer.nextDouble();\n    }\n\n    /**\n     * Return a random color.\n     * @return A random hex string that represents a color.\n     */\n    public static String nextColor(){\n        String randomNum = Integer.toHexString(Randomizer.nextInt(0, 16777216));\n        return "\'#" + randomNum + "\'";\n    }\n\n\n}\n'},{}],234:[function(e,t,n){t.exports='public class Rectangle extends Thing\n{\n\n    double width = 10;\n    double height = 10;\n\n    public Rectangle(int width, int height)\n    {\n        this.width = (double)width;\n        this.height = (double)height;\n        this.type = "Rectangle";\n        this.name = "thing" + Thing.numThings++;\n        System.out.println("js:var " + name + " = new Rectangle(" + width + "," + height +  ");");\n    }\n\n    public Rectangle(double width, double height)\n    {\n        this.width = width;\n        this.height = height;\n        this.name = "thing" + Thing.numThings++;\n        System.out.println("js:var " + name + " = new Rectangle(" + width + "," + height +  ");");\n    }\n\n    public double getWidth()\n    {\n        return width;\n    }\n\n    public double getHeight()\n    {\n        return height;\n    }\n}\n'},{}],235:[function(e,t,n){t.exports='public class Text extends Thing\n{\n\n    String text = "";\n    String font = "30pt Arial";\n\n    public Text(String text)\n    {\n        this.text = text;\n        this.type = "Text";\n        this.name = "thing" + Thing.numThings++;\n        System.out.println("js:var " + name + " = new Text(\'" + text + "\');");\n    }\n\n    public Text(String text, String font)\n    {\n        this.text = text;\n        this.type = "Text";\n        this.font = font;\n        this.name = "thing" + Thing.numThings++;\n        System.out.println("js:var " + name + " = new Text(\'" + text + "\',\'" + font + "\');");\n    }\n\n    public String getText()\n    {\n        return text;\n    }\n\n    public void setText(String text)\n    {\n        this.text = text;\n        System.out.println("js:" + name + ".setText(\'" + text + "\');");\n    }\n\n    public void setFont(String font)\n    {\n        this.font = font;\n        System.out.println("js:" + name + ".setFont(\'" + font + "\');");\n    }\n}\n'},{}],236:[function(e,t,n){t.exports='public class Thing\n{\n\n    public static int numThings = 0;\n\n    double x = 0;\n    double y = 0;\n    String color = "Color.black";\n    String name;\n    String type = "Thing";\n\n    public void setPosition(int x, int y)\n    {\n        this.x = (double)x;\n        this.y = (double)y;\n        System.out.println("js:" + name + ".setPosition(" + x + "," + y + ");");\n    }\n\n    public void setPosition(double x, double y)\n    {\n        this.x = x;\n        this.y = y;\n        System.out.println("js:" + name + ".setPosition(" + x + "," + y + ");");\n    }\n\n    public void move(int dx, int dy)\n    {\n        this.x += (double)dx;\n        this.y += (double)dy;\n        System.out.println("js:" + name + ".move(" + dx + "," + dy + ");");\n    }\n\n    public void move(double dx, double dy)\n    {\n        this.x += dx;\n        this.y += dy;\n        System.out.println("js:" + name + ".move(" + dx + "," + dy + ");");\n    }\n\n    public double getX()\n    {\n        return x;\n    }\n\n    public double getY()\n    {\n        return y;\n    }\n\n    public void setColor(String color)\n    {\n        if (color.charAt(0) == \'#\')\n        {\n            // So you can just enter a hex string in addition to Color.___\n            color = "\'" + color + "\'";\n        }\n        this.color = color;\n        System.out.println("js:" + name + ".setColor(" + this.color + ");");\n    }\n\n    public String getColor()\n    {\n        return color;\n    }\n}\n'},{}],237:[function(e,t,n){t.exports='import * as React from \'react\';\nimport { View, StatusBar } from \'react-native\';\nimport { WebView } from \'react-native-webview\';\n\nexport default class App extends React.Component {\n    render() {\n\n        var webViewCode = `\n<html>\n<head>\n<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">\n<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"><\/script>\n<script type="text/javascript" src="<% GULP_URL %>chs-js-lib/chs.js"><\/script>\n\n<style>\n    body, html {\n        margin: 0;\n        padding: 0;\n    }\n    canvas {\n        margin: 0px;\n        padding: 0px;\n        display: inline-block;\n        vertical-align: top;\n    }\n    #btn-container {\n        text-align: center;\n        padding-top: 10px;\n    }\n    #btn-play {\n        background-color: #8cc63e;\n    }\n    #btn-stop {\n        background-color: #de5844;\n    }\n    .glyphicon {\n        margin-top: -3px;\n        color: #FFFFFF;\n    }\n</style>\n</head>\n\n<body>\n    <div id="canvas-container" style="margin: 0 auto; ">\n        <canvas\n        id="game"\n        width="400"\n        height="480"\n        class="codehs-editor-canvas"\n        style="width: 100%; height: 100%; margin: 0 auto;"\n        ></canvas>\n    </div>\n    <div id="console"></div>\n    <div id="btn-container">\n        <button class="btn btn-main btn-lg" id="btn-play" onclick=\'stopProgram(); runProgram();\'><span class="glyphicon glyphicon-play" aria-hidden="true"></span></button>\n        <button class="btn btn-main btn-lg" id="btn-stop" onclick=\'stopProgram();\'><span class="glyphicon glyphicon-stop" aria-hidden="true"></span></button>\n    </div>\n\n<script>\n    var console = {};\n    console.log = function(msg){\n        $("#console").html($("#console").html() + "     " + msg);\n    };\n\n    var runProgram = function() {\n        <% placeholderCode %>\n\n        if (typeof start === \'function\') {\n            start();\n        }\n\n        // Overrides setSize() if called from the user\'s code. Needed because\n        // we have to change the canvas size and attributes to reflect the\n        // user\'s desired program size. Calling setSize() from user code only\n        // has an effect if Fit to Full Screen is Off. If Fit to Full Screen is\n        // On, then setSize() does nothing.\n        function setSize(width, height) {\n            if (!<% fullScreen %>) {\n                // Call original graphics setSize()\n                window.__graphics__.setSize(width, height);\n\n                // Scale to screen width but keep aspect ratio of program\n                // Subtract 2 to allow for border\n                var canvasWidth = window.innerWidth - 2;\n                var canvasHeight = canvasWidth * getHeight() / getWidth();\n\n                // Make canvas reflect desired size set\n                adjustMarginTop(canvasHeight);\n                setCanvasContainerSize(canvasWidth, canvasHeight);\n                setCanvasAttributes(canvasWidth, canvasHeight);\n            }\n        }\n    };\n\n    var stopProgram = function() {\n        removeAll();\n        window.__graphics__.fullReset();\n    }\n\n    window.onload = function() {\n        if (!<% showButtons %>) {\n            $(\'#btn-container\').remove();\n        }\n\n        var canvasWidth;\n        var canvasHeight;\n        if (<% fullScreen %>) {\n            // Get device window width and set program size to those dimensions\n            setSize(window.innerWidth, window.innerHeight);\n            canvasWidth = getWidth();\n            canvasHeight = getHeight();\n\n            if (<% showButtons %>) {\n                // Make room for buttons if being shown\n                $(\'#btn-container\').css(\'padding\', \'5px 0\');\n                canvasHeight -= $(\'#btn-container\').outerHeight();\n            }\n\n            setCanvasAttributes(canvasWidth, canvasHeight);\n        } else {\n            // Scale to screen width but keep aspect ratio of program\n            // Subtract 2 to allow for border\n            canvasWidth = window.innerWidth - 2;\n            canvasHeight = canvasWidth * getHeight() / getWidth();\n\n            // Light border around canvas if not full screen\n            $(\'#canvas-container\').css(\'border\', \'1px solid #beccd4\');\n\n            adjustMarginTop(canvasHeight);\n        }\n\n        setCanvasContainerSize(canvasWidth, canvasHeight);\n\n        if (<% startImmediately %>) {\n            runProgram();\n        }\n    };\n\n    // Set the canvas container width and height.\n    function setCanvasContainerSize(width, height) {\n        $(\'#canvas-container\').width(width);\n        $(\'#canvas-container\').height(height);\n    }\n\n    // Set the width and height attributes of the canvas. Allows\n    // getTouchCoordinates to sense x and y correctly.\n    function setCanvasAttributes(canvasWidth, canvasHeight) {\n        $(\'#game\').attr(\'width\', canvasWidth);\n        $(\'#game\').attr(\'height\', canvasHeight);\n    }\n\n    // Assumes the Fit to Full Screen setting is Off. Adjusts the top margin\n    // depending on the Show Play/Stop Buttons setting.\n    function adjustMarginTop(canvasHeight) {\n        var marginTop = (window.innerHeight - canvasHeight)/2;\n        if (<% showButtons %>) {\n            marginTop -= $(\'#btn-container\').height()/3;\n        }\n        $(\'#canvas-container\').css(\'margin-top\', marginTop);\n    }\n<\/script>\n</body>\n</html>\n`;\n        return (\n            <View style={{ flex: 1 }}>\n                <StatusBar hidden />\n                <WebView\n                    originWhitelist={[\'*\']}\n                    source={{html: webViewCode, baseUrl: "/"}}\n                    javaScriptEnabled={true}\n                    style={{ flex: 1 }}\n                    scrollEnabled={false}\n                    bounces={false}\n                    scalesPageToFit={false}\n                ></WebView>\n            </View>\n        );\n    }\n}\n'},{}],238:[function(e,t,n){t.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},t.exports.default=t.exports,t.exports.__esModule=!0},{}],239:[function(e,t,n){var i=e("./setPrototypeOf.js"),r=e("./isNativeReflectConstruct.js");function o(e,n,a){return r()?(t.exports=o=Reflect.construct,t.exports.default=t.exports,t.exports.__esModule=!0):(t.exports=o=function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&i(o,n.prototype),o},t.exports.default=t.exports,t.exports.__esModule=!0),o.apply(null,arguments)}t.exports=o,t.exports.default=t.exports,t.exports.__esModule=!0},{"./isNativeReflectConstruct.js":244,"./setPrototypeOf.js":245}],240:[function(e,t,n){function i(){return t.exports=i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},t.exports.default=t.exports,t.exports.__esModule=!0,i.apply(this,arguments)}t.exports=i,t.exports.default=t.exports,t.exports.__esModule=!0},{}],241:[function(e,t,n){var i=e("./setPrototypeOf.js");t.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)},t.exports.default=t.exports,t.exports.__esModule=!0},{"./setPrototypeOf.js":245}],242:[function(e,t,n){var i=e("./setPrototypeOf.js");t.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)},t.exports.default=t.exports,t.exports.__esModule=!0},{"./setPrototypeOf.js":245}],243:[function(e,t,n){t.exports=function(e){return e&&e.__esModule?e:{default:e}},t.exports.default=t.exports,t.exports.__esModule=!0},{}],244:[function(e,t,n){t.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},t.exports.default=t.exports,t.exports.__esModule=!0},{}],245:[function(e,t,n){function i(e,n){return t.exports=i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},t.exports.default=t.exports,t.exports.__esModule=!0,i(e,n)}t.exports=i,t.exports.default=t.exports,t.exports.__esModule=!0},{}],246:[function(e,t,n){function i(e){if(e)return function(e){for(var t in i.prototype)e[t]=i.prototype[t];return e}(e)}n.Emitter=i,i.prototype.on=i.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},i.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,i=this._callbacks["$"+e];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r=0;r<i.length;r++)if((n=i[r])===t||n.fn===t){i.splice(r,1);break}return 0===i.length&&delete this._callbacks["$"+e],this},i.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(n){i=0;for(var r=(n=n.slice(0)).length;i<r;++i)n[i].apply(this,t)}return this},i.prototype.emitReserved=i.prototype.emit,i.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},i.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],247:[function(e,t,n){"use strict";var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.reverseBytes=n.sliceBytes=n.bytesMatch=n.concatTypedArrays=n.stringToBytes=n.bytesToString=n.numberToBytes=n.bytesToNumber=n.IS_LITTLE_ENDIAN=n.IS_BIG_ENDIAN=n.ENDIANNESS=n.toBinaryString=n.toHexString=n.toUint8=n.isTypedArray=n.isArrayBufferView=n.padStart=n.countBytes=n.countBits=void 0;var r=i(e("global/window")),o=function(e){return e.toString(2).length};n.countBits=o;var a=function(e){return Math.ceil(o(e)/8)};n.countBytes=a;var s=function(e,t,n){return void 0===n&&(n=" "),(function(e,t){for(var n="";t--;)n+=e;return n}(n,t)+e.toString()).slice(-t)};n.padStart=s;var u=function(e){return"function"===ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer};n.isArrayBufferView=u;var l=function(e){return u(e)};n.isTypedArray=l;var c=function(e){return e instanceof Uint8Array?e:(Array.isArray(e)||l(e)||e instanceof ArrayBuffer||(e="number"!=typeof e||"number"==typeof e&&e!=e?0:[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))};n.toUint8=c;n.toHexString=function(e){e=c(e);for(var t="",n=0;n<e.length;n++)t+=s(e[n].toString(16),2,"0");return t};n.toBinaryString=function(e){e=c(e);for(var t="",n=0;n<e.length;n++)t+=s(e[n].toString(2),8,"0");return t};var d,p,h=r.default.BigInt||Number,f=[h("0x1"),h("0x100"),h("0x10000"),h("0x1000000"),h("0x100000000"),h("0x10000000000"),h("0x1000000000000"),h("0x100000000000000"),h("0x10000000000000000")],m=(d=new Uint16Array([65484]),255===(p=new Uint8Array(d.buffer,d.byteOffset,d.byteLength))[0]?"big":204===p[0]?"little":"unknown");n.ENDIANNESS=m;var g="big"===m;n.IS_BIG_ENDIAN=g;var y="little"===m;n.IS_LITTLE_ENDIAN=y;n.bytesToNumber=function(e,t){var n=void 0===t?{}:t,i=n.signed,r=void 0!==i&&i,o=n.le,a=void 0!==o&&o;e=c(e);var s=a?"reduce":"reduceRight",u=(e[s]?e[s]:Array.prototype[s]).call(e,(function(t,n,i){var r=a?i:Math.abs(i+1-e.length);return t+h(n)*f[r]}),h(0));if(r){var l=f[e.length]/h(2)-h(1);(u=h(u))>l&&(u-=l,u-=l,u-=h(2))}return Number(u)};n.numberToBytes=function(e,t){var n=(void 0===t?{}:t).le,i=void 0!==n&&n;("bigint"!=typeof e&&"number"!=typeof e||"number"==typeof e&&e!=e)&&(e=0),e=h(e);for(var r=a(e),o=new Uint8Array(new ArrayBuffer(r)),s=0;s<r;s++){var u=i?s:Math.abs(s+1-o.length);o[u]=Number(e/f[s]&h(255)),e<0&&(o[u]=Math.abs(~o[u]),o[u]-=0===s?1:2)}return o};n.bytesToString=function(e){if(!e)return"";e=Array.prototype.slice.call(e);var t=String.fromCharCode.apply(null,c(e));try{return decodeURIComponent(escape(t))}catch(e){}return t};n.stringToBytes=function(e,t){if("string"!=typeof e&&e&&"function"==typeof e.toString&&(e=e.toString()),"string"!=typeof e)return new Uint8Array;t||(e=unescape(encodeURIComponent(e)));for(var n=new Uint8Array(e.length),i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n};n.concatTypedArrays=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t=t.filter((function(e){return e&&(e.byteLength||e.length)&&"string"!=typeof e})),t.length<=1)return c(t[0]);var i=t.reduce((function(e,t,n){return e+(t.byteLength||t.length)}),0),r=new Uint8Array(i),o=0;return t.forEach((function(e){e=c(e),r.set(e,o),o+=e.byteLength})),r};n.bytesMatch=function(e,t,n){var i=void 0===n?{}:n,r=i.offset,o=void 0===r?0:r,a=i.mask,s=void 0===a?[]:a;e=c(e);var u=(t=c(t)).every?t.every:Array.prototype.every;return t.length&&e.length-o>=t.length&&u.call(t,(function(t,n){return t===(s[n]?s[n]&e[o+n]:e[o+n])}))};n.sliceBytes=function(e,t,n){return Uint8Array.prototype.slice?Uint8Array.prototype.slice.call(e,t,n):new Uint8Array(Array.prototype.slice.call(e,t,n))};n.reverseBytes=function(e){return e.reverse?e.reverse():Array.prototype.reverse.call(e)}},{"@babel/runtime/helpers/interopRequireDefault":243,"global/window":430}],248:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getHvcCodec=n.getAvcCodec=n.getAv1Codec=void 0;var i=e("./byte-helpers.js");n.getAv1Codec=function(e){var t,n="",r=e[1]>>>3,o=31&e[1],a=e[2]>>>7,s=(64&e[2])>>6,u=(32&e[2])>>5,l=(16&e[2])>>4,c=(8&e[2])>>3,d=(4&e[2])>>2,p=3&e[2];return n+=r+"."+(0,i.padStart)(o,2,"0"),0===a?n+="M":1===a&&(n+="H"),t=2===r&&s?u?12:10:s?10:8,n+="."+(0,i.padStart)(t,2,"0"),n+="."+l,n+="."+c+d+p};n.getAvcCodec=function(e){return""+(0,i.toHexString)(e[1])+(0,i.toHexString)(252&e[2])+(0,i.toHexString)(e[3])};n.getHvcCodec=function(e){var t="",n=e[1]>>6,r=31&e[1],o=(32&e[1])>>5,a=e.subarray(2,6),s=e.subarray(6,12),u=e[12];1===n?t+="A":2===n?t+="B":3===n&&(t+="C"),t+=r+".";var l=parseInt((0,i.toBinaryString)(a).split("").reverse().join(""),2);l>255&&(l=parseInt((0,i.toBinaryString)(a),2)),t+=l.toString(16)+".",t+=0===o?"L":"H",t+=u;for(var c="",d=0;d<s.length;d++){var p=s[d];p&&(c&&(c+="."),c+=p.toString(16))}return c&&(t+="."+c),t}},{"./byte-helpers.js":247}],249:[function(e,t,n){"use strict";var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.DEFAULT_VIDEO_CODEC=n.DEFAULT_AUDIO_CODEC=n.muxerSupportsCodec=n.browserSupportsCodec=n.getMimeForCodec=n.isTextCodec=n.isAudioCodec=n.isVideoCodec=n.codecsFromDefault=n.parseCodecs=n.mapLegacyAvcCodecs=n.translateLegacyCodecs=n.translateLegacyCodec=void 0;var r=i(e("global/window")),o={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},a=["video","audio","text"],s=["Video","Audio","Text"],u=function(e){return e?e.replace(/avc1\.(\d+)\.(\d+)/i,(function(e,t,n){return"avc1."+("00"+Number(t).toString(16)).slice(-2)+"00"+("00"+Number(n).toString(16)).slice(-2)})):e};n.translateLegacyCodec=u;var l=function(e){return e.map(u)};n.translateLegacyCodecs=l;n.mapLegacyAvcCodecs=function(e){return e.replace(/avc1\.(\d+)\.(\d+)/i,(function(e){return l([e])[0]}))};var c=function(e){void 0===e&&(e="");var t=e.split(","),n=[];return t.forEach((function(e){var t;e=e.trim(),a.forEach((function(i){var r=o[i].exec(e.toLowerCase());if(r&&!(r.length<=1)){t=i;var a=e.substring(0,r[1].length),s=e.replace(a,"");n.push({type:a,details:s,mediaType:i})}})),t||n.push({type:e,details:"",mediaType:"unknown"})})),n};n.parseCodecs=c;n.codecsFromDefault=function(e,t){if(!e.mediaGroups.AUDIO||!t)return null;var n=e.mediaGroups.AUDIO[t];if(!n)return null;for(var i in n){var r=n[i];if(r.default&&r.playlists)return c(r.playlists[0].attributes.CODECS)}return null};n.isVideoCodec=function(e){return void 0===e&&(e=""),o.video.test(e.trim().toLowerCase())};var d=function(e){return void 0===e&&(e=""),o.audio.test(e.trim().toLowerCase())};n.isAudioCodec=d;var p=function(e){return void 0===e&&(e=""),o.text.test(e.trim().toLowerCase())};n.isTextCodec=p;var h=function(e){if(e&&"string"==typeof e){var t=e.toLowerCase().split(",").map((function(e){return u(e.trim())})),n="video";1===t.length&&d(t[0])?n="audio":1===t.length&&p(t[0])&&(n="application");var i="mp4";return t.every((function(e){return o.mp4.test(e)}))?i="mp4":t.every((function(e){return o.webm.test(e)}))?i="webm":t.every((function(e){return o.ogg.test(e)}))&&(i="ogg"),n+"/"+i+';codecs="'+e+'"'}};n.getMimeForCodec=h;n.browserSupportsCodec=function(e){return void 0===e&&(e=""),r.default.MediaSource&&r.default.MediaSource.isTypeSupported&&r.default.MediaSource.isTypeSupported(h(e))||!1};n.muxerSupportsCodec=function(e){return void 0===e&&(e=""),e.toLowerCase().split(",").every((function(e){e=e.trim();for(var t=0;t<s.length;t++){if(o["muxer"+s[t]].test(e))return!0}return!1}))};n.DEFAULT_AUDIO_CODEC="mp4a.40.2";n.DEFAULT_VIDEO_CODEC="avc1.4d400d"},{"@babel/runtime/helpers/interopRequireDefault":243,"global/window":430}],250:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isLikelyFmp4MediaSegment=n.detectContainerForBytes=n.isLikely=void 0;var i=e("./byte-helpers.js"),r=e("./mp4-helpers.js"),o=e("./ebml-helpers.js"),a=e("./id3-helpers.js"),s=e("./nal-helpers.js"),u={webm:(0,i.toUint8)([119,101,98,109]),matroska:(0,i.toUint8)([109,97,116,114,111,115,107,97]),flac:(0,i.toUint8)([102,76,97,67]),ogg:(0,i.toUint8)([79,103,103,83]),ac3:(0,i.toUint8)([11,119]),riff:(0,i.toUint8)([82,73,70,70]),avi:(0,i.toUint8)([65,86,73]),wav:(0,i.toUint8)([87,65,86,69]),"3gp":(0,i.toUint8)([102,116,121,112,51,103]),mp4:(0,i.toUint8)([102,116,121,112]),fmp4:(0,i.toUint8)([115,116,121,112]),mov:(0,i.toUint8)([102,116,121,112,113,116]),moov:(0,i.toUint8)([109,111,111,118]),moof:(0,i.toUint8)([109,111,111,102])},l={aac:function(e){var t=(0,a.getId3Offset)(e);return(0,i.bytesMatch)(e,[255,16],{offset:t,mask:[255,22]})},mp3:function(e){var t=(0,a.getId3Offset)(e);return(0,i.bytesMatch)(e,[255,2],{offset:t,mask:[255,6]})},webm:function(e){var t=(0,o.findEbml)(e,[o.EBML_TAGS.EBML,o.EBML_TAGS.DocType])[0];return(0,i.bytesMatch)(t,u.webm)},mkv:function(e){var t=(0,o.findEbml)(e,[o.EBML_TAGS.EBML,o.EBML_TAGS.DocType])[0];return(0,i.bytesMatch)(t,u.matroska)},mp4:function(e){return!l["3gp"](e)&&!l.mov(e)&&(!(!(0,i.bytesMatch)(e,u.mp4,{offset:4})&&!(0,i.bytesMatch)(e,u.fmp4,{offset:4}))||(!(!(0,i.bytesMatch)(e,u.moof,{offset:4})&&!(0,i.bytesMatch)(e,u.moov,{offset:4}))||void 0))},mov:function(e){return(0,i.bytesMatch)(e,u.mov,{offset:4})},"3gp":function(e){return(0,i.bytesMatch)(e,u["3gp"],{offset:4})},ac3:function(e){var t=(0,a.getId3Offset)(e);return(0,i.bytesMatch)(e,u.ac3,{offset:t})},ts:function(e){if(e.length<189&&e.length>=1)return 71===e[0];for(var t=0;t+188<e.length&&t<188;){if(71===e[t]&&71===e[t+188])return!0;t+=1}return!1},flac:function(e){var t=(0,a.getId3Offset)(e);return(0,i.bytesMatch)(e,u.flac,{offset:t})},ogg:function(e){return(0,i.bytesMatch)(e,u.ogg)},avi:function(e){return(0,i.bytesMatch)(e,u.riff)&&(0,i.bytesMatch)(e,u.avi,{offset:8})},wav:function(e){return(0,i.bytesMatch)(e,u.riff)&&(0,i.bytesMatch)(e,u.wav,{offset:8})},h264:function(e){return(0,s.findH264Nal)(e,7,3).length},h265:function(e){return(0,s.findH265Nal)(e,[32,33],3).length}},c=Object.keys(l).filter((function(e){return"ts"!==e&&"h264"!==e&&"h265"!==e})).concat(["ts","h264","h265"]);c.forEach((function(e){var t=l[e];l[e]=function(e){return t((0,i.toUint8)(e))}}));var d=l;n.isLikely=d;n.detectContainerForBytes=function(e){e=(0,i.toUint8)(e);for(var t=0;t<c.length;t++){var n=c[t];if(d[n](e))return n}return""};n.isLikelyFmp4MediaSegment=function(e){return(0,r.findBox)(e,["moof"]).length>0}},{"./byte-helpers.js":247,"./ebml-helpers.js":252,"./id3-helpers.js":253,"./mp4-helpers.js":256,"./nal-helpers.js":257}],251:[function(e,t,n){(function(i){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){for(var t=(a=e,o.default.atob?o.default.atob(a):i.from(a,"base64").toString("binary")),n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);var a;return n};var o=r(e("global/window"));t.exports=n.default}).call(this,e("buffer").Buffer)},{"@babel/runtime/helpers/interopRequireDefault":243,buffer:285,"global/window":430}],252:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.parseData=n.parseTracks=n.decodeBlock=n.findEbml=n.EBML_TAGS=void 0;var i=e("./byte-helpers"),r=e("./codec-helpers.js"),o={EBML:(0,i.toUint8)([26,69,223,163]),DocType:(0,i.toUint8)([66,130]),Segment:(0,i.toUint8)([24,83,128,103]),SegmentInfo:(0,i.toUint8)([21,73,169,102]),Tracks:(0,i.toUint8)([22,84,174,107]),Track:(0,i.toUint8)([174]),TrackNumber:(0,i.toUint8)([215]),DefaultDuration:(0,i.toUint8)([35,227,131]),TrackEntry:(0,i.toUint8)([174]),TrackType:(0,i.toUint8)([131]),FlagDefault:(0,i.toUint8)([136]),CodecID:(0,i.toUint8)([134]),CodecPrivate:(0,i.toUint8)([99,162]),VideoTrack:(0,i.toUint8)([224]),AudioTrack:(0,i.toUint8)([225]),Cluster:(0,i.toUint8)([31,67,182,117]),Timestamp:(0,i.toUint8)([231]),TimestampScale:(0,i.toUint8)([42,215,177]),BlockGroup:(0,i.toUint8)([160]),BlockDuration:(0,i.toUint8)([155]),Block:(0,i.toUint8)([161]),SimpleBlock:(0,i.toUint8)([163])};n.EBML_TAGS=o;var a=[128,64,32,16,8,4,2,1],s=function(e,t,n,r){void 0===n&&(n=!0),void 0===r&&(r=!1);var o=function(e){for(var t=1,n=0;n<a.length&&!(e&a[n]);n++)t++;return t}(e[t]),s=e.subarray(t,t+o);return n&&((s=Array.prototype.slice.call(e,t,t+o))[0]^=a[o-1]),{length:o,value:(0,i.bytesToNumber)(s,{signed:r}),bytes:s}},u=function e(t){return"string"==typeof t?t.match(/.{1,2}/g).map((function(t){return e(t)})):"number"==typeof t?(0,i.numberToBytes)(t):t},l=function e(t,n,r){if(r>=n.length)return n.length;var o=s(n,r,!1);if((0,i.bytesMatch)(t.bytes,o.bytes))return r;var a=s(n,r+o.length);return e(t,n,r+a.length+a.value+o.length)},c=function e(t,n){n=function(e){return Array.isArray(e)?e.map((function(e){return u(e)})):[u(e)]}(n),t=(0,i.toUint8)(t);var r=[];if(!n.length)return r;for(var o=0;o<t.length;){var a=s(t,o,!1),c=s(t,o+a.length),d=o+a.length+c.length;127===c.value&&(c.value=l(a,t,d),c.value!==t.length&&(c.value-=d));var p=d+c.value>t.length?t.length:d+c.value,h=t.subarray(d,p);(0,i.bytesMatch)(n[0],a.bytes)&&(1===n.length?r.push(h):r=r.concat(e(h,n.slice(1)))),o+=a.length+c.length+h.length}return r};n.findEbml=c;var d=function(e,t,n,r){var a;"group"===t&&((a=c(e,[o.BlockDuration])[0])&&(a=1/n*(a=(0,i.bytesToNumber)(a))*n/1e3),e=c(e,[o.Block])[0],t="block");var u=new DataView(e.buffer,e.byteOffset,e.byteLength),l=s(e,0),d=u.getInt16(l.length,!1),p=e[l.length+2],h=e.subarray(l.length+3),f=1/n*(r+d)*n/1e3,m={duration:a,trackNumber:l.value,keyframe:"simple"===t&&p>>7==1,invisible:(8&p)>>3==1,lacing:(6&p)>>1,discardable:"simple"===t&&1==(1&p),frames:[],pts:f,dts:f,timestamp:d};if(!m.lacing)return m.frames.push(h),m;var g=h[0]+1,y=[],v=1;if(2===m.lacing)for(var _=(h.length-v)/g,b=0;b<g;b++)y.push(_);if(1===m.lacing)for(var w=0;w<g-1;w++){var E=0;do{E+=h[v],v++}while(255===h[v-1]);y.push(E)}if(3===m.lacing)for(var S=0,T=0;T<g-1;T++){var C=0===T?s(h,v):s(h,v,!0,!0);S+=C.value,y.push(S),v+=C.length}return y.forEach((function(e){m.frames.push(h.subarray(v,v+e)),v+=e})),m};n.decodeBlock=d;var p=function(e){e=(0,i.toUint8)(e);var t=[],n=c(e,[o.Segment,o.Tracks,o.Track]);return n.length||(n=c(e,[o.Tracks,o.Track])),n.length||(n=c(e,[o.Track])),n.length?(n.forEach((function(e){var n=c(e,o.TrackType)[0];if(n&&n.length){if(1===n[0])n="video";else if(2===n[0])n="audio";else{if(17!==n[0])return;n="subtitle"}var a={rawCodec:(0,i.bytesToString)(c(e,[o.CodecID])[0]),type:n,codecPrivate:c(e,[o.CodecPrivate])[0],number:(0,i.bytesToNumber)(c(e,[o.TrackNumber])[0]),defaultDuration:(0,i.bytesToNumber)(c(e,[o.DefaultDuration])[0]),default:c(e,[o.FlagDefault])[0],rawData:e},s="";if(/V_MPEG4\/ISO\/AVC/.test(a.rawCodec))s="avc1."+(0,r.getAvcCodec)(a.codecPrivate);else if(/V_MPEGH\/ISO\/HEVC/.test(a.rawCodec))s="hev1."+(0,r.getHvcCodec)(a.codecPrivate);else if(/V_MPEG4\/ISO\/ASP/.test(a.rawCodec))s=a.codecPrivate?"mp4v.20."+a.codecPrivate[4].toString():"mp4v.20.9";else if(/^V_THEORA/.test(a.rawCodec))s="theora";else if(/^V_VP8/.test(a.rawCodec))s="vp8";else if(/^V_VP9/.test(a.rawCodec))if(a.codecPrivate){var u=function(e){for(var t=0,n={};t<e.length;){var i=127&e[t],r=e[t+1],o=void 0;o=1===r?e[t+2]:e.subarray(t+2,t+2+r),1===i?n.profile=o:2===i?n.level=o:3===i?n.bitDepth=o:4===i?n.chromaSubsampling=o:n[i]=o,t+=2+r}return n}(a.codecPrivate),l=u.profile,d=u.level,p=u.bitDepth,h=u.chromaSubsampling;s="vp09.",s+=(0,i.padStart)(l,2,"0")+".",s+=(0,i.padStart)(d,2,"0")+".",s+=(0,i.padStart)(p,2,"0")+".",s+=""+(0,i.padStart)(h,2,"0");var f=c(e,[224,[85,176],[85,177]])[0]||[],m=c(e,[224,[85,176],[85,185]])[0]||[],g=c(e,[224,[85,176],[85,186]])[0]||[],y=c(e,[224,[85,176],[85,187]])[0]||[];(f.length||m.length||g.length||y.length)&&(s+="."+(0,i.padStart)(y[0],2,"0"),s+="."+(0,i.padStart)(g[0],2,"0"),s+="."+(0,i.padStart)(f[0],2,"0"),s+="."+(0,i.padStart)(m[0],2,"0"))}else s="vp9";else/^V_AV1/.test(a.rawCodec)?s="av01."+(0,r.getAv1Codec)(a.codecPrivate):/A_ALAC/.test(a.rawCodec)?s="alac":/A_MPEG\/L2/.test(a.rawCodec)?s="mp2":/A_MPEG\/L3/.test(a.rawCodec)?s="mp3":/^A_AAC/.test(a.rawCodec)?s=a.codecPrivate?"mp4a.40."+(a.codecPrivate[0]>>>3).toString():"mp4a.40.2":/^A_AC3/.test(a.rawCodec)?s="ac-3":/^A_PCM/.test(a.rawCodec)?s="pcm":/^A_MS\/ACM/.test(a.rawCodec)?s="speex":/^A_EAC3/.test(a.rawCodec)?s="ec-3":/^A_VORBIS/.test(a.rawCodec)?s="vorbis":/^A_FLAC/.test(a.rawCodec)?s="flac":/^A_OPUS/.test(a.rawCodec)&&(s="opus");a.codec=s,t.push(a)}})),t.sort((function(e,t){return e.number-t.number}))):t};n.parseTracks=p;n.parseData=function(e,t){var n=[],r=c(e,[o.Segment])[0],a=c(r,[o.SegmentInfo,o.TimestampScale])[0];a=a&&a.length?(0,i.bytesToNumber)(a):1e6;var s=c(r,[o.Cluster]);return t||(t=p(r)),s.forEach((function(e,t){var r=c(e,[o.SimpleBlock]).map((function(e){return{type:"simple",data:e}})),s=c(e,[o.BlockGroup]).map((function(e){return{type:"group",data:e}})),u=c(e,[o.Timestamp])[0]||0;u&&u.length&&(u=(0,i.bytesToNumber)(u)),r.concat(s).sort((function(e,t){return e.data.byteOffset-t.data.byteOffset})).forEach((function(e,t){var i=d(e.data,e.type,a,u);n.push(i)}))})),{tracks:t,blocks:n}}},{"./byte-helpers":247,"./codec-helpers.js":248}],253:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getId3Offset=n.getId3Size=void 0;var i=e("./byte-helpers.js"),r=(0,i.toUint8)([73,68,51]),o=function(e,t){void 0===t&&(t=0);var n=(e=(0,i.toUint8)(e))[t+5],r=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return(16&n)>>4?r+20:r+10};n.getId3Size=o;n.getId3Offset=function e(t,n){return void 0===n&&(n=0),(t=(0,i.toUint8)(t)).length-n<10||!(0,i.bytesMatch)(t,r,{offset:n})?n:e(t,n+=o(t,n))}},{"./byte-helpers.js":247}],254:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.forEachMediaGroup=void 0;n.forEachMediaGroup=function(e,t,n){t.forEach((function(t){for(var i in e.mediaGroups[t])for(var r in e.mediaGroups[t][i]){var o=e.mediaGroups[t][i][r];n(o,t,i,r)}}))}},{}],255:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.simpleTypeFromSourceType=void 0;var i=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,r=/^application\/dash\+xml/i;n.simpleTypeFromSourceType=function(e){return i.test(e)?"hls":r.test(e)?"dash":"application/vnd.videojs.vhs+json"===e?"vhs-json":null}},{}],256:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.parseMediaInfo=n.parseTracks=n.addSampleDescription=n.buildFrameTable=n.findNamedBox=n.findBox=n.parseDescriptors=void 0;var i,r=e("./byte-helpers.js"),o=e("./codec-helpers.js"),a=e("./opus-helpers.js"),s=function(e){return"string"==typeof e?(0,r.stringToBytes)(e):e},u=function(e){e=(0,r.toUint8)(e);for(var t=[],n=0;e.length>n;){var o=e[n],a=0,s=0,u=e[++s];for(s++;128&u;)a=(127&u)<<7,u=e[s],s++;a+=127&u;for(var l=0;l<i.length;l++){var c=i[l],d=c.id,p=c.parser;if(o===d){t.push(p(e.subarray(s,s+a)));break}}n+=a+s}return t};n.parseDescriptors=u,i=[{id:3,parser:function(e){var t={tag:3,id:e[0]<<8|e[1],flags:e[2],size:3,dependsOnEsId:0,ocrEsId:0,descriptors:[],url:""};if(128&t.flags&&(t.dependsOnEsId=e[t.size]<<8|e[t.size+1],t.size+=2),64&t.flags){var n=e[t.size];t.url=(0,r.bytesToString)(e.subarray(t.size+1,t.size+1+n)),t.size+=n}return 32&t.flags&&(t.ocrEsId=e[t.size]<<8|e[t.size+1],t.size+=2),t.descriptors=u(e.subarray(t.size))||[],t}},{id:4,parser:function(e){return{tag:4,oti:e[0],streamType:e[1],bufferSize:e[2]<<16|e[3]<<8|e[4],maxBitrate:e[5]<<24|e[6]<<16|e[7]<<8|e[8],avgBitrate:e[9]<<24|e[10]<<16|e[11]<<8|e[12],descriptors:u(e.subarray(13))}}},{id:5,parser:function(e){return{tag:5,bytes:e}}},{id:6,parser:function(e){return{tag:6,bytes:e}}}];var l=function e(t,n,i){void 0===i&&(i=!1),n=function(e){return Array.isArray(e)?e.map((function(e){return s(e)})):[s(e)]}(n),t=(0,r.toUint8)(t);var o=[];if(!n.length)return o;for(var a=0;a<t.length;){var u=(t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3])>>>0,l=t.subarray(a+4,a+8);if(0===u)break;var c=a+u;if(c>t.length){if(i)break;c=t.length}var d=t.subarray(a+8,c);(0,r.bytesMatch)(l,n[0])&&(1===n.length?o.push(d):o.push.apply(o,e(d,n.slice(1),i))),a=c}return o};n.findBox=l;var c=function(e,t){if(!(t=s(t)).length)return e.subarray(e.length);for(var n=0;n<e.length;){if((0,r.bytesMatch)(e.subarray(n,n+t.length),t)){var i=(e[n-4]<<24|e[n-3]<<16|e[n-2]<<8|e[n-1])>>>0,o=i>1?n+i:e.byteLength;return e.subarray(n+4,o)}n++}return e.subarray(e.length)};n.findNamedBox=c;var d=function(e,t,n){void 0===t&&(t=4),void 0===n&&(n=function(e){return(0,r.bytesToNumber)(e)});var i=[];if(!e||!e.length)return i;for(var o=(0,r.bytesToNumber)(e.subarray(4,8)),a=8;o;a+=t,o--)i.push(n(e.subarray(a,a+t)));return i},p=function(e,t){for(var n=d(l(e,["stss"])[0]),i=d(l(e,["stco"])[0]),o=d(l(e,["stts"])[0],8,(function(e){return{sampleCount:(0,r.bytesToNumber)(e.subarray(0,4)),sampleDelta:(0,r.bytesToNumber)(e.subarray(4,8))}})),a=d(l(e,["stsc"])[0],12,(function(e){return{firstChunk:(0,r.bytesToNumber)(e.subarray(0,4)),samplesPerChunk:(0,r.bytesToNumber)(e.subarray(4,8)),sampleDescriptionIndex:(0,r.bytesToNumber)(e.subarray(8,12))}})),s=l(e,["stsz"])[0],u=d(s&&s.length&&s.subarray(4)||null),c=[],p=0;p<i.length;p++){for(var h=void 0,f=0;f<a.length;f++){var m=a[f];if(p+1>=m.firstChunk&&(f+1>=a.length||p+1<a[f+1].firstChunk)){h=m.samplesPerChunk;break}}for(var g=i[p],y=0;y<h;y++){var v=u[c.length],_=!n.length;n.length&&-1!==n.indexOf(c.length+1)&&(_=!0);for(var b={keyframe:_,start:g,end:g+v},w=0;w<o.length;w++){var E=o[w],S=E.sampleCount,T=E.sampleDelta;if(c.length<=S){var C=c.length?c[c.length-1].timestamp:0;b.timestamp=C+T/t*1e3,b.duration=T;break}}c.push(b),g+=v}}return c};n.buildFrameTable=p;var h=function(e,t){var n=(0,r.bytesToString)(t.subarray(0,4));if("video"===e.type?(e.info=e.info||{},e.info.width=t[28]<<8|t[29],e.info.height=t[30]<<8|t[31]):"audio"===e.type&&(e.info=e.info||{},e.info.channels=t[20]<<8|t[21],e.info.bitDepth=t[22]<<8|t[23],e.info.sampleRate=t[28]<<8|t[29]),"avc1"===n){var i=c(t,"avcC");n+="."+(0,o.getAvcCodec)(i),e.info.avcC=i}else if("hvc1"===n||"hev1"===n)n+="."+(0,o.getHvcCodec)(c(t,"hvcC"));else if("mp4a"===n||"mp4v"===n){var s=c(t,"esds"),l=u(s.subarray(4))[0],d=l&&l.descriptors.filter((function(e){return 4===e.tag}))[0];d?(n+="."+(0,r.toHexString)(d.oti),64===d.oti?n+="."+(d.descriptors[0].bytes[0]>>3).toString():32===d.oti?n+="."+d.descriptors[0].bytes[4].toString():221===d.oti&&(n="vorbis")):"audio"===e.type?n+=".40.2":n+=".20.9"}else if("av01"===n)n+="."+(0,o.getAv1Codec)(c(t,"av1C"));else if("vp09"===n){var p=c(t,"vpcC"),h=p[0],f=p[1],m=p[2]>>4,g=(15&p[2])>>1,y=(15&p[2])>>3,v=p[3],_=p[4],b=p[5];n+="."+(0,r.padStart)(h,2,"0"),n+="."+(0,r.padStart)(f,2,"0"),n+="."+(0,r.padStart)(m,2,"0"),n+="."+(0,r.padStart)(g,2,"0"),n+="."+(0,r.padStart)(v,2,"0"),n+="."+(0,r.padStart)(_,2,"0"),n+="."+(0,r.padStart)(b,2,"0"),n+="."+(0,r.padStart)(y,2,"0")}else if("theo"===n)n="theora";else if("spex"===n)n="speex";else if(".mp3"===n)n="mp4a.40.34";else if("msVo"===n)n="vorbis";else if("Opus"===n){n="opus";var w=c(t,"dOps");e.info.opus=(0,a.parseOpusHead)(w),e.info.codecDelay=65e5}else n=n.toLowerCase();e.codec=n};n.addSampleDescription=h;n.parseTracks=function(e,t){void 0===t&&(t=!0),e=(0,r.toUint8)(e);var n=l(e,["moov","trak"],!0),i=[];return n.forEach((function(e){var n={bytes:e},o=l(e,["mdia"])[0],a=l(o,["hdlr"])[0],s=(0,r.bytesToString)(a.subarray(8,12));n.type="soun"===s?"audio":"vide"===s?"video":s;var u=l(e,["tkhd"])[0];if(u){var c=new DataView(u.buffer,u.byteOffset,u.byteLength),d=c.getUint8(0);n.number=0===d?c.getUint32(12):c.getUint32(20)}var f=l(o,["mdhd"])[0];if(f){var m=0===f[0]?12:20;n.timescale=(f[m]<<24|f[m+1]<<16|f[m+2]<<8|f[m+3])>>>0}for(var g=l(o,["minf","stbl"])[0],y=l(g,["stsd"])[0],v=(0,r.bytesToNumber)(y.subarray(4,8)),_=8;v--;){var b=(0,r.bytesToNumber)(y.subarray(_,_+4)),w=y.subarray(_+4,_+4+b);h(n,w),_+=4+b}t&&(n.frameTable=p(g,n.timescale)),i.push(n)})),i};n.parseMediaInfo=function(e){var t=l(e,["moov","mvhd"],!0)[0];if(t&&t.length){var n={};return 1===t[0]?(n.timestampScale=(0,r.bytesToNumber)(t.subarray(20,24)),n.duration=(0,r.bytesToNumber)(t.subarray(24,32))):(n.timestampScale=(0,r.bytesToNumber)(t.subarray(12,16)),n.duration=(0,r.bytesToNumber)(t.subarray(16,20))),n.bytes=t,n}}},{"./byte-helpers.js":247,"./codec-helpers.js":248,"./opus-helpers.js":258}],257:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.findH265Nal=n.findH264Nal=n.findNal=n.discardEmulationPreventionBytes=n.EMULATION_PREVENTION=n.NAL_TYPE_TWO=n.NAL_TYPE_ONE=void 0;var i=e("./byte-helpers.js"),r=(0,i.toUint8)([0,0,0,1]);n.NAL_TYPE_ONE=r;var o=(0,i.toUint8)([0,0,1]);n.NAL_TYPE_TWO=o;var a=(0,i.toUint8)([0,0,3]);n.EMULATION_PREVENTION=a;var s=function(e){for(var t=[],n=1;n<e.length-2;)(0,i.bytesMatch)(e.subarray(n,n+3),a)&&(t.push(n+2),n++),n++;if(0===t.length)return e;var r=e.length-t.length,o=new Uint8Array(r),s=0;for(n=0;n<r;s++,n++)s===t[0]&&(s++,t.shift()),o[n]=e[s];return o};n.discardEmulationPreventionBytes=s;var u=function(e,t,n,a){void 0===a&&(a=1/0),e=(0,i.toUint8)(e),n=[].concat(n);for(var u,l=0,c=0;l<e.length&&(c<a||u);){var d=void 0;if((0,i.bytesMatch)(e.subarray(l),r)?d=4:(0,i.bytesMatch)(e.subarray(l),o)&&(d=3),d){if(c++,u)return s(e.subarray(u,l));var p=void 0;"h264"===t?p=31&e[l+d]:"h265"===t&&(p=e[l+d]>>1&63),-1!==n.indexOf(p)&&(u=l+d),l+=d+("h264"===t?1:2)}else l++}return e.subarray(0,0)};n.findNal=u;n.findH264Nal=function(e,t,n){return u(e,"h264",t,n)};n.findH265Nal=function(e,t,n){return u(e,"h265",t,n)}},{"./byte-helpers.js":247}],258:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.setOpusHead=n.parseOpusHead=n.OPUS_HEAD=void 0;var i=new Uint8Array([79,112,117,115,72,101,97,100]);n.OPUS_HEAD=i;n.parseOpusHead=function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n=t.getUint8(0),i=0!==n,r={version:n,channels:t.getUint8(1),preSkip:t.getUint16(2,i),sampleRate:t.getUint32(4,i),outputGain:t.getUint16(8,i),channelMappingFamily:t.getUint8(10)};if(r.channelMappingFamily>0&&e.length>10){r.streamCount=t.getUint8(11),r.twoChannelStreamCount=t.getUint8(12),r.channelMapping=[];for(var o=0;o<r.channels;o++)r.channelMapping.push(t.getUint8(13+o))}return r};n.setOpusHead=function(e){var t=e.channelMappingFamily<=0?11:12+e.channels,n=new DataView(new ArrayBuffer(t)),i=0!==e.version;return n.setUint8(0,e.version),n.setUint8(1,e.channels),n.setUint16(2,e.preSkip,i),n.setUint32(4,e.sampleRate,i),n.setUint16(8,e.outputGain,i),n.setUint8(10,e.channelMappingFamily),e.channelMappingFamily>0&&(n.setUint8(11,e.streamCount),e.channelMapping.foreach((function(e,t){n.setUint8(12+t,e)}))),new Uint8Array(n.buffer)}},{}],259:[function(e,t,n){"use strict";var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=i(e("url-toolkit")),o=i(e("global/window")),a="http://example.com",s=function(e,t){if(/^[a-z]+:/i.test(t))return t;/^data:/.test(e)&&(e=o.default.location&&o.default.location.href||"");var n="function"==typeof o.default.URL,i=/^\/\//.test(e),s=!o.default.location&&!/\/\//i.test(e);if(n?e=new o.default.URL(e,o.default.location||a):/\/\//i.test(e)||(e=r.default.buildAbsoluteURL(o.default.location&&o.default.location.href||"",e)),n){var u=new URL(t,e);return s?u.href.slice(a.length):i?u.href.slice(u.protocol.length):u.href}return r.default.buildAbsoluteURL(e,t)};n.default=s,t.exports=n.default},{"@babel/runtime/helpers/interopRequireDefault":243,"global/window":430,"url-toolkit":866}],260:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=function(){function e(){this.listeners={}}var t=e.prototype;return t.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},t.off=function(e,t){if(!this.listeners[e])return!1;var n=this.listeners[e].indexOf(t);return this.listeners[e]=this.listeners[e].slice(0),this.listeners[e].splice(n,1),n>-1},t.trigger=function(e){var t=this.listeners[e];if(t)if(2===arguments.length)for(var n=t.length,i=0;i<n;++i)t[i].call(this,arguments[1]);else for(var r=Array.prototype.slice.call(arguments,1),o=t.length,a=0;a<o;++a)t[a].apply(this,r)},t.dispose=function(){this.listeners={}},t.pipe=function(e){this.on("data",(function(t){e.push(t)}))},e}();n.default=i,t.exports=n.default},{}],261:[function(e,t,n){"use strict";var i=e("global/window");t.exports=function(e,t){return void 0===t&&(t=!1),function(n,r,o){if(n)e(n);else if(r.statusCode>=400&&r.statusCode<=599){var a=o;if(t)if(i.TextDecoder){var s=function(e){void 0===e&&(e="");return e.toLowerCase().split(";").reduce((function(e,t){var n=t.split("="),i=n[0],r=n[1];return"charset"===i.trim()?r.trim():e}),"utf-8")}(r.headers&&r.headers["content-type"]);try{a=new TextDecoder(s).decode(o)}catch(e){}}else a=String.fromCharCode.apply(null,new Uint8Array(o));e({cause:a})}else e(null,o)}}},{"global/window":430}],262:[function(e,t,n){"use strict";var i=e("global/window"),r=e("@babel/runtime/helpers/extends"),o=e("is-function");s.httpHandler=e("./http-handler.js");function a(e,t,n){var i=e;return o(t)?(n=t,"string"==typeof e&&(i={uri:e})):i=r({},t,{uri:e}),i.callback=n,i}function s(e,t,n){return u(t=a(e,t,n))}function u(e){if(void 0===e.callback)throw new Error("callback argument missing");var t=!1,n=function(n,i,r){t||(t=!0,e.callback(n,i,r))};function i(){var e=void 0;if(e=l.response?l.response:l.responseText||function(e){try{if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;if(""===e.responseType&&!t)return e.responseXML}catch(e){}return null}(l),g)try{e=JSON.parse(e)}catch(e){}return e}function r(e){return clearTimeout(c),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,n(e,y)}function o(){if(!u){var t;clearTimeout(c),t=e.useXDR&&void 0===l.status?200:1223===l.status?204:l.status;var r=y,o=null;return 0!==t?(r={body:i(),statusCode:t,method:p,headers:{},url:d,rawRequest:l},l.getAllResponseHeaders&&(r.headers=function(e){var t={};return e?(e.trim().split("\n").forEach((function(e){var n=e.indexOf(":"),i=e.slice(0,n).trim().toLowerCase(),r=e.slice(n+1).trim();void 0===t[i]?t[i]=r:Array.isArray(t[i])?t[i].push(r):t[i]=[t[i],r]})),t):t}(l.getAllResponseHeaders()))):o=new Error("Internal XMLHttpRequest Error"),n(o,r,r.body)}}var a,u,l=e.xhr||null;l||(l=e.cors||e.useXDR?new s.XDomainRequest:new s.XMLHttpRequest);var c,d=l.url=e.uri||e.url,p=l.method=e.method||"GET",h=e.body||e.data,f=l.headers=e.headers||{},m=!!e.sync,g=!1,y={body:void 0,headers:{},statusCode:0,method:p,url:d,rawRequest:l};if("json"in e&&!1!==e.json&&(g=!0,f.accept||f.Accept||(f.Accept="application/json"),"GET"!==p&&"HEAD"!==p&&(f["content-type"]||f["Content-Type"]||(f["Content-Type"]="application/json"),h=JSON.stringify(!0===e.json?h:e.json))),l.onreadystatechange=function(){4===l.readyState&&setTimeout(o,0)},l.onload=o,l.onerror=r,l.onprogress=function(){},l.onabort=function(){u=!0},l.ontimeout=r,l.open(p,d,!m,e.username,e.password),m||(l.withCredentials=!!e.withCredentials),!m&&e.timeout>0&&(c=setTimeout((function(){if(!u){u=!0,l.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",r(e)}}),e.timeout)),l.setRequestHeader)for(a in f)f.hasOwnProperty(a)&&l.setRequestHeader(a,f[a]);else if(e.headers&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(l.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(l),l.send(h||null),l}t.exports=s,t.exports.default=s,s.XMLHttpRequest=i.XMLHttpRequest||function(){},s.XDomainRequest="withCredentials"in new s.XMLHttpRequest?s.XMLHttpRequest:i.XDomainRequest,function(e,t){for(var n=0;n<e.length;n++)t(e[n])}(["get","put","post","patch","head","delete"],(function(e){s["delete"===e?"del":e]=function(t,n,i){return(n=a(t,n,i)).method=e.toUpperCase(),u(n)}}))},{"./http-handler.js":261,"@babel/runtime/helpers/extends":240,"global/window":430,"is-function":471}],263:[function(e,t,n){"use strict";function i(e,t){return void 0===t&&(t=Object),t&&"function"==typeof t.freeze?t.freeze(e):e}var r=i({HTML:"text/html",isHTML:function(e){return e===r.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),o=i({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(e){return e===o.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});n.freeze=i,n.MIME_TYPE=r,n.NAMESPACE=o},{}],264:[function(e,t,n){var i=e("./conventions"),r=e("./dom"),o=e("./entities"),a=e("./sax"),s=r.DOMImplementation,u=i.NAMESPACE,l=a.ParseError,c=a.XMLReader;function d(e){this.options=e||{locator:{}}}function p(){this.cdata=!1}function h(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function f(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function m(e,t,n){return"string"==typeof e?e.substr(t,n):e.length>=t+n||t?new java.lang.String(e,t,n)+"":e}function g(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}d.prototype.parseFromString=function(e,t){var n=this.options,i=new c,r=n.domBuilder||new p,a=n.errorHandler,s=n.locator,l=n.xmlns||{},d=/\/x?html?$/.test(t),h=d?o.HTML_ENTITIES:o.XML_ENTITIES;return s&&r.setDocumentLocator(s),i.errorHandler=function(e,t,n){if(!e){if(t instanceof p)return t;e=t}var i={},r=e instanceof Function;function o(t){var o=e[t];!o&&r&&(o=2==e.length?function(n){e(t,n)}:e),i[t]=o&&function(e){o("[xmldom "+t+"]\t"+e+f(n))}||function(){}}return n=n||{},o("warning"),o("error"),o("fatalError"),i}(a,r,s),i.domBuilder=n.domBuilder||r,d&&(l[""]=u.HTML),l.xml=l.xml||u.XML,e&&"string"==typeof e?i.parse(e,l,h):i.errorHandler.error("invalid doc source"),r.doc},p.prototype={startDocument:function(){this.doc=(new s).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,n,i){var r=this.doc,o=r.createElementNS(e,n||t),a=i.length;g(this,o),this.currentElement=o,this.locator&&h(this.locator,o);for(var s=0;s<a;s++){e=i.getURI(s);var u=i.getValue(s),l=(n=i.getQName(s),r.createAttributeNS(e,n));this.locator&&h(i.getLocator(s),l),l.value=l.nodeValue=u,o.setAttributeNode(l)}},endElement:function(e,t,n){var i=this.currentElement;i.tagName;this.currentElement=i.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var n=this.doc.createProcessingInstruction(e,t);this.locator&&h(this.locator,n),g(this,n)},ignorableWhitespace:function(e,t,n){},characters:function(e,t,n){if(e=m.apply(this,arguments)){if(this.cdata)var i=this.doc.createCDATASection(e);else i=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(i):/^\s*$/.test(e)&&this.doc.appendChild(i),this.locator&&h(this.locator,i)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,n){e=m.apply(this,arguments);var i=this.doc.createComment(e);this.locator&&h(this.locator,i),g(this,i)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,n){var i=this.doc.implementation;if(i&&i.createDocumentType){var r=i.createDocumentType(e,t,n);this.locator&&h(this.locator,r),g(this,r),this.doc.doctype=r}},warning:function(e){console.warn("[xmldom warning]\t"+e,f(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,f(this.locator))},fatalError:function(e){throw new l(e,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(e){p.prototype[e]=function(){return null}})),n.__DOMHandler=p,n.DOMParser=d,n.DOMImplementation=r.DOMImplementation,n.XMLSerializer=r.XMLSerializer},{"./conventions":263,"./dom":265,"./entities":266,"./sax":268}],265:[function(e,t,n){var i=e("./conventions").NAMESPACE;function r(e){return""!==e}function o(e,t){return e.hasOwnProperty(t)||(e[t]=!0),e}function a(e){if(!e)return[];var t=function(e){return e?e.split(/[\t\n\f\r ]+/).filter(r):[]}(e);return Object.keys(t.reduce(o,{}))}function s(e,t){for(var n in e)t[n]=e[n]}function u(e,t){var n=e.prototype;if(!(n instanceof t)){function i(){}i.prototype=t.prototype,s(n,i=new i),e.prototype=n=i}n.constructor!=e&&("function"!=typeof e&&console.error("unknown Class:"+e),n.constructor=e)}var l={},c=l.ELEMENT_NODE=1,d=l.ATTRIBUTE_NODE=2,p=l.TEXT_NODE=3,h=l.CDATA_SECTION_NODE=4,f=l.ENTITY_REFERENCE_NODE=5,m=l.ENTITY_NODE=6,g=l.PROCESSING_INSTRUCTION_NODE=7,y=l.COMMENT_NODE=8,v=l.DOCUMENT_NODE=9,_=l.DOCUMENT_TYPE_NODE=10,b=l.DOCUMENT_FRAGMENT_NODE=11,w=l.NOTATION_NODE=12,E={},S={},T=(E.INDEX_SIZE_ERR=(S[1]="Index size error",1),E.DOMSTRING_SIZE_ERR=(S[2]="DOMString size error",2),E.HIERARCHY_REQUEST_ERR=(S[3]="Hierarchy request error",3)),C=(E.WRONG_DOCUMENT_ERR=(S[4]="Wrong document",4),E.INVALID_CHARACTER_ERR=(S[5]="Invalid character",5),E.NO_DATA_ALLOWED_ERR=(S[6]="No data allowed",6),E.NO_MODIFICATION_ALLOWED_ERR=(S[7]="No modification allowed",7),E.NOT_FOUND_ERR=(S[8]="Not found",8)),x=(E.NOT_SUPPORTED_ERR=(S[9]="Not supported",9),E.INUSE_ATTRIBUTE_ERR=(S[10]="Attribute in use",10));E.INVALID_STATE_ERR=(S[11]="Invalid state",11),E.SYNTAX_ERR=(S[12]="Syntax error",12),E.INVALID_MODIFICATION_ERR=(S[13]="Invalid modification",13),E.NAMESPACE_ERR=(S[14]="Invalid namespace",14),E.INVALID_ACCESS_ERR=(S[15]="Invalid access",15);function A(e,t){if(t instanceof Error)var n=t;else n=this,Error.call(this,S[e]),this.message=S[e],Error.captureStackTrace&&Error.captureStackTrace(this,A);return n.code=e,t&&(this.message=this.message+": "+t),n}function k(){}function I(e,t){this._node=e,this._refresh=t,D(this)}function D(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!=t){var n=e._refresh(e._node);le(e,"length",n.length),s(n,e),e._inc=t}}function O(){}function P(e,t){for(var n=e.length;n--;)if(e[n]===t)return n}function N(e,t,n,r){if(r?t[P(t,r)]=n:t[t.length++]=n,e){n.ownerElement=e;var o=e.ownerDocument;o&&(r&&U(o,e,r),function(e,t,n){e&&e._inc++,n.namespaceURI===i.XMLNS&&(t._nsMap[n.prefix?n.localName:""]=n.value)}(o,e,n))}}function R(e,t,n){var i=P(t,n);if(!(i>=0))throw A(C,new Error(e.tagName+"@"+n));for(var r=t.length-1;i<r;)t[i]=t[++i];if(t.length=r,e){var o=e.ownerDocument;o&&(U(o,e,n),n.ownerElement=null)}}function L(){}function M(){}function F(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function j(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(j(e,t))return!0}while(e=e.nextSibling)}function B(){}function U(e,t,n,r){e&&e._inc++,n.namespaceURI===i.XMLNS&&delete t._nsMap[n.prefix?n.localName:""]}function H(e,t,n){if(e&&e._inc){e._inc++;var i=t.childNodes;if(n)i[i.length++]=n;else{for(var r=t.firstChild,o=0;r;)i[o++]=r,r=r.nextSibling;i.length=o}}}function $(e,t){var n=t.previousSibling,i=t.nextSibling;return n?n.nextSibling=i:e.firstChild=i,i?i.previousSibling=n:e.lastChild=n,H(e.ownerDocument,e),t}function G(e,t,n){var i=t.parentNode;if(i&&i.removeChild(t),t.nodeType===b){var r=t.firstChild;if(null==r)return t;var o=t.lastChild}else r=o=t;var a=n?n.previousSibling:e.lastChild;r.previousSibling=a,o.nextSibling=n,a?a.nextSibling=r:e.firstChild=r,null==n?e.lastChild=o:n.previousSibling=o;do{r.parentNode=e}while(r!==o&&(r=r.nextSibling));return H(e.ownerDocument||e,e),t.nodeType==b&&(t.firstChild=t.lastChild=null),t}function q(){this._nsMap={}}function V(){}function z(){}function W(){}function K(){}function Y(){}function J(){}function X(){}function Q(){}function Z(){}function ee(){}function te(){}function ne(){}function ie(e,t){var n=[],i=9==this.nodeType&&this.documentElement||this,r=i.prefix,o=i.namespaceURI;if(o&&null==r&&null==(r=i.lookupPrefix(o)))var a=[{namespace:o,prefix:null}];return ae(this,n,e,t,a),n.join("")}function re(e,t,n){var r=e.prefix||"",o=e.namespaceURI;if(!o)return!1;if("xml"===r&&o===i.XML||o===i.XMLNS)return!1;for(var a=n.length;a--;){var s=n[a];if(s.prefix===r)return s.namespace!==o}return!0}function oe(e,t,n){e.push(" ",t,'="',n.replace(/[<&"]/g,F),'"')}function ae(e,t,n,r,o){if(o||(o=[]),r){if(!(e=r(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case c:var a=e.attributes,s=a.length,u=e.firstChild,l=e.tagName,m=l;if(!(n=i.isHTML(e.namespaceURI)||n)&&!e.prefix&&e.namespaceURI){for(var w,E=0;E<a.length;E++)if("xmlns"===a.item(E).name){w=a.item(E).value;break}if(!w)for(var S=o.length-1;S>=0;S--){if(""===(T=o[S]).prefix&&T.namespace===e.namespaceURI){w=T.namespace;break}}if(w!==e.namespaceURI)for(S=o.length-1;S>=0;S--){var T;if((T=o[S]).namespace===e.namespaceURI){T.prefix&&(m=T.prefix+":"+l);break}}}t.push("<",m);for(var C=0;C<s;C++){"xmlns"==(x=a.item(C)).prefix?o.push({prefix:x.localName,namespace:x.value}):"xmlns"==x.nodeName&&o.push({prefix:"",namespace:x.value})}for(C=0;C<s;C++){var x,A,k;if(re(x=a.item(C),0,o))oe(t,(A=x.prefix||"")?"xmlns:"+A:"xmlns",k=x.namespaceURI),o.push({prefix:A,namespace:k});ae(x,t,n,r,o)}if(l===m&&re(e,0,o))oe(t,(A=e.prefix||"")?"xmlns:"+A:"xmlns",k=e.namespaceURI),o.push({prefix:A,namespace:k});if(u||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(l)){if(t.push(">"),n&&/^script$/i.test(l))for(;u;)u.data?t.push(u.data):ae(u,t,n,r,o.slice()),u=u.nextSibling;else for(;u;)ae(u,t,n,r,o.slice()),u=u.nextSibling;t.push("</",m,">")}else t.push("/>");return;case v:case b:for(u=e.firstChild;u;)ae(u,t,n,r,o.slice()),u=u.nextSibling;return;case d:return oe(t,e.name,e.value);case p:return t.push(e.data.replace(/[<&]/g,F).replace(/]]>/g,"]]&gt;"));case h:return t.push("<![CDATA[",e.data,"]]>");case y:return t.push("\x3c!--",e.data,"--\x3e");case _:var I=e.publicId,D=e.systemId;if(t.push("<!DOCTYPE ",e.name),I)t.push(" PUBLIC ",I),D&&"."!=D&&t.push(" ",D),t.push(">");else if(D&&"."!=D)t.push(" SYSTEM ",D,">");else{var O=e.internalSubset;O&&t.push(" [",O,"]"),t.push(">")}return;case g:return t.push("<?",e.target," ",e.data,"?>");case f:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function se(e,t,n){var i;switch(t.nodeType){case c:(i=t.cloneNode(!1)).ownerDocument=e;case b:break;case d:n=!0}if(i||(i=t.cloneNode(!1)),i.ownerDocument=e,i.parentNode=null,n)for(var r=t.firstChild;r;)i.appendChild(se(e,r,n)),r=r.nextSibling;return i}function ue(e,t,n){var i=new t.constructor;for(var r in t){var o=t[r];"object"!=typeof o&&o!=i[r]&&(i[r]=o)}switch(t.childNodes&&(i.childNodes=new k),i.ownerDocument=e,i.nodeType){case c:var a=t.attributes,s=i.attributes=new O,u=a.length;s._ownerElement=i;for(var l=0;l<u;l++)i.setAttributeNode(ue(e,a.item(l),!0));break;case d:n=!0}if(n)for(var p=t.firstChild;p;)i.appendChild(ue(e,p,n)),p=p.nextSibling;return i}function le(e,t,n){e[t]=n}A.prototype=Error.prototype,s(E,A),k.prototype={length:0,item:function(e){return this[e]||null},toString:function(e,t){for(var n=[],i=0;i<this.length;i++)ae(this[i],n,e,t);return n.join("")}},I.prototype.item=function(e){return D(this),this[e]},u(I,k),O.prototype={length:0,item:k.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var n=this[t];if(n.nodeName==e)return n}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new A(x);var n=this.getNamedItem(e.nodeName);return N(this._ownerElement,this,e,n),n},setNamedItemNS:function(e){var t,n=e.ownerElement;if(n&&n!=this._ownerElement)throw new A(x);return t=this.getNamedItemNS(e.namespaceURI,e.localName),N(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return R(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var n=this.getNamedItemNS(e,t);return R(this._ownerElement,this,n),n},getNamedItemNS:function(e,t){for(var n=this.length;n--;){var i=this[n];if(i.localName==t&&i.namespaceURI==e)return i}return null}},L.prototype={hasFeature:function(e,t){return!0},createDocument:function(e,t,n){var i=new B;if(i.implementation=this,i.childNodes=new k,i.doctype=n||null,n&&i.appendChild(n),t){var r=i.createElementNS(e,t);i.appendChild(r)}return i},createDocumentType:function(e,t,n){var i=new J;return i.name=e,i.nodeName=e,i.publicId=t||"",i.systemId=n||"",i}},M.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return G(this,e,t)},replaceChild:function(e,t){this.insertBefore(e,t),t&&this.removeChild(t)},removeChild:function(e){return $(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return ue(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==p&&e.nodeType==p?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var n=t._nsMap;if(n)for(var i in n)if(n[i]==e)return i;t=t.nodeType==d?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var n=t._nsMap;if(n&&e in n)return n[e];t=t.nodeType==d?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},s(l,M),s(l,M.prototype),B.prototype={nodeName:"#document",nodeType:v,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==b){for(var n=e.firstChild;n;){var i=n.nextSibling;this.insertBefore(n,t),n=i}return e}return null==this.documentElement&&e.nodeType==c&&(this.documentElement=e),G(this,e,t),e.ownerDocument=this,e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),$(this,e)},importNode:function(e,t){return se(this,e,t)},getElementById:function(e){var t=null;return j(this.documentElement,(function(n){if(n.nodeType==c&&n.getAttribute("id")==e)return t=n,!0})),t},getElementsByClassName:function(e){var t=a(e);return new I(this,(function(n){var i=[];return t.length>0&&j(n.documentElement,(function(r){if(r!==n&&r.nodeType===c){var o=r.getAttribute("class");if(o){var s=e===o;if(!s){var u=a(o);s=t.every((l=u,function(e){return l&&-1!==l.indexOf(e)}))}s&&i.push(r)}}var l})),i}))},createElement:function(e){var t=new q;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.localName=e,t.childNodes=new k,(t.attributes=new O)._ownerElement=t,t},createDocumentFragment:function(){var e=new ee;return e.ownerDocument=this,e.childNodes=new k,e},createTextNode:function(e){var t=new W;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new K;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new Y;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var n=new te;return n.ownerDocument=this,n.tagName=n.target=e,n.nodeValue=n.data=t,n},createAttribute:function(e){var t=new V;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new Z;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var n=new q,i=t.split(":"),r=n.attributes=new O;return n.childNodes=new k,n.ownerDocument=this,n.nodeName=t,n.tagName=t,n.namespaceURI=e,2==i.length?(n.prefix=i[0],n.localName=i[1]):n.localName=t,r._ownerElement=n,n},createAttributeNS:function(e,t){var n=new V,i=t.split(":");return n.ownerDocument=this,n.nodeName=t,n.name=t,n.namespaceURI=e,n.specified=!0,2==i.length?(n.prefix=i[0],n.localName=i[1]):n.localName=t,n}},u(B,M),q.prototype={nodeType:c,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var n=this.ownerDocument.createAttribute(e);n.value=n.nodeValue=""+t,this.setAttributeNode(n)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===b?this.insertBefore(e,null):function(e,t){var n=t.parentNode;if(n){var i=e.lastChild;n.removeChild(t),i=e.lastChild}return i=e.lastChild,t.parentNode=e,t.previousSibling=i,t.nextSibling=null,i?i.nextSibling=t:e.firstChild=t,e.lastChild=t,H(e.ownerDocument,e,t),t}(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);n&&this.removeAttributeNode(n)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);return n&&n.value||""},setAttributeNS:function(e,t,n){var i=this.ownerDocument.createAttributeNS(e,t);i.value=i.nodeValue=""+n,this.setAttributeNode(i)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new I(this,(function(t){var n=[];return j(t,(function(i){i===t||i.nodeType!=c||"*"!==e&&i.tagName!=e||n.push(i)})),n}))},getElementsByTagNameNS:function(e,t){return new I(this,(function(n){var i=[];return j(n,(function(r){r===n||r.nodeType!==c||"*"!==e&&r.namespaceURI!==e||"*"!==t&&r.localName!=t||i.push(r)})),i}))}},B.prototype.getElementsByTagName=q.prototype.getElementsByTagName,B.prototype.getElementsByTagNameNS=q.prototype.getElementsByTagNameNS,u(q,M),V.prototype.nodeType=d,u(V,M),z.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(S[T])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,n){n=this.data.substring(0,e)+n+this.data.substring(e+t),this.nodeValue=this.data=n,this.length=n.length}},u(z,M),W.prototype={nodeName:"#text",nodeType:p,splitText:function(e){var t=this.data,n=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var i=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(i,this.nextSibling),i}},u(W,z),K.prototype={nodeName:"#comment",nodeType:y},u(K,z),Y.prototype={nodeName:"#cdata-section",nodeType:h},u(Y,z),J.prototype.nodeType=_,u(J,M),X.prototype.nodeType=w,u(X,M),Q.prototype.nodeType=m,u(Q,M),Z.prototype.nodeType=f,u(Z,M),ee.prototype.nodeName="#document-fragment",ee.prototype.nodeType=b,u(ee,M),te.prototype.nodeType=g,u(te,M),ne.prototype.serializeToString=function(e,t,n){return ie.call(e,t,n)},M.prototype.toString=ie;try{if(Object.defineProperty){function ce(e){switch(e.nodeType){case c:case b:var t=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&t.push(ce(e)),e=e.nextSibling;return t.join("");default:return e.nodeValue}}Object.defineProperty(I.prototype,"length",{get:function(){return D(this),this.$$length}}),Object.defineProperty(M.prototype,"textContent",{get:function(){return ce(this)},set:function(e){switch(this.nodeType){case c:case b:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),le=function(e,t,n){e["$$"+t]=n}}}catch(e){}n.DocumentType=J,n.DOMException=A,n.DOMImplementation=L,n.Element=q,n.Node=M,n.NodeList=k,n.XMLSerializer=ne},{"./conventions":263}],266:[function(e,t,n){var i=e("./conventions").freeze;n.XML_ENTITIES=i({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),n.HTML_ENTITIES=i({lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"",Aacute:"",Acirc:"",Atilde:"",Auml:"",Aring:"",AElig:"",Ccedil:"",Egrave:"",Eacute:"",Ecirc:"",Euml:"",Igrave:"",Iacute:"",Icirc:"",Iuml:"",ETH:"",Ntilde:"",Ograve:"",Oacute:"",Ocirc:"",Otilde:"",Ouml:"",Oslash:"",Ugrave:"",Uacute:"",Ucirc:"",Uuml:"",Yacute:"",THORN:"",szlig:"",agrave:"",aacute:"",acirc:"",atilde:"",auml:"",aring:"",aelig:"",ccedil:"",egrave:"",eacute:"",ecirc:"",euml:"",igrave:"",iacute:"",icirc:"",iuml:"",eth:"",ntilde:"",ograve:"",oacute:"",ocirc:"",otilde:"",ouml:"",oslash:"",ugrave:"",uacute:"",ucirc:"",uuml:"",yacute:"",thorn:"",yuml:"",nbsp:"",iexcl:"",cent:"",pound:"",curren:"",yen:"",brvbar:"",sect:"",uml:"",copy:"",ordf:"",laquo:"",not:"",shy:"",reg:"",macr:"",deg:"",plusmn:"",sup2:"",sup3:"",acute:"",micro:"",para:"",middot:"",cedil:"",sup1:"",ordm:"",raquo:"",frac14:"",frac12:"",frac34:"",iquest:"",times:"",divide:"",forall:"",part:"",exist:"",empty:"",nabla:"",isin:"",notin:"",ni:"",prod:"",sum:"",minus:"",lowast:"",radic:"",prop:"",infin:"",ang:"",and:"",or:"",cap:"",cup:"",int:"",there4:"",sim:"",cong:"",asymp:"",ne:"",equiv:"",le:"",ge:"",sub:"",sup:"",nsub:"",sube:"",supe:"",oplus:"",otimes:"",perp:"",sdot:"",Alpha:"",Beta:"",Gamma:"",Delta:"",Epsilon:"",Zeta:"",Eta:"",Theta:"",Iota:"",Kappa:"",Lambda:"",Mu:"",Nu:"",Xi:"",Omicron:"",Pi:"",Rho:"",Sigma:"",Tau:"",Upsilon:"",Phi:"",Chi:"",Psi:"",Omega:"",alpha:"",beta:"",gamma:"",delta:"",epsilon:"",zeta:"",eta:"",theta:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",xi:"",omicron:"",pi:"",rho:"",sigmaf:"",sigma:"",tau:"",upsilon:"",phi:"",chi:"",psi:"",omega:"",thetasym:"",upsih:"",piv:"",OElig:"",oelig:"",Scaron:"",scaron:"",Yuml:"",fnof:"",circ:"",tilde:"",ensp:"",emsp:"",thinsp:"",zwnj:"",zwj:"",lrm:"",rlm:"",ndash:"",mdash:"",lsquo:"",rsquo:"",sbquo:"",ldquo:"",rdquo:"",bdquo:"",dagger:"",Dagger:"",bull:"",hellip:"",permil:"",prime:"",Prime:"",lsaquo:"",rsaquo:"",oline:"",euro:"",trade:"",larr:"",uarr:"",rarr:"",darr:"",harr:"",crarr:"",lceil:"",rceil:"",lfloor:"",rfloor:"",loz:"",spades:"",clubs:"",hearts:"",diams:""}),n.entityMap=n.HTML_ENTITIES},{"./conventions":263}],267:[function(e,t,n){var i=e("./dom");n.DOMImplementation=i.DOMImplementation,n.XMLSerializer=i.XMLSerializer,n.DOMParser=e("./dom-parser").DOMParser},{"./dom":265,"./dom-parser":264}],268:[function(e,t,n){var i=e("./conventions").NAMESPACE,r=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,o=new RegExp("[\\-\\.0-9"+r.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),a=new RegExp("^"+r.source+o.source+"*(?::"+r.source+o.source+"*)?$");function s(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,s)}function u(){}function l(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function c(e,t,n,r,o,a){function s(e,t,i){n.attributeNames.hasOwnProperty(e)&&a.fatalError("Attribute "+e+" redefined"),n.addValue(e,t,i)}for(var u,l=++t,c=0;;){var d=e.charAt(l);switch(d){case"=":if(1===c)u=e.slice(t,l),c=3;else{if(2!==c)throw new Error("attribute equal must after attrName");c=3}break;case"'":case'"':if(3===c||1===c){if(1===c&&(a.warning('attribute value must after "="'),u=e.slice(t,l)),t=l+1,!((l=e.indexOf(d,t))>0))throw new Error("attribute value no end '"+d+"' match");s(u,p=e.slice(t,l).replace(/&#?\w+;/g,o),t-1),c=5}else{if(4!=c)throw new Error('attribute value must after "="');s(u,p=e.slice(t,l).replace(/&#?\w+;/g,o),t),a.warning('attribute "'+u+'" missed start quot('+d+")!!"),t=l+1,c=5}break;case"/":switch(c){case 0:n.setTagName(e.slice(t,l));case 5:case 6:case 7:c=7,n.closed=!0;case 4:case 1:case 2:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return a.error("unexpected end of input"),0==c&&n.setTagName(e.slice(t,l)),l;case">":switch(c){case 0:n.setTagName(e.slice(t,l));case 5:case 6:case 7:break;case 4:case 1:"/"===(p=e.slice(t,l)).slice(-1)&&(n.closed=!0,p=p.slice(0,-1));case 2:2===c&&(p=u),4==c?(a.warning('attribute "'+p+'" missed quot(")!'),s(u,p.replace(/&#?\w+;/g,o),t)):(i.isHTML(r[""])&&p.match(/^(?:disabled|checked|selected)$/i)||a.warning('attribute "'+p+'" missed value!! "'+p+'" instead!!'),s(p,p,t));break;case 3:throw new Error("attribute value missed!!")}return l;case"":d=" ";default:if(d<=" ")switch(c){case 0:n.setTagName(e.slice(t,l)),c=6;break;case 1:u=e.slice(t,l),c=2;break;case 4:var p=e.slice(t,l).replace(/&#?\w+;/g,o);a.warning('attribute "'+p+'" missed quot(")!!'),s(u,p,t);case 5:c=6}else switch(c){case 2:n.tagName;i.isHTML(r[""])&&u.match(/^(?:disabled|checked|selected)$/i)||a.warning('attribute "'+u+'" missed value!! "'+u+'" instead2!!'),s(u,u,t),t=l,c=1;break;case 5:a.warning('attribute space is required"'+u+'"!!');case 6:c=1,t=l;break;case 3:c=4,t=l;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}l++}}function d(e,t,n){for(var r=e.tagName,o=null,a=e.length;a--;){var s=e[a],u=s.qName,l=s.value;if((h=u.indexOf(":"))>0)var c=s.prefix=u.slice(0,h),d=u.slice(h+1),p="xmlns"===c&&d;else d=u,c=null,p="xmlns"===u&&"";s.localName=d,!1!==p&&(null==o&&(o={},f(n,n={})),n[p]=o[p]=l,s.uri=i.XMLNS,t.startPrefixMapping(p,l))}for(a=e.length;a--;){(c=(s=e[a]).prefix)&&("xml"===c&&(s.uri=i.XML),"xmlns"!==c&&(s.uri=n[c||""]))}var h;(h=r.indexOf(":"))>0?(c=e.prefix=r.slice(0,h),d=e.localName=r.slice(h+1)):(c=null,d=e.localName=r);var m=e.uri=n[c||""];if(t.startElement(m,d,r,e),!e.closed)return e.currentNSMap=n,e.localNSMap=o,!0;if(t.endElement(m,d,r),o)for(c in o)t.endPrefixMapping(c)}function p(e,t,n,i,r){if(/^(?:script|textarea)$/i.test(n)){var o=e.indexOf("</"+n+">",t),a=e.substring(t+1,o);if(/[&<]/.test(a))return/^script$/i.test(n)?(r.characters(a,0,a.length),o):(a=a.replace(/&#?\w+;/g,i),r.characters(a,0,a.length),o)}return t+1}function h(e,t,n,i){var r=i[n];return null==r&&((r=e.lastIndexOf("</"+n+">"))<t&&(r=e.lastIndexOf("</"+n)),i[n]=r),r<t}function f(e,t){for(var n in e)t[n]=e[n]}function m(e,t,n,i){if("-"===e.charAt(t+2))return"-"===e.charAt(t+3)?(r=e.indexOf("--\x3e",t+4))>t?(n.comment(e,t+4,r-t-4),r+3):(i.error("Unclosed comment"),-1):-1;if("CDATA["==e.substr(t+3,6)){var r=e.indexOf("]]>",t+9);return n.startCDATA(),n.characters(e,t+9,r-t-9),n.endCDATA(),r+3}var o=function(e,t){var n,i=[],r=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;r.lastIndex=t,r.exec(e);for(;n=r.exec(e);)if(i.push(n),n[1])return i}(e,t),a=o.length;if(a>1&&/!doctype/i.test(o[0][0])){var s=o[1][0],u=!1,l=!1;a>3&&(/^public$/i.test(o[2][0])?(u=o[3][0],l=a>4&&o[4][0]):/^system$/i.test(o[2][0])&&(l=o[3][0]));var c=o[a-1];return n.startDTD(s,u,l),n.endDTD(),c.index+c[0].length}return-1}function g(e,t,n){var i=e.indexOf("?>",t);if(i){var r=e.substring(t,i).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(r){r[0].length;return n.processingInstruction(r[1],r[2]),i+2}return-1}return-1}function y(){this.attributeNames={}}s.prototype=new Error,s.prototype.name=s.name,u.prototype={parse:function(e,t,n){var r=this.domBuilder;r.startDocument(),f(t,t={}),function(e,t,n,r,o){function a(e){if(e>65535){var t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}function u(e){var t=e.slice(1,-1);return t in n?n[t]:"#"===t.charAt(0)?a(parseInt(t.substr(1).replace("x","0x"))):(o.error("entity not found:"+e),e)}function f(t){if(t>C){var n=e.substring(C,t).replace(/&#?\w+;/g,u);E&&v(C),r.characters(n,0,t-C),C=t}}function v(t,n){for(;t>=b&&(n=w.exec(e));)_=n.index,b=_+n[0].length,E.lineNumber++;E.columnNumber=t-_+1}var _=0,b=0,w=/.*(?:\r\n?|\n)|.*$/g,E=r.locator,S=[{currentNSMap:t}],T={},C=0;for(;;){try{var x=e.indexOf("<",C);if(x<0){if(!e.substr(C).match(/^\s*$/)){var A=r.doc,k=A.createTextNode(e.substr(C));A.appendChild(k),r.currentElement=k}return}switch(x>C&&f(x),e.charAt(x+1)){case"/":var I=e.indexOf(">",x+3),D=e.substring(x+2,I).replace(/[ \t\n\r]+$/g,""),O=S.pop();I<0?(D=e.substring(x+2).replace(/[\s<].*/,""),o.error("end tag name: "+D+" is not complete:"+O.tagName),I=x+1+D.length):D.match(/\s</)&&(D=D.replace(/[\s<].*/,""),o.error("end tag name: "+D+" maybe not complete"),I=x+1+D.length);var P=O.localNSMap,N=O.tagName==D;if(N||O.tagName&&O.tagName.toLowerCase()==D.toLowerCase()){if(r.endElement(O.uri,O.localName,D),P)for(var R in P)r.endPrefixMapping(R);N||o.fatalError("end tag name: "+D+" is not match the current start tagName:"+O.tagName)}else S.push(O);I++;break;case"?":E&&v(x),I=g(e,x,r);break;case"!":E&&v(x),I=m(e,x,r,o);break;default:E&&v(x);var L=new y,M=S[S.length-1].currentNSMap,F=(I=c(e,x,L,M,u,o),L.length);if(!L.closed&&h(e,I,L.tagName,T)&&(L.closed=!0,n.nbsp||o.warning("unclosed xml attribute")),E&&F){for(var j=l(E,{}),B=0;B<F;B++){var U=L[B];v(U.offset),U.locator=l(E,{})}r.locator=j,d(L,r,M)&&S.push(L),r.locator=E}else d(L,r,M)&&S.push(L);i.isHTML(L.uri)&&!L.closed?I=p(e,I,L.tagName,u,r):I++}}catch(e){if(e instanceof s)throw e;o.error("element parse error: "+e),I=-1}I>C?C=I:f(Math.max(x,C)+1)}}(e,t,n,r,this.errorHandler),r.endDocument()}},y.prototype={setTagName:function(e){if(!a.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},addValue:function(e,t,n){if(!a.test(e))throw new Error("invalid attribute:"+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:n}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},n.XMLReader=u,n.ParseError=s},{"./conventions":263}],269:[function(e,t,n){!function(e,i){"object"==typeof n&&void 0!==t?i(n):"function"==typeof define&&define.amd?define(["exports"],i):i(((e=e||self).acorn=e.acorn||{},e.acorn.walk={}))}(this,(function(e){"use strict";function t(e){return"string"==typeof e?function(t){return t===e}:e||function(){return!0}}var n=function(e,t){this.node=e,this.state=t};function i(e,t){var n=Object.create(t||a);for(var i in e)n[i]=e[i];return n}function r(e,t,n){n(e,t)}function o(e,t,n){}var a={};a.Program=a.BlockStatement=a.StaticBlock=function(e,t,n){for(var i=0,r=e.body;i<r.length;i+=1){n(r[i],t,"Statement")}},a.Statement=r,a.EmptyStatement=o,a.ExpressionStatement=a.ParenthesizedExpression=a.ChainExpression=function(e,t,n){return n(e.expression,t,"Expression")},a.IfStatement=function(e,t,n){n(e.test,t,"Expression"),n(e.consequent,t,"Statement"),e.alternate&&n(e.alternate,t,"Statement")},a.LabeledStatement=function(e,t,n){return n(e.body,t,"Statement")},a.BreakStatement=a.ContinueStatement=o,a.WithStatement=function(e,t,n){n(e.object,t,"Expression"),n(e.body,t,"Statement")},a.SwitchStatement=function(e,t,n){n(e.discriminant,t,"Expression");for(var i=0,r=e.cases;i<r.length;i+=1){var o=r[i];o.test&&n(o.test,t,"Expression");for(var a=0,s=o.consequent;a<s.length;a+=1){n(s[a],t,"Statement")}}},a.SwitchCase=function(e,t,n){e.test&&n(e.test,t,"Expression");for(var i=0,r=e.consequent;i<r.length;i+=1){n(r[i],t,"Statement")}},a.ReturnStatement=a.YieldExpression=a.AwaitExpression=function(e,t,n){e.argument&&n(e.argument,t,"Expression")},a.ThrowStatement=a.SpreadElement=function(e,t,n){return n(e.argument,t,"Expression")},a.TryStatement=function(e,t,n){n(e.block,t,"Statement"),e.handler&&n(e.handler,t),e.finalizer&&n(e.finalizer,t,"Statement")},a.CatchClause=function(e,t,n){e.param&&n(e.param,t,"Pattern"),n(e.body,t,"Statement")},a.WhileStatement=a.DoWhileStatement=function(e,t,n){n(e.test,t,"Expression"),n(e.body,t,"Statement")},a.ForStatement=function(e,t,n){e.init&&n(e.init,t,"ForInit"),e.test&&n(e.test,t,"Expression"),e.update&&n(e.update,t,"Expression"),n(e.body,t,"Statement")},a.ForInStatement=a.ForOfStatement=function(e,t,n){n(e.left,t,"ForInit"),n(e.right,t,"Expression"),n(e.body,t,"Statement")},a.ForInit=function(e,t,n){"VariableDeclaration"===e.type?n(e,t):n(e,t,"Expression")},a.DebuggerStatement=o,a.FunctionDeclaration=function(e,t,n){return n(e,t,"Function")},a.VariableDeclaration=function(e,t,n){for(var i=0,r=e.declarations;i<r.length;i+=1){n(r[i],t)}},a.VariableDeclarator=function(e,t,n){n(e.id,t,"Pattern"),e.init&&n(e.init,t,"Expression")},a.Function=function(e,t,n){e.id&&n(e.id,t,"Pattern");for(var i=0,r=e.params;i<r.length;i+=1){n(r[i],t,"Pattern")}n(e.body,t,e.expression?"Expression":"Statement")},a.Pattern=function(e,t,n){"Identifier"===e.type?n(e,t,"VariablePattern"):"MemberExpression"===e.type?n(e,t,"MemberPattern"):n(e,t)},a.VariablePattern=o,a.MemberPattern=r,a.RestElement=function(e,t,n){return n(e.argument,t,"Pattern")},a.ArrayPattern=function(e,t,n){for(var i=0,r=e.elements;i<r.length;i+=1){var o=r[i];o&&n(o,t,"Pattern")}},a.ObjectPattern=function(e,t,n){for(var i=0,r=e.properties;i<r.length;i+=1){var o=r[i];"Property"===o.type?(o.computed&&n(o.key,t,"Expression"),n(o.value,t,"Pattern")):"RestElement"===o.type&&n(o.argument,t,"Pattern")}},a.Expression=r,a.ThisExpression=a.Super=a.MetaProperty=o,a.ArrayExpression=function(e,t,n){for(var i=0,r=e.elements;i<r.length;i+=1){var o=r[i];o&&n(o,t,"Expression")}},a.ObjectExpression=function(e,t,n){for(var i=0,r=e.properties;i<r.length;i+=1){n(r[i],t)}},a.FunctionExpression=a.ArrowFunctionExpression=a.FunctionDeclaration,a.SequenceExpression=function(e,t,n){for(var i=0,r=e.expressions;i<r.length;i+=1){n(r[i],t,"Expression")}},a.TemplateLiteral=function(e,t,n){for(var i=0,r=e.quasis;i<r.length;i+=1){n(r[i],t)}for(var o=0,a=e.expressions;o<a.length;o+=1){n(a[o],t,"Expression")}},a.TemplateElement=o,a.UnaryExpression=a.UpdateExpression=function(e,t,n){n(e.argument,t,"Expression")},a.BinaryExpression=a.LogicalExpression=function(e,t,n){n(e.left,t,"Expression"),n(e.right,t,"Expression")},a.AssignmentExpression=a.AssignmentPattern=function(e,t,n){n(e.left,t,"Pattern"),n(e.right,t,"Expression")},a.ConditionalExpression=function(e,t,n){n(e.test,t,"Expression"),n(e.consequent,t,"Expression"),n(e.alternate,t,"Expression")},a.NewExpression=a.CallExpression=function(e,t,n){if(n(e.callee,t,"Expression"),e.arguments)for(var i=0,r=e.arguments;i<r.length;i+=1){n(r[i],t,"Expression")}},a.MemberExpression=function(e,t,n){n(e.object,t,"Expression"),e.computed&&n(e.property,t,"Expression")},a.ExportNamedDeclaration=a.ExportDefaultDeclaration=function(e,t,n){e.declaration&&n(e.declaration,t,"ExportNamedDeclaration"===e.type||e.declaration.id?"Statement":"Expression"),e.source&&n(e.source,t,"Expression")},a.ExportAllDeclaration=function(e,t,n){e.exported&&n(e.exported,t),n(e.source,t,"Expression")},a.ImportDeclaration=function(e,t,n){for(var i=0,r=e.specifiers;i<r.length;i+=1){n(r[i],t)}n(e.source,t,"Expression")},a.ImportExpression=function(e,t,n){n(e.source,t,"Expression")},a.ImportSpecifier=a.ImportDefaultSpecifier=a.ImportNamespaceSpecifier=a.Identifier=a.PrivateIdentifier=a.Literal=o,a.TaggedTemplateExpression=function(e,t,n){n(e.tag,t,"Expression"),n(e.quasi,t,"Expression")},a.ClassDeclaration=a.ClassExpression=function(e,t,n){return n(e,t,"Class")},a.Class=function(e,t,n){e.id&&n(e.id,t,"Pattern"),e.superClass&&n(e.superClass,t,"Expression"),n(e.body,t)},a.ClassBody=function(e,t,n){for(var i=0,r=e.body;i<r.length;i+=1){n(r[i],t)}},a.MethodDefinition=a.PropertyDefinition=a.Property=function(e,t,n){e.computed&&n(e.key,t,"Expression"),e.value&&n(e.value,t,"Expression")},e.ancestor=function(e,t,n,i,r){var o=[];n||(n=a),function e(i,r,a){var s=a||i.type,u=t[s],l=i!==o[o.length-1];l&&o.push(i),n[s](i,r,e),u&&u(i,r||o,o),l&&o.pop()}(e,i,r)},e.base=a,e.findNodeAfter=function(e,i,r,o,s){r=t(r),o||(o=a);try{!function e(t,a,s){if(!(t.end<i)){var u=s||t.type;if(t.start>=i&&r(u,t))throw new n(t,a);o[u](t,a,e)}}(e,s)}catch(e){if(e instanceof n)return e;throw e}},e.findNodeAround=function(e,i,r,o,s){r=t(r),o||(o=a);try{!function e(t,a,s){var u=s||t.type;if(!(t.start>i||t.end<i)&&(o[u](t,a,e),r(u,t)))throw new n(t,a)}(e,s)}catch(e){if(e instanceof n)return e;throw e}},e.findNodeAt=function(e,i,r,o,s,u){s||(s=a),o=t(o);try{!function e(t,a,u){var l=u||t.type;if((null==i||t.start<=i)&&(null==r||t.end>=r)&&s[l](t,a,e),(null==i||t.start===i)&&(null==r||t.end===r)&&o(l,t))throw new n(t,a)}(e,u)}catch(e){if(e instanceof n)return e;throw e}},e.findNodeBefore=function(e,i,r,o,s){var u;return r=t(r),o||(o=a),function e(t,a,s){if(!(t.start>i)){var l=s||t.type;t.end<=i&&(!u||u.node.end<t.end)&&r(l,t)&&(u=new n(t,a)),o[l](t,a,e)}}(e,s),u},e.full=function(e,t,n,i,r){var o;n||(n=a),function e(i,r,a){var s=a||i.type;n[s](i,r,e),o!==i&&(t(i,r,s),o=i)}(e,i,r)},e.fullAncestor=function(e,t,n,i){n||(n=a);var r,o=[];!function e(i,a,s){var u=s||i.type,l=i!==o[o.length-1];l&&o.push(i),n[u](i,a,e),r!==i&&(t(i,a||o,o,u),r=i),l&&o.pop()}(e,i)},e.make=i,e.recursive=function(e,t,n,r,o){var a=n?i(n,r||void 0):r;!function e(t,n,i){a[i||t.type](t,n,e)}(e,t,o)},e.simple=function(e,t,n,i,r){n||(n=a),function e(i,r,o){var a=o||i.type,s=t[a];n[a](i,r,e),s&&s(i,r)}(e,i,r)},Object.defineProperty(e,"__esModule",{value:!0})}))},{}],270:[function(e,t,n){!function(e,i){"object"==typeof n&&void 0!==t?i(n):"function"==typeof define&&define.amd?define(["exports"],i):i((e=e||self).acorn={})}(this,(function(e){"use strict";var t={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},n="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",i={5:n,"5module":n+" export import",6:n+" const class extends export import super"},r=/^in(stanceof)?$/,o="---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",a="----------------------------------------------------------------------------------------------------------------------------------------------------",s=new RegExp("["+o+"]"),u=new RegExp("["+o+a+"]");o=a=null;var l=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,107,20,28,22,13,52,76,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,230,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,35,56,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,190,0,80,921,103,110,18,195,2749,1070,4050,582,8634,568,8,30,114,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8952,286,50,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,2357,44,11,6,17,0,370,43,1301,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42717,35,4148,12,221,3,5761,15,7472,3104,541,1507,4938],c=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,154,10,176,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,135,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,419,13,1495,6,110,6,6,9,4759,9,787719,239];function d(e,t){for(var n=65536,i=0;i<t.length;i+=2){if((n+=t[i])>e)return!1;if((n+=t[i+1])>=e)return!0}}function p(e,t){return e<65?36===e:e<91||(e<97?95===e:e<123||(e<=65535?e>=170&&s.test(String.fromCharCode(e)):!1!==t&&d(e,l)))}function h(e,t){return e<48?36===e:e<58||!(e<65)&&(e<91||(e<97?95===e:e<123||(e<=65535?e>=170&&u.test(String.fromCharCode(e)):!1!==t&&(d(e,l)||d(e,c)))))}var f=function(e,t){void 0===t&&(t={}),this.label=e,this.keyword=t.keyword,this.beforeExpr=!!t.beforeExpr,this.startsExpr=!!t.startsExpr,this.isLoop=!!t.isLoop,this.isAssign=!!t.isAssign,this.prefix=!!t.prefix,this.postfix=!!t.postfix,this.binop=t.binop||null,this.updateContext=null};function m(e,t){return new f(e,{beforeExpr:!0,binop:t})}var g={beforeExpr:!0},y={startsExpr:!0},v={};function _(e,t){return void 0===t&&(t={}),t.keyword=e,v[e]=new f(e,t)}var b={num:new f("num",y),regexp:new f("regexp",y),string:new f("string",y),name:new f("name",y),privateId:new f("privateId",y),eof:new f("eof"),bracketL:new f("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new f("]"),braceL:new f("{",{beforeExpr:!0,startsExpr:!0}),braceR:new f("}"),parenL:new f("(",{beforeExpr:!0,startsExpr:!0}),parenR:new f(")"),comma:new f(",",g),semi:new f(";",g),colon:new f(":",g),dot:new f("."),question:new f("?",g),questionDot:new f("?."),arrow:new f("=>",g),template:new f("template"),invalidTemplate:new f("invalidTemplate"),ellipsis:new f("...",g),backQuote:new f("`",y),dollarBraceL:new f("${",{beforeExpr:!0,startsExpr:!0}),eq:new f("=",{beforeExpr:!0,isAssign:!0}),assign:new f("_=",{beforeExpr:!0,isAssign:!0}),incDec:new f("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new f("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:m("||",1),logicalAND:m("&&",2),bitwiseOR:m("|",3),bitwiseXOR:m("^",4),bitwiseAND:m("&",5),equality:m("==/!=/===/!==",6),relational:m("</>/<=/>=",7),bitShift:m("<</>>/>>>",8),plusMin:new f("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:m("%",10),star:m("*",10),slash:m("/",10),starstar:new f("**",{beforeExpr:!0}),coalesce:m("??",1),_break:_("break"),_case:_("case",g),_catch:_("catch"),_continue:_("continue"),_debugger:_("debugger"),_default:_("default",g),_do:_("do",{isLoop:!0,beforeExpr:!0}),_else:_("else",g),_finally:_("finally"),_for:_("for",{isLoop:!0}),_function:_("function",y),_if:_("if"),_return:_("return",g),_switch:_("switch"),_throw:_("throw",g),_try:_("try"),_var:_("var"),_const:_("const"),_while:_("while",{isLoop:!0}),_with:_("with"),_new:_("new",{beforeExpr:!0,startsExpr:!0}),_this:_("this",y),_super:_("super",y),_class:_("class",y),_extends:_("extends",g),_export:_("export"),_import:_("import",y),_null:_("null",y),_true:_("true",y),_false:_("false",y),_in:_("in",{beforeExpr:!0,binop:7}),_instanceof:_("instanceof",{beforeExpr:!0,binop:7}),_typeof:_("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:_("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:_("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},w=/\r\n?|\n|\u2028|\u2029/,E=new RegExp(w.source,"g");function S(e){return 10===e||13===e||8232===e||8233===e}var T=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,C=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,x=Object.prototype,A=x.hasOwnProperty,k=x.toString;function I(e,t){return A.call(e,t)}var D=Array.isArray||function(e){return"[object Array]"===k.call(e)};function O(e){return new RegExp("^(?:"+e.replace(/ /g,"|")+")$")}var P=function(e,t){this.line=e,this.column=t};P.prototype.offset=function(e){return new P(this.line,this.column+e)};var N=function(e,t,n){this.start=t,this.end=n,null!==e.sourceFile&&(this.source=e.sourceFile)};function R(e,t){for(var n=1,i=0;;){E.lastIndex=i;var r=E.exec(e);if(!(r&&r.index<t))return new P(n,t-i);++n,i=r.index+r[0].length}}var L={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},M=!1;function F(e){var t={};for(var n in L)t[n]=e&&I(e,n)?e[n]:L[n];if("latest"===t.ecmaVersion?t.ecmaVersion=1e8:null==t.ecmaVersion?(!M&&"object"==typeof console&&console.warn&&(M=!0,console.warn("Since Acorn 8.0.0, options.ecmaVersion is required.\nDefaulting to 2020, but this will stop working in the future.")),t.ecmaVersion=11):t.ecmaVersion>=2015&&(t.ecmaVersion-=2009),null==t.allowReserved&&(t.allowReserved=t.ecmaVersion<5),D(t.onToken)){var i=t.onToken;t.onToken=function(e){return i.push(e)}}return D(t.onComment)&&(t.onComment=function(e,t){return function(n,i,r,o,a,s){var u={type:n?"Block":"Line",value:i,start:r,end:o};e.locations&&(u.loc=new N(this,a,s)),e.ranges&&(u.range=[r,o]),t.push(u)}}(t,t.onComment)),t}var j=256;function B(e,t){return 2|(e?4:0)|(t?8:0)}var U=function(e,n,r){this.options=e=F(e),this.sourceFile=e.sourceFile,this.keywords=O(i[e.ecmaVersion>=6?6:"module"===e.sourceType?"5module":5]);var o="";!0!==e.allowReserved&&(o=t[e.ecmaVersion>=6?6:5===e.ecmaVersion?5:3],"module"===e.sourceType&&(o+=" await")),this.reservedWords=O(o);var a=(o?o+" ":"")+t.strict;this.reservedWordsStrict=O(a),this.reservedWordsStrictBind=O(a+" "+t.strictBind),this.input=String(n),this.containsEsc=!1,r?(this.pos=r,this.lineStart=this.input.lastIndexOf("\n",r-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(w).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=b.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule="module"===e.sourceType,this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),0===this.pos&&e.allowHashBang&&"#!"===this.input.slice(0,2)&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(1),this.regexpState=null,this.privateNameStack=[]},H={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};U.prototype.parse=function(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)},H.inFunction.get=function(){return(2&this.currentVarScope().flags)>0},H.inGenerator.get=function(){return(8&this.currentVarScope().flags)>0&&!this.currentVarScope().inClassFieldInit},H.inAsync.get=function(){return(4&this.currentVarScope().flags)>0&&!this.currentVarScope().inClassFieldInit},H.canAwait.get=function(){for(var e=this.scopeStack.length-1;e>=0;e--){var t=this.scopeStack[e];if(t.inClassFieldInit||t.flags&j)return!1;if(2&t.flags)return(4&t.flags)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction},H.allowSuper.get=function(){var e=this.currentThisScope(),t=e.flags,n=e.inClassFieldInit;return(64&t)>0||n||this.options.allowSuperOutsideMethod},H.allowDirectSuper.get=function(){return(128&this.currentThisScope().flags)>0},H.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},H.allowNewDotTarget.get=function(){var e=this.currentThisScope(),t=e.flags,n=e.inClassFieldInit;return(258&t)>0||n},H.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&j)>0},U.extend=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var n=this,i=0;i<e.length;i++)n=e[i](n);return n},U.parse=function(e,t){return new this(t,e).parse()},U.parseExpressionAt=function(e,t,n){var i=new this(n,e,t);return i.nextToken(),i.parseExpression()},U.tokenizer=function(e,t){return new this(t,e)},Object.defineProperties(U.prototype,H);var $=U.prototype,G=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;function q(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1}$.strictDirective=function(e){for(;;){C.lastIndex=e,e+=C.exec(this.input)[0].length;var t=G.exec(this.input.slice(e));if(!t)return!1;if("use strict"===(t[1]||t[2])){C.lastIndex=e+t[0].length;var n=C.exec(this.input),i=n.index+n[0].length,r=this.input.charAt(i);return";"===r||"}"===r||w.test(n[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(r)||"!"===r&&"="===this.input.charAt(i+1))}e+=t[0].length,C.lastIndex=e,e+=C.exec(this.input)[0].length,";"===this.input[e]&&e++}},$.eat=function(e){return this.type===e&&(this.next(),!0)},$.isContextual=function(e){return this.type===b.name&&this.value===e&&!this.containsEsc},$.eatContextual=function(e){return!!this.isContextual(e)&&(this.next(),!0)},$.expectContextual=function(e){this.eatContextual(e)||this.unexpected()},$.canInsertSemicolon=function(){return this.type===b.eof||this.type===b.braceR||w.test(this.input.slice(this.lastTokEnd,this.start))},$.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},$.semicolon=function(){this.eat(b.semi)||this.insertSemicolon()||this.unexpected()},$.afterTrailingComma=function(e,t){if(this.type===e)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),t||this.next(),!0},$.expect=function(e){this.eat(e)||this.unexpected()},$.unexpected=function(e){this.raise(null!=e?e:this.start,"Unexpected token")},$.checkPatternErrors=function(e,t){if(e){e.trailingComma>-1&&this.raiseRecoverable(e.trailingComma,"Comma is not permitted after the rest element");var n=t?e.parenthesizedAssign:e.parenthesizedBind;n>-1&&this.raiseRecoverable(n,"Parenthesized pattern")}},$.checkExpressionErrors=function(e,t){if(!e)return!1;var n=e.shorthandAssign,i=e.doubleProto;if(!t)return n>=0||i>=0;n>=0&&this.raise(n,"Shorthand property assignments are valid only in destructuring patterns"),i>=0&&this.raiseRecoverable(i,"Redefinition of __proto__ property")},$.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},$.isSimpleAssignTarget=function(e){return"ParenthesizedExpression"===e.type?this.isSimpleAssignTarget(e.expression):"Identifier"===e.type||"MemberExpression"===e.type};var V=U.prototype;V.parseTopLevel=function(e){var t=Object.create(null);for(e.body||(e.body=[]);this.type!==b.eof;){var n=this.parseStatement(null,!0,t);e.body.push(n)}if(this.inModule)for(var i=0,r=Object.keys(this.undefinedExports);i<r.length;i+=1){var o=r[i];this.raiseRecoverable(this.undefinedExports[o].start,"Export '"+o+"' is not defined")}return this.adaptDirectivePrologue(e.body),this.next(),e.sourceType=this.options.sourceType,this.finishNode(e,"Program")};var z={kind:"loop"},W={kind:"switch"};V.isLet=function(e){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;C.lastIndex=this.pos;var t=C.exec(this.input),n=this.pos+t[0].length,i=this.input.charCodeAt(n);if(91===i||92===i||i>55295&&i<56320)return!0;if(e)return!1;if(123===i)return!0;if(p(i,!0)){for(var o=n+1;h(i=this.input.charCodeAt(o),!0);)++o;if(92===i||i>55295&&i<56320)return!0;var a=this.input.slice(n,o);if(!r.test(a))return!0}return!1},V.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;C.lastIndex=this.pos;var e,t=C.exec(this.input),n=this.pos+t[0].length;return!(w.test(this.input.slice(this.pos,n))||"function"!==this.input.slice(n,n+8)||n+8!==this.input.length&&(h(e=this.input.charCodeAt(n+8))||e>55295&&e<56320))},V.parseStatement=function(e,t,n){var i,r=this.type,o=this.startNode();switch(this.isLet(e)&&(r=b._var,i="let"),r){case b._break:case b._continue:return this.parseBreakContinueStatement(o,r.keyword);case b._debugger:return this.parseDebuggerStatement(o);case b._do:return this.parseDoStatement(o);case b._for:return this.parseForStatement(o);case b._function:return e&&(this.strict||"if"!==e&&"label"!==e)&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(o,!1,!e);case b._class:return e&&this.unexpected(),this.parseClass(o,!0);case b._if:return this.parseIfStatement(o);case b._return:return this.parseReturnStatement(o);case b._switch:return this.parseSwitchStatement(o);case b._throw:return this.parseThrowStatement(o);case b._try:return this.parseTryStatement(o);case b._const:case b._var:return i=i||this.value,e&&"var"!==i&&this.unexpected(),this.parseVarStatement(o,i);case b._while:return this.parseWhileStatement(o);case b._with:return this.parseWithStatement(o);case b.braceL:return this.parseBlock(!0,o);case b.semi:return this.parseEmptyStatement(o);case b._export:case b._import:if(this.options.ecmaVersion>10&&r===b._import){C.lastIndex=this.pos;var a=C.exec(this.input),s=this.pos+a[0].length,u=this.input.charCodeAt(s);if(40===u||46===u)return this.parseExpressionStatement(o,this.parseExpression())}return this.options.allowImportExportEverywhere||(t||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),r===b._import?this.parseImport(o):this.parseExport(o,n);default:if(this.isAsyncFunction())return e&&this.unexpected(),this.next(),this.parseFunctionStatement(o,!0,!e);var l=this.value,c=this.parseExpression();return r===b.name&&"Identifier"===c.type&&this.eat(b.colon)?this.parseLabeledStatement(o,l,c,e):this.parseExpressionStatement(o,c)}},V.parseBreakContinueStatement=function(e,t){var n="break"===t;this.next(),this.eat(b.semi)||this.insertSemicolon()?e.label=null:this.type!==b.name?this.unexpected():(e.label=this.parseIdent(),this.semicolon());for(var i=0;i<this.labels.length;++i){var r=this.labels[i];if(null==e.label||r.name===e.label.name){if(null!=r.kind&&(n||"loop"===r.kind))break;if(e.label&&n)break}}return i===this.labels.length&&this.raise(e.start,"Unsyntactic "+t),this.finishNode(e,n?"BreakStatement":"ContinueStatement")},V.parseDebuggerStatement=function(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")},V.parseDoStatement=function(e){return this.next(),this.labels.push(z),e.body=this.parseStatement("do"),this.labels.pop(),this.expect(b._while),e.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(b.semi):this.semicolon(),this.finishNode(e,"DoWhileStatement")},V.parseForStatement=function(e){this.next();var t=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(z),this.enterScope(0),this.expect(b.parenL),this.type===b.semi)return t>-1&&this.unexpected(t),this.parseFor(e,null);var n=this.isLet();if(this.type===b._var||this.type===b._const||n){var i=this.startNode(),r=n?"let":this.value;return this.next(),this.parseVar(i,!0,r),this.finishNode(i,"VariableDeclaration"),(this.type===b._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&1===i.declarations.length?(this.options.ecmaVersion>=9&&(this.type===b._in?t>-1&&this.unexpected(t):e.await=t>-1),this.parseForIn(e,i)):(t>-1&&this.unexpected(t),this.parseFor(e,i))}var o=this.isContextual("let"),a=!1,s=new q,u=this.parseExpression(!(t>-1)||"await",s);return this.type===b._in||(a=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===b._in?t>-1&&this.unexpected(t):e.await=t>-1),o&&a&&this.raise(u.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(u,!1,s),this.checkLValPattern(u),this.parseForIn(e,u)):(this.checkExpressionErrors(s,!0),t>-1&&this.unexpected(t),this.parseFor(e,u))},V.parseFunctionStatement=function(e,t,n){return this.next(),this.parseFunction(e,Y|(n?0:J),!1,t)},V.parseIfStatement=function(e){return this.next(),e.test=this.parseParenExpression(),e.consequent=this.parseStatement("if"),e.alternate=this.eat(b._else)?this.parseStatement("if"):null,this.finishNode(e,"IfStatement")},V.parseReturnStatement=function(e){return this.inFunction||this.options.allowReturnOutsideFunction||this.raise(this.start,"'return' outside of function"),this.next(),this.eat(b.semi)||this.insertSemicolon()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")},V.parseSwitchStatement=function(e){var t;this.next(),e.discriminant=this.parseParenExpression(),e.cases=[],this.expect(b.braceL),this.labels.push(W),this.enterScope(0);for(var n=!1;this.type!==b.braceR;)if(this.type===b._case||this.type===b._default){var i=this.type===b._case;t&&this.finishNode(t,"SwitchCase"),e.cases.push(t=this.startNode()),t.consequent=[],this.next(),i?t.test=this.parseExpression():(n&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),n=!0,t.test=null),this.expect(b.colon)}else t||this.unexpected(),t.consequent.push(this.parseStatement(null));return this.exitScope(),t&&this.finishNode(t,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(e,"SwitchStatement")},V.parseThrowStatement=function(e){return this.next(),w.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")};var K=[];V.parseTryStatement=function(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.type===b._catch){var t=this.startNode();if(this.next(),this.eat(b.parenL)){t.param=this.parseBindingAtom();var n="Identifier"===t.param.type;this.enterScope(n?32:0),this.checkLValPattern(t.param,n?4:2),this.expect(b.parenR)}else this.options.ecmaVersion<10&&this.unexpected(),t.param=null,this.enterScope(0);t.body=this.parseBlock(!1),this.exitScope(),e.handler=this.finishNode(t,"CatchClause")}return e.finalizer=this.eat(b._finally)?this.parseBlock():null,e.handler||e.finalizer||this.raise(e.start,"Missing catch or finally clause"),this.finishNode(e,"TryStatement")},V.parseVarStatement=function(e,t){return this.next(),this.parseVar(e,!1,t),this.semicolon(),this.finishNode(e,"VariableDeclaration")},V.parseWhileStatement=function(e){return this.next(),e.test=this.parseParenExpression(),this.labels.push(z),e.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(e,"WhileStatement")},V.parseWithStatement=function(e){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),e.object=this.parseParenExpression(),e.body=this.parseStatement("with"),this.finishNode(e,"WithStatement")},V.parseEmptyStatement=function(e){return this.next(),this.finishNode(e,"EmptyStatement")},V.parseLabeledStatement=function(e,t,n,i){for(var r=0,o=this.labels;r<o.length;r+=1){o[r].name===t&&this.raise(n.start,"Label '"+t+"' is already declared")}for(var a=this.type.isLoop?"loop":this.type===b._switch?"switch":null,s=this.labels.length-1;s>=0;s--){var u=this.labels[s];if(u.statementStart!==e.start)break;u.statementStart=this.start,u.kind=a}return this.labels.push({name:t,kind:a,statementStart:this.start}),e.body=this.parseStatement(i?-1===i.indexOf("label")?i+"label":i:"label"),this.labels.pop(),e.label=n,this.finishNode(e,"LabeledStatement")},V.parseExpressionStatement=function(e,t){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")},V.parseBlock=function(e,t,n){for(void 0===e&&(e=!0),void 0===t&&(t=this.startNode()),t.body=[],this.expect(b.braceL),e&&this.enterScope(0);this.type!==b.braceR;){var i=this.parseStatement(null);t.body.push(i)}return n&&(this.strict=!1),this.next(),e&&this.exitScope(),this.finishNode(t,"BlockStatement")},V.parseFor=function(e,t){return e.init=t,this.expect(b.semi),e.test=this.type===b.semi?null:this.parseExpression(),this.expect(b.semi),e.update=this.type===b.parenR?null:this.parseExpression(),this.expect(b.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,"ForStatement")},V.parseForIn=function(e,t){var n=this.type===b._in;return this.next(),"VariableDeclaration"===t.type&&null!=t.declarations[0].init&&(!n||this.options.ecmaVersion<8||this.strict||"var"!==t.kind||"Identifier"!==t.declarations[0].id.type)&&this.raise(t.start,(n?"for-in":"for-of")+" loop variable declaration may not have an initializer"),e.left=t,e.right=n?this.parseExpression():this.parseMaybeAssign(),this.expect(b.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,n?"ForInStatement":"ForOfStatement")},V.parseVar=function(e,t,n){for(e.declarations=[],e.kind=n;;){var i=this.startNode();if(this.parseVarId(i,n),this.eat(b.eq)?i.init=this.parseMaybeAssign(t):"const"!==n||this.type===b._in||this.options.ecmaVersion>=6&&this.isContextual("of")?"Identifier"===i.id.type||t&&(this.type===b._in||this.isContextual("of"))?i.init=null:this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):this.unexpected(),e.declarations.push(this.finishNode(i,"VariableDeclarator")),!this.eat(b.comma))break}return e},V.parseVarId=function(e,t){e.id=this.parseBindingAtom(),this.checkLValPattern(e.id,"var"===t?1:2,!1)};var Y=1,J=2;function X(e,t){var n=t.key.name,i=e[n],r="true";return"MethodDefinition"!==t.type||"get"!==t.kind&&"set"!==t.kind||(r=(t.static?"s":"i")+t.kind),"iget"===i&&"iset"===r||"iset"===i&&"iget"===r||"sget"===i&&"sset"===r||"sset"===i&&"sget"===r?(e[n]="true",!1):!!i||(e[n]=r,!1)}function Q(e,t){var n=e.computed,i=e.key;return!n&&("Identifier"===i.type&&i.name===t||"Literal"===i.type&&i.value===t)}V.parseFunction=function(e,t,n,i,r){this.initFunction(e),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!i)&&(this.type===b.star&&t&J&&this.unexpected(),e.generator=this.eat(b.star)),this.options.ecmaVersion>=8&&(e.async=!!i),t&Y&&(e.id=4&t&&this.type!==b.name?null:this.parseIdent(),!e.id||t&J||this.checkLValSimple(e.id,this.strict||e.generator||e.async?this.treatFunctionsAsVar?1:2:3));var o=this.yieldPos,a=this.awaitPos,s=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(B(e.async,e.generator)),t&Y||(e.id=this.type===b.name?this.parseIdent():null),this.parseFunctionParams(e),this.parseFunctionBody(e,n,!1,r),this.yieldPos=o,this.awaitPos=a,this.awaitIdentPos=s,this.finishNode(e,t&Y?"FunctionDeclaration":"FunctionExpression")},V.parseFunctionParams=function(e){this.expect(b.parenL),e.params=this.parseBindingList(b.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},V.parseClass=function(e,t){this.next();var n=this.strict;this.strict=!0,this.parseClassId(e,t),this.parseClassSuper(e);var i=this.enterClassBody(),r=this.startNode(),o=!1;for(r.body=[],this.expect(b.braceL);this.type!==b.braceR;){var a=this.parseClassElement(null!==e.superClass);a&&(r.body.push(a),"MethodDefinition"===a.type&&"constructor"===a.kind?(o&&this.raise(a.start,"Duplicate constructor in the same class"),o=!0):a.key&&"PrivateIdentifier"===a.key.type&&X(i,a)&&this.raiseRecoverable(a.key.start,"Identifier '#"+a.key.name+"' has already been declared"))}return this.strict=n,this.next(),e.body=this.finishNode(r,"ClassBody"),this.exitClassBody(),this.finishNode(e,t?"ClassDeclaration":"ClassExpression")},V.parseClassElement=function(e){if(this.eat(b.semi))return null;var t=this.options.ecmaVersion,n=this.startNode(),i="",r=!1,o=!1,a="method",s=!1;if(this.eatContextual("static")){if(t>=13&&this.eat(b.braceL))return this.parseClassStaticBlock(n),n;this.isClassElementNameStart()||this.type===b.star?s=!0:i="static"}if(n.static=s,!i&&t>=8&&this.eatContextual("async")&&(!this.isClassElementNameStart()&&this.type!==b.star||this.canInsertSemicolon()?i="async":o=!0),!i&&(t>=9||!o)&&this.eat(b.star)&&(r=!0),!i&&!o&&!r){var u=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?a=u:i=u)}if(i?(n.computed=!1,n.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),n.key.name=i,this.finishNode(n.key,"Identifier")):this.parseClassElementName(n),t<13||this.type===b.parenL||"method"!==a||r||o){var l=!n.static&&Q(n,"constructor"),c=l&&e;l&&"method"!==a&&this.raise(n.key.start,"Constructor can't have get/set modifier"),n.kind=l?"constructor":a,this.parseClassMethod(n,r,o,c)}else this.parseClassField(n);return n},V.isClassElementNameStart=function(){return this.type===b.name||this.type===b.privateId||this.type===b.num||this.type===b.string||this.type===b.bracketL||this.type.keyword},V.parseClassElementName=function(e){this.type===b.privateId?("constructor"===this.value&&this.raise(this.start,"Classes can't have an element named '#constructor'"),e.computed=!1,e.key=this.parsePrivateIdent()):this.parsePropertyName(e)},V.parseClassMethod=function(e,t,n,i){var r=e.key;"constructor"===e.kind?(t&&this.raise(r.start,"Constructor can't be a generator"),n&&this.raise(r.start,"Constructor can't be an async method")):e.static&&Q(e,"prototype")&&this.raise(r.start,"Classes may not have a static property named prototype");var o=e.value=this.parseMethod(t,n,i);return"get"===e.kind&&0!==o.params.length&&this.raiseRecoverable(o.start,"getter should have no params"),"set"===e.kind&&1!==o.params.length&&this.raiseRecoverable(o.start,"setter should have exactly one param"),"set"===e.kind&&"RestElement"===o.params[0].type&&this.raiseRecoverable(o.params[0].start,"Setter cannot use rest params"),this.finishNode(e,"MethodDefinition")},V.parseClassField=function(e){if(Q(e,"constructor")?this.raise(e.key.start,"Classes can't have a field named 'constructor'"):e.static&&Q(e,"prototype")&&this.raise(e.key.start,"Classes can't have a static field named 'prototype'"),this.eat(b.eq)){var t=this.currentThisScope(),n=t.inClassFieldInit;t.inClassFieldInit=!0,e.value=this.parseMaybeAssign(),t.inClassFieldInit=n}else e.value=null;return this.semicolon(),this.finishNode(e,"PropertyDefinition")},V.parseClassStaticBlock=function(e){e.body=[];var t=this.labels;for(this.labels=[],this.enterScope(320);this.type!==b.braceR;){var n=this.parseStatement(null);e.body.push(n)}return this.next(),this.exitScope(),this.labels=t,this.finishNode(e,"StaticBlock")},V.parseClassId=function(e,t){this.type===b.name?(e.id=this.parseIdent(),t&&this.checkLValSimple(e.id,2,!1)):(!0===t&&this.unexpected(),e.id=null)},V.parseClassSuper=function(e){e.superClass=this.eat(b._extends)?this.parseExprSubscripts(!1):null},V.enterClassBody=function(){var e={declared:Object.create(null),used:[]};return this.privateNameStack.push(e),e.declared},V.exitClassBody=function(){for(var e=this.privateNameStack.pop(),t=e.declared,n=e.used,i=this.privateNameStack.length,r=0===i?null:this.privateNameStack[i-1],o=0;o<n.length;++o){var a=n[o];I(t,a.name)||(r?r.used.push(a):this.raiseRecoverable(a.start,"Private field '#"+a.name+"' must be declared in an enclosing class"))}},V.parseExport=function(e,t){if(this.next(),this.eat(b.star))return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(e.exported=this.parseIdent(!0),this.checkExport(t,e.exported.name,this.lastTokStart)):e.exported=null),this.expectContextual("from"),this.type!==b.string&&this.unexpected(),e.source=this.parseExprAtom(),this.semicolon(),this.finishNode(e,"ExportAllDeclaration");if(this.eat(b._default)){var n;if(this.checkExport(t,"default",this.lastTokStart),this.type===b._function||(n=this.isAsyncFunction())){var i=this.startNode();this.next(),n&&this.next(),e.declaration=this.parseFunction(i,4|Y,!1,n)}else if(this.type===b._class){var r=this.startNode();e.declaration=this.parseClass(r,"nullableID")}else e.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(e,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())e.declaration=this.parseStatement(null),"VariableDeclaration"===e.declaration.type?this.checkVariableExport(t,e.declaration.declarations):this.checkExport(t,e.declaration.id.name,e.declaration.id.start),e.specifiers=[],e.source=null;else{if(e.declaration=null,e.specifiers=this.parseExportSpecifiers(t),this.eatContextual("from"))this.type!==b.string&&this.unexpected(),e.source=this.parseExprAtom();else{for(var o=0,a=e.specifiers;o<a.length;o+=1){var s=a[o];this.checkUnreserved(s.local),this.checkLocalExport(s.local)}e.source=null}this.semicolon()}return this.finishNode(e,"ExportNamedDeclaration")},V.checkExport=function(e,t,n){e&&(I(e,t)&&this.raiseRecoverable(n,"Duplicate export '"+t+"'"),e[t]=!0)},V.checkPatternExport=function(e,t){var n=t.type;if("Identifier"===n)this.checkExport(e,t.name,t.start);else if("ObjectPattern"===n)for(var i=0,r=t.properties;i<r.length;i+=1){var o=r[i];this.checkPatternExport(e,o)}else if("ArrayPattern"===n)for(var a=0,s=t.elements;a<s.length;a+=1){var u=s[a];u&&this.checkPatternExport(e,u)}else"Property"===n?this.checkPatternExport(e,t.value):"AssignmentPattern"===n?this.checkPatternExport(e,t.left):"RestElement"===n?this.checkPatternExport(e,t.argument):"ParenthesizedExpression"===n&&this.checkPatternExport(e,t.expression)},V.checkVariableExport=function(e,t){if(e)for(var n=0,i=t;n<i.length;n+=1){var r=i[n];this.checkPatternExport(e,r.id)}},V.shouldParseExportStatement=function(){return"var"===this.type.keyword||"const"===this.type.keyword||"class"===this.type.keyword||"function"===this.type.keyword||this.isLet()||this.isAsyncFunction()},V.parseExportSpecifiers=function(e){var t=[],n=!0;for(this.expect(b.braceL);!this.eat(b.braceR);){if(n)n=!1;else if(this.expect(b.comma),this.afterTrailingComma(b.braceR))break;var i=this.startNode();i.local=this.parseIdent(!0),i.exported=this.eatContextual("as")?this.parseIdent(!0):i.local,this.checkExport(e,i.exported.name,i.exported.start),t.push(this.finishNode(i,"ExportSpecifier"))}return t},V.parseImport=function(e){return this.next(),this.type===b.string?(e.specifiers=K,e.source=this.parseExprAtom()):(e.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),e.source=this.type===b.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(e,"ImportDeclaration")},V.parseImportSpecifiers=function(){var e=[],t=!0;if(this.type===b.name){var n=this.startNode();if(n.local=this.parseIdent(),this.checkLValSimple(n.local,2),e.push(this.finishNode(n,"ImportDefaultSpecifier")),!this.eat(b.comma))return e}if(this.type===b.star){var i=this.startNode();return this.next(),this.expectContextual("as"),i.local=this.parseIdent(),this.checkLValSimple(i.local,2),e.push(this.finishNode(i,"ImportNamespaceSpecifier")),e}for(this.expect(b.braceL);!this.eat(b.braceR);){if(t)t=!1;else if(this.expect(b.comma),this.afterTrailingComma(b.braceR))break;var r=this.startNode();r.imported=this.parseIdent(!0),this.eatContextual("as")?r.local=this.parseIdent():(this.checkUnreserved(r.imported),r.local=r.imported),this.checkLValSimple(r.local,2),e.push(this.finishNode(r,"ImportSpecifier"))}return e},V.adaptDirectivePrologue=function(e){for(var t=0;t<e.length&&this.isDirectiveCandidate(e[t]);++t)e[t].directive=e[t].expression.raw.slice(1,-1)},V.isDirectiveCandidate=function(e){return"ExpressionStatement"===e.type&&"Literal"===e.expression.type&&"string"==typeof e.expression.value&&('"'===this.input[e.start]||"'"===this.input[e.start])};var Z=U.prototype;Z.toAssignable=function(e,t,n){if(this.options.ecmaVersion>=6&&e)switch(e.type){case"Identifier":this.inAsync&&"await"===e.name&&this.raise(e.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":e.type="ObjectPattern",n&&this.checkPatternErrors(n,!0);for(var i=0,r=e.properties;i<r.length;i+=1){var o=r[i];this.toAssignable(o,t),"RestElement"!==o.type||"ArrayPattern"!==o.argument.type&&"ObjectPattern"!==o.argument.type||this.raise(o.argument.start,"Unexpected token")}break;case"Property":"init"!==e.kind&&this.raise(e.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(e.value,t);break;case"ArrayExpression":e.type="ArrayPattern",n&&this.checkPatternErrors(n,!0),this.toAssignableList(e.elements,t);break;case"SpreadElement":e.type="RestElement",this.toAssignable(e.argument,t),"AssignmentPattern"===e.argument.type&&this.raise(e.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":"="!==e.operator&&this.raise(e.left.end,"Only '=' operator can be used for specifying default value."),e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,t);break;case"ParenthesizedExpression":this.toAssignable(e.expression,t,n);break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!t)break;default:this.raise(e.start,"Assigning to rvalue")}else n&&this.checkPatternErrors(n,!0);return e},Z.toAssignableList=function(e,t){for(var n=e.length,i=0;i<n;i++){var r=e[i];r&&this.toAssignable(r,t)}if(n){var o=e[n-1];6===this.options.ecmaVersion&&t&&o&&"RestElement"===o.type&&"Identifier"!==o.argument.type&&this.unexpected(o.argument.start)}return e},Z.parseSpread=function(e){var t=this.startNode();return this.next(),t.argument=this.parseMaybeAssign(!1,e),this.finishNode(t,"SpreadElement")},Z.parseRestBinding=function(){var e=this.startNode();return this.next(),6===this.options.ecmaVersion&&this.type!==b.name&&this.unexpected(),e.argument=this.parseBindingAtom(),this.finishNode(e,"RestElement")},Z.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case b.bracketL:var e=this.startNode();return this.next(),e.elements=this.parseBindingList(b.bracketR,!0,!0),this.finishNode(e,"ArrayPattern");case b.braceL:return this.parseObj(!0)}return this.parseIdent()},Z.parseBindingList=function(e,t,n){for(var i=[],r=!0;!this.eat(e);)if(r?r=!1:this.expect(b.comma),t&&this.type===b.comma)i.push(null);else{if(n&&this.afterTrailingComma(e))break;if(this.type===b.ellipsis){var o=this.parseRestBinding();this.parseBindingListItem(o),i.push(o),this.type===b.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.expect(e);break}var a=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(a),i.push(a)}return i},Z.parseBindingListItem=function(e){return e},Z.parseMaybeDefault=function(e,t,n){if(n=n||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(b.eq))return n;var i=this.startNodeAt(e,t);return i.left=n,i.right=this.parseMaybeAssign(),this.finishNode(i,"AssignmentPattern")},Z.checkLValSimple=function(e,t,n){void 0===t&&(t=0);var i=0!==t;switch(e.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(e.name)&&this.raiseRecoverable(e.start,(i?"Binding ":"Assigning to ")+e.name+" in strict mode"),i&&(2===t&&"let"===e.name&&this.raiseRecoverable(e.start,"let is disallowed as a lexically bound name"),n&&(I(n,e.name)&&this.raiseRecoverable(e.start,"Argument name clash"),n[e.name]=!0),5!==t&&this.declareName(e.name,t,e.start));break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":i&&this.raiseRecoverable(e.start,"Binding member expression");break;case"ParenthesizedExpression":return i&&this.raiseRecoverable(e.start,"Binding parenthesized expression"),this.checkLValSimple(e.expression,t,n);default:this.raise(e.start,(i?"Binding":"Assigning to")+" rvalue")}},Z.checkLValPattern=function(e,t,n){switch(void 0===t&&(t=0),e.type){case"ObjectPattern":for(var i=0,r=e.properties;i<r.length;i+=1){var o=r[i];this.checkLValInnerPattern(o,t,n)}break;case"ArrayPattern":for(var a=0,s=e.elements;a<s.length;a+=1){var u=s[a];u&&this.checkLValInnerPattern(u,t,n)}break;default:this.checkLValSimple(e,t,n)}},Z.checkLValInnerPattern=function(e,t,n){switch(void 0===t&&(t=0),e.type){case"Property":this.checkLValInnerPattern(e.value,t,n);break;case"AssignmentPattern":this.checkLValPattern(e.left,t,n);break;case"RestElement":this.checkLValPattern(e.argument,t,n);break;default:this.checkLValPattern(e,t,n)}};var ee=function(e,t,n,i,r){this.token=e,this.isExpr=!!t,this.preserveSpace=!!n,this.override=i,this.generator=!!r},te={b_stat:new ee("{",!1),b_expr:new ee("{",!0),b_tmpl:new ee("${",!1),p_stat:new ee("(",!1),p_expr:new ee("(",!0),q_tmpl:new ee("`",!0,!0,(function(e){return e.tryReadTemplateToken()})),f_stat:new ee("function",!1),f_expr:new ee("function",!0),f_expr_gen:new ee("function",!0,!1,null,!0),f_gen:new ee("function",!1,!1,null,!0)},ne=U.prototype;ne.initialContext=function(){return[te.b_stat]},ne.curContext=function(){return this.context[this.context.length-1]},ne.braceIsBlock=function(e){var t=this.curContext();return t===te.f_expr||t===te.f_stat||(e!==b.colon||t!==te.b_stat&&t!==te.b_expr?e===b._return||e===b.name&&this.exprAllowed?w.test(this.input.slice(this.lastTokEnd,this.start)):e===b._else||e===b.semi||e===b.eof||e===b.parenR||e===b.arrow||(e===b.braceL?t===te.b_stat:e!==b._var&&e!==b._const&&e!==b.name&&!this.exprAllowed):!t.isExpr)},ne.inGeneratorContext=function(){for(var e=this.context.length-1;e>=1;e--){var t=this.context[e];if("function"===t.token)return t.generator}return!1},ne.updateContext=function(e){var t,n=this.type;n.keyword&&e===b.dot?this.exprAllowed=!1:(t=n.updateContext)?t.call(this,e):this.exprAllowed=n.beforeExpr},ne.overrideContext=function(e){this.curContext()!==e&&(this.context[this.context.length-1]=e)},b.parenR.updateContext=b.braceR.updateContext=function(){if(1!==this.context.length){var e=this.context.pop();e===te.b_stat&&"function"===this.curContext().token&&(e=this.context.pop()),this.exprAllowed=!e.isExpr}else this.exprAllowed=!0},b.braceL.updateContext=function(e){this.context.push(this.braceIsBlock(e)?te.b_stat:te.b_expr),this.exprAllowed=!0},b.dollarBraceL.updateContext=function(){this.context.push(te.b_tmpl),this.exprAllowed=!0},b.parenL.updateContext=function(e){var t=e===b._if||e===b._for||e===b._with||e===b._while;this.context.push(t?te.p_stat:te.p_expr),this.exprAllowed=!0},b.incDec.updateContext=function(){},b._function.updateContext=b._class.updateContext=function(e){!e.beforeExpr||e===b._else||e===b.semi&&this.curContext()!==te.p_stat||e===b._return&&w.test(this.input.slice(this.lastTokEnd,this.start))||(e===b.colon||e===b.braceL)&&this.curContext()===te.b_stat?this.context.push(te.f_stat):this.context.push(te.f_expr),this.exprAllowed=!1},b.backQuote.updateContext=function(){this.curContext()===te.q_tmpl?this.context.pop():this.context.push(te.q_tmpl),this.exprAllowed=!1},b.star.updateContext=function(e){if(e===b._function){var t=this.context.length-1;this.context[t]===te.f_expr?this.context[t]=te.f_expr_gen:this.context[t]=te.f_gen}this.exprAllowed=!0},b.name.updateContext=function(e){var t=!1;this.options.ecmaVersion>=6&&e!==b.dot&&("of"===this.value&&!this.exprAllowed||"yield"===this.value&&this.inGeneratorContext())&&(t=!0),this.exprAllowed=t};var ie=U.prototype;function re(e){return"MemberExpression"===e.type&&"PrivateIdentifier"===e.property.type||"ChainExpression"===e.type&&re(e.expression)}ie.checkPropClash=function(e,t,n){if(!(this.options.ecmaVersion>=9&&"SpreadElement"===e.type||this.options.ecmaVersion>=6&&(e.computed||e.method||e.shorthand))){var i,r=e.key;switch(r.type){case"Identifier":i=r.name;break;case"Literal":i=String(r.value);break;default:return}var o=e.kind;if(this.options.ecmaVersion>=6)"__proto__"===i&&"init"===o&&(t.proto&&(n?n.doubleProto<0&&(n.doubleProto=r.start):this.raiseRecoverable(r.start,"Redefinition of __proto__ property")),t.proto=!0);else{var a=t[i="$"+i];if(a)("init"===o?this.strict&&a.init||a.get||a.set:a.init||a[o])&&this.raiseRecoverable(r.start,"Redefinition of property");else a=t[i]={init:!1,get:!1,set:!1};a[o]=!0}}},ie.parseExpression=function(e,t){var n=this.start,i=this.startLoc,r=this.parseMaybeAssign(e,t);if(this.type===b.comma){var o=this.startNodeAt(n,i);for(o.expressions=[r];this.eat(b.comma);)o.expressions.push(this.parseMaybeAssign(e,t));return this.finishNode(o,"SequenceExpression")}return r},ie.parseMaybeAssign=function(e,t,n){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(e);this.exprAllowed=!1}var i=!1,r=-1,o=-1;t?(r=t.parenthesizedAssign,o=t.trailingComma,t.parenthesizedAssign=t.trailingComma=-1):(t=new q,i=!0);var a=this.start,s=this.startLoc;this.type!==b.parenL&&this.type!==b.name||(this.potentialArrowAt=this.start,this.potentialArrowInForAwait="await"===e);var u=this.parseMaybeConditional(e,t);if(n&&(u=n.call(this,u,a,s)),this.type.isAssign){var l=this.startNodeAt(a,s);return l.operator=this.value,this.type===b.eq&&(u=this.toAssignable(u,!1,t)),i||(t.parenthesizedAssign=t.trailingComma=t.doubleProto=-1),t.shorthandAssign>=u.start&&(t.shorthandAssign=-1),this.type===b.eq?this.checkLValPattern(u):this.checkLValSimple(u),l.left=u,this.next(),l.right=this.parseMaybeAssign(e),this.finishNode(l,"AssignmentExpression")}return i&&this.checkExpressionErrors(t,!0),r>-1&&(t.parenthesizedAssign=r),o>-1&&(t.trailingComma=o),u},ie.parseMaybeConditional=function(e,t){var n=this.start,i=this.startLoc,r=this.parseExprOps(e,t);if(this.checkExpressionErrors(t))return r;if(this.eat(b.question)){var o=this.startNodeAt(n,i);return o.test=r,o.consequent=this.parseMaybeAssign(),this.expect(b.colon),o.alternate=this.parseMaybeAssign(e),this.finishNode(o,"ConditionalExpression")}return r},ie.parseExprOps=function(e,t){var n=this.start,i=this.startLoc,r=this.parseMaybeUnary(t,!1,!1,e);return this.checkExpressionErrors(t)||r.start===n&&"ArrowFunctionExpression"===r.type?r:this.parseExprOp(r,n,i,-1,e)},ie.parseExprOp=function(e,t,n,i,r){var o=this.type.binop;if(null!=o&&(!r||this.type!==b._in)&&o>i){var a=this.type===b.logicalOR||this.type===b.logicalAND,s=this.type===b.coalesce;s&&(o=b.logicalAND.binop);var u=this.value;this.next();var l=this.start,c=this.startLoc,d=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,r),l,c,o,r),p=this.buildBinary(t,n,e,d,u,a||s);return(a&&this.type===b.coalesce||s&&(this.type===b.logicalOR||this.type===b.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(p,t,n,i,r)}return e},ie.buildBinary=function(e,t,n,i,r,o){var a=this.startNodeAt(e,t);return a.left=n,a.operator=r,a.right=i,this.finishNode(a,o?"LogicalExpression":"BinaryExpression")},ie.parseMaybeUnary=function(e,t,n,i){var r,o=this.start,a=this.startLoc;if(this.isContextual("await")&&this.canAwait)r=this.parseAwait(i),t=!0;else if(this.type.prefix){var s=this.startNode(),u=this.type===b.incDec;s.operator=this.value,s.prefix=!0,this.next(),s.argument=this.parseMaybeUnary(null,!0,u,i),this.checkExpressionErrors(e,!0),u?this.checkLValSimple(s.argument):this.strict&&"delete"===s.operator&&"Identifier"===s.argument.type?this.raiseRecoverable(s.start,"Deleting local variable in strict mode"):"delete"===s.operator&&re(s.argument)?this.raiseRecoverable(s.start,"Private fields can not be deleted"):t=!0,r=this.finishNode(s,u?"UpdateExpression":"UnaryExpression")}else{if(r=this.parseExprSubscripts(e,i),this.checkExpressionErrors(e))return r;for(;this.type.postfix&&!this.canInsertSemicolon();){var l=this.startNodeAt(o,a);l.operator=this.value,l.prefix=!1,l.argument=r,this.checkLValSimple(r),this.next(),r=this.finishNode(l,"UpdateExpression")}}return n||!this.eat(b.starstar)?r:t?void this.unexpected(this.lastTokStart):this.buildBinary(o,a,r,this.parseMaybeUnary(null,!1,!1,i),"**",!1)},ie.parseExprSubscripts=function(e,t){var n=this.start,i=this.startLoc,r=this.parseExprAtom(e,t);if("ArrowFunctionExpression"===r.type&&")"!==this.input.slice(this.lastTokStart,this.lastTokEnd))return r;var o=this.parseSubscripts(r,n,i,!1,t);return e&&"MemberExpression"===o.type&&(e.parenthesizedAssign>=o.start&&(e.parenthesizedAssign=-1),e.parenthesizedBind>=o.start&&(e.parenthesizedBind=-1),e.trailingComma>=o.start&&(e.trailingComma=-1)),o},ie.parseSubscripts=function(e,t,n,i,r){for(var o=this.options.ecmaVersion>=8&&"Identifier"===e.type&&"async"===e.name&&this.lastTokEnd===e.end&&!this.canInsertSemicolon()&&e.end-e.start==5&&this.potentialArrowAt===e.start,a=!1;;){var s=this.parseSubscript(e,t,n,i,o,a,r);if(s.optional&&(a=!0),s===e||"ArrowFunctionExpression"===s.type){if(a){var u=this.startNodeAt(t,n);u.expression=s,s=this.finishNode(u,"ChainExpression")}return s}e=s}},ie.parseSubscript=function(e,t,n,i,r,o,a){var s=this.options.ecmaVersion>=11,u=s&&this.eat(b.questionDot);i&&u&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var l=this.eat(b.bracketL);if(l||u&&this.type!==b.parenL&&this.type!==b.backQuote||this.eat(b.dot)){var c=this.startNodeAt(t,n);c.object=e,l?(c.property=this.parseExpression(),this.expect(b.bracketR)):this.type===b.privateId&&"Super"!==e.type?c.property=this.parsePrivateIdent():c.property=this.parseIdent("never"!==this.options.allowReserved),c.computed=!!l,s&&(c.optional=u),e=this.finishNode(c,"MemberExpression")}else if(!i&&this.eat(b.parenL)){var d=new q,p=this.yieldPos,h=this.awaitPos,f=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var m=this.parseExprList(b.parenR,this.options.ecmaVersion>=8,!1,d);if(r&&!u&&!this.canInsertSemicolon()&&this.eat(b.arrow))return this.checkPatternErrors(d,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=p,this.awaitPos=h,this.awaitIdentPos=f,this.parseArrowExpression(this.startNodeAt(t,n),m,!0,a);this.checkExpressionErrors(d,!0),this.yieldPos=p||this.yieldPos,this.awaitPos=h||this.awaitPos,this.awaitIdentPos=f||this.awaitIdentPos;var g=this.startNodeAt(t,n);g.callee=e,g.arguments=m,s&&(g.optional=u),e=this.finishNode(g,"CallExpression")}else if(this.type===b.backQuote){(u||o)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var y=this.startNodeAt(t,n);y.tag=e,y.quasi=this.parseTemplate({isTagged:!0}),e=this.finishNode(y,"TaggedTemplateExpression")}return e},ie.parseExprAtom=function(e,t){this.type===b.slash&&this.readRegexp();var n,i=this.potentialArrowAt===this.start;switch(this.type){case b._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),n=this.startNode(),this.next(),this.type!==b.parenL||this.allowDirectSuper||this.raise(n.start,"super() call outside constructor of a subclass"),this.type!==b.dot&&this.type!==b.bracketL&&this.type!==b.parenL&&this.unexpected(),this.finishNode(n,"Super");case b._this:return n=this.startNode(),this.next(),this.finishNode(n,"ThisExpression");case b.name:var r=this.start,o=this.startLoc,a=this.containsEsc,s=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!a&&"async"===s.name&&!this.canInsertSemicolon()&&this.eat(b._function))return this.overrideContext(te.f_expr),this.parseFunction(this.startNodeAt(r,o),0,!1,!0,t);if(i&&!this.canInsertSemicolon()){if(this.eat(b.arrow))return this.parseArrowExpression(this.startNodeAt(r,o),[s],!1,t);if(this.options.ecmaVersion>=8&&"async"===s.name&&this.type===b.name&&!a&&(!this.potentialArrowInForAwait||"of"!==this.value||this.containsEsc))return s=this.parseIdent(!1),!this.canInsertSemicolon()&&this.eat(b.arrow)||this.unexpected(),this.parseArrowExpression(this.startNodeAt(r,o),[s],!0,t)}return s;case b.regexp:var u=this.value;return(n=this.parseLiteral(u.value)).regex={pattern:u.pattern,flags:u.flags},n;case b.num:case b.string:return this.parseLiteral(this.value);case b._null:case b._true:case b._false:return(n=this.startNode()).value=this.type===b._null?null:this.type===b._true,n.raw=this.type.keyword,this.next(),this.finishNode(n,"Literal");case b.parenL:var l=this.start,c=this.parseParenAndDistinguishExpression(i,t);return e&&(e.parenthesizedAssign<0&&!this.isSimpleAssignTarget(c)&&(e.parenthesizedAssign=l),e.parenthesizedBind<0&&(e.parenthesizedBind=l)),c;case b.bracketL:return n=this.startNode(),this.next(),n.elements=this.parseExprList(b.bracketR,!0,!0,e),this.finishNode(n,"ArrayExpression");case b.braceL:return this.overrideContext(te.b_expr),this.parseObj(!1,e);case b._function:return n=this.startNode(),this.next(),this.parseFunction(n,0);case b._class:return this.parseClass(this.startNode(),!1);case b._new:return this.parseNew();case b.backQuote:return this.parseTemplate();case b._import:return this.options.ecmaVersion>=11?this.parseExprImport():this.unexpected();default:this.unexpected()}},ie.parseExprImport=function(){var e=this.startNode();this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import");var t=this.parseIdent(!0);switch(this.type){case b.parenL:return this.parseDynamicImport(e);case b.dot:return e.meta=t,this.parseImportMeta(e);default:this.unexpected()}},ie.parseDynamicImport=function(e){if(this.next(),e.source=this.parseMaybeAssign(),!this.eat(b.parenR)){var t=this.start;this.eat(b.comma)&&this.eat(b.parenR)?this.raiseRecoverable(t,"Trailing comma is not allowed in import()"):this.unexpected(t)}return this.finishNode(e,"ImportExpression")},ie.parseImportMeta=function(e){this.next();var t=this.containsEsc;return e.property=this.parseIdent(!0),"meta"!==e.property.name&&this.raiseRecoverable(e.property.start,"The only valid meta property for import is 'import.meta'"),t&&this.raiseRecoverable(e.start,"'import.meta' must not contain escaped characters"),"module"===this.options.sourceType||this.options.allowImportExportEverywhere||this.raiseRecoverable(e.start,"Cannot use 'import.meta' outside a module"),this.finishNode(e,"MetaProperty")},ie.parseLiteral=function(e){var t=this.startNode();return t.value=e,t.raw=this.input.slice(this.start,this.end),110===t.raw.charCodeAt(t.raw.length-1)&&(t.bigint=t.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(t,"Literal")},ie.parseParenExpression=function(){this.expect(b.parenL);var e=this.parseExpression();return this.expect(b.parenR),e},ie.parseParenAndDistinguishExpression=function(e,t){var n,i=this.start,r=this.startLoc,o=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var a,s=this.start,u=this.startLoc,l=[],c=!0,d=!1,p=new q,h=this.yieldPos,f=this.awaitPos;for(this.yieldPos=0,this.awaitPos=0;this.type!==b.parenR;){if(c?c=!1:this.expect(b.comma),o&&this.afterTrailingComma(b.parenR,!0)){d=!0;break}if(this.type===b.ellipsis){a=this.start,l.push(this.parseParenItem(this.parseRestBinding())),this.type===b.comma&&this.raise(this.start,"Comma is not permitted after the rest element");break}l.push(this.parseMaybeAssign(!1,p,this.parseParenItem))}var m=this.lastTokEnd,g=this.lastTokEndLoc;if(this.expect(b.parenR),e&&!this.canInsertSemicolon()&&this.eat(b.arrow))return this.checkPatternErrors(p,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=h,this.awaitPos=f,this.parseParenArrowList(i,r,l,t);l.length&&!d||this.unexpected(this.lastTokStart),a&&this.unexpected(a),this.checkExpressionErrors(p,!0),this.yieldPos=h||this.yieldPos,this.awaitPos=f||this.awaitPos,l.length>1?((n=this.startNodeAt(s,u)).expressions=l,this.finishNodeAt(n,"SequenceExpression",m,g)):n=l[0]}else n=this.parseParenExpression();if(this.options.preserveParens){var y=this.startNodeAt(i,r);return y.expression=n,this.finishNode(y,"ParenthesizedExpression")}return n},ie.parseParenItem=function(e){return e},ie.parseParenArrowList=function(e,t,n,i){return this.parseArrowExpression(this.startNodeAt(e,t),n,i)};var oe=[];ie.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var e=this.startNode(),t=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(b.dot)){e.meta=t;var n=this.containsEsc;return e.property=this.parseIdent(!0),"target"!==e.property.name&&this.raiseRecoverable(e.property.start,"The only valid meta property for new is 'new.target'"),n&&this.raiseRecoverable(e.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(e.start,"'new.target' can only be used in functions and class static block"),this.finishNode(e,"MetaProperty")}var i=this.start,r=this.startLoc,o=this.type===b._import;return e.callee=this.parseSubscripts(this.parseExprAtom(),i,r,!0,!1),o&&"ImportExpression"===e.callee.type&&this.raise(i,"Cannot use new with import()"),this.eat(b.parenL)?e.arguments=this.parseExprList(b.parenR,this.options.ecmaVersion>=8,!1):e.arguments=oe,this.finishNode(e,"NewExpression")},ie.parseTemplateElement=function(e){var t=e.isTagged,n=this.startNode();return this.type===b.invalidTemplate?(t||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),n.value={raw:this.value,cooked:null}):n.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,"\n"),cooked:this.value},this.next(),n.tail=this.type===b.backQuote,this.finishNode(n,"TemplateElement")},ie.parseTemplate=function(e){void 0===e&&(e={});var t=e.isTagged;void 0===t&&(t=!1);var n=this.startNode();this.next(),n.expressions=[];var i=this.parseTemplateElement({isTagged:t});for(n.quasis=[i];!i.tail;)this.type===b.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(b.dollarBraceL),n.expressions.push(this.parseExpression()),this.expect(b.braceR),n.quasis.push(i=this.parseTemplateElement({isTagged:t}));return this.next(),this.finishNode(n,"TemplateLiteral")},ie.isAsyncProp=function(e){return!e.computed&&"Identifier"===e.key.type&&"async"===e.key.name&&(this.type===b.name||this.type===b.num||this.type===b.string||this.type===b.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===b.star)&&!w.test(this.input.slice(this.lastTokEnd,this.start))},ie.parseObj=function(e,t){var n=this.startNode(),i=!0,r={};for(n.properties=[],this.next();!this.eat(b.braceR);){if(i)i=!1;else if(this.expect(b.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(b.braceR))break;var o=this.parseProperty(e,t);e||this.checkPropClash(o,r,t),n.properties.push(o)}return this.finishNode(n,e?"ObjectPattern":"ObjectExpression")},ie.parseProperty=function(e,t){var n,i,r,o,a=this.startNode();if(this.options.ecmaVersion>=9&&this.eat(b.ellipsis))return e?(a.argument=this.parseIdent(!1),this.type===b.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode(a,"RestElement")):(this.type===b.parenL&&t&&(t.parenthesizedAssign<0&&(t.parenthesizedAssign=this.start),t.parenthesizedBind<0&&(t.parenthesizedBind=this.start)),a.argument=this.parseMaybeAssign(!1,t),this.type===b.comma&&t&&t.trailingComma<0&&(t.trailingComma=this.start),this.finishNode(a,"SpreadElement"));this.options.ecmaVersion>=6&&(a.method=!1,a.shorthand=!1,(e||t)&&(r=this.start,o=this.startLoc),e||(n=this.eat(b.star)));var s=this.containsEsc;return this.parsePropertyName(a),!e&&!s&&this.options.ecmaVersion>=8&&!n&&this.isAsyncProp(a)?(i=!0,n=this.options.ecmaVersion>=9&&this.eat(b.star),this.parsePropertyName(a,t)):i=!1,this.parsePropertyValue(a,e,n,i,r,o,t,s),this.finishNode(a,"Property")},ie.parsePropertyValue=function(e,t,n,i,r,o,a,s){if((n||i)&&this.type===b.colon&&this.unexpected(),this.eat(b.colon))e.value=t?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,a),e.kind="init";else if(this.options.ecmaVersion>=6&&this.type===b.parenL)t&&this.unexpected(),e.kind="init",e.method=!0,e.value=this.parseMethod(n,i);else if(t||s||!(this.options.ecmaVersion>=5)||e.computed||"Identifier"!==e.key.type||"get"!==e.key.name&&"set"!==e.key.name||this.type===b.comma||this.type===b.braceR||this.type===b.eq)this.options.ecmaVersion>=6&&!e.computed&&"Identifier"===e.key.type?((n||i)&&this.unexpected(),this.checkUnreserved(e.key),"await"!==e.key.name||this.awaitIdentPos||(this.awaitIdentPos=r),e.kind="init",t?e.value=this.parseMaybeDefault(r,o,this.copyNode(e.key)):this.type===b.eq&&a?(a.shorthandAssign<0&&(a.shorthandAssign=this.start),e.value=this.parseMaybeDefault(r,o,this.copyNode(e.key))):e.value=this.copyNode(e.key),e.shorthand=!0):this.unexpected();else{(n||i)&&this.unexpected(),e.kind=e.key.name,this.parsePropertyName(e),e.value=this.parseMethod(!1);var u="get"===e.kind?0:1;if(e.value.params.length!==u){var l=e.value.start;"get"===e.kind?this.raiseRecoverable(l,"getter should have no params"):this.raiseRecoverable(l,"setter should have exactly one param")}else"set"===e.kind&&"RestElement"===e.value.params[0].type&&this.raiseRecoverable(e.value.params[0].start,"Setter cannot use rest params")}},ie.parsePropertyName=function(e){if(this.options.ecmaVersion>=6){if(this.eat(b.bracketL))return e.computed=!0,e.key=this.parseMaybeAssign(),this.expect(b.bracketR),e.key;e.computed=!1}return e.key=this.type===b.num||this.type===b.string?this.parseExprAtom():this.parseIdent("never"!==this.options.allowReserved)},ie.initFunction=function(e){e.id=null,this.options.ecmaVersion>=6&&(e.generator=e.expression=!1),this.options.ecmaVersion>=8&&(e.async=!1)},ie.parseMethod=function(e,t,n){var i=this.startNode(),r=this.yieldPos,o=this.awaitPos,a=this.awaitIdentPos;return this.initFunction(i),this.options.ecmaVersion>=6&&(i.generator=e),this.options.ecmaVersion>=8&&(i.async=!!t),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(64|B(t,i.generator)|(n?128:0)),this.expect(b.parenL),i.params=this.parseBindingList(b.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(i,!1,!0,!1),this.yieldPos=r,this.awaitPos=o,this.awaitIdentPos=a,this.finishNode(i,"FunctionExpression")},ie.parseArrowExpression=function(e,t,n,i){var r=this.yieldPos,o=this.awaitPos,a=this.awaitIdentPos;return this.enterScope(16|B(n,!1)),this.initFunction(e),this.options.ecmaVersion>=8&&(e.async=!!n),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,e.params=this.toAssignableList(t,!0),this.parseFunctionBody(e,!0,!1,i),this.yieldPos=r,this.awaitPos=o,this.awaitIdentPos=a,this.finishNode(e,"ArrowFunctionExpression")},ie.parseFunctionBody=function(e,t,n,i){var r=t&&this.type!==b.braceL,o=this.strict,a=!1;if(r)e.body=this.parseMaybeAssign(i),e.expression=!0,this.checkParams(e,!1);else{var s=this.options.ecmaVersion>=7&&!this.isSimpleParamList(e.params);o&&!s||(a=this.strictDirective(this.end))&&s&&this.raiseRecoverable(e.start,"Illegal 'use strict' directive in function with non-simple parameter list");var u=this.labels;this.labels=[],a&&(this.strict=!0),this.checkParams(e,!o&&!a&&!t&&!n&&this.isSimpleParamList(e.params)),this.strict&&e.id&&this.checkLValSimple(e.id,5),e.body=this.parseBlock(!1,void 0,a&&!o),e.expression=!1,this.adaptDirectivePrologue(e.body.body),this.labels=u}this.exitScope()},ie.isSimpleParamList=function(e){for(var t=0,n=e;t<n.length;t+=1){if("Identifier"!==n[t].type)return!1}return!0},ie.checkParams=function(e,t){for(var n=Object.create(null),i=0,r=e.params;i<r.length;i+=1){var o=r[i];this.checkLValInnerPattern(o,1,t?null:n)}},ie.parseExprList=function(e,t,n,i){for(var r=[],o=!0;!this.eat(e);){if(o)o=!1;else if(this.expect(b.comma),t&&this.afterTrailingComma(e))break;var a=void 0;n&&this.type===b.comma?a=null:this.type===b.ellipsis?(a=this.parseSpread(i),i&&this.type===b.comma&&i.trailingComma<0&&(i.trailingComma=this.start)):a=this.parseMaybeAssign(!1,i),r.push(a)}return r},ie.checkUnreserved=function(e){var t=e.start,n=e.end,i=e.name;(this.inGenerator&&"yield"===i&&this.raiseRecoverable(t,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&"await"===i&&this.raiseRecoverable(t,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&"arguments"===i&&this.raiseRecoverable(t,"Cannot use 'arguments' in class field initializer"),!this.inClassStaticBlock||"arguments"!==i&&"await"!==i||this.raise(t,"Cannot use "+i+" in class static initialization block"),this.keywords.test(i)&&this.raise(t,"Unexpected keyword '"+i+"'"),this.options.ecmaVersion<6&&-1!==this.input.slice(t,n).indexOf("\\"))||(this.strict?this.reservedWordsStrict:this.reservedWords).test(i)&&(this.inAsync||"await"!==i||this.raiseRecoverable(t,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(t,"The keyword '"+i+"' is reserved"))},ie.parseIdent=function(e,t){var n=this.startNode();return this.type===b.name?n.name=this.value:this.type.keyword?(n.name=this.type.keyword,"class"!==n.name&&"function"!==n.name||this.lastTokEnd===this.lastTokStart+1&&46===this.input.charCodeAt(this.lastTokStart)||this.context.pop()):this.unexpected(),this.next(!!e),this.finishNode(n,"Identifier"),e||(this.checkUnreserved(n),"await"!==n.name||this.awaitIdentPos||(this.awaitIdentPos=n.start)),n},ie.parsePrivateIdent=function(){var e=this.startNode();return this.type===b.privateId?e.name=this.value:this.unexpected(),this.next(),this.finishNode(e,"PrivateIdentifier"),0===this.privateNameStack.length?this.raise(e.start,"Private field '#"+e.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(e),e},ie.parseYield=function(e){this.yieldPos||(this.yieldPos=this.start);var t=this.startNode();return this.next(),this.type===b.semi||this.canInsertSemicolon()||this.type!==b.star&&!this.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(b.star),t.argument=this.parseMaybeAssign(e)),this.finishNode(t,"YieldExpression")},ie.parseAwait=function(e){this.awaitPos||(this.awaitPos=this.start);var t=this.startNode();return this.next(),t.argument=this.parseMaybeUnary(null,!0,!1,e),this.finishNode(t,"AwaitExpression")};var ae=U.prototype;ae.raise=function(e,t){var n=R(this.input,e);t+=" ("+n.line+":"+n.column+")";var i=new SyntaxError(t);throw i.pos=e,i.loc=n,i.raisedAt=this.pos,i},ae.raiseRecoverable=ae.raise,ae.curPosition=function(){if(this.options.locations)return new P(this.curLine,this.pos-this.lineStart)};var se=U.prototype,ue=function(e){this.flags=e,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};se.enterScope=function(e){this.scopeStack.push(new ue(e))},se.exitScope=function(){this.scopeStack.pop()},se.treatFunctionsAsVarInScope=function(e){return 2&e.flags||!this.inModule&&1&e.flags},se.declareName=function(e,t,n){var i=!1;if(2===t){var r=this.currentScope();i=r.lexical.indexOf(e)>-1||r.functions.indexOf(e)>-1||r.var.indexOf(e)>-1,r.lexical.push(e),this.inModule&&1&r.flags&&delete this.undefinedExports[e]}else if(4===t){this.currentScope().lexical.push(e)}else if(3===t){var o=this.currentScope();i=this.treatFunctionsAsVar?o.lexical.indexOf(e)>-1:o.lexical.indexOf(e)>-1||o.var.indexOf(e)>-1,o.functions.push(e)}else for(var a=this.scopeStack.length-1;a>=0;--a){var s=this.scopeStack[a];if(s.lexical.indexOf(e)>-1&&!(32&s.flags&&s.lexical[0]===e)||!this.treatFunctionsAsVarInScope(s)&&s.functions.indexOf(e)>-1){i=!0;break}if(s.var.push(e),this.inModule&&1&s.flags&&delete this.undefinedExports[e],259&s.flags)break}i&&this.raiseRecoverable(n,"Identifier '"+e+"' has already been declared")},se.checkLocalExport=function(e){-1===this.scopeStack[0].lexical.indexOf(e.name)&&-1===this.scopeStack[0].var.indexOf(e.name)&&(this.undefinedExports[e.name]=e)},se.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},se.currentVarScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(259&t.flags)return t}},se.currentThisScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(259&t.flags&&!(16&t.flags))return t}};var le=function(e,t,n){this.type="",this.start=t,this.end=0,e.options.locations&&(this.loc=new N(e,n)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[t,0])},ce=U.prototype;function de(e,t,n,i){return e.type=t,e.end=n,this.options.locations&&(e.loc.end=i),this.options.ranges&&(e.range[1]=n),e}ce.startNode=function(){return new le(this,this.start,this.startLoc)},ce.startNodeAt=function(e,t){return new le(this,e,t)},ce.finishNode=function(e,t){return de.call(this,e,t,this.lastTokEnd,this.lastTokEndLoc)},ce.finishNodeAt=function(e,t,n,i){return de.call(this,e,t,n,i)},ce.copyNode=function(e){var t=new le(this,e.start,this.startLoc);for(var n in e)t[n]=e[n];return t};var pe="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",he=pe+" Extended_Pictographic",fe={9:pe,10:he,11:he,12:"ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS Extended_Pictographic EBase EComp EMod EPres ExtPict"},me="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",ge="Adlam Adlm Ahom Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",ye=ge+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",ve=ye+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",_e={9:ge,10:ye,11:ve,12:"Adlam Adlm Ahom Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi"},be={};function we(e){var t=be[e]={binary:O(fe[e]+" "+me),nonBinary:{General_Category:O(me),Script:O(_e[e])}};t.nonBinary.Script_Extensions=t.nonBinary.Script,t.nonBinary.gc=t.nonBinary.General_Category,t.nonBinary.sc=t.nonBinary.Script,t.nonBinary.scx=t.nonBinary.Script_Extensions}we(9),we(10),we(11),we(12);var Ee=U.prototype,Se=function(e){this.parser=e,this.validFlags="gim"+(e.options.ecmaVersion>=6?"uy":"")+(e.options.ecmaVersion>=9?"s":"")+(e.options.ecmaVersion>=13?"d":""),this.unicodeProperties=be[e.options.ecmaVersion>=12?12:e.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};function Te(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}function Ce(e){return 36===e||e>=40&&e<=43||46===e||63===e||e>=91&&e<=94||e>=123&&e<=125}function xe(e){return e>=65&&e<=90||e>=97&&e<=122}function Ae(e){return xe(e)||95===e}function ke(e){return Ae(e)||Ie(e)}function Ie(e){return e>=48&&e<=57}function De(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function Oe(e){return e>=65&&e<=70?e-65+10:e>=97&&e<=102?e-97+10:e-48}function Pe(e){return e>=48&&e<=55}Se.prototype.reset=function(e,t,n){var i=-1!==n.indexOf("u");this.start=0|e,this.source=t+"",this.flags=n,this.switchU=i&&this.parser.options.ecmaVersion>=6,this.switchN=i&&this.parser.options.ecmaVersion>=9},Se.prototype.raise=function(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)},Se.prototype.at=function(e,t){void 0===t&&(t=!1);var n=this.source,i=n.length;if(e>=i)return-1;var r=n.charCodeAt(e);if(!t&&!this.switchU||r<=55295||r>=57344||e+1>=i)return r;var o=n.charCodeAt(e+1);return o>=56320&&o<=57343?(r<<10)+o-56613888:r},Se.prototype.nextIndex=function(e,t){void 0===t&&(t=!1);var n=this.source,i=n.length;if(e>=i)return i;var r,o=n.charCodeAt(e);return!t&&!this.switchU||o<=55295||o>=57344||e+1>=i||(r=n.charCodeAt(e+1))<56320||r>57343?e+1:e+2},Se.prototype.current=function(e){return void 0===e&&(e=!1),this.at(this.pos,e)},Se.prototype.lookahead=function(e){return void 0===e&&(e=!1),this.at(this.nextIndex(this.pos,e),e)},Se.prototype.advance=function(e){void 0===e&&(e=!1),this.pos=this.nextIndex(this.pos,e)},Se.prototype.eat=function(e,t){return void 0===t&&(t=!1),this.current(t)===e&&(this.advance(t),!0)},Ee.validateRegExpFlags=function(e){for(var t=e.validFlags,n=e.flags,i=0;i<n.length;i++){var r=n.charAt(i);-1===t.indexOf(r)&&this.raise(e.start,"Invalid regular expression flag"),n.indexOf(r,i+1)>-1&&this.raise(e.start,"Duplicate regular expression flag")}},Ee.validateRegExpPattern=function(e){this.regexp_pattern(e),!e.switchN&&this.options.ecmaVersion>=9&&e.groupNames.length>0&&(e.switchN=!0,this.regexp_pattern(e))},Ee.regexp_pattern=function(e){e.pos=0,e.lastIntValue=0,e.lastStringValue="",e.lastAssertionIsQuantifiable=!1,e.numCapturingParens=0,e.maxBackReference=0,e.groupNames.length=0,e.backReferenceNames.length=0,this.regexp_disjunction(e),e.pos!==e.source.length&&(e.eat(41)&&e.raise("Unmatched ')'"),(e.eat(93)||e.eat(125))&&e.raise("Lone quantifier brackets")),e.maxBackReference>e.numCapturingParens&&e.raise("Invalid escape");for(var t=0,n=e.backReferenceNames;t<n.length;t+=1){var i=n[t];-1===e.groupNames.indexOf(i)&&e.raise("Invalid named capture referenced")}},Ee.regexp_disjunction=function(e){for(this.regexp_alternative(e);e.eat(124);)this.regexp_alternative(e);this.regexp_eatQuantifier(e,!0)&&e.raise("Nothing to repeat"),e.eat(123)&&e.raise("Lone quantifier brackets")},Ee.regexp_alternative=function(e){for(;e.pos<e.source.length&&this.regexp_eatTerm(e););},Ee.regexp_eatTerm=function(e){return this.regexp_eatAssertion(e)?(e.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(e)&&e.switchU&&e.raise("Invalid quantifier"),!0):!!(e.switchU?this.regexp_eatAtom(e):this.regexp_eatExtendedAtom(e))&&(this.regexp_eatQuantifier(e),!0)},Ee.regexp_eatAssertion=function(e){var t=e.pos;if(e.lastAssertionIsQuantifiable=!1,e.eat(94)||e.eat(36))return!0;if(e.eat(92)){if(e.eat(66)||e.eat(98))return!0;e.pos=t}if(e.eat(40)&&e.eat(63)){var n=!1;if(this.options.ecmaVersion>=9&&(n=e.eat(60)),e.eat(61)||e.eat(33))return this.regexp_disjunction(e),e.eat(41)||e.raise("Unterminated group"),e.lastAssertionIsQuantifiable=!n,!0}return e.pos=t,!1},Ee.regexp_eatQuantifier=function(e,t){return void 0===t&&(t=!1),!!this.regexp_eatQuantifierPrefix(e,t)&&(e.eat(63),!0)},Ee.regexp_eatQuantifierPrefix=function(e,t){return e.eat(42)||e.eat(43)||e.eat(63)||this.regexp_eatBracedQuantifier(e,t)},Ee.regexp_eatBracedQuantifier=function(e,t){var n=e.pos;if(e.eat(123)){var i=0,r=-1;if(this.regexp_eatDecimalDigits(e)&&(i=e.lastIntValue,e.eat(44)&&this.regexp_eatDecimalDigits(e)&&(r=e.lastIntValue),e.eat(125)))return-1!==r&&r<i&&!t&&e.raise("numbers out of order in {} quantifier"),!0;e.switchU&&!t&&e.raise("Incomplete quantifier"),e.pos=n}return!1},Ee.regexp_eatAtom=function(e){return this.regexp_eatPatternCharacters(e)||e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)},Ee.regexp_eatReverseSolidusAtomEscape=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatAtomEscape(e))return!0;e.pos=t}return!1},Ee.regexp_eatUncapturingGroup=function(e){var t=e.pos;if(e.eat(40)){if(e.eat(63)&&e.eat(58)){if(this.regexp_disjunction(e),e.eat(41))return!0;e.raise("Unterminated group")}e.pos=t}return!1},Ee.regexp_eatCapturingGroup=function(e){if(e.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(e):63===e.current()&&e.raise("Invalid group"),this.regexp_disjunction(e),e.eat(41))return e.numCapturingParens+=1,!0;e.raise("Unterminated group")}return!1},Ee.regexp_eatExtendedAtom=function(e){return e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)||this.regexp_eatInvalidBracedQuantifier(e)||this.regexp_eatExtendedPatternCharacter(e)},Ee.regexp_eatInvalidBracedQuantifier=function(e){return this.regexp_eatBracedQuantifier(e,!0)&&e.raise("Nothing to repeat"),!1},Ee.regexp_eatSyntaxCharacter=function(e){var t=e.current();return!!Ce(t)&&(e.lastIntValue=t,e.advance(),!0)},Ee.regexp_eatPatternCharacters=function(e){for(var t=e.pos,n=0;-1!==(n=e.current())&&!Ce(n);)e.advance();return e.pos!==t},Ee.regexp_eatExtendedPatternCharacter=function(e){var t=e.current();return!(-1===t||36===t||t>=40&&t<=43||46===t||63===t||91===t||94===t||124===t)&&(e.advance(),!0)},Ee.regexp_groupSpecifier=function(e){if(e.eat(63)){if(this.regexp_eatGroupName(e))return-1!==e.groupNames.indexOf(e.lastStringValue)&&e.raise("Duplicate capture group name"),void e.groupNames.push(e.lastStringValue);e.raise("Invalid group")}},Ee.regexp_eatGroupName=function(e){if(e.lastStringValue="",e.eat(60)){if(this.regexp_eatRegExpIdentifierName(e)&&e.eat(62))return!0;e.raise("Invalid capture group name")}return!1},Ee.regexp_eatRegExpIdentifierName=function(e){if(e.lastStringValue="",this.regexp_eatRegExpIdentifierStart(e)){for(e.lastStringValue+=Te(e.lastIntValue);this.regexp_eatRegExpIdentifierPart(e);)e.lastStringValue+=Te(e.lastIntValue);return!0}return!1},Ee.regexp_eatRegExpIdentifierStart=function(e){var t=e.pos,n=this.options.ecmaVersion>=11,i=e.current(n);return e.advance(n),92===i&&this.regexp_eatRegExpUnicodeEscapeSequence(e,n)&&(i=e.lastIntValue),function(e){return p(e,!0)||36===e||95===e}(i)?(e.lastIntValue=i,!0):(e.pos=t,!1)},Ee.regexp_eatRegExpIdentifierPart=function(e){var t=e.pos,n=this.options.ecmaVersion>=11,i=e.current(n);return e.advance(n),92===i&&this.regexp_eatRegExpUnicodeEscapeSequence(e,n)&&(i=e.lastIntValue),function(e){return h(e,!0)||36===e||95===e||8204===e||8205===e}(i)?(e.lastIntValue=i,!0):(e.pos=t,!1)},Ee.regexp_eatAtomEscape=function(e){return!!(this.regexp_eatBackReference(e)||this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)||e.switchN&&this.regexp_eatKGroupName(e))||(e.switchU&&(99===e.current()&&e.raise("Invalid unicode escape"),e.raise("Invalid escape")),!1)},Ee.regexp_eatBackReference=function(e){var t=e.pos;if(this.regexp_eatDecimalEscape(e)){var n=e.lastIntValue;if(e.switchU)return n>e.maxBackReference&&(e.maxBackReference=n),!0;if(n<=e.numCapturingParens)return!0;e.pos=t}return!1},Ee.regexp_eatKGroupName=function(e){if(e.eat(107)){if(this.regexp_eatGroupName(e))return e.backReferenceNames.push(e.lastStringValue),!0;e.raise("Invalid named reference")}return!1},Ee.regexp_eatCharacterEscape=function(e){return this.regexp_eatControlEscape(e)||this.regexp_eatCControlLetter(e)||this.regexp_eatZero(e)||this.regexp_eatHexEscapeSequence(e)||this.regexp_eatRegExpUnicodeEscapeSequence(e,!1)||!e.switchU&&this.regexp_eatLegacyOctalEscapeSequence(e)||this.regexp_eatIdentityEscape(e)},Ee.regexp_eatCControlLetter=function(e){var t=e.pos;if(e.eat(99)){if(this.regexp_eatControlLetter(e))return!0;e.pos=t}return!1},Ee.regexp_eatZero=function(e){return 48===e.current()&&!Ie(e.lookahead())&&(e.lastIntValue=0,e.advance(),!0)},Ee.regexp_eatControlEscape=function(e){var t=e.current();return 116===t?(e.lastIntValue=9,e.advance(),!0):110===t?(e.lastIntValue=10,e.advance(),!0):118===t?(e.lastIntValue=11,e.advance(),!0):102===t?(e.lastIntValue=12,e.advance(),!0):114===t&&(e.lastIntValue=13,e.advance(),!0)},Ee.regexp_eatControlLetter=function(e){var t=e.current();return!!xe(t)&&(e.lastIntValue=t%32,e.advance(),!0)},Ee.regexp_eatRegExpUnicodeEscapeSequence=function(e,t){void 0===t&&(t=!1);var n,i=e.pos,r=t||e.switchU;if(e.eat(117)){if(this.regexp_eatFixedHexDigits(e,4)){var o=e.lastIntValue;if(r&&o>=55296&&o<=56319){var a=e.pos;if(e.eat(92)&&e.eat(117)&&this.regexp_eatFixedHexDigits(e,4)){var s=e.lastIntValue;if(s>=56320&&s<=57343)return e.lastIntValue=1024*(o-55296)+(s-56320)+65536,!0}e.pos=a,e.lastIntValue=o}return!0}if(r&&e.eat(123)&&this.regexp_eatHexDigits(e)&&e.eat(125)&&((n=e.lastIntValue)>=0&&n<=1114111))return!0;r&&e.raise("Invalid unicode escape"),e.pos=i}return!1},Ee.regexp_eatIdentityEscape=function(e){if(e.switchU)return!!this.regexp_eatSyntaxCharacter(e)||!!e.eat(47)&&(e.lastIntValue=47,!0);var t=e.current();return!(99===t||e.switchN&&107===t)&&(e.lastIntValue=t,e.advance(),!0)},Ee.regexp_eatDecimalEscape=function(e){e.lastIntValue=0;var t=e.current();if(t>=49&&t<=57){do{e.lastIntValue=10*e.lastIntValue+(t-48),e.advance()}while((t=e.current())>=48&&t<=57);return!0}return!1},Ee.regexp_eatCharacterClassEscape=function(e){var t=e.current();if(function(e){return 100===e||68===e||115===e||83===e||119===e||87===e}(t))return e.lastIntValue=-1,e.advance(),!0;if(e.switchU&&this.options.ecmaVersion>=9&&(80===t||112===t)){if(e.lastIntValue=-1,e.advance(),e.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(e)&&e.eat(125))return!0;e.raise("Invalid property name")}return!1},Ee.regexp_eatUnicodePropertyValueExpression=function(e){var t=e.pos;if(this.regexp_eatUnicodePropertyName(e)&&e.eat(61)){var n=e.lastStringValue;if(this.regexp_eatUnicodePropertyValue(e)){var i=e.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(e,n,i),!0}}if(e.pos=t,this.regexp_eatLoneUnicodePropertyNameOrValue(e)){var r=e.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(e,r),!0}return!1},Ee.regexp_validateUnicodePropertyNameAndValue=function(e,t,n){I(e.unicodeProperties.nonBinary,t)||e.raise("Invalid property name"),e.unicodeProperties.nonBinary[t].test(n)||e.raise("Invalid property value")},Ee.regexp_validateUnicodePropertyNameOrValue=function(e,t){e.unicodeProperties.binary.test(t)||e.raise("Invalid property name")},Ee.regexp_eatUnicodePropertyName=function(e){var t=0;for(e.lastStringValue="";Ae(t=e.current());)e.lastStringValue+=Te(t),e.advance();return""!==e.lastStringValue},Ee.regexp_eatUnicodePropertyValue=function(e){var t=0;for(e.lastStringValue="";ke(t=e.current());)e.lastStringValue+=Te(t),e.advance();return""!==e.lastStringValue},Ee.regexp_eatLoneUnicodePropertyNameOrValue=function(e){return this.regexp_eatUnicodePropertyValue(e)},Ee.regexp_eatCharacterClass=function(e){if(e.eat(91)){if(e.eat(94),this.regexp_classRanges(e),e.eat(93))return!0;e.raise("Unterminated character class")}return!1},Ee.regexp_classRanges=function(e){for(;this.regexp_eatClassAtom(e);){var t=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassAtom(e)){var n=e.lastIntValue;!e.switchU||-1!==t&&-1!==n||e.raise("Invalid character class"),-1!==t&&-1!==n&&t>n&&e.raise("Range out of order in character class")}}},Ee.regexp_eatClassAtom=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatClassEscape(e))return!0;if(e.switchU){var n=e.current();(99===n||Pe(n))&&e.raise("Invalid class escape"),e.raise("Invalid escape")}e.pos=t}var i=e.current();return 93!==i&&(e.lastIntValue=i,e.advance(),!0)},Ee.regexp_eatClassEscape=function(e){var t=e.pos;if(e.eat(98))return e.lastIntValue=8,!0;if(e.switchU&&e.eat(45))return e.lastIntValue=45,!0;if(!e.switchU&&e.eat(99)){if(this.regexp_eatClassControlLetter(e))return!0;e.pos=t}return this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)},Ee.regexp_eatClassControlLetter=function(e){var t=e.current();return!(!Ie(t)&&95!==t)&&(e.lastIntValue=t%32,e.advance(),!0)},Ee.regexp_eatHexEscapeSequence=function(e){var t=e.pos;if(e.eat(120)){if(this.regexp_eatFixedHexDigits(e,2))return!0;e.switchU&&e.raise("Invalid escape"),e.pos=t}return!1},Ee.regexp_eatDecimalDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;Ie(n=e.current());)e.lastIntValue=10*e.lastIntValue+(n-48),e.advance();return e.pos!==t},Ee.regexp_eatHexDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;De(n=e.current());)e.lastIntValue=16*e.lastIntValue+Oe(n),e.advance();return e.pos!==t},Ee.regexp_eatLegacyOctalEscapeSequence=function(e){if(this.regexp_eatOctalDigit(e)){var t=e.lastIntValue;if(this.regexp_eatOctalDigit(e)){var n=e.lastIntValue;t<=3&&this.regexp_eatOctalDigit(e)?e.lastIntValue=64*t+8*n+e.lastIntValue:e.lastIntValue=8*t+n}else e.lastIntValue=t;return!0}return!1},Ee.regexp_eatOctalDigit=function(e){var t=e.current();return Pe(t)?(e.lastIntValue=t-48,e.advance(),!0):(e.lastIntValue=0,!1)},Ee.regexp_eatFixedHexDigits=function(e,t){var n=e.pos;e.lastIntValue=0;for(var i=0;i<t;++i){var r=e.current();if(!De(r))return e.pos=n,!1;e.lastIntValue=16*e.lastIntValue+Oe(r),e.advance()}return!0};var Ne=function(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new N(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},Re=U.prototype;function Le(e){return"function"!=typeof BigInt?null:BigInt(e.replace(/_/g,""))}function Me(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}Re.next=function(e){!e&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Ne(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},Re.getToken=function(){return this.next(),new Ne(this)},"undefined"!=typeof Symbol&&(Re[Symbol.iterator]=function(){var e=this;return{next:function(){var t=e.getToken();return{done:t.type===b.eof,value:t}}}}),Re.nextToken=function(){var e=this.curContext();return e&&e.preserveSpace||this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length?this.finishToken(b.eof):e.override?e.override(this):void this.readToken(this.fullCharCodeAtPos())},Re.readToken=function(e){return p(e,this.options.ecmaVersion>=6)||92===e?this.readWord():this.getTokenFromCode(e)},Re.fullCharCodeAtPos=function(){var e=this.input.charCodeAt(this.pos);if(e<=55295||e>=56320)return e;var t=this.input.charCodeAt(this.pos+1);return t<=56319||t>=57344?e:(e<<10)+t-56613888},Re.skipBlockComment=function(){var e,t=this.options.onComment&&this.curPosition(),n=this.pos,i=this.input.indexOf("*/",this.pos+=2);if(-1===i&&this.raise(this.pos-2,"Unterminated comment"),this.pos=i+2,this.options.locations)for(E.lastIndex=n;(e=E.exec(this.input))&&e.index<this.pos;)++this.curLine,this.lineStart=e.index+e[0].length;this.options.onComment&&this.options.onComment(!0,this.input.slice(n+2,i),n,this.pos,t,this.curPosition())},Re.skipLineComment=function(e){for(var t=this.pos,n=this.options.onComment&&this.curPosition(),i=this.input.charCodeAt(this.pos+=e);this.pos<this.input.length&&!S(i);)i=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(t+e,this.pos),t,this.pos,n,this.curPosition())},Re.skipSpace=function(){e:for(;this.pos<this.input.length;){var e=this.input.charCodeAt(this.pos);switch(e){case 32:case 160:++this.pos;break;case 13:10===this.input.charCodeAt(this.pos+1)&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(!(e>8&&e<14||e>=5760&&T.test(String.fromCharCode(e))))break e;++this.pos}}},Re.finishToken=function(e,t){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var n=this.type;this.type=e,this.value=t,this.updateContext(n)},Re.readToken_dot=function(){var e=this.input.charCodeAt(this.pos+1);if(e>=48&&e<=57)return this.readNumber(!0);var t=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&46===e&&46===t?(this.pos+=3,this.finishToken(b.ellipsis)):(++this.pos,this.finishToken(b.dot))},Re.readToken_slash=function(){var e=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):61===e?this.finishOp(b.assign,2):this.finishOp(b.slash,1)},Re.readToken_mult_modulo_exp=function(e){var t=this.input.charCodeAt(this.pos+1),n=1,i=42===e?b.star:b.modulo;return this.options.ecmaVersion>=7&&42===e&&42===t&&(++n,i=b.starstar,t=this.input.charCodeAt(this.pos+2)),61===t?this.finishOp(b.assign,n+1):this.finishOp(i,n)},Re.readToken_pipe_amp=function(e){var t=this.input.charCodeAt(this.pos+1);if(t===e){if(this.options.ecmaVersion>=12)if(61===this.input.charCodeAt(this.pos+2))return this.finishOp(b.assign,3);return this.finishOp(124===e?b.logicalOR:b.logicalAND,2)}return 61===t?this.finishOp(b.assign,2):this.finishOp(124===e?b.bitwiseOR:b.bitwiseAND,1)},Re.readToken_caret=function(){return 61===this.input.charCodeAt(this.pos+1)?this.finishOp(b.assign,2):this.finishOp(b.bitwiseXOR,1)},Re.readToken_plus_min=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?45!==t||this.inModule||62!==this.input.charCodeAt(this.pos+2)||0!==this.lastTokEnd&&!w.test(this.input.slice(this.lastTokEnd,this.pos))?this.finishOp(b.incDec,2):(this.skipLineComment(3),this.skipSpace(),this.nextToken()):61===t?this.finishOp(b.assign,2):this.finishOp(b.plusMin,1)},Re.readToken_lt_gt=function(e){var t=this.input.charCodeAt(this.pos+1),n=1;return t===e?(n=62===e&&62===this.input.charCodeAt(this.pos+2)?3:2,61===this.input.charCodeAt(this.pos+n)?this.finishOp(b.assign,n+1):this.finishOp(b.bitShift,n)):33!==t||60!==e||this.inModule||45!==this.input.charCodeAt(this.pos+2)||45!==this.input.charCodeAt(this.pos+3)?(61===t&&(n=2),this.finishOp(b.relational,n)):(this.skipLineComment(4),this.skipSpace(),this.nextToken())},Re.readToken_eq_excl=function(e){var t=this.input.charCodeAt(this.pos+1);return 61===t?this.finishOp(b.equality,61===this.input.charCodeAt(this.pos+2)?3:2):61===e&&62===t&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(b.arrow)):this.finishOp(61===e?b.eq:b.prefix,1)},Re.readToken_question=function(){var e=this.options.ecmaVersion;if(e>=11){var t=this.input.charCodeAt(this.pos+1);if(46===t){var n=this.input.charCodeAt(this.pos+2);if(n<48||n>57)return this.finishOp(b.questionDot,2)}if(63===t){if(e>=12)if(61===this.input.charCodeAt(this.pos+2))return this.finishOp(b.assign,3);return this.finishOp(b.coalesce,2)}}return this.finishOp(b.question,1)},Re.readToken_numberSign=function(){var e=35;if(this.options.ecmaVersion>=13&&(++this.pos,p(e=this.fullCharCodeAtPos(),!0)||92===e))return this.finishToken(b.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+Me(e)+"'")},Re.getTokenFromCode=function(e){switch(e){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(b.parenL);case 41:return++this.pos,this.finishToken(b.parenR);case 59:return++this.pos,this.finishToken(b.semi);case 44:return++this.pos,this.finishToken(b.comma);case 91:return++this.pos,this.finishToken(b.bracketL);case 93:return++this.pos,this.finishToken(b.bracketR);case 123:return++this.pos,this.finishToken(b.braceL);case 125:return++this.pos,this.finishToken(b.braceR);case 58:return++this.pos,this.finishToken(b.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(b.backQuote);case 48:var t=this.input.charCodeAt(this.pos+1);if(120===t||88===t)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(111===t||79===t)return this.readRadixNumber(8);if(98===t||66===t)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(e);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(e);case 124:case 38:return this.readToken_pipe_amp(e);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(e);case 60:case 62:return this.readToken_lt_gt(e);case 61:case 33:return this.readToken_eq_excl(e);case 63:return this.readToken_question();case 126:return this.finishOp(b.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+Me(e)+"'")},Re.finishOp=function(e,t){var n=this.input.slice(this.pos,this.pos+t);return this.pos+=t,this.finishToken(e,n)},Re.readRegexp=function(){for(var e,t,n=this.pos;;){this.pos>=this.input.length&&this.raise(n,"Unterminated regular expression");var i=this.input.charAt(this.pos);if(w.test(i)&&this.raise(n,"Unterminated regular expression"),e)e=!1;else{if("["===i)t=!0;else if("]"===i&&t)t=!1;else if("/"===i&&!t)break;e="\\"===i}++this.pos}var r=this.input.slice(n,this.pos);++this.pos;var o=this.pos,a=this.readWord1();this.containsEsc&&this.unexpected(o);var s=this.regexpState||(this.regexpState=new Se(this));s.reset(n,r,a),this.validateRegExpFlags(s),this.validateRegExpPattern(s);var u=null;try{u=new RegExp(r,a)}catch(e){}return this.finishToken(b.regexp,{pattern:r,flags:a,value:u})},Re.readInt=function(e,t,n){for(var i=this.options.ecmaVersion>=12&&void 0===t,r=n&&48===this.input.charCodeAt(this.pos),o=this.pos,a=0,s=0,u=0,l=null==t?1/0:t;u<l;++u,++this.pos){var c=this.input.charCodeAt(this.pos),d=void 0;if(i&&95===c)r&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),95===s&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),0===u&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),s=c;else{if((d=c>=97?c-97+10:c>=65?c-65+10:c>=48&&c<=57?c-48:1/0)>=e)break;s=c,a=a*e+d}}return i&&95===s&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===o||null!=t&&this.pos-o!==t?null:a},Re.readRadixNumber=function(e){var t=this.pos;this.pos+=2;var n=this.readInt(e);return null==n&&this.raise(this.start+2,"Expected number in radix "+e),this.options.ecmaVersion>=11&&110===this.input.charCodeAt(this.pos)?(n=Le(this.input.slice(t,this.pos)),++this.pos):p(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(b.num,n)},Re.readNumber=function(e){var t=this.pos;e||null!==this.readInt(10,void 0,!0)||this.raise(t,"Invalid number");var n=this.pos-t>=2&&48===this.input.charCodeAt(t);n&&this.strict&&this.raise(t,"Invalid number");var i=this.input.charCodeAt(this.pos);if(!n&&!e&&this.options.ecmaVersion>=11&&110===i){var r=Le(this.input.slice(t,this.pos));return++this.pos,p(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(b.num,r)}n&&/[89]/.test(this.input.slice(t,this.pos))&&(n=!1),46!==i||n||(++this.pos,this.readInt(10),i=this.input.charCodeAt(this.pos)),69!==i&&101!==i||n||(43!==(i=this.input.charCodeAt(++this.pos))&&45!==i||++this.pos,null===this.readInt(10)&&this.raise(t,"Invalid number")),p(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var o,a=(o=this.input.slice(t,this.pos),n?parseInt(o,8):parseFloat(o.replace(/_/g,"")));return this.finishToken(b.num,a)},Re.readCodePoint=function(){var e;if(123===this.input.charCodeAt(this.pos)){this.options.ecmaVersion<6&&this.unexpected();var t=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(t,"Code point out of bounds")}else e=this.readHexChar(4);return e},Re.readString=function(e){for(var t="",n=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var i=this.input.charCodeAt(this.pos);if(i===e)break;92===i?(t+=this.input.slice(n,this.pos),t+=this.readEscapedChar(!1),n=this.pos):8232===i||8233===i?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(S(i)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return t+=this.input.slice(n,this.pos++),this.finishToken(b.string,t)};var Fe={};Re.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(e){if(e!==Fe)throw e;this.readInvalidTemplateToken()}this.inTemplateElement=!1},Re.invalidStringToken=function(e,t){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Fe;this.raise(e,t)},Re.readTmplToken=function(){for(var e="",t=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var n=this.input.charCodeAt(this.pos);if(96===n||36===n&&123===this.input.charCodeAt(this.pos+1))return this.pos!==this.start||this.type!==b.template&&this.type!==b.invalidTemplate?(e+=this.input.slice(t,this.pos),this.finishToken(b.template,e)):36===n?(this.pos+=2,this.finishToken(b.dollarBraceL)):(++this.pos,this.finishToken(b.backQuote));if(92===n)e+=this.input.slice(t,this.pos),e+=this.readEscapedChar(!0),t=this.pos;else if(S(n)){switch(e+=this.input.slice(t,this.pos),++this.pos,n){case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:e+="\n";break;default:e+=String.fromCharCode(n)}this.options.locations&&(++this.curLine,this.lineStart=this.pos),t=this.pos}else++this.pos}},Re.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if("{"!==this.input[this.pos+1])break;case"`":return this.finishToken(b.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},Re.readEscapedChar=function(e){var t=this.input.charCodeAt(++this.pos);switch(++this.pos,t){case 110:return"\n";case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Me(this.readCodePoint());case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),e){var n=this.pos-1;return this.invalidStringToken(n,"Invalid escape sequence in template string"),null}default:if(t>=48&&t<=55){var i=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],r=parseInt(i,8);return r>255&&(i=i.slice(0,-1),r=parseInt(i,8)),this.pos+=i.length-1,t=this.input.charCodeAt(this.pos),"0"===i&&56!==t&&57!==t||!this.strict&&!e||this.invalidStringToken(this.pos-1-i.length,e?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(r)}return S(t)?"":String.fromCharCode(t)}},Re.readHexChar=function(e){var t=this.pos,n=this.readInt(16,e);return null===n&&this.invalidStringToken(t,"Bad character escape sequence"),n},Re.readWord1=function(){this.containsEsc=!1;for(var e="",t=!0,n=this.pos,i=this.options.ecmaVersion>=6;this.pos<this.input.length;){var r=this.fullCharCodeAtPos();if(h(r,i))this.pos+=r<=65535?1:2;else{if(92!==r)break;this.containsEsc=!0,e+=this.input.slice(n,this.pos);var o=this.pos;117!==this.input.charCodeAt(++this.pos)&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var a=this.readCodePoint();(t?p:h)(a,i)||this.invalidStringToken(o,"Invalid Unicode escape"),e+=Me(a),n=this.pos}t=!1}return e+this.input.slice(n,this.pos)},Re.readWord=function(){var e=this.readWord1(),t=b.name;return this.keywords.test(e)&&(t=v[e]),this.finishToken(t,e)};var je="8.5.0";U.acorn={Parser:U,version:je,defaultOptions:L,Position:P,SourceLocation:N,getLineInfo:R,Node:le,TokenType:f,tokTypes:b,keywordTypes:v,TokContext:ee,tokContexts:te,isIdentifierChar:h,isIdentifierStart:p,Token:Ne,isNewLine:S,lineBreak:w,lineBreakG:E,nonASCIIwhitespace:T},e.Node=le,e.Parser=U,e.Position=P,e.SourceLocation=N,e.TokContext=ee,e.Token=Ne,e.TokenType=f,e.defaultOptions=L,e.getLineInfo=R,e.isIdentifierChar=h,e.isIdentifierStart=p,e.isNewLine=S,e.keywordTypes=v,e.lineBreak=w,e.lineBreakG=E,e.nonASCIIwhitespace=T,e.parse=function(e,t){return U.parse(e,t)},e.parseExpressionAt=function(e,t,n){return U.parseExpressionAt(e,t,n)},e.tokContexts=te,e.tokTypes=b,e.tokenizer=function(e,t){return U.tokenizer(e,t)},e.version=je,Object.defineProperty(e,"__esModule",{value:!0})}))},{}],271:[function(e,t,n){function i(){}t.exports=function(e,t,n){var r=!1;return n=n||i,o.count=e,0===e?t():o;function o(e,i){if(o.count<=0)throw new Error("after called too many times");--o.count,e?(r=!0,t(e),t=n):0!==o.count||r||t(null,i)}}},{}],272:[function(e,t,n){t.exports=function(e,t,n){var i=e.byteLength;if(t=t||0,n=n||i,e.slice)return e.slice(t,n);if(t<0&&(t+=i),n<0&&(n+=i),n>i&&(n=i),t>=i||t>=n||0===i)return new ArrayBuffer(0);for(var r=new Uint8Array(e),o=new Uint8Array(n-t),a=t,s=0;a<n;a++,s++)o[s]=r[a];return o.buffer}},{}],273:[function(e,t,n){var i=e("util/"),r=Array.prototype.slice,o=Object.prototype.hasOwnProperty,a=t.exports=c;function s(e,t){return i.isUndefined(t)?""+t:i.isNumber(t)&&!isFinite(t)||i.isFunction(t)||i.isRegExp(t)?t.toString():t}function u(e,t){return i.isString(e)?e.length<t?e:e.slice(0,t):e}function l(e,t,n,i,r){throw new a.AssertionError({message:n,actual:e,expected:t,operator:i,stackStartFunction:r})}function c(e,t){e||l(e,!0,t,"==",a.ok)}function d(e,t){if(e===t)return!0;if(i.isBuffer(e)&&i.isBuffer(t)){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return i.isDate(e)&&i.isDate(t)?e.getTime()===t.getTime():i.isRegExp(e)&&i.isRegExp(t)?e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase:i.isObject(e)||i.isObject(t)?function(e,t){if(i.isNullOrUndefined(e)||i.isNullOrUndefined(t))return!1;if(e.prototype!==t.prototype)return!1;if(i.isPrimitive(e)||i.isPrimitive(t))return e===t;var n=p(e),o=p(t);if(n&&!o||!n&&o)return!1;if(n)return d(e=r.call(e),t=r.call(t));var a,s,u=m(e),l=m(t);if(u.length!=l.length)return!1;for(u.sort(),l.sort(),s=u.length-1;s>=0;s--)if(u[s]!=l[s])return!1;for(s=u.length-1;s>=0;s--)if(!d(e[a=u[s]],t[a]))return!1;return!0}(e,t):e==t}function p(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function h(e,t){return!(!e||!t)&&("[object RegExp]"==Object.prototype.toString.call(t)?t.test(e):e instanceof t||!0===t.call({},e))}function f(e,t,n,r){var o;i.isString(n)&&(r=n,n=null);try{t()}catch(e){o=e}if(r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!o&&l(o,n,"Missing expected exception"+r),!e&&h(o,n)&&l(o,n,"Got unwanted exception"+r),e&&o&&n&&!h(o,n)||!e&&o)throw o}a.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return u(JSON.stringify(e.actual,s),128)+" "+e.operator+" "+u(JSON.stringify(e.expected,s),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||l;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var i=n.stack,r=t.name,o=i.indexOf("\n"+r);if(o>=0){var a=i.indexOf("\n",o+1);i=i.substring(a+1)}this.stack=i}}},i.inherits(a.AssertionError,Error),a.fail=l,a.ok=c,a.equal=function(e,t,n){e!=t&&l(e,t,n,"==",a.equal)},a.notEqual=function(e,t,n){e==t&&l(e,t,n,"!=",a.notEqual)},a.deepEqual=function(e,t,n){d(e,t)||l(e,t,n,"deepEqual",a.deepEqual)},a.notDeepEqual=function(e,t,n){d(e,t)&&l(e,t,n,"notDeepEqual",a.notDeepEqual)},a.strictEqual=function(e,t,n){e!==t&&l(e,t,n,"===",a.strictEqual)},a.notStrictEqual=function(e,t,n){e===t&&l(e,t,n,"!==",a.notStrictEqual)},a.throws=function(e,t,n){f.apply(this,[!0].concat(r.call(arguments)))},a.doesNotThrow=function(e,t){f.apply(this,[!1].concat(r.call(arguments)))},a.ifError=function(e){if(e)throw e};var m=Object.keys||function(e){var t=[];for(var n in e)o.call(e,n)&&t.push(n);return t}},{"util/":276}],274:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],275:[function(e,t,n){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],276:[function(e,t,n){(function(t,i){var r=/%[sdj%]/g;n.format=function(e){if(!y(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}n=1;for(var i=arguments,o=i.length,a=String(e).replace(r,(function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(e){return"[Circular]"}default:return e}})),u=i[n];n<o;u=i[++n])m(u)||!b(u)?a+=" "+u:a+=" "+s(u);return a},n.deprecate=function(e,r){if(v(i.process))return function(){return n.deprecate(e,r).apply(this,arguments)};if(!0===t.noDeprecation)return e;var o=!1;return function(){if(!o){if(t.throwDeprecation)throw new Error(r);t.traceDeprecation?console.trace(r):console.error(r),o=!0}return e.apply(this,arguments)}};var o,a={};function s(e,t){var i={seen:[],stylize:l};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),f(t)?i.showHidden=t:t&&n._extend(i,t),v(i.showHidden)&&(i.showHidden=!1),v(i.depth)&&(i.depth=2),v(i.colors)&&(i.colors=!1),v(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=u),c(i,e,i.depth)}function u(e,t){var n=s.styles[t];return n?"["+s.colors[n][0]+"m"+e+"["+s.colors[n][1]+"m":e}function l(e,t){return e}function c(e,t,i){if(e.customInspect&&t&&S(t.inspect)&&t.inspect!==n.inspect&&(!t.constructor||t.constructor.prototype!==t)){var r=t.inspect(i,e);return y(r)||(r=c(e,r,i)),r}var o=function(e,t){if(v(t))return e.stylize("undefined","undefined");if(y(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(g(t))return e.stylize(""+t,"number");if(f(t))return e.stylize(""+t,"boolean");if(m(t))return e.stylize("null","null")}(e,t);if(o)return o;var a=Object.keys(t),s=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(t)),E(t)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return d(t);if(0===a.length){if(S(t)){var u=t.name?": "+t.name:"";return e.stylize("[Function"+u+"]","special")}if(_(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(w(t))return e.stylize(Date.prototype.toString.call(t),"date");if(E(t))return d(t)}var l,b="",T=!1,C=["{","}"];(h(t)&&(T=!0,C=["[","]"]),S(t))&&(b=" [Function"+(t.name?": "+t.name:"")+"]");return _(t)&&(b=" "+RegExp.prototype.toString.call(t)),w(t)&&(b=" "+Date.prototype.toUTCString.call(t)),E(t)&&(b=" "+d(t)),0!==a.length||T&&0!=t.length?i<0?_(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),l=T?function(e,t,n,i,r){for(var o=[],a=0,s=t.length;a<s;++a)k(t,String(a))?o.push(p(e,t,n,i,String(a),!0)):o.push("");return r.forEach((function(r){r.match(/^\d+$/)||o.push(p(e,t,n,i,r,!0))})),o}(e,t,i,s,a):a.map((function(n){return p(e,t,i,s,n,T)})),e.seen.pop(),function(e,t,n){if(e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(l,b,C)):C[0]+b+C[1]}function d(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,n,i,r,o){var a,s,u;if((u=Object.getOwnPropertyDescriptor(t,r)||{value:t[r]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),k(i,r)||(a="["+r+"]"),s||(e.seen.indexOf(u.value)<0?(s=m(n)?c(e,u.value,null):c(e,u.value,n-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),v(a)){if(o&&r.match(/^\d+$/))return s;(a=JSON.stringify(""+r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function h(e){return Array.isArray(e)}function f(e){return"boolean"==typeof e}function m(e){return null===e}function g(e){return"number"==typeof e}function y(e){return"string"==typeof e}function v(e){return void 0===e}function _(e){return b(e)&&"[object RegExp]"===T(e)}function b(e){return"object"==typeof e&&null!==e}function w(e){return b(e)&&"[object Date]"===T(e)}function E(e){return b(e)&&("[object Error]"===T(e)||e instanceof Error)}function S(e){return"function"==typeof e}function T(e){return Object.prototype.toString.call(e)}function C(e){return e<10?"0"+e.toString(10):e.toString(10)}n.debuglog=function(e){if(v(o)&&(o=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!a[e])if(new RegExp("\\b"+e+"\\b","i").test(o)){var i=t.pid;a[e]=function(){var t=n.format.apply(n,arguments);console.error("%s %d: %s",e,i,t)}}else a[e]=function(){};return a[e]},n.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=h,n.isBoolean=f,n.isNull=m,n.isNullOrUndefined=function(e){return null==e},n.isNumber=g,n.isString=y,n.isSymbol=function(e){return"symbol"==typeof e},n.isUndefined=v,n.isRegExp=_,n.isObject=b,n.isDate=w,n.isError=E,n.isFunction=S,n.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},n.isBuffer=e("./support/isBuffer");var x=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function A(){var e=new Date,t=[C(e.getHours()),C(e.getMinutes()),C(e.getSeconds())].join(":");return[e.getDate(),x[e.getMonth()],t].join(" ")}function k(e,t){return Object.prototype.hasOwnProperty.call(e,t)}n.log=function(){console.log("%s - %s",A(),n.format.apply(n,arguments))},n.inherits=e("inherits"),n._extend=function(e,t){if(!t||!b(t))return e;for(var n=Object.keys(t),i=n.length;i--;)e[n[i]]=t[n[i]];return e}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":275,_process:519,inherits:274}],277:[function(e,t,n){"use strict";function i(e){return e=e.split(" "),function(t){return e.indexOf(t)>=0}}Object.defineProperty(n,"__esModule",{value:!0});var r={6:i("enum await"),strict:i("implements interface let package private protected public static yield"),strictBind:i("eval arguments")},o=i("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this let const class extends export import yield super"),a="-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",s="-------------------------------------------------------------------------------------------------------------------------------------------------",u=new RegExp("["+a+"]"),l=new RegExp("["+a+s+"]");a=s=null;var c=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,17,26,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,26,45,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,785,52,76,44,33,24,27,35,42,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,54,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,86,25,391,63,32,0,449,56,264,8,2,36,18,0,50,29,881,921,103,110,18,195,2749,1070,4050,582,8634,568,8,30,114,29,19,47,17,3,32,20,6,18,881,68,12,0,67,12,65,0,32,6124,20,754,9486,1,3071,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,4149,196,60,67,1213,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42710,42,4148,12,221,3,5761,10591,541],d=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,1306,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,52,0,13,2,49,13,10,2,4,9,83,11,7,0,161,11,6,9,7,3,57,0,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,87,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,423,9,838,7,2,7,17,9,57,21,2,13,19882,9,135,4,60,6,26,9,1016,45,17,3,19723,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,2214,6,110,6,6,9,792487,239];function p(e,t){for(var n=65536,i=0;i<t.length;i+=2){if((n+=t[i])>e)return!1;if((n+=t[i+1])>=e)return!0}}function h(e){return e<65?36===e:e<91||(e<97?95===e:e<123||(e<=65535?e>=170&&u.test(String.fromCharCode(e)):p(e,c)))}function f(e){return e<48?36===e:e<58||!(e<65)&&(e<91||(e<97?95===e:e<123||(e<=65535?e>=170&&l.test(String.fromCharCode(e)):p(e,c)||p(e,d))))}var m={sourceType:"script",sourceFilename:void 0,startLine:1,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowSuperOutsideMethod:!1,plugins:[],strictMode:null};var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},v=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},_=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},b=!0,w=!0,E=!0,S=!0,T=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};y(this,e),this.label=t,this.keyword=n.keyword,this.beforeExpr=!!n.beforeExpr,this.startsExpr=!!n.startsExpr,this.rightAssociative=!!n.rightAssociative,this.isLoop=!!n.isLoop,this.isAssign=!!n.isAssign,this.prefix=!!n.prefix,this.postfix=!!n.postfix,this.binop=n.binop||null,this.updateContext=null},C=function(e){function t(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return y(this,t),i.keyword=n,_(this,e.call(this,n,i))}return v(t,e),t}(T),x=function(e){function t(n,i){return y(this,t),_(this,e.call(this,n,{beforeExpr:b,binop:i}))}return v(t,e),t}(T),A={num:new T("num",{startsExpr:w}),regexp:new T("regexp",{startsExpr:w}),string:new T("string",{startsExpr:w}),name:new T("name",{startsExpr:w}),eof:new T("eof"),bracketL:new T("[",{beforeExpr:b,startsExpr:w}),bracketR:new T("]"),braceL:new T("{",{beforeExpr:b,startsExpr:w}),braceBarL:new T("{|",{beforeExpr:b,startsExpr:w}),braceR:new T("}"),braceBarR:new T("|}"),parenL:new T("(",{beforeExpr:b,startsExpr:w}),parenR:new T(")"),comma:new T(",",{beforeExpr:b}),semi:new T(";",{beforeExpr:b}),colon:new T(":",{beforeExpr:b}),doubleColon:new T("::",{beforeExpr:b}),dot:new T("."),question:new T("?",{beforeExpr:b}),arrow:new T("=>",{beforeExpr:b}),template:new T("template"),ellipsis:new T("...",{beforeExpr:b}),backQuote:new T("`",{startsExpr:w}),dollarBraceL:new T("${",{beforeExpr:b,startsExpr:w}),at:new T("@"),eq:new T("=",{beforeExpr:b,isAssign:true}),assign:new T("_=",{beforeExpr:b,isAssign:true}),incDec:new T("++/--",{prefix:S,postfix:!0,startsExpr:w}),prefix:new T("prefix",{beforeExpr:b,prefix:S,startsExpr:w}),logicalOR:new x("||",1),logicalAND:new x("&&",2),bitwiseOR:new x("|",3),bitwiseXOR:new x("^",4),bitwiseAND:new x("&",5),equality:new x("==/!=",6),relational:new x("</>",7),bitShift:new x("<</>>",8),plusMin:new T("+/-",{beforeExpr:b,binop:9,prefix:S,startsExpr:w}),modulo:new x("%",10),star:new x("*",10),slash:new x("/",10),exponent:new T("**",{beforeExpr:b,binop:11,rightAssociative:!0})},k={break:new C("break"),case:new C("case",{beforeExpr:b}),catch:new C("catch"),continue:new C("continue"),debugger:new C("debugger"),default:new C("default",{beforeExpr:b}),do:new C("do",{isLoop:E,beforeExpr:b}),else:new C("else",{beforeExpr:b}),finally:new C("finally"),for:new C("for",{isLoop:E}),function:new C("function",{startsExpr:w}),if:new C("if"),return:new C("return",{beforeExpr:b}),switch:new C("switch"),throw:new C("throw",{beforeExpr:b}),try:new C("try"),var:new C("var"),let:new C("let"),const:new C("const"),while:new C("while",{isLoop:E}),with:new C("with"),new:new C("new",{beforeExpr:b,startsExpr:w}),this:new C("this",{startsExpr:w}),super:new C("super",{startsExpr:w}),class:new C("class"),extends:new C("extends",{beforeExpr:b}),export:new C("export"),import:new C("import",{startsExpr:w}),yield:new C("yield",{beforeExpr:b,startsExpr:w}),null:new C("null",{startsExpr:w}),true:new C("true",{startsExpr:w}),false:new C("false",{startsExpr:w}),in:new C("in",{beforeExpr:b,binop:7}),instanceof:new C("instanceof",{beforeExpr:b,binop:7}),typeof:new C("typeof",{beforeExpr:b,prefix:S,startsExpr:w}),void:new C("void",{beforeExpr:b,prefix:S,startsExpr:w}),delete:new C("delete",{beforeExpr:b,prefix:S,startsExpr:w})};Object.keys(k).forEach((function(e){A["_"+e]=k[e]}));var I=/\r\n?|\n|\u2028|\u2029/,D=new RegExp(I.source,"g");function O(e){return 10===e||13===e||8232===e||8233===e}var P=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,N=function e(t,n,i,r){y(this,e),this.token=t,this.isExpr=!!n,this.preserveSpace=!!i,this.override=r},R={braceStatement:new N("{",!1),braceExpression:new N("{",!0),templateQuasi:new N("${",!0),parenStatement:new N("(",!1),parenExpression:new N("(",!0),template:new N("`",!0,!0,(function(e){return e.readTmplToken()})),functionExpression:new N("function",!0)};A.parenR.updateContext=A.braceR.updateContext=function(){if(1!==this.state.context.length){var e=this.state.context.pop();e===R.braceStatement&&this.curContext()===R.functionExpression?(this.state.context.pop(),this.state.exprAllowed=!1):e===R.templateQuasi?this.state.exprAllowed=!0:this.state.exprAllowed=!e.isExpr}else this.state.exprAllowed=!0},A.name.updateContext=function(e){this.state.exprAllowed=!1,e!==A._let&&e!==A._const&&e!==A._var||I.test(this.input.slice(this.state.end))&&(this.state.exprAllowed=!0)},A.braceL.updateContext=function(e){this.state.context.push(this.braceIsBlock(e)?R.braceStatement:R.braceExpression),this.state.exprAllowed=!0},A.dollarBraceL.updateContext=function(){this.state.context.push(R.templateQuasi),this.state.exprAllowed=!0},A.parenL.updateContext=function(e){var t=e===A._if||e===A._for||e===A._with||e===A._while;this.state.context.push(t?R.parenStatement:R.parenExpression),this.state.exprAllowed=!0},A.incDec.updateContext=function(){},A._function.updateContext=function(){this.curContext()!==R.braceStatement&&this.state.context.push(R.functionExpression),this.state.exprAllowed=!1},A.backQuote.updateContext=function(){this.curContext()===R.template?this.state.context.pop():this.state.context.push(R.template),this.state.exprAllowed=!1};var L=function e(t,n){y(this,e),this.line=t,this.column=n},M=function e(t,n){y(this,e),this.start=t,this.end=n};var F=function(){function e(){y(this,e)}return e.prototype.init=function(e,t){return this.strict=!1!==e.strictMode&&"module"===e.sourceType,this.input=t,this.potentialArrowAt=-1,this.inMethod=this.inFunction=this.inGenerator=this.inAsync=this.inPropertyName=this.inType=this.inClassProperty=this.noAnonFunctionType=!1,this.labels=[],this.decorators=[],this.tokens=[],this.comments=[],this.trailingComments=[],this.leadingComments=[],this.commentStack=[],this.pos=this.lineStart=0,this.curLine=e.startLine,this.type=A.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=[R.braceStatement],this.exprAllowed=!0,this.containsEsc=this.containsOctal=!1,this.octalPosition=null,this.invalidTemplateEscapePosition=null,this.exportedIdentifiers=[],this},e.prototype.curPosition=function(){return new L(this.curLine,this.pos-this.lineStart)},e.prototype.clone=function(t){var n=new e;for(var i in this){var r=this[i];t&&"context"!==i||!Array.isArray(r)||(r=r.slice()),n[i]=r}return n},e}(),j=function e(t){y(this,e),this.type=t.type,this.value=t.value,this.start=t.start,this.end=t.end,this.loc=new M(t.startLoc,t.endLoc)};function B(e){return e<=65535?String.fromCharCode(e):String.fromCharCode(55296+(e-65536>>10),56320+(e-65536&1023))}var U=function(){function e(t,n){y(this,e),this.state=new F,this.state.init(t,n)}return e.prototype.next=function(){this.isLookahead||this.state.tokens.push(new j(this.state)),this.state.lastTokEnd=this.state.end,this.state.lastTokStart=this.state.start,this.state.lastTokEndLoc=this.state.endLoc,this.state.lastTokStartLoc=this.state.startLoc,this.nextToken()},e.prototype.eat=function(e){return!!this.match(e)&&(this.next(),!0)},e.prototype.match=function(e){return this.state.type===e},e.prototype.isKeyword=function(e){return o(e)},e.prototype.lookahead=function(){var e=this.state;this.state=e.clone(!0),this.isLookahead=!0,this.next(),this.isLookahead=!1;var t=this.state.clone(!0);return this.state=e,t},e.prototype.setStrict=function(e){if(this.state.strict=e,this.match(A.num)||this.match(A.string)){for(this.state.pos=this.state.start;this.state.pos<this.state.lineStart;)this.state.lineStart=this.input.lastIndexOf("\n",this.state.lineStart-2)+1,--this.state.curLine;this.nextToken()}},e.prototype.curContext=function(){return this.state.context[this.state.context.length-1]},e.prototype.nextToken=function(){var e=this.curContext();return e&&e.preserveSpace||this.skipSpace(),this.state.containsOctal=!1,this.state.octalPosition=null,this.state.start=this.state.pos,this.state.startLoc=this.state.curPosition(),this.state.pos>=this.input.length?this.finishToken(A.eof):e.override?e.override(this):this.readToken(this.fullCharCodeAtPos())},e.prototype.readToken=function(e){return h(e)||92===e?this.readWord():this.getTokenFromCode(e)},e.prototype.fullCharCodeAtPos=function(){var e=this.input.charCodeAt(this.state.pos);return e<=55295||e>=57344?e:(e<<10)+this.input.charCodeAt(this.state.pos+1)-56613888},e.prototype.pushComment=function(e,t,n,i,r,o){var a={type:e?"CommentBlock":"CommentLine",value:t,start:n,end:i,loc:new M(r,o)};this.isLookahead||(this.state.tokens.push(a),this.state.comments.push(a),this.addComment(a))},e.prototype.skipBlockComment=function(){var e=this.state.curPosition(),t=this.state.pos,n=this.input.indexOf("*/",this.state.pos+=2);-1===n&&this.raise(this.state.pos-2,"Unterminated comment"),this.state.pos=n+2,D.lastIndex=t;for(var i=void 0;(i=D.exec(this.input))&&i.index<this.state.pos;)++this.state.curLine,this.state.lineStart=i.index+i[0].length;this.pushComment(!0,this.input.slice(t+2,n),t,this.state.pos,e,this.state.curPosition())},e.prototype.skipLineComment=function(e){for(var t=this.state.pos,n=this.state.curPosition(),i=this.input.charCodeAt(this.state.pos+=e);this.state.pos<this.input.length&&10!==i&&13!==i&&8232!==i&&8233!==i;)++this.state.pos,i=this.input.charCodeAt(this.state.pos);this.pushComment(!1,this.input.slice(t+e,this.state.pos),t,this.state.pos,n,this.state.curPosition())},e.prototype.skipSpace=function(){e:for(;this.state.pos<this.input.length;){var e=this.input.charCodeAt(this.state.pos);switch(e){case 32:case 160:++this.state.pos;break;case 13:10===this.input.charCodeAt(this.state.pos+1)&&++this.state.pos;case 10:case 8232:case 8233:++this.state.pos,++this.state.curLine,this.state.lineStart=this.state.pos;break;case 47:switch(this.input.charCodeAt(this.state.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(!(e>8&&e<14||e>=5760&&P.test(String.fromCharCode(e))))break e;++this.state.pos}}},e.prototype.finishToken=function(e,t){this.state.end=this.state.pos,this.state.endLoc=this.state.curPosition();var n=this.state.type;this.state.type=e,this.state.value=t,this.updateContext(n)},e.prototype.readToken_dot=function(){var e=this.input.charCodeAt(this.state.pos+1);if(e>=48&&e<=57)return this.readNumber(!0);var t=this.input.charCodeAt(this.state.pos+2);return 46===e&&46===t?(this.state.pos+=3,this.finishToken(A.ellipsis)):(++this.state.pos,this.finishToken(A.dot))},e.prototype.readToken_slash=function(){return this.state.exprAllowed?(++this.state.pos,this.readRegexp()):61===this.input.charCodeAt(this.state.pos+1)?this.finishOp(A.assign,2):this.finishOp(A.slash,1)},e.prototype.readToken_mult_modulo=function(e){var t=42===e?A.star:A.modulo,n=1,i=this.input.charCodeAt(this.state.pos+1);return 42===i&&(n++,i=this.input.charCodeAt(this.state.pos+2),t=A.exponent),61===i&&(n++,t=A.assign),this.finishOp(t,n)},e.prototype.readToken_pipe_amp=function(e){var t=this.input.charCodeAt(this.state.pos+1);return t===e?this.finishOp(124===e?A.logicalOR:A.logicalAND,2):61===t?this.finishOp(A.assign,2):124===e&&125===t&&this.hasPlugin("flow")?this.finishOp(A.braceBarR,2):this.finishOp(124===e?A.bitwiseOR:A.bitwiseAND,1)},e.prototype.readToken_caret=function(){return 61===this.input.charCodeAt(this.state.pos+1)?this.finishOp(A.assign,2):this.finishOp(A.bitwiseXOR,1)},e.prototype.readToken_plus_min=function(e){var t=this.input.charCodeAt(this.state.pos+1);return t===e?45===t&&62===this.input.charCodeAt(this.state.pos+2)&&I.test(this.input.slice(this.state.lastTokEnd,this.state.pos))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(A.incDec,2):61===t?this.finishOp(A.assign,2):this.finishOp(A.plusMin,1)},e.prototype.readToken_lt_gt=function(e){var t=this.input.charCodeAt(this.state.pos+1),n=1;return t===e?(n=62===e&&62===this.input.charCodeAt(this.state.pos+2)?3:2,61===this.input.charCodeAt(this.state.pos+n)?this.finishOp(A.assign,n+1):this.finishOp(A.bitShift,n)):33===t&&60===e&&45===this.input.charCodeAt(this.state.pos+2)&&45===this.input.charCodeAt(this.state.pos+3)?(this.inModule&&this.unexpected(),this.skipLineComment(4),this.skipSpace(),this.nextToken()):(61===t&&(n=2),this.finishOp(A.relational,n))},e.prototype.readToken_eq_excl=function(e){var t=this.input.charCodeAt(this.state.pos+1);return 61===t?this.finishOp(A.equality,61===this.input.charCodeAt(this.state.pos+2)?3:2):61===e&&62===t?(this.state.pos+=2,this.finishToken(A.arrow)):this.finishOp(61===e?A.eq:A.prefix,1)},e.prototype.getTokenFromCode=function(e){switch(e){case 46:return this.readToken_dot();case 40:return++this.state.pos,this.finishToken(A.parenL);case 41:return++this.state.pos,this.finishToken(A.parenR);case 59:return++this.state.pos,this.finishToken(A.semi);case 44:return++this.state.pos,this.finishToken(A.comma);case 91:return++this.state.pos,this.finishToken(A.bracketL);case 93:return++this.state.pos,this.finishToken(A.bracketR);case 123:return this.hasPlugin("flow")&&124===this.input.charCodeAt(this.state.pos+1)?this.finishOp(A.braceBarL,2):(++this.state.pos,this.finishToken(A.braceL));case 125:return++this.state.pos,this.finishToken(A.braceR);case 58:return this.hasPlugin("functionBind")&&58===this.input.charCodeAt(this.state.pos+1)?this.finishOp(A.doubleColon,2):(++this.state.pos,this.finishToken(A.colon));case 63:return++this.state.pos,this.finishToken(A.question);case 64:return++this.state.pos,this.finishToken(A.at);case 96:return++this.state.pos,this.finishToken(A.backQuote);case 48:var t=this.input.charCodeAt(this.state.pos+1);if(120===t||88===t)return this.readRadixNumber(16);if(111===t||79===t)return this.readRadixNumber(8);if(98===t||66===t)return this.readRadixNumber(2);case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(e);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo(e);case 124:case 38:return this.readToken_pipe_amp(e);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(e);case 60:case 62:return this.readToken_lt_gt(e);case 61:case 33:return this.readToken_eq_excl(e);case 126:return this.finishOp(A.prefix,1)}this.raise(this.state.pos,"Unexpected character '"+B(e)+"'")},e.prototype.finishOp=function(e,t){var n=this.input.slice(this.state.pos,this.state.pos+t);return this.state.pos+=t,this.finishToken(e,n)},e.prototype.readRegexp=function(){for(var e=this.state.pos,t=void 0,n=void 0;;){this.state.pos>=this.input.length&&this.raise(e,"Unterminated regular expression");var i=this.input.charAt(this.state.pos);if(I.test(i)&&this.raise(e,"Unterminated regular expression"),t)t=!1;else{if("["===i)n=!0;else if("]"===i&&n)n=!1;else if("/"===i&&!n)break;t="\\"===i}++this.state.pos}var r=this.input.slice(e,this.state.pos);++this.state.pos;var o=this.readWord1();if(o){/^[gmsiyu]*$/.test(o)||this.raise(e,"Invalid regular expression flag")}return this.finishToken(A.regexp,{pattern:r,flags:o})},e.prototype.readInt=function(e,t){for(var n=this.state.pos,i=0,r=0,o=null==t?1/0:t;r<o;++r){var a=this.input.charCodeAt(this.state.pos),s=void 0;if((s=a>=97?a-97+10:a>=65?a-65+10:a>=48&&a<=57?a-48:1/0)>=e)break;++this.state.pos,i=i*e+s}return this.state.pos===n||null!=t&&this.state.pos-n!==t?null:i},e.prototype.readRadixNumber=function(e){this.state.pos+=2;var t=this.readInt(e);return null==t&&this.raise(this.state.start+2,"Expected number in radix "+e),h(this.fullCharCodeAtPos())&&this.raise(this.state.pos,"Identifier directly after number"),this.finishToken(A.num,t)},e.prototype.readNumber=function(e){var t=this.state.pos,n=48===this.input.charCodeAt(t),i=!1;e||null!==this.readInt(10)||this.raise(t,"Invalid number"),n&&this.state.pos==t+1&&(n=!1);var r=this.input.charCodeAt(this.state.pos);46!==r||n||(++this.state.pos,this.readInt(10),i=!0,r=this.input.charCodeAt(this.state.pos)),69!==r&&101!==r||n||(43!==(r=this.input.charCodeAt(++this.state.pos))&&45!==r||++this.state.pos,null===this.readInt(10)&&this.raise(t,"Invalid number"),i=!0),h(this.fullCharCodeAtPos())&&this.raise(this.state.pos,"Identifier directly after number");var o=this.input.slice(t,this.state.pos),a=void 0;return i?a=parseFloat(o):n&&1!==o.length?this.state.strict?this.raise(t,"Invalid number"):a=/[89]/.test(o)?parseInt(o,10):parseInt(o,8):a=parseInt(o,10),this.finishToken(A.num,a)},e.prototype.readCodePoint=function(e){var t=void 0;if(123===this.input.charCodeAt(this.state.pos)){var n=++this.state.pos;if(t=this.readHexChar(this.input.indexOf("}",this.state.pos)-this.state.pos,e),++this.state.pos,null===t)--this.state.invalidTemplateEscapePosition;else if(t>1114111){if(!e)return this.state.invalidTemplateEscapePosition=n-2,null;this.raise(n,"Code point out of bounds")}}else t=this.readHexChar(4,e);return t},e.prototype.readString=function(e){for(var t="",n=++this.state.pos;;){this.state.pos>=this.input.length&&this.raise(this.state.start,"Unterminated string constant");var i=this.input.charCodeAt(this.state.pos);if(i===e)break;92===i?(t+=this.input.slice(n,this.state.pos),t+=this.readEscapedChar(!1),n=this.state.pos):(O(i)&&this.raise(this.state.start,"Unterminated string constant"),++this.state.pos)}return t+=this.input.slice(n,this.state.pos++),this.finishToken(A.string,t)},e.prototype.readTmplToken=function(){for(var e="",t=this.state.pos,n=!1;;){this.state.pos>=this.input.length&&this.raise(this.state.start,"Unterminated template");var i=this.input.charCodeAt(this.state.pos);if(96===i||36===i&&123===this.input.charCodeAt(this.state.pos+1))return this.state.pos===this.state.start&&this.match(A.template)?36===i?(this.state.pos+=2,this.finishToken(A.dollarBraceL)):(++this.state.pos,this.finishToken(A.backQuote)):(e+=this.input.slice(t,this.state.pos),this.finishToken(A.template,n?null:e));if(92===i){e+=this.input.slice(t,this.state.pos);var r=this.readEscapedChar(!0);null===r?n=!0:e+=r,t=this.state.pos}else if(O(i)){switch(e+=this.input.slice(t,this.state.pos),++this.state.pos,i){case 13:10===this.input.charCodeAt(this.state.pos)&&++this.state.pos;case 10:e+="\n";break;default:e+=String.fromCharCode(i)}++this.state.curLine,this.state.lineStart=this.state.pos,t=this.state.pos}else++this.state.pos}},e.prototype.readEscapedChar=function(e){var t=!e,n=this.input.charCodeAt(++this.state.pos);switch(++this.state.pos,n){case 110:return"\n";case 114:return"\r";case 120:var i=this.readHexChar(2,t);return null===i?null:String.fromCharCode(i);case 117:var r=this.readCodePoint(t);return null===r?null:B(r);case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:10===this.input.charCodeAt(this.state.pos)&&++this.state.pos;case 10:return this.state.lineStart=this.state.pos,++this.state.curLine,"";default:if(n>=48&&n<=55){var o=this.state.pos-1,a=this.input.substr(this.state.pos-1,3).match(/^[0-7]+/)[0],s=parseInt(a,8);if(s>255&&(a=a.slice(0,-1),s=parseInt(a,8)),s>0){if(e)return this.state.invalidTemplateEscapePosition=o,null;this.state.strict?this.raise(o,"Octal literal in strict mode"):this.state.containsOctal||(this.state.containsOctal=!0,this.state.octalPosition=o)}return this.state.pos+=a.length-1,String.fromCharCode(s)}return String.fromCharCode(n)}},e.prototype.readHexChar=function(e,t){var n=this.state.pos,i=this.readInt(16,e);return null===i&&(t?this.raise(n,"Bad character escape sequence"):(this.state.pos=n-1,this.state.invalidTemplateEscapePosition=n-1)),i},e.prototype.readWord1=function(){this.state.containsEsc=!1;for(var e="",t=!0,n=this.state.pos;this.state.pos<this.input.length;){var i=this.fullCharCodeAtPos();if(f(i))this.state.pos+=i<=65535?1:2;else{if(92!==i)break;this.state.containsEsc=!0,e+=this.input.slice(n,this.state.pos);var r=this.state.pos;117!==this.input.charCodeAt(++this.state.pos)&&this.raise(this.state.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.state.pos;var o=this.readCodePoint(!0);(t?h:f)(o,!0)||this.raise(r,"Invalid Unicode escape"),e+=B(o),n=this.state.pos}t=!1}return e+this.input.slice(n,this.state.pos)},e.prototype.readWord=function(){var e=this.readWord1(),t=A.name;return!this.state.containsEsc&&this.isKeyword(e)&&(t=k[e]),this.finishToken(t,e)},e.prototype.braceIsBlock=function(e){if(e===A.colon){var t=this.curContext();if(t===R.braceStatement||t===R.braceExpression)return!t.isExpr}return e===A._return?I.test(this.input.slice(this.state.lastTokEnd,this.state.start)):e===A._else||e===A.semi||e===A.eof||e===A.parenR||(e===A.braceL?this.curContext()===R.braceStatement:!this.state.exprAllowed)},e.prototype.updateContext=function(e){var t=this.state.type,n=void 0;t.keyword&&e===A.dot?this.state.exprAllowed=!1:(n=t.updateContext)?n.call(this,e):this.state.exprAllowed=t.beforeExpr},e}(),H={},$=["jsx","doExpressions","objectRestSpread","decorators","classProperties","exportExtensions","asyncGenerators","functionBind","functionSent","dynamicImport","flow"],G=function(e){function t(n,i){y(this,t),n=function(e){var t={};for(var n in m)t[n]=e&&n in e?e[n]:m[n];return t}(n);var r=_(this,e.call(this,n,i));return r.options=n,r.inModule="module"===r.options.sourceType,r.input=i,r.plugins=r.loadPlugins(r.options.plugins),r.filename=n.sourceFilename,0===r.state.pos&&"#"===r.input[0]&&"!"===r.input[1]&&r.skipLineComment(2),r}return v(t,e),t.prototype.isReservedWord=function(e){return"await"===e?this.inModule:r[6](e)},t.prototype.hasPlugin=function(e){return!!(this.plugins["*"]&&$.indexOf(e)>-1)||!!this.plugins[e]},t.prototype.extend=function(e,t){this[e]=t(this[e])},t.prototype.loadAllPlugins=function(){var e=this,t=Object.keys(H).filter((function(e){return"flow"!==e&&"estree"!==e}));t.push("flow"),t.forEach((function(t){var n=H[t];n&&n(e)}))},t.prototype.loadPlugins=function(e){if(e.indexOf("*")>=0)return this.loadAllPlugins(),{"*":!0};var t={};e.indexOf("flow")>=0&&(e=e.filter((function(e){return"flow"!==e})),e.push("flow")),e.indexOf("estree")>=0&&(e=e.filter((function(e){return"estree"!==e})),e.unshift("estree"));var n=e,i=Array.isArray(n),r=0;for(n=i?n:n[Symbol.iterator]();;){var o;if(i){if(r>=n.length)break;o=n[r++]}else{if((r=n.next()).done)break;o=r.value}var a=o;if(!t[a]){t[a]=!0;var s=H[a];s&&s(this)}}return t},t.prototype.parse=function(){var e=this.startNode(),t=this.startNode();return this.nextToken(),this.parseTopLevel(e,t)},t}(U),q=G.prototype;q.addExtra=function(e,t,n){e&&((e.extra=e.extra||{})[t]=n)},q.isRelational=function(e){return this.match(A.relational)&&this.state.value===e},q.expectRelational=function(e){this.isRelational(e)?this.next():this.unexpected(null,A.relational)},q.isContextual=function(e){return this.match(A.name)&&this.state.value===e},q.eatContextual=function(e){return this.state.value===e&&this.eat(A.name)},q.expectContextual=function(e,t){this.eatContextual(e)||this.unexpected(null,t)},q.canInsertSemicolon=function(){return this.match(A.eof)||this.match(A.braceR)||I.test(this.input.slice(this.state.lastTokEnd,this.state.start))},q.isLineTerminator=function(){return this.eat(A.semi)||this.canInsertSemicolon()},q.semicolon=function(){this.isLineTerminator()||this.unexpected(null,A.semi)},q.expect=function(e,t){return this.eat(e)||this.unexpected(t,e)},q.unexpected=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Unexpected token";t&&"object"===(void 0===t?"undefined":g(t))&&t.label&&(t="Unexpected token, expected "+t.label),this.raise(null!=e?e:this.state.start,t)};var V=G.prototype;V.parseTopLevel=function(e,t){return t.sourceType=this.options.sourceType,this.parseBlockBody(t,!0,!0,A.eof),e.program=this.finishNode(t,"Program"),e.comments=this.state.comments,e.tokens=this.state.tokens,this.finishNode(e,"File")};var z={kind:"loop"},W={kind:"switch"};V.stmtToDirective=function(e){var t=e.expression,n=this.startNodeAt(t.start,t.loc.start),i=this.startNodeAt(e.start,e.loc.start),r=this.input.slice(t.start,t.end),o=n.value=r.slice(1,-1);return this.addExtra(n,"raw",r),this.addExtra(n,"rawValue",o),i.value=this.finishNodeAt(n,"DirectiveLiteral",t.end,t.loc.end),this.finishNodeAt(i,"Directive",e.end,e.loc.end)},V.parseStatement=function(e,t){this.match(A.at)&&this.parseDecorators(!0);var n=this.state.type,i=this.startNode();switch(n){case A._break:case A._continue:return this.parseBreakContinueStatement(i,n.keyword);case A._debugger:return this.parseDebuggerStatement(i);case A._do:return this.parseDoStatement(i);case A._for:return this.parseForStatement(i);case A._function:return e||this.unexpected(),this.parseFunctionStatement(i);case A._class:return e||this.unexpected(),this.parseClass(i,!0);case A._if:return this.parseIfStatement(i);case A._return:return this.parseReturnStatement(i);case A._switch:return this.parseSwitchStatement(i);case A._throw:return this.parseThrowStatement(i);case A._try:return this.parseTryStatement(i);case A._let:case A._const:e||this.unexpected();case A._var:return this.parseVarStatement(i,n);case A._while:return this.parseWhileStatement(i);case A._with:return this.parseWithStatement(i);case A.braceL:return this.parseBlock();case A.semi:return this.parseEmptyStatement(i);case A._export:case A._import:if(this.hasPlugin("dynamicImport")&&this.lookahead().type===A.parenL)break;return this.options.allowImportExportEverywhere||(t||this.raise(this.state.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.state.start,"'import' and 'export' may appear only with 'sourceType: \"module\"'")),n===A._import?this.parseImport(i):this.parseExport(i);case A.name:if("async"===this.state.value){var r=this.state.clone();if(this.next(),this.match(A._function)&&!this.canInsertSemicolon())return this.expect(A._function),this.parseFunction(i,!0,!1,!0);this.state=r}}var o=this.state.value,a=this.parseExpression();return n===A.name&&"Identifier"===a.type&&this.eat(A.colon)?this.parseLabeledStatement(i,o,a):this.parseExpressionStatement(i,a)},V.takeDecorators=function(e){this.state.decorators.length&&(e.decorators=this.state.decorators,this.state.decorators=[])},V.parseDecorators=function(e){for(;this.match(A.at);){var t=this.parseDecorator();this.state.decorators.push(t)}e&&this.match(A._export)||this.match(A._class)||this.raise(this.state.start,"Leading decorators must be attached to a class declaration")},V.parseDecorator=function(){this.hasPlugin("decorators")||this.unexpected();var e=this.startNode();return this.next(),e.expression=this.parseMaybeAssign(),this.finishNode(e,"Decorator")},V.parseBreakContinueStatement=function(e,t){var n="break"===t;this.next(),this.isLineTerminator()?e.label=null:this.match(A.name)?(e.label=this.parseIdentifier(),this.semicolon()):this.unexpected();var i=void 0;for(i=0;i<this.state.labels.length;++i){var r=this.state.labels[i];if(null==e.label||r.name===e.label.name){if(null!=r.kind&&(n||"loop"===r.kind))break;if(e.label&&n)break}}return i===this.state.labels.length&&this.raise(e.start,"Unsyntactic "+t),this.finishNode(e,n?"BreakStatement":"ContinueStatement")},V.parseDebuggerStatement=function(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")},V.parseDoStatement=function(e){return this.next(),this.state.labels.push(z),e.body=this.parseStatement(!1),this.state.labels.pop(),this.expect(A._while),e.test=this.parseParenExpression(),this.eat(A.semi),this.finishNode(e,"DoWhileStatement")},V.parseForStatement=function(e){this.next(),this.state.labels.push(z);var t=!1;if(this.hasPlugin("asyncGenerators")&&this.state.inAsync&&this.isContextual("await")&&(t=!0,this.next()),this.expect(A.parenL),this.match(A.semi))return t&&this.unexpected(),this.parseFor(e,null);if(this.match(A._var)||this.match(A._let)||this.match(A._const)){var n=this.startNode(),i=this.state.type;return this.next(),this.parseVar(n,!0,i),this.finishNode(n,"VariableDeclaration"),!this.match(A._in)&&!this.isContextual("of")||1!==n.declarations.length||n.declarations[0].init?(t&&this.unexpected(),this.parseFor(e,n)):this.parseForIn(e,n,t)}var r={start:0},o=this.parseExpression(!0,r);if(this.match(A._in)||this.isContextual("of")){var a=this.isContextual("of")?"for-of statement":"for-in statement";return this.toAssignable(o,void 0,a),this.checkLVal(o,void 0,void 0,a),this.parseForIn(e,o,t)}return r.start&&this.unexpected(r.start),t&&this.unexpected(),this.parseFor(e,o)},V.parseFunctionStatement=function(e){return this.next(),this.parseFunction(e,!0)},V.parseIfStatement=function(e){return this.next(),e.test=this.parseParenExpression(),e.consequent=this.parseStatement(!1),e.alternate=this.eat(A._else)?this.parseStatement(!1):null,this.finishNode(e,"IfStatement")},V.parseReturnStatement=function(e){return this.state.inFunction||this.options.allowReturnOutsideFunction||this.raise(this.state.start,"'return' outside of function"),this.next(),this.isLineTerminator()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")},V.parseSwitchStatement=function(e){this.next(),e.discriminant=this.parseParenExpression(),e.cases=[],this.expect(A.braceL),this.state.labels.push(W);for(var t,n=void 0;!this.match(A.braceR);)if(this.match(A._case)||this.match(A._default)){var i=this.match(A._case);n&&this.finishNode(n,"SwitchCase"),e.cases.push(n=this.startNode()),n.consequent=[],this.next(),i?n.test=this.parseExpression():(t&&this.raise(this.state.lastTokStart,"Multiple default clauses"),t=!0,n.test=null),this.expect(A.colon)}else n?n.consequent.push(this.parseStatement(!0)):this.unexpected();return n&&this.finishNode(n,"SwitchCase"),this.next(),this.state.labels.pop(),this.finishNode(e,"SwitchStatement")},V.parseThrowStatement=function(e){return this.next(),I.test(this.input.slice(this.state.lastTokEnd,this.state.start))&&this.raise(this.state.lastTokEnd,"Illegal newline after throw"),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")};var K=[];V.parseTryStatement=function(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.match(A._catch)){var t=this.startNode();this.next(),this.expect(A.parenL),t.param=this.parseBindingAtom(),this.checkLVal(t.param,!0,Object.create(null),"catch clause"),this.expect(A.parenR),t.body=this.parseBlock(),e.handler=this.finishNode(t,"CatchClause")}return e.guardedHandlers=K,e.finalizer=this.eat(A._finally)?this.parseBlock():null,e.handler||e.finalizer||this.raise(e.start,"Missing catch or finally clause"),this.finishNode(e,"TryStatement")},V.parseVarStatement=function(e,t){return this.next(),this.parseVar(e,!1,t),this.semicolon(),this.finishNode(e,"VariableDeclaration")},V.parseWhileStatement=function(e){return this.next(),e.test=this.parseParenExpression(),this.state.labels.push(z),e.body=this.parseStatement(!1),this.state.labels.pop(),this.finishNode(e,"WhileStatement")},V.parseWithStatement=function(e){return this.state.strict&&this.raise(this.state.start,"'with' in strict mode"),this.next(),e.object=this.parseParenExpression(),e.body=this.parseStatement(!1),this.finishNode(e,"WithStatement")},V.parseEmptyStatement=function(e){return this.next(),this.finishNode(e,"EmptyStatement")},V.parseLabeledStatement=function(e,t,n){var i=this.state.labels,r=Array.isArray(i),o=0;for(i=r?i:i[Symbol.iterator]();;){var a;if(r){if(o>=i.length)break;a=i[o++]}else{if((o=i.next()).done)break;a=o.value}a.name===t&&this.raise(n.start,"Label '"+t+"' is already declared")}for(var s=this.state.type.isLoop?"loop":this.match(A._switch)?"switch":null,u=this.state.labels.length-1;u>=0;u--){var l=this.state.labels[u];if(l.statementStart!==e.start)break;l.statementStart=this.state.start,l.kind=s}return this.state.labels.push({name:t,kind:s,statementStart:this.state.start}),e.body=this.parseStatement(!0),this.state.labels.pop(),e.label=n,this.finishNode(e,"LabeledStatement")},V.parseExpressionStatement=function(e,t){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")},V.parseBlock=function(e){var t=this.startNode();return this.expect(A.braceL),this.parseBlockBody(t,e,!1,A.braceR),this.finishNode(t,"BlockStatement")},V.isValidDirective=function(e){return"ExpressionStatement"===e.type&&"StringLiteral"===e.expression.type&&!e.expression.extra.parenthesized},V.parseBlockBody=function(e,t,n,i){e.body=[],e.directives=[];for(var r=!1,o=void 0,a=void 0;!this.eat(i);){r||!this.state.containsOctal||a||(a=this.state.octalPosition);var s=this.parseStatement(!0,n);if(t&&!r&&this.isValidDirective(s)){var u=this.stmtToDirective(s);e.directives.push(u),void 0===o&&"use strict"===u.value.value&&(o=this.state.strict,this.setStrict(!0),a&&this.raise(a,"Octal literal in strict mode"))}else r=!0,e.body.push(s)}!1===o&&this.setStrict(!1)},V.parseFor=function(e,t){return e.init=t,this.expect(A.semi),e.test=this.match(A.semi)?null:this.parseExpression(),this.expect(A.semi),e.update=this.match(A.parenR)?null:this.parseExpression(),this.expect(A.parenR),e.body=this.parseStatement(!1),this.state.labels.pop(),this.finishNode(e,"ForStatement")},V.parseForIn=function(e,t,n){var i=void 0;return n?(this.eatContextual("of"),i="ForAwaitStatement"):(i=this.match(A._in)?"ForInStatement":"ForOfStatement",this.next()),e.left=t,e.right=this.parseExpression(),this.expect(A.parenR),e.body=this.parseStatement(!1),this.state.labels.pop(),this.finishNode(e,i)},V.parseVar=function(e,t,n){for(e.declarations=[],e.kind=n.keyword;;){var i=this.startNode();if(this.parseVarHead(i),this.eat(A.eq)?i.init=this.parseMaybeAssign(t):n!==A._const||this.match(A._in)||this.isContextual("of")?"Identifier"===i.id.type||t&&(this.match(A._in)||this.isContextual("of"))?i.init=null:this.raise(this.state.lastTokEnd,"Complex binding patterns require an initialization value"):this.unexpected(),e.declarations.push(this.finishNode(i,"VariableDeclarator")),!this.eat(A.comma))break}return e},V.parseVarHead=function(e){e.id=this.parseBindingAtom(),this.checkLVal(e.id,!0,void 0,"variable declaration")},V.parseFunction=function(e,t,n,i,r){var o=this.state.inMethod;return this.state.inMethod=!1,this.initFunction(e,i),this.match(A.star)&&(e.async&&!this.hasPlugin("asyncGenerators")?this.unexpected():(e.generator=!0,this.next())),!t||r||this.match(A.name)||this.match(A._yield)||this.unexpected(),(this.match(A.name)||this.match(A._yield))&&(e.id=this.parseBindingIdentifier()),this.parseFunctionParams(e),this.parseFunctionBody(e,n),this.state.inMethod=o,this.finishNode(e,t?"FunctionDeclaration":"FunctionExpression")},V.parseFunctionParams=function(e){this.expect(A.parenL),e.params=this.parseBindingList(A.parenR)},V.parseClass=function(e,t,n){return this.next(),this.takeDecorators(e),this.parseClassId(e,t,n),this.parseClassSuper(e),this.parseClassBody(e),this.finishNode(e,t?"ClassDeclaration":"ClassExpression")},V.isClassProperty=function(){return this.match(A.eq)||this.match(A.semi)||this.match(A.braceR)},V.isClassMethod=function(){return this.match(A.parenL)},V.isNonstaticConstructor=function(e){return!(e.computed||e.static||"constructor"!==e.key.name&&"constructor"!==e.key.value)},V.parseClassBody=function(e){var t=this.state.strict;this.state.strict=!0;var n=!1,i=!1,r=[],o=this.startNode();for(o.body=[],this.expect(A.braceL);!this.eat(A.braceR);)if(this.eat(A.semi))r.length>0&&this.raise(this.state.lastTokEnd,"Decorators must not be followed by a semicolon");else if(this.match(A.at))r.push(this.parseDecorator());else{var a=this.startNode();if(r.length&&(a.decorators=r,r=[]),a.static=!1,this.match(A.name)&&"static"===this.state.value){var s=this.parseIdentifier(!0);if(this.isClassMethod()){a.kind="method",a.computed=!1,a.key=s,this.parseClassMethod(o,a,!1,!1);continue}if(this.isClassProperty()){a.computed=!1,a.key=s,o.body.push(this.parseClassProperty(a));continue}a.static=!0}if(this.eat(A.star))a.kind="method",this.parsePropertyName(a),this.isNonstaticConstructor(a)&&this.raise(a.key.start,"Constructor can't be a generator"),a.computed||!a.static||"prototype"!==a.key.name&&"prototype"!==a.key.value||this.raise(a.key.start,"Classes may not have static property named prototype"),this.parseClassMethod(o,a,!0,!1);else{var u=this.match(A.name),l=this.parsePropertyName(a);if(a.computed||!a.static||"prototype"!==a.key.name&&"prototype"!==a.key.value||this.raise(a.key.start,"Classes may not have static property named prototype"),this.isClassMethod())this.isNonstaticConstructor(a)?(i?this.raise(l.start,"Duplicate constructor in the same class"):a.decorators&&this.raise(a.start,"You can't attach decorators to a class constructor"),i=!0,a.kind="constructor"):a.kind="method",this.parseClassMethod(o,a,!1,!1);else if(this.isClassProperty())this.isNonstaticConstructor(a)&&this.raise(a.key.start,"Classes may not have a non-static field named 'constructor'"),o.body.push(this.parseClassProperty(a));else if(u&&"async"===l.name&&!this.isLineTerminator()){var c=this.hasPlugin("asyncGenerators")&&this.eat(A.star);a.kind="method",this.parsePropertyName(a),this.isNonstaticConstructor(a)&&this.raise(a.key.start,"Constructor can't be an async function"),this.parseClassMethod(o,a,c,!0)}else!u||"get"!==l.name&&"set"!==l.name||this.isLineTerminator()&&this.match(A.star)?this.hasPlugin("classConstructorCall")&&u&&"call"===l.name&&this.match(A.name)&&"constructor"===this.state.value?(n?this.raise(a.start,"Duplicate constructor call in the same class"):a.decorators&&this.raise(a.start,"You can't attach decorators to a class constructor"),n=!0,a.kind="constructorCall",this.parsePropertyName(a),this.parseClassMethod(o,a,!1,!1)):this.isLineTerminator()?(this.isNonstaticConstructor(a)&&this.raise(a.key.start,"Classes may not have a non-static field named 'constructor'"),o.body.push(this.parseClassProperty(a))):this.unexpected():(a.kind=l.name,this.parsePropertyName(a),this.isNonstaticConstructor(a)&&this.raise(a.key.start,"Constructor can't have get/set modifier"),this.parseClassMethod(o,a,!1,!1),this.checkGetterSetterParamCount(a))}}r.length&&this.raise(this.state.start,"You have trailing decorators with no method"),e.body=this.finishNode(o,"ClassBody"),this.state.strict=t},V.parseClassProperty=function(e){return this.state.inClassProperty=!0,this.match(A.eq)?(this.hasPlugin("classProperties")||this.unexpected(),this.next(),e.value=this.parseMaybeAssign()):e.value=null,this.semicolon(),this.state.inClassProperty=!1,this.finishNode(e,"ClassProperty")},V.parseClassMethod=function(e,t,n,i){this.parseMethod(t,n,i),e.body.push(this.finishNode(t,"ClassMethod"))},V.parseClassId=function(e,t,n){this.match(A.name)?e.id=this.parseIdentifier():n||!t?e.id=null:this.unexpected()},V.parseClassSuper=function(e){e.superClass=this.eat(A._extends)?this.parseExprSubscripts():null},V.parseExport=function(e){if(this.next(),this.match(A.star)){var t=this.startNode();if(this.next(),!this.hasPlugin("exportExtensions")||!this.eatContextual("as"))return this.parseExportFrom(e,!0),this.finishNode(e,"ExportAllDeclaration");t.exported=this.parseIdentifier(),e.specifiers=[this.finishNode(t,"ExportNamespaceSpecifier")],this.parseExportSpecifiersMaybe(e),this.parseExportFrom(e,!0)}else if(this.hasPlugin("exportExtensions")&&this.isExportDefaultSpecifier()){var n=this.startNode();if(n.exported=this.parseIdentifier(!0),e.specifiers=[this.finishNode(n,"ExportDefaultSpecifier")],this.match(A.comma)&&this.lookahead().type===A.star){this.expect(A.comma);var i=this.startNode();this.expect(A.star),this.expectContextual("as"),i.exported=this.parseIdentifier(),e.specifiers.push(this.finishNode(i,"ExportNamespaceSpecifier"))}else this.parseExportSpecifiersMaybe(e);this.parseExportFrom(e,!0)}else{if(this.eat(A._default)){var r=this.startNode(),o=!1;return this.eat(A._function)?r=this.parseFunction(r,!0,!1,!1,!0):this.match(A._class)?r=this.parseClass(r,!0,!0):(o=!0,r=this.parseMaybeAssign()),e.declaration=r,o&&this.semicolon(),this.checkExport(e,!0,!0),this.finishNode(e,"ExportDefaultDeclaration")}this.shouldParseExportDeclaration()?(e.specifiers=[],e.source=null,e.declaration=this.parseExportDeclaration(e)):(e.declaration=null,e.specifiers=this.parseExportSpecifiers(),this.parseExportFrom(e))}return this.checkExport(e,!0),this.finishNode(e,"ExportNamedDeclaration")},V.parseExportDeclaration=function(){return this.parseStatement(!0)},V.isExportDefaultSpecifier=function(){if(this.match(A.name))return"async"!==this.state.value;if(!this.match(A._default))return!1;var e=this.lookahead();return e.type===A.comma||e.type===A.name&&"from"===e.value},V.parseExportSpecifiersMaybe=function(e){this.eat(A.comma)&&(e.specifiers=e.specifiers.concat(this.parseExportSpecifiers()))},V.parseExportFrom=function(e,t){this.eatContextual("from")?(e.source=this.match(A.string)?this.parseExprAtom():this.unexpected(),this.checkExport(e)):t?this.unexpected():e.source=null,this.semicolon()},V.shouldParseExportDeclaration=function(){return"var"===this.state.type.keyword||"const"===this.state.type.keyword||"let"===this.state.type.keyword||"function"===this.state.type.keyword||"class"===this.state.type.keyword||this.isContextual("async")},V.checkExport=function(e,t,n){if(t)if(n)this.checkDuplicateExports(e,"default");else if(e.specifiers&&e.specifiers.length){var i=e.specifiers,r=Array.isArray(i),o=0;for(i=r?i:i[Symbol.iterator]();;){var a;if(r){if(o>=i.length)break;a=i[o++]}else{if((o=i.next()).done)break;a=o.value}var s=a;this.checkDuplicateExports(s,s.exported.name)}}else if(e.declaration)if("FunctionDeclaration"===e.declaration.type||"ClassDeclaration"===e.declaration.type)this.checkDuplicateExports(e,e.declaration.id.name);else if("VariableDeclaration"===e.declaration.type){var u=e.declaration.declarations,l=Array.isArray(u),c=0;for(u=l?u:u[Symbol.iterator]();;){var d;if(l){if(c>=u.length)break;d=u[c++]}else{if((c=u.next()).done)break;d=c.value}var p=d;this.checkDeclaration(p.id)}}if(this.state.decorators.length){var h=e.declaration&&("ClassDeclaration"===e.declaration.type||"ClassExpression"===e.declaration.type);e.declaration&&h||this.raise(e.start,"You can only use decorators on an export when exporting a class"),this.takeDecorators(e.declaration)}},V.checkDeclaration=function(e){if("ObjectPattern"===e.type){var t=e.properties,n=Array.isArray(t),i=0;for(t=n?t:t[Symbol.iterator]();;){var r;if(n){if(i>=t.length)break;r=t[i++]}else{if((i=t.next()).done)break;r=i.value}var o=r;this.checkDeclaration(o)}}else if("ArrayPattern"===e.type){var a=e.elements,s=Array.isArray(a),u=0;for(a=s?a:a[Symbol.iterator]();;){var l;if(s){if(u>=a.length)break;l=a[u++]}else{if((u=a.next()).done)break;l=u.value}var c=l;c&&this.checkDeclaration(c)}}else"ObjectProperty"===e.type?this.checkDeclaration(e.value):"RestElement"===e.type||"RestProperty"===e.type?this.checkDeclaration(e.argument):"Identifier"===e.type&&this.checkDuplicateExports(e,e.name)},V.checkDuplicateExports=function(e,t){this.state.exportedIdentifiers.indexOf(t)>-1&&this.raiseDuplicateExportError(e,t),this.state.exportedIdentifiers.push(t)},V.raiseDuplicateExportError=function(e,t){this.raise(e.start,"default"===t?"Only one default export allowed per module.":"`"+t+"` has already been exported. Exported identifiers must be unique.")},V.parseExportSpecifiers=function(){var e=[],t=!0,n=void 0;for(this.expect(A.braceL);!this.eat(A.braceR);){if(t)t=!1;else if(this.expect(A.comma),this.eat(A.braceR))break;var i=this.match(A._default);i&&!n&&(n=!0);var r=this.startNode();r.local=this.parseIdentifier(i),r.exported=this.eatContextual("as")?this.parseIdentifier(!0):r.local.__clone(),e.push(this.finishNode(r,"ExportSpecifier"))}return n&&!this.isContextual("from")&&this.unexpected(),e},V.parseImport=function(e){return this.eat(A._import),this.match(A.string)?(e.specifiers=[],e.source=this.parseExprAtom()):(e.specifiers=[],this.parseImportSpecifiers(e),this.expectContextual("from"),e.source=this.match(A.string)?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(e,"ImportDeclaration")},V.parseImportSpecifiers=function(e){var t=!0;if(this.match(A.name)){var n=this.state.start,i=this.state.startLoc;if(e.specifiers.push(this.parseImportSpecifierDefault(this.parseIdentifier(),n,i)),!this.eat(A.comma))return}if(this.match(A.star)){var r=this.startNode();return this.next(),this.expectContextual("as"),r.local=this.parseIdentifier(),this.checkLVal(r.local,!0,void 0,"import namespace specifier"),void e.specifiers.push(this.finishNode(r,"ImportNamespaceSpecifier"))}for(this.expect(A.braceL);!this.eat(A.braceR);){if(t)t=!1;else if(this.eat(A.colon)&&this.unexpected(null,"ES2015 named imports do not destructure. Use another statement for destructuring after the import."),this.expect(A.comma),this.eat(A.braceR))break;this.parseImportSpecifier(e)}},V.parseImportSpecifier=function(e){var t=this.startNode();t.imported=this.parseIdentifier(!0),this.eatContextual("as")?t.local=this.parseIdentifier():(this.checkReservedWord(t.imported.name,t.start,!0,!0),t.local=t.imported.__clone()),this.checkLVal(t.local,!0,void 0,"import specifier"),e.specifiers.push(this.finishNode(t,"ImportSpecifier"))},V.parseImportSpecifierDefault=function(e,t,n){var i=this.startNodeAt(t,n);return i.local=e,this.checkLVal(i.local,!0,void 0,"default import specifier"),this.finishNode(i,"ImportDefaultSpecifier")};var Y=G.prototype;Y.toAssignable=function(e,t,n){if(e)switch(e.type){case"Identifier":case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":break;case"ObjectExpression":e.type="ObjectPattern";var i=e.properties,r=Array.isArray(i),o=0;for(i=r?i:i[Symbol.iterator]();;){var a;if(r){if(o>=i.length)break;a=i[o++]}else{if((o=i.next()).done)break;a=o.value}var s=a;"ObjectMethod"===s.type?"get"===s.kind||"set"===s.kind?this.raise(s.key.start,"Object pattern can't contain getter or setter"):this.raise(s.key.start,"Object pattern can't contain methods"):this.toAssignable(s,t,"object destructuring pattern")}break;case"ObjectProperty":this.toAssignable(e.value,t,n);break;case"SpreadProperty":e.type="RestProperty";var u=e.argument;this.toAssignable(u,t,n);break;case"ArrayExpression":e.type="ArrayPattern",this.toAssignableList(e.elements,t,n);break;case"AssignmentExpression":"="===e.operator?(e.type="AssignmentPattern",delete e.operator):this.raise(e.left.end,"Only '=' operator can be used for specifying default value.");break;case"MemberExpression":if(!t)break;default:var l="Invalid left-hand side"+(n?" in "+n:"expression");this.raise(e.start,l)}return e},Y.toAssignableList=function(e,t,n){var i=e.length;if(i){var r=e[i-1];if(r&&"RestElement"===r.type)--i;else if(r&&"SpreadElement"===r.type){r.type="RestElement";var o=r.argument;this.toAssignable(o,t,n),"Identifier"!==o.type&&"MemberExpression"!==o.type&&"ArrayPattern"!==o.type&&this.unexpected(o.start),--i}}for(var a=0;a<i;a++){var s=e[a];s&&this.toAssignable(s,t,n)}return e},Y.toReferencedList=function(e){return e},Y.parseSpread=function(e){var t=this.startNode();return this.next(),t.argument=this.parseMaybeAssign(!1,e),this.finishNode(t,"SpreadElement")},Y.parseRest=function(){var e=this.startNode();return this.next(),e.argument=this.parseBindingIdentifier(),this.finishNode(e,"RestElement")},Y.shouldAllowYieldIdentifier=function(){return this.match(A._yield)&&!this.state.strict&&!this.state.inGenerator},Y.parseBindingIdentifier=function(){return this.parseIdentifier(this.shouldAllowYieldIdentifier())},Y.parseBindingAtom=function(){switch(this.state.type){case A._yield:(this.state.strict||this.state.inGenerator)&&this.unexpected();case A.name:return this.parseIdentifier(!0);case A.bracketL:var e=this.startNode();return this.next(),e.elements=this.parseBindingList(A.bracketR,!0),this.finishNode(e,"ArrayPattern");case A.braceL:return this.parseObj(!0);default:this.unexpected()}},Y.parseBindingList=function(e,t){for(var n=[],i=!0;!this.eat(e);)if(i?i=!1:this.expect(A.comma),t&&this.match(A.comma))n.push(null);else{if(this.eat(e))break;if(this.match(A.ellipsis)){n.push(this.parseAssignableListItemTypes(this.parseRest())),this.expect(e);break}for(var r=[];this.match(A.at);)r.push(this.parseDecorator());var o=this.parseMaybeDefault();r.length&&(o.decorators=r),this.parseAssignableListItemTypes(o),n.push(this.parseMaybeDefault(o.start,o.loc.start,o))}return n},Y.parseAssignableListItemTypes=function(e){return e},Y.parseMaybeDefault=function(e,t,n){if(t=t||this.state.startLoc,e=e||this.state.start,n=n||this.parseBindingAtom(),!this.eat(A.eq))return n;var i=this.startNodeAt(e,t);return i.left=n,i.right=this.parseMaybeAssign(),this.finishNode(i,"AssignmentPattern")},Y.checkLVal=function(e,t,n,i){switch(e.type){case"Identifier":if(this.checkReservedWord(e.name,e.start,!1,!0),n){var r="_"+e.name;n[r]?this.raise(e.start,"Argument name clash in strict mode"):n[r]=!0}break;case"MemberExpression":t&&this.raise(e.start,(t?"Binding":"Assigning to")+" member expression");break;case"ObjectPattern":var o=e.properties,a=Array.isArray(o),s=0;for(o=a?o:o[Symbol.iterator]();;){var u;if(a){if(s>=o.length)break;u=o[s++]}else{if((s=o.next()).done)break;u=s.value}var l=u;"ObjectProperty"===l.type&&(l=l.value),this.checkLVal(l,t,n,"object destructuring pattern")}break;case"ArrayPattern":var c=e.elements,d=Array.isArray(c),p=0;for(c=d?c:c[Symbol.iterator]();;){var h;if(d){if(p>=c.length)break;h=c[p++]}else{if((p=c.next()).done)break;h=p.value}var f=h;f&&this.checkLVal(f,t,n,"array destructuring pattern")}break;case"AssignmentPattern":this.checkLVal(e.left,t,n,"assignment pattern");break;case"RestProperty":this.checkLVal(e.argument,t,n,"rest property");break;case"RestElement":this.checkLVal(e.argument,t,n,"rest element");break;default:var m=(t?"Binding invalid":"Invalid")+" left-hand side"+(i?" in "+i:"expression");this.raise(e.start,m)}};var J=G.prototype;J.checkPropClash=function(e,t){if(!e.computed&&!e.kind){var n=e.key;"__proto__"===("Identifier"===n.type?n.name:String(n.value))&&(t.proto&&this.raise(n.start,"Redefinition of __proto__ property"),t.proto=!0)}},J.getExpression=function(){this.nextToken();var e=this.parseExpression();return this.match(A.eof)||this.unexpected(),e},J.parseExpression=function(e,t){var n=this.state.start,i=this.state.startLoc,r=this.parseMaybeAssign(e,t);if(this.match(A.comma)){var o=this.startNodeAt(n,i);for(o.expressions=[r];this.eat(A.comma);)o.expressions.push(this.parseMaybeAssign(e,t));return this.toReferencedList(o.expressions),this.finishNode(o,"SequenceExpression")}return r},J.parseMaybeAssign=function(e,t,n,i){var r=this.state.start,o=this.state.startLoc;if(this.match(A._yield)&&this.state.inGenerator){var a=this.parseYield();return n&&(a=n.call(this,a,r,o)),a}var s=void 0;t?s=!1:(t={start:0},s=!0),(this.match(A.parenL)||this.match(A.name))&&(this.state.potentialArrowAt=this.state.start);var u=this.parseMaybeConditional(e,t,i);if(n&&(u=n.call(this,u,r,o)),this.state.type.isAssign){var l=this.startNodeAt(r,o);if(l.operator=this.state.value,l.left=this.match(A.eq)?this.toAssignable(u,void 0,"assignment expression"):u,t.start=0,this.checkLVal(u,void 0,void 0,"assignment expression"),u.extra&&u.extra.parenthesized){var c=void 0;"ObjectPattern"===u.type?c="`({a}) = 0` use `({a} = 0)`":"ArrayPattern"===u.type&&(c="`([a]) = 0` use `([a] = 0)`"),c&&this.raise(u.start,"You're trying to assign to a parenthesized expression, eg. instead of "+c)}return this.next(),l.right=this.parseMaybeAssign(e),this.finishNode(l,"AssignmentExpression")}return s&&t.start&&this.unexpected(t.start),u},J.parseMaybeConditional=function(e,t,n){var i=this.state.start,r=this.state.startLoc,o=this.parseExprOps(e,t);return t&&t.start?o:this.parseConditional(o,e,i,r,n)},J.parseConditional=function(e,t,n,i){if(this.eat(A.question)){var r=this.startNodeAt(n,i);return r.test=e,r.consequent=this.parseMaybeAssign(),this.expect(A.colon),r.alternate=this.parseMaybeAssign(t),this.finishNode(r,"ConditionalExpression")}return e},J.parseExprOps=function(e,t){var n=this.state.start,i=this.state.startLoc,r=this.parseMaybeUnary(t);return t&&t.start?r:this.parseExprOp(r,n,i,-1,e)},J.parseExprOp=function(e,t,n,i,r){var o=this.state.type.binop;if(!(null==o||r&&this.match(A._in))&&o>i){var a=this.startNodeAt(t,n);a.left=e,a.operator=this.state.value,"**"!==a.operator||"UnaryExpression"!==e.type||!e.extra||e.extra.parenthesizedArgument||e.extra.parenthesized||this.raise(e.argument.start,"Illegal expression. Wrap left hand side or entire exponentiation in parentheses.");var s=this.state.type;this.next();var u=this.state.start,l=this.state.startLoc;return a.right=this.parseExprOp(this.parseMaybeUnary(),u,l,s.rightAssociative?o-1:o,r),this.finishNode(a,s===A.logicalOR||s===A.logicalAND?"LogicalExpression":"BinaryExpression"),this.parseExprOp(a,t,n,i,r)}return e},J.parseMaybeUnary=function(e){if(this.state.type.prefix){var t=this.startNode(),n=this.match(A.incDec);t.operator=this.state.value,t.prefix=!0,this.next();var i=this.state.type;return t.argument=this.parseMaybeUnary(),this.addExtra(t,"parenthesizedArgument",!(i!==A.parenL||t.argument.extra&&t.argument.extra.parenthesized)),e&&e.start&&this.unexpected(e.start),n?this.checkLVal(t.argument,void 0,void 0,"prefix operation"):this.state.strict&&"delete"===t.operator&&"Identifier"===t.argument.type&&this.raise(t.start,"Deleting local variable in strict mode"),this.finishNode(t,n?"UpdateExpression":"UnaryExpression")}var r=this.state.start,o=this.state.startLoc,a=this.parseExprSubscripts(e);if(e&&e.start)return a;for(;this.state.type.postfix&&!this.canInsertSemicolon();){var s=this.startNodeAt(r,o);s.operator=this.state.value,s.prefix=!1,s.argument=a,this.checkLVal(a,void 0,void 0,"postfix operation"),this.next(),a=this.finishNode(s,"UpdateExpression")}return a},J.parseExprSubscripts=function(e){var t=this.state.start,n=this.state.startLoc,i=this.state.potentialArrowAt,r=this.parseExprAtom(e);return"ArrowFunctionExpression"===r.type&&r.start===i||e&&e.start?r:this.parseSubscripts(r,t,n)},J.parseSubscripts=function(e,t,n,i){for(;;){if(!i&&this.eat(A.doubleColon)){var r=this.startNodeAt(t,n);return r.object=e,r.callee=this.parseNoCallExpr(),this.parseSubscripts(this.finishNode(r,"BindExpression"),t,n,i)}if(this.eat(A.dot)){var o=this.startNodeAt(t,n);o.object=e,o.property=this.parseIdentifier(!0),o.computed=!1,e=this.finishNode(o,"MemberExpression")}else if(this.eat(A.bracketL)){var a=this.startNodeAt(t,n);a.object=e,a.property=this.parseExpression(),a.computed=!0,this.expect(A.bracketR),e=this.finishNode(a,"MemberExpression")}else if(!i&&this.match(A.parenL)){var s=this.state.potentialArrowAt===e.start&&"Identifier"===e.type&&"async"===e.name&&!this.canInsertSemicolon();this.next();var u=this.startNodeAt(t,n);if(u.callee=e,u.arguments=this.parseCallExpressionArguments(A.parenR,s),"Import"===u.callee.type&&1!==u.arguments.length&&this.raise(u.start,"import() requires exactly one argument"),e=this.finishNode(u,"CallExpression"),s&&this.shouldParseAsyncArrow())return this.parseAsyncArrowFromCallExpression(this.startNodeAt(t,n),u);this.toReferencedList(u.arguments)}else{if(!this.match(A.backQuote))return e;var l=this.startNodeAt(t,n);l.tag=e,l.quasi=this.parseTemplate(!0),e=this.finishNode(l,"TaggedTemplateExpression")}}},J.parseCallExpressionArguments=function(e,t){for(var n=[],i=void 0,r=!0;!this.eat(e);){if(r)r=!1;else if(this.expect(A.comma),this.eat(e))break;this.match(A.parenL)&&!i&&(i=this.state.start),n.push(this.parseExprListItem(!1,t?{start:0}:void 0,t?{start:0}:void 0))}return t&&i&&this.shouldParseAsyncArrow()&&this.unexpected(),n},J.shouldParseAsyncArrow=function(){return this.match(A.arrow)},J.parseAsyncArrowFromCallExpression=function(e,t){return this.expect(A.arrow),this.parseArrowExpression(e,t.arguments,!0)},J.parseNoCallExpr=function(){var e=this.state.start,t=this.state.startLoc;return this.parseSubscripts(this.parseExprAtom(),e,t,!0)},J.parseExprAtom=function(e){var t=this.state.potentialArrowAt===this.state.start,n=void 0;switch(this.state.type){case A._super:return this.state.inMethod||this.state.inClassProperty||this.options.allowSuperOutsideMethod||this.raise(this.state.start,"'super' outside of function or class"),n=this.startNode(),this.next(),this.match(A.parenL)||this.match(A.bracketL)||this.match(A.dot)||this.unexpected(),this.match(A.parenL)&&"constructor"!==this.state.inMethod&&!this.options.allowSuperOutsideMethod&&this.raise(n.start,"super() outside of class constructor"),this.finishNode(n,"Super");case A._import:return this.hasPlugin("dynamicImport")||this.unexpected(),n=this.startNode(),this.next(),this.match(A.parenL)||this.unexpected(null,A.parenL),this.finishNode(n,"Import");case A._this:return n=this.startNode(),this.next(),this.finishNode(n,"ThisExpression");case A._yield:this.state.inGenerator&&this.unexpected();case A.name:n=this.startNode();var i="await"===this.state.value&&this.state.inAsync,r=this.shouldAllowYieldIdentifier(),o=this.parseIdentifier(i||r);if("await"===o.name){if(this.state.inAsync||this.inModule)return this.parseAwait(n)}else{if("async"===o.name&&this.match(A._function)&&!this.canInsertSemicolon())return this.next(),this.parseFunction(n,!1,!1,!0);if(t&&"async"===o.name&&this.match(A.name)){var a=[this.parseIdentifier()];return this.expect(A.arrow),this.parseArrowExpression(n,a,!0)}}return t&&!this.canInsertSemicolon()&&this.eat(A.arrow)?this.parseArrowExpression(n,[o]):o;case A._do:if(this.hasPlugin("doExpressions")){var s=this.startNode();this.next();var u=this.state.inFunction,l=this.state.labels;return this.state.labels=[],this.state.inFunction=!1,s.body=this.parseBlock(!1,!0),this.state.inFunction=u,this.state.labels=l,this.finishNode(s,"DoExpression")}case A.regexp:var c=this.state.value;return(n=this.parseLiteral(c.value,"RegExpLiteral")).pattern=c.pattern,n.flags=c.flags,n;case A.num:return this.parseLiteral(this.state.value,"NumericLiteral");case A.string:return this.parseLiteral(this.state.value,"StringLiteral");case A._null:return n=this.startNode(),this.next(),this.finishNode(n,"NullLiteral");case A._true:case A._false:return(n=this.startNode()).value=this.match(A._true),this.next(),this.finishNode(n,"BooleanLiteral");case A.parenL:return this.parseParenAndDistinguishExpression(null,null,t);case A.bracketL:return n=this.startNode(),this.next(),n.elements=this.parseExprList(A.bracketR,!0,e),this.toReferencedList(n.elements),this.finishNode(n,"ArrayExpression");case A.braceL:return this.parseObj(!1,e);case A._function:return this.parseFunctionExpression();case A.at:this.parseDecorators();case A._class:return n=this.startNode(),this.takeDecorators(n),this.parseClass(n,!1);case A._new:return this.parseNew();case A.backQuote:return this.parseTemplate(!1);case A.doubleColon:n=this.startNode(),this.next(),n.object=null;var d=n.callee=this.parseNoCallExpr();if("MemberExpression"===d.type)return this.finishNode(n,"BindExpression");this.raise(d.start,"Binding should be performed on object property.");default:this.unexpected()}},J.parseFunctionExpression=function(){var e=this.startNode(),t=this.parseIdentifier(!0);return this.state.inGenerator&&this.eat(A.dot)&&this.hasPlugin("functionSent")?this.parseMetaProperty(e,t,"sent"):this.parseFunction(e,!1)},J.parseMetaProperty=function(e,t,n){return e.meta=t,e.property=this.parseIdentifier(!0),e.property.name!==n&&this.raise(e.property.start,"The only valid meta property for new is "+t.name+"."+n),this.finishNode(e,"MetaProperty")},J.parseLiteral=function(e,t,n,i){n=n||this.state.start,i=i||this.state.startLoc;var r=this.startNodeAt(n,i);return this.addExtra(r,"rawValue",e),this.addExtra(r,"raw",this.input.slice(n,this.state.end)),r.value=e,this.next(),this.finishNode(r,t)},J.parseParenExpression=function(){this.expect(A.parenL);var e=this.parseExpression();return this.expect(A.parenR),e},J.parseParenAndDistinguishExpression=function(e,t,n){e=e||this.state.start,t=t||this.state.startLoc;var i=void 0;this.expect(A.parenL);for(var r=this.state.start,o=this.state.startLoc,a=[],s={start:0},u={start:0},l=!0,c=void 0,d=void 0;!this.match(A.parenR);){if(l)l=!1;else if(this.expect(A.comma,u.start||null),this.match(A.parenR)){d=this.state.start;break}if(this.match(A.ellipsis)){var p=this.state.start,h=this.state.startLoc;c=this.state.start,a.push(this.parseParenItem(this.parseRest(),p,h));break}a.push(this.parseMaybeAssign(!1,s,this.parseParenItem,u))}var f=this.state.start,m=this.state.startLoc;this.expect(A.parenR);var g=this.startNodeAt(e,t);if(n&&this.shouldParseArrow()&&(g=this.parseArrow(g))){var y=a,v=Array.isArray(y),_=0;for(y=v?y:y[Symbol.iterator]();;){var b;if(v){if(_>=y.length)break;b=y[_++]}else{if((_=y.next()).done)break;b=_.value}var w=b;w.extra&&w.extra.parenthesized&&this.unexpected(w.extra.parenStart)}return this.parseArrowExpression(g,a)}return a.length||this.unexpected(this.state.lastTokStart),d&&this.unexpected(d),c&&this.unexpected(c),s.start&&this.unexpected(s.start),u.start&&this.unexpected(u.start),a.length>1?((i=this.startNodeAt(r,o)).expressions=a,this.toReferencedList(i.expressions),this.finishNodeAt(i,"SequenceExpression",f,m)):i=a[0],this.addExtra(i,"parenthesized",!0),this.addExtra(i,"parenStart",e),i},J.shouldParseArrow=function(){return!this.canInsertSemicolon()},J.parseArrow=function(e){if(this.eat(A.arrow))return e},J.parseParenItem=function(e){return e},J.parseNew=function(){var e=this.startNode(),t=this.parseIdentifier(!0);if(this.eat(A.dot)){var n=this.parseMetaProperty(e,t,"target");return this.state.inFunction||this.raise(n.property.start,"new.target can only be used in functions"),n}return e.callee=this.parseNoCallExpr(),this.eat(A.parenL)?(e.arguments=this.parseExprList(A.parenR),this.toReferencedList(e.arguments)):e.arguments=[],this.finishNode(e,"NewExpression")},J.parseTemplateElement=function(e){var t=this.startNode();return null===this.state.value&&(e&&this.hasPlugin("templateInvalidEscapes")?this.state.invalidTemplateEscapePosition=null:this.raise(this.state.invalidTemplateEscapePosition,"Invalid escape sequence in template")),t.value={raw:this.input.slice(this.state.start,this.state.end).replace(/\r\n?/g,"\n"),cooked:this.state.value},this.next(),t.tail=this.match(A.backQuote),this.finishNode(t,"TemplateElement")},J.parseTemplate=function(e){var t=this.startNode();this.next(),t.expressions=[];var n=this.parseTemplateElement(e);for(t.quasis=[n];!n.tail;)this.expect(A.dollarBraceL),t.expressions.push(this.parseExpression()),this.expect(A.braceR),t.quasis.push(n=this.parseTemplateElement(e));return this.next(),this.finishNode(t,"TemplateLiteral")},J.parseObj=function(e,t){var n=[],i=Object.create(null),r=!0,o=this.startNode();o.properties=[],this.next();for(var a=null;!this.eat(A.braceR);){if(r)r=!1;else if(this.expect(A.comma),this.eat(A.braceR))break;for(;this.match(A.at);)n.push(this.parseDecorator());var s=this.startNode(),u=!1,l=!1,c=void 0,d=void 0;if(n.length&&(s.decorators=n,n=[]),this.hasPlugin("objectRestSpread")&&this.match(A.ellipsis)){if((s=this.parseSpread(e?{start:0}:void 0)).type=e?"RestProperty":"SpreadProperty",e&&this.toAssignable(s.argument,!0,"object pattern"),o.properties.push(s),!e)continue;var p=this.state.start;if(null===a){if(this.eat(A.braceR))break;if(this.match(A.comma)&&this.lookahead().type===A.braceR)continue;a=p;continue}this.unexpected(a,"Cannot have multiple rest elements when destructuring")}if(s.method=!1,s.shorthand=!1,(e||t)&&(c=this.state.start,d=this.state.startLoc),e||(u=this.eat(A.star)),!e&&this.isContextual("async")){u&&this.unexpected();var h=this.parseIdentifier();this.match(A.colon)||this.match(A.parenL)||this.match(A.braceR)||this.match(A.eq)||this.match(A.comma)?(s.key=h,s.computed=!1):(l=!0,this.hasPlugin("asyncGenerators")&&(u=this.eat(A.star)),this.parsePropertyName(s))}else this.parsePropertyName(s);this.parseObjPropValue(s,c,d,u,l,e,t),this.checkPropClash(s,i),s.shorthand&&this.addExtra(s,"shorthand",!0),o.properties.push(s)}return null!==a&&this.unexpected(a,"The rest element has to be the last element when destructuring"),n.length&&this.raise(this.state.start,"You have trailing decorators with no property"),this.finishNode(o,e?"ObjectPattern":"ObjectExpression")},J.isGetterOrSetterMethod=function(e,t){return!t&&!e.computed&&"Identifier"===e.key.type&&("get"===e.key.name||"set"===e.key.name)&&(this.match(A.string)||this.match(A.num)||this.match(A.bracketL)||this.match(A.name)||this.state.type.keyword)},J.checkGetterSetterParamCount=function(e){var t="get"===e.kind?0:1;if(e.params.length!==t){var n=e.start;"get"===e.kind?this.raise(n,"getter should have no params"):this.raise(n,"setter should have exactly one param")}},J.parseObjectMethod=function(e,t,n,i){return n||t||this.match(A.parenL)?(i&&this.unexpected(),e.kind="method",e.method=!0,this.parseMethod(e,t,n),this.finishNode(e,"ObjectMethod")):this.isGetterOrSetterMethod(e,i)?((t||n)&&this.unexpected(),e.kind=e.key.name,this.parsePropertyName(e),this.parseMethod(e),this.checkGetterSetterParamCount(e),this.finishNode(e,"ObjectMethod")):void 0},J.parseObjectProperty=function(e,t,n,i,r){return this.eat(A.colon)?(e.value=i?this.parseMaybeDefault(this.state.start,this.state.startLoc):this.parseMaybeAssign(!1,r),this.finishNode(e,"ObjectProperty")):e.computed||"Identifier"!==e.key.type?void 0:(this.checkReservedWord(e.key.name,e.key.start,!0,!0),i?e.value=this.parseMaybeDefault(t,n,e.key.__clone()):this.match(A.eq)&&r?(r.start||(r.start=this.state.start),e.value=this.parseMaybeDefault(t,n,e.key.__clone())):e.value=e.key.__clone(),e.shorthand=!0,this.finishNode(e,"ObjectProperty"))},J.parseObjPropValue=function(e,t,n,i,r,o,a){var s=this.parseObjectMethod(e,i,r,o)||this.parseObjectProperty(e,t,n,o,a);return s||this.unexpected(),s},J.parsePropertyName=function(e){if(this.eat(A.bracketL))e.computed=!0,e.key=this.parseMaybeAssign(),this.expect(A.bracketR);else{e.computed=!1;var t=this.state.inPropertyName;this.state.inPropertyName=!0,e.key=this.match(A.num)||this.match(A.string)?this.parseExprAtom():this.parseIdentifier(!0),this.state.inPropertyName=t}return e.key},J.initFunction=function(e,t){e.id=null,e.generator=!1,e.expression=!1,e.async=!!t},J.parseMethod=function(e,t,n){var i=this.state.inMethod;return this.state.inMethod=e.kind||!0,this.initFunction(e,n),this.expect(A.parenL),e.params=this.parseBindingList(A.parenR),e.generator=!!t,this.parseFunctionBody(e),this.state.inMethod=i,e},J.parseArrowExpression=function(e,t,n){return this.initFunction(e,n),e.params=this.toAssignableList(t,!0,"arrow function parameters"),this.parseFunctionBody(e,!0),this.finishNode(e,"ArrowFunctionExpression")},J.isStrictBody=function(e,t){if(!t&&e.body.directives.length){var n=e.body.directives,i=Array.isArray(n),r=0;for(n=i?n:n[Symbol.iterator]();;){var o;if(i){if(r>=n.length)break;o=n[r++]}else{if((r=n.next()).done)break;o=r.value}if("use strict"===o.value.value)return!0}}return!1},J.parseFunctionBody=function(e,t){var n=t&&!this.match(A.braceL),i=this.state.inAsync;if(this.state.inAsync=e.async,n)e.body=this.parseMaybeAssign(),e.expression=!0;else{var r=this.state.inFunction,o=this.state.inGenerator,a=this.state.labels;this.state.inFunction=!0,this.state.inGenerator=e.generator,this.state.labels=[],e.body=this.parseBlock(!0),e.expression=!1,this.state.inFunction=r,this.state.inGenerator=o,this.state.labels=a}this.state.inAsync=i;var s=this.isStrictBody(e,n),u=this.state.strict||t||s;if(s&&e.id&&"Identifier"===e.id.type&&"yield"===e.id.name&&this.raise(e.id.start,"Binding yield in strict mode"),u){var l=Object.create(null),c=this.state.strict;s&&(this.state.strict=!0),e.id&&this.checkLVal(e.id,!0,void 0,"function name");var d=e.params,p=Array.isArray(d),h=0;for(d=p?d:d[Symbol.iterator]();;){var f;if(p){if(h>=d.length)break;f=d[h++]}else{if((h=d.next()).done)break;f=h.value}var m=f;s&&"Identifier"!==m.type&&this.raise(m.start,"Non-simple parameter in strict mode"),this.checkLVal(m,!0,l,"function parameter list")}this.state.strict=c}},J.parseExprList=function(e,t,n){for(var i=[],r=!0;!this.eat(e);){if(r)r=!1;else if(this.expect(A.comma),this.eat(e))break;i.push(this.parseExprListItem(t,n))}return i},J.parseExprListItem=function(e,t,n){return e&&this.match(A.comma)?null:this.match(A.ellipsis)?this.parseSpread(t):this.parseMaybeAssign(!1,t,this.parseParenItem,n)},J.parseIdentifier=function(e){var t=this.startNode();return e||this.checkReservedWord(this.state.value,this.state.start,!!this.state.type.keyword,!1),this.match(A.name)?t.name=this.state.value:this.state.type.keyword?t.name=this.state.type.keyword:this.unexpected(),!e&&"await"===t.name&&this.state.inAsync&&this.raise(t.start,"invalid use of await inside of an async function"),t.loc.identifierName=t.name,this.next(),this.finishNode(t,"Identifier")},J.checkReservedWord=function(e,t,n,i){(this.isReservedWord(e)||n&&this.isKeyword(e))&&this.raise(t,e+" is a reserved word"),this.state.strict&&(r.strict(e)||i&&r.strictBind(e))&&this.raise(t,e+" is a reserved word in strict mode")},J.parseAwait=function(e){return this.state.inAsync||this.unexpected(),this.match(A.star)&&this.raise(e.start,"await* has been removed from the async functions proposal. Use Promise.all() instead."),e.argument=this.parseMaybeUnary(),this.finishNode(e,"AwaitExpression")},J.parseYield=function(){var e=this.startNode();return this.next(),this.match(A.semi)||this.canInsertSemicolon()||!this.match(A.star)&&!this.state.type.startsExpr?(e.delegate=!1,e.argument=null):(e.delegate=this.eat(A.star),e.argument=this.parseMaybeAssign()),this.finishNode(e,"YieldExpression")};var X=G.prototype,Q=["leadingComments","trailingComments","innerComments"],Z=function(){function e(t,n,i){y(this,e),this.type="",this.start=t,this.end=0,this.loc=new M(n),i&&(this.loc.filename=i)}return e.prototype.__clone=function(){var t=new e;for(var n in this)Q.indexOf(n)<0&&(t[n]=this[n]);return t},e}();function ee(e,t,n,i){return e.type=t,e.end=n,e.loc.end=i,this.processComment(e),e}function te(e){return e[e.length-1]}X.startNode=function(){return new Z(this.state.start,this.state.startLoc,this.filename)},X.startNodeAt=function(e,t){return new Z(e,t,this.filename)},X.finishNode=function(e,t){return ee.call(this,e,t,this.state.lastTokEnd,this.state.lastTokEndLoc)},X.finishNodeAt=function(e,t,n,i){return ee.call(this,e,t,n,i)},G.prototype.raise=function(e,t){var n=function(e,t){for(var n=1,i=0;;){D.lastIndex=i;var r=D.exec(e);if(!(r&&r.index<t))return new L(n,t-i);++n,i=r.index+r[0].length}}(this.input,e);t+=" ("+n.line+":"+n.column+")";var i=new SyntaxError(t);throw i.pos=e,i.loc=n,i};var ne=G.prototype;ne.addComment=function(e){this.filename&&(e.loc.filename=this.filename),this.state.trailingComments.push(e),this.state.leadingComments.push(e)},ne.processComment=function(e){if(!("Program"===e.type&&e.body.length>0)){var t=this.state.commentStack,n=void 0,i=void 0,r=void 0,o=void 0,a=void 0;if(this.state.trailingComments.length>0)this.state.trailingComments[0].start>=e.end?(r=this.state.trailingComments,this.state.trailingComments=[]):this.state.trailingComments.length=0;else{var s=te(t);t.length>0&&s.trailingComments&&s.trailingComments[0].start>=e.end&&(r=s.trailingComments,s.trailingComments=null)}for(t.length>0&&te(t).start>=e.start&&(n=t.pop());t.length>0&&te(t).start>=e.start;)i=t.pop();if(!i&&n&&(i=n),n&&this.state.leadingComments.length>0){var u=te(this.state.leadingComments);if("ObjectProperty"===n.type){if(u.start>=e.start&&this.state.commentPreviousNode){for(a=0;a<this.state.leadingComments.length;a++)this.state.leadingComments[a].end<this.state.commentPreviousNode.end&&(this.state.leadingComments.splice(a,1),a--);this.state.leadingComments.length>0&&(n.trailingComments=this.state.leadingComments,this.state.leadingComments=[])}}else if("CallExpression"===e.type&&e.arguments&&e.arguments.length){var l=te(e.arguments);l&&u.start>=l.start&&u.end<=e.end&&this.state.commentPreviousNode&&this.state.leadingComments.length>0&&(l.trailingComments=this.state.leadingComments,this.state.leadingComments=[])}}if(i){if(i.leadingComments)if(i!==e&&te(i.leadingComments).end<=e.start)e.leadingComments=i.leadingComments,i.leadingComments=null;else for(o=i.leadingComments.length-2;o>=0;--o)if(i.leadingComments[o].end<=e.start){e.leadingComments=i.leadingComments.splice(0,o+1);break}}else if(this.state.leadingComments.length>0)if(te(this.state.leadingComments).end<=e.start){if(this.state.commentPreviousNode)for(a=0;a<this.state.leadingComments.length;a++)this.state.leadingComments[a].end<this.state.commentPreviousNode.end&&(this.state.leadingComments.splice(a,1),a--);this.state.leadingComments.length>0&&(e.leadingComments=this.state.leadingComments,this.state.leadingComments=[])}else{for(o=0;o<this.state.leadingComments.length&&!(this.state.leadingComments[o].end>e.start);o++);e.leadingComments=this.state.leadingComments.slice(0,o),0===e.leadingComments.length&&(e.leadingComments=null),0===(r=this.state.leadingComments.slice(o)).length&&(r=null)}this.state.commentPreviousNode=e,r&&(r.length&&r[0].start>=e.start&&te(r).end<=e.end?e.innerComments=r:e.trailingComments=r),t.push(e)}};var ie=G.prototype;function re(e){return e&&"Property"===e.type&&"init"===e.kind&&!1===e.method}ie.estreeParseRegExpLiteral=function(e){var t=e.pattern,n=e.flags,i=null;try{i=new RegExp(t,n)}catch(e){}var r=this.estreeParseLiteral(i);return r.regex={pattern:t,flags:n},r},ie.estreeParseLiteral=function(e){return this.parseLiteral(e,"Literal")},ie.directiveToStmt=function(e){var t=e.value,n=this.startNodeAt(e.start,e.loc.start),i=this.startNodeAt(t.start,t.loc.start);return i.value=t.value,i.raw=t.extra.raw,n.expression=this.finishNodeAt(i,"Literal",t.end,t.loc.end),n.directive=t.extra.raw.slice(1,-1),this.finishNodeAt(n,"ExpressionStatement",e.end,e.loc.end)};var oe=["any","mixed","empty","bool","boolean","number","string","void","null"],ae=G.prototype;ae.flowParseTypeInitialiser=function(e){var t=this.state.inType;this.state.inType=!0,this.expect(e||A.colon);var n=this.flowParseType();return this.state.inType=t,n},ae.flowParsePredicate=function(){var e=this.startNode(),t=this.state.startLoc,n=this.state.start;this.expect(A.modulo);var i=this.state.startLoc;return this.expectContextual("checks"),t.line===i.line&&t.column===i.column-1||this.raise(n,"Spaces between % and checks are not allowed here."),this.eat(A.parenL)?(e.expression=this.parseExpression(),this.expect(A.parenR),this.finishNode(e,"DeclaredPredicate")):this.finishNode(e,"InferredPredicate")},ae.flowParseTypeAndPredicateInitialiser=function(){var e=this.state.inType;this.state.inType=!0,this.expect(A.colon);var t=null,n=null;return this.match(A.modulo)?(this.state.inType=e,n=this.flowParsePredicate()):(t=this.flowParseType(),this.state.inType=e,this.match(A.modulo)&&(n=this.flowParsePredicate())),[t,n]},ae.flowParseDeclareClass=function(e){return this.next(),this.flowParseInterfaceish(e,!0),this.finishNode(e,"DeclareClass")},ae.flowParseDeclareFunction=function(e){this.next();var t=e.id=this.parseIdentifier(),n=this.startNode(),i=this.startNode();this.isRelational("<")?n.typeParameters=this.flowParseTypeParameterDeclaration():n.typeParameters=null,this.expect(A.parenL);var r=this.flowParseFunctionTypeParams();n.params=r.params,n.rest=r.rest,this.expect(A.parenR);var o,a=this.flowParseTypeAndPredicateInitialiser();return n.returnType=a[0],o=a[1],i.typeAnnotation=this.finishNode(n,"FunctionTypeAnnotation"),i.predicate=o,t.typeAnnotation=this.finishNode(i,"TypeAnnotation"),this.finishNode(t,t.type),this.semicolon(),this.finishNode(e,"DeclareFunction")},ae.flowParseDeclare=function(e){return this.match(A._class)?this.flowParseDeclareClass(e):this.match(A._function)?this.flowParseDeclareFunction(e):this.match(A._var)?this.flowParseDeclareVariable(e):this.isContextual("module")?this.lookahead().type===A.dot?this.flowParseDeclareModuleExports(e):this.flowParseDeclareModule(e):this.isContextual("type")?this.flowParseDeclareTypeAlias(e):this.isContextual("opaque")?this.flowParseDeclareOpaqueType(e):this.isContextual("interface")?this.flowParseDeclareInterface(e):this.match(A._export)?this.flowParseDeclareExportDeclaration(e):void this.unexpected()},ae.flowParseDeclareExportDeclaration=function(e){if(this.expect(A._export),this.isContextual("opaque"))return e.declaration=this.flowParseDeclare(this.startNode()),e.default=!1,this.finishNode(e,"DeclareExportDeclaration");throw this.unexpected()},ae.flowParseDeclareVariable=function(e){return this.next(),e.id=this.flowParseTypeAnnotatableIdentifier(),this.semicolon(),this.finishNode(e,"DeclareVariable")},ae.flowParseDeclareModule=function(e){this.next(),this.match(A.string)?e.id=this.parseExprAtom():e.id=this.parseIdentifier();var t=e.body=this.startNode(),n=t.body=[];for(this.expect(A.braceL);!this.match(A.braceR);){var i=this.startNode();if(this.match(A._import)){var r=this.lookahead();"type"!==r.value&&"typeof"!==r.value&&this.unexpected(null,"Imports within a `declare module` body must always be `import type` or `import typeof`"),this.parseImport(i)}else this.expectContextual("declare","Only declares and type imports are allowed inside declare module"),i=this.flowParseDeclare(i,!0);n.push(i)}return this.expect(A.braceR),this.finishNode(t,"BlockStatement"),this.finishNode(e,"DeclareModule")},ae.flowParseDeclareModuleExports=function(e){return this.expectContextual("module"),this.expect(A.dot),this.expectContextual("exports"),e.typeAnnotation=this.flowParseTypeAnnotation(),this.semicolon(),this.finishNode(e,"DeclareModuleExports")},ae.flowParseDeclareTypeAlias=function(e){return this.next(),this.flowParseTypeAlias(e),this.finishNode(e,"DeclareTypeAlias")},ae.flowParseDeclareOpaqueType=function(e){return this.next(),this.flowParseOpaqueType(e,!0),this.finishNode(e,"DeclareOpaqueType")},ae.flowParseDeclareInterface=function(e){return this.next(),this.flowParseInterfaceish(e),this.finishNode(e,"DeclareInterface")},ae.flowParseInterfaceish=function(e){if(e.id=this.parseIdentifier(),this.isRelational("<")?e.typeParameters=this.flowParseTypeParameterDeclaration():e.typeParameters=null,e.extends=[],e.mixins=[],this.eat(A._extends))do{e.extends.push(this.flowParseInterfaceExtends())}while(this.eat(A.comma));if(this.isContextual("mixins")){this.next();do{e.mixins.push(this.flowParseInterfaceExtends())}while(this.eat(A.comma))}e.body=this.flowParseObjectType(!0,!1,!1)},ae.flowParseInterfaceExtends=function(){var e=this.startNode();return e.id=this.flowParseQualifiedTypeIdentifier(),this.isRelational("<")?e.typeParameters=this.flowParseTypeParameterInstantiation():e.typeParameters=null,this.finishNode(e,"InterfaceExtends")},ae.flowParseInterface=function(e){return this.flowParseInterfaceish(e,!1),this.finishNode(e,"InterfaceDeclaration")},ae.flowParseRestrictedIdentifier=function(e){return oe.indexOf(this.state.value)>-1&&this.raise(this.state.start,"Cannot overwrite primitive type "+this.state.value),this.parseIdentifier(e)},ae.flowParseTypeAlias=function(e){return e.id=this.flowParseRestrictedIdentifier(),this.isRelational("<")?e.typeParameters=this.flowParseTypeParameterDeclaration():e.typeParameters=null,e.right=this.flowParseTypeInitialiser(A.eq),this.semicolon(),this.finishNode(e,"TypeAlias")},ae.flowParseOpaqueType=function(e,t){return this.expectContextual("type"),e.id=this.flowParseRestrictedIdentifier(),this.isRelational("<")?e.typeParameters=this.flowParseTypeParameterDeclaration():e.typeParameters=null,e.supertype=null,this.match(A.colon)&&(e.supertype=this.flowParseTypeInitialiser(A.colon)),e.impltype=null,t||(e.impltype=this.flowParseTypeInitialiser(A.eq)),this.semicolon(),this.finishNode(e,"OpaqueType")},ae.flowParseTypeParameter=function(){var e=this.startNode(),t=this.flowParseVariance(),n=this.flowParseTypeAnnotatableIdentifier();return e.name=n.name,e.variance=t,e.bound=n.typeAnnotation,this.match(A.eq)&&(this.eat(A.eq),e.default=this.flowParseType()),this.finishNode(e,"TypeParameter")},ae.flowParseTypeParameterDeclaration=function(){var e=this.state.inType,t=this.startNode();t.params=[],this.state.inType=!0,this.isRelational("<")||this.match(A.jsxTagStart)?this.next():this.unexpected();do{t.params.push(this.flowParseTypeParameter()),this.isRelational(">")||this.expect(A.comma)}while(!this.isRelational(">"));return this.expectRelational(">"),this.state.inType=e,this.finishNode(t,"TypeParameterDeclaration")},ae.flowParseTypeParameterInstantiation=function(){var e=this.startNode(),t=this.state.inType;for(e.params=[],this.state.inType=!0,this.expectRelational("<");!this.isRelational(">");)e.params.push(this.flowParseType()),this.isRelational(">")||this.expect(A.comma);return this.expectRelational(">"),this.state.inType=t,this.finishNode(e,"TypeParameterInstantiation")},ae.flowParseObjectPropertyKey=function(){return this.match(A.num)||this.match(A.string)?this.parseExprAtom():this.parseIdentifier(!0)},ae.flowParseObjectTypeIndexer=function(e,t,n){return e.static=t,this.expect(A.bracketL),this.lookahead().type===A.colon?(e.id=this.flowParseObjectPropertyKey(),e.key=this.flowParseTypeInitialiser()):(e.id=null,e.key=this.flowParseType()),this.expect(A.bracketR),e.value=this.flowParseTypeInitialiser(),e.variance=n,this.flowObjectTypeSemicolon(),this.finishNode(e,"ObjectTypeIndexer")},ae.flowParseObjectTypeMethodish=function(e){for(e.params=[],e.rest=null,e.typeParameters=null,this.isRelational("<")&&(e.typeParameters=this.flowParseTypeParameterDeclaration()),this.expect(A.parenL);!this.match(A.parenR)&&!this.match(A.ellipsis);)e.params.push(this.flowParseFunctionTypeParam()),this.match(A.parenR)||this.expect(A.comma);return this.eat(A.ellipsis)&&(e.rest=this.flowParseFunctionTypeParam()),this.expect(A.parenR),e.returnType=this.flowParseTypeInitialiser(),this.finishNode(e,"FunctionTypeAnnotation")},ae.flowParseObjectTypeMethod=function(e,t,n,i){var r=this.startNodeAt(e,t);return r.value=this.flowParseObjectTypeMethodish(this.startNodeAt(e,t)),r.static=n,r.key=i,r.optional=!1,this.flowObjectTypeSemicolon(),this.finishNode(r,"ObjectTypeProperty")},ae.flowParseObjectTypeCallProperty=function(e,t){var n=this.startNode();return e.static=t,e.value=this.flowParseObjectTypeMethodish(n),this.flowObjectTypeSemicolon(),this.finishNode(e,"ObjectTypeCallProperty")},ae.flowParseObjectType=function(e,t,n){var i=this.state.inType;this.state.inType=!0;var r=this.startNode(),o=void 0,a=void 0,s=!1;r.callProperties=[],r.properties=[],r.indexers=[];var u=void 0,l=void 0;for(t&&this.match(A.braceBarL)?(this.expect(A.braceBarL),u=A.braceBarR,l=!0):(this.expect(A.braceL),u=A.braceR,l=!1),r.exact=l;!this.match(u);){var c=!1,d=this.state.start,p=this.state.startLoc;o=this.startNode(),e&&this.isContextual("static")&&this.lookahead().type!==A.colon&&(this.next(),s=!0);var h=this.state.start,f=this.flowParseVariance();this.match(A.bracketL)?r.indexers.push(this.flowParseObjectTypeIndexer(o,s,f)):this.match(A.parenL)||this.isRelational("<")?(f&&this.unexpected(h),r.callProperties.push(this.flowParseObjectTypeCallProperty(o,s))):this.match(A.ellipsis)?(n||this.unexpected(null,"Spread operator cannot appear in class or interface definitions"),f&&this.unexpected(f.start,"Spread properties cannot have variance"),this.expect(A.ellipsis),o.argument=this.flowParseType(),this.flowObjectTypeSemicolon(),r.properties.push(this.finishNode(o,"ObjectTypeSpreadProperty"))):(a=this.flowParseObjectPropertyKey(),this.isRelational("<")||this.match(A.parenL)?(f&&this.unexpected(f.start),r.properties.push(this.flowParseObjectTypeMethod(d,p,s,a))):(this.eat(A.question)&&(c=!0),o.key=a,o.value=this.flowParseTypeInitialiser(),o.optional=c,o.static=s,o.variance=f,this.flowObjectTypeSemicolon(),r.properties.push(this.finishNode(o,"ObjectTypeProperty")))),s=!1}this.expect(u);var m=this.finishNode(r,"ObjectTypeAnnotation");return this.state.inType=i,m},ae.flowObjectTypeSemicolon=function(){this.eat(A.semi)||this.eat(A.comma)||this.match(A.braceR)||this.match(A.braceBarR)||this.unexpected()},ae.flowParseQualifiedTypeIdentifier=function(e,t,n){e=e||this.state.start,t=t||this.state.startLoc;for(var i=n||this.parseIdentifier();this.eat(A.dot);){var r=this.startNodeAt(e,t);r.qualification=i,r.id=this.parseIdentifier(),i=this.finishNode(r,"QualifiedTypeIdentifier")}return i},ae.flowParseGenericType=function(e,t,n){var i=this.startNodeAt(e,t);return i.typeParameters=null,i.id=this.flowParseQualifiedTypeIdentifier(e,t,n),this.isRelational("<")&&(i.typeParameters=this.flowParseTypeParameterInstantiation()),this.finishNode(i,"GenericTypeAnnotation")},ae.flowParseTypeofType=function(){var e=this.startNode();return this.expect(A._typeof),e.argument=this.flowParsePrimaryType(),this.finishNode(e,"TypeofTypeAnnotation")},ae.flowParseTupleType=function(){var e=this.startNode();for(e.types=[],this.expect(A.bracketL);this.state.pos<this.input.length&&!this.match(A.bracketR)&&(e.types.push(this.flowParseType()),!this.match(A.bracketR));)this.expect(A.comma);return this.expect(A.bracketR),this.finishNode(e,"TupleTypeAnnotation")},ae.flowParseFunctionTypeParam=function(){var e=null,t=!1,n=null,i=this.startNode(),r=this.lookahead();return r.type===A.colon||r.type===A.question?(e=this.parseIdentifier(),this.eat(A.question)&&(t=!0),n=this.flowParseTypeInitialiser()):n=this.flowParseType(),i.name=e,i.optional=t,i.typeAnnotation=n,this.finishNode(i,"FunctionTypeParam")},ae.reinterpretTypeAsFunctionTypeParam=function(e){var t=this.startNodeAt(e.start,e.loc.start);return t.name=null,t.optional=!1,t.typeAnnotation=e,this.finishNode(t,"FunctionTypeParam")},ae.flowParseFunctionTypeParams=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t={params:e,rest:null};!this.match(A.parenR)&&!this.match(A.ellipsis);)t.params.push(this.flowParseFunctionTypeParam()),this.match(A.parenR)||this.expect(A.comma);return this.eat(A.ellipsis)&&(t.rest=this.flowParseFunctionTypeParam()),t},ae.flowIdentToTypeAnnotation=function(e,t,n,i){switch(i.name){case"any":return this.finishNode(n,"AnyTypeAnnotation");case"void":return this.finishNode(n,"VoidTypeAnnotation");case"bool":case"boolean":return this.finishNode(n,"BooleanTypeAnnotation");case"mixed":return this.finishNode(n,"MixedTypeAnnotation");case"empty":return this.finishNode(n,"EmptyTypeAnnotation");case"number":return this.finishNode(n,"NumberTypeAnnotation");case"string":return this.finishNode(n,"StringTypeAnnotation");default:return this.flowParseGenericType(e,t,i)}},ae.flowParsePrimaryType=function(){var e=this.state.start,t=this.state.startLoc,n=this.startNode(),i=void 0,r=void 0,o=!1,a=this.state.noAnonFunctionType;switch(this.state.type){case A.name:return this.flowIdentToTypeAnnotation(e,t,n,this.parseIdentifier());case A.braceL:return this.flowParseObjectType(!1,!1,!0);case A.braceBarL:return this.flowParseObjectType(!1,!0,!0);case A.bracketL:return this.flowParseTupleType();case A.relational:if("<"===this.state.value)return n.typeParameters=this.flowParseTypeParameterDeclaration(),this.expect(A.parenL),i=this.flowParseFunctionTypeParams(),n.params=i.params,n.rest=i.rest,this.expect(A.parenR),this.expect(A.arrow),n.returnType=this.flowParseType(),this.finishNode(n,"FunctionTypeAnnotation");break;case A.parenL:if(this.next(),!this.match(A.parenR)&&!this.match(A.ellipsis))if(this.match(A.name)){var s=this.lookahead().type;o=s!==A.question&&s!==A.colon}else o=!0;if(o){if(this.state.noAnonFunctionType=!1,r=this.flowParseType(),this.state.noAnonFunctionType=a,this.state.noAnonFunctionType||!(this.match(A.comma)||this.match(A.parenR)&&this.lookahead().type===A.arrow))return this.expect(A.parenR),r;this.eat(A.comma)}return i=r?this.flowParseFunctionTypeParams([this.reinterpretTypeAsFunctionTypeParam(r)]):this.flowParseFunctionTypeParams(),n.params=i.params,n.rest=i.rest,this.expect(A.parenR),this.expect(A.arrow),n.returnType=this.flowParseType(),n.typeParameters=null,this.finishNode(n,"FunctionTypeAnnotation");case A.string:return this.parseLiteral(this.state.value,"StringLiteralTypeAnnotation");case A._true:case A._false:return n.value=this.match(A._true),this.next(),this.finishNode(n,"BooleanLiteralTypeAnnotation");case A.plusMin:if("-"===this.state.value)return this.next(),this.match(A.num)||this.unexpected(null,"Unexpected token, expected number"),this.parseLiteral(-this.state.value,"NumericLiteralTypeAnnotation",n.start,n.loc.start);this.unexpected();case A.num:return this.parseLiteral(this.state.value,"NumericLiteralTypeAnnotation");case A._null:return n.value=this.match(A._null),this.next(),this.finishNode(n,"NullLiteralTypeAnnotation");case A._this:return n.value=this.match(A._this),this.next(),this.finishNode(n,"ThisTypeAnnotation");case A.star:return this.next(),this.finishNode(n,"ExistentialTypeParam");default:if("typeof"===this.state.type.keyword)return this.flowParseTypeofType()}this.unexpected()},ae.flowParsePostfixType=function(){for(var e=this.state.start,t=this.state.startLoc,n=this.flowParsePrimaryType();!this.canInsertSemicolon()&&this.match(A.bracketL);){var i=this.startNodeAt(e,t);i.elementType=n,this.expect(A.bracketL),this.expect(A.bracketR),n=this.finishNode(i,"ArrayTypeAnnotation")}return n},ae.flowParsePrefixType=function(){var e=this.startNode();return this.eat(A.question)?(e.typeAnnotation=this.flowParsePrefixType(),this.finishNode(e,"NullableTypeAnnotation")):this.flowParsePostfixType()},ae.flowParseAnonFunctionWithoutParens=function(){var e=this.flowParsePrefixType();if(!this.state.noAnonFunctionType&&this.eat(A.arrow)){var t=this.startNodeAt(e.start,e.loc.start);return t.params=[this.reinterpretTypeAsFunctionTypeParam(e)],t.rest=null,t.returnType=this.flowParseType(),t.typeParameters=null,this.finishNode(t,"FunctionTypeAnnotation")}return e},ae.flowParseIntersectionType=function(){var e=this.startNode();this.eat(A.bitwiseAND);var t=this.flowParseAnonFunctionWithoutParens();for(e.types=[t];this.eat(A.bitwiseAND);)e.types.push(this.flowParseAnonFunctionWithoutParens());return 1===e.types.length?t:this.finishNode(e,"IntersectionTypeAnnotation")},ae.flowParseUnionType=function(){var e=this.startNode();this.eat(A.bitwiseOR);var t=this.flowParseIntersectionType();for(e.types=[t];this.eat(A.bitwiseOR);)e.types.push(this.flowParseIntersectionType());return 1===e.types.length?t:this.finishNode(e,"UnionTypeAnnotation")},ae.flowParseType=function(){var e=this.state.inType;this.state.inType=!0;var t=this.flowParseUnionType();return this.state.inType=e,t},ae.flowParseTypeAnnotation=function(){var e=this.startNode();return e.typeAnnotation=this.flowParseTypeInitialiser(),this.finishNode(e,"TypeAnnotation")},ae.flowParseTypeAndPredicateAnnotation=function(){var e=this.startNode(),t=this.flowParseTypeAndPredicateInitialiser();return e.typeAnnotation=t[0],e.predicate=t[1],this.finishNode(e,"TypeAnnotation")},ae.flowParseTypeAnnotatableIdentifier=function(){var e=this.flowParseRestrictedIdentifier();return this.match(A.colon)&&(e.typeAnnotation=this.flowParseTypeAnnotation(),this.finishNode(e,e.type)),e},ae.typeCastToParameter=function(e){return e.expression.typeAnnotation=e.typeAnnotation,this.finishNodeAt(e.expression,e.expression.type,e.typeAnnotation.end,e.typeAnnotation.loc.end)},ae.flowParseVariance=function(){var e=null;return this.match(A.plusMin)&&("+"===this.state.value?e="plus":"-"===this.state.value&&(e="minus"),this.next()),e};var se=String.fromCodePoint;
/*! https://mths.be/fromcodepoint v0.2.1 by @mathias */if(!se){var ue=String.fromCharCode,le=Math.floor;se=function(){var e=16384,t=[],n=void 0,i=void 0,r=-1,o=arguments.length;if(!o)return"";for(var a="";++r<o;){var s=Number(arguments[r]);if(!isFinite(s)||s<0||s>1114111||le(s)!=s)throw RangeError("Invalid code point: "+s);s<=65535?t.push(s):(n=55296+((s-=65536)>>10),i=s%1024+56320,t.push(n,i)),(r+1==o||t.length>e)&&(a+=ue.apply(null,t),t.length=0)}return a}}var ce=se,de={quot:'"',amp:"&",apos:"'",lt:"<",gt:">",nbsp:"",iexcl:"",cent:"",pound:"",curren:"",yen:"",brvbar:"",sect:"",uml:"",copy:"",ordf:"",laquo:"",not:"",shy:"",reg:"",macr:"",deg:"",plusmn:"",sup2:"",sup3:"",acute:"",micro:"",para:"",middot:"",cedil:"",sup1:"",ordm:"",raquo:"",frac14:"",frac12:"",frac34:"",iquest:"",Agrave:"",Aacute:"",Acirc:"",Atilde:"",Auml:"",Aring:"",AElig:"",Ccedil:"",Egrave:"",Eacute:"",Ecirc:"",Euml:"",Igrave:"",Iacute:"",Icirc:"",Iuml:"",ETH:"",Ntilde:"",Ograve:"",Oacute:"",Ocirc:"",Otilde:"",Ouml:"",times:"",Oslash:"",Ugrave:"",Uacute:"",Ucirc:"",Uuml:"",Yacute:"",THORN:"",szlig:"",agrave:"",aacute:"",acirc:"",atilde:"",auml:"",aring:"",aelig:"",ccedil:"",egrave:"",eacute:"",ecirc:"",euml:"",igrave:"",iacute:"",icirc:"",iuml:"",eth:"",ntilde:"",ograve:"",oacute:"",ocirc:"",otilde:"",ouml:"",divide:"",oslash:"",ugrave:"",uacute:"",ucirc:"",uuml:"",yacute:"",thorn:"",yuml:"",OElig:"",oelig:"",Scaron:"",scaron:"",Yuml:"",fnof:"",circ:"",tilde:"",Alpha:"",Beta:"",Gamma:"",Delta:"",Epsilon:"",Zeta:"",Eta:"",Theta:"",Iota:"",Kappa:"",Lambda:"",Mu:"",Nu:"",Xi:"",Omicron:"",Pi:"",Rho:"",Sigma:"",Tau:"",Upsilon:"",Phi:"",Chi:"",Psi:"",Omega:"",alpha:"",beta:"",gamma:"",delta:"",epsilon:"",zeta:"",eta:"",theta:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",xi:"",omicron:"",pi:"",rho:"",sigmaf:"",sigma:"",tau:"",upsilon:"",phi:"",chi:"",psi:"",omega:"",thetasym:"",upsih:"",piv:"",ensp:"",emsp:"",thinsp:"",zwnj:"",zwj:"",lrm:"",rlm:"",ndash:"",mdash:"",lsquo:"",rsquo:"",sbquo:"",ldquo:"",rdquo:"",bdquo:"",dagger:"",Dagger:"",bull:"",hellip:"",permil:"",prime:"",Prime:"",lsaquo:"",rsaquo:"",oline:"",frasl:"",euro:"",image:"",weierp:"",real:"",trade:"",alefsym:"",larr:"",uarr:"",rarr:"",darr:"",harr:"",crarr:"",lArr:"",uArr:"",rArr:"",dArr:"",hArr:"",forall:"",part:"",exist:"",empty:"",nabla:"",isin:"",notin:"",ni:"",prod:"",sum:"",minus:"",lowast:"",radic:"",prop:"",infin:"",ang:"",and:"",or:"",cap:"",cup:"",int:"",there4:"",sim:"",cong:"",asymp:"",ne:"",equiv:"",le:"",ge:"",sub:"",sup:"",nsub:"",sube:"",supe:"",oplus:"",otimes:"",perp:"",sdot:"",lceil:"",rceil:"",lfloor:"",rfloor:"",lang:"",rang:"",loz:"",spades:"",clubs:"",hearts:"",diams:""},pe=/^[\da-fA-F]+$/,he=/^\d+$/;R.j_oTag=new N("<tag",!1),R.j_cTag=new N("</tag",!1),R.j_expr=new N("<tag>...</tag>",!0,!0),A.jsxName=new T("jsxName"),A.jsxText=new T("jsxText",{beforeExpr:!0}),A.jsxTagStart=new T("jsxTagStart",{startsExpr:!0}),A.jsxTagEnd=new T("jsxTagEnd"),A.jsxTagStart.updateContext=function(){this.state.context.push(R.j_expr),this.state.context.push(R.j_oTag),this.state.exprAllowed=!1},A.jsxTagEnd.updateContext=function(e){var t=this.state.context.pop();t===R.j_oTag&&e===A.slash||t===R.j_cTag?(this.state.context.pop(),this.state.exprAllowed=this.curContext()===R.j_expr):this.state.exprAllowed=!0};var fe=G.prototype;function me(e){return"JSXIdentifier"===e.type?e.name:"JSXNamespacedName"===e.type?e.namespace.name+":"+e.name.name:"JSXMemberExpression"===e.type?me(e.object)+"."+me(e.property):void 0}fe.jsxReadToken=function(){for(var e="",t=this.state.pos;;){this.state.pos>=this.input.length&&this.raise(this.state.start,"Unterminated JSX contents");var n=this.input.charCodeAt(this.state.pos);switch(n){case 60:case 123:return this.state.pos===this.state.start?60===n&&this.state.exprAllowed?(++this.state.pos,this.finishToken(A.jsxTagStart)):this.getTokenFromCode(n):(e+=this.input.slice(t,this.state.pos),this.finishToken(A.jsxText,e));case 38:e+=this.input.slice(t,this.state.pos),e+=this.jsxReadEntity(),t=this.state.pos;break;default:O(n)?(e+=this.input.slice(t,this.state.pos),e+=this.jsxReadNewLine(!0),t=this.state.pos):++this.state.pos}}},fe.jsxReadNewLine=function(e){var t=this.input.charCodeAt(this.state.pos),n=void 0;return++this.state.pos,13===t&&10===this.input.charCodeAt(this.state.pos)?(++this.state.pos,n=e?"\n":"\r\n"):n=String.fromCharCode(t),++this.state.curLine,this.state.lineStart=this.state.pos,n},fe.jsxReadString=function(e){for(var t="",n=++this.state.pos;;){this.state.pos>=this.input.length&&this.raise(this.state.start,"Unterminated string constant");var i=this.input.charCodeAt(this.state.pos);if(i===e)break;38===i?(t+=this.input.slice(n,this.state.pos),t+=this.jsxReadEntity(),n=this.state.pos):O(i)?(t+=this.input.slice(n,this.state.pos),t+=this.jsxReadNewLine(!1),n=this.state.pos):++this.state.pos}return t+=this.input.slice(n,this.state.pos++),this.finishToken(A.string,t)},fe.jsxReadEntity=function(){for(var e="",t=0,n=void 0,i=this.input[this.state.pos],r=++this.state.pos;this.state.pos<this.input.length&&t++<10;){if(";"===(i=this.input[this.state.pos++])){"#"===e[0]?"x"===e[1]?(e=e.substr(2),pe.test(e)&&(n=ce(parseInt(e,16)))):(e=e.substr(1),he.test(e)&&(n=ce(parseInt(e,10)))):n=de[e];break}e+=i}return n||(this.state.pos=r,"&")},fe.jsxReadWord=function(){var e=void 0,t=this.state.pos;do{e=this.input.charCodeAt(++this.state.pos)}while(f(e)||45===e);return this.finishToken(A.jsxName,this.input.slice(t,this.state.pos))},fe.jsxParseIdentifier=function(){var e=this.startNode();return this.match(A.jsxName)?e.name=this.state.value:this.state.type.keyword?e.name=this.state.type.keyword:this.unexpected(),this.next(),this.finishNode(e,"JSXIdentifier")},fe.jsxParseNamespacedName=function(){var e=this.state.start,t=this.state.startLoc,n=this.jsxParseIdentifier();if(!this.eat(A.colon))return n;var i=this.startNodeAt(e,t);return i.namespace=n,i.name=this.jsxParseIdentifier(),this.finishNode(i,"JSXNamespacedName")},fe.jsxParseElementName=function(){for(var e=this.state.start,t=this.state.startLoc,n=this.jsxParseNamespacedName();this.eat(A.dot);){var i=this.startNodeAt(e,t);i.object=n,i.property=this.jsxParseIdentifier(),n=this.finishNode(i,"JSXMemberExpression")}return n},fe.jsxParseAttributeValue=function(){var e=void 0;switch(this.state.type){case A.braceL:if("JSXEmptyExpression"!==(e=this.jsxParseExpressionContainer()).expression.type)return e;this.raise(e.start,"JSX attributes must only be assigned a non-empty expression");case A.jsxTagStart:case A.string:return(e=this.parseExprAtom()).extra=null,e;default:this.raise(this.state.start,"JSX value should be either an expression or a quoted JSX text")}},fe.jsxParseEmptyExpression=function(){var e=this.startNodeAt(this.state.lastTokEnd,this.state.lastTokEndLoc);return this.finishNodeAt(e,"JSXEmptyExpression",this.state.start,this.state.startLoc)},fe.jsxParseSpreadChild=function(){var e=this.startNode();return this.expect(A.braceL),this.expect(A.ellipsis),e.expression=this.parseExpression(),this.expect(A.braceR),this.finishNode(e,"JSXSpreadChild")},fe.jsxParseExpressionContainer=function(){var e=this.startNode();return this.next(),this.match(A.braceR)?e.expression=this.jsxParseEmptyExpression():e.expression=this.parseExpression(),this.expect(A.braceR),this.finishNode(e,"JSXExpressionContainer")},fe.jsxParseAttribute=function(){var e=this.startNode();return this.eat(A.braceL)?(this.expect(A.ellipsis),e.argument=this.parseMaybeAssign(),this.expect(A.braceR),this.finishNode(e,"JSXSpreadAttribute")):(e.name=this.jsxParseNamespacedName(),e.value=this.eat(A.eq)?this.jsxParseAttributeValue():null,this.finishNode(e,"JSXAttribute"))},fe.jsxParseOpeningElementAt=function(e,t){var n=this.startNodeAt(e,t);for(n.attributes=[],n.name=this.jsxParseElementName();!this.match(A.slash)&&!this.match(A.jsxTagEnd);)n.attributes.push(this.jsxParseAttribute());return n.selfClosing=this.eat(A.slash),this.expect(A.jsxTagEnd),this.finishNode(n,"JSXOpeningElement")},fe.jsxParseClosingElementAt=function(e,t){var n=this.startNodeAt(e,t);return n.name=this.jsxParseElementName(),this.expect(A.jsxTagEnd),this.finishNode(n,"JSXClosingElement")},fe.jsxParseElementAt=function(e,t){var n=this.startNodeAt(e,t),i=[],r=this.jsxParseOpeningElementAt(e,t),o=null;if(!r.selfClosing){e:for(;;)switch(this.state.type){case A.jsxTagStart:if(e=this.state.start,t=this.state.startLoc,this.next(),this.eat(A.slash)){o=this.jsxParseClosingElementAt(e,t);break e}i.push(this.jsxParseElementAt(e,t));break;case A.jsxText:i.push(this.parseExprAtom());break;case A.braceL:this.lookahead().type===A.ellipsis?i.push(this.jsxParseSpreadChild()):i.push(this.jsxParseExpressionContainer());break;default:this.unexpected()}me(o.name)!==me(r.name)&&this.raise(o.start,"Expected corresponding JSX closing tag for <"+me(r.name)+">")}return n.openingElement=r,n.closingElement=o,n.children=i,this.match(A.relational)&&"<"===this.state.value&&this.raise(this.state.start,"Adjacent JSX elements must be wrapped in an enclosing tag"),this.finishNode(n,"JSXElement")},fe.jsxParseElement=function(){var e=this.state.start,t=this.state.startLoc;return this.next(),this.jsxParseElementAt(e,t)};H.estree=function(e){e.extend("checkDeclaration",(function(e){return function(t){re(t)?this.checkDeclaration(t.value):e.call(this,t)}})),e.extend("checkGetterSetterParamCount",(function(){return function(e){var t="get"===e.kind?0:1;if(e.value.params.length!==t){var n=e.start;"get"===e.kind?this.raise(n,"getter should have no params"):this.raise(n,"setter should have exactly one param")}}})),e.extend("checkLVal",(function(e){return function(t,n,i){var r=this;if("ObjectPattern"===t.type)t.properties.forEach((function(e){r.checkLVal("Property"===e.type?e.value:e,n,i,"object destructuring pattern")}));else{for(var o=arguments.length,a=Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];e.call.apply(e,[this,t,n,i].concat(a))}}})),e.extend("checkPropClash",(function(){return function(e,t){if(!e.computed&&re(e)){var n=e.key;"__proto__"===("Identifier"===n.type?n.name:String(n.value))&&(t.proto&&this.raise(n.start,"Redefinition of __proto__ property"),t.proto=!0)}}})),e.extend("isStrictBody",(function(){return function(e,t){if(!t&&e.body.body.length>0){var n=e.body.body,i=Array.isArray(n),r=0;for(n=i?n:n[Symbol.iterator]();;){var o;if(i){if(r>=n.length)break;o=n[r++]}else{if((r=n.next()).done)break;o=r.value}var a=o;if("ExpressionStatement"!==a.type||"Literal"!==a.expression.type)break;if("use strict"===a.expression.value)return!0}}return!1}})),e.extend("isValidDirective",(function(){return function(e){return!("ExpressionStatement"!==e.type||"Literal"!==e.expression.type||"string"!=typeof e.expression.value||e.expression.extra&&e.expression.extra.parenthesized)}})),e.extend("stmtToDirective",(function(e){return function(t){var n=e.call(this,t),i=t.expression.value;return n.value.value=i,n}})),e.extend("parseBlockBody",(function(e){return function(t){for(var n=this,i=arguments.length,r=Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];e.call.apply(e,[this,t].concat(r)),t.directives.reverse().forEach((function(e){t.body.unshift(n.directiveToStmt(e))})),delete t.directives}})),e.extend("parseClassMethod",(function(){return function(e,t,n,i){this.parseMethod(t,n,i),t.typeParameters&&(t.value.typeParameters=t.typeParameters,delete t.typeParameters),e.body.push(this.finishNode(t,"MethodDefinition"))}})),e.extend("parseExprAtom",(function(e){return function(){switch(this.state.type){case A.regexp:return this.estreeParseRegExpLiteral(this.state.value);case A.num:case A.string:return this.estreeParseLiteral(this.state.value);case A._null:return this.estreeParseLiteral(null);case A._true:return this.estreeParseLiteral(!0);case A._false:return this.estreeParseLiteral(!1);default:for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.call.apply(e,[this].concat(n))}}})),e.extend("parseLiteral",(function(e){return function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];var r=e.call.apply(e,[this].concat(n));return r.raw=r.extra.raw,delete r.extra,r}})),e.extend("parseMethod",(function(e){return function(t){var n=this.startNode();n.kind=t.kind;for(var i=arguments.length,r=Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];return delete(n=e.call.apply(e,[this,n].concat(r))).kind,t.value=this.finishNode(n,"FunctionExpression"),t}})),e.extend("parseObjectMethod",(function(e){return function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];var r=e.call.apply(e,[this].concat(n));return r&&("method"===r.kind&&(r.kind="init"),r.type="Property"),r}})),e.extend("parseObjectProperty",(function(e){return function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];var r=e.call.apply(e,[this].concat(n));return r&&(r.kind="init",r.type="Property"),r}})),e.extend("toAssignable",(function(e){return function(t,n){for(var i=arguments.length,r=Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];if(re(t))return this.toAssignable.apply(this,[t.value,n].concat(r)),t;if("ObjectExpression"===t.type){t.type="ObjectPattern";var a=t.properties,s=Array.isArray(a),u=0;for(a=s?a:a[Symbol.iterator]();;){var l;if(s){if(u>=a.length)break;l=a[u++]}else{if((u=a.next()).done)break;l=u.value}var c=l;"get"===c.kind||"set"===c.kind?this.raise(c.key.start,"Object pattern can't contain getter or setter"):c.method?this.raise(c.key.start,"Object pattern can't contain methods"):this.toAssignable(c,n,"object destructuring pattern")}return t}return e.call.apply(e,[this,t,n].concat(r))}}))},H.flow=function(e){e.extend("parseFunctionBody",(function(e){return function(t,n){return this.match(A.colon)&&!n&&(t.returnType=this.flowParseTypeAndPredicateAnnotation()),e.call(this,t,n)}})),e.extend("parseStatement",(function(e){return function(t,n){if(this.state.strict&&this.match(A.name)&&"interface"===this.state.value){var i=this.startNode();return this.next(),this.flowParseInterface(i)}return e.call(this,t,n)}})),e.extend("parseExpressionStatement",(function(e){return function(t,n){if("Identifier"===n.type)if("declare"===n.name){if(this.match(A._class)||this.match(A.name)||this.match(A._function)||this.match(A._var)||this.match(A._export))return this.flowParseDeclare(t)}else if(this.match(A.name)){if("interface"===n.name)return this.flowParseInterface(t);if("type"===n.name)return this.flowParseTypeAlias(t);if("opaque"===n.name)return this.flowParseOpaqueType(t,!1)}return e.call(this,t,n)}})),e.extend("shouldParseExportDeclaration",(function(e){return function(){return this.isContextual("type")||this.isContextual("interface")||this.isContextual("opaque")||e.call(this)}})),e.extend("isExportDefaultSpecifier",(function(e){return function(){return(!this.match(A.name)||"type"!==this.state.value&&"interface"!==this.state.value&&"opaque"!==this.state.value)&&e.call(this)}})),e.extend("parseConditional",(function(e){return function(t,n,i,r,o){if(o&&this.match(A.question)){var a=this.state.clone();try{return e.call(this,t,n,i,r)}catch(e){if(e instanceof SyntaxError)return this.state=a,o.start=e.pos||this.state.start,t;throw e}}return e.call(this,t,n,i,r)}})),e.extend("parseParenItem",(function(e){return function(t,n,i){if(t=e.call(this,t,n,i),this.eat(A.question)&&(t.optional=!0),this.match(A.colon)){var r=this.startNodeAt(n,i);return r.expression=t,r.typeAnnotation=this.flowParseTypeAnnotation(),this.finishNode(r,"TypeCastExpression")}return t}})),e.extend("parseExport",(function(e){return function(t){return"ExportNamedDeclaration"===(t=e.call(this,t)).type&&(t.exportKind=t.exportKind||"value"),t}})),e.extend("parseExportDeclaration",(function(e){return function(t){if(this.isContextual("type")){t.exportKind="type";var n=this.startNode();return this.next(),this.match(A.braceL)?(t.specifiers=this.parseExportSpecifiers(),this.parseExportFrom(t),null):this.flowParseTypeAlias(n)}if(this.isContextual("opaque")){t.exportKind="type";var i=this.startNode();return this.next(),this.flowParseOpaqueType(i,!1)}if(this.isContextual("interface")){t.exportKind="type";var r=this.startNode();return this.next(),this.flowParseInterface(r)}return e.call(this,t)}})),e.extend("parseClassId",(function(e){return function(t){e.apply(this,arguments),this.isRelational("<")&&(t.typeParameters=this.flowParseTypeParameterDeclaration())}})),e.extend("isKeyword",(function(e){return function(t){return(!this.state.inType||"void"!==t)&&e.call(this,t)}})),e.extend("readToken",(function(e){return function(t){return!this.state.inType||62!==t&&60!==t?e.call(this,t):this.finishOp(A.relational,1)}})),e.extend("jsx_readToken",(function(e){return function(){if(!this.state.inType)return e.call(this)}})),e.extend("toAssignable",(function(e){return function(t,n,i){return"TypeCastExpression"===t.type?e.call(this,this.typeCastToParameter(t),n,i):e.call(this,t,n,i)}})),e.extend("toAssignableList",(function(e){return function(t,n,i){for(var r=0;r<t.length;r++){var o=t[r];o&&"TypeCastExpression"===o.type&&(t[r]=this.typeCastToParameter(o))}return e.call(this,t,n,i)}})),e.extend("toReferencedList",(function(){return function(e){for(var t=0;t<e.length;t++){var n=e[t];n&&n._exprListItem&&"TypeCastExpression"===n.type&&this.raise(n.start,"Unexpected type cast")}return e}})),e.extend("parseExprListItem",(function(e){return function(){for(var t=this.startNode(),n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=e.call.apply(e,[this].concat(i));return this.match(A.colon)?(t._exprListItem=!0,t.expression=o,t.typeAnnotation=this.flowParseTypeAnnotation(),this.finishNode(t,"TypeCastExpression")):o}})),e.extend("checkLVal",(function(e){return function(t){if("TypeCastExpression"!==t.type)return e.apply(this,arguments)}})),e.extend("parseClassProperty",(function(e){return function(t){return delete t.variancePos,this.match(A.colon)&&(t.typeAnnotation=this.flowParseTypeAnnotation()),e.call(this,t)}})),e.extend("isClassMethod",(function(e){return function(){return this.isRelational("<")||e.call(this)}})),e.extend("isClassProperty",(function(e){return function(){return this.match(A.colon)||e.call(this)}})),e.extend("isNonstaticConstructor",(function(e){return function(t){return!this.match(A.colon)&&e.call(this,t)}})),e.extend("parseClassMethod",(function(e){return function(t,n){n.variance&&this.unexpected(n.variancePos),delete n.variance,delete n.variancePos,this.isRelational("<")&&(n.typeParameters=this.flowParseTypeParameterDeclaration());for(var i=arguments.length,r=Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];e.call.apply(e,[this,t,n].concat(r))}})),e.extend("parseClassSuper",(function(e){return function(t,n){if(e.call(this,t,n),t.superClass&&this.isRelational("<")&&(t.superTypeParameters=this.flowParseTypeParameterInstantiation()),this.isContextual("implements")){this.next();var i=t.implements=[];do{var r=this.startNode();r.id=this.parseIdentifier(),this.isRelational("<")?r.typeParameters=this.flowParseTypeParameterInstantiation():r.typeParameters=null,i.push(this.finishNode(r,"ClassImplements"))}while(this.eat(A.comma))}}})),e.extend("parsePropertyName",(function(e){return function(t){var n=this.state.start,i=this.flowParseVariance(),r=e.call(this,t);return t.variance=i,t.variancePos=n,r}})),e.extend("parseObjPropValue",(function(e){return function(t){t.variance&&this.unexpected(t.variancePos),delete t.variance,delete t.variancePos;var n=void 0;this.isRelational("<")&&(n=this.flowParseTypeParameterDeclaration(),this.match(A.parenL)||this.unexpected()),e.apply(this,arguments),n&&((t.value||t).typeParameters=n)}})),e.extend("parseAssignableListItemTypes",(function(){return function(e){return this.eat(A.question)&&(e.optional=!0),this.match(A.colon)&&(e.typeAnnotation=this.flowParseTypeAnnotation()),this.finishNode(e,e.type),e}})),e.extend("parseMaybeDefault",(function(e){return function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];var r=e.apply(this,n);return"AssignmentPattern"===r.type&&r.typeAnnotation&&r.right.start<r.typeAnnotation.start&&this.raise(r.typeAnnotation.start,"Type annotations must come before default assignments, e.g. instead of `age = 25: number` use `age: number = 25`"),r}})),e.extend("parseImportSpecifiers",(function(e){return function(t){t.importKind="value";var n=null;if(this.match(A._typeof)?n="typeof":this.isContextual("type")&&(n="type"),n){var i=this.lookahead();(i.type===A.name&&"from"!==i.value||i.type===A.braceL||i.type===A.star)&&(this.next(),t.importKind=n)}e.call(this,t)}})),e.extend("parseImportSpecifier",(function(){return function(e){var t=this.startNode(),n=this.state.start,i=this.parseIdentifier(!0),r=null;"type"===i.name?r="type":"typeof"===i.name&&(r="typeof");var o=!1;if(this.isContextual("as")){var a=this.parseIdentifier(!0);null===r||this.match(A.name)||this.state.type.keyword?(t.imported=i,t.importKind=null,t.local=this.parseIdentifier()):(t.imported=a,t.importKind=r,t.local=a.__clone())}else null!==r&&(this.match(A.name)||this.state.type.keyword)?(t.imported=this.parseIdentifier(!0),t.importKind=r,this.eatContextual("as")?t.local=this.parseIdentifier():(o=!0,t.local=t.imported.__clone())):(o=!0,t.imported=i,t.importKind=null,t.local=t.imported.__clone());"type"!==e.importKind&&"typeof"!==e.importKind||"type"!==t.importKind&&"typeof"!==t.importKind||this.raise(n,"`The `type` and `typeof` keywords on named imports can only be used on regular `import` statements. It cannot be used with `import type` or `import typeof` statements`"),o&&this.checkReservedWord(t.local.name,t.start,!0,!0),this.checkLVal(t.local,!0,void 0,"import specifier"),e.specifiers.push(this.finishNode(t,"ImportSpecifier"))}})),e.extend("parseFunctionParams",(function(e){return function(t){this.isRelational("<")&&(t.typeParameters=this.flowParseTypeParameterDeclaration()),e.call(this,t)}})),e.extend("parseVarHead",(function(e){return function(t){e.call(this,t),this.match(A.colon)&&(t.id.typeAnnotation=this.flowParseTypeAnnotation(),this.finishNode(t.id,t.id.type))}})),e.extend("parseAsyncArrowFromCallExpression",(function(e){return function(t,n){if(this.match(A.colon)){var i=this.state.noAnonFunctionType;this.state.noAnonFunctionType=!0,t.returnType=this.flowParseTypeAnnotation(),this.state.noAnonFunctionType=i}return e.call(this,t,n)}})),e.extend("shouldParseAsyncArrow",(function(e){return function(){return this.match(A.colon)||e.call(this)}})),e.extend("parseMaybeAssign",(function(e){return function(){for(var t=null,n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];if(A.jsxTagStart&&this.match(A.jsxTagStart)){var o=this.state.clone();try{return e.apply(this,i)}catch(e){if(!(e instanceof SyntaxError))throw e;this.state=o,this.state.context.length-=2,t=e}}if(null!=t||this.isRelational("<")){var a=void 0,s=void 0;try{s=this.flowParseTypeParameterDeclaration(),(a=e.apply(this,i)).typeParameters=s,a.start=s.start,a.loc.start=s.loc.start}catch(e){throw t||e}if("ArrowFunctionExpression"===a.type)return a;if(null!=t)throw t;this.raise(s.start,"Expected an arrow function after this type parameter declaration")}return e.apply(this,i)}})),e.extend("parseArrow",(function(e){return function(t){if(this.match(A.colon)){var n=this.state.clone();try{var i=this.state.noAnonFunctionType;this.state.noAnonFunctionType=!0;var r=this.flowParseTypeAndPredicateAnnotation();this.state.noAnonFunctionType=i,this.canInsertSemicolon()&&this.unexpected(),this.match(A.arrow)||this.unexpected(),t.returnType=r}catch(e){if(!(e instanceof SyntaxError))throw e;this.state=n}}return e.call(this,t)}})),e.extend("shouldParseArrow",(function(e){return function(){return this.match(A.colon)||e.call(this)}}))},H.jsx=function(e){e.extend("parseExprAtom",(function(e){return function(t){if(this.match(A.jsxText)){var n=this.parseLiteral(this.state.value,"JSXText");return n.extra=null,n}return this.match(A.jsxTagStart)?this.jsxParseElement():e.call(this,t)}})),e.extend("readToken",(function(e){return function(t){if(this.state.inPropertyName)return e.call(this,t);var n=this.curContext();if(n===R.j_expr)return this.jsxReadToken();if(n===R.j_oTag||n===R.j_cTag){if(h(t))return this.jsxReadWord();if(62===t)return++this.state.pos,this.finishToken(A.jsxTagEnd);if((34===t||39===t)&&n===R.j_oTag)return this.jsxReadString(t)}return 60===t&&this.state.exprAllowed?(++this.state.pos,this.finishToken(A.jsxTagStart)):e.call(this,t)}})),e.extend("updateContext",(function(e){return function(t){if(this.match(A.braceL)){var n=this.curContext();n===R.j_oTag?this.state.context.push(R.braceExpression):n===R.j_expr?this.state.context.push(R.templateQuasi):e.call(this,t),this.state.exprAllowed=!0}else{if(!this.match(A.slash)||t!==A.jsxTagStart)return e.call(this,t);this.state.context.length-=2,this.state.context.push(R.j_cTag),this.state.exprAllowed=!1}}}))},n.parse=function(e,t){return new G(t,e).parse()},n.parseExpression=function(e,t){var n=new G(t,e);return n.options.strictMode&&(n.state.strict=!0),n.getExpression()},n.tokTypes=A},{}],278:[function(e,t,n){function i(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}t.exports=i,i.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},i.prototype.reset=function(){this.attempts=0},i.prototype.setMin=function(e){this.ms=e},i.prototype.setMax=function(e){this.max=e},i.prototype.setJitter=function(e){this.jitter=e}},{}],279:[function(e,t,n){!function(){"use strict";for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=new Uint8Array(256),i=0;i<e.length;i++)t[e.charCodeAt(i)]=i;n.encode=function(t){var n,i=new Uint8Array(t),r=i.length,o="";for(n=0;n<r;n+=3)o+=e[i[n]>>2],o+=e[(3&i[n])<<4|i[n+1]>>4],o+=e[(15&i[n+1])<<2|i[n+2]>>6],o+=e[63&i[n+2]];return r%3==2?o=o.substring(0,o.length-1)+"=":r%3==1&&(o=o.substring(0,o.length-2)+"=="),o},n.decode=function(e){var n,i,r,o,a,s=.75*e.length,u=e.length,l=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var c=new ArrayBuffer(s),d=new Uint8Array(c);for(n=0;n<u;n+=4)i=t[e.charCodeAt(n)],r=t[e.charCodeAt(n+1)],o=t[e.charCodeAt(n+2)],a=t[e.charCodeAt(n+3)],d[l++]=i<<2|r>>4,d[l++]=(15&r)<<4|o>>2,d[l++]=(3&o)<<6|63&a;return c}}()},{}],280:[function(e,t,n){!function(e){"use strict";var t="undefined"!=typeof Uint8Array?Uint8Array:Array,n="+".charCodeAt(0),i="/".charCodeAt(0),r="0".charCodeAt(0),o="a".charCodeAt(0),a="A".charCodeAt(0),s="-".charCodeAt(0),u="_".charCodeAt(0);function l(e){var t=e.charCodeAt(0);return t===n||t===s?62:t===i||t===u?63:t<r?-1:t<r+10?t-r+26+26:t<a+26?t-a:t<o+26?t-o+26:void 0}e.toByteArray=function(e){var n,i,r,o,a,s;if(e.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var u=e.length;a="="===e.charAt(u-2)?2:"="===e.charAt(u-1)?1:0,s=new t(3*e.length/4-a),r=a>0?e.length-4:e.length;var c=0;function d(e){s[c++]=e}for(n=0,i=0;n<r;n+=4,i+=3)d((16711680&(o=l(e.charAt(n))<<18|l(e.charAt(n+1))<<12|l(e.charAt(n+2))<<6|l(e.charAt(n+3))))>>16),d((65280&o)>>8),d(255&o);return 2===a?d(255&(o=l(e.charAt(n))<<2|l(e.charAt(n+1))>>4)):1===a&&(d((o=l(e.charAt(n))<<10|l(e.charAt(n+1))<<4|l(e.charAt(n+2))>>2)>>8&255),d(255&o)),s},e.fromByteArray=function(e){var t,n,i,r,o=e.length%3,a="";function s(e){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e)}for(t=0,i=e.length-o;t<i;t+=3)n=(e[t]<<16)+(e[t+1]<<8)+e[t+2],a+=s((r=n)>>18&63)+s(r>>12&63)+s(r>>6&63)+s(63&r);switch(o){case 1:a+=s((n=e[e.length-1])>>2),a+=s(n<<4&63),a+="==";break;case 2:a+=s((n=(e[e.length-2]<<8)+e[e.length-1])>>10),a+=s(n>>4&63),a+=s(n<<2&63),a+="="}return a}}(void 0===n?this.base64js={}:n)},{}],281:[function(e,t,n){(function(e){var n=e.BlobBuilder||e.WebKitBlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder,i=function(){try{return 2===new Blob(["hi"]).size}catch(e){return!1}}(),r=i&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}(),o=n&&n.prototype.append&&n.prototype.getBlob;function a(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.buffer instanceof ArrayBuffer){var i=n.buffer;if(n.byteLength!==i.byteLength){var r=new Uint8Array(n.byteLength);r.set(new Uint8Array(i,n.byteOffset,n.byteLength)),i=r.buffer}e[t]=i}}}function s(e,t){t=t||{};var i=new n;a(e);for(var r=0;r<e.length;r++)i.append(e[r]);return t.type?i.getBlob(t.type):i.getBlob()}function u(e,t){return a(e),new Blob(e,t||{})}t.exports=i?r?e.Blob:u:o?s:void 0}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],282:[function(e,t,n){},{}],283:[function(e,t,n){
/*!
 * Cross-Browser Split 1.1.1
 * Copyright 2007-2012 Steven Levithan <stevenlevithan.com>
 * Available under the MIT License
 * ECMAScript compliant, uniform cross-browser split method
 */
t.exports=function(e){var t,n=String.prototype.split,i=/()??/.exec("")[1]===e;return t=function(t,r,o){if("[object RegExp]"!==Object.prototype.toString.call(r))return n.call(t,r,o);var a,s,u,l,c=[],d=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.extended?"x":"")+(r.sticky?"y":""),p=0;r=new RegExp(r.source,d+"g");for(t+="",i||(a=new RegExp("^"+r.source+"$(?!\\s)",d)),o=o===e?-1>>>0:o>>>0;(s=r.exec(t))&&!((u=s.index+s[0].length)>p&&(c.push(t.slice(p,s.index)),!i&&s.length>1&&s[0].replace(a,(function(){for(var t=1;t<arguments.length-2;t++)arguments[t]===e&&(s[t]=e)})),s.length>1&&s.index<t.length&&Array.prototype.push.apply(c,s.slice(1)),l=s[0].length,p=u,c.length>=o));)r.lastIndex===s.index&&r.lastIndex++;return p===t.length?!l&&r.test("")||c.push(""):c.push(t.slice(p)),c.length>o?c.slice(0,o):c},t}()},{}],284:[function(e,t,n){arguments[4][282][0].apply(n,arguments)},{dup:282}],285:[function(e,t,n){(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
"use strict";var i=e("base64-js"),r=e("ieee754"),o=e("isarray");n.Buffer=u,n.SlowBuffer=function e(t,n){if(!(this instanceof e))return new e(t,n);var i=new u(t,n);return delete i.parent,i},n.INSPECT_MAX_BYTES=50,u.poolSize=8192;var a={};function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(e){return this instanceof u?(u.TYPED_ARRAY_SUPPORT||(this.length=0,this.parent=void 0),"number"==typeof e?l(this,e):"string"==typeof e?c(this,e,arguments.length>1?arguments[1]:"utf8"):d(this,e)):arguments.length>1?new u(e,arguments[1]):new u(e)}function l(e,t){if(e=h(e,t<0?0:0|f(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;n++)e[n]=0;return e}function c(e,t,n){return"string"==typeof n&&""!==n||(n="utf8"),(e=h(e,0|m(t,n))).write(t,n),e}function d(e,t){if(u.isBuffer(t))return function(e,t){var n=0|f(t.length);return e=h(e,n),t.copy(e,0,0,n),e}(e,t);if(o(t))return function(e,t){var n=0|f(t.length);e=h(e,n);for(var i=0;i<n;i+=1)e[i]=255&t[i];return e}(e,t);if(null==t)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(t.buffer instanceof ArrayBuffer)return p(e,t);if(t instanceof ArrayBuffer)return function(e,t){u.TYPED_ARRAY_SUPPORT?(t.byteLength,e=u._augment(new Uint8Array(t))):e=p(e,new Uint8Array(t));return e}(e,t)}return t.length?function(e,t){var n=0|f(t.length);e=h(e,n);for(var i=0;i<n;i+=1)e[i]=255&t[i];return e}(e,t):function(e,t){var n,i=0;"Buffer"===t.type&&o(t.data)&&(i=0|f((n=t.data).length));e=h(e,i);for(var r=0;r<i;r+=1)e[r]=255&n[r];return e}(e,t)}function p(e,t){var n=0|f(t.length);e=h(e,n);for(var i=0;i<n;i+=1)e[i]=255&t[i];return e}function h(e,t){return u.TYPED_ARRAY_SUPPORT?(e=u._augment(new Uint8Array(t))).__proto__=u.prototype:(e.length=t,e._isBuffer=!0),0!==t&&t<=u.poolSize>>>1&&(e.parent=a),e}function f(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function m(e,t){"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"binary":case"raw":case"raws":return n;case"utf8":case"utf-8":return U(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return H(e).length;default:if(i)return U(e).length;t=(""+t).toLowerCase(),i=!0}}function g(e,t,n){var i=!1;if(e||(e="utf8"),(t|=0)<0&&(t=0),(n=void 0===n||n===1/0?this.length:0|n)>this.length&&(n=this.length),n<=t)return"";for(;;)switch(e){case"hex":return k(this,t,n);case"utf8":case"utf-8":return T(this,t,n);case"ascii":return x(this,t,n);case"binary":return A(this,t,n);case"base64":return S(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function y(e,t,n,i){n=Number(n)||0;var r=e.length-n;i?(i=Number(i))>r&&(i=r):i=r;var o=t.length;if(o%2!=0)throw new Error("Invalid hex string");i>o/2&&(i=o/2);for(var a=0;a<i;a++){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))throw new Error("Invalid hex string");e[n+a]=s}return a}function v(e,t,n,i){return $(U(t,e.length-n),e,n,i)}function _(e,t,n,i){return $(function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t}(t),e,n,i)}function b(e,t,n,i){return _(e,t,n,i)}function w(e,t,n,i){return $(H(t),e,n,i)}function E(e,t,n,i){return $(function(e,t){for(var n,i,r,o=[],a=0;a<e.length&&!((t-=2)<0);a++)i=(n=e.charCodeAt(a))>>8,r=n%256,o.push(r),o.push(i);return o}(t,e.length-n),e,n,i)}function S(e,t,n){return 0===t&&n===e.length?i.fromByteArray(e):i.fromByteArray(e.slice(t,n))}function T(e,t,n){n=Math.min(e.length,n);for(var i=[],r=t;r<n;){var o,a,s,u,l=e[r],c=null,d=l>239?4:l>223?3:l>191?2:1;if(r+d<=n)switch(d){case 1:l<128&&(c=l);break;case 2:128==(192&(o=e[r+1]))&&(u=(31&l)<<6|63&o)>127&&(c=u);break;case 3:o=e[r+1],a=e[r+2],128==(192&o)&&128==(192&a)&&(u=(15&l)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:o=e[r+1],a=e[r+2],s=e[r+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(c=u)}null===c?(c=65533,d=1):c>65535&&(c-=65536,i.push(c>>>10&1023|55296),c=56320|1023&c),i.push(c),r+=d}return function(e){var t=e.length;if(t<=C)return String.fromCharCode.apply(String,e);var n="",i=0;for(;i<t;)n+=String.fromCharCode.apply(String,e.slice(i,i+=C));return n}(i)}u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){function e(){}try{var t=new Uint8Array(1);return t.foo=function(){return 42},t.constructor=e,42===t.foo()&&t.constructor===e&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}(),u.TYPED_ARRAY_SUPPORT?(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array):(u.prototype.length=void 0,u.prototype.parent=void 0),u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,i=t.length,r=0,o=Math.min(n,i);r<o&&e[r]===t[r];)++r;return r!==o&&(n=e[r],i=t[r]),n<i?-1:i<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError("list argument must be an Array of Buffers.");if(0===e.length)return new u(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;n++)t+=e[n].length;var i=new u(t),r=0;for(n=0;n<e.length;n++){var a=e[n];a.copy(i,r),r+=a.length}return i},u.byteLength=m,u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?T(this,0,e):g.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?0:u.compare(this,e)},u.prototype.indexOf=function(e,t){if(t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t>>=0,0===this.length)return-1;if(t>=this.length)return-1;if(t<0&&(t=Math.max(this.length+t,0)),"string"==typeof e)return 0===e.length?-1:String.prototype.indexOf.call(this,e,t);if(u.isBuffer(e))return n(this,e,t);if("number"==typeof e)return u.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,e,t):n(this,[e],t);function n(e,t,n){for(var i=-1,r=0;n+r<e.length;r++)if(e[n+r]===t[-1===i?0:r-i]){if(-1===i&&(i=r),r-i+1===t.length)return n+i}else i=-1;return-1}throw new TypeError("val must be string, number or Buffer")},u.prototype.get=function(e){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(e)},u.prototype.set=function(e,t){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(e,t)},u.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)i=t,n=this.length,t=0;else if(isFinite(t))t|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0);else{var r=i;i=t,t=0|n,n=r}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("attempt to write outside buffer bounds");i||(i="utf8");for(var a=!1;;)switch(i){case"hex":return y(this,e,t,n);case"utf8":case"utf-8":return v(this,e,t,n);case"ascii":return _(this,e,t,n);case"binary":return b(this,e,t,n);case"base64":return w(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),a=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var C=4096;function x(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;r++)i+=String.fromCharCode(127&e[r]);return i}function A(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;r++)i+=String.fromCharCode(e[r]);return i}function k(e,t,n){var i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var r="",o=t;o<n;o++)r+=B(e[o]);return r}function I(e,t,n){for(var i=e.slice(t,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function D(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function O(e,t,n,i,r,o){if(!u.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");if(t>r||t<o)throw new RangeError("value is out of bounds");if(n+i>e.length)throw new RangeError("index out of range")}function P(e,t,n,i){t<0&&(t=65535+t+1);for(var r=0,o=Math.min(e.length-n,2);r<o;r++)e[n+r]=(t&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function N(e,t,n,i){t<0&&(t=4294967295+t+1);for(var r=0,o=Math.min(e.length-n,4);r<o;r++)e[n+r]=t>>>8*(i?r:3-r)&255}function R(e,t,n,i,r,o){if(t>r||t<o)throw new RangeError("value is out of bounds");if(n+i>e.length)throw new RangeError("index out of range");if(n<0)throw new RangeError("index out of range")}function L(e,t,n,i,o){return o||R(e,t,n,4,34028234663852886e22,-34028234663852886e22),r.write(e,t,n,i,23,4),n+4}function M(e,t,n,i,o){return o||R(e,t,n,8,17976931348623157e292,-17976931348623157e292),r.write(e,t,n,i,52,8),n+8}u.prototype.slice=function(e,t){var n,i=this.length;if((e=~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),(t=void 0===t?i:~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)n=u._augment(this.subarray(e,t));else{var r=t-e;n=new u(r,void 0);for(var o=0;o<r;o++)n[o]=this[o+e]}return n.length&&(n.parent=this.parent||this),n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||D(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return i},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||D(e,t,this.length);for(var i=this[e+--t],r=1;t>0&&(r*=256);)i+=this[e+--t]*r;return i},u.prototype.readUInt8=function(e,t){return t||D(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||D(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||D(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||D(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||D(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||D(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*t)),i},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||D(e,t,this.length);for(var i=t,r=1,o=this[e+--i];i>0&&(r*=256);)o+=this[e+--i]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||D(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||D(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||D(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||D(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||D(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||D(e,4,this.length),r.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||D(e,4,this.length),r.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||D(e,8,this.length),r.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||D(e,8,this.length),r.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,i){e=+e,t|=0,n|=0,i||O(this,e,t,n,Math.pow(2,8*n),0);var r=1,o=0;for(this[t]=255&e;++o<n&&(r*=256);)this[t+o]=e/r&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,i){e=+e,t|=0,n|=0,i||O(this,e,t,n,Math.pow(2,8*n),0);var r=n-1,o=1;for(this[t+r]=255&e;--r>=0&&(o*=256);)this[t+r]=e/o&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):N(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);O(this,e,t,n,r-1,-r)}var o=0,a=1,s=e<0?1:0;for(this[t]=255&e;++o<n&&(a*=256);)this[t+o]=(e/a>>0)-s&255;return t+n},u.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);O(this,e,t,n,r-1,-r)}var o=n-1,a=1,s=e<0?1:0;for(this[t+o]=255&e;--o>=0&&(a*=256);)this[t+o]=(e/a>>0)-s&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):N(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return M(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return M(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,i){if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var r,o=i-n;if(this===e&&n<t&&t<i)for(r=o-1;r>=0;r--)e[r+t]=this[r+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(r=0;r<o;r++)e[r+t]=this[r+n];else e._set(this.subarray(n,n+o),t);return o},u.prototype.fill=function(e,t,n){if(e||(e=0),t||(t=0),n||(n=this.length),n<t)throw new RangeError("end < start");if(n!==t&&0!==this.length){if(t<0||t>=this.length)throw new RangeError("start out of bounds");if(n<0||n>this.length)throw new RangeError("end out of bounds");var i;if("number"==typeof e)for(i=t;i<n;i++)this[i]=e;else{var r=U(e.toString()),o=r.length;for(i=t;i<n;i++)this[i]=r[i%o]}return this}},u.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(u.TYPED_ARRAY_SUPPORT)return new u(this).buffer;for(var e=new Uint8Array(this.length),t=0,n=e.length;t<n;t+=1)e[t]=this[t];return e.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var F=u.prototype;u._augment=function(e){return e.constructor=u,e._isBuffer=!0,e._set=e.set,e.get=F.get,e.set=F.set,e.write=F.write,e.toString=F.toString,e.toLocaleString=F.toString,e.toJSON=F.toJSON,e.equals=F.equals,e.compare=F.compare,e.indexOf=F.indexOf,e.copy=F.copy,e.slice=F.slice,e.readUIntLE=F.readUIntLE,e.readUIntBE=F.readUIntBE,e.readUInt8=F.readUInt8,e.readUInt16LE=F.readUInt16LE,e.readUInt16BE=F.readUInt16BE,e.readUInt32LE=F.readUInt32LE,e.readUInt32BE=F.readUInt32BE,e.readIntLE=F.readIntLE,e.readIntBE=F.readIntBE,e.readInt8=F.readInt8,e.readInt16LE=F.readInt16LE,e.readInt16BE=F.readInt16BE,e.readInt32LE=F.readInt32LE,e.readInt32BE=F.readInt32BE,e.readFloatLE=F.readFloatLE,e.readFloatBE=F.readFloatBE,e.readDoubleLE=F.readDoubleLE,e.readDoubleBE=F.readDoubleBE,e.writeUInt8=F.writeUInt8,e.writeUIntLE=F.writeUIntLE,e.writeUIntBE=F.writeUIntBE,e.writeUInt16LE=F.writeUInt16LE,e.writeUInt16BE=F.writeUInt16BE,e.writeUInt32LE=F.writeUInt32LE,e.writeUInt32BE=F.writeUInt32BE,e.writeIntLE=F.writeIntLE,e.writeIntBE=F.writeIntBE,e.writeInt8=F.writeInt8,e.writeInt16LE=F.writeInt16LE,e.writeInt16BE=F.writeInt16BE,e.writeInt32LE=F.writeInt32LE,e.writeInt32BE=F.writeInt32BE,e.writeFloatLE=F.writeFloatLE,e.writeFloatBE=F.writeFloatBE,e.writeDoubleLE=F.writeDoubleLE,e.writeDoubleBE=F.writeDoubleBE,e.fill=F.fill,e.inspect=F.inspect,e.toArrayBuffer=F.toArrayBuffer,e};var j=/[^+\/0-9A-Za-z-_]/g;function B(e){return e<16?"0"+e.toString(16):e.toString(16)}function U(e,t){var n;t=t||1/0;for(var i=e.length,r=null,o=[],a=0;a<i;a++){if((n=e.charCodeAt(a))>55295&&n<57344){if(!r){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===i){(t-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(t-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function H(e){return i.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(j,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function $(e,t,n,i){for(var r=0;r<i&&!(r+n>=t.length||r>=e.length);r++)t[r+n]=e[r];return r}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":280,ieee754:469,isarray:286}],286:[function(e,t,n){var i={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==i.call(e)}},{}],287:[function(e,t,n){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function o(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}t.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},i.prototype.emit=function(e){var t,n,i,s,u,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(a(n=this._events[e]))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(i=arguments.length,s=new Array(i-1),u=1;u<i;u++)s[u-1]=arguments[u];n.apply(this,s)}else if(o(n)){for(i=arguments.length,s=new Array(i-1),u=1;u<i;u++)s[u-1]=arguments[u];for(i=(l=n.slice()).length,u=0;u<i;u++)l[u].apply(this,s)}return!0},i.prototype.addListener=function(e,t){var n;if(!r(t))throw TypeError("listener must be a function");(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned)&&((n=a(this._maxListeners)?i.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()));return this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(e,t){if(!r(t))throw TypeError("listener must be a function");var n=!1;function i(){this.removeListener(e,i),n||(n=!0,t.apply(this,arguments))}return i.listener=t,this.on(e,i),this},i.prototype.removeListener=function(e,t){var n,i,a,s;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(a=(n=this._events[e]).length,i=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(n)){for(s=a;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){i=s;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},i.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r(n=this._events[e]))this.removeListener(e,n);else for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},i.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},i.listenerCount=function(e,t){return e._events&&e._events[t]?r(e._events[t])?1:e._events[t].length:0}},{}],288:[function(e,t,n){var i=e("indexof");function r(e){return!!e}t.exports=function(e){var t=e.classList;if(t)return t;var n={add:o,remove:a,contains:s,toggle:function(e){return s(e)?(a(e),!1):(o(e),!0)},toString:function(){return e.className},length:0,item:function(e){return u()[e]||null}};return n;function o(e){var t=u();i(t,e)>-1||(t.push(e),l(t))}function a(e){var t=u(),n=i(t,e);-1!==n&&(t.splice(n,1),l(t))}function s(e){return i(u(),e)>-1}function u(){return function(e,t){for(var n=[],i=0;i<e.length;i++)t(e[i])&&n.push(e[i]);return n}(e.className.split(" "),r)}function l(t){var i=t.length;e.className=t.join(" "),n.length=i;for(var r=0;r<t.length;r++)n[r]=t[r];delete t[i]}}},{indexof:470}],289:[function(require,module,exports){"use strict";function linesWithoutSemicolons(e){var t=window.jslint(e).warnings,n=[];return t&&t.length&&_.each(t,(function(e){e&&"expected_a_b"==e.code&&";"==e.a&&n.push(e.line+1)})),n}function removeComments(e){for(var t={singleQuote:!1,doubleQuote:!1,blockComment:!1,lineComment:!1,condComp:!1},n=0,i=(e=e.split("")).length;n<i;n++)if(t.singleQuote)"'"===e[n]&&"\\"!==e[n-1]&&(t.singleQuote=!1);else if(t.doubleQuote)'"'===e[n]&&"\\"!==e[n-1]&&(t.doubleQuote=!1);else if(t.blockComment)"*"===e[n]&&"/"===e[n+1]&&("\n"!==e[n+1]&&(e[n+1]=""),t.blockComment=!1),"\n"!==e[n]&&(e[n]="");else if(t.lineComment)"\n"!==e[n+1]&&"\r"!==e[n+1]||(t.lineComment=!1),"\n"!==e[n]&&(e[n]="");else if(t.condComp)"@"===e[n-2]&&"*"===e[n-1]&&"/"===e[n]&&(t.condComp=!1);else if(t.doubleQuote='"'===e[n],t.singleQuote="'"===e[n],"/"===e[n]){if("*"===e[n+1]&&"@"===e[n+2]){t.condComp=!0;continue}if("*"===e[n+1]){"\n"!==e[n]&&(e[n]=""),t.blockComment=!0;continue}if("/"===e[n+1]){"\n"!==e[n]&&(e[n]=""),t.lineComment=!0;continue}}return e.join("")}function lineNumberFromError(e){var t=-1;e.stack.replace(/<anonymous>:(.*):/gm,(function(e,n,i,r){-1==t&&(t=parseInt(n))}));return t}function generateCodeArray(e){return e.split("\n")}function safeEditorCode(e,t){var n=(t=t||{}).fnOnError||function(){},i=t.toTryArgs||[],r=t.errorType||"eval";try{return e.apply(null,i)}catch(e){return window.CHS&&window.CHS.PubSub.trigger("editorError:handle",e,r),n(e)}}function safeEval(code,context,contextName){var __context__=context;code="(function("+contextName+"){"+code,code+="})(__context__);";var fnToTry=function(){return{result:eval(code),hasError:!1}},fnOnError=function(e){return{hasError:!0,error:e}};return safeEditorCode(fnToTry,{fnOnError:fnOnError,errorType:"eval"})}function testInfiniteLoops(e){try{e="function start(){}\n"+e,e+="\nstart();";for(var t=new Interpreter(e),n=0;!t.paused_&&t.step()&&n<=2e4;)n++;if(n>=2e4)return!0}catch(e){return!1}}function safeSkulpt(){var e=arguments;return window.Sk.misceval.asyncToPromise((function(){return window.Sk.importMainWithBody.apply(null,e)}),{"Sk.promise":function(e){return e.data.promise.then((function(t){return e.resume()})).catch((function(e){return Promise.reject(e)}))}}).catch((function(e){window.CHS.PubSub.trigger("editorError:handle",e,"skulpt")}))}function safeCallback(e,t){return function(){var n={};return n.fnOnError=t,n.toTryArgs=arguments,safeEditorCode(e,n)}}function safeSetInterval(e,t,n){var i=safeCallback(e,(function(){clearInterval(r)})),r=setInterval(i,n,t);return r}module.exports={linesWithoutSemicolons:linesWithoutSemicolons,removeComments:removeComments,lineNumberFromError:lineNumberFromError,generateCodeArray:generateCodeArray,safeSkulpt:safeSkulpt,safeEval:safeEval,safeCallback:safeCallback,safeSetInterval:safeSetInterval,testInfiniteLoops:testInfiniteLoops}},{}],290:[function(e,t,n){var i=[].slice;t.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var n=i.call(arguments,2);return function(){return t.apply(e,n.concat(i.call(arguments)))}}},{}],291:[function(e,t,n){t.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],292:[function(e,t,n){e("../modules/es6.object.to-string"),e("../modules/es6.string.iterator"),e("../modules/web.dom.iterable"),e("../modules/es6.map"),t.exports=e("../modules/_core").Map},{"../modules/_core":302,"../modules/es6.map":357,"../modules/es6.object.to-string":358,"../modules/es6.string.iterator":359,"../modules/web.dom.iterable":360}],293:[function(e,t,n){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],294:[function(e,t,n){var i=e("./_wks")("unscopables"),r=Array.prototype;null==r[i]&&e("./_hide")(r,i,{}),t.exports=function(e){r[i][e]=!0}},{"./_hide":314,"./_wks":354}],295:[function(e,t,n){t.exports=function(e,t,n,i){if(!(e instanceof t)||void 0!==i&&i in e)throw TypeError(n+": incorrect invocation!");return e}},{}],296:[function(e,t,n){var i=e("./_is-object");t.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}},{"./_is-object":320}],297:[function(e,t,n){var i=e("./_to-iobject"),r=e("./_to-length"),o=e("./_to-absolute-index");t.exports=function(e){return function(t,n,a){var s,u=i(t),l=r(u.length),c=o(a,l);if(e&&n!=n){for(;l>c;)if((s=u[c++])!=s)return!0}else for(;l>c;c++)if((e||c in u)&&u[c]===n)return e||c||0;return!e&&-1}}},{"./_to-absolute-index":346,"./_to-iobject":348,"./_to-length":349}],298:[function(e,t,n){var i=e("./_cof"),r=e("./_wks")("toStringTag"),o="Arguments"==i(function(){return arguments}());t.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),r))?n:o?i(t):"Object"==(a=i(t))&&"function"==typeof t.callee?"Arguments":a}},{"./_cof":299,"./_wks":354}],299:[function(e,t,n){var i={}.toString;t.exports=function(e){return i.call(e).slice(8,-1)}},{}],300:[function(e,t,n){"use strict";var i=e("./_object-dp").f,r=e("./_object-create"),o=e("./_redefine-all"),a=e("./_ctx"),s=e("./_an-instance"),u=e("./_for-of"),l=e("./_iter-define"),c=e("./_iter-step"),d=e("./_set-species"),p=e("./_descriptors"),h=e("./_meta").fastKey,f=e("./_validate-collection"),m=p?"_s":"size",g=function(e,t){var n,i=h(t);if("F"!==i)return e._i[i];for(n=e._f;n;n=n.n)if(n.k==t)return n};t.exports={getConstructor:function(e,t,n,l){var c=e((function(e,i){s(e,c,t,"_i"),e._t=t,e._i=r(null),e._f=void 0,e._l=void 0,e[m]=0,null!=i&&u(i,n,e[l],e)}));return o(c.prototype,{clear:function(){for(var e=f(this,t),n=e._i,i=e._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete n[i.i];e._f=e._l=void 0,e[m]=0},delete:function(e){var n=f(this,t),i=g(n,e);if(i){var r=i.n,o=i.p;delete n._i[i.i],i.r=!0,o&&(o.n=r),r&&(r.p=o),n._f==i&&(n._f=r),n._l==i&&(n._l=o),n[m]--}return!!i},forEach:function(e){f(this,t);for(var n,i=a(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(i(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!g(f(this,t),e)}}),p&&i(c.prototype,"size",{get:function(){return f(this,t)[m]}}),c},def:function(e,t,n){var i,r,o=g(e,t);return o?o.v=n:(e._l=o={i:r=h(t,!0),k:t,v:n,p:i=e._l,n:void 0,r:!1},e._f||(e._f=o),i&&(i.n=o),e[m]++,"F"!==r&&(e._i[r]=o)),e},getEntry:g,setStrong:function(e,t,n){l(e,t,(function(e,n){this._t=f(e,t),this._k=n,this._l=void 0}),(function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?c(0,"keys"==t?n.k:"values"==t?n.v:[n.k,n.v]):(e._t=void 0,c(1))}),n?"entries":"values",!n,!0),d(t)}}},{"./_an-instance":295,"./_ctx":303,"./_descriptors":305,"./_for-of":310,"./_iter-define":323,"./_iter-step":325,"./_meta":328,"./_object-create":329,"./_object-dp":330,"./_redefine-all":338,"./_set-species":341,"./_validate-collection":353}],301:[function(e,t,n){"use strict";var i=e("./_global"),r=e("./_export"),o=e("./_redefine"),a=e("./_redefine-all"),s=e("./_meta"),u=e("./_for-of"),l=e("./_an-instance"),c=e("./_is-object"),d=e("./_fails"),p=e("./_iter-detect"),h=e("./_set-to-string-tag"),f=e("./_inherit-if-required");t.exports=function(e,t,n,m,g,y){var v=i[e],_=v,b=g?"set":"add",w=_&&_.prototype,E={},S=function(e){var t=w[e];o(w,e,"delete"==e||"has"==e?function(e){return!(y&&!c(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return y&&!c(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof _&&(y||w.forEach&&!d((function(){(new _).entries().next()})))){var T=new _,C=T[b](y?{}:-0,1)!=T,x=d((function(){T.has(1)})),A=p((function(e){new _(e)})),k=!y&&d((function(){for(var e=new _,t=5;t--;)e[b](t,t);return!e.has(-0)}));A||((_=t((function(t,n){l(t,_,e);var i=f(new v,t,_);return null!=n&&u(n,g,i[b],i),i}))).prototype=w,w.constructor=_),(x||k)&&(S("delete"),S("has"),g&&S("get")),(k||C)&&S(b),y&&w.clear&&delete w.clear}else _=m.getConstructor(t,e,g,b),a(_.prototype,n),s.NEED=!0;return h(_,e),E[e]=_,r(r.G+r.W+r.F*(_!=v),E),y||m.setStrong(_,e,g),_}},{"./_an-instance":295,"./_export":308,"./_fails":309,"./_for-of":310,"./_global":312,"./_inherit-if-required":317,"./_is-object":320,"./_iter-detect":324,"./_meta":328,"./_redefine":339,"./_redefine-all":338,"./_set-to-string-tag":342}],302:[function(e,t,n){var i=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=i)},{}],303:[function(e,t,n){var i=e("./_a-function");t.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}}},{"./_a-function":293}],304:[function(e,t,n){t.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},{}],305:[function(e,t,n){t.exports=!e("./_fails")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},{"./_fails":309}],306:[function(e,t,n){var i=e("./_is-object"),r=e("./_global").document,o=i(r)&&i(r.createElement);t.exports=function(e){return o?r.createElement(e):{}}},{"./_global":312,"./_is-object":320}],307:[function(e,t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],308:[function(e,t,n){var i=e("./_global"),r=e("./_core"),o=e("./_hide"),a=e("./_redefine"),s=e("./_ctx"),u=function(e,t,n){var l,c,d,p,h=e&u.F,f=e&u.G,m=e&u.S,g=e&u.P,y=e&u.B,v=f?i:m?i[t]||(i[t]={}):(i[t]||{}).prototype,_=f?r:r[t]||(r[t]={}),b=_.prototype||(_.prototype={});for(l in f&&(n=t),n)d=((c=!h&&v&&void 0!==v[l])?v:n)[l],p=y&&c?s(d,i):g&&"function"==typeof d?s(Function.call,d):d,v&&a(v,l,d,e&u.U),_[l]!=d&&o(_,l,p),g&&b[l]!=d&&(b[l]=d)};i.core=r,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},{"./_core":302,"./_ctx":303,"./_global":312,"./_hide":314,"./_redefine":339}],309:[function(e,t,n){t.exports=function(e){try{return!!e()}catch(e){return!0}}},{}],310:[function(e,t,n){var i=e("./_ctx"),r=e("./_iter-call"),o=e("./_is-array-iter"),a=e("./_an-object"),s=e("./_to-length"),u=e("./core.get-iterator-method"),l={},c={};(n=t.exports=function(e,t,n,d,p){var h,f,m,g,y=p?function(){return e}:u(e),v=i(n,d,t?2:1),_=0;if("function"!=typeof y)throw TypeError(e+" is not iterable!");if(o(y)){for(h=s(e.length);h>_;_++)if((g=t?v(a(f=e[_])[0],f[1]):v(e[_]))===l||g===c)return g}else for(m=y.call(e);!(f=m.next()).done;)if((g=r(m,v,f.value,t))===l||g===c)return g}).BREAK=l,n.RETURN=c},{"./_an-object":296,"./_ctx":303,"./_is-array-iter":319,"./_iter-call":321,"./_to-length":349,"./core.get-iterator-method":355}],311:[function(e,t,n){t.exports=e("./_shared")("native-function-to-string",Function.toString)},{"./_shared":344}],312:[function(e,t,n){var i=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},{}],313:[function(e,t,n){var i={}.hasOwnProperty;t.exports=function(e,t){return i.call(e,t)}},{}],314:[function(e,t,n){var i=e("./_object-dp"),r=e("./_property-desc");t.exports=e("./_descriptors")?function(e,t,n){return i.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},{"./_descriptors":305,"./_object-dp":330,"./_property-desc":337}],315:[function(e,t,n){var i=e("./_global").document;t.exports=i&&i.documentElement},{"./_global":312}],316:[function(e,t,n){t.exports=!e("./_descriptors")&&!e("./_fails")((function(){return 7!=Object.defineProperty(e("./_dom-create")("div"),"a",{get:function(){return 7}}).a}))},{"./_descriptors":305,"./_dom-create":306,"./_fails":309}],317:[function(e,t,n){var i=e("./_is-object"),r=e("./_set-proto").set;t.exports=function(e,t,n){var o,a=t.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&i(o)&&r&&r(e,o),e}},{"./_is-object":320,"./_set-proto":340}],318:[function(e,t,n){var i=e("./_cof");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==i(e)?e.split(""):Object(e)}},{"./_cof":299}],319:[function(e,t,n){var i=e("./_iterators"),r=e("./_wks")("iterator"),o=Array.prototype;t.exports=function(e){return void 0!==e&&(i.Array===e||o[r]===e)}},{"./_iterators":326,"./_wks":354}],320:[function(e,t,n){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],321:[function(e,t,n){var i=e("./_an-object");t.exports=function(e,t,n,r){try{return r?t(i(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&i(o.call(e)),t}}},{"./_an-object":296}],322:[function(e,t,n){"use strict";var i=e("./_object-create"),r=e("./_property-desc"),o=e("./_set-to-string-tag"),a={};e("./_hide")(a,e("./_wks")("iterator"),(function(){return this})),t.exports=function(e,t,n){e.prototype=i(a,{next:r(1,n)}),o(e,t+" Iterator")}},{"./_hide":314,"./_object-create":329,"./_property-desc":337,"./_set-to-string-tag":342,"./_wks":354}],323:[function(e,t,n){"use strict";var i=e("./_library"),r=e("./_export"),o=e("./_redefine"),a=e("./_hide"),s=e("./_iterators"),u=e("./_iter-create"),l=e("./_set-to-string-tag"),c=e("./_object-gpo"),d=e("./_wks")("iterator"),p=!([].keys&&"next"in[].keys()),h="keys",f="values",m=function(){return this};t.exports=function(e,t,n,g,y,v,_){u(n,t,g);var b,w,E,S=function(e){if(!p&&e in A)return A[e];switch(e){case h:case f:return function(){return new n(this,e)}}return function(){return new n(this,e)}},T=t+" Iterator",C=y==f,x=!1,A=e.prototype,k=A[d]||A["@@iterator"]||y&&A[y],I=k||S(y),D=y?C?S("entries"):I:void 0,O="Array"==t&&A.entries||k;if(O&&(E=c(O.call(new e)))!==Object.prototype&&E.next&&(l(E,T,!0),i||"function"==typeof E[d]||a(E,d,m)),C&&k&&k.name!==f&&(x=!0,I=function(){return k.call(this)}),i&&!_||!p&&!x&&A[d]||a(A,d,I),s[t]=I,s[T]=m,y)if(b={values:C?I:S(f),keys:v?I:S(h),entries:D},_)for(w in b)w in A||o(A,w,b[w]);else r(r.P+r.F*(p||x),t,b);return b}},{"./_export":308,"./_hide":314,"./_iter-create":322,"./_iterators":326,"./_library":327,"./_object-gpo":333,"./_redefine":339,"./_set-to-string-tag":342,"./_wks":354}],324:[function(e,t,n){var i=e("./_wks")("iterator"),r=!1;try{var o=[7][i]();o.return=function(){r=!0},Array.from(o,(function(){throw 2}))}catch(e){}t.exports=function(e,t){if(!t&&!r)return!1;var n=!1;try{var o=[7],a=o[i]();a.next=function(){return{done:n=!0}},o[i]=function(){return a},e(o)}catch(e){}return n}},{"./_wks":354}],325:[function(e,t,n){t.exports=function(e,t){return{value:t,done:!!e}}},{}],326:[function(e,t,n){t.exports={}},{}],327:[function(e,t,n){t.exports=!1},{}],328:[function(e,t,n){var i=e("./_uid")("meta"),r=e("./_is-object"),o=e("./_has"),a=e("./_object-dp").f,s=0,u=Object.isExtensible||function(){return!0},l=!e("./_fails")((function(){return u(Object.preventExtensions({}))})),c=function(e){a(e,i,{value:{i:"O"+ ++s,w:{}}})},d=t.exports={KEY:i,NEED:!1,fastKey:function(e,t){if(!r(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,i)){if(!u(e))return"F";if(!t)return"E";c(e)}return e[i].i},getWeak:function(e,t){if(!o(e,i)){if(!u(e))return!0;if(!t)return!1;c(e)}return e[i].w},onFreeze:function(e){return l&&d.NEED&&u(e)&&!o(e,i)&&c(e),e}}},{"./_fails":309,"./_has":313,"./_is-object":320,"./_object-dp":330,"./_uid":352}],329:[function(e,t,n){var i=e("./_an-object"),r=e("./_object-dps"),o=e("./_enum-bug-keys"),a=e("./_shared-key")("IE_PROTO"),s=function(){},u=function(){var t,n=e("./_dom-create")("iframe"),i=o.length;for(n.style.display="none",e("./_html").appendChild(n),n.src="javascript:",(t=n.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;i--;)delete u.prototype[o[i]];return u()};t.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=i(e),n=new s,s.prototype=null,n[a]=e):n=u(),void 0===t?n:r(n,t)}},{"./_an-object":296,"./_dom-create":306,"./_enum-bug-keys":307,"./_html":315,"./_object-dps":331,"./_shared-key":343}],330:[function(e,t,n){var i=e("./_an-object"),r=e("./_ie8-dom-define"),o=e("./_to-primitive"),a=Object.defineProperty;n.f=e("./_descriptors")?Object.defineProperty:function(e,t,n){if(i(e),t=o(t,!0),i(n),r)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},{"./_an-object":296,"./_descriptors":305,"./_ie8-dom-define":316,"./_to-primitive":351}],331:[function(e,t,n){var i=e("./_object-dp"),r=e("./_an-object"),o=e("./_object-keys");t.exports=e("./_descriptors")?Object.defineProperties:function(e,t){r(e);for(var n,a=o(t),s=a.length,u=0;s>u;)i.f(e,n=a[u++],t[n]);return e}},{"./_an-object":296,"./_descriptors":305,"./_object-dp":330,"./_object-keys":335}],332:[function(e,t,n){var i=e("./_object-pie"),r=e("./_property-desc"),o=e("./_to-iobject"),a=e("./_to-primitive"),s=e("./_has"),u=e("./_ie8-dom-define"),l=Object.getOwnPropertyDescriptor;n.f=e("./_descriptors")?l:function(e,t){if(e=o(e),t=a(t,!0),u)try{return l(e,t)}catch(e){}if(s(e,t))return r(!i.f.call(e,t),e[t])}},{"./_descriptors":305,"./_has":313,"./_ie8-dom-define":316,"./_object-pie":336,"./_property-desc":337,"./_to-iobject":348,"./_to-primitive":351}],333:[function(e,t,n){var i=e("./_has"),r=e("./_to-object"),o=e("./_shared-key")("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(e){return e=r(e),i(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},{"./_has":313,"./_shared-key":343,"./_to-object":350}],334:[function(e,t,n){var i=e("./_has"),r=e("./_to-iobject"),o=e("./_array-includes")(!1),a=e("./_shared-key")("IE_PROTO");t.exports=function(e,t){var n,s=r(e),u=0,l=[];for(n in s)n!=a&&i(s,n)&&l.push(n);for(;t.length>u;)i(s,n=t[u++])&&(~o(l,n)||l.push(n));return l}},{"./_array-includes":297,"./_has":313,"./_shared-key":343,"./_to-iobject":348}],335:[function(e,t,n){var i=e("./_object-keys-internal"),r=e("./_enum-bug-keys");t.exports=Object.keys||function(e){return i(e,r)}},{"./_enum-bug-keys":307,"./_object-keys-internal":334}],336:[function(e,t,n){n.f={}.propertyIsEnumerable},{}],337:[function(e,t,n){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],338:[function(e,t,n){var i=e("./_redefine");t.exports=function(e,t,n){for(var r in t)i(e,r,t[r],n);return e}},{"./_redefine":339}],339:[function(e,t,n){var i=e("./_global"),r=e("./_hide"),o=e("./_has"),a=e("./_uid")("src"),s=e("./_function-to-string"),u="toString",l=(""+s).split(u);e("./_core").inspectSource=function(e){return s.call(e)},(t.exports=function(e,t,n,s){var u="function"==typeof n;u&&(o(n,"name")||r(n,"name",t)),e[t]!==n&&(u&&(o(n,a)||r(n,a,e[t]?""+e[t]:l.join(String(t)))),e===i?e[t]=n:s?e[t]?e[t]=n:r(e,t,n):(delete e[t],r(e,t,n)))})(Function.prototype,u,(function(){return"function"==typeof this&&this[a]||s.call(this)}))},{"./_core":302,"./_function-to-string":311,"./_global":312,"./_has":313,"./_hide":314,"./_uid":352}],340:[function(e,t,n){var i=e("./_is-object"),r=e("./_an-object"),o=function(e,t){if(r(e),!i(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,i){try{(i=e("./_ctx")(Function.call,e("./_object-gopd").f(Object.prototype,"__proto__").set,2))(t,[]),n=!(t instanceof Array)}catch(e){n=!0}return function(e,t){return o(e,t),n?e.__proto__=t:i(e,t),e}}({},!1):void 0),check:o}},{"./_an-object":296,"./_ctx":303,"./_is-object":320,"./_object-gopd":332}],341:[function(e,t,n){"use strict";var i=e("./_global"),r=e("./_object-dp"),o=e("./_descriptors"),a=e("./_wks")("species");t.exports=function(e){var t=i[e];o&&t&&!t[a]&&r.f(t,a,{configurable:!0,get:function(){return this}})}},{"./_descriptors":305,"./_global":312,"./_object-dp":330,"./_wks":354}],342:[function(e,t,n){var i=e("./_object-dp").f,r=e("./_has"),o=e("./_wks")("toStringTag");t.exports=function(e,t,n){e&&!r(e=n?e:e.prototype,o)&&i(e,o,{configurable:!0,value:t})}},{"./_has":313,"./_object-dp":330,"./_wks":354}],343:[function(e,t,n){var i=e("./_shared")("keys"),r=e("./_uid");t.exports=function(e){return i[e]||(i[e]=r(e))}},{"./_shared":344,"./_uid":352}],344:[function(e,t,n){var i=e("./_core"),r=e("./_global"),o="__core-js_shared__",a=r[o]||(r[o]={});(t.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:i.version,mode:e("./_library")?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},{"./_core":302,"./_global":312,"./_library":327}],345:[function(e,t,n){var i=e("./_to-integer"),r=e("./_defined");t.exports=function(e){return function(t,n){var o,a,s=String(r(t)),u=i(n),l=s.length;return u<0||u>=l?e?"":void 0:(o=s.charCodeAt(u))<55296||o>56319||u+1===l||(a=s.charCodeAt(u+1))<56320||a>57343?e?s.charAt(u):o:e?s.slice(u,u+2):a-56320+(o-55296<<10)+65536}}},{"./_defined":304,"./_to-integer":347}],346:[function(e,t,n){var i=e("./_to-integer"),r=Math.max,o=Math.min;t.exports=function(e,t){return(e=i(e))<0?r(e+t,0):o(e,t)}},{"./_to-integer":347}],347:[function(e,t,n){var i=Math.ceil,r=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(e>0?r:i)(e)}},{}],348:[function(e,t,n){var i=e("./_iobject"),r=e("./_defined");t.exports=function(e){return i(r(e))}},{"./_defined":304,"./_iobject":318}],349:[function(e,t,n){var i=e("./_to-integer"),r=Math.min;t.exports=function(e){return e>0?r(i(e),9007199254740991):0}},{"./_to-integer":347}],350:[function(e,t,n){var i=e("./_defined");t.exports=function(e){return Object(i(e))}},{"./_defined":304}],351:[function(e,t,n){var i=e("./_is-object");t.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":320}],352:[function(e,t,n){var i=0,r=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++i+r).toString(36))}},{}],353:[function(e,t,n){var i=e("./_is-object");t.exports=function(e,t){if(!i(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},{"./_is-object":320}],354:[function(e,t,n){var i=e("./_shared")("wks"),r=e("./_uid"),o=e("./_global").Symbol,a="function"==typeof o;(t.exports=function(e){return i[e]||(i[e]=a&&o[e]||(a?o:r)("Symbol."+e))}).store=i},{"./_global":312,"./_shared":344,"./_uid":352}],355:[function(e,t,n){var i=e("./_classof"),r=e("./_wks")("iterator"),o=e("./_iterators");t.exports=e("./_core").getIteratorMethod=function(e){if(null!=e)return e[r]||e["@@iterator"]||o[i(e)]}},{"./_classof":298,"./_core":302,"./_iterators":326,"./_wks":354}],356:[function(e,t,n){"use strict";var i=e("./_add-to-unscopables"),r=e("./_iter-step"),o=e("./_iterators"),a=e("./_to-iobject");t.exports=e("./_iter-define")(Array,"Array",(function(e,t){this._t=a(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,r(1)):r(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},{"./_add-to-unscopables":294,"./_iter-define":323,"./_iter-step":325,"./_iterators":326,"./_to-iobject":348}],357:[function(e,t,n){"use strict";var i=e("./_collection-strong"),r=e("./_validate-collection"),o="Map";t.exports=e("./_collection")(o,(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(e){var t=i.getEntry(r(this,o),e);return t&&t.v},set:function(e,t){return i.def(r(this,o),0===e?0:e,t)}},i,!0)},{"./_collection":301,"./_collection-strong":300,"./_validate-collection":353}],358:[function(e,t,n){"use strict";var i=e("./_classof"),r={};r[e("./_wks")("toStringTag")]="z",r+""!="[object z]"&&e("./_redefine")(Object.prototype,"toString",(function(){return"[object "+i(this)+"]"}),!0)},{"./_classof":298,"./_redefine":339,"./_wks":354}],359:[function(e,t,n){"use strict";var i=e("./_string-at")(!0);e("./_iter-define")(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=i(t,n),this._i+=e.length,{value:e,done:!1})}))},{"./_iter-define":323,"./_string-at":345}],360:[function(e,t,n){for(var i=e("./es6.array.iterator"),r=e("./_object-keys"),o=e("./_redefine"),a=e("./_global"),s=e("./_hide"),u=e("./_iterators"),l=e("./_wks"),c=l("iterator"),d=l("toStringTag"),p=u.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},f=r(h),m=0;m<f.length;m++){var g,y=f[m],v=h[y],_=a[y],b=_&&_.prototype;if(b&&(b[c]||s(b,c,p),b[d]||s(b,d,y),u[y]=p,v))for(g in i)b[g]||o(b,g,i[g],!0)}},{"./_global":312,"./_hide":314,"./_iterators":326,"./_object-keys":335,"./_redefine":339,"./_wks":354,"./es6.array.iterator":356}],361:[function(e,t,n){"use strict";var i=e("type/value/is"),r=e("type/plain-function/is"),o=e("es5-ext/object/assign"),a=e("es5-ext/object/normalize-options"),s=e("es5-ext/string/#/contains"),u=t.exports=function(e,t){var n,r,u,l,c;return arguments.length<2||"string"!=typeof e?(l=t,t=e,e=null):l=arguments[2],i(e)?(n=s.call(e,"c"),r=s.call(e,"e"),u=s.call(e,"w")):(n=u=!0,r=!1),c={value:t,configurable:n,enumerable:r,writable:u},l?o(a(l),c):c};u.gs=function(e,t,n){var u,l,c,d;return"string"!=typeof e?(c=n,n=t,t=e,e=null):c=arguments[3],i(t)?r(t)?i(n)?r(n)||(c=n,n=void 0):n=void 0:(c=t,t=n=void 0):t=void 0,i(e)?(u=s.call(e,"c"),l=s.call(e,"e")):(u=!0,l=!1),d={get:t,set:n,configurable:u,enumerable:l},c?o(a(c),d):d}},{"es5-ext/object/assign":392,"es5-ext/object/normalize-options":399,"es5-ext/string/#/contains":403,"type/plain-function/is":862,"type/value/is":864}],362:[function(e,t,n){!function(){var e={version:"3.5.17"},n=[].slice,i=function(e){return n.call(e)},r=this.document;function o(e){return e&&(e.ownerDocument||e.document||e).documentElement}function a(e){return e&&(e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView)}if(r)try{i(r.documentElement.childNodes)[0].nodeType}catch(e){i=function(e){for(var t=e.length,n=new Array(t);t--;)n[t]=e[t];return n}}if(Date.now||(Date.now=function(){return+new Date}),r)try{r.createElement("DIV").style.setProperty("opacity",0,"")}catch(e){var s=this.Element.prototype,u=s.setAttribute,l=s.setAttributeNS,c=this.CSSStyleDeclaration.prototype,d=c.setProperty;s.setAttribute=function(e,t){u.call(this,e,t+"")},s.setAttributeNS=function(e,t,n){l.call(this,e,t,n+"")},c.setProperty=function(e,t,n){d.call(this,e,t+"",n)}}function p(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function h(e){return null===e?NaN:+e}function f(e){return!isNaN(e)}function m(e){return{left:function(t,n,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=t.length);i<r;){var o=i+r>>>1;e(t[o],n)<0?i=o+1:r=o}return i},right:function(t,n,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=t.length);i<r;){var o=i+r>>>1;e(t[o],n)>0?r=o:i=o+1}return i}}}e.ascending=p,e.descending=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},e.min=function(e,t){var n,i,r=-1,o=e.length;if(1===arguments.length){for(;++r<o;)if(null!=(i=e[r])&&i>=i){n=i;break}for(;++r<o;)null!=(i=e[r])&&n>i&&(n=i)}else{for(;++r<o;)if(null!=(i=t.call(e,e[r],r))&&i>=i){n=i;break}for(;++r<o;)null!=(i=t.call(e,e[r],r))&&n>i&&(n=i)}return n},e.max=function(e,t){var n,i,r=-1,o=e.length;if(1===arguments.length){for(;++r<o;)if(null!=(i=e[r])&&i>=i){n=i;break}for(;++r<o;)null!=(i=e[r])&&i>n&&(n=i)}else{for(;++r<o;)if(null!=(i=t.call(e,e[r],r))&&i>=i){n=i;break}for(;++r<o;)null!=(i=t.call(e,e[r],r))&&i>n&&(n=i)}return n},e.extent=function(e,t){var n,i,r,o=-1,a=e.length;if(1===arguments.length){for(;++o<a;)if(null!=(i=e[o])&&i>=i){n=r=i;break}for(;++o<a;)null!=(i=e[o])&&(n>i&&(n=i),r<i&&(r=i))}else{for(;++o<a;)if(null!=(i=t.call(e,e[o],o))&&i>=i){n=r=i;break}for(;++o<a;)null!=(i=t.call(e,e[o],o))&&(n>i&&(n=i),r<i&&(r=i))}return[n,r]},e.sum=function(e,t){var n,i=0,r=e.length,o=-1;if(1===arguments.length)for(;++o<r;)f(n=+e[o])&&(i+=n);else for(;++o<r;)f(n=+t.call(e,e[o],o))&&(i+=n);return i},e.mean=function(e,t){var n,i=0,r=e.length,o=-1,a=r;if(1===arguments.length)for(;++o<r;)f(n=h(e[o]))?i+=n:--a;else for(;++o<r;)f(n=h(t.call(e,e[o],o)))?i+=n:--a;if(a)return i/a},e.quantile=function(e,t){var n=(e.length-1)*t+1,i=Math.floor(n),r=+e[i-1],o=n-i;return o?r+o*(e[i]-r):r},e.median=function(t,n){var i,r=[],o=t.length,a=-1;if(1===arguments.length)for(;++a<o;)f(i=h(t[a]))&&r.push(i);else for(;++a<o;)f(i=h(n.call(t,t[a],a)))&&r.push(i);if(r.length)return e.quantile(r.sort(p),.5)},e.variance=function(e,t){var n,i,r=e.length,o=0,a=0,s=-1,u=0;if(1===arguments.length)for(;++s<r;)f(n=h(e[s]))&&(a+=(i=n-o)*(n-(o+=i/++u)));else for(;++s<r;)f(n=h(t.call(e,e[s],s)))&&(a+=(i=n-o)*(n-(o+=i/++u)));if(u>1)return a/(u-1)},e.deviation=function(){var t=e.variance.apply(this,arguments);return t?Math.sqrt(t):t};var g=m(p);function y(e){return e.length}e.bisectLeft=g.left,e.bisect=e.bisectRight=g.right,e.bisector=function(e){return m(1===e.length?function(t,n){return p(e(t),n)}:e)},e.shuffle=function(e,t,n){(o=arguments.length)<3&&(n=e.length,o<2&&(t=0));for(var i,r,o=n-t;o;)r=Math.random()*o--|0,i=e[o+t],e[o+t]=e[r+t],e[r+t]=i;return e},e.permute=function(e,t){for(var n=t.length,i=new Array(n);n--;)i[n]=e[t[n]];return i},e.pairs=function(e){for(var t=0,n=e.length-1,i=e[0],r=new Array(n<0?0:n);t<n;)r[t]=[i,i=e[++t]];return r},e.transpose=function(t){if(!(o=t.length))return[];for(var n=-1,i=e.min(t,y),r=new Array(i);++n<i;)for(var o,a=-1,s=r[n]=new Array(o);++a<o;)s[a]=t[a][n];return r},e.zip=function(){return e.transpose(arguments)},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t},e.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},e.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},e.merge=function(e){for(var t,n,i,r=e.length,o=-1,a=0;++o<r;)a+=e[o].length;for(n=new Array(a);--r>=0;)for(t=(i=e[r]).length;--t>=0;)n[--a]=i[t];return n};var v=Math.abs;function _(e){for(var t=1;e*t%1;)t*=10;return t}function b(e,t){for(var n in t)Object.defineProperty(e.prototype,n,{value:t[n],enumerable:!1})}function w(){this._=Object.create(null)}e.range=function(e,t,n){if(arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0)),(t-e)/n==1/0)throw new Error("infinite range");var i,r=[],o=_(v(n)),a=-1;if(e*=o,t*=o,(n*=o)<0)for(;(i=e+n*++a)>t;)r.push(i/o);else for(;(i=e+n*++a)<t;)r.push(i/o);return r},e.map=function(e,t){var n=new w;if(e instanceof w)e.forEach((function(e,t){n.set(e,t)}));else if(Array.isArray(e)){var i,r=-1,o=e.length;if(1===arguments.length)for(;++r<o;)n.set(r,e[r]);else for(;++r<o;)n.set(t.call(e,i=e[r],r),i)}else for(var a in e)n.set(a,e[a]);return n};function E(e){return"__proto__"==(e+="")||"\0"===e[0]?"\0"+e:e}function S(e){return"\0"===(e+="")[0]?e.slice(1):e}function T(e){return E(e)in this._}function C(e){return(e=E(e))in this._&&delete this._[e]}function x(){var e=[];for(var t in this._)e.push(S(t));return e}function A(){var e=0;for(var t in this._)++e;return e}function k(){for(var e in this._)return!1;return!0}function I(){this._=Object.create(null)}function D(e){return e}function O(e,t,n){return function(){var i=n.apply(t,arguments);return i===t?e:i}}function P(e,t){if(t in e)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var n=0,i=N.length;n<i;++n){var r=N[n]+t;if(r in e)return r}}b(w,{has:T,get:function(e){return this._[E(e)]},set:function(e,t){return this._[E(e)]=t},remove:C,keys:x,values:function(){var e=[];for(var t in this._)e.push(this._[t]);return e},entries:function(){var e=[];for(var t in this._)e.push({key:S(t),value:this._[t]});return e},size:A,empty:k,forEach:function(e){for(var t in this._)e.call(this,S(t),this._[t])}}),e.nest=function(){var t,n,i={},r=[],o=[];function a(e,o,s){if(s>=r.length)return n?n.call(i,o):t?o.sort(t):o;for(var u,l,c,d,p=-1,h=o.length,f=r[s++],m=new w;++p<h;)(d=m.get(u=f(l=o[p])))?d.push(l):m.set(u,[l]);return e?(l=e(),c=function(t,n){l.set(t,a(e,n,s))}):(l={},c=function(t,n){l[t]=a(e,n,s)}),m.forEach(c),l}function s(e,t){if(t>=r.length)return e;var n=[],i=o[t++];return e.forEach((function(e,i){n.push({key:e,values:s(i,t)})})),i?n.sort((function(e,t){return i(e.key,t.key)})):n}return i.map=function(e,t){return a(t,e,0)},i.entries=function(t){return s(a(e.map,t,0),0)},i.key=function(e){return r.push(e),i},i.sortKeys=function(e){return o[r.length-1]=e,i},i.sortValues=function(e){return t=e,i},i.rollup=function(e){return n=e,i},i},e.set=function(e){var t=new I;if(e)for(var n=0,i=e.length;n<i;++n)t.add(e[n]);return t},b(I,{has:T,add:function(e){return this._[E(e+="")]=!0,e},remove:C,values:x,size:A,empty:k,forEach:function(e){for(var t in this._)e.call(this,S(t))}}),e.behavior={},e.rebind=function(e,t){for(var n,i=1,r=arguments.length;++i<r;)e[n=arguments[i]]=O(e,t,t[n]);return e};var N=["webkit","ms","moz","Moz","o","O"];function R(){}function L(){}function M(e){var t=[],n=new w;function i(){for(var n,i=t,r=-1,o=i.length;++r<o;)(n=i[r].on)&&n.apply(this,arguments);return e}return i.on=function(i,r){var o,a=n.get(i);return arguments.length<2?a&&a.on:(a&&(a.on=null,t=t.slice(0,o=t.indexOf(a)).concat(t.slice(o+1)),n.remove(i)),r&&t.push(n.set(i,{on:r})),e)},i}function F(){e.event.preventDefault()}function j(){for(var t,n=e.event;t=n.sourceEvent;)n=t;return n}function B(t){for(var n=new L,i=0,r=arguments.length;++i<r;)n[arguments[i]]=M(n);return n.of=function(i,r){return function(o){try{var a=o.sourceEvent=e.event;o.target=t,e.event=o,n[o.type].apply(i,r)}finally{e.event=a}}},n}e.dispatch=function(){for(var e=new L,t=-1,n=arguments.length;++t<n;)e[arguments[t]]=M(e);return e},L.prototype.on=function(e,t){var n=e.indexOf("."),i="";if(n>=0&&(i=e.slice(n+1),e=e.slice(0,n)),e)return arguments.length<2?this[e].on(i):this[e].on(i,t);if(2===arguments.length){if(null==t)for(e in this)this.hasOwnProperty(e)&&this[e].on(i,null);return this}},e.event=null,e.requote=function(e){return e.replace(U,"\\$&")};var U=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,H={}.__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]};function $(e){return H(e,z),e}var G=function(e,t){return t.querySelector(e)},q=function(e,t){return t.querySelectorAll(e)},V=function(e,t){var n=e.matches||e[P(e,"matchesSelector")];return V=function(e,t){return n.call(e,t)},V(e,t)};"function"==typeof Sizzle&&(G=function(e,t){return Sizzle(e,t)[0]||null},q=Sizzle,V=Sizzle.matchesSelector),e.selection=function(){return e.select(r.documentElement)};var z=e.selection.prototype=[];function W(e){return"function"==typeof e?e:function(){return G(e,this)}}function K(e){return"function"==typeof e?e:function(){return q(e,this)}}z.select=function(e){var t,n,i,r,o=[];e=W(e);for(var a=-1,s=this.length;++a<s;){o.push(t=[]),t.parentNode=(i=this[a]).parentNode;for(var u=-1,l=i.length;++u<l;)(r=i[u])?(t.push(n=e.call(r,r.__data__,u,a)),n&&"__data__"in r&&(n.__data__=r.__data__)):t.push(null)}return $(o)},z.selectAll=function(e){var t,n,r=[];e=K(e);for(var o=-1,a=this.length;++o<a;)for(var s=this[o],u=-1,l=s.length;++u<l;)(n=s[u])&&(r.push(t=i(e.call(n,n.__data__,u,o))),t.parentNode=n);return $(r)};var Y="http://www.w3.org/1999/xhtml",J={svg:"http://www.w3.org/2000/svg",xhtml:Y,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function X(t,n){return t=e.ns.qualify(t),null==n?t.local?function(){this.removeAttributeNS(t.space,t.local)}:function(){this.removeAttribute(t)}:"function"==typeof n?t.local?function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}:function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}:t.local?function(){this.setAttributeNS(t.space,t.local,n)}:function(){this.setAttribute(t,n)}}function Q(e){return e.trim().replace(/\s+/g," ")}function Z(t){return new RegExp("(?:^|\\s+)"+e.requote(t)+"(?:\\s+|$)","g")}function ee(e){return(e+"").trim().split(/^|\s+/)}function te(e,t){var n=(e=ee(e).map(ne)).length;return"function"==typeof t?function(){for(var i=-1,r=t.apply(this,arguments);++i<n;)e[i](this,r)}:function(){for(var i=-1;++i<n;)e[i](this,t)}}function ne(e){var t=Z(e);return function(n,i){if(r=n.classList)return i?r.add(e):r.remove(e);var r=n.getAttribute("class")||"";i?(t.lastIndex=0,t.test(r)||n.setAttribute("class",Q(r+" "+e))):n.setAttribute("class",Q(r.replace(t," ")))}}function ie(e,t,n){return null==t?function(){this.style.removeProperty(e)}:"function"==typeof t?function(){var i=t.apply(this,arguments);null==i?this.style.removeProperty(e):this.style.setProperty(e,i,n)}:function(){this.style.setProperty(e,t,n)}}function re(e,t){return null==t?function(){delete this[e]}:"function"==typeof t?function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}:function(){this[e]=t}}function oe(t){return"function"==typeof t?t:(t=e.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Y&&e.documentElement.namespaceURI===Y?e.createElement(t):e.createElementNS(n,t)}}function ae(){var e=this.parentNode;e&&e.removeChild(this)}function se(e){return{__data__:e}}function ue(e){return function(){return V(this,e)}}function le(e){return arguments.length||(e=p),function(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}}function ce(e,t){for(var n=0,i=e.length;n<i;n++)for(var r,o=e[n],a=0,s=o.length;a<s;a++)(r=o[a])&&t(r,a,n);return e}function de(e){return H(e,pe),e}e.ns={prefix:J,qualify:function(e){var t=e.indexOf(":"),n=e;return t>=0&&"xmlns"!==(n=e.slice(0,t))&&(e=e.slice(t+1)),J.hasOwnProperty(n)?{space:J[n],local:e}:e}},z.attr=function(t,n){if(arguments.length<2){if("string"==typeof t){var i=this.node();return(t=e.ns.qualify(t)).local?i.getAttributeNS(t.space,t.local):i.getAttribute(t)}for(n in t)this.each(X(n,t[n]));return this}return this.each(X(t,n))},z.classed=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node(),i=(e=ee(e)).length,r=-1;if(t=n.classList){for(;++r<i;)if(!t.contains(e[r]))return!1}else for(t=n.getAttribute("class");++r<i;)if(!Z(e[r]).test(t))return!1;return!0}for(t in e)this.each(te(t,e[t]));return this}return this.each(te(e,t))},z.style=function(e,t,n){var i=arguments.length;if(i<3){if("string"!=typeof e){for(n in i<2&&(t=""),e)this.each(ie(n,e[n],t));return this}if(i<2){var r=this.node();return a(r).getComputedStyle(r,null).getPropertyValue(e)}n=""}return this.each(ie(e,t,n))},z.property=function(e,t){if(arguments.length<2){if("string"==typeof e)return this.node()[e];for(t in e)this.each(re(t,e[t]));return this}return this.each(re(e,t))},z.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},z.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},z.append=function(e){return e=oe(e),this.select((function(){return this.appendChild(e.apply(this,arguments))}))},z.insert=function(e,t){return e=oe(e),t=W(t),this.select((function(){return this.insertBefore(e.apply(this,arguments),t.apply(this,arguments)||null)}))},z.remove=function(){return this.each(ae)},z.data=function(e,t){var n,i,r=-1,o=this.length;if(!arguments.length){for(e=new Array(o=(n=this[0]).length);++r<o;)(i=n[r])&&(e[r]=i.__data__);return e}function a(e,n){var i,r,o,a=e.length,c=n.length,d=Math.min(a,c),p=new Array(c),h=new Array(c),f=new Array(a);if(t){var m,g=new w,y=new Array(a);for(i=-1;++i<a;)(r=e[i])&&(g.has(m=t.call(r,r.__data__,i))?f[i]=r:g.set(m,r),y[i]=m);for(i=-1;++i<c;)(r=g.get(m=t.call(n,o=n[i],i)))?!0!==r&&(p[i]=r,r.__data__=o):h[i]=se(o),g.set(m,!0);for(i=-1;++i<a;)i in y&&!0!==g.get(y[i])&&(f[i]=e[i])}else{for(i=-1;++i<d;)r=e[i],o=n[i],r?(r.__data__=o,p[i]=r):h[i]=se(o);for(;i<c;++i)h[i]=se(n[i]);for(;i<a;++i)f[i]=e[i]}h.update=p,h.parentNode=p.parentNode=f.parentNode=e.parentNode,s.push(h),u.push(p),l.push(f)}var s=de([]),u=$([]),l=$([]);if("function"==typeof e)for(;++r<o;)a(n=this[r],e.call(n,n.parentNode.__data__,r));else for(;++r<o;)a(n=this[r],e);return u.enter=function(){return s},u.exit=function(){return l},u},z.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},z.filter=function(e){var t,n,i,r=[];"function"!=typeof e&&(e=ue(e));for(var o=0,a=this.length;o<a;o++){r.push(t=[]),t.parentNode=(n=this[o]).parentNode;for(var s=0,u=n.length;s<u;s++)(i=n[s])&&e.call(i,i.__data__,s,o)&&t.push(i)}return $(r)},z.order=function(){for(var e=-1,t=this.length;++e<t;)for(var n,i=this[e],r=i.length-1,o=i[r];--r>=0;)(n=i[r])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},z.sort=function(e){e=le.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()},z.each=function(e){return ce(this,(function(t,n,i){e.call(t,t.__data__,n,i)}))},z.call=function(e){var t=i(arguments);return e.apply(t[0]=this,t),this},z.empty=function(){return!this.node()},z.node=function(){for(var e=0,t=this.length;e<t;e++)for(var n=this[e],i=0,r=n.length;i<r;i++){var o=n[i];if(o)return o}return null},z.size=function(){var e=0;return ce(this,(function(){++e})),e};var pe=[];function he(e){var t,n;return function(i,r,o){var a,s=e[o].update,u=s.length;for(o!=n&&(n=o,t=0),r>=t&&(t=r+1);!(a=s[t])&&++t<u;);return a}}function fe(t,n,r){var o="__on"+t,a=t.indexOf("."),s=ge;a>0&&(t=t.slice(0,a));var u=me.get(t);function l(){var e=this[o];e&&(this.removeEventListener(t,e,e.$),delete this[o])}return u&&(t=u,s=ye),a?n?function(){var e=s(n,i(arguments));l.call(this),this.addEventListener(t,this[o]=e,e.$=r),e._=n}:l:n?R:function(){var n,i=new RegExp("^__on([^.]+)"+e.requote(t)+"$");for(var r in this)if(n=r.match(i)){var o=this[r];this.removeEventListener(n[1],o,o.$),delete this[r]}}}e.selection.enter=de,e.selection.enter.prototype=pe,pe.append=z.append,pe.empty=z.empty,pe.node=z.node,pe.call=z.call,pe.size=z.size,pe.select=function(e){for(var t,n,i,r,o,a=[],s=-1,u=this.length;++s<u;){i=(r=this[s]).update,a.push(t=[]),t.parentNode=r.parentNode;for(var l=-1,c=r.length;++l<c;)(o=r[l])?(t.push(i[l]=n=e.call(r.parentNode,o.__data__,l,s)),n.__data__=o.__data__):t.push(null)}return $(a)},pe.insert=function(e,t){return arguments.length<2&&(t=he(this)),z.insert.call(this,e,t)},e.select=function(e){var t;return"string"==typeof e?(t=[G(e,r)]).parentNode=r.documentElement:(t=[e]).parentNode=o(e),$([t])},e.selectAll=function(e){var t;return"string"==typeof e?(t=i(q(e,r))).parentNode=r.documentElement:(t=i(e)).parentNode=null,$([t])},z.on=function(e,t,n){var i=arguments.length;if(i<3){if("string"!=typeof e){for(n in i<2&&(t=!1),e)this.each(fe(n,e[n],t));return this}if(i<2)return(i=this.node()["__on"+e])&&i._;n=!1}return this.each(fe(e,t,n))};var me=e.map({mouseenter:"mouseover",mouseleave:"mouseout"});function ge(t,n){return function(i){var r=e.event;e.event=i,n[0]=this.__data__;try{t.apply(this,n)}finally{e.event=r}}}function ye(e,t){var n=ge(e,t);return function(e){var t=this,i=e.relatedTarget;i&&(i===t||8&i.compareDocumentPosition(t))||n.call(t,e)}}r&&me.forEach((function(e){"on"+e in r&&me.remove(e)}));var ve,_e=0;function be(t){var n=".dragsuppress-"+ ++_e,i="click"+n,r=e.select(a(t)).on("touchmove"+n,F).on("dragstart"+n,F).on("selectstart"+n,F);if(null==ve&&(ve=!("onselectstart"in t)&&P(t.style,"userSelect")),ve){var s=o(t).style,u=s[ve];s[ve]="none"}return function(e){if(r.on(n,null),ve&&(s[ve]=u),e){var t=function(){r.on(i,null)};r.on(i,(function(){F(),t()}),!0),setTimeout(t,0)}}}e.mouse=function(e){return Ee(e,j())};var we=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Ee(t,n){n.changedTouches&&(n=n.changedTouches[0]);var i=t.ownerSVGElement||t;if(i.createSVGPoint){var r=i.createSVGPoint();if(we<0){var o=a(t);if(o.scrollX||o.scrollY){var s=(i=e.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();we=!(s.f||s.e),i.remove()}}return we?(r.x=n.pageX,r.y=n.pageY):(r.x=n.clientX,r.y=n.clientY),[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var u=t.getBoundingClientRect();return[n.clientX-u.left-t.clientLeft,n.clientY-u.top-t.clientTop]}function Se(){return e.event.changedTouches[0].identifier}e.touch=function(e,t,n){if(arguments.length<3&&(n=t,t=j().changedTouches),t)for(var i,r=0,o=t.length;r<o;++r)if((i=t[r]).identifier===n)return Ee(e,i)},e.behavior.drag=function(){var t=B(o,"drag","dragstart","dragend"),n=null,i=s(R,e.mouse,a,"mousemove","mouseup"),r=s(Se,e.touch,D,"touchmove","touchend");function o(){this.on("mousedown.drag",i).on("touchstart.drag",r)}function s(i,r,o,a,s){return function(){var u,l=this,c=e.event.target.correspondingElement||e.event.target,d=l.parentNode,p=t.of(l,arguments),h=0,f=i(),m=".drag"+(null==f?"":"-"+f),g=e.select(o(c)).on(a+m,_).on(s+m,b),y=be(c),v=r(d,f);function _(){var e,t,n=r(d,f);n&&(e=n[0]-v[0],t=n[1]-v[1],h|=e|t,v=n,p({type:"drag",x:n[0]+u[0],y:n[1]+u[1],dx:e,dy:t}))}function b(){r(d,f)&&(g.on(a+m,null).on(s+m,null),y(h),p({type:"dragend"}))}u=n?[(u=n.apply(l,arguments)).x-v[0],u.y-v[1]]:[0,0],p({type:"dragstart"})}}return o.origin=function(e){return arguments.length?(n=e,o):n},e.rebind(o,t,"on")},e.touches=function(e,t){return arguments.length<2&&(t=j().touches),t?i(t).map((function(t){var n=Ee(e,t);return n.identifier=t.identifier,n})):[]};var Te=1e-6,Ce=Te*Te,xe=Math.PI,Ae=2*xe,ke=Ae-Te,Ie=xe/2,De=xe/180,Oe=180/xe;function Pe(e){return e>0?1:e<0?-1:0}function Ne(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function Re(e){return e>1?0:e<-1?xe:Math.acos(e)}function Le(e){return e>1?Ie:e<-1?-Ie:Math.asin(e)}function Me(e){return((e=Math.exp(e))+1/e)/2}function Fe(e){return(e=Math.sin(e/2))*e}var je=Math.SQRT2;e.interpolateZoom=function(e,t){var n,i,r=e[0],o=e[1],a=e[2],s=t[0],u=t[1],l=t[2],c=s-r,d=u-o,p=c*c+d*d;if(p<Ce)i=Math.log(l/a)/je,n=function(e){return[r+e*c,o+e*d,a*Math.exp(je*e*i)]};else{var h=Math.sqrt(p),f=(l*l-a*a+4*p)/(2*a*2*h),m=(l*l-a*a-4*p)/(2*l*2*h),g=Math.log(Math.sqrt(f*f+1)-f),y=Math.log(Math.sqrt(m*m+1)-m);i=(y-g)/je,n=function(e){var t,n=e*i,s=Me(g),u=a/(2*h)*(s*(t=je*n+g,((t=Math.exp(2*t))-1)/(t+1))-function(e){return((e=Math.exp(e))-1/e)/2}(g));return[r+u*c,o+u*d,a*s/Me(je*n+g)]}}return n.duration=1e3*i,n},e.behavior.zoom=function(){var t,n,i,o,s,u,l,c,d,p={x:0,y:0,k:1},h=[960,500],f=He,m=250,g=0,y="mousedown.zoom",v="mousemove.zoom",_="mouseup.zoom",b="touchstart.zoom",w=B(E,"zoomstart","zoom","zoomend");function E(e){e.on(y,O).on(Ue+".zoom",N).on("dblclick.zoom",R).on(b,P)}function S(e){return[(e[0]-p.x)/p.k,(e[1]-p.y)/p.k]}function T(e){p.k=Math.max(f[0],Math.min(f[1],e))}function C(e,t){t=function(e){return[e[0]*p.k+p.x,e[1]*p.k+p.y]}(t),p.x+=e[0]-t[0],p.y+=e[1]-t[1]}function x(t,i,r,o){t.__chart__={x:p.x,y:p.y,k:p.k},T(Math.pow(2,o)),C(n=i,r),t=e.select(t),m>0&&(t=t.transition().duration(m)),t.call(E.event)}function A(){l&&l.domain(u.range().map((function(e){return(e-p.x)/p.k})).map(u.invert)),d&&d.domain(c.range().map((function(e){return(e-p.y)/p.k})).map(c.invert))}function k(e){g++||e({type:"zoomstart"})}function I(e){A(),e({type:"zoom",scale:p.k,translate:[p.x,p.y]})}function D(e){--g||(e({type:"zoomend"}),n=null)}function O(){var t=this,n=w.of(t,arguments),i=0,r=e.select(a(t)).on(v,u).on(_,l),o=S(e.mouse(t)),s=be(t);function u(){i=1,C(e.mouse(t),o),I(n)}function l(){r.on(v,null).on(_,null),s(i),D(n)}Ps.call(t),k(n)}function P(){var t,n=this,i=w.of(n,arguments),r={},o=0,a=".zoom-"+e.event.changedTouches[0].identifier,u="touchmove"+a,l="touchend"+a,c=[],d=e.select(n),h=be(n);function f(){var i=e.touches(n);return t=p.k,i.forEach((function(e){e.identifier in r&&(r[e.identifier]=S(e))})),i}function m(){var t=e.event.target;e.select(t).on(u,g).on(l,v),c.push(t);for(var i=e.event.changedTouches,a=0,d=i.length;a<d;++a)r[i[a].identifier]=null;var h=f(),m=Date.now();if(1===h.length){if(m-s<500){var y=h[0];x(n,y,r[y.identifier],Math.floor(Math.log(p.k)/Math.LN2)+1),F()}s=m}else if(h.length>1){y=h[0];var _=h[1],b=y[0]-_[0],w=y[1]-_[1];o=b*b+w*w}}function g(){var a,u,l,c,d=e.touches(n);Ps.call(n);for(var p=0,h=d.length;p<h;++p,c=null)if(l=d[p],c=r[l.identifier]){if(u)break;a=l,u=c}if(c){var f=(f=l[0]-a[0])*f+(f=l[1]-a[1])*f,m=o&&Math.sqrt(f/o);a=[(a[0]+l[0])/2,(a[1]+l[1])/2],u=[(u[0]+c[0])/2,(u[1]+c[1])/2],T(m*t)}s=null,C(a,u),I(i)}function v(){if(e.event.touches.length){for(var t=e.event.changedTouches,n=0,o=t.length;n<o;++n)delete r[t[n].identifier];for(var s in r)return void f()}e.selectAll(c).on(a,null),d.on(y,O).on(b,P),h(),D(i)}m(),k(i),d.on(y,null).on(b,m)}function N(){var r=w.of(this,arguments);o?clearTimeout(o):(Ps.call(this),t=S(n=i||e.mouse(this)),k(r)),o=setTimeout((function(){o=null,D(r)}),50),F(),T(Math.pow(2,.002*Be())*p.k),C(n,t),I(r)}function R(){var t=e.mouse(this),n=Math.log(p.k)/Math.LN2;x(this,t,S(t),e.event.shiftKey?Math.ceil(n)-1:Math.floor(n)+1)}return Ue||(Ue="onwheel"in r?(Be=function(){return-e.event.deltaY*(e.event.deltaMode?120:1)},"wheel"):"onmousewheel"in r?(Be=function(){return e.event.wheelDelta},"mousewheel"):(Be=function(){return-e.event.detail},"MozMousePixelScroll")),E.event=function(t){t.each((function(){var t=w.of(this,arguments),i=p;Ls?e.select(this).transition().each("start.zoom",(function(){p=this.__chart__||{x:0,y:0,k:1},k(t)})).tween("zoom:zoom",(function(){var r=h[0],o=h[1],a=n?n[0]:r/2,s=n?n[1]:o/2,u=e.interpolateZoom([(a-p.x)/p.k,(s-p.y)/p.k,r/p.k],[(a-i.x)/i.k,(s-i.y)/i.k,r/i.k]);return function(e){var n=u(e),i=r/n[2];this.__chart__=p={x:a-n[0]*i,y:s-n[1]*i,k:i},I(t)}})).each("interrupt.zoom",(function(){D(t)})).each("end.zoom",(function(){D(t)})):(this.__chart__=p,k(t),I(t),D(t))}))},E.translate=function(e){return arguments.length?(p={x:+e[0],y:+e[1],k:p.k},A(),E):[p.x,p.y]},E.scale=function(e){return arguments.length?(p={x:p.x,y:p.y,k:null},T(+e),A(),E):p.k},E.scaleExtent=function(e){return arguments.length?(f=null==e?He:[+e[0],+e[1]],E):f},E.center=function(e){return arguments.length?(i=e&&[+e[0],+e[1]],E):i},E.size=function(e){return arguments.length?(h=e&&[+e[0],+e[1]],E):h},E.duration=function(e){return arguments.length?(m=+e,E):m},E.x=function(e){return arguments.length?(l=e,u=e.copy(),p={x:0,y:0,k:1},E):l},E.y=function(e){return arguments.length?(d=e,c=e.copy(),p={x:0,y:0,k:1},E):d},e.rebind(E,w,"on")};var Be,Ue,He=[0,1/0];function $e(){}function Ge(e,t,n){return this instanceof Ge?(this.h=+e,this.s=+t,void(this.l=+n)):arguments.length<2?e instanceof Ge?new Ge(e.h,e.s,e.l):ct(""+e,dt,Ge):new Ge(e,t,n)}e.color=$e,$e.prototype.toString=function(){return this.rgb()+""},e.hsl=Ge;var qe=Ge.prototype=new $e;function Ve(e,t,n){var i,r;function o(e){return Math.round(255*function(e){return e>360?e-=360:e<0&&(e+=360),e<60?i+(r-i)*e/60:e<180?r:e<240?i+(r-i)*(240-e)/60:i}(e))}return e=isNaN(e)?0:(e%=360)<0?e+360:e,t=isNaN(t)||t<0?0:t>1?1:t,i=2*(n=n<0?0:n>1?1:n)-(r=n<=.5?n*(1+t):n+t-n*t),new ot(o(e+120),o(e),o(e-120))}function ze(t,n,i){return this instanceof ze?(this.h=+t,this.c=+n,void(this.l=+i)):arguments.length<2?t instanceof ze?new ze(t.h,t.c,t.l):tt(t instanceof Ye?t.l:(t=pt((t=e.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new ze(t,n,i)}qe.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),new Ge(this.h,this.s,this.l/e)},qe.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new Ge(this.h,this.s,e*this.l)},qe.rgb=function(){return Ve(this.h,this.s,this.l)},e.hcl=ze;var We=ze.prototype=new $e;function Ke(e,t,n){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),new Ye(n,Math.cos(e*=De)*t,Math.sin(e)*t)}function Ye(e,t,n){return this instanceof Ye?(this.l=+e,this.a=+t,void(this.b=+n)):arguments.length<2?e instanceof Ye?new Ye(e.l,e.a,e.b):e instanceof ze?Ke(e.h,e.c,e.l):pt((e=ot(e)).r,e.g,e.b):new Ye(e,t,n)}We.brighter=function(e){return new ze(this.h,this.c,Math.min(100,this.l+Je*(arguments.length?e:1)))},We.darker=function(e){return new ze(this.h,this.c,Math.max(0,this.l-Je*(arguments.length?e:1)))},We.rgb=function(){return Ke(this.h,this.c,this.l).rgb()},e.lab=Ye;var Je=18,Xe=.95047,Qe=1.08883,Ze=Ye.prototype=new $e;function et(e,t,n){var i=(e+16)/116,r=i+t/500,o=i-n/200;return new ot(rt(3.2404542*(r=nt(r)*Xe)-1.5371385*(i=1*nt(i))-.4985314*(o=nt(o)*Qe)),rt(-.969266*r+1.8760108*i+.041556*o),rt(.0556434*r-.2040259*i+1.0572252*o))}function tt(e,t,n){return e>0?new ze(Math.atan2(n,t)*Oe,Math.sqrt(t*t+n*n),e):new ze(NaN,NaN,e)}function nt(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function it(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function rt(e){return Math.round(255*(e<=.00304?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function ot(e,t,n){return this instanceof ot?(this.r=~~e,this.g=~~t,void(this.b=~~n)):arguments.length<2?e instanceof ot?new ot(e.r,e.g,e.b):ct(""+e,ot,Ve):new ot(e,t,n)}function at(e){return new ot(e>>16,e>>8&255,255&e)}function st(e){return at(e)+""}Ze.brighter=function(e){return new Ye(Math.min(100,this.l+Je*(arguments.length?e:1)),this.a,this.b)},Ze.darker=function(e){return new Ye(Math.max(0,this.l-Je*(arguments.length?e:1)),this.a,this.b)},Ze.rgb=function(){return et(this.l,this.a,this.b)},e.rgb=ot;var ut=ot.prototype=new $e;function lt(e){return e<16?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function ct(e,t,n){var i,r,o,a=0,s=0,u=0;if(i=/([a-z]+)\((.*)\)/.exec(e=e.toLowerCase()))switch(r=i[2].split(","),i[1]){case"hsl":return n(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100);case"rgb":return t(ft(r[0]),ft(r[1]),ft(r[2]))}return(o=mt.get(e))?t(o.r,o.g,o.b):(null==e||"#"!==e.charAt(0)||isNaN(o=parseInt(e.slice(1),16))||(4===e.length?(a=(3840&o)>>4,a|=a>>4,s=240&o,s|=s>>4,u=15&o,u|=u<<4):7===e.length&&(a=(16711680&o)>>16,s=(65280&o)>>8,u=255&o)),t(a,s,u))}function dt(e,t,n){var i,r,o=Math.min(e/=255,t/=255,n/=255),a=Math.max(e,t,n),s=a-o,u=(a+o)/2;return s?(r=u<.5?s/(a+o):s/(2-a-o),i=e==a?(t-n)/s+(t<n?6:0):t==a?(n-e)/s+2:(e-t)/s+4,i*=60):(i=NaN,r=u>0&&u<1?0:i),new Ge(i,r,u)}function pt(e,t,n){var i=it((.4124564*(e=ht(e))+.3575761*(t=ht(t))+.1804375*(n=ht(n)))/Xe),r=it((.2126729*e+.7151522*t+.072175*n)/1);return Ye(116*r-16,500*(i-r),200*(r-it((.0193339*e+.119192*t+.9503041*n)/Qe)))}function ht(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function ft(e){var t=parseFloat(e);return"%"===e.charAt(e.length-1)?Math.round(2.55*t):t}ut.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,i=this.b,r=30;return t||n||i?(t&&t<r&&(t=r),n&&n<r&&(n=r),i&&i<r&&(i=r),new ot(Math.min(255,t/e),Math.min(255,n/e),Math.min(255,i/e))):new ot(r,r,r)},ut.darker=function(e){return new ot((e=Math.pow(.7,arguments.length?e:1))*this.r,e*this.g,e*this.b)},ut.hsl=function(){return dt(this.r,this.g,this.b)},ut.toString=function(){return"#"+lt(this.r)+lt(this.g)+lt(this.b)};var mt=e.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function gt(e){return"function"==typeof e?e:function(){return e}}function yt(e){return function(t,n,i){return 2===arguments.length&&"function"==typeof n&&(i=n,n=null),vt(t,n,e,i)}}function vt(t,n,r,o){var a={},s=e.dispatch("beforesend","progress","load","error"),u={},l=new XMLHttpRequest,c=null;function d(){var e,t=l.status;if(!t&&function(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}(l)||t>=200&&t<300||304===t){try{e=r.call(a,l)}catch(e){return void s.error.call(a,e)}s.load.call(a,e)}else s.error.call(a,l)}return this.XDomainRequest&&!("withCredentials"in l)&&/^(http(s)?:)?\/\//.test(t)&&(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=d:l.onreadystatechange=function(){l.readyState>3&&d()},l.onprogress=function(t){var n=e.event;e.event=t;try{s.progress.call(a,l)}finally{e.event=n}},a.header=function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?u[e]:(null==t?delete u[e]:u[e]=t+"",a)},a.mimeType=function(e){return arguments.length?(n=null==e?null:e+"",a):n},a.responseType=function(e){return arguments.length?(c=e,a):c},a.response=function(e){return r=e,a},["get","post"].forEach((function(e){a[e]=function(){return a.send.apply(a,[e].concat(i(arguments)))}})),a.send=function(e,i,r){if(2===arguments.length&&"function"==typeof i&&(r=i,i=null),l.open(e,t,!0),null==n||"accept"in u||(u.accept=n+",*/*"),l.setRequestHeader)for(var o in u)l.setRequestHeader(o,u[o]);return null!=n&&l.overrideMimeType&&l.overrideMimeType(n),null!=c&&(l.responseType=c),null!=r&&a.on("error",r).on("load",(function(e){r(null,e)})),s.beforesend.call(a,l),l.send(null==i?null:i),a},a.abort=function(){return l.abort(),a},e.rebind(a,s,"on"),null==o?a:a.get(function(e){return 1===e.length?function(t,n){e(null==t?n:null)}:e}(o))}mt.forEach((function(e,t){mt.set(e,at(t))})),e.functor=gt,e.xhr=yt(D),e.dsv=function(e,t){var n=new RegExp('["'+e+"\n]"),i=e.charCodeAt(0);function r(e,n,i){arguments.length<3&&(i=n,n=null);var r=vt(e,t,null==n?o:a(n),i);return r.row=function(e){return arguments.length?r.response(null==(n=e)?o:a(e)):n},r}function o(e){return r.parse(e.responseText)}function a(e){return function(t){return r.parse(t.responseText,e)}}function s(t){return t.map(u).join(e)}function u(e){return n.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}return r.parse=function(e,t){var n;return r.parseRows(e,(function(e,i){if(n)return n(e,i-1);var r=new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+"]"})).join(",")+"}");n=t?function(e,n){return t(r(e),n)}:r}))},r.parseRows=function(e,t){var n,r,o={},a={},s=[],u=e.length,l=0,c=0;function d(){if(l>=u)return a;if(r)return r=!1,o;var t=l;if(34===e.charCodeAt(t)){for(var n=t;n++<u;)if(34===e.charCodeAt(n)){if(34!==e.charCodeAt(n+1))break;++n}return l=n+2,13===(s=e.charCodeAt(n+1))?(r=!0,10===e.charCodeAt(n+2)&&++l):10===s&&(r=!0),e.slice(t+1,n).replace(/""/g,'"')}for(;l<u;){var s,c=1;if(10===(s=e.charCodeAt(l++)))r=!0;else if(13===s)r=!0,10===e.charCodeAt(l)&&(++l,++c);else if(s!==i)continue;return e.slice(t,l-c)}return e.slice(t)}for(;(n=d())!==a;){for(var p=[];n!==o&&n!==a;)p.push(n),n=d();t&&null==(p=t(p,c++))||s.push(p)}return s},r.format=function(t){if(Array.isArray(t[0]))return r.formatRows(t);var n=new I,i=[];return t.forEach((function(e){for(var t in e)n.has(t)||i.push(n.add(t))})),[i.map(u).join(e)].concat(t.map((function(t){return i.map((function(e){return u(t[e])})).join(e)}))).join("\n")},r.formatRows=function(e){return e.map(s).join("\n")},r},e.csv=e.dsv(",","text/csv"),e.tsv=e.dsv("\t","text/tab-separated-values");var _t,bt,wt,Et,St=this[P(this,"requestAnimationFrame")]||function(e){setTimeout(e,17)};function Tt(e,t,n){var i=arguments.length;i<2&&(t=0),i<3&&(n=Date.now());var r=n+t,o={c:e,t:r,n:null};return bt?bt.n=o:_t=o,bt=o,wt||(Et=clearTimeout(Et),wt=1,St(Ct)),o}function Ct(){var e=xt(),t=At()-e;t>24?(isFinite(t)&&(clearTimeout(Et),Et=setTimeout(Ct,t)),wt=0):(wt=1,St(Ct))}function xt(){for(var e=Date.now(),t=_t;t;)e>=t.t&&t.c(e-t.t)&&(t.c=null),t=t.n;return e}function At(){for(var e,t=_t,n=1/0;t;)t.c?(t.t<n&&(n=t.t),t=(e=t).n):t=e?e.n=t.n:_t=t.n;return bt=e,n}function kt(e,t){return t-(e?Math.ceil(Math.log(e)/Math.LN10):1)}e.timer=function(){Tt.apply(this,arguments)},e.timer.flush=function(){xt(),At()},e.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)};var It=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map((function(e,t){var n=Math.pow(10,3*v(8-t));return{scale:t>8?function(e){return e/n}:function(e){return e*n},symbol:e}}));function Dt(t){var n=t.decimal,i=t.thousands,r=t.grouping,o=t.currency,a=r&&i?function(e,t){for(var n=e.length,o=[],a=0,s=r[0],u=0;n>0&&s>0&&(u+s+1>t&&(s=Math.max(1,t-u)),o.push(e.substring(n-=s,n+s)),!((u+=s+1)>t));)s=r[a=(a+1)%r.length];return o.reverse().join(i)}:D;return function(t){var i=Ot.exec(t),r=i[1]||" ",s=i[2]||">",u=i[3]||"-",l=i[4]||"",c=i[5],d=+i[6],p=i[7],h=i[8],f=i[9],m=1,g="",y="",v=!1,_=!0;switch(h&&(h=+h.substring(1)),(c||"0"===r&&"="===s)&&(c=r="0",s="="),f){case"n":p=!0,f="g";break;case"%":m=100,y="%",f="f";break;case"p":m=100,y="%",f="r";break;case"b":case"o":case"x":case"X":"#"===l&&(g="0"+f.toLowerCase());case"c":_=!1;case"d":v=!0,h=0;break;case"s":m=-1,f="r"}"$"===l&&(g=o[0],y=o[1]),"r"!=f||h||(f="g"),null!=h&&("g"==f?h=Math.max(1,Math.min(21,h)):"e"!=f&&"f"!=f||(h=Math.max(0,Math.min(20,h)))),f=Pt.get(f)||Nt;var b=c&&p;return function(t){var i=y;if(v&&t%1)return"";var o=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===u?"":u;if(m<0){var l=e.formatPrefix(t,h);t=l.scale(t),i=l.symbol+y}else t*=m;var w,E,S=(t=f(t,h)).lastIndexOf(".");if(S<0){var T=_?t.lastIndexOf("e"):-1;T<0?(w=t,E=""):(w=t.substring(0,T),E=t.substring(T))}else w=t.substring(0,S),E=n+t.substring(S+1);!c&&p&&(w=a(w,1/0));var C=g.length+w.length+E.length+(b?0:o.length),x=C<d?new Array(C=d-C+1).join(r):"";return b&&(w=a(x+w,x.length?d-E.length:1/0)),o+=g,t=w+E,("<"===s?o+t+x:">"===s?x+o+t:"^"===s?x.substring(0,C>>=1)+o+t+x.substring(C):o+(b?t:x+t))+i}}}e.formatPrefix=function(t,n){var i=0;return(t=+t)&&(t<0&&(t*=-1),n&&(t=e.round(t,kt(t,n))),i=1+Math.floor(1e-12+Math.log(t)/Math.LN10),i=Math.max(-24,Math.min(24,3*Math.floor((i-1)/3)))),It[8+i/3]};var Ot=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Pt=e.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(t,n){return(t=e.round(t,kt(t,n))).toFixed(Math.max(0,Math.min(20,kt(t*(1+1e-15),n))))}});function Nt(e){return e+""}var Rt=e.time={},Lt=Date;function Mt(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}Mt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Ft.setUTCDate.apply(this._,arguments)},setDay:function(){Ft.setUTCDay.apply(this._,arguments)},setFullYear:function(){Ft.setUTCFullYear.apply(this._,arguments)},setHours:function(){Ft.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Ft.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Ft.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Ft.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Ft.setUTCSeconds.apply(this._,arguments)},setTime:function(){Ft.setTime.apply(this._,arguments)}};var Ft=Date.prototype;function jt(e,t,n){function i(t){var n=e(t),i=o(n,1);return t-n<i-t?n:i}function r(n){return t(n=e(new Lt(n-1)),1),n}function o(e,n){return t(e=new Lt(+e),n),e}function a(e,i,o){var a=r(e),s=[];if(o>1)for(;a<i;)n(a)%o||s.push(new Date(+a)),t(a,1);else for(;a<i;)s.push(new Date(+a)),t(a,1);return s}e.floor=e,e.round=i,e.ceil=r,e.offset=o,e.range=a;var s=e.utc=Bt(e);return s.floor=s,s.round=Bt(i),s.ceil=Bt(r),s.offset=Bt(o),s.range=function(e,t,n){try{Lt=Mt;var i=new Mt;return i._=e,a(i,t,n)}finally{Lt=Date}},e}function Bt(e){return function(t,n){try{Lt=Mt;var i=new Mt;return i._=t,e(i,n)._}finally{Lt=Date}}}function Ut(t){var n=t.dateTime,i=t.date,r=t.time,o=t.periods,a=t.days,s=t.shortDays,u=t.months,l=t.shortMonths;function c(e){var t=e.length;function n(n){for(var i,r,o,a=[],s=-1,u=0;++s<t;)37===e.charCodeAt(s)&&(a.push(e.slice(u,s)),null!=(r=Ht[i=e.charAt(++s)])&&(i=e.charAt(++s)),(o=w[i])&&(i=o(n,null==r?"e"===i?" ":"0":r)),a.push(i),u=s+1);return a.push(e.slice(u,s)),a.join("")}return n.parse=function(t){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(d(n,e,t,0)!=t.length)return null;"p"in n&&(n.H=n.H%12+12*n.p);var i=null!=n.Z&&Lt!==Mt,r=new(i?Mt:Lt);return"j"in n?r.setFullYear(n.y,0,n.j):"W"in n||"U"in n?("w"in n||(n.w="W"in n?1:0),r.setFullYear(n.y,0,1),r.setFullYear(n.y,0,"W"in n?(n.w+6)%7+7*n.W-(r.getDay()+5)%7:n.w+7*n.U-(r.getDay()+6)%7)):r.setFullYear(n.y,n.m,n.d),r.setHours(n.H+(n.Z/100|0),n.M+n.Z%100,n.S,n.L),i?r._:r},n.toString=function(){return e},n}function d(e,t,n,i){for(var r,o,a,s=0,u=t.length,l=n.length;s<u;){if(i>=l)return-1;if(37===(r=t.charCodeAt(s++))){if(a=t.charAt(s++),!(o=E[a in Ht?t.charAt(s++):a])||(i=o(e,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}c.utc=function(e){var t=c(e);function n(e){try{var n=new(Lt=Mt);return n._=e,t(n)}finally{Lt=Date}}return n.parse=function(e){try{Lt=Mt;var n=t.parse(e);return n&&n._}finally{Lt=Date}},n.toString=t.toString,n},c.multi=c.utc.multi=ln;var p=e.map(),h=Vt(a),f=zt(a),m=Vt(s),g=zt(s),y=Vt(u),v=zt(u),_=Vt(l),b=zt(l);o.forEach((function(e,t){p.set(e.toLowerCase(),t)}));var w={a:function(e){return s[e.getDay()]},A:function(e){return a[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return u[e.getMonth()]},c:c(n),d:function(e,t){return qt(e.getDate(),t,2)},e:function(e,t){return qt(e.getDate(),t,2)},H:function(e,t){return qt(e.getHours(),t,2)},I:function(e,t){return qt(e.getHours()%12||12,t,2)},j:function(e,t){return qt(1+Rt.dayOfYear(e),t,3)},L:function(e,t){return qt(e.getMilliseconds(),t,3)},m:function(e,t){return qt(e.getMonth()+1,t,2)},M:function(e,t){return qt(e.getMinutes(),t,2)},p:function(e){return o[+(e.getHours()>=12)]},S:function(e,t){return qt(e.getSeconds(),t,2)},U:function(e,t){return qt(Rt.sundayOfYear(e),t,2)},w:function(e){return e.getDay()},W:function(e,t){return qt(Rt.mondayOfYear(e),t,2)},x:c(i),X:c(r),y:function(e,t){return qt(e.getFullYear()%100,t,2)},Y:function(e,t){return qt(e.getFullYear()%1e4,t,4)},Z:sn,"%":function(){return"%"}},E={a:function(e,t,n){m.lastIndex=0;var i=m.exec(t.slice(n));return i?(e.w=g.get(i[0].toLowerCase()),n+i[0].length):-1},A:function(e,t,n){h.lastIndex=0;var i=h.exec(t.slice(n));return i?(e.w=f.get(i[0].toLowerCase()),n+i[0].length):-1},b:function(e,t,n){_.lastIndex=0;var i=_.exec(t.slice(n));return i?(e.m=b.get(i[0].toLowerCase()),n+i[0].length):-1},B:function(e,t,n){y.lastIndex=0;var i=y.exec(t.slice(n));return i?(e.m=v.get(i[0].toLowerCase()),n+i[0].length):-1},c:function(e,t,n){return d(e,w.c.toString(),t,n)},d:en,e:en,H:nn,I:nn,j:tn,L:an,m:Zt,M:rn,p:function(e,t,n){var i=p.get(t.slice(n,n+=2).toLowerCase());return null==i?-1:(e.p=i,n)},S:on,U:Kt,w:Wt,W:Yt,x:function(e,t,n){return d(e,w.x.toString(),t,n)},X:function(e,t,n){return d(e,w.X.toString(),t,n)},y:Xt,Y:Jt,Z:Qt,"%":un};return c}Rt.year=jt((function(e){return(e=Rt.day(e)).setMonth(0,1),e}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e){return e.getFullYear()})),Rt.years=Rt.year.range,Rt.years.utc=Rt.year.utc.range,Rt.day=jt((function(e){var t=new Lt(2e3,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t}),(function(e,t){e.setDate(e.getDate()+t)}),(function(e){return e.getDate()-1})),Rt.days=Rt.day.range,Rt.days.utc=Rt.day.utc.range,Rt.dayOfYear=function(e){var t=Rt.year(e);return Math.floor((e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach((function(e,t){t=7-t;var n=Rt[e]=jt((function(e){return(e=Rt.day(e)).setDate(e.getDate()-(e.getDay()+t)%7),e}),(function(e,t){e.setDate(e.getDate()+7*Math.floor(t))}),(function(e){var n=Rt.year(e).getDay();return Math.floor((Rt.dayOfYear(e)+(n+t)%7)/7)-(n!==t)}));Rt[e+"s"]=n.range,Rt[e+"s"].utc=n.utc.range,Rt[e+"OfYear"]=function(e){var n=Rt.year(e).getDay();return Math.floor((Rt.dayOfYear(e)+(n+t)%7)/7)}})),Rt.week=Rt.sunday,Rt.weeks=Rt.sunday.range,Rt.weeks.utc=Rt.sunday.utc.range,Rt.weekOfYear=Rt.sundayOfYear;var Ht={"-":"",_:" ",0:"0"},$t=/^\s*\d+/,Gt=/^%/;function qt(e,t,n){var i=e<0?"-":"",r=(i?-e:e)+"",o=r.length;return i+(o<n?new Array(n-o+1).join(t)+r:r)}function Vt(t){return new RegExp("^(?:"+t.map(e.requote).join("|")+")","i")}function zt(e){for(var t=new w,n=-1,i=e.length;++n<i;)t.set(e[n].toLowerCase(),n);return t}function Wt(e,t,n){$t.lastIndex=0;var i=$t.exec(t.slice(n,n+1));return i?(e.w=+i[0],n+i[0].length):-1}function Kt(e,t,n){$t.lastIndex=0;var i=$t.exec(t.slice(n));return i?(e.U=+i[0],n+i[0].length):-1}function Yt(e,t,n){$t.lastIndex=0;var i=$t.exec(t.slice(n));return i?(e.W=+i[0],n+i[0].length):-1}function Jt(e,t,n){$t.lastIndex=0;var i=$t.exec(t.slice(n,n+4));return i?(e.y=+i[0],n+i[0].length):-1}function Xt(e,t,n){$t.lastIndex=0;var i,r=$t.exec(t.slice(n,n+2));return r?(e.y=(i=+r[0])+(i>68?1900:2e3),n+r[0].length):-1}function Qt(e,t,n){return/^[+-]\d{4}$/.test(t=t.slice(n,n+5))?(e.Z=-t,n+5):-1}function Zt(e,t,n){$t.lastIndex=0;var i=$t.exec(t.slice(n,n+2));return i?(e.m=i[0]-1,n+i[0].length):-1}function en(e,t,n){$t.lastIndex=0;var i=$t.exec(t.slice(n,n+2));return i?(e.d=+i[0],n+i[0].length):-1}function tn(e,t,n){$t.lastIndex=0;var i=$t.exec(t.slice(n,n+3));return i?(e.j=+i[0],n+i[0].length):-1}function nn(e,t,n){$t.lastIndex=0;var i=$t.exec(t.slice(n,n+2));return i?(e.H=+i[0],n+i[0].length):-1}function rn(e,t,n){$t.lastIndex=0;var i=$t.exec(t.slice(n,n+2));return i?(e.M=+i[0],n+i[0].length):-1}function on(e,t,n){$t.lastIndex=0;var i=$t.exec(t.slice(n,n+2));return i?(e.S=+i[0],n+i[0].length):-1}function an(e,t,n){$t.lastIndex=0;var i=$t.exec(t.slice(n,n+3));return i?(e.L=+i[0],n+i[0].length):-1}function sn(e){var t=e.getTimezoneOffset(),n=t>0?"-":"+",i=v(t)/60|0,r=v(t)%60;return n+qt(i,"0",2)+qt(r,"0",2)}function un(e,t,n){Gt.lastIndex=0;var i=Gt.exec(t.slice(n,n+1));return i?n+i[0].length:-1}function ln(e){for(var t=e.length,n=-1;++n<t;)e[n][0]=this(e[n][0]);return function(t){for(var n=0,i=e[n];!i[1](t);)i=e[++n];return i[0](t)}}e.locale=function(e){return{numberFormat:Dt(e),timeFormat:Ut(e)}};var cn=e.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function dn(){}e.format=cn.numberFormat,e.geo={},dn.prototype={s:0,t:0,add:function(e){hn(e,this.t,pn),hn(pn.s,this.s,this),this.s?this.t+=pn.t:this.s=pn.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var pn=new dn;function hn(e,t,n){var i=n.s=e+t,r=i-e,o=i-r;n.t=e-o+(t-r)}function fn(e,t){e&&gn.hasOwnProperty(e.type)&&gn[e.type](e,t)}e.geo.stream=function(e,t){e&&mn.hasOwnProperty(e.type)?mn[e.type](e,t):fn(e,t)};var mn={Feature:function(e,t){fn(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,i=-1,r=n.length;++i<r;)fn(n[i].geometry,t)}},gn={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)e=n[i],t.point(e[0],e[1],e[2])},LineString:function(e,t){yn(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)yn(n[i],t,0)},Polygon:function(e,t){vn(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)vn(n[i],t)},GeometryCollection:function(e,t){for(var n=e.geometries,i=-1,r=n.length;++i<r;)fn(n[i],t)}};function yn(e,t,n){var i,r=-1,o=e.length-n;for(t.lineStart();++r<o;)i=e[r],t.point(i[0],i[1],i[2]);t.lineEnd()}function vn(e,t){var n=-1,i=e.length;for(t.polygonStart();++n<i;)yn(e[n],t,1);t.polygonEnd()}e.geo.area=function(t){return _n=0,e.geo.stream(t,Pn),_n};var _n,bn,wn,En,Sn,Tn,Cn,xn,An,kn,In,Dn,On=new dn,Pn={sphere:function(){_n+=4*xe},point:R,lineStart:R,lineEnd:R,polygonStart:function(){On.reset(),Pn.lineStart=Nn},polygonEnd:function(){var e=2*On;_n+=e<0?4*xe+e:e,Pn.lineStart=Pn.lineEnd=Pn.point=R}};function Nn(){var e,t,n,i,r;function o(e,t){t=t*De/2+xe/4;var o=(e*=De)-n,a=o>=0?1:-1,s=a*o,u=Math.cos(t),l=Math.sin(t),c=r*l,d=i*u+c*Math.cos(s),p=c*a*Math.sin(s);On.add(Math.atan2(p,d)),n=e,i=u,r=l}Pn.point=function(a,s){Pn.point=o,n=(e=a)*De,i=Math.cos(s=(t=s)*De/2+xe/4),r=Math.sin(s)},Pn.lineEnd=function(){o(e,t)}}function Rn(e){var t=e[0],n=e[1],i=Math.cos(n);return[i*Math.cos(t),i*Math.sin(t),Math.sin(n)]}function Ln(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Mn(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Fn(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function jn(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Bn(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function Un(e){return[Math.atan2(e[1],e[0]),Le(e[2])]}function Hn(e,t){return v(e[0]-t[0])<Te&&v(e[1]-t[1])<Te}e.geo.bounds=function(){var t,n,i,r,o,a,s,u,l,c,d,p={point:h,lineStart:m,lineEnd:g,polygonStart:function(){p.point=y,p.lineStart=_,p.lineEnd=b,l=0,Pn.polygonStart()},polygonEnd:function(){Pn.polygonEnd(),p.point=h,p.lineStart=m,p.lineEnd=g,On<0?(t=-(i=180),n=-(r=90)):l>Te?r=90:l<-Te&&(n=-90),d[0]=t,d[1]=i}};function h(e,o){c.push(d=[t=e,i=e]),o<n&&(n=o),o>r&&(r=o)}function f(e,a){var s=Rn([e*De,a*De]);if(u){var l=Mn(u,s),c=Mn([l[1],-l[0],0],l);Bn(c),c=Un(c);var d=e-o,p=d>0?1:-1,f=c[0]*Oe*p,m=v(d)>180;if(m^(p*o<f&&f<p*e))(g=c[1]*Oe)>r&&(r=g);else if(m^(p*o<(f=(f+360)%360-180)&&f<p*e)){var g;(g=-c[1]*Oe)<n&&(n=g)}else a<n&&(n=a),a>r&&(r=a);m?e<o?w(t,e)>w(t,i)&&(i=e):w(e,i)>w(t,i)&&(t=e):i>=t?(e<t&&(t=e),e>i&&(i=e)):e>o?w(t,e)>w(t,i)&&(i=e):w(e,i)>w(t,i)&&(t=e)}else h(e,a);u=s,o=e}function m(){p.point=f}function g(){d[0]=t,d[1]=i,p.point=h,u=null}function y(e,t){if(u){var n=e-o;l+=v(n)>180?n+(n>0?360:-360):n}else a=e,s=t;Pn.point(e,t),f(e,t)}function _(){Pn.lineStart()}function b(){y(a,s),Pn.lineEnd(),v(l)>Te&&(t=-(i=180)),d[0]=t,d[1]=i,u=null}function w(e,t){return(t-=e)<0?t+360:t}function E(e,t){return e[0]-t[0]}function S(e,t){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}return function(o){if(r=i=-(t=n=1/0),c=[],e.geo.stream(o,p),l=c.length){c.sort(E);for(var a=1,s=[m=c[0]];a<l;++a)S((h=c[a])[0],m)||S(h[1],m)?(w(m[0],h[1])>w(m[0],m[1])&&(m[1]=h[1]),w(h[0],m[1])>w(m[0],m[1])&&(m[0]=h[0])):s.push(m=h);for(var u,l,h,f=-1/0,m=(a=0,s[l=s.length-1]);a<=l;m=h,++a)h=s[a],(u=w(m[1],h[0]))>f&&(f=u,t=h[0],i=m[1])}return c=d=null,t===1/0||n===1/0?[[NaN,NaN],[NaN,NaN]]:[[t,n],[i,r]]}}(),e.geo.centroid=function(t){bn=wn=En=Sn=Tn=Cn=xn=An=kn=In=Dn=0,e.geo.stream(t,$n);var n=kn,i=In,r=Dn,o=n*n+i*i+r*r;return o<Ce&&(n=Cn,i=xn,r=An,wn<Te&&(n=En,i=Sn,r=Tn),(o=n*n+i*i+r*r)<Ce)?[NaN,NaN]:[Math.atan2(i,n)*Oe,Le(r/Math.sqrt(o))*Oe]};var $n={sphere:R,point:Gn,lineStart:Vn,lineEnd:zn,polygonStart:function(){$n.lineStart=Wn},polygonEnd:function(){$n.lineStart=Vn}};function Gn(e,t){e*=De;var n=Math.cos(t*=De);qn(n*Math.cos(e),n*Math.sin(e),Math.sin(t))}function qn(e,t,n){++bn,En+=(e-En)/bn,Sn+=(t-Sn)/bn,Tn+=(n-Tn)/bn}function Vn(){var e,t,n;function i(i,r){i*=De;var o=Math.cos(r*=De),a=o*Math.cos(i),s=o*Math.sin(i),u=Math.sin(r),l=Math.atan2(Math.sqrt((l=t*u-n*s)*l+(l=n*a-e*u)*l+(l=e*s-t*a)*l),e*a+t*s+n*u);wn+=l,Cn+=l*(e+(e=a)),xn+=l*(t+(t=s)),An+=l*(n+(n=u)),qn(e,t,n)}$n.point=function(r,o){r*=De;var a=Math.cos(o*=De);e=a*Math.cos(r),t=a*Math.sin(r),n=Math.sin(o),$n.point=i,qn(e,t,n)}}function zn(){$n.point=Gn}function Wn(){var e,t,n,i,r;function o(e,t){e*=De;var o=Math.cos(t*=De),a=o*Math.cos(e),s=o*Math.sin(e),u=Math.sin(t),l=i*u-r*s,c=r*a-n*u,d=n*s-i*a,p=Math.sqrt(l*l+c*c+d*d),h=n*a+i*s+r*u,f=p&&-Re(h)/p,m=Math.atan2(p,h);kn+=f*l,In+=f*c,Dn+=f*d,wn+=m,Cn+=m*(n+(n=a)),xn+=m*(i+(i=s)),An+=m*(r+(r=u)),qn(n,i,r)}$n.point=function(a,s){e=a,t=s,$n.point=o,a*=De;var u=Math.cos(s*=De);n=u*Math.cos(a),i=u*Math.sin(a),r=Math.sin(s),qn(n,i,r)},$n.lineEnd=function(){o(e,t),$n.lineEnd=zn,$n.point=Gn}}function Kn(e,t){function n(n,i){return n=e(n,i),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,i){return(n=t.invert(n,i))&&e.invert(n[0],n[1])}),n}function Yn(){return!0}function Jn(e,t,n,i,r){var o=[],a=[];if(e.forEach((function(e){if(!((t=e.length-1)<=0)){var t,n=e[0],i=e[t];if(Hn(n,i)){r.lineStart();for(var s=0;s<t;++s)r.point((n=e[s])[0],n[1]);r.lineEnd()}else{var u=new Qn(n,e,null,!0),l=new Qn(n,null,u,!1);u.o=l,o.push(u),a.push(l),u=new Qn(i,e,null,!1),l=new Qn(i,null,u,!0),u.o=l,o.push(u),a.push(l)}}})),a.sort(t),Xn(o),Xn(a),o.length){for(var s=0,u=n,l=a.length;s<l;++s)a[s].e=u=!u;for(var c,d,p=o[0];;){for(var h=p,f=!0;h.v;)if((h=h.n)===p)return;c=h.z,r.lineStart();do{if(h.v=h.o.v=!0,h.e){if(f)for(s=0,l=c.length;s<l;++s)r.point((d=c[s])[0],d[1]);else i(h.x,h.n.x,1,r);h=h.n}else{if(f)for(s=(c=h.p.z).length-1;s>=0;--s)r.point((d=c[s])[0],d[1]);else i(h.x,h.p.x,-1,r);h=h.p}c=(h=h.o).z,f=!f}while(!h.v);r.lineEnd()}}}function Xn(e){if(t=e.length){for(var t,n,i=0,r=e[0];++i<t;)r.n=n=e[i],n.p=r,r=n;r.n=n=e[0],n.p=r}}function Qn(e,t,n,i){this.x=e,this.z=t,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function Zn(t,n,i,r){return function(o,a){var s,u=n(a),l=o.invert(r[0],r[1]),c={point:d,lineStart:h,lineEnd:f,polygonStart:function(){c.point=b,c.lineStart=w,c.lineEnd=E,s=[],m=[]},polygonEnd:function(){c.point=d,c.lineStart=h,c.lineEnd=f,s=e.merge(s);var t=function(e,t){var n=e[0],i=e[1],r=[Math.sin(n),-Math.cos(n),0],o=0,a=0;On.reset();for(var s=0,u=t.length;s<u;++s){var l=t[s],c=l.length;if(c)for(var d=l[0],p=d[0],h=d[1]/2+xe/4,f=Math.sin(h),m=Math.cos(h),g=1;;){g===c&&(g=0);var y=(e=l[g])[0],v=e[1]/2+xe/4,_=Math.sin(v),b=Math.cos(v),w=y-p,E=w>=0?1:-1,S=E*w,T=S>xe,C=f*_;if(On.add(Math.atan2(C*E*Math.sin(S),m*b+C*Math.cos(S))),o+=T?w+E*Ae:w,T^p>=n^y>=n){var x=Mn(Rn(d),Rn(e));Bn(x);var A=Mn(r,x);Bn(A);var k=(T^w>=0?-1:1)*Le(A[2]);(i>k||i===k&&(x[0]||x[1]))&&(a+=T^w>=0?1:-1)}if(!g++)break;p=y,f=_,m=b,d=e}}return(o<-Te||o<Te&&On<-Te)^1&a}(l,m);s.length?(_||(a.polygonStart(),_=!0),Jn(s,ni,t,i,a)):t&&(_||(a.polygonStart(),_=!0),a.lineStart(),i(null,null,1,a),a.lineEnd()),_&&(a.polygonEnd(),_=!1),s=m=null},sphere:function(){a.polygonStart(),a.lineStart(),i(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function d(e,n){var i=o(e,n);t(e=i[0],n=i[1])&&a.point(e,n)}function p(e,t){var n=o(e,t);u.point(n[0],n[1])}function h(){c.point=p,u.lineStart()}function f(){c.point=d,u.lineEnd()}var m,g,y=ti(),v=n(y),_=!1;function b(e,t){g.push([e,t]);var n=o(e,t);v.point(n[0],n[1])}function w(){v.lineStart(),g=[]}function E(){b(g[0][0],g[0][1]),v.lineEnd();var e,t=v.clean(),n=y.buffer(),i=n.length;if(g.pop(),m.push(g),g=null,i)if(1&t){var r,o=-1;if((i=(e=n[0]).length-1)>0){for(_||(a.polygonStart(),_=!0),a.lineStart();++o<i;)a.point((r=e[o])[0],r[1]);a.lineEnd()}}else i>1&&2&t&&n.push(n.pop().concat(n.shift())),s.push(n.filter(ei))}return c}}function ei(e){return e.length>1}function ti(){var e,t=[];return{lineStart:function(){t.push(e=[])},point:function(t,n){e.push([t,n])},lineEnd:R,buffer:function(){var n=t;return t=[],e=null,n},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function ni(e,t){return((e=e.x)[0]<0?e[1]-Ie-Te:Ie-e[1])-((t=t.x)[0]<0?t[1]-Ie-Te:Ie-t[1])}var ii=Zn(Yn,(function(e){var t,n=NaN,i=NaN,r=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(o,a){var s=o>0?xe:-xe,u=v(o-n);v(u-xe)<Te?(e.point(n,i=(i+a)/2>0?Ie:-Ie),e.point(r,i),e.lineEnd(),e.lineStart(),e.point(s,i),e.point(o,i),t=0):r!==s&&u>=xe&&(v(n-r)<Te&&(n-=r*Te),v(o-s)<Te&&(o-=s*Te),i=function(e,t,n,i){var r,o,a=Math.sin(e-n);return v(a)>Te?Math.atan((Math.sin(t)*(o=Math.cos(i))*Math.sin(n)-Math.sin(i)*(r=Math.cos(t))*Math.sin(e))/(r*o*a)):(t+i)/2}(n,i,o,a),e.point(r,i),e.lineEnd(),e.lineStart(),e.point(s,i),t=0),e.point(n=o,i=a),r=s},lineEnd:function(){e.lineEnd(),n=i=NaN},clean:function(){return 2-t}}}),(function(e,t,n,i){var r;if(null==e)r=n*Ie,i.point(-xe,r),i.point(0,r),i.point(xe,r),i.point(xe,0),i.point(xe,-r),i.point(0,-r),i.point(-xe,-r),i.point(-xe,0),i.point(-xe,r);else if(v(e[0]-t[0])>Te){var o=e[0]<t[0]?xe:-xe;r=n*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(t[0],t[1])}),[-xe,-xe/2]);function ri(e){var t=Math.cos(e),n=t>0,i=v(t)>Te;return Zn(r,(function(e){var t,s,u,l,c;return{lineStart:function(){l=u=!1,c=1},point:function(d,p){var h,f=[d,p],m=r(d,p),g=n?m?0:a(d,p):m?a(d+(d<0?xe:-xe),p):0;if(!t&&(l=u=m)&&e.lineStart(),m!==u&&(h=o(t,f),(Hn(t,h)||Hn(f,h))&&(f[0]+=Te,f[1]+=Te,m=r(f[0],f[1]))),m!==u)c=0,m?(e.lineStart(),h=o(f,t),e.point(h[0],h[1])):(h=o(t,f),e.point(h[0],h[1]),e.lineEnd()),t=h;else if(i&&t&&n^m){var y;g&s||!(y=o(f,t,!0))||(c=0,n?(e.lineStart(),e.point(y[0][0],y[0][1]),e.point(y[1][0],y[1][1]),e.lineEnd()):(e.point(y[1][0],y[1][1]),e.lineEnd(),e.lineStart(),e.point(y[0][0],y[0][1])))}!m||t&&Hn(t,f)||e.point(f[0],f[1]),t=f,u=m,s=g},lineEnd:function(){u&&e.lineEnd(),t=null},clean:function(){return c|(l&&u)<<1}}}),Hi(e,6*De),n?[0,-e]:[-xe,e-xe]);function r(e,n){return Math.cos(e)*Math.cos(n)>t}function o(e,n,i){var r=[1,0,0],o=Mn(Rn(e),Rn(n)),a=Ln(o,o),s=o[0],u=a-s*s;if(!u)return!i&&e;var l=t*a/u,c=-t*s/u,d=Mn(r,o),p=jn(r,l);Fn(p,jn(o,c));var h=d,f=Ln(p,h),m=Ln(h,h),g=f*f-m*(Ln(p,p)-1);if(!(g<0)){var y=Math.sqrt(g),_=jn(h,(-f-y)/m);if(Fn(_,p),_=Un(_),!i)return _;var b,w=e[0],E=n[0],S=e[1],T=n[1];E<w&&(b=w,w=E,E=b);var C=E-w,x=v(C-xe)<Te;if(!x&&T<S&&(b=S,S=T,T=b),x||C<Te?x?S+T>0^_[1]<(v(_[0]-w)<Te?S:T):S<=_[1]&&_[1]<=T:C>xe^(w<=_[0]&&_[0]<=E)){var A=jn(h,(-f+y)/m);return Fn(A,p),[_,Un(A)]}}}function a(t,i){var r=n?e:xe-e,o=0;return t<-r?o|=1:t>r&&(o|=2),i<-r?o|=4:i>r&&(o|=8),o}}function oi(e,t,n,i){return function(r){var o,a=r.a,s=r.b,u=a.x,l=a.y,c=0,d=1,p=s.x-u,h=s.y-l;if(o=e-u,p||!(o>0)){if(o/=p,p<0){if(o<c)return;o<d&&(d=o)}else if(p>0){if(o>d)return;o>c&&(c=o)}if(o=n-u,p||!(o<0)){if(o/=p,p<0){if(o>d)return;o>c&&(c=o)}else if(p>0){if(o<c)return;o<d&&(d=o)}if(o=t-l,h||!(o>0)){if(o/=h,h<0){if(o<c)return;o<d&&(d=o)}else if(h>0){if(o>d)return;o>c&&(c=o)}if(o=i-l,h||!(o<0)){if(o/=h,h<0){if(o>d)return;o>c&&(c=o)}else if(h>0){if(o<c)return;o<d&&(d=o)}return c>0&&(r.a={x:u+c*p,y:l+c*h}),d<1&&(r.b={x:u+d*p,y:l+d*h}),r}}}}}}var ai=1e9;function si(t,n,i,r){return function(u){var l,c,d,p,h,f,m,g,y,v,_,b=u,w=ti(),E=oi(t,n,i,r),S={point:x,lineStart:function(){S.point=A,c&&c.push(d=[]);v=!0,y=!1,m=g=NaN},lineEnd:function(){l&&(A(p,h),f&&y&&w.rejoin(),l.push(w.buffer()));S.point=x,y&&u.lineEnd()},polygonStart:function(){u=w,l=[],c=[],_=!0},polygonEnd:function(){u=b,l=e.merge(l);var n=function(e){for(var t=0,n=c.length,i=e[1],r=0;r<n;++r)for(var o,a=1,s=c[r],u=s.length,l=s[0];a<u;++a)o=s[a],l[1]<=i?o[1]>i&&Ne(l,o,e)>0&&++t:o[1]<=i&&Ne(l,o,e)<0&&--t,l=o;return 0!==t}([t,r]),i=_&&n,o=l.length;(i||o)&&(u.polygonStart(),i&&(u.lineStart(),T(null,null,1,u),u.lineEnd()),o&&Jn(l,a,n,T,u),u.polygonEnd()),l=c=d=null}};function T(e,a,u,l){var c=0,d=0;if(null==e||(c=o(e,u))!==(d=o(a,u))||s(e,a)<0^u>0)do{l.point(0===c||3===c?t:i,c>1?r:n)}while((c=(c+u+4)%4)!==d);else l.point(a[0],a[1])}function C(e,o){return t<=e&&e<=i&&n<=o&&o<=r}function x(e,t){C(e,t)&&u.point(e,t)}function A(e,t){var n=C(e=Math.max(-1e9,Math.min(ai,e)),t=Math.max(-1e9,Math.min(ai,t)));if(c&&d.push([e,t]),v)p=e,h=t,f=n,v=!1,n&&(u.lineStart(),u.point(e,t));else if(n&&y)u.point(e,t);else{var i={a:{x:m,y:g},b:{x:e,y:t}};E(i)?(y||(u.lineStart(),u.point(i.a.x,i.a.y)),u.point(i.b.x,i.b.y),n||u.lineEnd(),_=!1):n&&(u.lineStart(),u.point(e,t),_=!1)}m=e,g=t,y=n}return S};function o(e,r){return v(e[0]-t)<Te?r>0?0:3:v(e[0]-i)<Te?r>0?2:1:v(e[1]-n)<Te?r>0?1:0:r>0?3:2}function a(e,t){return s(e.x,t.x)}function s(e,t){var n=o(e,1),i=o(t,1);return n!==i?n-i:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}}function ui(e){var t=0,n=xe/3,i=Ni(e),r=i(t,n);return r.parallels=function(e){return arguments.length?i(t=e[0]*xe/180,n=e[1]*xe/180):[t/xe*180,n/xe*180]},r}function li(e,t){var n=Math.sin(e),i=(n+Math.sin(t))/2,r=1+n*(2*i-n),o=Math.sqrt(r)/i;function a(e,t){var n=Math.sqrt(r-2*i*Math.sin(t))/i;return[n*Math.sin(e*=i),o-n*Math.cos(e)]}return a.invert=function(e,t){var n=o-t;return[Math.atan2(e,n)/i,Le((r-(e*e+n*n)*i*i)/(2*i))]},a}e.geo.clipExtent=function(){var e,t,n,i,r,o,a={stream:function(e){return r&&(r.valid=!1),(r=o(e)).valid=!0,r},extent:function(s){return arguments.length?(o=si(e=+s[0][0],t=+s[0][1],n=+s[1][0],i=+s[1][1]),r&&(r.valid=!1,r=null),a):[[e,t],[n,i]]}};return a.extent([[0,0],[960,500]])},(e.geo.conicEqualArea=function(){return ui(li)}).raw=li,e.geo.albers=function(){return e.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},e.geo.albersUsa=function(){var t,n,i,r,o=e.geo.albers(),a=e.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=e.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(e,n){t=[e,n]}};function l(e){var o=e[0],a=e[1];return t=null,n(o,a),t||(i(o,a),t)||r(o,a),t}return l.invert=function(e){var t=o.scale(),n=o.translate(),i=(e[0]-n[0])/t,r=(e[1]-n[1])/t;return(r>=.12&&r<.234&&i>=-.425&&i<-.214?a:r>=.166&&r<.234&&i>=-.214&&i<-.115?s:o).invert(e)},l.stream=function(e){var t=o.stream(e),n=a.stream(e),i=s.stream(e);return{point:function(e,r){t.point(e,r),n.point(e,r),i.point(e,r)},sphere:function(){t.sphere(),n.sphere(),i.sphere()},lineStart:function(){t.lineStart(),n.lineStart(),i.lineStart()},lineEnd:function(){t.lineEnd(),n.lineEnd(),i.lineEnd()},polygonStart:function(){t.polygonStart(),n.polygonStart(),i.polygonStart()},polygonEnd:function(){t.polygonEnd(),n.polygonEnd(),i.polygonEnd()}}},l.precision=function(e){return arguments.length?(o.precision(e),a.precision(e),s.precision(e),l):o.precision()},l.scale=function(e){return arguments.length?(o.scale(e),a.scale(.35*e),s.scale(e),l.translate(o.translate())):o.scale()},l.translate=function(e){if(!arguments.length)return o.translate();var t=o.scale(),c=+e[0],d=+e[1];return n=o.translate(e).clipExtent([[c-.455*t,d-.238*t],[c+.455*t,d+.238*t]]).stream(u).point,i=a.translate([c-.307*t,d+.201*t]).clipExtent([[c-.425*t+Te,d+.12*t+Te],[c-.214*t-Te,d+.234*t-Te]]).stream(u).point,r=s.translate([c-.205*t,d+.212*t]).clipExtent([[c-.214*t+Te,d+.166*t+Te],[c-.115*t-Te,d+.234*t-Te]]).stream(u).point,l},l.scale(1070)};var ci,di,pi,hi,fi,mi,gi={point:R,lineStart:R,lineEnd:R,polygonStart:function(){di=0,gi.lineStart=yi},polygonEnd:function(){gi.lineStart=gi.lineEnd=gi.point=R,ci+=v(di/2)}};function yi(){var e,t,n,i;function r(e,t){di+=i*e-n*t,n=e,i=t}gi.point=function(o,a){gi.point=r,e=n=o,t=i=a},gi.lineEnd=function(){r(e,t)}}var vi={point:function(e,t){e<pi&&(pi=e);e>fi&&(fi=e);t<hi&&(hi=t);t>mi&&(mi=t)},lineStart:R,lineEnd:R,polygonStart:R,polygonEnd:R};function _i(){var e=bi(4.5),t=[],n={point:i,lineStart:function(){n.point=r},lineEnd:a,polygonStart:function(){n.lineEnd=s},polygonEnd:function(){n.lineEnd=a,n.point=i},pointRadius:function(t){return e=bi(t),n},result:function(){if(t.length){var e=t.join("");return t=[],e}}};function i(n,i){t.push("M",n,",",i,e)}function r(e,i){t.push("M",e,",",i),n.point=o}function o(e,n){t.push("L",e,",",n)}function a(){n.point=i}function s(){t.push("Z")}return n}function bi(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}var wi,Ei={point:Si,lineStart:Ti,lineEnd:Ci,polygonStart:function(){Ei.lineStart=xi},polygonEnd:function(){Ei.point=Si,Ei.lineStart=Ti,Ei.lineEnd=Ci}};function Si(e,t){En+=e,Sn+=t,++Tn}function Ti(){var e,t;function n(n,i){var r=n-e,o=i-t,a=Math.sqrt(r*r+o*o);Cn+=a*(e+n)/2,xn+=a*(t+i)/2,An+=a,Si(e=n,t=i)}Ei.point=function(i,r){Ei.point=n,Si(e=i,t=r)}}function Ci(){Ei.point=Si}function xi(){var e,t,n,i;function r(e,t){var r=e-n,o=t-i,a=Math.sqrt(r*r+o*o);Cn+=a*(n+e)/2,xn+=a*(i+t)/2,An+=a,kn+=(a=i*e-n*t)*(n+e),In+=a*(i+t),Dn+=3*a,Si(n=e,i=t)}Ei.point=function(o,a){Ei.point=r,Si(e=n=o,t=i=a)},Ei.lineEnd=function(){r(e,t)}}function Ai(e){var t=4.5,n={point:i,lineStart:function(){n.point=r},lineEnd:a,polygonStart:function(){n.lineEnd=s},polygonEnd:function(){n.lineEnd=a,n.point=i},pointRadius:function(e){return t=e,n},result:R};function i(n,i){e.moveTo(n+t,i),e.arc(n,i,t,0,Ae)}function r(t,i){e.moveTo(t,i),n.point=o}function o(t,n){e.lineTo(t,n)}function a(){n.point=i}function s(){e.closePath()}return n}function ki(e){var t=.5,n=Math.cos(30*De),i=16;function r(e){return(i?a:o)(e)}function o(t){return Oi(t,(function(n,i){n=e(n,i),t.point(n[0],n[1])}))}function a(t){var n,r,o,a,u,l,c,d,p,h,f,m,g={point:y,lineStart:v,lineEnd:b,polygonStart:function(){t.polygonStart(),g.lineStart=w},polygonEnd:function(){t.polygonEnd(),g.lineStart=v}};function y(n,i){n=e(n,i),t.point(n[0],n[1])}function v(){d=NaN,g.point=_,t.lineStart()}function _(n,r){var o=Rn([n,r]),a=e(n,r);s(d,p,c,h,f,m,d=a[0],p=a[1],c=n,h=o[0],f=o[1],m=o[2],i,t),t.point(d,p)}function b(){g.point=y,t.lineEnd()}function w(){v(),g.point=E,g.lineEnd=S}function E(e,t){_(n=e,t),r=d,o=p,a=h,u=f,l=m,g.point=_}function S(){s(d,p,c,h,f,m,r,o,n,a,u,l,i,t),g.lineEnd=b,b()}return g}function s(i,r,o,a,u,l,c,d,p,h,f,m,g,y){var _=c-i,b=d-r,w=_*_+b*b;if(w>4*t&&g--){var E=a+h,S=u+f,T=l+m,C=Math.sqrt(E*E+S*S+T*T),x=Math.asin(T/=C),A=v(v(T)-1)<Te||v(o-p)<Te?(o+p)/2:Math.atan2(S,E),k=e(A,x),I=k[0],D=k[1],O=I-i,P=D-r,N=b*O-_*P;(N*N/w>t||v((_*O+b*P)/w-.5)>.3||a*h+u*f+l*m<n)&&(s(i,r,o,a,u,l,I,D,A,E/=C,S/=C,T,g,y),y.point(I,D),s(I,D,A,E,S,T,c,d,p,h,f,m,g,y))}}return r.precision=function(e){return arguments.length?(i=(t=e*e)>0&&16,r):Math.sqrt(t)},r}function Ii(e){var t=ki((function(t,n){return e([t*Oe,n*Oe])}));return function(e){return Ri(t(e))}}function Di(e){this.stream=e}function Oi(e,t){return{point:t,sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}function Pi(e){return Ni((function(){return e}))()}function Ni(t){var n,i,r,o,a,s,u=ki((function(e,t){return[(e=n(e,t))[0]*l+o,a-e[1]*l]})),l=150,c=480,d=250,p=0,h=0,f=0,m=0,g=0,y=ii,v=D,_=null,b=null;function w(e){return[(e=r(e[0]*De,e[1]*De))[0]*l+o,a-e[1]*l]}function E(e){return(e=r.invert((e[0]-o)/l,(a-e[1])/l))&&[e[0]*Oe,e[1]*Oe]}function S(){r=Kn(i=Fi(f,m,g),n);var e=n(p,h);return o=c-e[0]*l,a=d+e[1]*l,T()}function T(){return s&&(s.valid=!1,s=null),w}return w.stream=function(e){return s&&(s.valid=!1),(s=Ri(y(i,u(v(e))))).valid=!0,s},w.clipAngle=function(e){return arguments.length?(y=null==e?(_=e,ii):ri((_=+e)*De),T()):_},w.clipExtent=function(e){return arguments.length?(b=e,v=e?si(e[0][0],e[0][1],e[1][0],e[1][1]):D,T()):b},w.scale=function(e){return arguments.length?(l=+e,S()):l},w.translate=function(e){return arguments.length?(c=+e[0],d=+e[1],S()):[c,d]},w.center=function(e){return arguments.length?(p=e[0]%360*De,h=e[1]%360*De,S()):[p*Oe,h*Oe]},w.rotate=function(e){return arguments.length?(f=e[0]%360*De,m=e[1]%360*De,g=e.length>2?e[2]%360*De:0,S()):[f*Oe,m*Oe,g*Oe]},e.rebind(w,u,"precision"),function(){return n=t.apply(this,arguments),w.invert=n.invert&&E,S()}}function Ri(e){return Oi(e,(function(t,n){e.point(t*De,n*De)}))}function Li(e,t){return[e,t]}function Mi(e,t){return[e>xe?e-Ae:e<-xe?e+Ae:e,t]}function Fi(e,t,n){return e?t||n?Kn(Bi(e),Ui(t,n)):Bi(e):t||n?Ui(t,n):Mi}function ji(e){return function(t,n){return[(t+=e)>xe?t-Ae:t<-xe?t+Ae:t,n]}}function Bi(e){var t=ji(e);return t.invert=ji(-e),t}function Ui(e,t){var n=Math.cos(e),i=Math.sin(e),r=Math.cos(t),o=Math.sin(t);function a(e,t){var a=Math.cos(t),s=Math.cos(e)*a,u=Math.sin(e)*a,l=Math.sin(t),c=l*n+s*i;return[Math.atan2(u*r-c*o,s*n-l*i),Le(c*r+u*o)]}return a.invert=function(e,t){var a=Math.cos(t),s=Math.cos(e)*a,u=Math.sin(e)*a,l=Math.sin(t),c=l*r-u*o;return[Math.atan2(u*r+l*o,s*n+c*i),Le(c*n-s*i)]},a}function Hi(e,t){var n=Math.cos(e),i=Math.sin(e);return function(r,o,a,s){var u=a*t;null!=r?(r=$i(n,r),o=$i(n,o),(a>0?r<o:r>o)&&(r+=a*Ae)):(r=e+a*Ae,o=e-.5*u);for(var l,c=r;a>0?c>o:c<o;c-=u)s.point((l=Un([n,-i*Math.cos(c),-i*Math.sin(c)]))[0],l[1])}}function $i(e,t){var n=Rn(t);n[0]-=e,Bn(n);var i=Re(-n[1]);return((-n[2]<0?-i:i)+2*Math.PI-Te)%(2*Math.PI)}function Gi(t,n,i){var r=e.range(t,n-Te,i).concat(n);return function(e){return r.map((function(t){return[e,t]}))}}function qi(t,n,i){var r=e.range(t,n-Te,i).concat(n);return function(e){return r.map((function(t){return[t,e]}))}}function Vi(e){return e.source}function zi(e){return e.target}e.geo.path=function(){var t,n,i,r,o,a=4.5;function s(t){return t&&("function"==typeof a&&r.pointRadius(+a.apply(this,arguments)),o&&o.valid||(o=i(r)),e.geo.stream(t,o)),r.result()}function u(){return o=null,s}return s.area=function(t){return ci=0,e.geo.stream(t,i(gi)),ci},s.centroid=function(t){return En=Sn=Tn=Cn=xn=An=kn=In=Dn=0,e.geo.stream(t,i(Ei)),Dn?[kn/Dn,In/Dn]:An?[Cn/An,xn/An]:Tn?[En/Tn,Sn/Tn]:[NaN,NaN]},s.bounds=function(t){return fi=mi=-(pi=hi=1/0),e.geo.stream(t,i(vi)),[[pi,hi],[fi,mi]]},s.projection=function(e){return arguments.length?(i=(t=e)?e.stream||Ii(e):D,u()):t},s.context=function(e){return arguments.length?(r=null==(n=e)?new _i:new Ai(e),"function"!=typeof a&&r.pointRadius(a),u()):n},s.pointRadius=function(e){return arguments.length?(a="function"==typeof e?e:(r.pointRadius(+e),+e),s):a},s.projection(e.geo.albersUsa()).context(null)},e.geo.transform=function(e){return{stream:function(t){var n=new Di(t);for(var i in e)n[i]=e[i];return n}}},Di.prototype={point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},e.geo.projection=Pi,e.geo.projectionMutator=Ni,(e.geo.equirectangular=function(){return Pi(Li)}).raw=Li.invert=Li,e.geo.rotation=function(e){function t(t){return(t=e(t[0]*De,t[1]*De))[0]*=Oe,t[1]*=Oe,t}return e=Fi(e[0]%360*De,e[1]*De,e.length>2?e[2]*De:0),t.invert=function(t){return(t=e.invert(t[0]*De,t[1]*De))[0]*=Oe,t[1]*=Oe,t},t},Mi.invert=Li,e.geo.circle=function(){var e,t,n=[0,0],i=6;function r(){var e="function"==typeof n?n.apply(this,arguments):n,i=Fi(-e[0]*De,-e[1]*De,0).invert,r=[];return t(null,null,1,{point:function(e,t){r.push(e=i(e,t)),e[0]*=Oe,e[1]*=Oe}}),{type:"Polygon",coordinates:[r]}}return r.origin=function(e){return arguments.length?(n=e,r):n},r.angle=function(n){return arguments.length?(t=Hi((e=+n)*De,i*De),r):e},r.precision=function(n){return arguments.length?(t=Hi(e*De,(i=+n)*De),r):i},r.angle(90)},e.geo.distance=function(e,t){var n,i=(t[0]-e[0])*De,r=e[1]*De,o=t[1]*De,a=Math.sin(i),s=Math.cos(i),u=Math.sin(r),l=Math.cos(r),c=Math.sin(o),d=Math.cos(o);return Math.atan2(Math.sqrt((n=d*a)*n+(n=l*c-u*d*s)*n),u*c+l*d*s)},e.geo.graticule=function(){var t,n,i,r,o,a,s,u,l,c,d,p,h=10,f=h,m=90,g=360,y=2.5;function _(){return{type:"MultiLineString",coordinates:b()}}function b(){return e.range(Math.ceil(r/m)*m,i,m).map(d).concat(e.range(Math.ceil(u/g)*g,s,g).map(p)).concat(e.range(Math.ceil(n/h)*h,t,h).filter((function(e){return v(e%m)>Te})).map(l)).concat(e.range(Math.ceil(a/f)*f,o,f).filter((function(e){return v(e%g)>Te})).map(c))}return _.lines=function(){return b().map((function(e){return{type:"LineString",coordinates:e}}))},_.outline=function(){return{type:"Polygon",coordinates:[d(r).concat(p(s).slice(1),d(i).reverse().slice(1),p(u).reverse().slice(1))]}},_.extent=function(e){return arguments.length?_.majorExtent(e).minorExtent(e):_.minorExtent()},_.majorExtent=function(e){return arguments.length?(r=+e[0][0],i=+e[1][0],u=+e[0][1],s=+e[1][1],r>i&&(e=r,r=i,i=e),u>s&&(e=u,u=s,s=e),_.precision(y)):[[r,u],[i,s]]},_.minorExtent=function(e){return arguments.length?(n=+e[0][0],t=+e[1][0],a=+e[0][1],o=+e[1][1],n>t&&(e=n,n=t,t=e),a>o&&(e=a,a=o,o=e),_.precision(y)):[[n,a],[t,o]]},_.step=function(e){return arguments.length?_.majorStep(e).minorStep(e):_.minorStep()},_.majorStep=function(e){return arguments.length?(m=+e[0],g=+e[1],_):[m,g]},_.minorStep=function(e){return arguments.length?(h=+e[0],f=+e[1],_):[h,f]},_.precision=function(e){return arguments.length?(y=+e,l=Gi(a,o,90),c=qi(n,t,y),d=Gi(u,s,90),p=qi(r,i,y),_):y},_.majorExtent([[-180,-90+Te],[180,90-Te]]).minorExtent([[-180,-80-Te],[180,80+Te]])},e.geo.greatArc=function(){var t,n,i=Vi,r=zi;function o(){return{type:"LineString",coordinates:[t||i.apply(this,arguments),n||r.apply(this,arguments)]}}return o.distance=function(){return e.geo.distance(t||i.apply(this,arguments),n||r.apply(this,arguments))},o.source=function(e){return arguments.length?(i=e,t="function"==typeof e?null:e,o):i},o.target=function(e){return arguments.length?(r=e,n="function"==typeof e?null:e,o):r},o.precision=function(){return arguments.length?o:0},o},e.geo.interpolate=function(e,t){return n=e[0]*De,i=e[1]*De,r=t[0]*De,o=t[1]*De,a=Math.cos(i),s=Math.sin(i),u=Math.cos(o),l=Math.sin(o),c=a*Math.cos(n),d=a*Math.sin(n),p=u*Math.cos(r),h=u*Math.sin(r),f=2*Math.asin(Math.sqrt(Fe(o-i)+a*u*Fe(r-n))),m=1/Math.sin(f),(g=f?function(e){var t=Math.sin(e*=f)*m,n=Math.sin(f-e)*m,i=n*c+t*p,r=n*d+t*h,o=n*s+t*l;return[Math.atan2(r,i)*Oe,Math.atan2(o,Math.sqrt(i*i+r*r))*Oe]}:function(){return[n*Oe,i*Oe]}).distance=f,g;var n,i,r,o,a,s,u,l,c,d,p,h,f,m,g},e.geo.length=function(t){return wi=0,e.geo.stream(t,Wi),wi};var Wi={sphere:R,point:R,lineStart:function(){var e,t,n;function i(i,r){var o=Math.sin(r*=De),a=Math.cos(r),s=v((i*=De)-e),u=Math.cos(s);wi+=Math.atan2(Math.sqrt((s=a*Math.sin(s))*s+(s=n*o-t*a*u)*s),t*o+n*a*u),e=i,t=o,n=a}Wi.point=function(r,o){e=r*De,t=Math.sin(o*=De),n=Math.cos(o),Wi.point=i},Wi.lineEnd=function(){Wi.point=Wi.lineEnd=R}},lineEnd:R,polygonStart:R,polygonEnd:R};function Ki(e,t){function n(t,n){var i=Math.cos(t),r=Math.cos(n),o=e(i*r);return[o*r*Math.sin(t),o*Math.sin(n)]}return n.invert=function(e,n){var i=Math.sqrt(e*e+n*n),r=t(i),o=Math.sin(r),a=Math.cos(r);return[Math.atan2(e*o,i*a),Math.asin(i&&n*o/i)]},n}var Yi=Ki((function(e){return Math.sqrt(2/(1+e))}),(function(e){return 2*Math.asin(e/2)}));(e.geo.azimuthalEqualArea=function(){return Pi(Yi)}).raw=Yi;var Ji=Ki((function(e){var t=Math.acos(e);return t&&t/Math.sin(t)}),D);function Xi(e,t){var n=Math.cos(e),i=function(e){return Math.tan(xe/4+e/2)},r=e===t?Math.sin(e):Math.log(n/Math.cos(t))/Math.log(i(t)/i(e)),o=n*Math.pow(i(e),r)/r;if(!r)return er;function a(e,t){o>0?t<-Ie+Te&&(t=-Ie+Te):t>Ie-Te&&(t=Ie-Te);var n=o/Math.pow(i(t),r);return[n*Math.sin(r*e),o-n*Math.cos(r*e)]}return a.invert=function(e,t){var n=o-t,i=Pe(r)*Math.sqrt(e*e+n*n);return[Math.atan2(e,n)/r,2*Math.atan(Math.pow(o/i,1/r))-Ie]},a}function Qi(e,t){var n=Math.cos(e),i=e===t?Math.sin(e):(n-Math.cos(t))/(t-e),r=n/i+e;if(v(i)<Te)return Li;function o(e,t){var n=r-t;return[n*Math.sin(i*e),r-n*Math.cos(i*e)]}return o.invert=function(e,t){var n=r-t;return[Math.atan2(e,n)/i,r-Pe(i)*Math.sqrt(e*e+n*n)]},o}(e.geo.azimuthalEquidistant=function(){return Pi(Ji)}).raw=Ji,(e.geo.conicConformal=function(){return ui(Xi)}).raw=Xi,(e.geo.conicEquidistant=function(){return ui(Qi)}).raw=Qi;var Zi=Ki((function(e){return 1/e}),Math.atan);function er(e,t){return[e,Math.log(Math.tan(xe/4+t/2))]}function tr(e){var t,n=Pi(e),i=n.scale,r=n.translate,o=n.clipExtent;return n.scale=function(){var e=i.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.translate=function(){var e=r.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.clipExtent=function(e){var a=o.apply(n,arguments);if(a===n){if(t=null==e){var s=xe*i(),u=r();o([[u[0]-s,u[1]-s],[u[0]+s,u[1]+s]])}}else t&&(a=null);return a},n.clipExtent(null)}(e.geo.gnomonic=function(){return Pi(Zi)}).raw=Zi,er.invert=function(e,t){return[e,2*Math.atan(Math.exp(t))-Ie]},(e.geo.mercator=function(){return tr(er)}).raw=er;var nr=Ki((function(){return 1}),Math.asin);(e.geo.orthographic=function(){return Pi(nr)}).raw=nr;var ir=Ki((function(e){return 1/(1+e)}),(function(e){return 2*Math.atan(e)}));function rr(e,t){return[Math.log(Math.tan(xe/4+t/2)),-e]}function or(e){return e[0]}function ar(e){return e[1]}function sr(e){for(var t=e.length,n=[0,1],i=2,r=2;r<t;r++){for(;i>1&&Ne(e[n[i-2]],e[n[i-1]],e[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}function ur(e,t){return e[0]-t[0]||e[1]-t[1]}(e.geo.stereographic=function(){return Pi(ir)}).raw=ir,rr.invert=function(e,t){return[-t,2*Math.atan(Math.exp(e))-Ie]},(e.geo.transverseMercator=function(){var e=tr(rr),t=e.center,n=e.rotate;return e.center=function(e){return e?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return e?n([e[0],e[1],e.length>2?e[2]+90:90]):[(e=n())[0],e[1],e[2]-90]},n([0,0,90])}).raw=rr,e.geom={},e.geom.hull=function(e){var t=or,n=ar;if(arguments.length)return i(e);function i(e){if(e.length<3)return[];var i,r=gt(t),o=gt(n),a=e.length,s=[],u=[];for(i=0;i<a;i++)s.push([+r.call(this,e[i],i),+o.call(this,e[i],i),i]);for(s.sort(ur),i=0;i<a;i++)u.push([s[i][0],-s[i][1]]);var l=sr(s),c=sr(u),d=c[0]===l[0],p=c[c.length-1]===l[l.length-1],h=[];for(i=l.length-1;i>=0;--i)h.push(e[s[l[i]][2]]);for(i=+d;i<c.length-p;++i)h.push(e[s[c[i]][2]]);return h}return i.x=function(e){return arguments.length?(t=e,i):t},i.y=function(e){return arguments.length?(n=e,i):n},i},e.geom.polygon=function(e){return H(e,lr),e};var lr=e.geom.polygon.prototype=[];function cr(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function dr(e,t,n,i){var r=e[0],o=n[0],a=t[0]-r,s=i[0]-o,u=e[1],l=n[1],c=t[1]-u,d=i[1]-l,p=(s*(u-l)-d*(r-o))/(d*a-s*c);return[r+p*a,u+p*c]}function pr(e){var t=e[0],n=e[e.length-1];return!(t[0]-n[0]||t[1]-n[1])}lr.area=function(){for(var e,t=-1,n=this.length,i=this[n-1],r=0;++t<n;)e=i,i=this[t],r+=e[1]*i[0]-e[0]*i[1];return.5*r},lr.centroid=function(e){var t,n,i=-1,r=this.length,o=0,a=0,s=this[r-1];for(arguments.length||(e=-1/(6*this.area()));++i<r;)t=s,s=this[i],n=t[0]*s[1]-s[0]*t[1],o+=(t[0]+s[0])*n,a+=(t[1]+s[1])*n;return[o*e,a*e]},lr.clip=function(e){for(var t,n,i,r,o,a,s=pr(e),u=-1,l=this.length-pr(this),c=this[l-1];++u<l;){for(t=e.slice(),e.length=0,r=this[u],o=t[(i=t.length-s)-1],n=-1;++n<i;)cr(a=t[n],c,r)?(cr(o,c,r)||e.push(dr(o,a,c,r)),e.push(a)):cr(o,c,r)&&e.push(dr(o,a,c,r)),o=a;s&&e.push(e[0]),c=r}return e};var hr,fr,mr,gr,yr,vr=[],_r=[];function br(){Br(this),this.edge=this.site=this.circle=null}function wr(e){var t=vr.pop()||new br;return t.site=e,t}function Er(e){Or(e),mr.remove(e),vr.push(e),Br(e)}function Sr(e){var t=e.circle,n=t.x,i=t.cy,r={x:n,y:i},o=e.P,a=e.N,s=[e];Er(e);for(var u=o;u.circle&&v(n-u.circle.x)<Te&&v(i-u.circle.cy)<Te;)o=u.P,s.unshift(u),Er(u),u=o;s.unshift(u),Or(u);for(var l=a;l.circle&&v(n-l.circle.x)<Te&&v(i-l.circle.cy)<Te;)a=l.N,s.push(l),Er(l),l=a;s.push(l),Or(l);var c,d=s.length;for(c=1;c<d;++c)l=s[c],u=s[c-1],Mr(l.edge,u.site,l.site,r);u=s[0],(l=s[d-1]).edge=Rr(u.site,l.site,null,r),Dr(u),Dr(l)}function Tr(e){for(var t,n,i,r,o=e.x,a=e.y,s=mr._;s;)if((i=Cr(s,a)-o)>Te)s=s.L;else{if(!((r=o-xr(s,a))>Te)){i>-Te?(t=s.P,n=s):r>-Te?(t=s,n=s.N):t=n=s;break}if(!s.R){t=s;break}s=s.R}var u=wr(e);if(mr.insert(t,u),t||n){if(t===n)return Or(t),n=wr(t.site),mr.insert(u,n),u.edge=n.edge=Rr(t.site,u.site),Dr(t),void Dr(n);if(n){Or(t),Or(n);var l=t.site,c=l.x,d=l.y,p=e.x-c,h=e.y-d,f=n.site,m=f.x-c,g=f.y-d,y=2*(p*g-h*m),v=p*p+h*h,_=m*m+g*g,b={x:(g*v-h*_)/y+c,y:(p*_-m*v)/y+d};Mr(n.edge,l,f,b),u.edge=Rr(l,e,null,b),n.edge=Rr(e,f,null,b),Dr(t),Dr(n)}else u.edge=Rr(t.site,u.site)}}function Cr(e,t){var n=e.site,i=n.x,r=n.y,o=r-t;if(!o)return i;var a=e.P;if(!a)return-1/0;var s=(n=a.site).x,u=n.y,l=u-t;if(!l)return s;var c=s-i,d=1/o-1/l,p=c/l;return d?(-p+Math.sqrt(p*p-2*d*(c*c/(-2*l)-u+l/2+r-o/2)))/d+i:(i+s)/2}function xr(e,t){var n=e.N;if(n)return Cr(n,t);var i=e.site;return i.y===t?i.x:1/0}function Ar(e){this.site=e,this.edges=[]}function kr(e,t){return t.angle-e.angle}function Ir(){Br(this),this.x=this.y=this.arc=this.site=this.cy=null}function Dr(e){var t=e.P,n=e.N;if(t&&n){var i=t.site,r=e.site,o=n.site;if(i!==o){var a=r.x,s=r.y,u=i.x-a,l=i.y-s,c=o.x-a,d=2*(u*(g=o.y-s)-l*c);if(!(d>=-Ce)){var p=u*u+l*l,h=c*c+g*g,f=(g*p-l*h)/d,m=(u*h-c*p)/d,g=m+s,y=_r.pop()||new Ir;y.arc=e,y.site=r,y.x=f+a,y.y=g+Math.sqrt(f*f+m*m),y.cy=g,e.circle=y;for(var v=null,_=yr._;_;)if(y.y<_.y||y.y===_.y&&y.x<=_.x){if(!_.L){v=_.P;break}_=_.L}else{if(!_.R){v=_;break}_=_.R}yr.insert(v,y),v||(gr=y)}}}}function Or(e){var t=e.circle;t&&(t.P||(gr=t.N),yr.remove(t),_r.push(t),Br(t),e.circle=null)}function Pr(e,t){var n=e.b;if(n)return!0;var i,r,o=e.a,a=t[0][0],s=t[1][0],u=t[0][1],l=t[1][1],c=e.l,d=e.r,p=c.x,h=c.y,f=d.x,m=d.y,g=(p+f)/2,y=(h+m)/2;if(m===h){if(g<a||g>=s)return;if(p>f){if(o){if(o.y>=l)return}else o={x:g,y:u};n={x:g,y:l}}else{if(o){if(o.y<u)return}else o={x:g,y:l};n={x:g,y:u}}}else if(r=y-(i=(p-f)/(m-h))*g,i<-1||i>1)if(p>f){if(o){if(o.y>=l)return}else o={x:(u-r)/i,y:u};n={x:(l-r)/i,y:l}}else{if(o){if(o.y<u)return}else o={x:(l-r)/i,y:l};n={x:(u-r)/i,y:u}}else if(h<m){if(o){if(o.x>=s)return}else o={x:a,y:i*a+r};n={x:s,y:i*s+r}}else{if(o){if(o.x<a)return}else o={x:s,y:i*s+r};n={x:a,y:i*a+r}}return e.a=o,e.b=n,!0}function Nr(e,t){this.l=e,this.r=t,this.a=this.b=null}function Rr(e,t,n,i){var r=new Nr(e,t);return hr.push(r),n&&Mr(r,e,t,n),i&&Mr(r,t,e,i),fr[e.i].edges.push(new Fr(r,e,t)),fr[t.i].edges.push(new Fr(r,t,e)),r}function Lr(e,t,n){var i=new Nr(e,null);return i.a=t,i.b=n,hr.push(i),i}function Mr(e,t,n,i){e.a||e.b?e.l===n?e.b=i:e.a=i:(e.a=i,e.l=t,e.r=n)}function Fr(e,t,n){var i=e.a,r=e.b;this.edge=e,this.site=t,this.angle=n?Math.atan2(n.y-t.y,n.x-t.x):e.l===t?Math.atan2(r.x-i.x,i.y-r.y):Math.atan2(i.x-r.x,r.y-i.y)}function jr(){this._=null}function Br(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function Ur(e,t){var n=t,i=t.R,r=n.U;r?r.L===n?r.L=i:r.R=i:e._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function Hr(e,t){var n=t,i=t.L,r=n.U;r?r.L===n?r.L=i:r.R=i:e._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function $r(e){for(;e.L;)e=e.L;return e}function Gr(e,t){var n,i,r,o=e.sort(qr).pop();for(hr=[],fr=new Array(e.length),mr=new jr,yr=new jr;;)if(r=gr,o&&(!r||o.y<r.y||o.y===r.y&&o.x<r.x))o.x===n&&o.y===i||(fr[o.i]=new Ar(o),Tr(o),n=o.x,i=o.y),o=e.pop();else{if(!r)break;Sr(r.arc)}t&&(function(e){for(var t,n=hr,i=oi(e[0][0],e[0][1],e[1][0],e[1][1]),r=n.length;r--;)(!Pr(t=n[r],e)||!i(t)||v(t.a.x-t.b.x)<Te&&v(t.a.y-t.b.y)<Te)&&(t.a=t.b=null,n.splice(r,1))}(t),function(e){for(var t,n,i,r,o,a,s,u,l,c,d=e[0][0],p=e[1][0],h=e[0][1],f=e[1][1],m=fr,g=m.length;g--;)if((o=m[g])&&o.prepare())for(u=(s=o.edges).length,a=0;a<u;)i=(c=s[a].end()).x,r=c.y,t=(l=s[++a%u].start()).x,n=l.y,(v(i-t)>Te||v(r-n)>Te)&&(s.splice(a,0,new Fr(Lr(o.site,c,v(i-d)<Te&&f-r>Te?{x:d,y:v(t-d)<Te?n:f}:v(r-f)<Te&&p-i>Te?{x:v(n-f)<Te?t:p,y:f}:v(i-p)<Te&&r-h>Te?{x:p,y:v(t-p)<Te?n:h}:v(r-h)<Te&&i-d>Te?{x:v(n-h)<Te?t:d,y:h}:null),o.site,null)),++u)}(t));var a={cells:fr,edges:hr};return mr=yr=hr=fr=null,a}function qr(e,t){return t.y-e.y||t.x-e.x}Ar.prototype.prepare=function(){for(var e,t=this.edges,n=t.length;n--;)(e=t[n].edge).b&&e.a||t.splice(n,1);return t.sort(kr),t.length},Fr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},jr.prototype={insert:function(e,t){var n,i,r;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=$r(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)n===(i=n.U).L?(r=i.R)&&r.C?(n.C=r.C=!1,i.C=!0,e=i):(e===n.R&&(Ur(this,n),n=(e=n).U),n.C=!1,i.C=!0,Hr(this,i)):(r=i.L)&&r.C?(n.C=r.C=!1,i.C=!0,e=i):(e===n.L&&(Hr(this,n),n=(e=n).U),n.C=!1,i.C=!0,Ur(this,i)),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,i,r=e.U,o=e.L,a=e.R;if(n=o?a?$r(a):o:a,r?r.L===e?r.L=n:r.R=n:this._=n,o&&a?(i=n.C,n.C=e.C,n.L=o,o.U=n,n!==a?(r=n.U,n.U=e.U,e=n.R,r.L=e,n.R=a,a.U=n):(n.U=r,r=n,e=n.R)):(i=e.C,e=n),e&&(e.U=r),!i)if(e&&e.C)e.C=!1;else{do{if(e===this._)break;if(e===r.L){if((t=r.R).C&&(t.C=!1,r.C=!0,Ur(this,r),t=r.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,Hr(this,t),t=r.R),t.C=r.C,r.C=t.R.C=!1,Ur(this,r),e=this._;break}}else if((t=r.L).C&&(t.C=!1,r.C=!0,Hr(this,r),t=r.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,Ur(this,t),t=r.L),t.C=r.C,r.C=t.L.C=!1,Hr(this,r),e=this._;break}t.C=!0,e=r,r=r.U}while(!e.C);e&&(e.C=!1)}}},e.geom.voronoi=function(e){var t=or,n=ar,i=t,r=n,o=Vr;if(e)return a(e);function a(e){var t=new Array(e.length),n=o[0][0],i=o[0][1],r=o[1][0],a=o[1][1];return Gr(s(e),o).cells.forEach((function(o,s){var u=o.edges,l=o.site;(t[s]=u.length?u.map((function(e){var t=e.start();return[t.x,t.y]})):l.x>=n&&l.x<=r&&l.y>=i&&l.y<=a?[[n,a],[r,a],[r,i],[n,i]]:[]).point=e[s]})),t}function s(e){return e.map((function(e,t){return{x:Math.round(i(e,t)/Te)*Te,y:Math.round(r(e,t)/Te)*Te,i:t}}))}return a.links=function(e){return Gr(s(e)).edges.filter((function(e){return e.l&&e.r})).map((function(t){return{source:e[t.l.i],target:e[t.r.i]}}))},a.triangles=function(e){var t=[];return Gr(s(e)).cells.forEach((function(n,i){for(var r,o,a,s,u=n.site,l=n.edges.sort(kr),c=-1,d=l.length,p=l[d-1].edge,h=p.l===u?p.r:p.l;++c<d;)p,r=h,h=(p=l[c].edge).l===u?p.r:p.l,i<r.i&&i<h.i&&(a=r,s=h,((o=u).x-s.x)*(a.y-o.y)-(o.x-a.x)*(s.y-o.y)<0)&&t.push([e[i],e[r.i],e[h.i]])})),t},a.x=function(e){return arguments.length?(i=gt(t=e),a):t},a.y=function(e){return arguments.length?(r=gt(n=e),a):n},a.clipExtent=function(e){return arguments.length?(o=null==e?Vr:e,a):o===Vr?null:o},a.size=function(e){return arguments.length?a.clipExtent(e&&[[0,0],e]):o===Vr?null:o&&o[1]},a};var Vr=[[-1e6,-1e6],[1e6,1e6]];function zr(e){return e.x}function Wr(e){return e.y}function Kr(e,t,n,i,r,o){if(!e(t,n,i,r,o)){var a=.5*(n+r),s=.5*(i+o),u=t.nodes;u[0]&&Kr(e,u[0],n,i,a,s),u[1]&&Kr(e,u[1],a,i,r,s),u[2]&&Kr(e,u[2],n,s,a,o),u[3]&&Kr(e,u[3],a,s,r,o)}}function Yr(e,t,n,i,r,o,a){var s,u=1/0;return function e(l,c,d,p,h){if(!(c>o||d>a||p<i||h<r)){if(f=l.point){var f,m=t-l.x,g=n-l.y,y=m*m+g*g;if(y<u){var v=Math.sqrt(u=y);i=t-v,r=n-v,o=t+v,a=n+v,s=f}}for(var _=l.nodes,b=.5*(c+p),w=.5*(d+h),E=(n>=w)<<1|t>=b,S=E+4;E<S;++E)if(l=_[3&E])switch(3&E){case 0:e(l,c,d,b,w);break;case 1:e(l,b,d,p,w);break;case 2:e(l,c,w,b,h);break;case 3:e(l,b,w,p,h)}}}(e,i,r,o,a),s}function Jr(t,n){t=e.rgb(t),n=e.rgb(n);var i=t.r,r=t.g,o=t.b,a=n.r-i,s=n.g-r,u=n.b-o;return function(e){return"#"+lt(Math.round(i+a*e))+lt(Math.round(r+s*e))+lt(Math.round(o+u*e))}}function Xr(e,t){var n,i={},r={};for(n in e)n in t?i[n]=no(e[n],t[n]):r[n]=e[n];for(n in t)n in e||(r[n]=t[n]);return function(e){for(n in i)r[n]=i[n](e);return r}}function Qr(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Zr(e,t){var n,i,r,o=eo.lastIndex=to.lastIndex=0,a=-1,s=[],u=[];for(e+="",t+="";(n=eo.exec(e))&&(i=to.exec(t));)(r=i.index)>o&&(r=t.slice(o,r),s[a]?s[a]+=r:s[++a]=r),(n=n[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,u.push({i:a,x:Qr(n,i)})),o=to.lastIndex;return o<t.length&&(r=t.slice(o),s[a]?s[a]+=r:s[++a]=r),s.length<2?u[0]?(t=u[0].x,function(e){return t(e)+""}):function(){return t}:(t=u.length,function(e){for(var n,i=0;i<t;++i)s[(n=u[i]).i]=n.x(e);return s.join("")})}e.geom.delaunay=function(t){return e.geom.voronoi().triangles(t)},e.geom.quadtree=function(e,t,n,i,r){var o,a=or,s=ar;if(o=arguments.length)return a=zr,s=Wr,3===o&&(r=n,i=t,n=t=0),u(e);function u(e){var u,l,c,d,p,h,f,m,g,y=gt(a),_=gt(s);if(null!=t)h=t,f=n,m=i,g=r;else if(m=g=-(h=f=1/0),l=[],c=[],p=e.length,o)for(d=0;d<p;++d)(u=e[d]).x<h&&(h=u.x),u.y<f&&(f=u.y),u.x>m&&(m=u.x),u.y>g&&(g=u.y),l.push(u.x),c.push(u.y);else for(d=0;d<p;++d){var b=+y(u=e[d],d),w=+_(u,d);b<h&&(h=b),w<f&&(f=w),b>m&&(m=b),w>g&&(g=w),l.push(b),c.push(w)}var E=m-h,S=g-f;function T(e,t,n,i,r,o,a,s){if(!isNaN(n)&&!isNaN(i))if(e.leaf){var u=e.x,l=e.y;if(null!=u)if(v(u-n)+v(l-i)<.01)C(e,t,n,i,r,o,a,s);else{var c=e.point;e.x=e.y=e.point=null,C(e,c,u,l,r,o,a,s),C(e,t,n,i,r,o,a,s)}else e.x=n,e.y=i,e.point=t}else C(e,t,n,i,r,o,a,s)}function C(e,t,n,i,r,o,a,s){var u=.5*(r+a),l=.5*(o+s),c=n>=u,d=i>=l,p=d<<1|c;e.leaf=!1,c?r=u:a=u,d?o=l:s=l,T(e=e.nodes[p]||(e.nodes[p]={leaf:!0,nodes:[],point:null,x:null,y:null}),t,n,i,r,o,a,s)}E>S?g=f+E:m=h+S;var x={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(e){T(x,e,+y(e,++d),+_(e,d),h,f,m,g)},visit:function(e){Kr(e,x,h,f,m,g)},find:function(e){return Yr(x,e[0],e[1],h,f,m,g)}};if(d=-1,null==t){for(;++d<p;)T(x,e[d],l[d],c[d],h,f,m,g);--d}else e.forEach(x.add);return l=c=e=u=null,x}return u.x=function(e){return arguments.length?(a=e,u):a},u.y=function(e){return arguments.length?(s=e,u):s},u.extent=function(e){return arguments.length?(null==e?t=n=i=r=null:(t=+e[0][0],n=+e[0][1],i=+e[1][0],r=+e[1][1]),u):null==t?null:[[t,n],[i,r]]},u.size=function(e){return arguments.length?(null==e?t=n=i=r=null:(t=n=0,i=+e[0],r=+e[1]),u):null==t?null:[i-t,r-n]},u},e.interpolateRgb=Jr,e.interpolateObject=Xr,e.interpolateNumber=Qr,e.interpolateString=Zr;var eo=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,to=new RegExp(eo.source,"g");function no(t,n){for(var i,r=e.interpolators.length;--r>=0&&!(i=e.interpolators[r](t,n)););return i}function io(e,t){var n,i=[],r=[],o=e.length,a=t.length,s=Math.min(e.length,t.length);for(n=0;n<s;++n)i.push(no(e[n],t[n]));for(;n<o;++n)r[n]=e[n];for(;n<a;++n)r[n]=t[n];return function(e){for(n=0;n<s;++n)r[n]=i[n](e);return r}}e.interpolate=no,e.interpolators=[function(e,t){var n=typeof t;return("string"===n?mt.has(t.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(t)?Jr:Zr:t instanceof $e?Jr:Array.isArray(t)?io:"object"===n&&isNaN(t)?Xr:Qr)(e,t)}],e.interpolateArray=io;var ro=function(){return D},oo=e.map({linear:ro,poly:function(e){return function(t){return Math.pow(t,e)}},quad:function(){return co},cubic:function(){return po},sin:function(){return fo},exp:function(){return mo},circle:function(){return go},elastic:function(e,t){var n;arguments.length<2&&(t=.45);arguments.length?n=t/Ae*Math.asin(1/e):(e=1,n=t/4);return function(i){return 1+e*Math.pow(2,-10*i)*Math.sin((i-n)*Ae/t)}},back:function(e){e||(e=1.70158);return function(t){return t*t*((e+1)*t-e)}},bounce:function(){return yo}}),ao=e.map({in:D,out:uo,"in-out":lo,"out-in":function(e){return lo(uo(e))}});function so(e){return function(t){return t<=0?0:t>=1?1:e(t)}}function uo(e){return function(t){return 1-e(1-t)}}function lo(e){return function(t){return.5*(t<.5?e(2*t):2-e(2-2*t))}}function co(e){return e*e}function po(e){return e*e*e}function ho(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)}function fo(e){return 1-Math.cos(e*Ie)}function mo(e){return Math.pow(2,10*(e-1))}function go(e){return 1-Math.sqrt(1-e*e)}function yo(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function vo(e,t){return t-=e,function(n){return Math.round(e+t*n)}}function _o(e){var t,n,i,r=[e.a,e.b],o=[e.c,e.d],a=wo(r),s=bo(r,o),u=wo(((t=o)[0]+=(i=-s)*(n=r)[0],t[1]+=i*n[1],t))||0;r[0]*o[1]<o[0]*r[1]&&(r[0]*=-1,r[1]*=-1,a*=-1,s*=-1),this.rotate=(a?Math.atan2(r[1],r[0]):Math.atan2(-o[0],o[1]))*Oe,this.translate=[e.e,e.f],this.scale=[a,u],this.skew=u?Math.atan2(s,u)*Oe:0}function bo(e,t){return e[0]*t[0]+e[1]*t[1]}function wo(e){var t=Math.sqrt(bo(e,e));return t&&(e[0]/=t,e[1]/=t),t}e.ease=function(e){var t=e.indexOf("-"),i=t>=0?e.slice(0,t):e,r=t>=0?e.slice(t+1):"in";return i=oo.get(i)||ro,so((r=ao.get(r)||D)(i.apply(null,n.call(arguments,1))))},e.interpolateHcl=function(t,n){t=e.hcl(t),n=e.hcl(n);var i=t.h,r=t.c,o=t.l,a=n.h-i,s=n.c-r,u=n.l-o;isNaN(s)&&(s=0,r=isNaN(r)?n.c:r);isNaN(a)?(a=0,i=isNaN(i)?n.h:i):a>180?a-=360:a<-180&&(a+=360);return function(e){return Ke(i+a*e,r+s*e,o+u*e)+""}},e.interpolateHsl=function(t,n){t=e.hsl(t),n=e.hsl(n);var i=t.h,r=t.s,o=t.l,a=n.h-i,s=n.s-r,u=n.l-o;isNaN(s)&&(s=0,r=isNaN(r)?n.s:r);isNaN(a)?(a=0,i=isNaN(i)?n.h:i):a>180?a-=360:a<-180&&(a+=360);return function(e){return Ve(i+a*e,r+s*e,o+u*e)+""}},e.interpolateLab=function(t,n){t=e.lab(t),n=e.lab(n);var i=t.l,r=t.a,o=t.b,a=n.l-i,s=n.a-r,u=n.b-o;return function(e){return et(i+a*e,r+s*e,o+u*e)+""}},e.interpolateRound=vo,e.transform=function(t){var n=r.createElementNS(e.ns.prefix.svg,"g");return(e.transform=function(e){if(null!=e){n.setAttribute("transform",e);var t=n.transform.baseVal.consolidate()}return new _o(t?t.matrix:Eo)})(t)},_o.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var Eo={a:1,b:0,c:0,d:1,e:0,f:0};function So(e){return e.length?e.pop()+",":""}function To(t,n){var i=[],r=[];return t=e.transform(t),n=e.transform(n),function(e,t,n,i){if(e[0]!==t[0]||e[1]!==t[1]){var r=n.push("translate(",null,",",null,")");i.push({i:r-4,x:Qr(e[0],t[0])},{i:r-2,x:Qr(e[1],t[1])})}else(t[0]||t[1])&&n.push("translate("+t+")")}(t.translate,n.translate,i,r),function(e,t,n,i){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),i.push({i:n.push(So(n)+"rotate(",null,")")-2,x:Qr(e,t)})):t&&n.push(So(n)+"rotate("+t+")")}(t.rotate,n.rotate,i,r),function(e,t,n,i){e!==t?i.push({i:n.push(So(n)+"skewX(",null,")")-2,x:Qr(e,t)}):t&&n.push(So(n)+"skewX("+t+")")}(t.skew,n.skew,i,r),function(e,t,n,i){if(e[0]!==t[0]||e[1]!==t[1]){var r=n.push(So(n)+"scale(",null,",",null,")");i.push({i:r-4,x:Qr(e[0],t[0])},{i:r-2,x:Qr(e[1],t[1])})}else 1===t[0]&&1===t[1]||n.push(So(n)+"scale("+t+")")}(t.scale,n.scale,i,r),t=n=null,function(e){for(var t,n=-1,o=r.length;++n<o;)i[(t=r[n]).i]=t.x(e);return i.join("")}}function Co(e,t){return t=(t-=e=+e)||1/t,function(n){return(n-e)/t}}function xo(e,t){return t=(t-=e=+e)||1/t,function(n){return Math.max(0,Math.min(1,(n-e)/t))}}function Ao(e){for(var t=e.source,n=e.target,i=function(e,t){if(e===t)return e;var n=ko(e),i=ko(t),r=n.pop(),o=i.pop(),a=null;for(;r===o;)a=r,r=n.pop(),o=i.pop();return a}(t,n),r=[t];t!==i;)t=t.parent,r.push(t);for(var o=r.length;n!==i;)r.splice(o,0,n),n=n.parent;return r}function ko(e){for(var t=[],n=e.parent;null!=n;)t.push(e),e=n,n=n.parent;return t.push(e),t}function Io(e){e.fixed|=2}function Do(e){e.fixed&=-7}function Oo(e){e.fixed|=4,e.px=e.x,e.py=e.y}function Po(e){e.fixed&=-5}function No(e,t,n){var i=0,r=0;if(e.charge=0,!e.leaf)for(var o,a=e.nodes,s=a.length,u=-1;++u<s;)null!=(o=a[u])&&(No(o,t,n),e.charge+=o.charge,i+=o.charge*o.cx,r+=o.charge*o.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var l=t*n[e.point.index];e.charge+=e.pointCharge=l,i+=l*e.point.x,r+=l*e.point.y}e.cx=i/e.charge,e.cy=r/e.charge}e.interpolateTransform=To,e.layout={},e.layout.bundle=function(){return function(e){for(var t=[],n=-1,i=e.length;++n<i;)t.push(Ao(e[n]));return t}},e.layout.chord=function(){var t,n,i,r,o,a,s,u={},l=0;function c(){var u,c,p,h,f,m={},g=[],y=e.range(r),v=[];for(t=[],n=[],u=0,h=-1;++h<r;){for(c=0,f=-1;++f<r;)c+=i[h][f];g.push(c),v.push(e.range(r)),u+=c}for(o&&y.sort((function(e,t){return o(g[e],g[t])})),a&&v.forEach((function(e,t){e.sort((function(e,n){return a(i[t][e],i[t][n])}))})),u=(Ae-l*r)/u,c=0,h=-1;++h<r;){for(p=c,f=-1;++f<r;){var _=y[h],b=v[_][f],w=i[_][b],E=c,S=c+=w*u;m[_+"-"+b]={index:_,subindex:b,startAngle:E,endAngle:S,value:w}}n[_]={index:_,startAngle:p,endAngle:c,value:g[_]},c+=l}for(h=-1;++h<r;)for(f=h-1;++f<r;){var T=m[h+"-"+f],C=m[f+"-"+h];(T.value||C.value)&&t.push(T.value<C.value?{source:C,target:T}:{source:T,target:C})}s&&d()}function d(){t.sort((function(e,t){return s((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)}))}return u.matrix=function(e){return arguments.length?(r=(i=e)&&i.length,t=n=null,u):i},u.padding=function(e){return arguments.length?(l=e,t=n=null,u):l},u.sortGroups=function(e){return arguments.length?(o=e,t=n=null,u):o},u.sortSubgroups=function(e){return arguments.length?(a=e,t=null,u):a},u.sortChords=function(e){return arguments.length?(s=e,t&&d(),u):s},u.chords=function(){return t||c(),t},u.groups=function(){return n||c(),n},u},e.layout.force=function(){var t,n,i,r,o,a,s={},u=e.dispatch("start","tick","end"),l=[1,1],c=.9,d=Ro,p=Lo,h=-30,f=Mo,m=.1,g=.64,y=[],v=[];function _(e){return function(t,n,i,r){if(t.point!==e){var o=t.cx-e.x,a=t.cy-e.y,s=r-n,u=o*o+a*a;if(s*s/g<u){if(u<f){var l=t.charge/u;e.px-=o*l,e.py-=a*l}return!0}if(t.point&&u&&u<f){l=t.pointCharge/u;e.px-=o*l,e.py-=a*l}}return!t.charge}}function b(t){t.px=e.event.x,t.py=e.event.y,s.resume()}return s.tick=function(){if((i*=.99)<.005)return t=null,u.end({type:"end",alpha:i=0}),!0;var n,s,d,p,f,g,b,w,E,S=y.length,T=v.length;for(s=0;s<T;++s)p=(d=v[s]).source,(g=(w=(f=d.target).x-p.x)*w+(E=f.y-p.y)*E)&&(w*=g=i*o[s]*((g=Math.sqrt(g))-r[s])/g,E*=g,f.x-=w*(b=p.weight+f.weight?p.weight/(p.weight+f.weight):.5),f.y-=E*b,p.x+=w*(b=1-b),p.y+=E*b);if((b=i*m)&&(w=l[0]/2,E=l[1]/2,s=-1,b))for(;++s<S;)(d=y[s]).x+=(w-d.x)*b,d.y+=(E-d.y)*b;if(h)for(No(n=e.geom.quadtree(y),i,a),s=-1;++s<S;)(d=y[s]).fixed||n.visit(_(d));for(s=-1;++s<S;)(d=y[s]).fixed?(d.x=d.px,d.y=d.py):(d.x-=(d.px-(d.px=d.x))*c,d.y-=(d.py-(d.py=d.y))*c);u.tick({type:"tick",alpha:i})},s.nodes=function(e){return arguments.length?(y=e,s):y},s.links=function(e){return arguments.length?(v=e,s):v},s.size=function(e){return arguments.length?(l=e,s):l},s.linkDistance=function(e){return arguments.length?(d="function"==typeof e?e:+e,s):d},s.distance=s.linkDistance,s.linkStrength=function(e){return arguments.length?(p="function"==typeof e?e:+e,s):p},s.friction=function(e){return arguments.length?(c=+e,s):c},s.charge=function(e){return arguments.length?(h="function"==typeof e?e:+e,s):h},s.chargeDistance=function(e){return arguments.length?(f=e*e,s):Math.sqrt(f)},s.gravity=function(e){return arguments.length?(m=+e,s):m},s.theta=function(e){return arguments.length?(g=e*e,s):Math.sqrt(g)},s.alpha=function(e){return arguments.length?(e=+e,i?e>0?i=e:(t.c=null,t.t=NaN,t=null,u.end({type:"end",alpha:i=0})):e>0&&(u.start({type:"start",alpha:i=e}),t=Tt(s.tick)),s):i},s.start=function(){var e,t,n,i=y.length,u=v.length,c=l[0],f=l[1];for(e=0;e<i;++e)(n=y[e]).index=e,n.weight=0;for(e=0;e<u;++e)"number"==typeof(n=v[e]).source&&(n.source=y[n.source]),"number"==typeof n.target&&(n.target=y[n.target]),++n.source.weight,++n.target.weight;for(e=0;e<i;++e)n=y[e],isNaN(n.x)&&(n.x=m("x",c)),isNaN(n.y)&&(n.y=m("y",f)),isNaN(n.px)&&(n.px=n.x),isNaN(n.py)&&(n.py=n.y);if(r=[],"function"==typeof d)for(e=0;e<u;++e)r[e]=+d.call(this,v[e],e);else for(e=0;e<u;++e)r[e]=d;if(o=[],"function"==typeof p)for(e=0;e<u;++e)o[e]=+p.call(this,v[e],e);else for(e=0;e<u;++e)o[e]=p;if(a=[],"function"==typeof h)for(e=0;e<i;++e)a[e]=+h.call(this,y[e],e);else for(e=0;e<i;++e)a[e]=h;function m(n,r){if(!t){for(t=new Array(i),l=0;l<i;++l)t[l]=[];for(l=0;l<u;++l){var o=v[l];t[o.source.index].push(o.target),t[o.target.index].push(o.source)}}for(var a,s=t[e],l=-1,c=s.length;++l<c;)if(!isNaN(a=s[l][n]))return a;return Math.random()*r}return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){if(n||(n=e.behavior.drag().origin(D).on("dragstart.force",Io).on("drag.force",b).on("dragend.force",Do)),!arguments.length)return n;this.on("mouseover.force",Oo).on("mouseout.force",Po).call(n)},e.rebind(s,u,"on")};var Ro=20,Lo=1,Mo=1/0;function Fo(t,n){return e.rebind(t,n,"sort","children","value"),t.nodes=t,t.links=Go,t}function jo(e,t){for(var n=[e];null!=(e=n.pop());)if(t(e),(r=e.children)&&(i=r.length))for(var i,r;--i>=0;)n.push(r[i])}function Bo(e,t){for(var n=[e],i=[];null!=(e=n.pop());)if(i.push(e),(o=e.children)&&(r=o.length))for(var r,o,a=-1;++a<r;)n.push(o[a]);for(;null!=(e=i.pop());)t(e)}function Uo(e){return e.children}function Ho(e){return e.value}function $o(e,t){return t.value-e.value}function Go(t){return e.merge(t.map((function(e){return(e.children||[]).map((function(t){return{source:e,target:t}}))})))}e.layout.hierarchy=function(){var e=$o,t=Uo,n=Ho;function i(r){var o,a=[r],s=[];for(r.depth=0;null!=(o=a.pop());)if(s.push(o),(l=t.call(i,o,o.depth))&&(u=l.length)){for(var u,l,c;--u>=0;)a.push(c=l[u]),c.parent=o,c.depth=o.depth+1;n&&(o.value=0),o.children=l}else n&&(o.value=+n.call(i,o,o.depth)||0),delete o.children;return Bo(r,(function(t){var i,r;e&&(i=t.children)&&i.sort(e),n&&(r=t.parent)&&(r.value+=t.value)})),s}return i.sort=function(t){return arguments.length?(e=t,i):e},i.children=function(e){return arguments.length?(t=e,i):t},i.value=function(e){return arguments.length?(n=e,i):n},i.revalue=function(e){return n&&(jo(e,(function(e){e.children&&(e.value=0)})),Bo(e,(function(e){var t;e.children||(e.value=+n.call(i,e,e.depth)||0),(t=e.parent)&&(t.value+=e.value)}))),e},i},e.layout.partition=function(){var t=e.layout.hierarchy(),n=[1,1];function i(e,t,n,r){var o=e.children;if(e.x=t,e.y=e.depth*r,e.dx=n,e.dy=r,o&&(a=o.length)){var a,s,u,l=-1;for(n=e.value?n/e.value:0;++l<a;)i(s=o[l],t,u=s.value*n,r),t+=u}}function r(e){var t=e.children,n=0;if(t&&(i=t.length))for(var i,o=-1;++o<i;)n=Math.max(n,r(t[o]));return 1+n}function o(e,o){var a=t.call(this,e,o);return i(a[0],0,n[0],n[1]/r(a[0])),a}return o.size=function(e){return arguments.length?(n=e,o):n},Fo(o,t)},e.layout.pie=function(){var t=Number,n=qo,i=0,r=Ae,o=0;function a(s){var u,l=s.length,c=s.map((function(e,n){return+t.call(a,e,n)})),d=+("function"==typeof i?i.apply(this,arguments):i),p=("function"==typeof r?r.apply(this,arguments):r)-d,h=Math.min(Math.abs(p)/l,+("function"==typeof o?o.apply(this,arguments):o)),f=h*(p<0?-1:1),m=e.sum(c),g=m?(p-l*f)/m:0,y=e.range(l),v=[];return null!=n&&y.sort(n===qo?function(e,t){return c[t]-c[e]}:function(e,t){return n(s[e],s[t])}),y.forEach((function(e){v[e]={data:s[e],value:u=c[e],startAngle:d,endAngle:d+=u*g+f,padAngle:h}})),v}return a.value=function(e){return arguments.length?(t=e,a):t},a.sort=function(e){return arguments.length?(n=e,a):n},a.startAngle=function(e){return arguments.length?(i=e,a):i},a.endAngle=function(e){return arguments.length?(r=e,a):r},a.padAngle=function(e){return arguments.length?(o=e,a):o},a};var qo={};function Vo(e){return e.x}function zo(e){return e.y}function Wo(e,t,n){e.y0=t,e.y=n}e.layout.stack=function(){var t=D,n=Jo,i=Xo,r=Wo,o=Vo,a=zo;function s(u,l){if(!(h=u.length))return u;var c=u.map((function(e,n){return t.call(s,e,n)})),d=c.map((function(e){return e.map((function(e,t){return[o.call(s,e,t),a.call(s,e,t)]}))})),p=n.call(s,d,l);c=e.permute(c,p),d=e.permute(d,p);var h,f,m,g,y=i.call(s,d,l),v=c[0].length;for(m=0;m<v;++m)for(r.call(s,c[0][m],g=y[m],d[0][m][1]),f=1;f<h;++f)r.call(s,c[f][m],g+=d[f-1][m][1],d[f][m][1]);return u}return s.values=function(e){return arguments.length?(t=e,s):t},s.order=function(e){return arguments.length?(n="function"==typeof e?e:Ko.get(e)||Jo,s):n},s.offset=function(e){return arguments.length?(i="function"==typeof e?e:Yo.get(e)||Xo,s):i},s.x=function(e){return arguments.length?(o=e,s):o},s.y=function(e){return arguments.length?(a=e,s):a},s.out=function(e){return arguments.length?(r=e,s):r},s};var Ko=e.map({"inside-out":function(t){var n,i,r=t.length,o=t.map(Qo),a=t.map(Zo),s=e.range(r).sort((function(e,t){return o[e]-o[t]})),u=0,l=0,c=[],d=[];for(n=0;n<r;++n)i=s[n],u<l?(u+=a[i],c.push(i)):(l+=a[i],d.push(i));return d.reverse().concat(c)},reverse:function(t){return e.range(t.length).reverse()},default:Jo}),Yo=e.map({silhouette:function(e){var t,n,i,r=e.length,o=e[0].length,a=[],s=0,u=[];for(n=0;n<o;++n){for(t=0,i=0;t<r;t++)i+=e[t][n][1];i>s&&(s=i),a.push(i)}for(n=0;n<o;++n)u[n]=(s-a[n])/2;return u},wiggle:function(e){var t,n,i,r,o,a,s,u,l,c=e.length,d=e[0],p=d.length,h=[];for(h[0]=u=l=0,n=1;n<p;++n){for(t=0,r=0;t<c;++t)r+=e[t][n][1];for(t=0,o=0,s=d[n][0]-d[n-1][0];t<c;++t){for(i=0,a=(e[t][n][1]-e[t][n-1][1])/(2*s);i<t;++i)a+=(e[i][n][1]-e[i][n-1][1])/s;o+=a*e[t][n][1]}h[n]=u-=r?o/r*s:0,u<l&&(l=u)}for(n=0;n<p;++n)h[n]-=l;return h},expand:function(e){var t,n,i,r=e.length,o=e[0].length,a=1/r,s=[];for(n=0;n<o;++n){for(t=0,i=0;t<r;t++)i+=e[t][n][1];if(i)for(t=0;t<r;t++)e[t][n][1]/=i;else for(t=0;t<r;t++)e[t][n][1]=a}for(n=0;n<o;++n)s[n]=0;return s},zero:Xo});function Jo(t){return e.range(t.length)}function Xo(e){for(var t=-1,n=e[0].length,i=[];++t<n;)i[t]=0;return i}function Qo(e){for(var t,n=1,i=0,r=e[0][1],o=e.length;n<o;++n)(t=e[n][1])>r&&(i=n,r=t);return i}function Zo(e){return e.reduce(ea,0)}function ea(e,t){return e+t[1]}function ta(e,t){return na(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function na(e,t){for(var n=-1,i=+e[0],r=(e[1]-i)/t,o=[];++n<=t;)o[n]=r*n+i;return o}function ia(t){return[e.min(t),e.max(t)]}function ra(e,t){return e.value-t.value}function oa(e,t){var n=e._pack_next;e._pack_next=t,t._pack_prev=e,t._pack_next=n,n._pack_prev=t}function aa(e,t){e._pack_next=t,t._pack_prev=e}function sa(e,t){var n=t.x-e.x,i=t.y-e.y,r=e.r+t.r;return.999*r*r>n*n+i*i}function ua(e){if((t=e.children)&&(u=t.length)){var t,n,i,r,o,a,s,u,l=1/0,c=-1/0,d=1/0,p=-1/0;if(t.forEach(la),(n=t[0]).x=-n.r,n.y=0,_(n),u>1&&((i=t[1]).x=i.r,i.y=0,_(i),u>2))for(pa(n,i,r=t[2]),_(r),oa(n,r),n._pack_prev=r,oa(r,i),i=n._pack_next,o=3;o<u;o++){pa(n,i,r=t[o]);var h=0,f=1,m=1;for(a=i._pack_next;a!==i;a=a._pack_next,f++)if(sa(a,r)){h=1;break}if(1==h)for(s=n._pack_prev;s!==a._pack_prev&&!sa(s,r);s=s._pack_prev,m++);h?(f<m||f==m&&i.r<n.r?aa(n,i=a):aa(n=s,i),o--):(oa(n,r),i=r,_(r))}var g=(l+c)/2,y=(d+p)/2,v=0;for(o=0;o<u;o++)(r=t[o]).x-=g,r.y-=y,v=Math.max(v,r.r+Math.sqrt(r.x*r.x+r.y*r.y));e.r=v,t.forEach(ca)}function _(e){l=Math.min(e.x-e.r,l),c=Math.max(e.x+e.r,c),d=Math.min(e.y-e.r,d),p=Math.max(e.y+e.r,p)}}function la(e){e._pack_next=e._pack_prev=e}function ca(e){delete e._pack_next,delete e._pack_prev}function da(e,t,n,i){var r=e.children;if(e.x=t+=i*e.x,e.y=n+=i*e.y,e.r*=i,r)for(var o=-1,a=r.length;++o<a;)da(r[o],t,n,i)}function pa(e,t,n){var i=e.r+n.r,r=t.x-e.x,o=t.y-e.y;if(i&&(r||o)){var a=t.r+n.r,s=r*r+o*o,u=.5+((i*=i)-(a*=a))/(2*s),l=Math.sqrt(Math.max(0,2*a*(i+s)-(i-=s)*i-a*a))/(2*s);n.x=e.x+u*r+l*o,n.y=e.y+u*o-l*r}else n.x=e.x+i,n.y=e.y}function ha(e,t){return e.parent==t.parent?1:2}function fa(e){var t=e.children;return t.length?t[0]:e.t}function ma(e){var t,n=e.children;return(t=n.length)?n[t-1]:e.t}function ga(e,t,n){var i=n/(t.i-e.i);t.c-=i,t.s+=n,e.c+=i,t.z+=n,t.m+=n}function ya(e,t,n){return e.a.parent===t.parent?e.a:n}function va(e){var t=e.children;return t&&t.length?va(t[0]):e}function _a(e){var t,n=e.children;return n&&(t=n.length)?_a(n[t-1]):e}function ba(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function wa(e,t){var n=e.x+t[3],i=e.y+t[0],r=e.dx-t[1]-t[3],o=e.dy-t[0]-t[2];return r<0&&(n+=r/2,r=0),o<0&&(i+=o/2,o=0),{x:n,y:i,dx:r,dy:o}}function Ea(e){var t=e[0],n=e[e.length-1];return t<n?[t,n]:[n,t]}function Sa(e){return e.rangeExtent?e.rangeExtent():Ea(e.range())}function Ta(e,t,n,i){var r=n(e[0],e[1]),o=i(t[0],t[1]);return function(e){return o(r(e))}}function Ca(e,t){var n,i=0,r=e.length-1,o=e[i],a=e[r];return a<o&&(n=i,i=r,r=n,n=o,o=a,a=n),e[i]=t.floor(o),e[r]=t.ceil(a),e}function xa(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:Aa}e.layout.histogram=function(){var t=!0,n=Number,i=ia,r=ta;function o(o,a){for(var s,u,l=[],c=o.map(n,this),d=i.call(this,c,a),p=r.call(this,d,c,a),h=(a=-1,c.length),f=p.length-1,m=t?1:1/h;++a<f;)(s=l[a]=[]).dx=p[a+1]-(s.x=p[a]),s.y=0;if(f>0)for(a=-1;++a<h;)(u=c[a])>=d[0]&&u<=d[1]&&((s=l[e.bisect(p,u,1,f)-1]).y+=m,s.push(o[a]));return l}return o.value=function(e){return arguments.length?(n=e,o):n},o.range=function(e){return arguments.length?(i=gt(e),o):i},o.bins=function(e){return arguments.length?(r="number"==typeof e?function(t){return na(t,e)}:gt(e),o):r},o.frequency=function(e){return arguments.length?(t=!!e,o):t},o},e.layout.pack=function(){var t,n=e.layout.hierarchy().sort(ra),i=0,r=[1,1];function o(e,o){var a=n.call(this,e,o),s=a[0],u=r[0],l=r[1],c=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(s.x=s.y=0,Bo(s,(function(e){e.r=+c(e.value)})),Bo(s,ua),i){var d=i*(t?1:Math.max(2*s.r/u,2*s.r/l))/2;Bo(s,(function(e){e.r+=d})),Bo(s,ua),Bo(s,(function(e){e.r-=d}))}return da(s,u/2,l/2,t?1:1/Math.max(2*s.r/u,2*s.r/l)),a}return o.size=function(e){return arguments.length?(r=e,o):r},o.radius=function(e){return arguments.length?(t=null==e||"function"==typeof e?e:+e,o):t},o.padding=function(e){return arguments.length?(i=+e,o):i},Fo(o,n)},e.layout.tree=function(){var t=e.layout.hierarchy().sort(null).value(null),n=ha,i=[1,1],r=null;function o(e,o){var l=t.call(this,e,o),c=l[0],d=function(e){var t,n={A:null,children:[e]},i=[n];for(;null!=(t=i.pop());)for(var r,o=t.children,a=0,s=o.length;a<s;++a)i.push((o[a]=r={_:o[a],parent:t,children:(r=o[a].children)&&r.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=r);return n.children[0]}(c);if(Bo(d,a),d.parent.m=-d.z,jo(d,s),r)jo(c,u);else{var p=c,h=c,f=c;jo(c,(function(e){e.x<p.x&&(p=e),e.x>h.x&&(h=e),e.depth>f.depth&&(f=e)}));var m=n(p,h)/2-p.x,g=i[0]/(h.x+n(h,p)/2+m),y=i[1]/(f.depth||1);jo(c,(function(e){e.x=(e.x+m)*g,e.y=e.depth*y}))}return l}function a(e){var t=e.children,i=e.parent.children,r=e.i?i[e.i-1]:null;if(t.length){!function(e){var t,n=0,i=0,r=e.children,o=r.length;for(;--o>=0;)(t=r[o]).z+=n,t.m+=n,n+=t.s+(i+=t.c)}(e);var o=(t[0].z+t[t.length-1].z)/2;r?(e.z=r.z+n(e._,r._),e.m=e.z-o):e.z=o}else r&&(e.z=r.z+n(e._,r._));e.parent.A=function(e,t,i){if(t){for(var r,o=e,a=e,s=t,u=o.parent.children[0],l=o.m,c=a.m,d=s.m,p=u.m;s=ma(s),o=fa(o),s&&o;)u=fa(u),(a=ma(a)).a=e,(r=s.z+d-o.z-l+n(s._,o._))>0&&(ga(ya(s,e,i),e,r),l+=r,c+=r),d+=s.m,l+=o.m,p+=u.m,c+=a.m;s&&!ma(a)&&(a.t=s,a.m+=d-c),o&&!fa(u)&&(u.t=o,u.m+=l-p,i=e)}return i}(e,r,e.parent.A||i[0])}function s(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function u(e){e.x*=i[0],e.y=e.depth*i[1]}return o.separation=function(e){return arguments.length?(n=e,o):n},o.size=function(e){return arguments.length?(r=null==(i=e)?u:null,o):r?null:i},o.nodeSize=function(e){return arguments.length?(r=null==(i=e)?null:u,o):r?i:null},Fo(o,t)},e.layout.cluster=function(){var t=e.layout.hierarchy().sort(null).value(null),n=ha,i=[1,1],r=!1;function o(o,a){var s,u=t.call(this,o,a),l=u[0],c=0;Bo(l,(function(t){var i=t.children;i&&i.length?(t.x=function(e){return e.reduce((function(e,t){return e+t.x}),0)/e.length}(i),t.y=function(t){return 1+e.max(t,(function(e){return e.y}))}(i)):(t.x=s?c+=n(t,s):0,t.y=0,s=t)}));var d=va(l),p=_a(l),h=d.x-n(d,p)/2,f=p.x+n(p,d)/2;return Bo(l,r?function(e){e.x=(e.x-l.x)*i[0],e.y=(l.y-e.y)*i[1]}:function(e){e.x=(e.x-h)/(f-h)*i[0],e.y=(1-(l.y?e.y/l.y:1))*i[1]}),u}return o.separation=function(e){return arguments.length?(n=e,o):n},o.size=function(e){return arguments.length?(r=null==(i=e),o):r?null:i},o.nodeSize=function(e){return arguments.length?(r=null!=(i=e),o):r?i:null},Fo(o,t)},e.layout.treemap=function(){var t,n=e.layout.hierarchy(),i=Math.round,r=[1,1],o=null,a=ba,s=!1,u="squarify",l=.5*(1+Math.sqrt(5));function c(e,t){for(var n,i,r=-1,o=e.length;++r<o;)i=(n=e[r]).value*(t<0?0:t),n.area=isNaN(i)||i<=0?0:i}function d(e){var t=e.children;if(t&&t.length){var n,i,r,o=a(e),s=[],l=t.slice(),p=1/0,m="slice"===u?o.dx:"dice"===u?o.dy:"slice-dice"===u?1&e.depth?o.dy:o.dx:Math.min(o.dx,o.dy);for(c(l,o.dx*o.dy/e.value),s.area=0;(r=l.length)>0;)s.push(n=l[r-1]),s.area+=n.area,"squarify"!==u||(i=h(s,m))<=p?(l.pop(),p=i):(s.area-=s.pop().area,f(s,m,o,!1),m=Math.min(o.dx,o.dy),s.length=s.area=0,p=1/0);s.length&&(f(s,m,o,!0),s.length=s.area=0),t.forEach(d)}}function p(e){var t=e.children;if(t&&t.length){var n,i=a(e),r=t.slice(),o=[];for(c(r,i.dx*i.dy/e.value),o.area=0;n=r.pop();)o.push(n),o.area+=n.area,null!=n.z&&(f(o,n.z?i.dx:i.dy,i,!r.length),o.length=o.area=0);t.forEach(p)}}function h(e,t){for(var n,i=e.area,r=0,o=1/0,a=-1,s=e.length;++a<s;)(n=e[a].area)&&(n<o&&(o=n),n>r&&(r=n));return t*=t,(i*=i)?Math.max(t*r*l/i,i/(t*o*l)):1/0}function f(e,t,n,r){var o,a=-1,s=e.length,u=n.x,l=n.y,c=t?i(e.area/t):0;if(t==n.dx){for((r||c>n.dy)&&(c=n.dy);++a<s;)(o=e[a]).x=u,o.y=l,o.dy=c,u+=o.dx=Math.min(n.x+n.dx-u,c?i(o.area/c):0);o.z=!0,o.dx+=n.x+n.dx-u,n.y+=c,n.dy-=c}else{for((r||c>n.dx)&&(c=n.dx);++a<s;)(o=e[a]).x=u,o.y=l,o.dx=c,l+=o.dy=Math.min(n.y+n.dy-l,c?i(o.area/c):0);o.z=!1,o.dy+=n.y+n.dy-l,n.x+=c,n.dx-=c}}function m(e){var i=t||n(e),o=i[0];return o.x=o.y=0,o.value?(o.dx=r[0],o.dy=r[1]):o.dx=o.dy=0,t&&n.revalue(o),c([o],o.dx*o.dy/o.value),(t?p:d)(o),s&&(t=i),i}return m.size=function(e){return arguments.length?(r=e,m):r},m.padding=function(e){if(!arguments.length)return o;function t(t){var n=e.call(m,t,t.depth);return null==n?ba(t):wa(t,"number"==typeof n?[n,n,n,n]:n)}function n(t){return wa(t,e)}var i;return a=null==(o=e)?ba:"function"==(i=typeof e)?t:"number"===i?(e=[e,e,e,e],n):n,m},m.round=function(e){return arguments.length?(i=e?Math.round:Number,m):i!=Number},m.sticky=function(e){return arguments.length?(s=e,t=null,m):s},m.ratio=function(e){return arguments.length?(l=e,m):l},m.mode=function(e){return arguments.length?(u=e+"",m):u},Fo(m,n)},e.random={normal:function(e,t){var n=arguments.length;return n<2&&(t=1),n<1&&(e=0),function(){var n,i,r;do{r=(n=2*Math.random()-1)*n+(i=2*Math.random()-1)*i}while(!r||r>1);return e+t*n*Math.sqrt(-2*Math.log(r)/r)}},logNormal:function(){var t=e.random.normal.apply(e,arguments);return function(){return Math.exp(t())}},bates:function(t){var n=e.random.irwinHall(t);return function(){return n()/t}},irwinHall:function(e){return function(){for(var t=0,n=0;n<e;n++)t+=Math.random();return t}}},e.scale={};var Aa={floor:D,ceil:D};function ka(t,n,i,r){var o=[],a=[],s=0,u=Math.min(t.length,n.length)-1;for(t[u]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++s<=u;)o.push(i(t[s-1],t[s])),a.push(r(n[s-1],n[s]));return function(n){var i=e.bisect(t,n,1,u)-1;return a[i](o[i](n))}}function Ia(e,t,n,i){var r,o;function a(){var a=Math.min(e.length,t.length)>2?ka:Ta,u=i?xo:Co;return r=a(e,t,u,n),o=a(t,e,u,no),s}function s(e){return r(e)}return s.invert=function(e){return o(e)},s.domain=function(t){return arguments.length?(e=t.map(Number),a()):e},s.range=function(e){return arguments.length?(t=e,a()):t},s.rangeRound=function(e){return s.range(e).interpolate(vo)},s.clamp=function(e){return arguments.length?(i=e,a()):i},s.interpolate=function(e){return arguments.length?(n=e,a()):n},s.ticks=function(t){return Na(e,t)},s.tickFormat=function(t,n){return Ra(e,t,n)},s.nice=function(t){return Oa(e,t),a()},s.copy=function(){return Ia(e,t,n,i)},a()}function Da(t,n){return e.rebind(t,n,"range","rangeRound","interpolate","clamp")}function Oa(e,t){return Ca(e,xa(Pa(e,t)[2])),Ca(e,xa(Pa(e,t)[2])),e}function Pa(e,t){null==t&&(t=10);var n=Ea(e),i=n[1]-n[0],r=Math.pow(10,Math.floor(Math.log(i/t)/Math.LN10)),o=t/i*r;return o<=.15?r*=10:o<=.35?r*=5:o<=.75&&(r*=2),n[0]=Math.ceil(n[0]/r)*r,n[1]=Math.floor(n[1]/r)*r+.5*r,n[2]=r,n}function Na(t,n){return e.range.apply(e,Pa(t,n))}function Ra(t,n,i){var r=Pa(t,n);if(i){var o=Ot.exec(i);if(o.shift(),"s"===o[8]){var a=e.formatPrefix(Math.max(v(r[0]),v(r[1])));return o[7]||(o[7]="."+Ma(a.scale(r[2]))),o[8]="f",i=e.format(o.join("")),function(e){return i(a.scale(e))+a.symbol}}o[7]||(o[7]="."+function(e,t){var n=Ma(t[2]);return e in La?Math.abs(n-Ma(Math.max(v(t[0]),v(t[1]))))+ +("e"!==e):n-2*("%"===e)}(o[8],r)),i=o.join("")}else i=",."+Ma(r[2])+"f";return e.format(i)}e.scale.linear=function(){return Ia([0,1],[0,1],no,!1)};var La={s:1,g:1,p:1,r:1,e:1};function Ma(e){return-Math.floor(Math.log(e)/Math.LN10+.01)}function Fa(t,n,i,r){function o(e){return(i?Math.log(e<0?0:e):-Math.log(e>0?0:-e))/Math.log(n)}function a(e){return i?Math.pow(n,e):-Math.pow(n,-e)}function s(e){return t(o(e))}return s.invert=function(e){return a(t.invert(e))},s.domain=function(e){return arguments.length?(i=e[0]>=0,t.domain((r=e.map(Number)).map(o)),s):r},s.base=function(e){return arguments.length?(n=+e,t.domain(r.map(o)),s):n},s.nice=function(){var e=Ca(r.map(o),i?Math:Ba);return t.domain(e),r=e.map(a),s},s.ticks=function(){var e=Ea(r),t=[],s=e[0],u=e[1],l=Math.floor(o(s)),c=Math.ceil(o(u)),d=n%1?2:n;if(isFinite(c-l)){if(i){for(;l<c;l++)for(var p=1;p<d;p++)t.push(a(l)*p);t.push(a(l))}else for(t.push(a(l));l++<c;)for(p=d-1;p>0;p--)t.push(a(l)*p);for(l=0;t[l]<s;l++);for(c=t.length;t[c-1]>u;c--);t=t.slice(l,c)}return t},s.tickFormat=function(t,i){if(!arguments.length)return ja;arguments.length<2?i=ja:"function"!=typeof i&&(i=e.format(i));var r=Math.max(1,n*t/s.ticks().length);return function(e){var t=e/a(Math.round(o(e)));return t*n<n-.5&&(t*=n),t<=r?i(e):""}},s.copy=function(){return Fa(t.copy(),n,i,r)},Da(s,t)}e.scale.log=function(){return Fa(e.scale.linear().domain([0,1]),10,!0,[1,10])};var ja=e.format(".0e"),Ba={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};function Ua(e,t,n){var i=Ha(t),r=Ha(1/t);function o(t){return e(i(t))}return o.invert=function(t){return r(e.invert(t))},o.domain=function(t){return arguments.length?(e.domain((n=t.map(Number)).map(i)),o):n},o.ticks=function(e){return Na(n,e)},o.tickFormat=function(e,t){return Ra(n,e,t)},o.nice=function(e){return o.domain(Oa(n,e))},o.exponent=function(a){return arguments.length?(i=Ha(t=a),r=Ha(1/t),e.domain(n.map(i)),o):t},o.copy=function(){return Ua(e.copy(),t,n)},Da(o,e)}function Ha(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function $a(t,n){var i,r,o;function a(e){return r[((i.get(e)||("range"===n.t?i.set(e,t.push(e)):NaN))-1)%r.length]}function s(n,i){return e.range(t.length).map((function(e){return n+i*e}))}return a.domain=function(e){if(!arguments.length)return t;t=[],i=new w;for(var r,o=-1,s=e.length;++o<s;)i.has(r=e[o])||i.set(r,t.push(r));return a[n.t].apply(a,n.a)},a.range=function(e){return arguments.length?(r=e,o=0,n={t:"range",a:arguments},a):r},a.rangePoints=function(e,i){arguments.length<2&&(i=0);var u=e[0],l=e[1],c=t.length<2?(u=(u+l)/2,0):(l-u)/(t.length-1+i);return r=s(u+c*i/2,c),o=0,n={t:"rangePoints",a:arguments},a},a.rangeRoundPoints=function(e,i){arguments.length<2&&(i=0);var u=e[0],l=e[1],c=t.length<2?(u=l=Math.round((u+l)/2),0):(l-u)/(t.length-1+i)|0;return r=s(u+Math.round(c*i/2+(l-u-(t.length-1+i)*c)/2),c),o=0,n={t:"rangeRoundPoints",a:arguments},a},a.rangeBands=function(e,i,u){arguments.length<2&&(i=0),arguments.length<3&&(u=i);var l=e[1]<e[0],c=e[l-0],d=e[1-l],p=(d-c)/(t.length-i+2*u);return r=s(c+p*u,p),l&&r.reverse(),o=p*(1-i),n={t:"rangeBands",a:arguments},a},a.rangeRoundBands=function(e,i,u){arguments.length<2&&(i=0),arguments.length<3&&(u=i);var l=e[1]<e[0],c=e[l-0],d=e[1-l],p=Math.floor((d-c)/(t.length-i+2*u));return r=s(c+Math.round((d-c-(t.length-i)*p)/2),p),l&&r.reverse(),o=Math.round(p*(1-i)),n={t:"rangeRoundBands",a:arguments},a},a.rangeBand=function(){return o},a.rangeExtent=function(){return Ea(n.a[0])},a.copy=function(){return $a(t,n)},a.domain(t)}e.scale.pow=function(){return Ua(e.scale.linear(),1,[0,1])},e.scale.sqrt=function(){return e.scale.pow().exponent(.5)},e.scale.ordinal=function(){return $a([],{t:"range",a:[[]]})},e.scale.category10=function(){return e.scale.ordinal().range(Ga)},e.scale.category20=function(){return e.scale.ordinal().range(qa)},e.scale.category20b=function(){return e.scale.ordinal().range(Va)},e.scale.category20c=function(){return e.scale.ordinal().range(za)};var Ga=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(st),qa=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(st),Va=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(st),za=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(st);function Wa(t,n){var i;function r(){var r=0,a=n.length;for(i=[];++r<a;)i[r-1]=e.quantile(t,r/a);return o}function o(t){if(!isNaN(t=+t))return n[e.bisect(i,t)]}return o.domain=function(e){return arguments.length?(t=e.map(h).filter(f).sort(p),r()):t},o.range=function(e){return arguments.length?(n=e,r()):n},o.quantiles=function(){return i},o.invertExtent=function(e){return(e=n.indexOf(e))<0?[NaN,NaN]:[e>0?i[e-1]:t[0],e<i.length?i[e]:t[t.length-1]]},o.copy=function(){return Wa(t,n)},r()}function Ka(e,t,n){var i,r;function o(t){return n[Math.max(0,Math.min(r,Math.floor(i*(t-e))))]}function a(){return i=n.length/(t-e),r=n.length-1,o}return o.domain=function(n){return arguments.length?(e=+n[0],t=+n[n.length-1],a()):[e,t]},o.range=function(e){return arguments.length?(n=e,a()):n},o.invertExtent=function(t){return[t=(t=n.indexOf(t))<0?NaN:t/i+e,t+1/i]},o.copy=function(){return Ka(e,t,n)},a()}function Ya(t,n){function i(i){if(i<=i)return n[e.bisect(t,i)]}return i.domain=function(e){return arguments.length?(t=e,i):t},i.range=function(e){return arguments.length?(n=e,i):n},i.invertExtent=function(e){return e=n.indexOf(e),[t[e-1],t[e]]},i.copy=function(){return Ya(t,n)},i}function Ja(e){function t(e){return+e}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=n.map(t),t):e},t.ticks=function(t){return Na(e,t)},t.tickFormat=function(t,n){return Ra(e,t,n)},t.copy=function(){return Ja(e)},t}function Xa(){return 0}e.scale.quantile=function(){return Wa([],[])},e.scale.quantize=function(){return Ka(0,1,[0,1])},e.scale.threshold=function(){return Ya([.5],[0,1])},e.scale.identity=function(){return Ja([0,1])},e.svg={},e.svg.arc=function(){var e=Za,t=es,n=Xa,i=Qa,r=ts,o=ns,a=is;function s(){var s=Math.max(0,+e.apply(this,arguments)),l=Math.max(0,+t.apply(this,arguments)),c=r.apply(this,arguments)-Ie,d=o.apply(this,arguments)-Ie,p=Math.abs(d-c),h=c>d?0:1;if(l<s&&(f=l,l=s,s=f),p>=ke)return u(l,h)+(s?u(s,1-h):"")+"Z";var f,m,g,y,v,_,b,w,E,S,T,C,x=0,A=0,k=[];if((y=(+a.apply(this,arguments)||0)/2)&&(g=i===Qa?Math.sqrt(s*s+l*l):+i.apply(this,arguments),h||(A*=-1),l&&(A=Le(g/l*Math.sin(y))),s&&(x=Le(g/s*Math.sin(y)))),l){v=l*Math.cos(c+A),_=l*Math.sin(c+A),b=l*Math.cos(d-A),w=l*Math.sin(d-A);var I=Math.abs(d-c-2*A)<=xe?0:1;if(A&&rs(v,_,b,w)===h^I){var D=(c+d)/2;v=l*Math.cos(D),_=l*Math.sin(D),b=w=null}}else v=_=0;if(s){E=s*Math.cos(d-x),S=s*Math.sin(d-x),T=s*Math.cos(c+x),C=s*Math.sin(c+x);var O=Math.abs(c-d+2*x)<=xe?0:1;if(x&&rs(E,S,T,C)===1-h^O){var P=(c+d)/2;E=s*Math.cos(P),S=s*Math.sin(P),T=C=null}}else E=S=0;if(p>Te&&(f=Math.min(Math.abs(l-s)/2,+n.apply(this,arguments)))>.001){m=s<l^h?0:1;var N=f,R=f;if(p<xe){var L=null==T?[E,S]:null==b?[v,_]:dr([v,_],[T,C],[b,w],[E,S]),M=v-L[0],F=_-L[1],j=b-L[0],B=w-L[1],U=1/Math.sin(Math.acos((M*j+F*B)/(Math.sqrt(M*M+F*F)*Math.sqrt(j*j+B*B)))/2),H=Math.sqrt(L[0]*L[0]+L[1]*L[1]);R=Math.min(f,(s-H)/(U-1)),N=Math.min(f,(l-H)/(U+1))}if(null!=b){var $=os(null==T?[E,S]:[T,C],[v,_],l,N,h),G=os([b,w],[E,S],l,N,h);f===N?k.push("M",$[0],"A",N,",",N," 0 0,",m," ",$[1],"A",l,",",l," 0 ",1-h^rs($[1][0],$[1][1],G[1][0],G[1][1]),",",h," ",G[1],"A",N,",",N," 0 0,",m," ",G[0]):k.push("M",$[0],"A",N,",",N," 0 1,",m," ",G[0])}else k.push("M",v,",",_);if(null!=T){var q=os([v,_],[T,C],s,-R,h),V=os([E,S],null==b?[v,_]:[b,w],s,-R,h);f===R?k.push("L",V[0],"A",R,",",R," 0 0,",m," ",V[1],"A",s,",",s," 0 ",h^rs(V[1][0],V[1][1],q[1][0],q[1][1]),",",1-h," ",q[1],"A",R,",",R," 0 0,",m," ",q[0]):k.push("L",V[0],"A",R,",",R," 0 0,",m," ",q[0])}else k.push("L",E,",",S)}else k.push("M",v,",",_),null!=b&&k.push("A",l,",",l," 0 ",I,",",h," ",b,",",w),k.push("L",E,",",S),null!=T&&k.push("A",s,",",s," 0 ",O,",",1-h," ",T,",",C);return k.push("Z"),k.join("")}function u(e,t){return"M0,"+e+"A"+e+","+e+" 0 1,"+t+" 0,"+-e+"A"+e+","+e+" 0 1,"+t+" 0,"+e}return s.innerRadius=function(t){return arguments.length?(e=gt(t),s):e},s.outerRadius=function(e){return arguments.length?(t=gt(e),s):t},s.cornerRadius=function(e){return arguments.length?(n=gt(e),s):n},s.padRadius=function(e){return arguments.length?(i=e==Qa?Qa:gt(e),s):i},s.startAngle=function(e){return arguments.length?(r=gt(e),s):r},s.endAngle=function(e){return arguments.length?(o=gt(e),s):o},s.padAngle=function(e){return arguments.length?(a=gt(e),s):a},s.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,i=(+r.apply(this,arguments)+ +o.apply(this,arguments))/2-Ie;return[Math.cos(i)*n,Math.sin(i)*n]},s};var Qa="auto";function Za(e){return e.innerRadius}function es(e){return e.outerRadius}function ts(e){return e.startAngle}function ns(e){return e.endAngle}function is(e){return e&&e.padAngle}function rs(e,t,n,i){return(e-n)*t-(t-i)*e>0?0:1}function os(e,t,n,i,r){var o=e[0]-t[0],a=e[1]-t[1],s=(r?i:-i)/Math.sqrt(o*o+a*a),u=s*a,l=-s*o,c=e[0]+u,d=e[1]+l,p=t[0]+u,h=t[1]+l,f=(c+p)/2,m=(d+h)/2,g=p-c,y=h-d,v=g*g+y*y,_=n-i,b=c*h-p*d,w=(y<0?-1:1)*Math.sqrt(Math.max(0,_*_*v-b*b)),E=(b*y-g*w)/v,S=(-b*g-y*w)/v,T=(b*y+g*w)/v,C=(-b*g+y*w)/v,x=E-f,A=S-m,k=T-f,I=C-m;return x*x+A*A>k*k+I*I&&(E=T,S=C),[[E-u,S-l],[E*n/_,S*n/_]]}function as(e){var t=or,n=ar,i=Yn,r=us,o=r.key,a=.7;function s(o){var s,u=[],l=[],c=-1,d=o.length,p=gt(t),h=gt(n);function f(){u.push("M",r(e(l),a))}for(;++c<d;)i.call(this,s=o[c],c)?l.push([+p.call(this,s,c),+h.call(this,s,c)]):l.length&&(f(),l=[]);return l.length&&f(),u.length?u.join(""):null}return s.x=function(e){return arguments.length?(t=e,s):t},s.y=function(e){return arguments.length?(n=e,s):n},s.defined=function(e){return arguments.length?(i=e,s):i},s.interpolate=function(e){return arguments.length?(o="function"==typeof e?r=e:(r=ss.get(e)||us).key,s):o},s.tension=function(e){return arguments.length?(a=e,s):a},s}e.svg.line=function(){return as(D)};var ss=e.map({linear:us,"linear-closed":ls,step:function(e){var t=0,n=e.length,i=e[0],r=[i[0],",",i[1]];for(;++t<n;)r.push("H",(i[0]+(i=e[t])[0])/2,"V",i[1]);n>1&&r.push("H",i[0]);return r.join("")},"step-before":cs,"step-after":ds,basis:fs,"basis-open":function(e){if(e.length<4)return us(e);var t,n=[],i=-1,r=e.length,o=[0],a=[0];for(;++i<3;)t=e[i],o.push(t[0]),a.push(t[1]);n.push(ms(vs,o)+","+ms(vs,a)),--i;for(;++i<r;)t=e[i],o.shift(),o.push(t[0]),a.shift(),a.push(t[1]),_s(n,o,a);return n.join("")},"basis-closed":function(e){var t,n,i=-1,r=e.length,o=r+4,a=[],s=[];for(;++i<4;)n=e[i%r],a.push(n[0]),s.push(n[1]);t=[ms(vs,a),",",ms(vs,s)],--i;for(;++i<o;)n=e[i%r],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),_s(t,a,s);return t.join("")},bundle:function(e,t){var n=e.length-1;if(n)for(var i,r,o=e[0][0],a=e[0][1],s=e[n][0]-o,u=e[n][1]-a,l=-1;++l<=n;)i=e[l],r=l/n,i[0]=t*i[0]+(1-t)*(o+r*s),i[1]=t*i[1]+(1-t)*(a+r*u);return fs(e)},cardinal:function(e,t){return e.length<3?us(e):e[0]+ps(e,hs(e,t))},"cardinal-open":function(e,t){return e.length<4?us(e):e[1]+ps(e.slice(1,-1),hs(e,t))},"cardinal-closed":function(e,t){return e.length<3?ls(e):e[0]+ps((e.push(e[0]),e),hs([e[e.length-2]].concat(e,[e[1]]),t))},monotone:function(e){return e.length<3?us(e):e[0]+ps(e,function(e){var t,n,i,r,o=[],a=function(e){var t=0,n=e.length-1,i=[],r=e[0],o=e[1],a=i[0]=bs(r,o);for(;++t<n;)i[t]=(a+(a=bs(r=o,o=e[t+1])))/2;return i[t]=a,i}(e),s=-1,u=e.length-1;for(;++s<u;)t=bs(e[s],e[s+1]),v(t)<Te?a[s]=a[s+1]=0:(r=(n=a[s]/t)*n+(i=a[s+1]/t)*i)>9&&(r=3*t/Math.sqrt(r),a[s]=r*n,a[s+1]=r*i);s=-1;for(;++s<=u;)r=(e[Math.min(u,s+1)][0]-e[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),o.push([r||0,a[s]*r||0]);return o}(e))}});function us(e){return e.length>1?e.join("L"):e+"Z"}function ls(e){return e.join("L")+"Z"}function cs(e){for(var t=0,n=e.length,i=e[0],r=[i[0],",",i[1]];++t<n;)r.push("V",(i=e[t])[1],"H",i[0]);return r.join("")}function ds(e){for(var t=0,n=e.length,i=e[0],r=[i[0],",",i[1]];++t<n;)r.push("H",(i=e[t])[0],"V",i[1]);return r.join("")}function ps(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2)return us(e);var n=e.length!=t.length,i="",r=e[0],o=e[1],a=t[0],s=a,u=1;if(n&&(i+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],r=e[1],u=2),t.length>1){s=t[1],o=e[u],u++,i+="C"+(r[0]+a[0])+","+(r[1]+a[1])+","+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1];for(var l=2;l<t.length;l++,u++)o=e[u],s=t[l],i+="S"+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1]}if(n){var c=e[u];i+="Q"+(o[0]+2*s[0]/3)+","+(o[1]+2*s[1]/3)+","+c[0]+","+c[1]}return i}function hs(e,t){for(var n,i=[],r=(1-t)/2,o=e[0],a=e[1],s=1,u=e.length;++s<u;)n=o,o=a,a=e[s],i.push([r*(a[0]-n[0]),r*(a[1]-n[1])]);return i}function fs(e){if(e.length<3)return us(e);var t=1,n=e.length,i=e[0],r=i[0],o=i[1],a=[r,r,r,(i=e[1])[0]],s=[o,o,o,i[1]],u=[r,",",o,"L",ms(vs,a),",",ms(vs,s)];for(e.push(e[n-1]);++t<=n;)i=e[t],a.shift(),a.push(i[0]),s.shift(),s.push(i[1]),_s(u,a,s);return e.pop(),u.push("L",i),u.join("")}function ms(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}ss.forEach((function(e,t){t.key=e,t.closed=/-closed$/.test(e)}));var gs=[0,2/3,1/3,0],ys=[0,1/3,2/3,0],vs=[0,1/6,2/3,1/6];function _s(e,t,n){e.push("C",ms(gs,t),",",ms(gs,n),",",ms(ys,t),",",ms(ys,n),",",ms(vs,t),",",ms(vs,n))}function bs(e,t){return(t[1]-e[1])/(t[0]-e[0])}function ws(e){for(var t,n,i,r=-1,o=e.length;++r<o;)n=(t=e[r])[0],i=t[1]-Ie,t[0]=n*Math.cos(i),t[1]=n*Math.sin(i);return e}function Es(e){var t=or,n=or,i=0,r=ar,o=Yn,a=us,s=a.key,u=a,l="L",c=.7;function d(s){var d,p,h,f=[],m=[],g=[],y=-1,v=s.length,_=gt(t),b=gt(i),w=t===n?function(){return p}:gt(n),E=i===r?function(){return h}:gt(r);function S(){f.push("M",a(e(g),c),l,u(e(m.reverse()),c),"Z")}for(;++y<v;)o.call(this,d=s[y],y)?(m.push([p=+_.call(this,d,y),h=+b.call(this,d,y)]),g.push([+w.call(this,d,y),+E.call(this,d,y)])):m.length&&(S(),m=[],g=[]);return m.length&&S(),f.length?f.join(""):null}return d.x=function(e){return arguments.length?(t=n=e,d):n},d.x0=function(e){return arguments.length?(t=e,d):t},d.x1=function(e){return arguments.length?(n=e,d):n},d.y=function(e){return arguments.length?(i=r=e,d):r},d.y0=function(e){return arguments.length?(i=e,d):i},d.y1=function(e){return arguments.length?(r=e,d):r},d.defined=function(e){return arguments.length?(o=e,d):o},d.interpolate=function(e){return arguments.length?(s="function"==typeof e?a=e:(a=ss.get(e)||us).key,u=a.reverse||a,l=a.closed?"M":"L",d):s},d.tension=function(e){return arguments.length?(c=e,d):c},d}function Ss(e){return e.radius}function Ts(e){return[e.x,e.y]}function Cs(e){return function(){var t=e.apply(this,arguments),n=t[0],i=t[1]-Ie;return[n*Math.cos(i),n*Math.sin(i)]}}function xs(){return 64}function As(){return"circle"}function ks(e){var t=Math.sqrt(e/xe);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}e.svg.line.radial=function(){var e=as(ws);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},cs.reverse=ds,ds.reverse=cs,e.svg.area=function(){return Es(D)},e.svg.area.radial=function(){var e=Es(ws);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},e.svg.chord=function(){var e=Vi,t=zi,n=Ss,i=ts,r=ns;function o(n,i){var r,o,l=a(this,e,n,i),c=a(this,t,n,i);return"M"+l.p0+s(l.r,l.p1,l.a1-l.a0)+(o=c,((r=l).a0==o.a0&&r.a1==o.a1?u(l.r,l.p1,l.r,l.p0):u(l.r,l.p1,c.r,c.p0)+s(c.r,c.p1,c.a1-c.a0)+u(c.r,c.p1,l.r,l.p0))+"Z")}function a(e,t,o,a){var s=t.call(e,o,a),u=n.call(e,s,a),l=i.call(e,s,a)-Ie,c=r.call(e,s,a)-Ie;return{r:u,a0:l,a1:c,p0:[u*Math.cos(l),u*Math.sin(l)],p1:[u*Math.cos(c),u*Math.sin(c)]}}function s(e,t,n){return"A"+e+","+e+" 0 "+ +(n>xe)+",1 "+t}function u(e,t,n,i){return"Q 0,0 "+i}return o.radius=function(e){return arguments.length?(n=gt(e),o):n},o.source=function(t){return arguments.length?(e=gt(t),o):e},o.target=function(e){return arguments.length?(t=gt(e),o):t},o.startAngle=function(e){return arguments.length?(i=gt(e),o):i},o.endAngle=function(e){return arguments.length?(r=gt(e),o):r},o},e.svg.diagonal=function(){var e=Vi,t=zi,n=Ts;function i(i,r){var o=e.call(this,i,r),a=t.call(this,i,r),s=(o.y+a.y)/2,u=[o,{x:o.x,y:s},{x:a.x,y:s},a];return"M"+(u=u.map(n))[0]+"C"+u[1]+" "+u[2]+" "+u[3]}return i.source=function(t){return arguments.length?(e=gt(t),i):e},i.target=function(e){return arguments.length?(t=gt(e),i):t},i.projection=function(e){return arguments.length?(n=e,i):n},i},e.svg.diagonal.radial=function(){var t=e.svg.diagonal(),n=Ts,i=t.projection;return t.projection=function(e){return arguments.length?i(Cs(n=e)):n},t},e.svg.symbol=function(){var e=As,t=xs;function n(n,i){return(Is.get(e.call(this,n,i))||ks)(t.call(this,n,i))}return n.type=function(t){return arguments.length?(e=gt(t),n):e},n.size=function(e){return arguments.length?(t=gt(e),n):t},n};var Is=e.map({circle:ks,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*Os)),n=t*Os;return"M0,"+-t+"L"+n+",0 0,"+t+" "+-n+",0Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/Ds),n=t*Ds/2;return"M0,"+n+"L"+t+","+-n+" "+-t+","+-n+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/Ds),n=t*Ds/2;return"M0,"+-n+"L"+t+","+n+" "+-t+","+n+"Z"}});e.svg.symbolTypes=Is.keys();var Ds=Math.sqrt(3),Os=Math.tan(30*De);z.transition=function(e){for(var t,n,i=Ls||++js,r=Hs(e),o=[],a=Ms||{time:Date.now(),ease:ho,delay:0,duration:250},s=-1,u=this.length;++s<u;){o.push(t=[]);for(var l=this[s],c=-1,d=l.length;++c<d;)(n=l[c])&&$s(n,c,r,i,a),t.push(n)}return Rs(o,r,i)},z.interrupt=function(e){return this.each(null==e?Ps:Ns(Hs(e)))};var Ps=Ns(Hs());function Ns(e){return function(){var t,n,i;(t=this[e])&&(i=t[n=t.active])&&(i.timer.c=null,i.timer.t=NaN,--t.count?delete t[n]:delete this[e],t.active+=.5,i.event&&i.event.interrupt.call(this,this.__data__,i.index))}}function Rs(e,t,n){return H(e,Fs),e.namespace=t,e.id=n,e}var Ls,Ms,Fs=[],js=0;function Bs(e,t,n,i){var r=e.id,o=e.namespace;return ce(e,"function"==typeof n?function(e,a,s){e[o][r].tween.set(t,i(n.call(e,e.__data__,a,s)))}:(n=i(n),function(e){e[o][r].tween.set(t,n)}))}function Us(e){return null==e&&(e=""),function(){this.textContent=e}}function Hs(e){return null==e?"__transition__":"__transition_"+e+"__"}function $s(e,t,n,i,r){var o,a,s,u,l,c=e[n]||(e[n]={active:0,count:0}),d=c[i];function p(n){var r=c.active,p=c[r];for(var f in p&&(p.timer.c=null,p.timer.t=NaN,--c.count,delete c[r],p.event&&p.event.interrupt.call(e,e.__data__,p.index)),c)if(+f<i){var m=c[f];m.timer.c=null,m.timer.t=NaN,--c.count,delete c[f]}a.c=h,Tt((function(){return a.c&&h(n||1)&&(a.c=null,a.t=NaN),1}),0,o),c.active=i,d.event&&d.event.start.call(e,e.__data__,t),l=[],d.tween.forEach((function(n,i){(i=i.call(e,e.__data__,t))&&l.push(i)})),u=d.ease,s=d.duration}function h(r){for(var o=r/s,a=u(o),p=l.length;p>0;)l[--p].call(e,a);if(o>=1)return d.event&&d.event.end.call(e,e.__data__,t),--c.count?delete c[i]:delete e[n],1}d||(o=r.time,a=Tt((function(e){var t=d.delay;if(a.t=t+o,t<=e)return p(e-t);a.c=p}),0,o),d=c[i]={tween:new w,time:o,timer:a,delay:r.delay,duration:r.duration,ease:r.ease,index:t},r=null,++c.count)}Fs.call=z.call,Fs.empty=z.empty,Fs.node=z.node,Fs.size=z.size,e.transition=function(t,n){return t&&t.transition?Ls?t.transition(n):t:e.selection().transition(t)},e.transition.prototype=Fs,Fs.select=function(e){var t,n,i,r=this.id,o=this.namespace,a=[];e=W(e);for(var s=-1,u=this.length;++s<u;){a.push(t=[]);for(var l=this[s],c=-1,d=l.length;++c<d;)(i=l[c])&&(n=e.call(i,i.__data__,c,s))?("__data__"in i&&(n.__data__=i.__data__),$s(n,c,o,r,i[o][r]),t.push(n)):t.push(null)}return Rs(a,o,r)},Fs.selectAll=function(e){var t,n,i,r,o,a=this.id,s=this.namespace,u=[];e=K(e);for(var l=-1,c=this.length;++l<c;)for(var d=this[l],p=-1,h=d.length;++p<h;)if(i=d[p]){o=i[s][a],n=e.call(i,i.__data__,p,l),u.push(t=[]);for(var f=-1,m=n.length;++f<m;)(r=n[f])&&$s(r,f,s,a,o),t.push(r)}return Rs(u,s,a)},Fs.filter=function(e){var t,n,i=[];"function"!=typeof e&&(e=ue(e));for(var r=0,o=this.length;r<o;r++){i.push(t=[]);for(var a,s=0,u=(a=this[r]).length;s<u;s++)(n=a[s])&&e.call(n,n.__data__,s,r)&&t.push(n)}return Rs(i,this.namespace,this.id)},Fs.tween=function(e,t){var n=this.id,i=this.namespace;return arguments.length<2?this.node()[i][n].tween.get(e):ce(this,null==t?function(t){t[i][n].tween.remove(e)}:function(r){r[i][n].tween.set(e,t)})},Fs.attr=function(t,n){if(arguments.length<2){for(n in t)this.attr(n,t[n]);return this}var i="transform"==t?To:no,r=e.ns.qualify(t);function o(){this.removeAttribute(r)}function a(){this.removeAttributeNS(r.space,r.local)}function s(e){return null==e?o:(e+="",function(){var t,n=this.getAttribute(r);return n!==e&&(t=i(n,e),function(e){this.setAttribute(r,t(e))})})}function u(e){return null==e?a:(e+="",function(){var t,n=this.getAttributeNS(r.space,r.local);return n!==e&&(t=i(n,e),function(e){this.setAttributeNS(r.space,r.local,t(e))})})}return Bs(this,"attr."+t,n,r.local?u:s)},Fs.attrTween=function(t,n){var i=e.ns.qualify(t);return this.tween("attr."+t,i.local?function(e,t){var r=n.call(this,e,t,this.getAttributeNS(i.space,i.local));return r&&function(e){this.setAttributeNS(i.space,i.local,r(e))}}:function(e,t){var r=n.call(this,e,t,this.getAttribute(i));return r&&function(e){this.setAttribute(i,r(e))}})},Fs.style=function(e,t,n){var i=arguments.length;if(i<3){if("string"!=typeof e){for(n in i<2&&(t=""),e)this.style(n,e[n],t);return this}n=""}function r(){this.style.removeProperty(e)}function o(t){return null==t?r:(t+="",function(){var i,r=a(this).getComputedStyle(this,null).getPropertyValue(e);return r!==t&&(i=no(r,t),function(t){this.style.setProperty(e,i(t),n)})})}return Bs(this,"style."+e,t,o)},Fs.styleTween=function(e,t,n){function i(i,r){var o=t.call(this,i,r,a(this).getComputedStyle(this,null).getPropertyValue(e));return o&&function(t){this.style.setProperty(e,o(t),n)}}return arguments.length<3&&(n=""),this.tween("style."+e,i)},Fs.text=function(e){return Bs(this,"text",e,Us)},Fs.remove=function(){var e=this.namespace;return this.each("end.transition",(function(){var t;this[e].count<2&&(t=this.parentNode)&&t.removeChild(this)}))},Fs.ease=function(t){var n=this.id,i=this.namespace;return arguments.length<1?this.node()[i][n].ease:("function"!=typeof t&&(t=e.ease.apply(e,arguments)),ce(this,(function(e){e[i][n].ease=t})))},Fs.delay=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].delay:ce(this,"function"==typeof e?function(i,r,o){i[n][t].delay=+e.call(i,i.__data__,r,o)}:(e=+e,function(i){i[n][t].delay=e}))},Fs.duration=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].duration:ce(this,"function"==typeof e?function(i,r,o){i[n][t].duration=Math.max(1,e.call(i,i.__data__,r,o))}:(e=Math.max(1,e),function(i){i[n][t].duration=e}))},Fs.each=function(t,n){var i=this.id,r=this.namespace;if(arguments.length<2){var o=Ms,a=Ls;try{Ls=i,ce(this,(function(e,n,o){Ms=e[r][i],t.call(e,e.__data__,n,o)}))}finally{Ms=o,Ls=a}}else ce(this,(function(o){var a=o[r][i];(a.event||(a.event=e.dispatch("start","end","interrupt"))).on(t,n)}));return this},Fs.transition=function(){for(var e,t,n,i=this.id,r=++js,o=this.namespace,a=[],s=0,u=this.length;s<u;s++){a.push(e=[]);for(var l,c=0,d=(l=this[s]).length;c<d;c++)(t=l[c])&&$s(t,c,o,r,{time:(n=t[o][i]).time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration}),e.push(t)}return Rs(a,o,r)},e.svg.axis=function(){var t,n=e.scale.linear(),r=Gs,o=6,a=6,s=3,u=[10],l=null;function c(i){i.each((function(){var i,c=e.select(this),d=this.__chart__||n,p=this.__chart__=n.copy(),h=null==l?p.ticks?p.ticks.apply(p,u):p.domain():l,f=null==t?p.tickFormat?p.tickFormat.apply(p,u):D:t,m=c.selectAll(".tick").data(h,p),g=m.enter().insert("g",".domain").attr("class","tick").style("opacity",Te),y=e.transition(m.exit()).style("opacity",Te).remove(),v=e.transition(m.order()).style("opacity",1),_=Math.max(o,0)+s,b=Sa(p),w=c.selectAll(".domain").data([0]),E=(w.enter().append("path").attr("class","domain"),e.transition(w));g.append("line"),g.append("text");var S,T,C,x,A=g.select("line"),k=v.select("line"),I=m.select("text").text(f),O=g.select("text"),P=v.select("text"),N="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(i=Vs,S="x",C="y",T="x2",x="y2",I.attr("dy",N<0?"0em":".71em").style("text-anchor","middle"),E.attr("d","M"+b[0]+","+N*a+"V0H"+b[1]+"V"+N*a)):(i=zs,S="y",C="x",T="y2",x="x2",I.attr("dy",".32em").style("text-anchor",N<0?"end":"start"),E.attr("d","M"+N*a+","+b[0]+"H0V"+b[1]+"H"+N*a)),A.attr(x,N*o),O.attr(C,N*_),k.attr(T,0).attr(x,N*o),P.attr(S,0).attr(C,N*_),p.rangeBand){var R=p,L=R.rangeBand()/2;d=p=function(e){return R(e)+L}}else d.rangeBand?d=p:y.call(i,p,d);g.call(i,d,p),v.call(i,p,p)}))}return c.scale=function(e){return arguments.length?(n=e,c):n},c.orient=function(e){return arguments.length?(r=e in qs?e+"":Gs,c):r},c.ticks=function(){return arguments.length?(u=i(arguments),c):u},c.tickValues=function(e){return arguments.length?(l=e,c):l},c.tickFormat=function(e){return arguments.length?(t=e,c):t},c.tickSize=function(e){var t=arguments.length;return t?(o=+e,a=+arguments[t-1],c):o},c.innerTickSize=function(e){return arguments.length?(o=+e,c):o},c.outerTickSize=function(e){return arguments.length?(a=+e,c):a},c.tickPadding=function(e){return arguments.length?(s=+e,c):s},c.tickSubdivide=function(){return arguments.length&&c},c};var Gs="bottom",qs={top:1,right:1,bottom:1,left:1};function Vs(e,t,n){e.attr("transform",(function(e){var i=t(e);return"translate("+(isFinite(i)?i:n(e))+",0)"}))}function zs(e,t,n){e.attr("transform",(function(e){var i=t(e);return"translate(0,"+(isFinite(i)?i:n(e))+")"}))}e.svg.brush=function(){var t,n,i=B(p,"brushstart","brush","brushend"),r=null,o=null,s=[0,0],u=[0,0],l=!0,c=!0,d=Ks[0];function p(t){t.each((function(){var t=e.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",g).on("touchstart.brush",g),n=t.selectAll(".background").data([0]);n.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var i=t.selectAll(".resize").data(d,D);i.exit().remove(),i.enter().append("g").attr("class",(function(e){return"resize "+e})).style("cursor",(function(e){return Ws[e]})).append("rect").attr("x",(function(e){return/[ew]$/.test(e)?-3:null})).attr("y",(function(e){return/^[ns]/.test(e)?-3:null})).attr("width",6).attr("height",6).style("visibility","hidden"),i.style("display",p.empty()?"none":null);var a,s=e.transition(t),u=e.transition(n);r&&(a=Sa(r),u.attr("x",a[0]).attr("width",a[1]-a[0]),f(s)),o&&(a=Sa(o),u.attr("y",a[0]).attr("height",a[1]-a[0]),m(s)),h(s)}))}function h(e){e.selectAll(".resize").attr("transform",(function(e){return"translate("+s[+/e$/.test(e)]+","+u[+/^s/.test(e)]+")"}))}function f(e){e.select(".extent").attr("x",s[0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",s[1]-s[0])}function m(e){e.select(".extent").attr("y",u[0]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",u[1]-u[0])}function g(){var d,g,y=this,v=e.select(e.event.target),_=i.of(y,arguments),b=e.select(y),w=v.datum(),E=!/^(n|s)$/.test(w)&&r,S=!/^(e|w)$/.test(w)&&o,T=v.classed("extent"),C=be(y),x=e.mouse(y),A=e.select(a(y)).on("keydown.brush",D).on("keyup.brush",O);if(e.event.changedTouches?A.on("touchmove.brush",P).on("touchend.brush",R):A.on("mousemove.brush",P).on("mouseup.brush",R),b.interrupt().selectAll("*").interrupt(),T)x[0]=s[0]-x[0],x[1]=u[0]-x[1];else if(w){var k=+/w$/.test(w),I=+/^n/.test(w);g=[s[1-k]-x[0],u[1-I]-x[1]],x[0]=s[k],x[1]=u[I]}else e.event.altKey&&(d=x.slice());function D(){32==e.event.keyCode&&(T||(d=null,x[0]-=s[1],x[1]-=u[1],T=2),F())}function O(){32==e.event.keyCode&&2==T&&(x[0]+=s[1],x[1]+=u[1],T=0,F())}function P(){var t=e.mouse(y),n=!1;g&&(t[0]+=g[0],t[1]+=g[1]),T||(e.event.altKey?(d||(d=[(s[0]+s[1])/2,(u[0]+u[1])/2]),x[0]=s[+(t[0]<d[0])],x[1]=u[+(t[1]<d[1])]):d=null),E&&N(t,r,0)&&(f(b),n=!0),S&&N(t,o,1)&&(m(b),n=!0),n&&(h(b),_({type:"brush",mode:T?"move":"resize"}))}function N(e,i,r){var o,a,p=Sa(i),h=p[0],f=p[1],m=x[r],g=r?u:s,y=g[1]-g[0];if(T&&(h-=m,f-=y+m),o=(r?c:l)?Math.max(h,Math.min(f,e[r])):e[r],T?a=(o+=m)+y:(d&&(m=Math.max(h,Math.min(f,2*d[r]-o))),m<o?(a=o,o=m):a=m),g[0]!=o||g[1]!=a)return r?n=null:t=null,g[0]=o,g[1]=a,!0}function R(){P(),b.style("pointer-events","all").selectAll(".resize").style("display",p.empty()?"none":null),e.select("body").style("cursor",null),A.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),C(),_({type:"brushend"})}b.style("pointer-events","none").selectAll(".resize").style("display",null),e.select("body").style("cursor",v.style("cursor")),_({type:"brushstart"}),P()}return p.event=function(r){r.each((function(){var r=i.of(this,arguments),o={x:s,y:u,i:t,j:n},a=this.__chart__||o;this.__chart__=o,Ls?e.select(this).transition().each("start.brush",(function(){t=a.i,n=a.j,s=a.x,u=a.y,r({type:"brushstart"})})).tween("brush:brush",(function(){var e=io(s,o.x),i=io(u,o.y);return t=n=null,function(t){s=o.x=e(t),u=o.y=i(t),r({type:"brush",mode:"resize"})}})).each("end.brush",(function(){t=o.i,n=o.j,r({type:"brush",mode:"resize"}),r({type:"brushend"})})):(r({type:"brushstart"}),r({type:"brush",mode:"resize"}),r({type:"brushend"}))}))},p.x=function(e){return arguments.length?(d=Ks[!(r=e)<<1|!o],p):r},p.y=function(e){return arguments.length?(d=Ks[!r<<1|!(o=e)],p):o},p.clamp=function(e){return arguments.length?(r&&o?(l=!!e[0],c=!!e[1]):r?l=!!e:o&&(c=!!e),p):r&&o?[l,c]:r?l:o?c:null},p.extent=function(e){var i,a,l,c,d;return arguments.length?(r&&(i=e[0],a=e[1],o&&(i=i[0],a=a[0]),t=[i,a],r.invert&&(i=r(i),a=r(a)),a<i&&(d=i,i=a,a=d),i==s[0]&&a==s[1]||(s=[i,a])),o&&(l=e[0],c=e[1],r&&(l=l[1],c=c[1]),n=[l,c],o.invert&&(l=o(l),c=o(c)),c<l&&(d=l,l=c,c=d),l==u[0]&&c==u[1]||(u=[l,c])),p):(r&&(t?(i=t[0],a=t[1]):(i=s[0],a=s[1],r.invert&&(i=r.invert(i),a=r.invert(a)),a<i&&(d=i,i=a,a=d))),o&&(n?(l=n[0],c=n[1]):(l=u[0],c=u[1],o.invert&&(l=o.invert(l),c=o.invert(c)),c<l&&(d=l,l=c,c=d))),r&&o?[[i,l],[a,c]]:r?[i,a]:o&&[l,c])},p.clear=function(){return p.empty()||(s=[0,0],u=[0,0],t=n=null),p},p.empty=function(){return!!r&&s[0]==s[1]||!!o&&u[0]==u[1]},e.rebind(p,i,"on")};var Ws={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ks=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Ys=Rt.format=cn.timeFormat,Js=Ys.utc,Xs=Js("%Y-%m-%dT%H:%M:%S.%LZ");function Qs(e){return e.toISOString()}function Zs(t,n,i){function r(e){return t(e)}function o(t,i){var r=(t[1]-t[0])/i,o=e.bisect(tu,r);return o==tu.length?[n.year,Pa(t.map((function(e){return e/31536e6})),i)[2]]:o?n[r/tu[o-1]<tu[o]/r?o-1:o]:[ru,Pa(t,i)[2]]}return r.invert=function(e){return eu(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain(e),r):t.domain().map(eu)},r.nice=function(e,t){var n=r.domain(),i=Ea(n),a=null==e?o(i,10):"number"==typeof e&&o(i,e);function s(n){return!isNaN(n)&&!e.range(n,eu(+n+1),t).length}return a&&(e=a[0],t=a[1]),r.domain(Ca(n,t>1?{floor:function(t){for(;s(t=e.floor(t));)t=eu(t-1);return t},ceil:function(t){for(;s(t=e.ceil(t));)t=eu(+t+1);return t}}:e))},r.ticks=function(e,t){var n=Ea(r.domain()),i=null==e?o(n,10):"number"==typeof e?o(n,e):!e.range&&[{range:e},t];return i&&(e=i[0],t=i[1]),e.range(n[0],eu(+n[1]+1),t<1?1:t)},r.tickFormat=function(){return i},r.copy=function(){return Zs(t.copy(),n,i)},Da(r,t)}function eu(e){return new Date(e)}Ys.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Qs:Xs,Qs.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},Qs.toString=Xs.toString,Rt.second=jt((function(e){return new Lt(1e3*Math.floor(e/1e3))}),(function(e,t){e.setTime(e.getTime()+1e3*Math.floor(t))}),(function(e){return e.getSeconds()})),Rt.seconds=Rt.second.range,Rt.seconds.utc=Rt.second.utc.range,Rt.minute=jt((function(e){return new Lt(6e4*Math.floor(e/6e4))}),(function(e,t){e.setTime(e.getTime()+6e4*Math.floor(t))}),(function(e){return e.getMinutes()})),Rt.minutes=Rt.minute.range,Rt.minutes.utc=Rt.minute.utc.range,Rt.hour=jt((function(e){var t=e.getTimezoneOffset()/60;return new Lt(36e5*(Math.floor(e/36e5-t)+t))}),(function(e,t){e.setTime(e.getTime()+36e5*Math.floor(t))}),(function(e){return e.getHours()})),Rt.hours=Rt.hour.range,Rt.hours.utc=Rt.hour.utc.range,Rt.month=jt((function(e){return(e=Rt.day(e)).setDate(1),e}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e){return e.getMonth()})),Rt.months=Rt.month.range,Rt.months.utc=Rt.month.utc.range;var tu=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],nu=[[Rt.second,1],[Rt.second,5],[Rt.second,15],[Rt.second,30],[Rt.minute,1],[Rt.minute,5],[Rt.minute,15],[Rt.minute,30],[Rt.hour,1],[Rt.hour,3],[Rt.hour,6],[Rt.hour,12],[Rt.day,1],[Rt.day,2],[Rt.week,1],[Rt.month,1],[Rt.month,3],[Rt.year,1]],iu=Ys.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%a %d",function(e){return e.getDay()&&1!=e.getDate()}],["%b %d",function(e){return 1!=e.getDate()}],["%B",function(e){return e.getMonth()}],["%Y",Yn]]),ru={range:function(t,n,i){return e.range(Math.ceil(t/i)*i,+n,i).map(eu)},floor:D,ceil:D};nu.year=Rt.year,Rt.scale=function(){return Zs(e.scale.linear(),nu,iu)};var ou=nu.map((function(e){return[e[0].utc,e[1]]})),au=Js.multi([[".%L",function(e){return e.getUTCMilliseconds()}],[":%S",function(e){return e.getUTCSeconds()}],["%I:%M",function(e){return e.getUTCMinutes()}],["%I %p",function(e){return e.getUTCHours()}],["%a %d",function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],["%b %d",function(e){return 1!=e.getUTCDate()}],["%B",function(e){return e.getUTCMonth()}],["%Y",Yn]]);function su(e){return JSON.parse(e.responseText)}function uu(e){var t=r.createRange();return t.selectNode(r.body),t.createContextualFragment(e.responseText)}ou.year=Rt.year.utc,Rt.scale.utc=function(){return Zs(e.scale.linear(),ou,au)},e.text=yt((function(e){return e.responseText})),e.json=function(e,t){return vt(e,"application/json",su,t)},e.html=function(e,t){return vt(e,"text/html",uu,t)},e.xml=yt((function(e){return e.responseXML})),"function"==typeof define&&define.amd?(this.d3=e,define(e)):"object"==typeof t&&t.exports?t.exports=e:this.d3=e}()},{}],363:[function(e,t,n){!function(){var i=window.d3,r=window.topojson,o={scope:"world",responsive:!1,aspectRatio:.5625,setProjection:function(e,t){var n,r,o=t.width||e.offsetWidth,a=t.height||e.offsetHeight,s=this.svg;t&&void 0===t.scope&&(t.scope="world");"usa"===t.scope?n=i.geo.albersUsa().scale(o).translate([o/2,a/2]):"world"===t.scope&&(n=i.geo[t.projection]().scale((o+1)/2/Math.PI).translate([o/2,a/("mercator"===t.projection?1.45:1.8)]));"orthographic"===t.projection&&(s.append("defs").append("path").datum({type:"Sphere"}).attr("id","sphere").attr("d",r),s.append("use").attr("class","stroke").attr("xlink:href","#sphere"),s.append("use").attr("class","fill").attr("xlink:href","#sphere"),n.scale(250).clipAngle(90).rotate(t.projectionConfig.rotation));return{path:r=i.geo.path().projection(n),projection:n}},projection:"equirectangular",dataType:"json",data:{},done:function(){},fills:{defaultFill:"#ABDDA4"},filters:{},geographyConfig:{dataUrl:null,hideAntarctica:!0,hideHawaiiAndAlaska:!1,borderWidth:1,borderOpacity:1,borderColor:"#FDFDFD",popupTemplate:function(e,t){return'<div class="hoverinfo"><strong>'+e.properties.name+"</strong></div>"},popupOnHover:!0,highlightOnHover:!0,highlightFillColor:"#FC8D59",highlightBorderColor:"rgba(250, 15, 160, 0.2)",highlightBorderWidth:2,highlightBorderOpacity:1},projectionConfig:{rotation:[97,0]},bubblesConfig:{borderWidth:2,borderOpacity:1,borderColor:"#FFFFFF",popupOnHover:!0,radius:null,popupTemplate:function(e,t){return'<div class="hoverinfo"><strong>'+t.name+"</strong></div>"},fillOpacity:.75,animate:!0,highlightOnHover:!0,highlightFillColor:"#FC8D59",highlightBorderColor:"rgba(250, 15, 160, 0.2)",highlightBorderWidth:2,highlightBorderOpacity:1,highlightFillOpacity:.85,exitDelay:100,key:JSON.stringify},arcConfig:{strokeColor:"#DD1C77",strokeWidth:1,arcSharpness:1,animationSpeed:600}};function a(e,t,n){void 0===n&&(n=t,optionsValues=void 0);var i=void 0!==e?e:t;if(void 0===i)return null;if("function"==typeof i){var r=[n];return n.geography&&(r=[n.geography,n.data]),i.apply(null,r)}return i}function s(e,t,n){return this.svg=i.select(e).append("svg").attr("width",n||e.offsetWidth).attr("data-width",n||e.offsetWidth).attr("class","datamap").attr("height",t||e.offsetHeight).style("overflow","hidden"),this.options.responsive&&(i.select(this.options.element).style({position:"relative","padding-bottom":100*this.options.aspectRatio+"%"}),i.select(this.options.element).select("svg").style({position:"absolute",width:"100%",height:"100%"}),i.select(this.options.element).select("svg").select("g").selectAll("path").style("vector-effect","non-scaling-stroke")),this.svg}function u(e){var t=this.options.fills,n=this.options.data||{},i=this.options.geographyConfig,o=this.svg.select("g.datamaps-subunits");o.empty()&&(o=this.addLayer("datamaps-subunits",null,!0));var s=r.feature(e,e.objects[this.options.scope]).features;i.hideAntarctica&&(s=s.filter((function(e){return"ATA"!==e.id}))),i.hideHawaiiAndAlaska&&(s=s.filter((function(e){return"HI"!==e.id&&"AK"!==e.id}))),o.selectAll("path.datamaps-subunit").data(s).enter().append("path").attr("d",this.path).attr("class",(function(e){return"datamaps-subunit "+e.id})).attr("data-info",(function(e){return JSON.stringify(n[e.id])})).style("fill",(function(e){var i,r=n[e.id];return r&&r.fillKey&&(i=t[a(r.fillKey,{data:n[e.id],geography:e})]),void 0===i&&(i=a(r&&r.fillColor,t.defaultFill,{data:n[e.id],geography:e})),i})).style("stroke-width",i.borderWidth).style("stroke-opacity",i.borderOpacity).style("stroke",i.borderColor)}function l(){var e=this.svg,t=this,n=this.options.geographyConfig;function r(){this.parentNode.appendChild(this)}(n.highlightOnHover||n.popupOnHover)&&e.selectAll(".datamaps-subunit").on("mouseover",(function(o){var s=i.select(this),u=t.options.data[o.id]||{};if(n.highlightOnHover){var l={fill:s.style("fill"),stroke:s.style("stroke"),"stroke-width":s.style("stroke-width"),"fill-opacity":s.style("fill-opacity")};s.style("fill",a(u.highlightFillColor,n.highlightFillColor,u)).style("stroke",a(u.highlightBorderColor,n.highlightBorderColor,u)).style("stroke-width",a(u.highlightBorderWidth,n.highlightBorderWidth,u)).style("stroke-opacity",a(u.highlightBorderOpacity,n.highlightBorderOpacity,u)).style("fill-opacity",a(u.highlightFillOpacity,n.highlightFillOpacity,u)).attr("data-previousAttributes",JSON.stringify(l)),/((MSIE)|(Trident))/.test(navigator.userAgent)||r.call(this)}n.popupOnHover&&t.updatePopup(s,o,n,e)})).on("mouseout",(function(){var e=i.select(this);if(n.highlightOnHover){var t=JSON.parse(e.attr("data-previousAttributes"));for(var r in t)e.style(r,t[r])}e.on("mousemove",null),i.selectAll(".datamaps-hoverover").style("display","none")}))}function c(e,t,n){if(t=t||{},this.options.fills){var r="<dl>",o="";for(var a in t.legendTitle&&(r="<h2>"+t.legendTitle+"</h2>"+r),this.options.fills){if("defaultFill"===a){if(!t.defaultFillName)continue;o=t.defaultFillName}else o=t.labels&&t.labels[a]?t.labels[a]:a+": ";r+="<dt>"+o+"</dt>",r+='<dd style="background-color:'+this.options.fills[a]+'">&nbsp;</dd>'}r+="</dl>";i.select(this.options.element).append("div").attr("class","datamaps-legend").html(r)}}function d(e,t){var n=i.geo.graticule();this.svg.insert("path",".datamaps-subunits").datum(n).attr("class","datamaps-graticule").attr("d",this.path)}function p(e,t,n){var r=this;this.svg;if(!t||t&&!t.slice)throw"Datamaps Error - arcs must be an array";for(var s=0;s<t.length;s++)t[s]=m(t[s],t[s].options),delete t[s].options;void 0===n&&(n=o.arcConfig);var u=e.selectAll("path.datamaps-arc").data(t,JSON.stringify),l=i.geo.path().projection(r.projection);u.enter().append("svg:path").attr("class","datamaps-arc").style("stroke-linecap","round").style("stroke",(function(e){return a(e.strokeColor,n.strokeColor,e)})).style("fill","none").style("stroke-width",(function(e){return a(e.strokeWidth,n.strokeWidth,e)})).attr("d",(function(e){var t=r.latLngToXY(a(e.origin.latitude,e),a(e.origin.longitude,e)),o=r.latLngToXY(a(e.destination.latitude,e),a(e.destination.longitude,e)),s=[(t[0]+o[0])/2,(t[1]+o[1])/2];if(n.greatArc){var u=i.geo.greatArc().source((function(e){return[a(e.origin.longitude,e),a(e.origin.latitude,e)]})).target((function(e){return[a(e.destination.longitude,e),a(e.destination.latitude,e)]}));return l(u(e))}var c=a(e.arcSharpness,n.arcSharpness,e);return"M"+t[0]+","+t[1]+"S"+(s[0]+50*c)+","+(s[1]-75*c)+","+o[0]+","+o[1]})).attr("data-info",(function(e){return JSON.stringify(e)})).transition().delay(100).style("fill",(function(e){var t=this.getTotalLength();return this.style.transition=this.style.WebkitTransition="none",this.style.strokeDasharray=t+" "+t,this.style.strokeDashoffset=t,this.getBoundingClientRect(),this.style.transition=this.style.WebkitTransition="stroke-dashoffset "+a(e.animationSpeed,n.animationSpeed,e)+"ms ease-out",this.style.strokeDashoffset="0","none"})),u.exit().transition().style("opacity",0).remove()}function h(e,t){var n=this;t=t||{};var i=this.projection([-67.707617,42.722131]);this.svg.selectAll(".datamaps-subunit").attr("data-foo",(function(r){var o,a,s=n.path.centroid(r),u=7.5,l=5;["FL","KY","MI"].indexOf(r.id)>-1&&(u=-2.5),"NY"===r.id&&(u=-1),"MI"===r.id&&(l=18),"LA"===r.id&&(u=13),o=s[0]-u,a=s[1]+l;var c=["VT","NH","MA","RI","CT","NJ","DE","MD","DC"].indexOf(r.id);if(c>-1){var d=i[1];o=i[0],a=d+c*(2+(t.fontSize||12)),e.append("line").attr("x1",o-3).attr("y1",a-5).attr("x2",s[0]).attr("y2",s[1]).style("stroke",t.labelColor||"#000").style("stroke-width",t.lineWidth||1)}return e.append("text").attr("x",o).attr("y",a).style("font-size",(t.fontSize||10)+"px").style("font-family",t.fontFamily||"Verdana").style("fill",t.labelColor||"#000").text((function(){return t.customLabelText&&t.customLabelText[r.id]?t.customLabelText[r.id]:r.id})),"bar"}))}function f(e,t,n){var r=this,o=this.options.fills,s=this.options.filters,u=this.svg;if(!t||t&&!t.slice)throw"Datamaps Error - bubbles must be an array";var l=e.selectAll("circle.datamaps-bubble").data(t,n.key);function c(e){return void 0!==e&&void 0!==e.latitude&&void 0!==e.longitude}l.enter().append("svg:circle").attr("class","datamaps-bubble").attr("cx",(function(e){var t;if(c(e)?t=r.latLngToXY(e.latitude,e.longitude):e.centered&&(t=r.path.centroid(u.select("path."+e.centered).data()[0])),t)return t[0]})).attr("cy",(function(e){var t;if(c(e)?t=r.latLngToXY(e.latitude,e.longitude):e.centered&&(t=r.path.centroid(u.select("path."+e.centered).data()[0])),t)return t[1]})).attr("r",(function(e){return n.animate?0:a(e.radius,n.radius,e)})).attr("data-info",(function(e){return JSON.stringify(e)})).attr("filter",(function(e){var t=s[a(e.filterKey,n.filterKey,e)];if(t)return t})).style("stroke",(function(e){return a(e.borderColor,n.borderColor,e)})).style("stroke-width",(function(e){return a(e.borderWidth,n.borderWidth,e)})).style("stroke-opacity",(function(e){return a(e.borderOpacity,n.borderOpacity,e)})).style("fill-opacity",(function(e){return a(e.fillOpacity,n.fillOpacity,e)})).style("fill",(function(e){return o[a(e.fillKey,n.fillKey,e)]||o.defaultFill})).on("mouseover",(function(e){var t=i.select(this);if(n.highlightOnHover){var o={fill:t.style("fill"),stroke:t.style("stroke"),"stroke-width":t.style("stroke-width"),"fill-opacity":t.style("fill-opacity")};t.style("fill",a(e.highlightFillColor,n.highlightFillColor,e)).style("stroke",a(e.highlightBorderColor,n.highlightBorderColor,e)).style("stroke-width",a(e.highlightBorderWidth,n.highlightBorderWidth,e)).style("stroke-opacity",a(e.highlightBorderOpacity,n.highlightBorderOpacity,e)).style("fill-opacity",a(e.highlightFillOpacity,n.highlightFillOpacity,e)).attr("data-previousAttributes",JSON.stringify(o))}n.popupOnHover&&r.updatePopup(t,e,n,u)})).on("mouseout",(function(e){var t=i.select(this);if(n.highlightOnHover){var r=JSON.parse(t.attr("data-previousAttributes"));for(var o in r)t.style(o,r[o])}i.selectAll(".datamaps-hoverover").style("display","none")})),l.transition().duration(400).attr("r",(function(e){return a(e.radius,n.radius,e)})).transition().duration(0).attr("data-info",(function(e){return JSON.stringify(e)})),l.exit().transition().delay(n.exitDelay).attr("r",0).remove()}function m(e){return Array.prototype.slice.call(arguments,1).forEach((function(t){if(t)for(var n in t)null==e[n]&&(e[n]=t[n])})),e}function g(e){if(void 0===i||void 0===r)throw new Error("Include d3.js (v3.0.3 or greater) and topojson on this page before creating a new map");return this.options=m(e,o),this.options.geographyConfig=m(e.geographyConfig,o.geographyConfig),this.options.projectionConfig=m(e.projectionConfig,o.projectionConfig),this.options.bubblesConfig=m(e.bubblesConfig,o.bubblesConfig),this.options.arcConfig=m(e.arcConfig,o.arcConfig),i.select(this.options.element).select("svg").length>0&&s.call(this,this.options.element,this.options.height,this.options.width),this.addPlugin("bubbles",f),this.addPlugin("legend",c),this.addPlugin("arc",p),this.addPlugin("labels",h),this.addPlugin("graticule",d),this.options.disableDefaultStyles||i.select(".datamaps-style-block").empty()&&i.select("head").append("style").attr("class","datamaps-style-block").html('.datamap path.datamaps-graticule { fill: none; stroke: #777; stroke-width: 0.5px; stroke-opacity: .5; pointer-events: none; } .datamap .labels {pointer-events: none;} .datamap path {stroke: #FFFFFF; stroke-width: 1px;} .datamaps-legend dt, .datamaps-legend dd { float: left; margin: 0 3px 0 0;} .datamaps-legend dd {width: 20px; margin-right: 6px; border-radius: 3px;} .datamaps-legend {padding-bottom: 20px; z-index: 1001; position: absolute; left: 4px; font-size: 12px; font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;} .datamaps-hoverover {display: none; font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; } .hoverinfo {padding: 4px; border-radius: 1px; background-color: #FFF; box-shadow: 1px 1px 5px #CCC; font-size: 12px; border: 1px solid #CCC; } .hoverinfo hr {border:1px dotted #CCC; }'),this.draw()}g.prototype.resize=function(){var e=this.options;if(e.responsive){var t=e.element.clientWidth,n=i.select(e.element).select("svg").attr("data-width");i.select(e.element).select("svg").selectAll("g").attr("transform","scale("+t/n+")")}},g.prototype.draw=function(){var e=this,t=e.options,n=t.setProjection.apply(e,[t.element,t]);return this.path=n.path,this.projection=n.projection,t.geographyConfig.dataUrl?i.json(t.geographyConfig.dataUrl,(function(t,n){if(t)throw new Error(t);e.customTopo=n,r(n)})):r(this[t.scope+"Topo"]||t.geographyConfig.dataJson),this;function r(t){e.options.dataUrl&&i[e.options.dataType](e.options.dataUrl,(function(t){if("csv"===e.options.dataType&&t&&t.slice){for(var n={},i=0;i<t.length;i++)n[t[i].id]=t[i];t=n}Datamaps.prototype.updateChoropleth.call(e,t)})),u.call(e,t),l.call(e),(e.options.geographyConfig.popupOnHover||e.options.bubblesConfig.popupOnHover)&&(hoverover=i.select(e.options.element).append("div").attr("class","datamaps-hoverover").style("z-index",10001).style("position","absolute")),e.options.done(e)}},g.prototype.worldTopo={type:"Topology",objects:{world:{type:"GeometryCollection",geometries:[{type:"Polygon",properties:{name:"Afghanistan"},id:"AFG",arcs:[[0,1,2,3,4,5]]},{type:"MultiPolygon",properties:{name:"Angola"},id:"AGO",arcs:[[[6,7,8,9]],[[10,11,12]]]},{type:"Polygon",properties:{name:"Albania"},id:"ALB",arcs:[[13,14,15,16,17]]},{type:"Polygon",properties:{name:"United Arab Emirates"},id:"ARE",arcs:[[18,19,20,21,22]]},{type:"MultiPolygon",properties:{name:"Argentina"},id:"ARG",arcs:[[[23,24]],[[25,26,27,28,29,30]]]},{type:"Polygon",properties:{name:"Armenia"},id:"ARM",arcs:[[31,32,33,34,35]]},{type:"MultiPolygon",properties:{name:"Antarctica"},id:"ATA",arcs:[[[36]],[[37]],[[38]],[[39]],[[40]],[[41]],[[42]],[[43]]]},{type:"Polygon",properties:{name:"French Southern and Antarctic Lands"},id:"ATF",arcs:[[44]]},{type:"MultiPolygon",properties:{name:"Australia"},id:"AUS",arcs:[[[45]],[[46]]]},{type:"Polygon",properties:{name:"Austria"},id:"AUT",arcs:[[47,48,49,50,51,52,53]]},{type:"MultiPolygon",properties:{name:"Azerbaijan"},id:"AZE",arcs:[[[54,-35]],[[55,56,-33,57,58]]]},{type:"Polygon",properties:{name:"Burundi"},id:"BDI",arcs:[[59,60,61]]},{type:"Polygon",properties:{name:"Belgium"},id:"BEL",arcs:[[62,63,64,65,66]]},{type:"Polygon",properties:{name:"Benin"},id:"BEN",arcs:[[67,68,69,70,71]]},{type:"Polygon",properties:{name:"Burkina Faso"},id:"BFA",arcs:[[72,73,74,-70,75,76]]},{type:"Polygon",properties:{name:"Bangladesh"},id:"BGD",arcs:[[77,78,79]]},{type:"Polygon",properties:{name:"Bulgaria"},id:"BGR",arcs:[[80,81,82,83,84,85]]},{type:"MultiPolygon",properties:{name:"The Bahamas"},id:"BHS",arcs:[[[86]],[[87]],[[88]]]},{type:"Polygon",properties:{name:"Bosnia and Herzegovina"},id:"BIH",arcs:[[89,90,91]]},{type:"Polygon",properties:{name:"Belarus"},id:"BLR",arcs:[[92,93,94,95,96]]},{type:"Polygon",properties:{name:"Belize"},id:"BLZ",arcs:[[97,98,99]]},{type:"Polygon",properties:{name:"Bolivia"},id:"BOL",arcs:[[100,101,102,103,-31]]},{type:"Polygon",properties:{name:"Brazil"},id:"BRA",arcs:[[-27,104,-103,105,106,107,108,109,110,111,112]]},{type:"Polygon",properties:{name:"Brunei"},id:"BRN",arcs:[[113,114]]},{type:"Polygon",properties:{name:"Bhutan"},id:"BTN",arcs:[[115,116]]},{type:"Polygon",properties:{name:"Botswana"},id:"BWA",arcs:[[117,118,119,120]]},{type:"Polygon",properties:{name:"Central African Republic"},id:"CAF",arcs:[[121,122,123,124,125,126,127]]},{type:"MultiPolygon",properties:{name:"Canada"},id:"CAN",arcs:[[[128]],[[129]],[[130]],[[131]],[[132]],[[133]],[[134]],[[135]],[[136]],[[137]],[[138,139,140,141]],[[142]],[[143]],[[144]],[[145]],[[146]],[[147]],[[148]],[[149]],[[150]],[[151]],[[152]],[[153]],[[154]],[[155]],[[156]],[[157]],[[158]],[[159]],[[160]]]},{type:"Polygon",properties:{name:"Switzerland"},id:"CHE",arcs:[[-51,161,162,163]]},{type:"MultiPolygon",properties:{name:"Chile"},id:"CHL",arcs:[[[-24,164]],[[-30,165,166,-101]]]},{type:"MultiPolygon",properties:{name:"China"},id:"CHN",arcs:[[[167]],[[168,169,170,171,172,173,-117,174,175,176,177,-4,178,179,180,181,182,183]]]},{type:"Polygon",properties:{name:"Ivory Coast"},id:"CIV",arcs:[[184,185,186,187,-73,188]]},{type:"Polygon",properties:{name:"Cameroon"},id:"CMR",arcs:[[189,190,191,192,193,194,-128,195]]},{type:"Polygon",properties:{name:"Democratic Republic of the Congo"},id:"COD",arcs:[[196,197,-60,198,199,-10,200,-13,201,-126,202]]},{type:"Polygon",properties:{name:"Republic of the Congo"},id:"COG",arcs:[[-12,203,204,-196,-127,-202]]},{type:"Polygon",properties:{name:"Colombia"},id:"COL",arcs:[[205,206,207,208,209,-107,210]]},{type:"Polygon",properties:{name:"Costa Rica"},id:"CRI",arcs:[[211,212,213,214]]},{type:"Polygon",properties:{name:"Cuba"},id:"CUB",arcs:[[215]]},{type:"Polygon",properties:{name:"Northern Cyprus"},id:"-99",arcs:[[216,217]]},{type:"Polygon",properties:{name:"Cyprus"},id:"CYP",arcs:[[218,-218]]},{type:"Polygon",properties:{name:"Czech Republic"},id:"CZE",arcs:[[-53,219,220,221]]},{type:"Polygon",properties:{name:"Germany"},id:"DEU",arcs:[[222,223,-220,-52,-164,224,225,-64,226,227,228]]},{type:"Polygon",properties:{name:"Djibouti"},id:"DJI",arcs:[[229,230,231,232]]},{type:"MultiPolygon",properties:{name:"Denmark"},id:"DNK",arcs:[[[233]],[[-229,234]]]},{type:"Polygon",properties:{name:"Dominican Republic"},id:"DOM",arcs:[[235,236]]},{type:"Polygon",properties:{name:"Algeria"},id:"DZA",arcs:[[237,238,239,240,241,242,243,244]]},{type:"Polygon",properties:{name:"Ecuador"},id:"ECU",arcs:[[245,-206,246]]},{type:"Polygon",properties:{name:"Egypt"},id:"EGY",arcs:[[247,248,249,250,251]]},{type:"Polygon",properties:{name:"Eritrea"},id:"ERI",arcs:[[252,253,254,-233]]},{type:"Polygon",properties:{name:"Spain"},id:"ESP",arcs:[[255,256,257,258]]},{type:"Polygon",properties:{name:"Estonia"},id:"EST",arcs:[[259,260,261]]},{type:"Polygon",properties:{name:"Ethiopia"},id:"ETH",arcs:[[-232,262,263,264,265,266,267,-253]]},{type:"Polygon",properties:{name:"Finland"},id:"FIN",arcs:[[268,269,270,271]]},{type:"MultiPolygon",properties:{name:"Fiji"},id:"FJI",arcs:[[[272]],[[273,274]],[[275,-275]]]},{type:"Polygon",properties:{name:"Falkland Islands"},id:"FLK",arcs:[[276]]},{type:"MultiPolygon",properties:{name:"France"},id:"FRA",arcs:[[[277]],[[278,-225,-163,279,280,-257,281,-66]]]},{type:"Polygon",properties:{name:"French Guiana"},id:"GUF",arcs:[[282,283,284,285,-111]]},{type:"Polygon",properties:{name:"Gabon"},id:"GAB",arcs:[[286,287,-190,-205]]},{type:"MultiPolygon",properties:{name:"United Kingdom"},id:"GBR",arcs:[[[288,289]],[[290]]]},{type:"Polygon",properties:{name:"Georgia"},id:"GEO",arcs:[[291,292,-58,-32,293]]},{type:"Polygon",properties:{name:"Ghana"},id:"GHA",arcs:[[294,-189,-77,295]]},{type:"Polygon",properties:{name:"Guinea"},id:"GIN",arcs:[[296,297,298,299,300,301,-187]]},{type:"Polygon",properties:{name:"Gambia"},id:"GMB",arcs:[[302,303]]},{type:"Polygon",properties:{name:"Guinea Bissau"},id:"GNB",arcs:[[304,305,-300]]},{type:"Polygon",properties:{name:"Equatorial Guinea"},id:"GNQ",arcs:[[306,-191,-288]]},{type:"MultiPolygon",properties:{name:"Greece"},id:"GRC",arcs:[[[307]],[[308,-15,309,-84,310]]]},{type:"Polygon",properties:{name:"Greenland"},id:"GRL",arcs:[[311]]},{type:"Polygon",properties:{name:"Guatemala"},id:"GTM",arcs:[[312,313,-100,314,315,316]]},{type:"Polygon",properties:{name:"Guyana"},id:"GUY",arcs:[[317,318,-109,319]]},{type:"Polygon",properties:{name:"Honduras"},id:"HND",arcs:[[320,321,-316,322,323]]},{type:"Polygon",properties:{name:"Croatia"},id:"HRV",arcs:[[324,-92,325,326,327,328]]},{type:"Polygon",properties:{name:"Haiti"},id:"HTI",arcs:[[-237,329]]},{type:"Polygon",properties:{name:"Hungary"},id:"HUN",arcs:[[-48,330,331,332,333,-329,334]]},{type:"MultiPolygon",properties:{name:"Indonesia"},id:"IDN",arcs:[[[335]],[[336,337]],[[338]],[[339]],[[340]],[[341]],[[342]],[[343]],[[344,345]],[[346]],[[347]],[[348,349]],[[350]]]},{type:"Polygon",properties:{name:"India"},id:"IND",arcs:[[-177,351,-175,-116,-174,352,-80,353,354]]},{type:"Polygon",properties:{name:"Ireland"},id:"IRL",arcs:[[355,-289]]},{type:"Polygon",properties:{name:"Iran"},id:"IRN",arcs:[[356,-6,357,358,359,360,-55,-34,-57,361]]},{type:"Polygon",properties:{name:"Iraq"},id:"IRQ",arcs:[[362,363,364,365,366,367,-360]]},{type:"Polygon",properties:{name:"Iceland"},id:"ISL",arcs:[[368]]},{type:"Polygon",properties:{name:"Israel"},id:"ISR",arcs:[[369,370,371,-252,372,373,374]]},{type:"MultiPolygon",properties:{name:"Italy"},id:"ITA",arcs:[[[375]],[[376]],[[377,378,-280,-162,-50]]]},{type:"Polygon",properties:{name:"Jamaica"},id:"JAM",arcs:[[379]]},{type:"Polygon",properties:{name:"Jordan"},id:"JOR",arcs:[[-370,380,-366,381,382,-372,383]]},{type:"MultiPolygon",properties:{name:"Japan"},id:"JPN",arcs:[[[384]],[[385]],[[386]]]},{type:"Polygon",properties:{name:"Kazakhstan"},id:"KAZ",arcs:[[387,388,389,390,-181,391]]},{type:"Polygon",properties:{name:"Kenya"},id:"KEN",arcs:[[392,393,394,395,-265,396]]},{type:"Polygon",properties:{name:"Kyrgyzstan"},id:"KGZ",arcs:[[-392,-180,397,398]]},{type:"Polygon",properties:{name:"Cambodia"},id:"KHM",arcs:[[399,400,401,402]]},{type:"Polygon",properties:{name:"South Korea"},id:"KOR",arcs:[[403,404]]},{type:"Polygon",properties:{name:"Kosovo"},id:"-99",arcs:[[-18,405,406,407]]},{type:"Polygon",properties:{name:"Kuwait"},id:"KWT",arcs:[[408,409,-364]]},{type:"Polygon",properties:{name:"Laos"},id:"LAO",arcs:[[410,411,-172,412,-401]]},{type:"Polygon",properties:{name:"Lebanon"},id:"LBN",arcs:[[-374,413,414]]},{type:"Polygon",properties:{name:"Liberia"},id:"LBR",arcs:[[415,416,-297,-186]]},{type:"Polygon",properties:{name:"Libya"},id:"LBY",arcs:[[417,-245,418,419,-250,420,421]]},{type:"Polygon",properties:{name:"Sri Lanka"},id:"LKA",arcs:[[422]]},{type:"Polygon",properties:{name:"Lesotho"},id:"LSO",arcs:[[423]]},{type:"Polygon",properties:{name:"Lithuania"},id:"LTU",arcs:[[424,425,426,-93,427]]},{type:"Polygon",properties:{name:"Luxembourg"},id:"LUX",arcs:[[-226,-279,-65]]},{type:"Polygon",properties:{name:"Latvia"},id:"LVA",arcs:[[428,-262,429,-94,-427]]},{type:"Polygon",properties:{name:"Morocco"},id:"MAR",arcs:[[-242,430,431]]},{type:"Polygon",properties:{name:"Moldova"},id:"MDA",arcs:[[432,433]]},{type:"Polygon",properties:{name:"Madagascar"},id:"MDG",arcs:[[434]]},{type:"Polygon",properties:{name:"Mexico"},id:"MEX",arcs:[[435,-98,-314,436,437]]},{type:"Polygon",properties:{name:"Macedonia"},id:"MKD",arcs:[[-408,438,-85,-310,-14]]},{type:"Polygon",properties:{name:"Mali"},id:"MLI",arcs:[[439,-239,440,-74,-188,-302,441]]},{type:"Polygon",properties:{name:"Myanmar"},id:"MMR",arcs:[[442,-78,-353,-173,-412,443]]},{type:"Polygon",properties:{name:"Montenegro"},id:"MNE",arcs:[[444,-326,-91,445,-406,-17]]},{type:"Polygon",properties:{name:"Mongolia"},id:"MNG",arcs:[[446,-183]]},{type:"Polygon",properties:{name:"Mozambique"},id:"MOZ",arcs:[[447,448,449,450,451,452,453,454]]},{type:"Polygon",properties:{name:"Mauritania"},id:"MRT",arcs:[[455,456,457,-240,-440]]},{type:"Polygon",properties:{name:"Malawi"},id:"MWI",arcs:[[-455,458,459]]},{type:"MultiPolygon",properties:{name:"Malaysia"},id:"MYS",arcs:[[[460,461]],[[-349,462,-115,463]]]},{type:"Polygon",properties:{name:"Namibia"},id:"NAM",arcs:[[464,-8,465,-119,466]]},{type:"Polygon",properties:{name:"New Caledonia"},id:"NCL",arcs:[[467]]},{type:"Polygon",properties:{name:"Niger"},id:"NER",arcs:[[-75,-441,-238,-418,468,-194,469,-71]]},{type:"Polygon",properties:{name:"Nigeria"},id:"NGA",arcs:[[470,-72,-470,-193]]},{type:"Polygon",properties:{name:"Nicaragua"},id:"NIC",arcs:[[471,-324,472,-213]]},{type:"Polygon",properties:{name:"Netherlands"},id:"NLD",arcs:[[-227,-63,473]]},{type:"MultiPolygon",properties:{name:"Norway"},id:"NOR",arcs:[[[474,-272,475,476]],[[477]],[[478]],[[479]]]},{type:"Polygon",properties:{name:"Nepal"},id:"NPL",arcs:[[-352,-176]]},{type:"MultiPolygon",properties:{name:"New Zealand"},id:"NZL",arcs:[[[480]],[[481]]]},{type:"MultiPolygon",properties:{name:"Oman"},id:"OMN",arcs:[[[482,483,-22,484]],[[-20,485]]]},{type:"Polygon",properties:{name:"Pakistan"},id:"PAK",arcs:[[-178,-355,486,-358,-5]]},{type:"Polygon",properties:{name:"Panama"},id:"PAN",arcs:[[487,-215,488,-208]]},{type:"Polygon",properties:{name:"Peru"},id:"PER",arcs:[[-167,489,-247,-211,-106,-102]]},{type:"MultiPolygon",properties:{name:"Philippines"},id:"PHL",arcs:[[[490]],[[491]],[[492]],[[493]],[[494]],[[495]],[[496]]]},{type:"MultiPolygon",properties:{name:"Papua New Guinea"},id:"PNG",arcs:[[[497]],[[498]],[[-345,499]],[[500]]]},{type:"Polygon",properties:{name:"Poland"},id:"POL",arcs:[[-224,501,502,-428,-97,503,504,-221]]},{type:"Polygon",properties:{name:"Puerto Rico"},id:"PRI",arcs:[[505]]},{type:"Polygon",properties:{name:"North Korea"},id:"PRK",arcs:[[506,507,-405,508,-169]]},{type:"Polygon",properties:{name:"Portugal"},id:"PRT",arcs:[[-259,509]]},{type:"Polygon",properties:{name:"Paraguay"},id:"PRY",arcs:[[-104,-105,-26]]},{type:"Polygon",properties:{name:"Qatar"},id:"QAT",arcs:[[510,511]]},{type:"Polygon",properties:{name:"Romania"},id:"ROU",arcs:[[512,-434,513,514,-81,515,-333]]},{type:"MultiPolygon",properties:{name:"Russia"},id:"RUS",arcs:[[[516]],[[-503,517,-425]],[[518,519]],[[520]],[[521]],[[522]],[[523]],[[524]],[[525]],[[526,-507,-184,-447,-182,-391,527,-59,-293,528,529,-95,-430,-261,530,-269,-475,531,-520]],[[532]],[[533]],[[534]]]},{type:"Polygon",properties:{name:"Rwanda"},id:"RWA",arcs:[[535,-61,-198,536]]},{type:"Polygon",properties:{name:"Western Sahara"},id:"ESH",arcs:[[-241,-458,537,-431]]},{type:"Polygon",properties:{name:"Saudi Arabia"},id:"SAU",arcs:[[538,-382,-365,-410,539,-512,540,-23,-484,541]]},{type:"Polygon",properties:{name:"Sudan"},id:"SDN",arcs:[[542,543,-123,544,-421,-249,545,-254,-268,546]]},{type:"Polygon",properties:{name:"South Sudan"},id:"SSD",arcs:[[547,-266,-396,548,-203,-125,549,-543]]},{type:"Polygon",properties:{name:"Senegal"},id:"SEN",arcs:[[550,-456,-442,-301,-306,551,-304]]},{type:"MultiPolygon",properties:{name:"Solomon Islands"},id:"SLB",arcs:[[[552]],[[553]],[[554]],[[555]],[[556]]]},{type:"Polygon",properties:{name:"Sierra Leone"},id:"SLE",arcs:[[557,-298,-417]]},{type:"Polygon",properties:{name:"El Salvador"},id:"SLV",arcs:[[558,-317,-322]]},{type:"Polygon",properties:{name:"Somaliland"},id:"-99",arcs:[[-263,-231,559,560]]},{type:"Polygon",properties:{name:"Somalia"},id:"SOM",arcs:[[-397,-264,-561,561]]},{type:"Polygon",properties:{name:"Republic of Serbia"},id:"SRB",arcs:[[-86,-439,-407,-446,-90,-325,-334,-516]]},{type:"Polygon",properties:{name:"Suriname"},id:"SUR",arcs:[[562,-285,563,-283,-110,-319]]},{type:"Polygon",properties:{name:"Slovakia"},id:"SVK",arcs:[[-505,564,-331,-54,-222]]},{type:"Polygon",properties:{name:"Slovenia"},id:"SVN",arcs:[[-49,-335,-328,565,-378]]},{type:"Polygon",properties:{name:"Sweden"},id:"SWE",arcs:[[-476,-271,566]]},{type:"Polygon",properties:{name:"Swaziland"},id:"SWZ",arcs:[[567,-451]]},{type:"Polygon",properties:{name:"Syria"},id:"SYR",arcs:[[-381,-375,-415,568,569,-367]]},{type:"Polygon",properties:{name:"Chad"},id:"TCD",arcs:[[-469,-422,-545,-122,-195]]},{type:"Polygon",properties:{name:"Togo"},id:"TGO",arcs:[[570,-296,-76,-69]]},{type:"Polygon",properties:{name:"Thailand"},id:"THA",arcs:[[571,-462,572,-444,-411,-400]]},{type:"Polygon",properties:{name:"Tajikistan"},id:"TJK",arcs:[[-398,-179,-3,573]]},{type:"Polygon",properties:{name:"Turkmenistan"},id:"TKM",arcs:[[-357,574,-389,575,-1]]},{type:"Polygon",properties:{name:"East Timor"},id:"TLS",arcs:[[576,-337]]},{type:"Polygon",properties:{name:"Trinidad and Tobago"},id:"TTO",arcs:[[577]]},{type:"Polygon",properties:{name:"Tunisia"},id:"TUN",arcs:[[-244,578,-419]]},{type:"MultiPolygon",properties:{name:"Turkey"},id:"TUR",arcs:[[[-294,-36,-361,-368,-570,579]],[[-311,-83,580]]]},{type:"Polygon",properties:{name:"Taiwan"},id:"TWN",arcs:[[581]]},{type:"Polygon",properties:{name:"United Republic of Tanzania"},id:"TZA",arcs:[[-394,582,-448,-460,583,-199,-62,-536,584]]},{type:"Polygon",properties:{name:"Uganda"},id:"UGA",arcs:[[-537,-197,-549,-395,-585]]},{type:"Polygon",properties:{name:"Ukraine"},id:"UKR",arcs:[[-530,585,-514,-433,-513,-332,-565,-504,-96]]},{type:"Polygon",properties:{name:"Uruguay"},id:"URY",arcs:[[-113,586,-28]]},{type:"MultiPolygon",properties:{name:"United States of America"},id:"USA",arcs:[[[587]],[[588]],[[589]],[[590]],[[591]],[[592,-438,593,-139]],[[594]],[[595]],[[596]],[[-141,597]]]},{type:"Polygon",properties:{name:"Uzbekistan"},id:"UZB",arcs:[[-576,-388,-399,-574,-2]]},{type:"Polygon",properties:{name:"Venezuela"},id:"VEN",arcs:[[598,-320,-108,-210]]},{type:"Polygon",properties:{name:"Vietnam"},id:"VNM",arcs:[[599,-402,-413,-171]]},{type:"MultiPolygon",properties:{name:"Vanuatu"},id:"VUT",arcs:[[[600]],[[601]]]},{type:"Polygon",properties:{name:"West Bank"},id:"PSE",arcs:[[-384,-371]]},{type:"Polygon",properties:{name:"Yemen"},id:"YEM",arcs:[[602,-542,-483]]},{type:"Polygon",properties:{name:"South Africa"},id:"ZAF",arcs:[[-467,-118,603,-452,-568,-450,604],[-424]]},{type:"Polygon",properties:{name:"Zambia"},id:"ZMB",arcs:[[-459,-454,605,-120,-466,-7,-200,-584]]},{type:"Polygon",properties:{name:"Zimbabwe"},id:"ZWE",arcs:[[-604,-121,-606,-453]]}]}},arcs:[[[6700,7164],[28,-23],[21,8],[6,27],[22,9],[15,18],[6,47],[23,11],[5,21],[13,-15],[8,-2]],[[6847,7265],[16,-1],[20,-12]],[[6883,7252],[9,-7],[20,19],[9,-12],[9,27],[17,-1],[4,9],[3,24],[12,20],[15,-13],[-3,-18],[9,-3],[-3,-50],[11,-19],[10,12],[12,6],[17,27],[19,-5],[29,0]],[[7082,7268],[5,-17]],[[7087,7251],[-16,-6],[-14,-11],[-32,-7],[-30,-13],[-16,-25],[6,-25],[4,-30],[-14,-25],[1,-22],[-8,-22],[-26,2],[11,-39],[-18,-15],[-12,-35],[2,-36],[-11,-16],[-10,5],[-22,-8],[-3,-16],[-20,0],[-16,-34],[-1,-50],[-36,-24],[-19,5],[-6,-13],[-16,7],[-28,-8],[-47,30]],[[6690,6820],[25,53],[-2,38],[-21,10],[-2,38],[-9,47],[12,32],[-12,9],[7,43],[12,74]],[[5664,4412],[3,-18],[-4,-29],[5,-28],[-4,-22],[3,-20],[-58,1],[-2,-188],[19,-49],[18,-37]],[[5644,4022],[-51,-24],[-67,9],[-19,28],[-113,-3],[-4,-4],[-17,27],[-18,2],[-16,-10],[-14,-12]],[[5325,4035],[-2,38],[4,51],[9,55],[2,25],[9,53],[6,24],[16,39],[9,26],[3,44],[-1,34],[-9,21],[-7,36],[-7,35],[2,12],[8,24],[-8,57],[-6,39],[-14,38],[3,11]],[[5342,4697],[11,8],[8,-1],[10,7],[82,-1],[7,-44],[8,-35],[6,-19],[11,-31],[18,5],[9,8],[16,-8],[4,14],[7,35],[17,2],[2,10],[14,1],[-3,-22],[34,1],[1,-37],[5,-23],[-4,-36],[2,-36],[9,-22],[-1,-70],[7,5],[12,-1],[17,8],[13,-3]],[[5338,4715],[-8,45]],[[5330,4760],[12,25],[8,10],[10,-20]],[[5360,4775],[-10,-12],[-4,-16],[-1,-25],[-7,-7]],[[5571,7530],[-3,-20],[4,-25],[11,-15]],[[5583,7470],[0,-15],[-9,-9],[-2,-19],[-13,-29]],[[5559,7398],[-5,5],[0,13],[-15,19],[-3,29],[2,40],[4,18],[-4,10]],[[5538,7532],[-2,18],[12,29],[1,-11],[8,6]],[[5557,7574],[6,-16],[7,-6],[1,-22]],[[6432,6490],[5,3],[1,-16],[22,9],[23,-2],[17,-1],[19,39],[20,38],[18,37]],[[6557,6597],[5,-20]],[[6562,6577],[4,-47]],[[6566,6530],[-14,0],[-3,-39],[5,-8],[-12,-12],[0,-24],[-8,-24],[-1,-24]],[[6533,6399],[-6,-12],[-83,29],[-11,60],[-1,14]],[[3140,1814],[-17,2],[-30,0],[0,132]],[[3093,1948],[11,-27],[14,-45],[36,-35],[39,-15],[-13,-30],[-26,-2],[-14,20]],[[3258,3743],[51,-96],[23,-9],[34,-44],[29,-23],[4,-26],[-28,-90],[28,-16],[32,-9],[22,10],[25,45],[4,52]],[[3482,3537],[14,11],[14,-34],[-1,-47],[-23,-33],[-19,-24],[-31,-57],[-37,-81]],[[3399,3272],[-7,-47],[-7,-61],[0,-58],[-6,-14],[-2,-38]],[[3377,3054],[-2,-31],[35,-50],[-4,-41],[18,-26],[-2,-29],[-26,-75],[-42,-32],[-55,-12],[-31,6],[6,-36],[-6,-44],[5,-30],[-16,-20],[-29,-8],[-26,21],[-11,-15],[4,-59],[18,-18],[16,19],[8,-31],[-26,-18],[-22,-37],[-4,-59],[-7,-32],[-26,0],[-22,-31],[-8,-44],[28,-43],[26,-12],[-9,-53],[-33,-33],[-18,-70],[-25,-23],[-12,-28],[9,-61],[19,-34],[-12,3]],[[3095,1968],[-26,9],[-67,8],[-11,34],[0,45],[-18,-4],[-10,21],[-3,63],[22,26],[9,37],[-4,30],[15,51],[10,78],[-3,35],[12,11],[-3,22],[-13,12],[10,25],[-13,22],[-6,68],[11,12],[-5,72],[7,61],[7,52],[17,22],[-9,58],[0,54],[21,38],[-1,50],[16,57],[0,55],[-7,11],[-13,102],[17,60],[-2,58],[10,53],[18,56],[20,36],[-9,24],[6,19],[-1,98],[30,29],[10,62],[-3,14]],[[3136,3714],[23,54],[36,-15],[16,-42],[11,47],[32,-2],[4,-13]],[[6210,7485],[39,9]],[[6249,7494],[5,-15],[11,-10],[-6,-15],[15,-21],[-8,-18],[12,-16],[13,-10],[0,-41]],[[6291,7348],[-10,-2]],[[6281,7346],[-11,34],[0,10],[-12,-1],[-9,16],[-5,-1]],[[6244,7404],[-11,17],[-21,15],[3,28],[-5,21]],[[3345,329],[-8,-30],[-8,-27],[-59,8],[-62,-3],[-34,20],[0,2],[-16,17],[63,-2],[60,-6],[20,24],[15,21],[29,-24]],[[577,361],[-53,-8],[-36,21],[-17,21],[-1,3],[-18,16],[17,22],[52,-9],[28,-18],[21,-21],[7,-27]],[[3745,447],[35,-26],[12,-36],[3,-25],[1,-30],[-43,-19],[-45,-15],[-52,-14],[-59,-11],[-65,3],[-37,20],[5,24],[59,16],[24,20],[18,26],[12,22],[17,20],[18,25],[14,0],[41,12],[42,-12]],[[1633,715],[36,-9],[33,10],[-16,-20],[-26,-15],[-39,4],[-27,21],[6,20],[33,-11]],[[1512,716],[43,-23],[-17,3],[-36,5],[-38,17],[20,12],[28,-14]],[[2250,808],[31,-8],[30,7],[17,-34],[-22,5],[-34,-2],[-34,2],[-38,-4],[-28,12],[-15,24],[18,11],[35,-8],[40,-5]],[[3098,866],[4,-27],[-5,-23],[-8,-22],[-33,-8],[-31,-12],[-36,1],[14,24],[-33,-9],[-31,-8],[-21,18],[-2,24],[30,23],[20,7],[32,-2],[8,30],[1,22],[0,47],[16,28],[25,9],[15,-22],[6,-22],[12,-26],[10,-26],[7,-26]],[[3371,1268],[-11,-13],[-21,9],[-23,-6],[-19,-14],[-20,-15],[-14,-17],[-4,-23],[2,-22],[13,-20],[-19,-14],[-26,-4],[-15,-20],[-17,-19],[-17,-25],[-4,-22],[9,-24],[15,-19],[23,-14],[21,-18],[12,-23],[6,-22],[8,-24],[13,-19],[8,-22],[4,-55],[8,-22],[2,-23],[9,-23],[-4,-31],[-15,-24],[-17,-20],[-37,-8],[-12,-21],[-17,-20],[-42,-22],[-37,-9],[-35,-13],[-37,-13],[-22,-24],[-45,-2],[-49,2],[-44,-4],[-47,0],[9,-24],[42,-10],[31,-16],[18,-21],[-31,-19],[-48,6],[-40,-15],[-2,-24],[-1,-23],[33,-20],[6,-22],[35,-22],[59,-9],[50,-16],[40,-19],[50,-18],[70,-10],[68,-16],[47,-17],[52,-20],[27,-28],[13,-22],[34,21],[46,17],[48,19],[58,15],[49,16],[69,1],[68,-8],[56,-14],[18,26],[39,17],[70,1],[55,13],[52,13],[58,8],[62,10],[43,15],[-20,21],[-12,21],[0,22],[-54,-2],[-57,-10],[-54,0],[-8,22],[4,44],[12,13],[40,14],[47,14],[34,17],[33,18],[25,23],[38,10],[38,8],[19,5],[43,2],[41,8],[34,12],[34,14],[30,14],[39,18],[24,20],[26,17],[9,24],[-30,13],[10,25],[18,18],[29,12],[31,14],[28,18],[22,23],[13,28],[21,16],[33,-3],[13,-20],[34,-2],[1,22],[14,23],[30,-6],[7,-22],[33,-3],[36,10],[35,7],[31,-3],[12,-25],[31,20],[28,10],[31,9],[31,8],[29,14],[31,9],[24,13],[17,20],[20,-15],[29,8],[20,-27],[16,-21],[32,11],[12,24],[28,16],[37,-4],[11,-22],[22,22],[30,7],[33,3],[29,-2],[31,-7],[30,-3],[13,-20],[18,-17],[31,10],[32,3],[32,0],[31,1],[28,8],[29,7],[25,16],[26,11],[28,5],[21,17],[15,32],[16,20],[29,-10],[11,-21],[24,-13],[29,4],[19,-21],[21,-15],[28,14],[10,26],[25,10],[29,20],[27,8],[33,11],[22,13],[22,14],[22,13],[26,-7],[25,21],[18,16],[26,-1],[23,14],[6,21],[23,16],[23,11],[28,10],[25,4],[25,-3],[26,-6],[22,-16],[3,-26],[24,-19],[17,-17],[33,-7],[19,-16],[23,-16],[26,-3],[23,11],[24,24],[26,-12],[27,-7],[26,-7],[27,-5],[28,0],[23,-61],[-1,-15],[-4,-27],[-26,-15],[-22,-22],[4,-23],[31,1],[-4,-23],[-14,-22],[-13,-24],[21,-19],[32,-6],[32,11],[15,23],[10,22],[15,18],[17,18],[7,21],[15,29],[18,5],[31,3],[28,7],[28,9],[14,23],[8,22],[19,22],[27,15],[23,12],[16,19],[15,11],[21,9],[27,-6],[25,6],[28,7],[30,-4],[20,17],[14,39],[11,-16],[13,-28],[23,-12],[27,-4],[26,7],[29,-5],[26,-1],[17,6],[24,-4],[21,-12],[25,8],[30,0],[25,8],[29,-8],[19,19],[14,20],[19,16],[35,44],[18,-8],[21,-16],[18,-21],[36,-36],[27,-1],[25,0],[30,7],[30,8],[23,16],[19,18],[31,2],[21,13],[22,-12],[14,-18],[19,-19],[31,2],[19,-15],[33,-15],[35,-5],[29,4],[21,19],[19,18],[25,5],[25,-8],[29,-6],[26,9],[25,0],[24,-6],[26,-5],[25,10],[30,9],[28,3],[32,0],[25,5],[25,5],[8,29],[1,24],[17,-16],[5,-27],[10,-24],[11,-20],[23,-10],[32,4],[36,1],[25,3],[37,0],[26,1],[36,-2],[31,-5],[20,-18],[-5,-22],[18,-18],[30,-13],[31,-15],[35,-11],[38,-9],[28,-9],[32,-2],[18,20],[24,-16],[21,-19],[25,-13],[34,-6],[32,-7],[13,-23],[32,-14],[21,-21],[31,-9],[32,1],[30,-4],[33,1],[34,-4],[31,-8],[28,-14],[29,-12],[20,-17],[-3,-23],[-15,-21],[-13,-27],[-9,-21],[-14,-24],[-36,-9],[-16,-21],[-36,-13],[-13,-23],[-19,-22],[-20,-18],[-11,-25],[-7,-22],[-3,-26],[0,-22],[16,-23],[6,-22],[13,-21],[52,-8],[11,-26],[-50,-9],[-43,-13],[-52,-2],[-24,-34],[-5,-27],[-12,-22],[-14,-22],[37,-20],[14,-24],[24,-22],[33,-20],[39,-19],[42,-18],[64,-19],[14,-29],[80,-12],[5,-5],[21,-17],[77,15],[63,-19],[48,-14],[-9997,-1],[24,35],[50,-19],[3,2],[30,19],[4,0],[3,-1],[40,-25],[35,25],[7,3],[81,11],[27,-14],[13,-7],[41,-20],[79,-15],[63,-18],[107,-14],[80,16],[118,-11],[67,-19],[73,17],[78,17],[6,27],[-110,3],[-89,14],[-24,23],[-74,12],[5,27],[10,24],[10,22],[-5,25],[-46,16],[-22,21],[-43,18],[68,-3],[64,9],[40,-20],[50,18],[45,22],[23,19],[-10,25],[-36,16],[-41,17],[-57,4],[-50,8],[-54,6],[-18,22],[-36,18],[-21,21],[-9,67],[14,-6],[25,-18],[45,6],[44,8],[23,-26],[44,6],[37,13],[35,16],[32,20],[41,5],[-1,22],[-9,22],[8,21],[36,11],[16,-20],[42,12],[32,15],[40,1],[38,6],[37,13],[30,13],[34,13],[22,-4],[19,-4],[41,8],[37,-10],[38,1],[37,8],[37,-6],[41,-6],[39,3],[40,-2],[42,-1],[38,3],[28,17],[34,9],[35,-13],[33,11],[30,21],[18,-19],[9,-21],[18,-19],[29,17],[33,-22],[38,-7],[32,-16],[39,3],[36,11],[41,-3],[38,-8],[38,-10],[15,25],[-18,20],[-14,21],[-36,5],[-15,22],[-6,22],[-10,43],[21,-8],[36,-3],[36,3],[33,-9],[28,-17],[12,-21],[38,-4],[36,9],[38,11],[34,7],[28,-14],[37,5],[24,45],[23,-27],[32,-10],[34,6],[23,-23],[37,-3],[33,-7],[34,-12],[21,22],[11,20],[28,-23],[38,6],[28,-13],[19,-19],[37,5],[29,13],[29,15],[33,8],[39,7],[36,8],[27,13],[16,19],[7,25],[-3,24],[-9,24],[-10,23],[-9,23],[-7,21],[-1,23],[2,23],[13,22],[11,24],[5,23],[-6,26],[-3,23],[14,27],[15,17],[18,22],[19,19],[22,17],[11,25],[15,17],[18,15],[26,3],[18,19],[19,11],[23,7],[20,15],[16,19],[22,7],[16,-15],[-10,-20],[-29,-17]],[[6914,2185],[18,-19],[26,-7],[1,-11],[-7,-27],[-43,-4],[-1,31],[4,25],[2,12]],[[9038,2648],[27,-21],[15,8],[22,12],[16,-4],[2,-70],[-9,-21],[-3,-47],[-10,16],[-19,-41],[-6,3],[-17,2],[-17,50],[-4,39],[-16,52],[1,27],[18,-5]],[[8987,4244],[10,-46],[18,22],[9,-25],[13,-23],[-3,-26],[6,-51],[5,-29],[7,-7],[7,-51],[-3,-30],[9,-40],[31,-31],[19,-28],[19,-26],[-4,-14],[16,-37],[11,-64],[11,13],[11,-26],[7,9],[5,-63],[19,-36],[13,-22],[22,-48],[8,-48],[1,-33],[-2,-37],[13,-50],[-2,-52],[-5,-28],[-7,-52],[1,-34],[-6,-43],[-12,-53],[-21,-29],[-10,-46],[-9,-29],[-8,-51],[-11,-30],[-7,-44],[-4,-41],[2,-18],[-16,-21],[-31,-2],[-26,-24],[-13,-23],[-17,-26],[-23,27],[-17,10],[5,31],[-15,-11],[-25,-43],[-24,16],[-15,9],[-16,4],[-27,17],[-18,37],[-5,45],[-7,30],[-13,24],[-27,7],[9,28],[-7,44],[-13,-41],[-25,-11],[14,33],[5,34],[10,29],[-2,44],[-22,-50],[-18,-21],[-10,-47],[-22,25],[1,31],[-18,43],[-14,22],[5,14],[-36,35],[-19,2],[-27,29],[-50,-6],[-36,-21],[-31,-20],[-27,4],[-29,-30],[-24,-14],[-6,-31],[-10,-24],[-23,-1],[-18,-5],[-24,10],[-20,-6],[-19,-3],[-17,-31],[-8,2],[-14,-16],[-13,-19],[-21,2],[-18,0],[-30,38],[-15,11],[1,34],[14,8],[4,14],[-1,21],[4,41],[-3,35],[-15,60],[-4,33],[1,34],[-11,38],[-1,18],[-12,23],[-4,47],[-16,46],[-4,26],[13,-26],[-10,55],[14,-17],[8,-23],[0,30],[-14,47],[-3,18],[-6,18],[3,34],[6,15],[4,29],[-3,35],[11,42],[2,-45],[12,41],[22,20],[14,25],[21,22],[13,4],[7,-7],[22,22],[17,6],[4,13],[8,6],[15,-2],[29,18],[15,26],[7,31],[17,30],[1,24],[1,32],[19,50],[12,-51],[12,12],[-10,28],[9,29],[12,-13],[3,45],[15,29],[7,23],[14,10],[0,17],[13,-7],[0,15],[12,8],[14,8],[20,-27],[16,-35],[17,0],[18,-6],[-6,33],[13,47],[13,15],[-5,15],[12,34],[17,21],[14,-7],[24,11],[-1,30],[-20,19],[15,9],[18,-15],[15,-24],[23,-15],[8,6],[17,-18],[17,17],[10,-5],[7,11],[12,-29],[-7,-32],[-11,-24],[-9,-2],[3,-23],[-8,-30],[-10,-29],[2,-17],[22,-32],[21,-19],[15,-20],[20,-35],[8,0],[14,-15],[4,-19],[27,-20],[18,20],[6,32],[5,26],[4,33],[8,47],[-4,28],[2,17],[-3,34],[4,45],[5,12],[-4,20],[7,31],[5,32],[1,17],[10,22],[8,-29],[2,-37],[7,-7],[1,-25],[10,-30],[2,-33],[-1,-22]],[[5471,7900],[-2,-24],[-16,0],[6,-13],[-9,-38]],[[5450,7825],[-6,-10],[-24,-1],[-14,-13],[-23,4]],[[5383,7805],[-40,15],[-6,21],[-27,-10],[-4,-12],[-16,9]],[[5290,7828],[-15,1],[-12,11],[4,15],[-1,10]],[[5266,7865],[8,3],[14,-16],[4,16],[25,-3],[20,11],[13,-2],[9,-12],[2,10],[-4,38],[10,8],[10,27]],[[5377,7945],[21,-19],[15,24],[10,5],[22,-18],[13,3],[13,-12]],[[5471,7928],[-3,-7],[3,-21]],[[6281,7346],[-19,8],[-14,27],[-4,23]],[[6349,7527],[15,-31],[14,-42],[13,-2],[8,-16],[-23,-5],[-5,-46],[-4,-21],[-11,-13],[1,-30]],[[6357,7321],[-7,-3],[-17,31],[10,30],[-9,17],[-10,-4],[-33,-44]],[[6249,7494],[6,10],[21,-17],[15,-4],[4,7],[-14,32],[7,9]],[[6288,7531],[8,-2],[19,-36],[13,-4],[4,15],[17,23]],[[5814,4792],[-1,71],[-7,27]],[[5806,4890],[17,-5],[8,34],[15,-4]],[[5846,4915],[1,-23],[6,-14],[1,-19],[-7,-12],[-11,-31],[-10,-22],[-12,-2]],[[5092,8091],[20,-5],[26,12],[17,-25],[16,-14]],[[5171,8059],[-4,-40]],[[5167,8019],[-7,-2],[-3,-33]],[[5157,7984],[-24,26],[-14,-4],[-20,28],[-13,23],[-13,1],[-4,21]],[[5069,8079],[23,12]],[[5074,5427],[-23,-7]],[[5051,5420],[-7,41],[2,136],[-6,12],[-1,29],[-10,21],[-8,17],[3,31]],[[5024,5707],[10,7],[6,26],[13,5],[6,18]],[[5059,5763],[10,17],[10,0],[21,-34]],[[5100,5746],[-1,-19],[6,-35],[-6,-24],[3,-16],[-13,-37],[-9,-18],[-5,-37],[1,-38],[-2,-95]],[[4921,5627],[-19,15],[-13,-2],[-10,-15],[-12,13],[-5,19],[-13,13]],[[4849,5670],[-1,34],[7,26],[-1,20],[23,48],[4,41],[7,14],[14,-8],[11,12],[4,16],[22,26],[5,19],[26,24],[15,9],[7,-12],[18,0]],[[5010,5939],[-2,-28],[3,-27],[16,-39],[1,-28],[32,-14],[-1,-40]],[[5024,5707],[-24,1]],[[5e3,5708],[-13,5],[-9,-9],[-12,4],[-48,-3],[-1,-33],[4,-45]],[[7573,6360],[0,-43],[-10,9],[2,-47]],[[7565,6279],[-8,30],[-1,31],[-6,28],[-11,34],[-26,3],[3,-25],[-9,-32],[-12,12],[-4,-11],[-8,6],[-11,5]],[[7472,6360],[-4,49],[-10,45],[5,35],[-17,16],[6,22],[18,22],[-20,31],[9,40],[22,-26],[14,-3],[2,-41],[26,-8],[26,1],[16,-10],[-13,-50],[-12,-3],[-9,-34],[16,-31],[4,38],[8,0],[14,-93]],[[5629,7671],[8,-25],[11,5],[21,-9],[41,-4],[13,16],[33,13],[20,-21],[17,-6]],[[5793,7640],[-15,-25],[-10,-42],[9,-34]],[[5777,7539],[-24,8],[-28,-18]],[[5725,7529],[0,-30],[-26,-5],[-19,20],[-22,-16],[-21,2]],[[5637,7500],[-2,39],[-14,19]],[[5621,7558],[5,8],[-3,7],[4,19],[11,18],[-14,26],[-2,21],[7,14]],[[2846,6461],[-7,-3],[-7,34],[-10,17],[6,38],[8,-3],[10,-49],[0,-34]],[[2838,6628],[-30,-10],[-2,22],[13,5],[18,-2],[1,-15]],[[2861,6628],[-5,-42],[-5,8],[0,31],[-12,23],[0,7],[22,-27]],[[5527,7708],[10,0],[-7,-26],[14,-23],[-4,-28],[-7,-2]],[[5533,7629],[-5,-6],[-9,-13],[-4,-33]],[[5515,7577],[-25,23],[-10,24],[-11,13],[-12,22],[-6,19],[-14,27],[6,25],[10,-14],[6,12],[13,2],[24,-10],[19,1],[12,-13]],[[5652,8242],[27,0],[30,22],[6,34],[23,19],[-3,26]],[[5735,8343],[17,10],[30,23]],[[5782,8376],[29,-15],[4,-15],[15,7],[27,-14],[3,-27],[-6,-16],[17,-39],[12,-11],[-2,-11],[19,-10],[8,-16],[-11,-13],[-23,2],[-5,-5],[7,-20],[6,-37]],[[5882,8136],[-23,-4],[-9,-13],[-2,-30],[-11,6],[-25,-3],[-7,14],[-11,-10],[-10,8],[-22,1],[-31,15],[-28,4],[-22,-1],[-15,-16],[-13,-2]],[[5653,8105],[-1,26],[-8,27],[17,12],[0,24],[-8,22],[-1,26]],[[2524,6110],[-1,8],[4,3],[5,-7],[10,36],[5,0]],[[2547,6150],[0,-8],[5,-1],[0,-16],[-5,-25],[3,-9],[-3,-21],[2,-6],[-4,-30],[-5,-16],[-5,-1],[-6,-21]],[[2529,5996],[-8,0],[2,67],[1,47]],[[3136,3714],[-20,-8],[-11,82],[-15,66],[9,57],[-15,25],[-4,43],[-13,40]],[[3067,4019],[17,64],[-12,49],[7,20],[-5,22],[10,30],[1,50],[1,41],[6,20],[-24,96]],[[3068,4411],[21,-5],[14,1],[6,18],[25,24],[14,22],[37,10],[-3,-44],[3,-23],[-2,-40],[30,-53],[31,-9],[11,-23],[19,-11],[11,-17],[18,0],[16,-17],[1,-34],[6,-18],[0,-25],[-8,-1],[11,-69],[53,-2],[-4,-35],[3,-23],[15,-16],[6,-37],[-4,-47],[-8,-26],[3,-33],[-9,-12]],[[3384,3866],[-1,18],[-25,30],[-26,1],[-49,-17],[-13,-52],[-1,-32],[-11,-71]],[[3482,3537],[6,34],[3,35],[1,32],[-10,11],[-11,-9],[-10,2],[-4,23],[-2,54],[-5,18],[-19,16],[-11,-12],[-30,11],[2,81],[-8,33]],[[3068,4411],[-15,-11],[-13,7],[2,90],[-23,-35],[-24,2],[-11,31],[-18,4],[5,25],[-15,36],[-11,53],[7,11],[0,25],[17,17],[-3,32],[7,20],[2,28],[32,40],[22,11],[4,9],[25,-2]],[[3058,4804],[13,162],[0,25],[-4,34],[-12,22],[0,42],[15,10],[6,-6],[1,23],[-16,6],[-1,37],[54,-2],[10,21],[7,-19],[6,-35],[5,8]],[[3142,5132],[15,-32],[22,4],[5,18],[21,14],[11,10],[4,25],[19,17],[-1,12],[-24,5],[-3,37],[1,40],[-13,15],[5,6],[21,-8],[22,-15],[8,14],[20,9],[31,23],[10,22],[-3,17]],[[3313,5365],[14,2],[7,-13],[-4,-26],[9,-9],[7,-28],[-8,-20],[-4,-51],[7,-30],[2,-27],[17,-28],[14,-3],[3,12],[8,3],[13,10],[9,16],[15,-5],[7,2]],[[3429,5170],[15,-5],[3,12],[-5,12],[3,17],[11,-5],[13,6],[16,-13]],[[3485,5194],[12,-12],[9,16],[6,-3],[4,-16],[13,4],[11,22],[8,44],[17,54]],[[3565,5303],[9,3],[7,-33],[16,-103],[14,-10],[1,-41],[-21,-48],[9,-18],[49,-9],[1,-60],[21,39],[35,-21],[46,-36],[14,-35],[-5,-32],[33,18],[54,-32],[41,3],[41,-49],[36,-66],[21,-17],[24,-3],[10,-18],[9,-76],[5,-35],[-11,-98],[-14,-39],[-39,-82],[-18,-67],[-21,-51],[-7,-1],[-7,-43],[2,-111],[-8,-91],[-3,-39],[-9,-23],[-5,-79],[-28,-77],[-5,-61],[-22,-26],[-7,-35],[-30,0],[-44,-23],[-19,-26],[-31,-18],[-33,-47],[-23,-58],[-5,-44],[5,-33],[-5,-60],[-6,-28],[-20,-33],[-31,-104],[-24,-47],[-19,-27],[-13,-57],[-18,-33]],[[3517,3063],[-8,33],[13,28],[-16,40],[-22,33],[-29,38],[-10,-2],[-28,46],[-18,-7]],[[8172,5325],[11,22],[23,32]],[[8206,5379],[-1,-29],[-2,-37],[-13,1],[-6,-20],[-12,31]],[[7546,6698],[12,-19],[-2,-36],[-23,-2],[-23,4],[-18,-9],[-25,22],[-1,12]],[[7466,6670],[19,44],[15,15],[20,-14],[14,-1],[12,-16]],[[5817,3752],[-39,-43],[-25,-44],[-10,-40],[-8,-22],[-15,-4],[-5,-29],[-3,-18],[-17,-14],[-23,3],[-13,17],[-12,7],[-14,-14],[-6,-28],[-14,-18],[-13,-26],[-20,-6],[-6,20],[2,36],[-16,56],[-8,9]],[[5552,3594],[0,173],[27,2],[1,210],[21,2],[43,21],[10,-24],[18,23],[9,0],[15,13]],[[5696,4014],[5,-4]],[[5701,4010],[11,-48],[5,-10],[9,-34],[32,-65],[12,-7],[0,-20],[8,-38],[21,-9],[18,-27]],[[5424,5496],[23,4],[5,16],[5,-2],[7,-13],[34,23],[12,23],[15,20],[-3,21],[8,6],[27,-4],[26,27],[20,65],[14,24],[18,10]],[[5635,5716],[3,-26],[16,-36],[0,-25],[-5,-24],[2,-18],[10,-18]],[[5661,5569],[21,-25]],[[5682,5544],[15,-24],[0,-19],[19,-31],[12,-26],[7,-35],[20,-24],[5,-18]],[[5760,5367],[-9,-7],[-18,2],[-21,6],[-10,-5],[-5,-14],[-9,-2],[-10,12],[-31,-29],[-13,6],[-4,-5],[-8,-35],[-21,11],[-20,6],[-18,22],[-23,20],[-15,-19],[-10,-30],[-3,-41]],[[5512,5265],[-18,3],[-19,10],[-16,-32],[-15,-55]],[[5444,5191],[-3,18],[-1,27],[-13,19],[-10,30],[-2,21],[-13,31],[2,18],[-3,25],[2,45],[7,11],[14,60]],[[3231,7808],[20,-8],[26,1],[-14,-24],[-10,-4],[-35,25],[-7,20],[10,18],[10,-28]],[[3283,7958],[-14,-1],[-36,19],[-26,28],[10,5],[37,-15],[28,-25],[1,-11]],[[1569,7923],[-14,-8],[-46,27],[-8,21],[-25,21],[-5,16],[-28,11],[-11,32],[2,14],[30,-13],[17,-9],[26,-6],[9,-21],[14,-28],[28,-24],[11,-33]],[[3440,8052],[-18,-52],[18,20],[19,-12],[-10,-21],[25,-16],[12,14],[28,-18],[-8,-43],[19,10],[4,-32],[8,-36],[-11,-52],[-13,-2],[-18,11],[6,48],[-8,8],[-32,-52],[-17,2],[20,28],[-27,14],[-30,-3],[-54,2],[-4,17],[17,21],[-12,16],[24,36],[28,94],[18,33],[24,21],[13,-3],[-6,-16],[-15,-37]],[[1313,8250],[27,5],[-8,-67],[24,-48],[-11,0],[-17,27],[-10,27],[-14,19],[-5,26],[1,19],[13,-8]],[[2798,8730],[-11,-31],[-12,5],[-8,17],[2,4],[10,18],[12,-1],[7,-12]],[[2725,8762],[-33,-32],[-19,1],[-6,16],[20,27],[38,0],[0,-12]],[[2634,8936],[5,-26],[15,9],[16,-15],[30,-20],[32,-19],[2,-28],[21,5],[20,-20],[-25,-18],[-43,14],[-16,26],[-27,-31],[-40,-31],[-9,35],[-38,-6],[24,30],[4,46],[9,54],[20,-5]],[[2892,9024],[-31,-3],[-7,29],[12,34],[26,8],[21,-17],[1,-25],[-4,-8],[-18,-18]],[[2343,9140],[-17,-21],[-38,18],[-22,-6],[-38,26],[24,19],[19,25],[30,-16],[17,-11],[8,-11],[17,-23]],[[3135,7724],[-18,33],[0,81],[-13,17],[-18,-10],[-10,16],[-21,-45],[-8,-46],[-10,-27],[-12,-9],[-9,-3],[-3,-15],[-51,0],[-42,0],[-12,-11],[-30,-42],[-3,-5],[-9,-23],[-26,0],[-27,0],[-12,-10],[4,-11],[2,-18],[0,-6],[-36,-30],[-29,-9],[-32,-31],[-7,0],[-10,9],[-3,8],[1,6],[6,21],[13,33],[8,35],[-5,51],[-6,53],[-29,28],[3,11],[-4,7],[-8,0],[-5,9],[-2,14],[-5,-6],[-7,2],[1,6],[-6,6],[-3,15],[-21,19],[-23,20],[-27,23],[-26,21],[-25,-17],[-9,0],[-34,15],[-23,-8],[-27,19],[-28,9],[-19,4],[-9,10],[-5,32],[-9,0],[-1,-23],[-57,0],[-95,0],[-94,0],[-84,0],[-83,0],[-82,0],[-85,0],[-27,0],[-82,0],[-79,0]],[[1588,7952],[-4,0],[-54,58],[-20,26],[-50,24],[-15,53],[3,36],[-35,25],[-5,48],[-34,43],[0,30]],[[1374,8295],[15,29],[0,37],[-48,37],[-28,68],[-17,42],[-26,27],[-19,24],[-14,31],[-28,-20],[-27,-33],[-25,39],[-19,26],[-27,16],[-28,2],[0,337],[1,219]],[[1084,9176],[51,-14],[44,-29],[29,-5],[24,24],[34,19],[41,-7],[42,26],[45,14],[20,-24],[20,14],[6,27],[20,-6],[47,-53],[37,40],[3,-45],[34,10],[11,17],[34,-3],[42,-25],[65,-22],[38,-10],[28,4],[37,-30],[-39,-29],[50,-13],[75,7],[24,11],[29,-36],[31,30],[-29,25],[18,20],[34,3],[22,6],[23,-14],[28,-32],[31,5],[49,-27],[43,9],[40,-1],[-3,37],[25,10],[43,-20],[0,-56],[17,47],[23,-1],[12,59],[-30,36],[-32,24],[2,65],[33,43],[37,-9],[28,-26],[38,-67],[-25,-29],[52,-12],[-1,-60],[38,46],[33,-38],[-9,-44],[27,-40],[29,43],[21,51],[1,65],[40,-5],[41,-8],[37,-30],[2,-29],[-21,-31],[20,-32],[-4,-29],[-54,-41],[-39,-9],[-29,18],[-8,-30],[-27,-50],[-8,-26],[-32,-40],[-40,-4],[-22,-25],[-2,-38],[-32,-7],[-34,-48],[-30,-67],[-11,-46],[-1,-69],[40,-10],[13,-55],[13,-45],[39,12],[51,-26],[28,-22],[20,-28],[35,-17],[29,-24],[46,-4],[30,-6],[-4,-51],[8,-59],[21,-66],[41,-56],[21,19],[15,61],[-14,93],[-20,31],[45,28],[31,41],[16,41],[-3,40],[-19,50],[-33,44],[32,62],[-12,54],[-9,92],[19,14],[48,-16],[29,-6],[23,15],[25,-20],[35,-34],[8,-23],[50,-4],[-1,-50],[9,-74],[25,-10],[21,-35],[40,33],[26,65],[19,28],[21,-53],[36,-75],[31,-71],[-11,-37],[37,-33],[25,-34],[44,-15],[18,-19],[11,-50],[22,-8],[11,-22],[2,-67],[-20,-22],[-20,-21],[-46,-21],[-35,-48],[-47,-10],[-59,13],[-42,0],[-29,-4],[-23,-43],[-35,-26],[-40,-78],[-32,-54],[23,9],[45,78],[58,49],[42,6],[24,-29],[-26,-40],[9,-63],[9,-45],[36,-29],[46,8],[28,67],[2,-43],[17,-22],[-34,-38],[-61,-36],[-28,-23],[-31,-43],[-21,4],[-1,50],[48,49],[-44,-2],[-31,-7]],[[1829,9377],[-14,-27],[61,17],[39,-29],[31,30],[26,-20],[23,-58],[14,25],[-20,60],[24,9],[28,-9],[31,-24],[17,-58],[9,-41],[47,-30],[50,-28],[-3,-26],[-46,-4],[18,-23],[-9,-22],[-51,9],[-48,16],[-32,-3],[-52,-20],[-70,-9],[-50,-6],[-15,28],[-38,16],[-24,-6],[-35,47],[19,6],[43,10],[39,-3],[36,11],[-54,13],[-59,-4],[-39,1],[-15,22],[64,23],[-42,-1],[-49,16],[23,44],[20,24],[74,36],[29,-12]],[[2097,9395],[-24,-39],[-44,41],[10,9],[37,2],[21,-13]],[[2879,9376],[3,-16],[-30,2],[-30,1],[-30,-8],[-8,3],[-31,32],[1,21],[14,4],[63,-6],[48,-33]],[[2595,9379],[22,-36],[26,47],[70,24],[48,-61],[-4,-38],[55,17],[26,23],[62,-30],[38,-28],[3,-25],[52,13],[29,-38],[67,-23],[24,-24],[26,-55],[-51,-28],[66,-38],[44,-13],[40,-55],[44,-3],[-9,-42],[-49,-69],[-34,26],[-44,57],[-36,-8],[-3,-34],[29,-34],[38,-27],[11,-16],[18,-58],[-9,-43],[-35,16],[-70,47],[39,-51],[29,-35],[5,-21],[-76,24],[-59,34],[-34,29],[10,17],[-42,30],[-40,29],[0,-18],[-80,-9],[-23,20],[18,44],[52,1],[57,7],[-9,21],[10,30],[36,57],[-8,27],[-11,20],[-42,29],[-57,20],[18,15],[-29,36],[-25,4],[-22,20],[-14,-18],[-51,-7],[-101,13],[-59,17],[-45,9],[-23,21],[29,27],[-39,0],[-9,60],[21,53],[29,24],[72,16],[-21,-39]],[[2212,9420],[33,-12],[50,7],[7,-17],[-26,-28],[42,-26],[-5,-53],[-45,-23],[-27,5],[-19,23],[-69,45],[0,19],[57,-7],[-31,38],[33,29]],[[2411,9357],[-30,-45],[-32,3],[-17,52],[1,29],[14,25],[28,16],[58,-2],[53,-14],[-42,-53],[-33,-11]],[[1654,9275],[-73,-29],[-15,26],[-64,31],[12,25],[19,43],[24,39],[-27,36],[94,10],[39,-13],[71,-3],[27,-17],[30,-25],[-35,-15],[-68,-41],[-34,-42],[0,-25]],[[2399,9487],[-15,-23],[-40,5],[-34,15],[15,27],[40,16],[24,-21],[10,-19]],[[2264,9590],[21,-27],[1,-31],[-13,-44],[-46,-6],[-30,10],[1,34],[-45,-4],[-2,45],[30,-2],[41,21],[40,-4],[2,8]],[[1994,9559],[11,-21],[25,10],[29,-2],[5,-29],[-17,-28],[-94,-10],[-70,-25],[-43,-2],[-3,20],[57,26],[-125,-7],[-39,10],[38,58],[26,17],[78,-20],[50,-35],[48,-5],[-40,57],[26,21],[29,-7],[9,-28]],[[2370,9612],[30,-19],[55,0],[24,-19],[-6,-22],[32,-14],[17,-14],[38,-2],[40,-5],[44,13],[57,5],[45,-5],[30,-22],[6,-24],[-17,-16],[-42,-13],[-35,8],[-80,-10],[-57,-1],[-45,8],[-74,19],[-9,32],[-4,29],[-27,26],[-58,7],[-32,19],[10,24],[58,-4]],[[1772,9645],[-4,-46],[-21,-20],[-26,-3],[-52,-26],[-44,-9],[-38,13],[47,44],[57,39],[43,-1],[38,9]],[[2393,9637],[-13,-2],[-52,4],[-7,17],[56,-1],[19,-11],[-3,-7]],[[1939,9648],[-52,-17],[-41,19],[23,19],[40,6],[39,-10],[-9,-17]],[[1954,9701],[-34,-11],[-46,0],[0,8],[29,18],[14,-3],[37,-12]],[[2338,9669],[-41,-12],[-23,13],[-12,23],[-2,24],[36,-2],[16,-4],[33,-21],[-7,-21]],[[2220,9685],[11,-25],[-45,7],[-46,19],[-62,2],[27,18],[-34,14],[-2,22],[55,-8],[75,-21],[21,-28]],[[2583,9764],[33,-20],[-38,-17],[-51,-45],[-50,-4],[-57,8],[-30,24],[0,21],[22,16],[-50,0],[-31,19],[-18,27],[20,26],[19,18],[28,4],[-12,14],[65,3],[35,-32],[47,-12],[46,-11],[22,-39]],[[3097,9967],[74,-4],[60,-8],[51,-16],[-2,-16],[-67,-25],[-68,-12],[-25,-14],[61,1],[-66,-36],[-45,-17],[-48,-48],[-57,-10],[-18,-12],[-84,-6],[39,-8],[-20,-10],[23,-29],[-26,-21],[-43,-16],[-13,-24],[-39,-17],[4,-14],[48,3],[0,-15],[-74,-35],[-73,16],[-81,-9],[-42,7],[-52,3],[-4,29],[52,13],[-14,43],[17,4],[74,-26],[-38,38],[-45,11],[23,23],[49,14],[8,21],[-39,23],[-12,31],[76,-3],[22,-6],[43,21],[-62,7],[-98,-4],[-49,20],[-23,24],[-32,17],[-6,21],[41,11],[32,2],[55,9],[41,22],[34,-3],[30,-16],[21,32],[37,9],[50,7],[85,2],[14,-6],[81,10],[60,-4],[60,-4]],[[5290,7828],[-3,-24],[-12,-10],[-20,7],[-6,-24],[-14,-2],[-5,10],[-15,-20],[-13,-3],[-12,13]],[[5190,7775],[-10,25],[-13,-9],[0,27],[21,33],[-1,15],[12,-5],[8,10]],[[5207,7871],[24,-1],[5,13],[30,-18]],[[3140,1814],[-10,-24],[-23,-18],[-14,2],[-16,5],[-21,18],[-29,8],[-35,33],[-28,32],[-38,66],[23,-12],[39,-40],[36,-21],[15,27],[9,41],[25,24],[20,-7]],[[3095,1968],[-25,0],[-13,-14],[-25,-22],[-5,-55],[-11,-1],[-32,19],[-32,41],[-34,34],[-9,37],[8,35],[-14,39],[-4,101],[12,57],[30,45],[-43,18],[27,52],[9,98],[31,-21],[15,123],[-19,15],[-9,-73],[-17,8],[9,84],[9,110],[13,40],[-8,58],[-2,66],[11,2],[17,96],[20,94],[11,88],[-6,89],[8,49],[-3,72],[16,73],[5,114],[9,123],[9,132],[-2,96],[-6,84]],[[3045,3974],[14,15],[8,30]],[[8064,6161],[-24,-28],[-23,18],[0,51],[13,26],[31,17],[16,-1],[6,-23],[-12,-26],[-7,-34]],[[8628,7562],[-18,35],[-11,-33],[-43,-26],[4,-31],[-24,2],[-13,19],[-19,-42],[-30,-32],[-23,-38]],[[8451,7416],[-39,-17],[-20,-27],[-30,-17],[15,28],[-6,23],[22,40],[-15,30],[-24,-20],[-32,-41],[-17,-39],[-27,-2],[-14,-28],[15,-40],[22,-10],[1,-26],[22,-17],[31,42],[25,-23],[18,-2],[4,-31],[-39,-16],[-13,-32],[-27,-30],[-14,-41],[30,-33],[11,-58],[17,-54],[18,-45],[0,-44],[-17,-16],[6,-32],[17,-18],[-5,-48],[-7,-47],[-15,-5],[-21,-64],[-22,-78],[-26,-70],[-38,-55],[-39,-50],[-31,-6],[-17,-27],[-10,20],[-15,-30],[-39,-29],[-29,-9],[-10,-63],[-15,-3],[-8,43],[7,22],[-37,19],[-13,-9]],[[8001,6331],[-28,15],[-14,24],[5,34],[-26,11],[-13,22],[-24,-31],[-27,-7],[-22,0],[-15,-14]],[[7837,6385],[-14,-9],[4,-68],[-15,2],[-2,14]],[[7810,6324],[-1,24],[-20,-17],[-12,11],[-21,22],[8,49],[-18,12],[-6,54],[-30,-10],[4,70],[26,50],[1,48],[-1,46],[-12,14],[-9,35],[-16,-5]],[[7703,6727],[-30,9],[9,25],[-13,36],[-20,-24],[-23,14],[-32,-37],[-25,-44],[-23,-8]],[[7466,6670],[-2,47],[-17,-13]],[[7447,6704],[-32,6],[-32,14],[-22,26],[-22,11],[-9,29],[-16,8],[-28,39],[-22,18],[-12,-14]],[[7252,6841],[-38,41],[-28,37],[-7,65],[20,-7],[1,30],[-12,30],[3,48],[-30,69]],[[7161,7154],[-45,24],[-8,46],[-21,27]],[[7082,7268],[-4,34],[1,23],[-17,13],[-9,-6],[-7,55]],[[7046,7387],[8,13],[-4,14],[26,28],[20,12],[29,-8],[11,38],[35,7],[10,23],[44,32],[4,13]],[[7229,7559],[-2,34],[19,15],[-25,103],[55,24],[14,13],[20,106],[55,-20],[15,27],[2,59],[23,6],[21,39]],[[7426,7965],[11,5]],[[7437,7970],[7,-41],[23,-32],[40,-22],[19,-47],[-10,-70],[10,-25],[33,-10],[37,-8],[33,-37],[18,-7],[12,-54],[17,-35],[30,1],[58,-13],[36,8],[28,-9],[41,-36],[34,0],[12,-18],[32,32],[45,20],[42,2],[32,21],[20,32],[20,20],[-5,19],[-9,23],[15,38],[15,-5],[29,-12],[28,31],[42,23],[20,39],[20,17],[40,8],[22,-7],[3,21],[-25,41],[-22,19],[-22,-22],[-27,10],[-16,-8],[-7,24],[20,59],[13,45]],[[8240,8005],[34,-23],[39,38],[-1,26],[26,62],[15,19],[0,33],[-16,14],[23,29],[35,11],[37,2],[41,-18],[25,-22],[17,-59],[10,-26],[10,-36],[10,-58],[49,-19],[32,-42],[12,-55],[42,0],[24,23],[46,17],[-15,-53],[-11,-21],[-9,-65],[-19,-58],[-33,11],[-24,-21],[7,-51],[-4,-69],[-14,-2],[0,-30]],[[4920,5353],[-12,-1],[-20,12],[-18,-1],[-33,-10],[-19,-18],[-27,-21],[-6,1]],[[4785,5315],[2,49],[3,7],[-1,24],[-12,24],[-8,4],[-8,17],[6,26],[-3,28],[1,18]],[[4765,5512],[5,0],[1,25],[-2,12],[3,8],[10,7],[-7,47],[-6,25],[2,20],[5,4]],[[4776,5660],[4,6],[8,-9],[21,-1],[5,18],[5,-1],[8,6],[4,-25],[7,7],[11,9]],[[4921,5627],[7,-84],[-11,-50],[-8,-66],[12,-51],[-1,-23]],[[5363,5191],[-4,4],[-16,-8],[-17,8],[-13,-4]],[[5313,5191],[-45,1]],[[5268,5192],[4,47],[-11,39],[-13,10],[-6,27],[-7,8],[1,16]],[[5236,5339],[7,42],[13,57],[8,1],[17,34],[10,1],[16,-24],[19,20],[2,25],[7,23],[4,30],[15,25],[5,41],[6,13],[4,31],[7,37],[24,46],[1,20],[3,10],[-11,24]],[[5393,5795],[1,19],[8,3]],[[5402,5817],[11,-38],[2,-39],[-1,-39],[15,-54],[-15,1],[-8,-4],[-13,6],[-6,-28],[16,-35],[13,-10],[3,-24],[9,-41],[-4,-16]],[[5444,5191],[-2,-31],[-22,14],[-22,15],[-35,2]],[[5856,5265],[-2,-69],[11,-8],[-9,-21],[-10,-16],[-11,-31],[-6,-27],[-1,-48],[-7,-22],[0,-45]],[[5821,4978],[-8,-16],[-1,-35],[-4,-5],[-2,-32]],[[5814,4792],[5,-55],[-2,-30],[5,-35],[16,-33],[15,-74]],[[5853,4565],[-11,6],[-37,-10],[-7,-7],[-8,-38],[6,-26],[-5,-70],[-3,-59],[7,-11],[19,-23],[8,11],[2,-64],[-21,1],[-11,32],[-10,25],[-22,9],[-6,31],[-17,-19],[-22,8],[-10,27],[-17,6],[-13,-2],[-2,19],[-9,1]],[[5342,4697],[-4,18]],[[5360,4775],[8,-6],[9,23],[15,-1],[2,-17],[11,-10],[16,37],[16,29],[7,19],[-1,48],[12,58],[13,30],[18,29],[3,18],[1,22],[5,21],[-2,33],[4,52],[5,37],[8,32],[2,36]],[[5760,5367],[17,-49],[12,-7],[8,10],[12,-4],[16,12],[6,-25],[25,-39]],[[5330,4760],[-22,62]],[[5308,4822],[21,33],[-11,39],[10,15],[19,7],[2,26],[15,-28],[24,-2],[9,27],[3,40],[-3,46],[-13,35],[12,68],[-7,12],[-21,-5],[-7,31],[2,25]],[[2906,5049],[-12,14],[-14,19],[-7,-9],[-24,8],[-7,25],[-5,-1],[-28,34]],[[2809,5139],[-3,18],[10,5],[-1,29],[6,22],[14,4],[12,37],[10,31],[-10,14],[5,34],[-6,54],[6,16],[-4,50],[-12,31]],[[2836,5484],[4,29],[9,-4],[5,17],[-6,35],[3,9]],[[2851,5570],[14,-2],[21,41],[12,6],[0,20],[5,50],[16,27],[17,1],[3,13],[21,-5],[22,30],[11,13],[14,28],[9,-3],[8,-16],[-6,-20]],[[3018,5753],[-18,-10],[-7,-29],[-10,-17],[-8,-22],[-4,-42],[-8,-35],[15,-4],[3,-27],[6,-13],[3,-24],[-4,-22],[1,-12],[7,-5],[7,-20],[36,5],[16,-7],[19,-51],[11,6],[20,-3],[16,7],[10,-10],[-5,-32],[-6,-20],[-2,-42],[5,-40],[8,-17],[1,-13],[-14,-30],[10,-13],[8,-21],[8,-58]],[[3058,4804],[-14,31],[-8,1],[18,61],[-21,27],[-17,-5],[-10,10],[-15,-15],[-21,7],[-16,62],[-13,15],[-9,28],[-19,28],[-7,-5]],[[2695,5543],[-15,14],[-6,12],[4,10],[-1,13],[-8,14],[-11,12],[-10,8],[-1,17],[-8,10],[2,-17],[-5,-14],[-7,17],[-9,5],[-4,12],[1,18],[3,19],[-8,8],[7,12]],[[2619,5713],[4,7],[18,-15],[7,7],[9,-5],[4,-12],[8,-4],[7,13]],[[2676,5704],[7,-32],[11,-24],[13,-25]],[[2707,5623],[-11,-6],[0,-23],[6,-9],[-4,-7],[1,-11],[-2,-12],[-2,-12]],[[2715,6427],[23,-4],[22,0],[26,-21],[11,-21],[26,6],[10,-13],[24,-37],[17,-27],[9,1],[17,-12],[-2,-17],[20,-2],[21,-24],[-3,-14],[-19,-7],[-18,-3],[-19,4],[-40,-5],[18,32],[-11,16],[-18,4],[-9,17],[-7,33],[-16,-2],[-26,16],[-8,12],[-36,10],[-10,11],[11,15],[-28,3],[-20,-31],[-11,-1],[-4,-14],[-14,-7],[-12,6],[15,18],[6,22],[13,13],[14,11],[21,6],[7,6]],[[5909,7133],[2,1],[4,14],[20,-1],[25,18],[-19,-25],[2,-11]],[[5943,7129],[-3,2],[-5,-5],[-4,1],[-2,-2],[0,6],[-2,4],[-6,0],[-7,-5],[-5,3]],[[5943,7129],[1,-5],[-28,-24],[-14,8],[-7,23],[14,2]],[[5377,7945],[-16,25],[-14,15],[-3,25],[-5,17],[21,13],[10,15],[20,11],[7,11],[7,-6],[13,6]],[[5417,8077],[13,-19],[21,-5],[-2,-17],[15,-12],[4,15],[19,-6],[3,-19],[20,-3],[13,-29]],[[5523,7982],[-8,0],[-4,-11],[-7,-3],[-2,-13],[-5,-3],[-1,-5],[-9,-7],[-12,1],[-4,-13]],[[5275,8306],[1,-23],[28,-14],[-1,-21],[29,11],[15,16],[32,-23],[13,-19]],[[5392,8233],[6,-30],[-8,-16],[11,-21],[6,-31],[-2,-21],[12,-37]],[[5207,7871],[3,42],[14,40],[-40,11],[-13,16]],[[5171,7980],[2,26],[-6,13]],[[5171,8059],[-5,62],[17,0],[7,22],[6,54],[-5,20]],[[5191,8217],[6,13],[23,3],[5,-13],[19,29],[-6,22],[-2,34]],[[5236,8305],[21,-8],[18,9]],[[6196,5808],[7,-19],[-1,-24],[-16,-14],[12,-16]],[[6198,5735],[-10,-32]],[[6188,5703],[-7,11],[-6,-5],[-16,1],[0,18],[-2,17],[9,27],[10,26]],[[6176,5798],[12,-5],[8,15]],[[5352,8343],[-17,-48],[-29,33],[-4,25],[41,19],[9,-29]],[[5236,8305],[-11,32],[-1,61],[5,16],[8,17],[24,4],[10,16],[22,17],[-1,-30],[-8,-20],[4,-16],[15,-9],[-7,-22],[-8,6],[-20,-42],[7,-29]],[[3008,6222],[3,10],[22,0],[16,-15],[8,1],[5,-21],[15,1],[-1,-17],[12,-2],[14,-22],[-10,-24],[-14,13],[-12,-3],[-9,3],[-5,-11],[-11,-3],[-4,14],[-10,-8],[-11,-41],[-7,10],[-1,17]],[[3008,6124],[0,16],[-7,17],[7,10],[2,23],[-2,32]],[[5333,6444],[-95,-112],[-81,-117],[-39,-26]],[[5118,6189],[-31,-6],[0,38],[-13,10],[-17,16],[-7,28],[-94,129],[-93,129]],[[4863,6533],[-105,143]],[[4758,6676],[1,11],[0,4]],[[4759,6691],[0,70],[44,44],[28,9],[23,16],[11,29],[32,24],[1,44],[16,5],[13,22],[36,9],[5,23],[-7,13],[-10,62],[-1,36],[-11,38]],[[4939,7135],[27,32],[30,11],[17,24],[27,18],[47,11],[46,4],[14,-8],[26,23],[30,0],[11,-13],[19,3]],[[5233,7240],[-5,-30],[4,-56],[-6,-49],[-18,-33],[3,-45],[23,-35],[0,-14],[17,-24],[12,-106]],[[5263,6848],[9,-52],[1,-28],[-5,-48],[2,-27],[-3,-32],[2,-37],[-11,-25],[17,-43],[1,-25],[10,-33],[13,11],[22,-28],[12,-37]],[[2769,4856],[15,45],[-6,25],[-11,-27],[-16,26],[5,16],[-4,54],[9,9],[5,37],[11,38],[-2,24],[15,13],[19,23]],[[2906,5049],[4,-45],[-9,-39],[-30,-62],[-33,-23],[-17,-51],[-6,-40],[-15,-24],[-12,29],[-11,7],[-12,-5],[-1,22],[8,14],[-3,24]],[[5969,6800],[-7,-23],[-6,-45],[-8,-31],[-6,-10],[-10,19],[-12,26],[-20,85],[-3,-5],[12,-63],[17,-59],[21,-92],[10,-32],[9,-34],[25,-65],[-6,-10],[1,-39],[33,-53],[4,-12]],[[6023,6357],[-110,0],[-107,0],[-112,0]],[[5694,6357],[0,218],[0,210],[-8,47],[7,37],[-5,25],[10,29]],[[5698,6923],[37,0],[27,-15],[28,-18],[13,-9],[21,19],[11,17],[25,5],[20,-8],[7,-29],[7,19],[22,-14],[22,-3],[13,15]],[[5951,6902],[18,-102]],[[6176,5798],[-10,20],[-11,34],[-12,19],[-8,21],[-24,23],[-19,1],[-7,12],[-16,-14],[-17,27],[-8,-44],[-33,13]],[[6011,5910],[-3,23],[12,87],[3,39],[9,18],[20,10],[14,34]],[[6066,6121],[16,-69],[8,-54],[15,-29],[38,-55],[16,-34],[15,-34],[8,-20],[14,-18]],[[4749,7532],[1,42],[-11,25],[39,43],[34,-11],[37,1],[30,-10],[23,3],[45,-2]],[[4947,7623],[11,-23],[51,-27],[10,13],[31,-27],[32,8]],[[5082,7567],[2,-35],[-26,-39],[-36,-12],[-2,-20],[-18,-33],[-10,-48],[11,-34],[-16,-26],[-6,-39],[-21,-11],[-20,-46],[-35,-1],[-27,1],[-17,-21],[-11,-22],[-13,5],[-11,20],[-8,34],[-26,9]],[[4792,7249],[-2,20],[10,22],[4,16],[-9,17],[7,39],[-11,36],[12,5],[1,27],[5,9],[0,46],[13,16],[-8,30],[-16,2],[-5,-8],[-16,0],[-7,29],[-11,-8],[-10,-15]],[[5675,8472],[3,35],[-10,-8],[-18,21],[-2,34],[35,17],[35,8],[30,-10],[29,2]],[[5777,8571],[4,-10],[-20,-34],[8,-55],[-12,-19]],[[5757,8453],[-22,0],[-24,22],[-13,7],[-23,-10]],[[6188,5703],[-6,-21],[10,-32],[10,-29],[11,-21],[90,-70],[24,0]],[[6327,5530],[-79,-177],[-36,-3],[-25,-41],[-17,-1],[-8,-19]],[[6162,5289],[-19,0],[-11,20],[-26,-25],[-8,-24],[-18,4],[-6,7],[-7,-1],[-9,0],[-35,50],[-19,0],[-10,20],[0,33],[-14,10]],[[5980,5383],[-17,64],[-12,14],[-5,23],[-14,29],[-17,4],[9,34],[15,2],[4,18]],[[5943,5571],[0,53]],[[5943,5624],[8,62],[13,16],[3,24],[12,45],[17,30],[11,58],[4,51]],[[5794,9138],[-4,-42],[42,-39],[-26,-45],[33,-67],[-19,-51],[25,-43],[-11,-39],[41,-40],[-11,-31],[-25,-34],[-60,-75]],[[5779,8632],[-50,-5],[-49,-21],[-45,-13],[-16,32],[-27,20],[6,58],[-14,53],[14,35],[25,37],[63,64],[19,12],[-3,25],[-39,28]],[[5663,8957],[-9,23],[-1,91],[-43,40],[-37,29]],[[5573,9140],[17,16],[30,-32],[37,3],[30,-14],[26,26],[14,44],[43,20],[35,-24],[-11,-41]],[[9954,4033],[9,-17],[-4,-31],[-17,-8],[-16,7],[-2,26],[10,21],[13,-8],[7,10]],[[0,4079],[9981,-14],[-17,-13],[-4,23],[14,12],[9,3],[-9983,18]],[[0,4108],[0,-29]],[[0,4108],[6,3],[-4,-28],[-2,-4]],[[3300,1994],[33,36],[24,-15],[16,24],[22,-27],[-8,-21],[-37,-17],[-13,20],[-23,-26],[-14,26]],[[5265,7548],[-9,-46],[-13,12],[-6,40],[5,22],[18,22],[5,-50]],[[5157,7984],[6,-6],[8,2]],[[5190,7775],[-2,-17],[9,-22],[-10,-18],[7,-46],[15,-8],[-3,-25]],[[5206,7639],[-25,-34],[-55,16],[-40,-19],[-4,-35]],[[4947,7623],[14,35],[5,118],[-28,62],[-21,30],[-42,23],[-3,43],[36,12],[47,-15],[-9,67],[26,-25],[65,46],[8,48],[24,12]],[[3485,5194],[7,25],[3,27]],[[3495,5246],[4,26],[-10,34]],[[3489,5306],[-3,41],[15,51]],[[3501,5398],[9,-7],[21,-14],[29,-50],[5,-24]],[[5308,4822],[-29,60],[-18,49],[-17,61],[1,19],[6,19],[7,43],[5,44]],[[5263,5117],[10,4],[40,-1],[0,71]],[[4827,8240],[-21,12],[-17,-1],[6,32],[-6,32]],[[4789,8315],[23,2],[30,-37],[-15,-40]],[[4916,8521],[-30,-63],[29,8],[30,-1],[-7,-48],[-25,-53],[29,-4],[2,-6],[25,-69],[19,-10],[17,-67],[8,-24],[33,-11],[-3,-38],[-14,-17],[11,-30],[-25,-31],[-37,0],[-48,-16],[-13,12],[-18,-28],[-26,7],[-19,-23],[-15,12],[41,62],[25,13],[-1,0],[-43,9],[-8,24],[29,18],[-15,32],[5,39],[42,-6],[4,35],[-19,36],[0,1],[-34,10],[-7,16],[10,27],[-9,16],[-15,-28],[-1,57],[-14,30],[10,61],[21,48],[23,-4],[33,4]],[[6154,7511],[4,26],[-7,40],[-16,22],[-16,6],[-10,19]],[[6109,7624],[4,6],[23,-10],[41,-9],[38,-28],[5,-11],[17,9],[25,-13],[9,-24],[17,-13]],[[6210,7485],[-27,29],[-29,-3]],[[5029,5408],[-44,-35],[-15,-20],[-25,-17],[-25,17]],[[5e3,5708],[-2,-18],[12,-30],[0,-43],[2,-47],[7,-21],[-6,-54],[2,-29],[8,-37],[6,-21]],[[4765,5512],[-8,1],[-5,-24],[-8,1],[-6,12],[2,24],[-11,36],[-8,-7],[-6,-1]],[[4715,5554],[-7,-3],[0,21],[-4,16],[0,17],[-6,25],[-7,21],[-23,0],[-6,-11],[-8,-1],[-4,-13],[-4,-17],[-14,-26]],[[4632,5583],[-13,35],[-10,24],[-8,7],[-6,12],[-4,26],[-4,13],[-8,10]],[[4579,5710],[13,29],[8,-2],[7,10],[6,0],[5,8],[-3,20],[3,6],[1,20]],[[4619,5801],[13,-1],[20,-14],[6,1],[3,7],[15,-5],[4,4]],[[4680,5793],[1,-22],[5,0],[7,8],[5,-2],[7,-15],[12,-5],[8,13],[9,8],[6,8],[6,-1],[6,-13],[3,-17],[12,-24],[-6,-16],[-1,-19],[6,6],[3,-7],[-1,-17],[8,-18]],[[4532,5834],[3,27]],[[4535,5861],[31,1],[6,14],[9,1],[11,-14],[8,-1],[9,10],[6,-17],[-12,-13],[-12,1],[-12,13],[-10,-14],[-5,-1],[-7,-8],[-25,1]],[[4579,5710],[-15,24],[-11,4],[-7,17],[1,9],[-9,13],[-2,12]],[[4536,5789],[15,10],[9,-2],[8,7],[51,-3]],[[5263,5117],[-5,9],[10,66]],[[5658,7167],[15,-20],[22,3],[20,-4],[0,-10],[15,7],[-4,-18],[-40,-5],[1,10],[-34,12],[5,25]],[[5723,7469],[-17,2],[-14,6],[-34,-16],[19,-33],[-14,-10],[-15,0],[-15,31],[-5,-13],[6,-36],[14,-27],[-10,-13],[15,-27],[14,-18],[0,-33],[-25,16],[8,-30],[-18,-7],[11,-52],[-19,-1],[-23,26],[-10,47],[-5,40],[-11,27],[-14,34],[-2,16]],[[5583,7470],[18,6],[11,13],[15,-2],[5,11],[5,2]],[[5725,7529],[13,-16],[-8,-37],[-7,-7]],[[3701,9939],[93,35],[97,-2],[36,21],[98,6],[222,-7],[174,-47],[-52,-23],[-106,-3],[-150,-5],[14,-11],[99,7],[83,-21],[54,18],[23,-21],[-30,-34],[71,22],[135,23],[83,-12],[15,-25],[-113,-42],[-16,-14],[-88,-10],[64,-3],[-32,-43],[-23,-38],[1,-66],[33,-38],[-43,-3],[-46,-19],[52,-31],[6,-50],[-30,-6],[36,-50],[-61,-5],[32,-24],[-9,-20],[-39,-10],[-39,0],[35,-40],[0,-26],[-55,24],[-14,-15],[37,-15],[37,-36],[10,-48],[-49,-11],[-22,22],[-34,34],[10,-40],[-33,-31],[73,-2],[39,-3],[-75,-52],[-75,-46],[-81,-21],[-31,0],[-29,-23],[-38,-62],[-60,-42],[-19,-2],[-37,-15],[-40,-13],[-24,-37],[0,-41],[-15,-39],[-45,-47],[11,-47],[-12,-48],[-14,-58],[-39,-4],[-41,49],[-56,0],[-27,32],[-18,58],[-49,73],[-14,39],[-3,53],[-39,54],[10,44],[-18,21],[27,69],[42,22],[11,25],[6,46],[-32,-21],[-15,-9],[-25,-8],[-34,19],[-2,40],[11,31],[25,1],[57,-15],[-48,37],[-24,20],[-28,-8],[-23,15],[31,55],[-17,22],[-22,41],[-34,62],[-35,23],[0,25],[-74,34],[-59,5],[-74,-3],[-68,-4],[-32,19],[-49,37],[73,19],[56,3],[-119,15],[-62,24],[3,23],[106,28],[101,29],[11,21],[-75,22],[24,23],[97,41],[40,7],[-12,26],[66,16],[86,9],[85,1],[30,-19],[74,33],[66,-22],[39,-5],[58,-19],[-66,32],[4,25]],[[2497,5869],[-14,10],[-17,1],[-13,12],[-15,24]],[[2438,5916],[1,18],[3,13],[-4,12],[13,48],[36,0],[1,20],[-5,4],[-3,12],[-10,14],[-11,20],[13,0],[0,33],[26,0],[26,0]],[[2529,5996],[10,-11],[2,9],[8,-7]],[[2549,5987],[-13,-23],[-13,-16],[-2,-12],[2,-11],[-5,-15]],[[2518,5910],[-7,-4],[2,-7],[-6,-6],[-9,-15],[-1,-9]],[[3340,5552],[18,-22],[17,-38],[1,-31],[10,-1],[15,-29],[11,-21]],[[3412,5410],[-4,-53],[-17,-15],[1,-14],[-5,-31],[13,-42],[9,-1],[3,-33],[17,-51]],[[3313,5365],[-19,45],[7,16],[0,27],[17,10],[7,11],[-10,22],[3,21],[22,35]],[[2574,5825],[-5,18],[-8,5]],[[2561,5848],[2,24],[-4,6],[-6,4],[-12,-7],[-1,8],[-8,10],[-6,12],[-8,5]],[[2549,5987],[3,-3],[6,11],[8,1],[3,-5],[4,3],[13,-6],[13,2],[9,6],[3,7],[9,-3],[6,-4],[8,1],[5,5],[13,-8],[4,-1],[9,-11],[8,-13],[10,-9],[7,-17]],[[2690,5943],[-9,2],[-4,-8],[-10,-8],[-7,0],[-6,-8],[-6,3],[-4,9],[-3,-2],[-4,-14],[-3,1],[0,-12],[-10,-17],[-5,-7],[-3,-7],[-8,12],[-6,-16],[-6,1],[-6,-2],[0,-29],[-4,0],[-3,-14],[-9,-2]],[[5522,7770],[7,-23],[9,-17],[-11,-22]],[[5515,7577],[-3,-10]],[[5512,7567],[-26,22],[-16,21],[-26,18],[-23,43],[6,5],[-13,25],[-1,19],[-17,10],[-9,-26],[-8,20],[0,21],[1,1]],[[5380,7746],[20,-2],[5,9],[9,-9],[11,-1],[0,16],[10,6],[2,24],[23,16]],[[5460,7805],[8,-7],[21,-26],[23,-11],[10,9]],[[3008,6124],[-19,10],[-13,-5],[-17,5],[-13,-11],[-15,18],[3,19],[25,-8],[21,-5],[10,13],[-12,26],[0,23],[-18,9],[7,16],[17,-3],[24,-9]],[[5471,7900],[14,-15],[10,-6],[24,7],[2,12],[11,2],[14,9],[3,-4],[13,8],[6,13],[9,4],[30,-18],[6,6]],[[5613,7918],[15,-16],[2,-16]],[[5630,7886],[-17,-12],[-13,-40],[-17,-40],[-22,-11]],[[5561,7783],[-17,2],[-22,-15]],[[5460,7805],[-6,20],[-4,0]],[[8352,4453],[-11,-2],[-37,42],[26,11],[14,-18],[10,-17],[-2,-16]],[[8471,4532],[2,-11],[1,-18]],[[8474,4503],[-18,-45],[-24,-13],[-3,8],[2,20],[12,36],[28,23]],[[8274,4579],[10,-16],[17,5],[7,-25],[-32,-12],[-19,-8],[-15,1],[10,34],[15,0],[7,21]],[[8413,4579],[-4,-32],[-42,-17],[-37,7],[0,22],[22,12],[18,-18],[18,5],[25,21]],[[8017,4657],[53,-6],[6,25],[51,-29],[10,-38],[42,-11],[34,-35],[-31,-23],[-31,24],[-25,-1],[-29,4],[-26,11],[-32,22],[-21,6],[-11,-7],[-51,24],[-5,25],[-25,5],[19,56],[34,-3],[22,-23],[12,-5],[4,-21]],[[8741,4690],[-14,-40],[-3,45],[5,21],[6,20],[7,-17],[-1,-29]],[[8534,4853],[-11,-19],[-19,10],[-5,26],[28,3],[7,-20]],[[8623,4875],[10,-45],[-23,24],[-23,5],[-16,-4],[-19,2],[6,33],[35,2],[30,-17]],[[8916,4904],[0,-193],[1,-192]],[[8917,4519],[-25,48],[-28,12],[-7,-17],[-35,-1],[12,48],[17,16],[-7,64],[-14,50],[-53,50],[-23,5],[-42,54],[-8,-28],[-11,-5],[-6,21],[0,26],[-21,29],[29,21],[20,-1],[-2,16],[-41,0],[-11,35],[-25,11],[-11,29],[37,14],[14,20],[45,-25],[4,-22],[8,-95],[29,-35],[23,62],[32,36],[25,0],[23,-21],[21,-21],[30,-11]],[[8478,5141],[-22,-58],[-21,-12],[-27,12],[-46,-3],[-24,-8],[-4,-45],[24,-53],[15,27],[52,20],[-2,-27],[-12,9],[-12,-35],[-25,-23],[27,-76],[-5,-20],[25,-68],[-1,-39],[-14,-17],[-11,20],[13,49],[-27,-23],[-7,16],[3,23],[-20,35],[3,57],[-19,-18],[2,-69],[1,-84],[-17,-9],[-12,18],[8,54],[-4,57],[-12,1],[-9,40],[12,39],[4,47],[14,89],[5,24],[24,44],[22,-18],[35,-8],[32,3],[27,43],[5,-14]],[[8574,5124],[-2,-51],[-14,6],[-4,-36],[11,-32],[-8,-7],[-11,38],[-8,75],[6,47],[9,22],[2,-32],[16,-5],[3,-25]],[[8045,5176],[5,-39],[19,-34],[18,12],[18,-4],[16,30],[13,5],[26,-17],[23,13],[14,82],[11,21],[10,67],[32,0],[24,-10]],[[8274,5302],[-16,-53],[20,-56],[-5,-28],[32,-54],[-33,-7],[-10,-40],[2,-54],[-27,-40],[-1,-59],[-10,-91],[-5,21],[-31,-26],[-11,36],[-20,3],[-14,19],[-33,-21],[-10,29],[-18,-4],[-23,7],[-4,79],[-14,17],[-13,50],[-4,52],[3,55],[16,39]],[[7939,4712],[-31,-1],[-24,49],[-35,48],[-12,36],[-21,48],[-14,44],[-21,83],[-24,49],[-9,51],[-10,46],[-25,37],[-14,51],[-21,33],[-29,65],[-3,30],[18,-2],[43,-12],[25,-57],[21,-40],[16,-25],[26,-63],[28,-1],[23,-41],[16,-49],[22,-27],[-12,-49],[16,-20],[10,-2],[5,-41],[10,-33],[20,-5],[14,-37],[-7,-74],[-1,-91]],[[7252,6841],[-17,-27],[-11,-55],[27,-23],[26,-29],[36,-33],[38,-8],[16,-30],[22,-5],[33,-14],[23,1],[4,23],[-4,38],[2,25]],[[7703,6727],[2,-22],[-10,-11],[2,-36],[-19,10],[-36,-41],[0,-33],[-15,-50],[-1,-29],[-13,-48],[-21,13],[-1,-61],[-7,-20],[3,-25],[-14,-14]],[[7472,6360],[-4,-21],[-19,1],[-34,-13],[2,-44],[-15,-35],[-40,-40],[-31,-69],[-21,-38],[-28,-38],[0,-27],[-13,-15],[-26,-21],[-12,-3],[-9,-45],[6,-77],[1,-49],[-11,-56],[0,-101],[-15,-2],[-12,-46],[8,-19],[-25,-17],[-10,-40],[-11,-17],[-26,55],[-13,83],[-11,60],[-9,28],[-15,56],[-7,74],[-5,37],[-25,81],[-12,115],[-8,75],[0,72],[-5,55],[-41,-35],[-19,7],[-36,71],[13,22],[-8,23],[-33,50]],[[6893,6457],[19,40],[61,-1],[-6,51],[-15,30],[-4,46],[-18,26],[31,62],[32,-4],[29,61],[18,60],[27,60],[-1,42],[24,34],[-23,29],[-9,40],[-10,52],[14,25],[42,-14],[31,9],[26,49]],[[4827,8240],[5,-42],[-21,-53],[-49,-35],[-40,9],[23,62],[-15,60],[38,46],[21,28]],[[6497,7255],[25,12],[19,33],[19,-1],[12,11],[20,-6],[31,-30],[22,-6],[31,-53],[21,-2],[3,-49]],[[6690,6820],[14,-31],[11,-36],[27,-26],[1,-52],[13,-10],[2,-27],[-40,-30],[-10,-69]],[[6708,6539],[-53,18],[-30,13],[-31,8],[-12,73],[-13,10],[-22,-11],[-28,-28],[-34,20],[-28,45],[-27,17],[-18,56],[-21,79],[-15,-10],[-17,20],[-11,-24]],[[6348,6825],[-15,32],[0,31],[-9,0],[5,43],[-15,45],[-34,32],[-19,56],[6,46],[14,21],[-2,34],[-18,18],[-18,70]],[[6243,7253],[-15,48],[5,18],[-8,68],[19,17]],[[6357,7321],[9,-43],[26,-13],[20,-29],[39,-10],[44,15],[2,14]],[[6348,6825],[-16,3]],[[6332,6828],[-19,5],[-20,-56]],[[6293,6777],[-52,4],[-78,119],[-41,41],[-34,16]],[[6088,6957],[-11,72]],[[6077,7029],[61,62],[11,71],[-3,43],[16,15],[14,37]],[[6176,7257],[12,9],[32,-8],[10,-15],[13,10]],[[4597,8984],[-7,-39],[31,-40],[-36,-45],[-80,-41],[-24,-10],[-36,8],[-78,19],[28,26],[-61,29],[49,12],[-1,17],[-58,14],[19,38],[42,9],[43,-40],[42,32],[35,-17],[45,32],[47,-4]],[[5992,6990],[-5,-19]],[[5987,6971],[-10,8],[-6,-39],[7,-7],[-7,-8],[-1,-15],[13,8]],[[5983,6918],[0,-23],[-14,-95]],[[5951,6902],[8,19],[-2,4],[8,27],[5,45],[4,15],[1,0]],[[5975,7012],[9,0],[3,11],[7,0]],[[5994,7023],[1,-24],[-4,-9],[1,0]],[[5431,7316],[-10,-46],[4,-19],[-6,-30],[-21,22],[-14,7],[-39,30],[4,30],[32,-6],[28,7],[22,5]],[[5255,7492],[17,-42],[-4,-78],[-13,4],[-11,-20],[-10,16],[-2,71],[-6,34],[15,-3],[14,18]],[[5383,7805],[-3,-29],[7,-25]],[[5387,7751],[-22,8],[-23,-20],[1,-30],[-3,-17],[9,-30],[26,-29],[14,-49],[31,-48],[22,0],[7,-13],[-8,-11],[25,-22],[20,-18],[24,-30],[3,-11],[-5,-22],[-16,28],[-24,10],[-12,-39],[20,-21],[-3,-31],[-11,-4],[-15,-50],[-12,-5],[0,18],[6,32],[6,12],[-11,35],[-8,29],[-12,8],[-8,25],[-18,11],[-12,24],[-21,4],[-21,26],[-26,39],[-19,34],[-8,58],[-14,7],[-23,20],[-12,-8],[-16,-28],[-12,-4]],[[2845,6150],[19,-5],[14,-15],[5,-16],[-19,-1],[-9,-10],[-15,10],[-16,21],[3,14],[12,4],[6,-2]],[[5992,6990],[31,-24],[54,63]],[[6088,6957],[-5,-8],[-56,-30],[28,-59],[-9,-10],[-5,-20],[-21,-8],[-7,-21],[-12,-19],[-31,10]],[[5970,6792],[-1,8]],[[5983,6918],[4,17],[0,36]],[[8739,7075],[4,-20],[-16,-36],[-11,19],[-15,-14],[-7,-34],[-18,16],[0,28],[15,36],[16,-7],[12,25],[20,-13]],[[8915,7252],[-10,-47],[4,-30],[-14,-42],[-35,-27],[-49,-4],[-40,-67],[-19,22],[-1,44],[-48,-13],[-33,-27],[-32,-2],[28,-43],[-19,-101],[-18,-24],[-13,23],[7,53],[-18,17],[-11,41],[26,18],[15,37],[28,30],[20,41],[55,17],[30,-12],[29,105],[19,-28],[40,59],[16,23],[18,72],[-5,67],[11,37],[30,11],[15,-82],[-1,-48],[-25,-59],[0,-61]],[[8997,7667],[19,-12],[20,25],[6,-67],[-41,-16],[-25,-59],[-43,41],[-15,-65],[-31,-1],[-4,59],[14,46],[29,3],[8,82],[9,46],[32,-62],[22,-20]],[[6970,7554],[-15,-10],[-37,-42],[-12,-42],[-11,0],[-7,28],[-36,2],[-5,48],[-14,0],[2,60],[-33,43],[-48,-5],[-32,-8],[-27,53],[-22,22],[-43,43],[-6,5],[-71,-35],[1,-218]],[[6554,7498],[-14,-3],[-20,46],[-18,17],[-32,-12],[-12,-20]],[[6458,7526],[-2,14],[7,25],[-5,21],[-32,20],[-13,53],[-15,15],[-1,19],[27,-6],[1,44],[23,9],[25,-9],[5,58],[-5,36],[-28,-2],[-24,14],[-32,-26],[-26,-12]],[[6363,7799],[-14,9],[3,31],[-18,39],[-20,-2],[-24,40],[16,45],[-8,12],[22,65],[29,-34],[3,43],[58,64],[43,2],[61,-41],[33,-24],[30,25],[44,1],[35,-30],[8,17],[39,-2],[7,28],[-45,40],[27,29],[-5,16],[26,15],[-20,41],[13,20],[104,21],[13,14],[70,22],[25,24],[50,-12],[9,-61],[29,14],[35,-20],[-2,-32],[27,3],[69,56],[-10,-19],[35,-46],[62,-150],[15,31],[39,-34],[39,16],[16,-11],[13,-34],[20,-12],[11,-25],[36,8],[15,-36]],[[7229,7559],[-17,9],[-14,21],[-42,6],[-46,2],[-10,-6],[-39,24],[-16,-12],[-4,-35],[-46,21],[-18,-9],[-7,-26]],[[6155,4958],[-20,-24],[-7,-24],[-10,-4],[-4,-42],[-9,-24],[-5,-39],[-12,-20]],[[6088,4781],[-40,59],[-1,35],[-101,120],[-5,6]],[[5941,5001],[0,63],[8,24],[14,39],[10,43],[-13,68],[-3,30],[-13,41]],[[5944,5309],[17,35],[19,39]],[[6162,5289],[-24,-67],[0,-215],[17,-49]],[[7046,7387],[-53,-9],[-34,19],[-30,-4],[3,34],[30,-10],[10,18]],[[6972,7435],[21,-6],[36,43],[-33,31],[-20,-15],[-21,22],[24,39],[-9,5]],[[7849,5777],[-7,72],[18,49],[36,11],[26,-8]],[[7922,5901],[23,-23],[12,40],[25,-21]],[[7982,5897],[6,-40],[-3,-71],[-47,-45],[13,-36],[-30,-4],[-24,-24]],[[7897,5677],[-23,9],[-11,30],[-14,61]],[[8564,7339],[24,-70],[7,-38],[0,-68],[-10,-33],[-25,-11],[-22,-25],[-25,-5],[-3,32],[5,45],[-13,61],[21,10],[-19,51]],[[8504,7288],[2,5],[12,-2],[11,27],[20,2],[11,4],[4,15]],[[5557,7574],[5,13]],[[5562,7587],[7,4],[4,20],[5,3],[4,-8],[5,-4],[3,-10],[5,-2],[5,-11],[4,0],[-3,-14],[-3,-7],[1,-5]],[[5599,7553],[-6,-2],[-17,-9],[-1,-12],[-4,0]],[[6332,6828],[6,-26],[-3,-13],[9,-45]],[[6344,6744],[-19,-1],[-7,28],[-25,6]],[[7922,5901],[9,26],[1,50],[-22,52],[-2,58],[-21,48],[-21,4],[-6,-20],[-16,-2],[-8,10],[-30,-35],[0,53],[7,62],[-19,3],[-2,36],[-12,18]],[[7780,6264],[6,21],[24,39]],[[7837,6385],[17,-47],[12,-54],[34,0],[11,-52],[-18,-15],[-8,-21],[34,-36],[23,-70],[17,-52],[21,-41],[7,-41],[-5,-59]],[[5975,7012],[10,49],[14,41],[0,2]],[[5999,7104],[13,-3],[4,-23],[-15,-22],[-7,-33]],[[4785,5315],[-7,0],[-29,28],[-25,45],[-24,32],[-18,38]],[[4682,5458],[6,19],[2,17],[12,33],[13,27]],[[5412,6408],[-20,-22],[-15,33],[-44,25]],[[5263,6848],[13,14],[3,25],[-3,24],[19,23],[8,19],[14,17],[2,45]],[[5319,7015],[32,-20],[12,5],[23,-10],[37,-26],[13,-53],[25,-11],[39,-25],[30,-29],[13,15],[13,27],[-6,45],[9,29],[20,28],[19,8],[37,-12],[10,-27],[10,0],[9,-10],[28,-7],[6,-19]],[[5694,6357],[0,-118],[-32,0],[0,-25]],[[5662,6214],[-111,113],[-111,113],[-28,-32]],[[7271,5502],[-4,-62],[-12,-16],[-24,-14],[-13,47],[-5,85],[13,96],[19,-33],[13,-42],[13,-61]],[[5804,3347],[10,-18],[-9,-29],[-4,-19],[-16,-9],[-5,-19],[-10,-6],[-21,46],[15,37],[15,23],[13,12],[12,-18]],[[5631,8267],[-2,15],[3,16],[-13,10],[-29,10]],[[5590,8318],[-6,50]],[[5584,8368],[32,18],[47,-4],[27,6],[4,-12],[15,-4],[26,-29]],[[5652,8242],[-7,19],[-14,6]],[[5584,8368],[1,44],[14,37],[26,20],[22,-44],[22,1],[6,46]],[[5757,8453],[14,-14],[2,-28],[9,-35]],[[4759,6691],[-4,0],[0,-31],[-17,-2],[-9,-14],[-13,0],[-10,8],[-23,-6],[-9,-46],[-9,-5],[-13,-74],[-38,-64],[-9,-81],[-12,-27],[-3,-21],[-63,-5]],[[4527,6323],[1,27],[11,17],[9,30],[-2,20],[10,42],[15,38],[9,9],[8,35],[0,31],[10,37],[19,21],[18,60],[0,1],[14,23],[26,6],[22,41],[14,16],[23,49],[-7,73],[10,51],[4,31],[18,40],[28,27],[21,25],[18,61],[9,36],[20,0],[17,-25],[26,4],[29,-13],[12,-1]],[[5739,7906],[6,9],[19,6],[20,-19],[12,-2],[12,-16],[-2,-20],[11,-9],[4,-25],[9,-15],[-2,-9],[5,-6],[-7,-4],[-16,1],[-3,9],[-6,-5],[2,-11],[-7,-19],[-5,-20],[-7,-6]],[[5784,7745],[-5,27],[3,25],[-1,26],[-16,35],[-9,25],[-9,17],[-8,6]],[[6376,4321],[7,-25],[7,-39],[4,-71],[7,-28],[-2,-28],[-5,-18],[-10,35],[-5,-18],[5,-43],[-2,-25],[-8,-14],[-1,-50],[-11,-69],[-14,-81],[-17,-112],[-11,-82],[-12,-69],[-23,-14],[-24,-25],[-16,15],[-22,21],[-8,31],[-2,53],[-10,47],[-2,42],[5,43],[13,10],[0,20],[13,45],[2,37],[-6,28],[-5,38],[-2,54],[9,33],[4,38],[14,2],[15,12],[11,10],[12,1],[16,34],[23,36],[8,30],[-4,25],[12,-7],[15,41],[1,36],[9,26],[10,-25]],[[2301,6586],[-10,-52],[-5,-43],[-2,-79],[-3,-29],[5,-32],[9,-29],[5,-45],[19,-44],[6,-34],[11,-29],[29,-16],[12,-25],[24,17],[21,6],[21,11],[18,10],[17,24],[7,34],[2,50],[5,17],[19,16],[29,13],[25,-2],[17,5],[6,-12],[-1,-29],[-15,-35],[-6,-36],[5,-10],[-4,-26],[-7,-46],[-7,15],[-6,-1]],[[2438,5916],[-32,64],[-14,19],[-23,16],[-15,-5],[-22,-22],[-14,-6],[-20,16],[-21,11],[-26,27],[-21,8],[-31,28],[-23,28],[-7,16],[-16,3],[-28,19],[-12,27],[-30,34],[-14,37],[-6,29],[9,5],[-3,17],[7,16],[0,20],[-10,27],[-2,23],[-9,30],[-25,59],[-28,46],[-13,37],[-24,24],[-5,14],[4,37],[-14,13],[-17,29],[-7,41],[-14,5],[-17,31],[-13,29],[-1,19],[-15,44],[-10,45],[1,23],[-20,23],[-10,-2],[-15,16],[-5,-24],[5,-28],[2,-45],[10,-24],[21,-41],[4,-14],[4,-4],[4,-20],[5,1],[6,-38],[8,-15],[6,-21],[17,-30],[10,-55],[8,-26],[8,-28],[1,-31],[13,-2],[12,-27],[10,-26],[-1,-11],[-12,-21],[-5,0],[-7,36],[-18,33],[-20,29],[-14,15],[1,43],[-5,32],[-13,19],[-19,26],[-4,-8],[-7,16],[-17,14],[-16,34],[2,5],[11,-4],[11,22],[1,27],[-22,42],[-16,17],[-10,36],[-11,39],[-12,47],[-12,54]],[[1746,6980],[32,4],[35,7],[-2,-12],[41,-29],[64,-41],[55,0],[22,0],[0,24],[48,0],[10,-20],[15,-19],[16,-26],[9,-31],[7,-32],[15,-18],[23,-18],[17,47],[23,1],[19,-24],[14,-40],[10,-35],[16,-34],[6,-41],[8,-28],[22,-18],[20,-13],[10,2]],[[5599,7553],[9,4],[13,1]],[[4661,5921],[10,11],[4,35],[9,1],[20,-16],[15,11],[11,-4],[4,13],[112,1],[6,42],[-5,7],[-13,255],[-14,255],[43,1]],[[5118,6189],[0,-136],[-15,-39],[-2,-37],[-25,-9],[-38,-5],[-10,-21],[-18,-3]],[[4680,5793],[1,18],[-2,23],[-11,16],[-5,34],[-2,37]],[[7737,5644],[-3,44],[9,45],[-10,35],[3,65],[-12,30],[-9,71],[-5,75],[-12,49],[-18,-30],[-32,-42],[-15,5],[-17,14],[9,73],[-6,56],[-21,68],[3,21],[-16,7],[-20,49]],[[7780,6264],[-16,-14],[-16,-26],[-20,-2],[-12,-64],[-12,-11],[14,-52],[17,-43],[12,-39],[-11,-51],[-9,-11],[6,-30],[19,-47],[3,-33],[0,-27],[11,-54],[-16,-55],[-13,-61]],[[5538,7532],[-6,4],[-8,19],[-12,12]],[[5533,7629],[8,-10],[4,-9],[9,-6],[10,-12],[-2,-5]],[[7437,7970],[29,10],[53,51],[42,28],[24,-18],[29,-1],[19,-28],[28,-2],[40,-15],[27,41],[-11,35],[28,61],[31,-24],[26,-7],[32,-15],[6,-44],[39,-25],[26,11],[36,7],[27,-7],[28,-29],[16,-30],[26,1],[35,-10],[26,15],[36,9],[41,42],[17,-6],[14,-20],[33,5]],[[5959,4377],[21,5],[34,-17],[7,8],[19,1],[10,18],[17,-1],[30,23],[22,34]],[[6119,4448],[5,-26],[-1,-59],[3,-52],[1,-92],[5,-29],[-8,-43],[-11,-41],[-18,-36],[-25,-23],[-31,-28],[-32,-64],[-10,-11],[-20,-42],[-11,-13],[-3,-42],[14,-45],[5,-35],[0,-17],[5,3],[-1,-58],[-4,-28],[6,-10],[-4,-25],[-11,-21],[-23,-20],[-34,-32],[-12,-21],[3,-25],[7,-4],[-3,-31]],[[5911,3478],[-21,0]],[[5890,3478],[-2,26],[-4,27]],[[5884,3531],[-3,21],[5,66],[-7,42],[-13,83]],[[5866,3743],[29,67],[7,43],[5,5],[3,35],[-5,17],[1,44],[6,41],[0,75],[-15,19],[-13,4],[-6,15],[-13,12],[-23,-1],[-2,22]],[[5840,4141],[-2,42],[84,49]],[[5922,4232],[16,-28],[8,5],[11,-15],[1,-23],[-6,-28],[2,-42],[19,-36],[8,41],[12,12],[-2,76],[-12,43],[-10,19],[-10,-1],[-7,77],[7,45]],[[4661,5921],[-18,41],[-17,43],[-18,16],[-13,17],[-16,-1],[-13,-12],[-14,5],[-10,-19]],[[4542,6011],[-2,32],[8,29],[3,55],[-3,59],[-3,29],[2,30],[-7,28],[-14,25]],[[4526,6298],[6,20],[108,-1],[-5,86],[7,30],[26,5],[-1,152],[91,-4],[0,90]],[[5922,4232],[-15,15],[9,55],[9,21],[-6,49],[6,48],[5,16],[-7,50],[-14,26]],[[5909,4512],[28,-11],[5,-16],[10,-28],[7,-80]],[[7836,5425],[7,-5],[16,-36],[12,-40],[2,-39],[-3,-27],[2,-21],[2,-35],[10,-16],[11,-52],[-1,-20],[-19,-4],[-27,44],[-32,47],[-4,30],[-16,39],[-4,49],[-10,32],[4,43],[-7,25]],[[7779,5439],[5,11],[23,-26],[2,-30],[18,7],[9,24]],[[8045,5176],[21,-20],[21,11],[6,50],[12,11],[33,13],[20,47],[14,37]],[[8206,5379],[22,41],[14,47],[11,0],[14,-30],[1,-26],[19,-16],[23,-18],[-2,-23],[-19,-3],[5,-29],[-20,-20]],[[5453,3369],[-20,45],[-11,43],[-6,58],[-7,42],[-9,91],[-1,71],[-3,32],[-11,25],[-15,48],[-14,71],[-6,37],[-23,58],[-2,45]],[[5644,4022],[23,14],[18,-4],[11,-13],[0,-5]],[[5552,3594],[0,-218],[-25,-30],[-15,-4],[-17,11],[-13,4],[-4,25],[-11,17],[-14,-30]],[[9604,3812],[23,-36],[14,-28],[-10,-14],[-16,16],[-19,27],[-18,31],[-19,42],[-4,20],[12,-1],[16,-20],[12,-20],[9,-17]],[[5412,6408],[7,-92],[10,-15],[1,-19],[11,-20],[-6,-25],[-11,-120],[-1,-77],[-35,-56],[-12,-78],[11,-22],[0,-38],[18,-1],[-3,-28]],[[5393,5795],[-5,-1],[-19,64],[-6,3],[-22,-33],[-21,17],[-15,3],[-8,-8],[-17,2],[-16,-25],[-14,-2],[-34,31],[-13,-15],[-14,1],[-10,23],[-28,22],[-30,-7],[-7,-13],[-4,-34],[-8,-24],[-2,-53]],[[5236,5339],[-29,-21],[-11,3],[-10,-13],[-23,1],[-15,37],[-9,43],[-19,39],[-21,-1],[-25,0]],[[2619,5713],[-10,18],[-13,24],[-6,20],[-12,19],[-13,26],[3,9],[4,-9],[2,5]],[[2690,5943],[-2,-5],[-2,-13],[3,-22],[-6,-20],[-3,-24],[-1,-26],[1,-15],[1,-27],[-4,-6],[-3,-25],[2,-15],[-6,-16],[2,-16],[4,-9]],[[5092,8091],[14,16],[24,87],[38,25],[23,-2]],[[5863,9167],[-47,-24],[-22,-5]],[[5573,9140],[-17,-2],[-4,-39],[-53,9],[-7,-33],[-27,1],[-18,-42],[-28,-66],[-43,-83],[10,-20],[-10,-24],[-27,1],[-18,-55],[2,-79],[17,-29],[-9,-70],[-23,-40],[-12,-34]],[[5306,8535],[-19,36],[-55,-69],[-37,-13],[-38,30],[-10,63],[-9,137],[26,38],[73,49],[55,61],[51,82],[66,115],[47,44],[76,74],[61,26],[46,-3],[42,49],[51,-3],[50,12],[87,-43],[-36,-16],[30,-37]],[[5686,9657],[-62,-24],[-49,13],[19,16],[-16,19],[57,11],[11,-22],[40,-13]],[[5506,9766],[92,-44],[-70,-23],[-15,-44],[-25,-11],[-13,-49],[-34,-2],[-59,36],[25,21],[-42,17],[-54,50],[-21,46],[75,21],[16,-20],[39,0],[11,21],[40,2],[35,-21]],[[5706,9808],[55,-21],[-41,-32],[-81,-7],[-82,10],[-5,16],[-40,1],[-30,27],[86,17],[40,-14],[28,17],[70,-14]],[[9805,2640],[6,-24],[20,24],[8,-25],[0,-25],[-10,-27],[-18,-44],[-14,-24],[10,-28],[-22,-1],[-23,-22],[-8,-39],[-16,-60],[-21,-26],[-14,-17],[-26,1],[-18,20],[-30,4],[-5,22],[15,43],[35,59],[18,11],[20,22],[24,31],[16,31],[13,44],[10,15],[5,33],[19,27],[6,-25]],[[9849,2922],[20,-63],[1,41],[13,-16],[4,-45],[22,-19],[19,-5],[16,22],[14,-6],[-7,-53],[-8,-34],[-22,1],[-7,-18],[3,-25],[-4,-11],[-11,-32],[-14,-41],[-21,-23],[-5,15],[-12,9],[16,48],[-9,33],[-30,23],[1,22],[20,20],[5,46],[-1,38],[-12,40],[1,10],[-13,25],[-22,52],[-12,42],[11,4],[15,-33],[21,-15],[8,-52]],[[6475,6041],[-9,41],[-22,98]],[[6444,6180],[83,59],[19,118],[-13,42]],[[6566,6530],[12,-40],[16,-22],[20,-8],[17,-10],[12,-34],[8,-20],[10,-7],[0,-13],[-10,-36],[-5,-16],[-12,-19],[-10,-41],[-13,3],[-5,-14],[-5,-30],[4,-39],[-3,-7],[-13,0],[-17,-22],[-3,-29],[-6,-12],[-18,0],[-10,-15],[0,-24],[-14,-16],[-15,5],[-19,-19],[-12,-4]],[[6557,6597],[8,20],[3,-5],[-2,-25],[-4,-10]],[[6893,6457],[-20,15],[-9,43],[-21,45],[-51,-12],[-45,-1],[-39,-8]],[[2836,5484],[-9,17],[-6,32],[7,16],[-7,4],[-5,20],[-14,16],[-12,-4],[-6,-20],[-11,-15],[-6,-2],[-3,-13],[13,-32],[-7,-7],[-4,-9],[-13,-3],[-5,35],[-4,-10],[-9,4],[-5,24],[-12,3],[-7,7],[-12,0],[-1,-13],[-3,9]],[[2707,5623],[10,-22],[-1,-12],[11,-3],[3,5],[8,-14],[13,4],[12,15],[17,12],[9,17],[16,-3],[-1,-6],[15,-2],[12,-10],[10,-18],[10,-16]],[[3045,3974],[-28,33],[-2,25],[-55,59],[-50,65],[-22,36],[-11,49],[4,17],[-23,77],[-28,109],[-26,118],[-11,27],[-9,43],[-21,39],[-20,24],[9,26],[-14,57],[9,41],[22,37]],[[8510,5555],[2,-40],[2,-33],[-9,-54],[-11,60],[-13,-30],[9,-43],[-8,-28],[-32,35],[-8,42],[8,28],[-17,28],[-9,-24],[-13,2],[-21,-33],[-4,17],[11,50],[17,17],[15,22],[10,-27],[21,17],[5,26],[19,1],[-1,46],[22,-28],[3,-30],[2,-21]],[[8443,5665],[-10,-20],[-9,-37],[-8,-17],[-17,40],[5,16],[7,17],[3,36],[16,4],[-5,-40],[21,57],[-3,-56]],[[8291,5608],[-37,-56],[14,41],[20,37],[16,41],[15,58],[5,-48],[-18,-33],[-15,-40]],[[8385,5760],[16,-18],[18,0],[0,-25],[-13,-25],[-18,-18],[-1,28],[2,30],[-4,28]],[[8485,5776],[8,-66],[-21,16],[0,-20],[7,-37],[-13,-13],[-1,42],[-9,3],[-4,36],[16,-5],[0,22],[-17,45],[27,-1],[7,-22]],[[8375,5830],[-7,-51],[-12,29],[-15,45],[24,-2],[10,-21]],[[8369,6151],[17,-17],[9,15],[2,-15],[-4,-24],[9,-43],[-7,-49],[-16,-19],[-5,-48],[7,-47],[14,-7],[13,7],[34,-32],[-2,-32],[9,-15],[-3,-27],[-22,29],[-10,31],[-7,-22],[-18,36],[-25,-9],[-14,13],[1,25],[9,15],[-8,13],[-4,-21],[-14,34],[-4,26],[-1,56],[11,-19],[3,92],[9,54],[17,0]],[[9329,4655],[-8,-6],[-12,22],[-12,38],[-6,45],[4,6],[3,-18],[8,-13],[14,-38],[13,-20],[-4,-16]],[[9221,4734],[-15,-5],[-4,-17],[-15,-14],[-15,-14],[-14,0],[-23,18],[-16,16],[2,18],[25,-8],[15,4],[5,29],[4,1],[2,-31],[16,4],[8,20],[16,21],[-4,35],[17,1],[6,-9],[-1,-33],[-9,-36]],[[8916,4904],[48,-41],[51,-34],[19,-30],[16,-30],[4,-34],[46,-37],[7,-31],[-25,-7],[6,-39],[25,-39],[18,-62],[15,2],[-1,-27],[22,-10],[-9,-11],[30,-25],[-3,-17],[-18,-4],[-7,16],[-24,6],[-28,9],[-22,38],[-16,32],[-14,52],[-36,26],[-24,-17],[-17,-20],[4,-43],[-22,-20],[-16,9],[-28,3]],[[9253,4792],[-9,-16],[-5,35],[-6,23],[-13,19],[-16,25],[-20,18],[8,14],[15,-17],[9,-13],[12,-14],[11,-25],[11,-19],[3,-30]],[[5392,8233],[19,18],[43,27],[35,20],[28,-10],[2,-14],[27,-1]],[[5546,8273],[34,-7],[51,1]],[[5653,8105],[14,-52],[-3,-17],[-14,-6],[-25,-50],[7,-26],[-6,3]],[[5626,7957],[-26,23],[-20,-8],[-13,6],[-17,-13],[-14,21],[-11,-8],[-2,4]],[[3159,6151],[14,-5],[5,-12],[-7,-15],[-21,1],[-17,-2],[-1,25],[4,9],[23,-1]],[[8628,7562],[4,-10]],[[8632,7552],[-11,3],[-12,-20],[-8,-20],[1,-42],[-14,-13],[-5,-11],[-11,-17],[-18,-10],[-12,-16],[-1,-25],[-3,-7],[11,-9],[15,-26]],[[8504,7288],[-13,11],[-4,-11],[-8,-5],[-1,11],[-7,5],[-8,10],[8,26],[7,7],[-3,11],[7,31],[-2,10],[-16,7],[-13,15]],[[4792,7249],[-11,-15],[-14,8],[-15,-6],[5,46],[-3,36],[-12,6],[-7,22],[2,39],[11,21],[2,24],[6,36],[-1,25],[-5,21],[-1,20]],[[6411,6520],[-2,43],[7,31],[8,6],[8,-18],[1,-35],[-6,-35]],[[6427,6512],[-8,-4],[-8,12]],[[5630,7886],[12,13],[17,-7],[18,0],[13,-14],[10,9],[20,5],[7,14],[12,0]],[[5784,7745],[12,-11],[13,9],[13,-10]],[[5822,7733],[0,-15],[-13,-13],[-9,6],[-7,-71]],[[5629,7671],[-5,10],[6,10],[-7,7],[-8,-13],[-17,17],[-2,25],[-17,14],[-3,18],[-15,24]],[[8989,8056],[28,-105],[-41,19],[-17,-85],[27,-61],[-1,-41],[-21,36],[-18,-46],[-5,50],[3,57],[-3,64],[6,45],[2,79],[-17,58],[3,80],[25,28],[-11,27],[13,8],[7,-39],[10,-57],[-1,-58],[11,-59]],[[5546,8273],[6,26],[38,19]],[[0,9132],[68,-45],[73,-59],[-3,-37],[19,-15],[-6,43],[75,-8],[55,-56],[-28,-26],[-46,-6],[0,-57],[-11,-13],[-26,2],[-22,21],[-36,17],[-7,26],[-28,9],[-31,-7],[-16,20],[6,22],[-33,-14],[13,-28],[-16,-25]],[[0,8896],[0,236]],[[0,9282],[9999,-40],[-30,-3],[-5,19],[-9964,24]],[[0,9282],[4,3],[23,0],[40,-17],[-2,-8],[-29,-14],[-36,-4],[0,40]],[[8988,9383],[-42,-1],[-57,7],[-5,3],[27,23],[34,6],[40,-23],[3,-15]],[[9186,9493],[-32,-23],[-44,5],[-52,23],[7,20],[51,-9],[70,-16]],[[9029,9522],[-22,-44],[-102,1],[-46,-14],[-55,39],[15,40],[37,11],[73,-2],[100,-31]],[[6598,9235],[-17,-5],[-91,8],[-7,26],[-50,16],[-4,32],[28,13],[-1,32],[55,50],[-25,7],[66,52],[-7,27],[62,31],[91,38],[93,11],[48,22],[54,8],[19,-23],[-19,-19],[-98,-29],[-85,-28],[-86,-57],[-42,-57],[-43,-57],[5,-49],[54,-49]],[[0,8896],[9963,-26],[-36,4],[25,-31],[17,-49],[13,-16],[3,-24],[-7,-16],[-52,13],[-78,-44],[-25,-7],[-42,-42],[-40,-36],[-11,-27],[-39,41],[-73,-46],[-12,22],[-27,-26],[-37,8],[-9,-38],[-33,-58],[1,-24],[31,-13],[-4,-86],[-25,-2],[-12,-49],[11,-26],[-48,-30],[-10,-67],[-41,-15],[-9,-60],[-40,-55],[-10,41],[-12,86],[-15,131],[13,82],[23,35],[2,28],[43,13],[50,75],[47,60],[50,48],[23,83],[-34,-5],[-17,-49],[-70,-65],[-23,73],[-72,-20],[-69,-99],[23,-36],[-62,-16],[-43,-6],[2,43],[-43,9],[-35,-29],[-85,10],[-91,-18],[-90,-115],[-106,-139],[43,-8],[14,-37],[27,-13],[18,30],[30,-4],[40,-65],[1,-50],[-21,-59],[-3,-71],[-12,-94],[-42,-86],[-9,-41],[-38,-69],[-38,-68],[-18,-35],[-37,-34],[-17,-1],[-17,29],[-38,-44],[-4,-19]],[[6363,7799],[-12,-35],[-27,-10],[-28,-61],[25,-56],[-2,-40],[30,-70]],[[6109,7624],[-35,49],[-32,23],[-24,34],[20,10],[23,49],[-15,24],[41,24],[-1,13],[-25,-10]],[[6061,7840],[1,26],[14,17],[27,4],[5,20],[-7,33],[12,30],[-1,18],[-41,19],[-16,-1],[-17,28],[-21,-9],[-35,20],[0,12],[-10,26],[-22,3],[-2,18],[7,12],[-18,33],[-29,-5],[-8,3],[-7,-14],[-11,3]],[[5777,8571],[31,33],[-29,28]],[[5863,9167],[29,20],[46,-35],[76,-14],[105,-67],[21,-28],[2,-40],[-31,-31],[-45,-15],[-124,44],[-21,-7],[45,-43],[2,-28],[2,-60],[36,-18],[22,-15],[3,28],[-17,26],[18,22],[67,-37],[24,15],[-19,43],[65,58],[25,-4],[26,-20],[16,40],[-23,35],[14,36],[-21,36],[78,-18],[16,-34],[-35,-7],[0,-33],[22,-20],[43,13],[7,38],[58,28],[97,50],[20,-3],[-27,-35],[35,-7],[19,21],[52,1],[42,25],[31,-36],[32,39],[-29,35],[14,19],[82,-18],[39,-18],[100,-68],[19,31],[-28,31],[-1,13],[-34,6],[10,28],[-15,46],[-1,19],[51,53],[18,54],[21,11],[74,-15],[5,-33],[-26,-48],[17,-19],[9,-41],[-6,-81],[31,-36],[-12,-40],[-55,-84],[32,-8],[11,21],[31,15],[7,29],[24,29],[-16,33],[13,39],[-31,5],[-6,33],[22,59],[-36,48],[50,40],[-7,42],[14,2],[15,-33],[-11,-57],[29,-11],[-12,43],[46,23],[58,3],[51,-34],[-25,49],[-2,63],[48,12],[67,-2],[60,7],[-23,31],[33,39],[31,2],[54,29],[74,8],[9,16],[73,6],[23,-14],[62,32],[51,-1],[8,25],[26,25],[66,25],[48,-19],[-38,-15],[63,-9],[7,-29],[25,14],[82,-1],[62,-29],[23,-22],[-7,-30],[-31,-18],[-73,-33],[-21,-17],[35,-8],[41,-15],[25,11],[14,-38],[12,15],[44,10],[90,-10],[6,-28],[116,-9],[2,46],[59,-11],[44,1],[45,-32],[13,-37],[-17,-25],[35,-47],[44,-24],[27,62],[44,-26],[48,16],[53,-18],[21,16],[45,-8],[-20,55],[37,25],[251,-38],[24,-35],[72,-45],[112,11],[56,-10],[23,-24],[-4,-44],[35,-16],[37,12],[49,1],[52,-11],[53,6],[49,-52],[34,19],[-23,37],[13,27],[88,-17],[58,4],[80,-29],[-9960,-25]],[[7918,9684],[-157,-23],[51,77],[23,7],[21,-4],[70,-33],[-8,-24]],[[6420,9816],[-37,-8],[-25,-4],[-4,-10],[-33,-10],[-30,14],[16,19],[-62,2],[54,10],[43,1],[5,-16],[16,14],[26,10],[42,-13],[-11,-9]],[[7775,9718],[-60,-8],[-78,17],[-46,23],[-21,42],[-38,12],[72,40],[60,14],[54,-30],[64,-57],[-7,-53]],[[5844,4990],[11,-33],[-1,-35],[-8,-7]],[[5821,4978],[7,-6],[16,18]],[[4526,6298],[1,25]],[[6188,6023],[-4,26],[-8,17],[-2,24],[-15,21],[-15,50],[-7,48],[-20,40],[-12,10],[-18,56],[-4,41],[2,35],[-16,66],[-13,23],[-15,12],[-10,34],[2,13],[-8,31],[-8,13],[-11,44],[-17,48],[-14,40],[-14,0],[5,33],[1,20],[3,24]],[[6344,6744],[11,-51],[14,-13],[5,-21],[18,-25],[2,-24],[-3,-20],[4,-20],[8,-16],[4,-20],[4,-14]],[[6427,6512],[5,-22]],[[6444,6180],[-80,-23],[-26,-26],[-20,-62],[-13,-10],[-7,20],[-11,-3],[-27,6],[-5,5],[-32,-1],[-7,-5],[-12,15],[-7,-29],[3,-25],[-12,-19]],[[5943,5617],[-4,1],[0,29],[-3,20],[-14,24],[-4,42],[4,44],[-13,4],[-2,-13],[-17,-3],[7,-17],[2,-36],[-15,-32],[-14,-43],[-14,-6],[-23,34],[-11,-12],[-3,-17],[-14,-11],[-1,-12],[-28,0],[-3,12],[-20,2],[-10,-10],[-8,5],[-14,34],[-5,17],[-20,-9],[-8,-27],[-7,-53],[-10,-11],[-8,-6]],[[5663,5567],[-2,2]],[[5635,5716],[0,14],[-10,17],[-1,35],[-5,23],[-10,-4],[3,22],[7,25],[-3,24],[9,18],[-6,14],[7,36],[13,44],[24,-4],[-1,234]],[[6023,6357],[9,-58],[-6,-10],[4,-61],[11,-71],[10,-14],[15,-22]],[[5943,5624],[0,-7]],[[5943,5617],[0,-46]],[[5944,5309],[-17,-28],[-20,1],[-22,-14],[-18,13],[-11,-16]],[[5682,5544],[-19,23]],[[4535,5861],[-11,46],[-14,21],[12,11],[14,41],[6,31]],[[4536,5789],[-4,45]],[[9502,4438],[8,-20],[-19,0],[-11,37],[17,-15],[5,-2]],[[9467,4474],[-11,-1],[-17,6],[-5,9],[1,23],[19,-9],[9,-12],[4,-16]],[[9490,4490],[-4,-11],[-21,52],[-5,35],[9,0],[10,-47],[11,-29]],[[9440,4565],[1,-12],[-22,25],[-15,21],[-10,20],[4,6],[13,-14],[23,-27],[6,-19]],[[9375,4623],[-5,-3],[-13,14],[-11,24],[1,10],[17,-25],[11,-20]],[[4682,5458],[-8,5],[-20,24],[-14,31],[-5,22],[-3,43]],[[2561,5848],[-3,-14],[-16,1],[-10,6],[-12,12],[-15,3],[-8,13]],[[6198,5735],[9,-11],[5,-25],[13,-24],[14,-1],[26,16],[30,7],[25,18],[13,4],[10,11],[16,2]],[[6359,5732],[0,-1],[0,-25],[0,-59],[0,-31],[-13,-36],[-19,-50]],[[6359,5732],[9,1],[13,9],[14,6],[14,20],[10,0],[1,-16],[-3,-35],[0,-31],[-6,-21],[-7,-64],[-14,-66],[-17,-75],[-24,-87],[-23,-66],[-33,-81],[-28,-48],[-42,-58],[-25,-45],[-31,-72],[-6,-31],[-6,-14]],[[3412,5410],[34,-11],[2,10],[23,4],[30,-15]],[[3489,5306],[10,-35],[-4,-25]],[[5626,7957],[-8,-15],[-5,-24]],[[5380,7746],[7,5]],[[5663,8957],[-47,-17],[-27,-41],[4,-36],[-44,-48],[-54,-50],[-20,-84],[20,-41],[26,-33],[-25,-67],[-29,-14],[-11,-99],[-15,-55],[-34,6],[-16,-47],[-32,-3],[-9,56],[-23,67],[-21,84]],[[5890,3478],[-5,-26],[-17,-6],[-16,32],[0,20],[7,22],[3,17],[8,5],[14,-11]],[[5999,7104],[-2,45],[7,25]],[[6004,7174],[7,13],[7,13],[2,33],[9,-12],[31,17],[14,-12],[23,1],[32,22],[15,-1],[32,9]],[[5051,5420],[-22,-12]],[[7849,5777],[-25,28],[-24,-2],[4,47],[-24,0],[-2,-65],[-15,-87],[-10,-52],[2,-43],[18,-2],[12,-53],[5,-52],[15,-33],[17,-7],[14,-31]],[[7779,5439],[-11,23],[-4,29],[-15,34],[-14,28],[-4,-35],[-5,33],[3,37],[8,56]],[[6883,7252],[16,60],[-6,44],[-20,14],[7,26],[23,-3],[13,33],[9,38],[37,13],[-6,-27],[4,-17],[12,2]],[[6497,7255],[-5,42],[4,62],[-22,20],[8,40],[-19,4],[6,49],[26,-14],[25,19],[-20,35],[-8,34],[-23,-15],[-3,-43],[-8,38]],[[6554,7498],[31,1],[-4,29],[24,21],[23,34],[37,-31],[3,-47],[11,-12],[30,2],[9,-10],[14,-61],[32,-41],[18,-28],[29,-29],[37,-25],[-1,-36]],[[8471,4532],[3,14],[24,13],[19,2],[9,8],[10,-8],[-10,-16],[-29,-25],[-23,-17]],[[3286,5693],[16,8],[6,-2],[-1,-44],[-23,-7],[-5,6],[8,16],[-1,23]],[[5233,7240],[31,24],[19,-7],[-1,-30],[24,22],[2,-12],[-14,-29],[0,-27],[9,-15],[-3,-51],[-19,-29],[6,-33],[14,-1],[7,-28],[11,-9]],[[6004,7174],[-11,27],[11,22],[-17,-5],[-23,13],[-19,-34],[-43,-6],[-22,31],[-30,2],[-6,-24],[-20,-7],[-26,31],[-31,-1],[-16,59],[-21,33],[14,46],[-18,28],[31,56],[43,3],[12,45],[53,-8],[33,38],[32,17],[46,1],[49,-42],[40,-22],[32,9],[24,-6],[33,31]],[[5777,7539],[3,-23],[25,-19],[-5,-14],[-33,-3],[-12,-19],[-23,-31],[-9,27],[0,12]],[[8382,6499],[-17,-95],[-12,-49],[-14,50],[-4,44],[17,58],[22,45],[13,-18],[-5,-35]],[[6088,4781],[-12,-73],[1,-33],[18,-22],[1,-15],[-8,-36],[2,-18],[-2,-28],[10,-37],[11,-58],[10,-13]],[[5909,4512],[-15,18],[-18,10],[-11,10],[-12,15]],[[5844,4990],[10,8],[31,-1],[56,4]],[[6061,7840],[-22,-5],[-18,-19],[-26,-3],[-24,-22],[1,-37],[14,-14],[28,4],[-5,-21],[-31,-11],[-37,-34],[-16,12],[6,28],[-30,17],[5,12],[26,19],[-8,14],[-43,15],[-2,22],[-25,-8],[-11,-32],[-21,-44]],[[3517,3063],[-12,-38],[-31,-32],[-21,11],[-15,-6],[-26,25],[-18,-1],[-17,32]],[[679,6185],[-4,-10],[-7,8],[1,17],[-4,21],[1,7],[5,10],[-2,11],[1,6],[3,-1],[10,-10],[5,-5],[5,-8],[7,-21],[-1,-3],[-11,-13],[-9,-9]],[[664,6277],[-9,-4],[-5,12],[-3,5],[0,4],[3,5],[9,-6],[8,-9],[-3,-7]],[[646,6309],[-1,-7],[-15,2],[2,7],[14,-2]],[[621,6317],[-2,-3],[-2,1],[-9,2],[-4,13],[-1,2],[7,8],[3,-3],[8,-20]],[[574,6356],[-4,-6],[-9,11],[1,4],[5,6],[6,-1],[1,-14]],[[3135,7724],[5,-19],[-30,-29],[-29,-20],[-29,-18],[-15,-35],[-4,-13],[-1,-31],[10,-32],[11,-1],[-3,21],[8,-13],[-2,-17],[-19,-9],[-13,1],[-20,-10],[-12,-3],[-17,-3],[-23,-17],[41,11],[8,-11],[-39,-18],[-17,0],[0,7],[-8,-16],[8,-3],[-6,-43],[-20,-45],[-2,15],[-6,3],[-9,15],[5,-32],[7,-10],[1,-23],[-9,-23],[-16,-47],[-2,3],[8,40],[-14,22],[-3,49],[-5,-25],[5,-38],[-18,10],[19,-19],[1,-57],[8,-4],[3,-20],[4,-59],[-17,-44],[-29,-18],[-18,-34],[-14,-4],[-14,-22],[-4,-20],[-31,-38],[-16,-28],[-13,-35],[-4,-42],[5,-41],[9,-51],[13,-41],[0,-26],[13,-69],[-1,-39],[-1,-23],[-7,-36],[-8,-8],[-14,7],[-4,26],[-11,14],[-15,51],[-13,45],[-4,23],[6,39],[-8,33],[-22,49],[-10,9],[-28,-27],[-5,3],[-14,28],[-17,14],[-32,-7],[-24,7],[-21,-5],[-12,-9],[5,-15],[0,-24],[5,-12],[-5,-8],[-10,9],[-11,-11],[-20,2],[-20,31],[-25,-8],[-20,14],[-17,-4],[-24,-14],[-25,-44],[-27,-25],[-16,-28],[-6,-27],[0,-41],[1,-28],[5,-20]],[[1746,6980],[-4,30],[-18,34],[-13,7],[-3,17],[-16,3],[-10,16],[-26,6],[-7,9],[-3,32],[-27,60],[-23,82],[1,14],[-13,19],[-21,50],[-4,48],[-15,32],[6,49],[-1,51],[-8,45],[10,56],[4,53],[3,54],[-5,79],[-9,51],[-8,27],[4,12],[40,-20],[15,-56],[7,15],[-5,49],[-9,48]],[[750,8432],[-28,-23],[-14,15],[-4,28],[25,21],[15,9],[18,-4],[12,-18],[-24,-28]],[[401,8597],[-18,-9],[-18,11],[-17,16],[28,10],[22,-6],[3,-22]],[[230,8826],[17,-12],[17,6],[23,-15],[27,-8],[-2,-7],[-21,-12],[-21,13],[-11,11],[-24,-4],[-7,5],[2,23]],[[1374,8295],[-15,22],[-25,19],[-8,52],[-36,47],[-15,56],[-26,4],[-44,2],[-33,17],[-57,61],[-27,11],[-49,21],[-38,-5],[-55,27],[-33,25],[-30,-12],[5,-41],[-15,-4],[-32,-12],[-25,-20],[-30,-13],[-4,35],[12,58],[30,18],[-8,15],[-35,-33],[-19,-39],[-40,-42],[20,-29],[-26,-42],[-30,-25],[-28,-18],[-7,-26],[-43,-31],[-9,-28],[-32,-25],[-20,5],[-25,-17],[-29,-20],[-23,-20],[-47,-16],[-5,9],[31,28],[27,18],[29,33],[35,6],[14,25],[38,35],[6,12],[21,21],[5,44],[14,35],[-32,-18],[-9,11],[-15,-22],[-18,30],[-8,-21],[-10,29],[-28,-23],[-17,0],[-3,35],[5,21],[-17,22],[-37,-12],[-23,28],[-19,14],[0,34],[-22,25],[11,34],[23,33],[10,30],[22,4],[19,-9],[23,28],[20,-5],[21,19],[-5,27],[-16,10],[21,23],[-17,-1],[-30,-13],[-8,-13],[-22,13],[-39,-6],[-41,14],[-12,24],[-35,34],[39,25],[62,29],[23,0],[-4,-30],[59,2],[-23,37],[-34,23],[-20,29],[-26,25],[-38,19],[15,31],[49,2],[35,27],[7,29],[28,28],[28,6],[52,27],[26,-4],[42,31],[42,-12],[21,-27],[12,11],[47,-3],[-2,-14],[43,-10],[28,6],[59,-18],[53,-6],[21,-8],[37,10],[42,-18],[31,-8]],[[3018,5753],[-1,-14],[-16,-7],[9,-26],[0,-31],[-12,-35],[10,-47],[12,4],[6,43],[-8,21],[-2,45],[35,24],[-4,27],[10,19],[10,-41],[19,-1],[18,-33],[1,-20],[25,0],[30,6],[16,-27],[21,-7],[16,18],[0,15],[34,4],[34,1],[-24,-18],[10,-28],[22,-4],[21,-29],[4,-48],[15,2],[11,-14]],[[8001,6331],[-37,-51],[-24,-56],[-6,-41],[22,-62],[25,-77],[26,-37],[17,-47],[12,-109],[-3,-104],[-24,-39],[-31,-38],[-23,-49],[-35,-55],[-10,37],[8,40],[-21,34]],[[9661,4085],[-9,-8],[-9,26],[1,16],[17,-34]],[[9641,4175],[4,-47],[-7,7],[-6,-3],[-4,16],[0,45],[13,-18]],[[6475,6041],[-21,-16],[-5,-26],[-1,-20],[-27,-25],[-45,-28],[-24,-41],[-13,-3],[-8,3],[-16,-25],[-18,-11],[-23,-3],[-7,-3],[-6,-16],[-8,-4],[-4,-15],[-14,1],[-9,-8],[-19,3],[-7,35],[1,32],[-5,17],[-5,44],[-8,24],[5,3],[-2,27],[3,12],[-1,25]],[[5817,3752],[11,0],[14,-10],[9,7],[15,-6]],[[5911,3478],[-7,-43],[-3,-49],[-7,-27],[-19,-30],[-5,-8],[-12,-30],[-8,-31],[-16,-42],[-31,-61],[-20,-36],[-21,-26],[-29,-23],[-14,-3],[-3,-17],[-17,9],[-14,-11],[-30,11],[-17,-7],[-12,3],[-28,-23],[-24,-10],[-17,-22],[-13,-1],[-11,21],[-10,1],[-12,26],[-1,-8],[-4,16],[0,34],[-9,40],[9,11],[0,45],[-19,55],[-14,50],[0,1],[-20,76]],[[5840,4141],[-21,-8],[-15,-23],[-4,-21],[-10,-4],[-24,-49],[-15,-38],[-10,-2],[-9,7],[-31,7]]],transform:{scale:[.036003600360036005,.016927109510951093],translate:[-180,-85.609038]}},g.prototype.abwTopo="__ABW__",g.prototype.afgTopo="__AFG__",g.prototype.agoTopo="__AGO__",g.prototype.aiaTopo="__AIA__",g.prototype.albTopo="__ALB__",g.prototype.aldTopo="__ALD__",g.prototype.andTopo="__AND__",g.prototype.areTopo="__ARE__",g.prototype.argTopo="__ARG__",g.prototype.armTopo="__ARM__",g.prototype.asmTopo="__ASM__",g.prototype.ataTopo="__ATA__",g.prototype.atcTopo="__ATC__",g.prototype.atfTopo="__ATF__",g.prototype.atgTopo="__ATG__",g.prototype.ausTopo="__AUS__",g.prototype.autTopo="__AUT__",g.prototype.azeTopo="__AZE__",g.prototype.bdiTopo="__BDI__",g.prototype.belTopo="__BEL__",g.prototype.benTopo="__BEN__",g.prototype.bfaTopo="__BFA__",g.prototype.bgdTopo="__BGD__",g.prototype.bgrTopo="__BGR__",g.prototype.bhrTopo="__BHR__",g.prototype.bhsTopo="__BHS__",g.prototype.bihTopo="__BIH__",g.prototype.bjnTopo="__BJN__",g.prototype.blmTopo="__BLM__",g.prototype.blrTopo="__BLR__",g.prototype.blzTopo="__BLZ__",g.prototype.bmuTopo="__BMU__",g.prototype.bolTopo="__BOL__",g.prototype.braTopo="__BRA__",g.prototype.brbTopo="__BRB__",g.prototype.brnTopo="__BRN__",g.prototype.btnTopo="__BTN__",g.prototype.norTopo="__NOR__",g.prototype.bwaTopo="__BWA__",g.prototype.cafTopo="__CAF__",g.prototype.canTopo="__CAN__",g.prototype.cheTopo="__CHE__",g.prototype.chlTopo="__CHL__",g.prototype.chnTopo="__CHN__",g.prototype.civTopo="__CIV__",g.prototype.clpTopo="__CLP__",g.prototype.cmrTopo="__CMR__",g.prototype.codTopo="__COD__",g.prototype.cogTopo="__COG__",g.prototype.cokTopo="__COK__",g.prototype.colTopo="__COL__",g.prototype.comTopo="__COM__",g.prototype.cpvTopo="__CPV__",g.prototype.criTopo="__CRI__",g.prototype.csiTopo="__CSI__",g.prototype.cubTopo="__CUB__",g.prototype.cuwTopo="__CUW__",g.prototype.cymTopo="__CYM__",g.prototype.cynTopo="__CYN__",g.prototype.cypTopo="__CYP__",g.prototype.czeTopo="__CZE__",g.prototype.deuTopo="__DEU__",g.prototype.djiTopo="__DJI__",g.prototype.dmaTopo="__DMA__",g.prototype.dnkTopo="__DNK__",g.prototype.domTopo="__DOM__",g.prototype.dzaTopo="__DZA__",g.prototype.ecuTopo="__ECU__",g.prototype.egyTopo="__EGY__",g.prototype.eriTopo="__ERI__",g.prototype.esbTopo="__ESB__",g.prototype.espTopo="__ESP__",g.prototype.estTopo="__EST__",g.prototype.ethTopo="__ETH__",g.prototype.finTopo="__FIN__",g.prototype.fjiTopo="__FJI__",g.prototype.flkTopo="__FLK__",g.prototype.fraTopo="__FRA__",g.prototype.froTopo="__FRO__",g.prototype.fsmTopo="__FSM__",g.prototype.gabTopo="__GAB__",g.prototype.psxTopo="__PSX__",g.prototype.gbrTopo="__GBR__",g.prototype.geoTopo="__GEO__",g.prototype.ggyTopo="__GGY__",g.prototype.ghaTopo="__GHA__",g.prototype.gibTopo="__GIB__",g.prototype.ginTopo="__GIN__",g.prototype.gmbTopo="__GMB__",g.prototype.gnbTopo="__GNB__",g.prototype.gnqTopo="__GNQ__",g.prototype.grcTopo="__GRC__",g.prototype.grdTopo="__GRD__",g.prototype.grlTopo="__GRL__",g.prototype.gtmTopo="__GTM__",g.prototype.gumTopo="__GUM__",g.prototype.guyTopo="__GUY__",g.prototype.hkgTopo="__HKG__",g.prototype.hmdTopo="__HMD__",g.prototype.hndTopo="__HND__",g.prototype.hrvTopo="__HRV__",g.prototype.htiTopo="__HTI__",g.prototype.hunTopo="__HUN__",g.prototype.idnTopo="__IDN__",g.prototype.imnTopo="__IMN__",g.prototype.indTopo="__IND__",g.prototype.ioaTopo="__IOA__",g.prototype.iotTopo="__IOT__",g.prototype.irlTopo="__IRL__",g.prototype.irnTopo="__IRN__",g.prototype.irqTopo="__IRQ__",g.prototype.islTopo="__ISL__",g.prototype.isrTopo="__ISR__",g.prototype.itaTopo="__ITA__",g.prototype.jamTopo="__JAM__",g.prototype.jeyTopo="__JEY__",g.prototype.jorTopo="__JOR__",g.prototype.jpnTopo="__JPN__",g.prototype.kabTopo="__KAB__",g.prototype.kasTopo="__KAS__",g.prototype.kazTopo="__KAZ__",g.prototype.kenTopo="__KEN__",g.prototype.kgzTopo="__KGZ__",g.prototype.khmTopo="__KHM__",g.prototype.kirTopo="__KIR__",g.prototype.knaTopo="__KNA__",g.prototype.korTopo="__KOR__",g.prototype.kosTopo="__KOS__",g.prototype.kwtTopo="__KWT__",g.prototype.laoTopo="__LAO__",g.prototype.lbnTopo="__LBN__",g.prototype.lbrTopo="__LBR__",g.prototype.lbyTopo="__LBY__",g.prototype.lcaTopo="__LCA__",g.prototype.lieTopo="__LIE__",g.prototype.lkaTopo="__LKA__",g.prototype.lsoTopo="__LSO__",g.prototype.ltuTopo="__LTU__",g.prototype.luxTopo="__LUX__",g.prototype.lvaTopo="__LVA__",g.prototype.macTopo="__MAC__",g.prototype.mafTopo="__MAF__",g.prototype.marTopo="__MAR__",g.prototype.mcoTopo="__MCO__",g.prototype.mdaTopo="__MDA__",g.prototype.mdgTopo="__MDG__",g.prototype.mdvTopo="__MDV__",g.prototype.mexTopo="__MEX__",g.prototype.mhlTopo="__MHL__",g.prototype.mkdTopo="__MKD__",g.prototype.mliTopo="__MLI__",g.prototype.mltTopo="__MLT__",g.prototype.mmrTopo="__MMR__",g.prototype.mneTopo="__MNE__",g.prototype.mngTopo="__MNG__",g.prototype.mnpTopo="__MNP__",g.prototype.mozTopo="__MOZ__",g.prototype.mrtTopo="__MRT__",g.prototype.msrTopo="__MSR__",g.prototype.musTopo="__MUS__",g.prototype.mwiTopo="__MWI__",g.prototype.mysTopo="__MYS__",g.prototype.namTopo="__NAM__",g.prototype.nclTopo="__NCL__",g.prototype.nerTopo="__NER__",g.prototype.nfkTopo="__NFK__",g.prototype.ngaTopo="__NGA__",g.prototype.nicTopo="__NIC__",g.prototype.niuTopo="__NIU__",g.prototype.nldTopo="__NLD__",g.prototype.nplTopo="__NPL__",g.prototype.nruTopo="__NRU__",g.prototype.nulTopo="__NUL__",g.prototype.nzlTopo="__NZL__",g.prototype.omnTopo="__OMN__",g.prototype.pakTopo="__PAK__",g.prototype.panTopo="__PAN__",g.prototype.pcnTopo="__PCN__",g.prototype.perTopo="__PER__",g.prototype.pgaTopo="__PGA__",g.prototype.phlTopo="__PHL__",g.prototype.plwTopo="__PLW__",g.prototype.pngTopo="__PNG__",g.prototype.polTopo="__POL__",g.prototype.priTopo="__PRI__",g.prototype.prkTopo="__PRK__",g.prototype.prtTopo="__PRT__",g.prototype.pryTopo="__PRY__",g.prototype.pyfTopo="__PYF__",g.prototype.qatTopo="__QAT__",g.prototype.rouTopo="__ROU__",g.prototype.rusTopo="__RUS__",g.prototype.rwaTopo="__RWA__",g.prototype.sahTopo="__SAH__",g.prototype.sauTopo="__SAU__",g.prototype.scrTopo="__SCR__",g.prototype.sdnTopo="__SDN__",g.prototype.sdsTopo="__SDS__",g.prototype.senTopo="__SEN__",g.prototype.serTopo="__SER__",g.prototype.sgpTopo="__SGP__",g.prototype.sgsTopo="__SGS__",g.prototype.shnTopo="__SHN__",g.prototype.slbTopo="__SLB__",g.prototype.sleTopo="__SLE__",g.prototype.slvTopo="__SLV__",g.prototype.smrTopo="__SMR__",g.prototype.solTopo="__SOL__",g.prototype.somTopo="__SOM__",g.prototype.spmTopo="__SPM__",g.prototype.srbTopo="__SRB__",g.prototype.stpTopo="__STP__",g.prototype.surTopo="__SUR__",g.prototype.svkTopo="__SVK__",g.prototype.svnTopo="__SVN__",g.prototype.sweTopo="__SWE__",g.prototype.swzTopo="__SWZ__",g.prototype.sxmTopo="__SXM__",g.prototype.sycTopo="__SYC__",g.prototype.syrTopo="__SYR__",g.prototype.tcaTopo="__TCA__",g.prototype.tcdTopo="__TCD__",g.prototype.tgoTopo="__TGO__",g.prototype.thaTopo="__THA__",g.prototype.tjkTopo="__TJK__",g.prototype.tkmTopo="__TKM__",g.prototype.tlsTopo="__TLS__",g.prototype.tonTopo="__TON__",g.prototype.ttoTopo="__TTO__",g.prototype.tunTopo="__TUN__",g.prototype.turTopo="__TUR__",g.prototype.tuvTopo="__TUV__",g.prototype.twnTopo="__TWN__",g.prototype.tzaTopo="__TZA__",g.prototype.ugaTopo="__UGA__",g.prototype.ukrTopo="__UKR__",g.prototype.umiTopo="__UMI__",g.prototype.uryTopo="__URY__",g.prototype.usaTopo={type:"Topology",transform:{scale:[.03514630243024302,.005240860686068607],translate:[-178.123152,18.948267]},objects:{usa:{type:"GeometryCollection",geometries:[{type:"Polygon",id:"AL",arcs:[[0,1,2,3,4]],properties:{name:"Alabama"}},{type:"MultiPolygon",id:"AK",arcs:[[[5]],[[6]],[[7]],[[8]],[[9]],[[10]],[[11]],[[12]],[[13]],[[14]],[[15]],[[16]],[[17]],[[18]],[[19]],[[20]],[[21]],[[22]],[[23]],[[24]],[[25]],[[26]],[[27]],[[28]],[[29]],[[30]],[[31]],[[32]],[[33]],[[34]],[[35]],[[36]],[[37]],[[38]],[[39]],[[40]],[[41]],[[42]],[[43]]],properties:{name:"Alaska"}},{type:"Polygon",id:"AZ",arcs:[[44,45,46,47,48]],properties:{name:"Arizona"}},{type:"Polygon",id:"AR",arcs:[[49,50,51,52,53,54]],properties:{name:"Arkansas"}},{type:"Polygon",id:"CA",arcs:[[55,-47,56,57]],properties:{name:"California"}},{type:"Polygon",id:"CO",arcs:[[58,59,60,61,62,63]],properties:{name:"Colorado"}},{type:"Polygon",id:"CT",arcs:[[64,65,66,67]],properties:{name:"Connecticut"}},{type:"Polygon",id:"DE",arcs:[[68,69,70,71]],properties:{name:"Delaware"}},{type:"Polygon",id:"DC",arcs:[[72,73]],properties:{name:"District of Columbia"}},{type:"Polygon",id:"FL",arcs:[[74,75,-2]],properties:{name:"Florida"}},{type:"Polygon",id:"GA",arcs:[[76,77,-75,-1,78,79]],properties:{name:"Georgia"}},{type:"MultiPolygon",id:"HI",arcs:[[[80]],[[81]],[[82]],[[83]],[[84]]],properties:{name:"Hawaii"}},{type:"Polygon",id:"ID",arcs:[[85,86,87,88,89,90,91]],properties:{name:"Idaho"}},{type:"Polygon",id:"IL",arcs:[[92,93,94,95,96,97]],properties:{name:"Illinois"}},{type:"Polygon",id:"IN",arcs:[[98,99,-95,100,101]],properties:{name:"Indiana"}},{type:"Polygon",id:"IA",arcs:[[102,-98,103,104,105,106]],properties:{name:"Iowa"}},{type:"Polygon",id:"KS",arcs:[[107,108,-60,109]],properties:{name:"Kansas"}},{type:"Polygon",id:"KY",arcs:[[110,111,112,113,-96,-100,114]],properties:{name:"Kentucky"}},{type:"Polygon",id:"LA",arcs:[[115,116,117,-52]],properties:{name:"Louisiana"}},{type:"Polygon",id:"ME",arcs:[[118,119]],properties:{name:"Maine"}},{type:"MultiPolygon",id:"MD",arcs:[[[120]],[[-71,121,122,123,124,-74,125,126,127]]],properties:{name:"Maryland"}},{type:"Polygon",id:"MA",arcs:[[128,129,130,131,-68,132,133,134]],properties:{name:"Massachusetts"}},{type:"MultiPolygon",id:"MI",arcs:[[[-102,135,136]],[[137]],[[138,139]],[[140]]],properties:{name:"Michigan"}},{type:"Polygon",id:"MN",arcs:[[-107,141,142,143,144]],properties:{name:"Minnesota"}},{type:"Polygon",id:"MS",arcs:[[-4,145,-116,-51,146]],properties:{name:"Mississippi"}},{type:"Polygon",id:"MO",arcs:[[-97,-114,147,-55,148,-108,149,-104]],properties:{name:"Missouri"}},{type:"Polygon",id:"MT",arcs:[[150,151,-92,152,153]],properties:{name:"Montana"}},{type:"Polygon",id:"NE",arcs:[[-105,-150,-110,-59,154,155]],properties:{name:"Nebraska"}},{type:"Polygon",id:"NV",arcs:[[156,-48,-56,157,-88]],properties:{name:"Nevada"}},{type:"Polygon",id:"NH",arcs:[[-135,158,159,-120,160]],properties:{name:"New Hampshire"}},{type:"Polygon",id:"NJ",arcs:[[161,-69,162,163]],properties:{name:"New Jersey"}},{type:"Polygon",id:"NM",arcs:[[164,165,166,-45,-62]],properties:{name:"New Mexico"}},{type:"Polygon",id:"NY",arcs:[[-133,-67,167,-164,168,169,170]],properties:{name:"New York"}},{type:"Polygon",id:"NC",arcs:[[171,172,-80,173,174]],properties:{name:"North Carolina"}},{type:"Polygon",id:"ND",arcs:[[175,-154,176,-143]],properties:{name:"North Dakota"}},{type:"Polygon",id:"OH",arcs:[[177,-115,-99,-137,178,179]],properties:{name:"Ohio"}},{type:"Polygon",id:"OK",arcs:[[-149,-54,180,-165,-61,-109]],properties:{name:"Oklahoma"}},{type:"Polygon",id:"OR",arcs:[[-89,-158,-58,181,182]],properties:{name:"Oregon"}},{type:"Polygon",id:"PA",arcs:[[-163,-72,-128,183,-180,184,-169]],properties:{name:"Pennsylvania"}},{type:"MultiPolygon",id:"RI",arcs:[[[185,-130]],[[186,-65,-132]]],properties:{name:"Rhode Island"}},{type:"Polygon",id:"SC",arcs:[[187,-77,-173]],properties:{name:"South Carolina"}},{type:"Polygon",id:"SD",arcs:[[-142,-106,-156,188,-151,-176]],properties:{name:"South Dakota"}},{type:"Polygon",id:"TN",arcs:[[189,-174,-79,-5,-147,-50,-148,-113]],properties:{name:"Tennessee"}},{type:"Polygon",id:"TX",arcs:[[-53,-118,190,-166,-181]],properties:{name:"Texas"}},{type:"Polygon",id:"UT",arcs:[[191,-63,-49,-157,-87]],properties:{name:"Utah"}},{type:"Polygon",id:"VT",arcs:[[-134,-171,192,-159]],properties:{name:"Vermont"}},{type:"MultiPolygon",id:"VA",arcs:[[[193,-123]],[[120]],[[-126,-73,-125,194,-175,-190,-112,195]]],properties:{name:"Virginia"}},{type:"MultiPolygon",id:"WA",arcs:[[[-183,196,-90]],[[197]],[[198]]],properties:{name:"Washington"}},{type:"Polygon",id:"WV",arcs:[[-184,-127,-196,-111,-178]],properties:{name:"West Virginia"}},{type:"Polygon",id:"WI",arcs:[[199,-93,-103,-145,200,-140]],properties:{name:"Wisconsin"}},{type:"Polygon",id:"WY",arcs:[[-189,-155,-64,-192,-86,-152]],properties:{name:"Wyoming"}}]}},arcs:[[[2632,3060],[5,-164],[7,-242],[4,-53],[3,-30],[-2,-19],[4,-11],[-5,-25],[0,-24],[-2,-32],[2,-57],[-2,-51],[3,-52]],[[2649,2300],[-14,-1],[-59,0],[-1,-25],[6,-37],[-1,-31],[2,-16],[-4,-28]],[[2578,2162],[-4,-6],[-7,31],[-1,47],[-2,6],[-3,-36],[-1,-34],[-7,9]],[[2553,2179],[-2,291],[6,363],[4,209],[-3,20]],[[2558,3062],[24,1],[50,-3]],[[1324,6901],[1,32],[6,-19],[-1,-32],[-8,4],[2,15]],[[1317,6960],[5,-23],[-3,-33],[-2,11],[0,45]],[[1285,7153],[6,5],[3,-8],[-1,-28],[-6,-6],[-5,17],[3,20]],[[1267,7137],[12,-7],[3,-36],[13,-41],[4,-25],[0,-21],[3,-4],[1,-27],[5,-27],[0,-25],[3,8],[2,-19],[1,-74],[-3,-17],[-7,3],[-3,38],[-2,-3],[-6,28],[-2,-10],[-5,10],[1,-28],[5,7],[3,-10],[-2,-39],[-5,4],[-9,49],[-2,25],[1,26],[-7,-2],[0,20],[5,2],[5,18],[-2,31],[-6,7],[-1,50],[-2,25],[-4,-18],[-2,28],[4,14],[-3,32],[2,8]],[[1263,6985],[5,-12],[4,15],[4,-7],[-4,-28],[-6,8],[-3,24]],[[1258,7247],[-4,19],[5,13],[15,-18],[7,1],[5,-36],[9,-29],[-1,-22],[-5,-11],[-6,5],[-5,-14],[-6,9],[-7,-9],[-1,45],[0,30],[-5,1],[-1,16]],[[1252,7162],[-4,14],[-4,32],[0,24],[3,11],[4,-11],[0,20],[12,-35],[1,-33],[-4,-5],[-3,-37],[3,-11],[-3,-43],[-5,9],[0,-27],[-3,13],[-2,54],[5,25]],[[1207,7331],[8,38],[3,-16],[7,-13],[6,-2],[0,-30],[6,-99],[0,-85],[-1,-22],[-4,13],[-10,84],[-7,25],[3,20],[-3,48],[-8,39]],[[1235,7494],[10,-15],[5,2],[0,-14],[8,-52],[-5,8],[-2,-18],[6,-27],[2,-48],[-6,-13],[-2,-16],[-10,-35],[-3,1],[-1,37],[2,22],[-1,32],[-3,40],[0,21],[-2,51],[-4,22],[-1,38],[7,-36]],[[1203,7324],[4,0],[4,-35],[-2,-24],[-6,-5],[0,38],[0,26]],[[1207,7331],[-5,7],[-3,26],[-6,18],[-5,37],[-6,17],[1,30],[4,10],[1,26],[3,-11],[8,-1],[6,17],[8,-23],[-5,-26],[2,-9],[4,28],[10,-9],[5,-21],[-3,-38],[3,-3],[3,-50],[-7,-7],[-14,41],[0,-42],[-4,-17]],[[883,7871],[-12,-48],[-1,-19],[-9,-12],[2,29],[10,30],[7,34],[3,-14]],[[870,7943],[-2,-39],[-4,-41],[-6,14],[5,47],[7,19]],[[863,9788],[3,-8],[15,-9],[8,5],[10,0],[12,-7],[7,4],[7,-15],[12,-18],[16,-4],[5,10],[11,6],[4,14],[12,2],[0,-9],[7,5],[15,-15],[9,-24],[10,-11],[2,-11],[8,-2],[8,-18],[1,-11],[5,9],[6,-7],[0,-1783],[13,-16],[2,17],[14,-24],[8,30],[18,4],[-3,-52],[4,-17],[10,-17],[2,-27],[29,-101],[4,-63],[6,17],[12,31],[7,1],[3,23],[0,34],[5,0],[1,31],[9,7],[13,26],[13,-45],[-1,-27],[3,-27],[7,-7],[10,-40],[-1,-12],[4,-22],[12,-25],[19,-110],[3,-29],[6,-29],[8,-65],[9,-55],[-3,-23],[9,-9],[-2,-33],[7,-14],[1,-38],[7,2],[14,-40],[9,-7],[5,-19],[4,-5],[1,-19],[9,-5],[3,-23],[-4,-43],[1,-36],[4,-58],[-4,-15],[-6,-53],[-10,-39],[-3,20],[-4,-6],[-3,39],[1,17],[-3,20],[7,21],[-2,7],[-7,-26],[-3,17],[-4,-10],[-12,42],[4,46],[-8,-15],[0,-23],[-6,17],[-1,22],[4,24],[-1,24],[-6,-19],[-6,42],[-3,-8],[-2,36],[5,23],[6,0],[-2,28],[3,36],[-5,-1],[-9,32],[-6,37],[-15,27],[0,77],[-4,9],[1,31],[-5,9],[-8,42],[-2,22],[-12,7],[-14,56],[-6,132],[-3,-30],[1,-27],[6,-53],[-1,-8],[3,-43],[0,-28],[-6,6],[-4,31],[-6,6],[-8,-9],[0,45],[-5,38],[-5,-12],[-17,40],[-2,-11],[10,-13],[7,-31],[3,-1],[1,-25],[4,-30],[-10,-16],[-5,10],[0,-26],[-8,20],[-2,14],[-5,0],[-13,38],[-10,33],[-1,20],[-5,30],[-14,21],[-9,21],[-14,26],[-9,24],[1,26],[2,-9],[3,17],[-3,38],[4,21],[-2,9],[-7,-40],[-14,-26],[-18,10],[-14,24],[-1,18],[-7,-4],[-7,14],[-17,12],[-9,1],[-21,-10],[-8,-7],[-10,27],[-12,12],[-3,17],[-2,28],[-8,-2],[-3,-25],[-15,34],[-2,14],[-15,-27],[-7,-32],[-3,30],[3,17],[4,-5],[14,22],[-2,17],[-6,-8],[-3,22],[-6,3],[-6,55],[-3,-13],[-8,-8],[-3,8],[-3,-18],[-11,6],[-1,-20],[-7,-5],[-3,7],[2,36],[-3,-1],[-5,-38],[7,-12],[1,-27],[4,-30],[-3,-31],[-5,10],[-2,-15],[6,-7],[3,-41],[-8,-9],[-4,9],[-7,-12],[-3,10],[-9,-2],[0,16],[-4,-10],[-3,-20],[-3,18],[-5,-25],[2,-12],[-6,-15],[-6,-2],[-3,-20],[-6,-17],[-4,6],[-5,-21],[-4,1],[-8,-43],[-9,-3],[-3,14],[-5,-23],[-11,17],[2,33],[8,11],[4,-2],[2,13],[8,25],[0,21],[-11,-28],[-9,16],[-1,12],[5,48],[8,34],[1,29],[2,5],[1,30],[-4,34],[10,12],[19,48],[4,-19],[6,-5],[9,20],[-10,26],[-4,20],[-7,-2],[-5,9],[-2,-8],[-9,-14],[-4,-26],[-9,-6],[-9,-30],[-1,-20],[-7,-11],[-2,-22],[-5,-13],[-2,-39],[-10,-25],[5,-20],[-4,-29],[-9,-5],[-1,-38],[-8,-13],[-3,15],[-4,-29],[-5,-1],[1,-21],[-11,-13],[-2,-57],[12,-3],[10,-16],[3,-19],[-4,-30],[-7,-19],[-6,-1],[0,-17],[-4,-6],[1,-21],[-4,-31],[-9,-29],[-5,0],[-5,-11],[-5,2],[-4,-11],[2,-16],[-7,-8],[-2,-23],[-5,14],[-5,-45],[-9,4],[1,-24],[-6,6],[-3,-11],[0,-32],[-6,-50],[-10,-6],[-7,-23],[-2,-13],[-5,18],[-8,-48],[-2,13],[-5,-4],[-1,-27],[-5,-10],[-6,4],[-4,-27],[8,-9],[-9,-60],[-25,-20],[-6,-54],[-2,12],[1,33],[-5,6],[-6,-13],[-1,-14],[-10,-22],[-4,-25],[-1,18],[-2,-21],[-6,14],[-10,-33],[-8,2],[1,25],[-4,24],[-3,-20],[1,-21],[-11,-64],[-3,16],[-1,-24],[-8,4],[-1,38],[-4,8],[-2,-14],[4,-16],[-2,-27],[-5,-13],[-5,29],[-5,2],[-1,-11],[5,-17],[-9,-27],[6,-7],[0,-13],[-5,9],[-7,-25],[-15,1],[-7,-16],[0,-13],[-8,-15],[-6,6],[-2,35],[6,12],[4,43],[6,1],[13,28],[10,1],[4,-27],[3,20],[-1,23],[6,10],[7,0],[8,50],[10,45],[12,40],[15,18],[6,-9],[6,12],[1,-17],[-3,-19],[4,-14],[1,23],[7,2],[2,-15],[5,-5],[0,18],[-8,15],[0,11],[5,49],[6,28],[9,27],[15,24],[10,35],[5,-13],[4,5],[-1,22],[1,21],[8,44],[11,28],[8,38],[0,21],[7,148],[11,40],[-1,31],[-27,-45],[-8,6],[-2,18],[-5,9],[-1,21],[-4,-10],[-3,-32],[5,-41],[-6,-18],[-5,7],[-9,64],[-6,33],[-4,0],[-2,-24],[-3,-4],[-4,19],[-5,4],[-2,32],[-16,-37],[-13,-26],[-1,-14],[-11,-22],[-6,20],[5,23],[-1,54],[-4,57],[7,24],[-6,49],[-5,27],[-4,39],[-6,17],[-2,-34],[-7,-8],[-12,-22],[-14,-9],[-7,2],[-7,12],[-1,30],[-5,9],[-9,42],[-8,8],[-8,46],[6,21],[1,39],[-5,-8],[0,24],[2,19],[-6,18],[0,-19],[-7,8],[-1,32],[-6,4],[-3,22],[0,27],[-5,-12],[-1,26],[7,6],[-6,30],[10,2],[0,35],[2,24],[18,77],[4,23],[3,-5],[-2,33],[7,55],[6,22],[11,9],[8,-9],[12,-33],[8,4],[11,32],[11,49],[6,6],[1,-13],[13,0],[12,10],[11,52],[0,12],[-5,48],[-1,28],[-8,31],[-3,26],[8,-7],[8,22],[0,20],[-10,39],[-8,-30],[-7,5],[-6,-17],[-8,-4],[-2,-11],[-9,-17],[-2,-28],[-5,-12],[-2,34],[-5,7],[-4,-26],[-2,12],[-10,19],[-20,-1],[-14,-21],[-6,-3],[-11,13],[-22,14],[-6,12],[-3,19],[2,26],[-8,22],[2,24],[5,12],[-2,31],[-8,0],[-6,8],[-13,6],[-7,16],[-10,16],[-1,19],[16,27],[20,43],[15,27],[8,-15],[8,-3],[2,21],[-5,3],[-1,18],[20,29],[22,22],[12,2],[7,-7],[-4,-32],[2,-22],[-3,-15],[4,-26],[8,5],[10,-5],[11,6],[4,-10],[7,-2],[7,10],[8,-11],[9,42],[5,2],[5,-8],[2,24],[-12,11],[-11,-9],[1,31],[-8,34],[-10,10],[-2,30],[7,8],[9,-31],[-1,-24],[4,-18],[10,-22],[2,23],[-11,30],[5,54],[-4,10],[-11,-12],[-11,3],[-2,10],[-6,-10],[-24,23],[0,24],[-7,54],[-6,19],[-9,17],[-19,46],[-9,18],[-8,4],[-13,31],[-12,18],[-1,6],[9,10],[4,29],[1,59],[25,-4],[31,13],[8,11],[12,29],[12,45],[3,45],[5,38],[10,33],[5,24],[13,38],[2,-10],[11,-3],[16,20],[10,21],[24,64],[9,4],[1,-10],[9,7],[9,-2],[18,9],[17,28],[17,58],[7,13],[2,-10],[26,-24],[2,-17],[-9,-22],[-4,-1],[0,-29],[14,9],[0,16],[6,14],[2,-8],[5,33],[13,-30],[-2,-23],[8,-6],[5,-14],[7,22],[13,1],[7,7],[18,-7],[10,-8],[-5,-45],[17,-12],[2,-11],[16,-20],[1,9],[12,13],[11,-1],[0,-11],[7,-1],[7,15],[11,2],[9,-6],[11,-16],[5,3],[7,-22],[4,9],[7,-7],[5,-13]],[[717,7456],[-1,-8],[-9,13],[7,49],[6,4],[4,45],[5,-40],[4,14],[8,-22],[0,-31],[-11,-4],[-5,-13],[-8,-7]],[[688,7363],[8,25],[-8,6],[0,22],[6,14],[5,-10],[0,-22],[3,15],[0,32],[5,-15],[1,21],[5,-12],[5,0],[5,11],[7,-20],[0,-55],[9,4],[-6,-37],[-11,15],[4,-24],[-3,-20],[-6,10],[0,-38],[-8,-10],[-3,-16],[-5,15],[-6,-40],[-4,-4],[-5,-18],[-2,43],[-6,-23],[-1,13],[-6,14],[0,39],[-6,15],[4,45],[11,28],[7,-2],[1,-21]],[[671,7185],[-6,-39],[-2,6],[8,33]],[[640,7055],[4,-2],[-1,-40],[-8,6],[-1,13],[6,23]],[[519,6933],[-2,-41],[-9,-33],[5,51],[2,-5],[4,28]],[[501,6947],[5,0],[0,-20],[-5,-23],[-5,15],[-3,-14],[-2,35],[2,12],[8,-5]],[[451,6875],[1,-16],[-3,-11],[-3,18],[5,9]],[[447,8527],[-4,-19],[-2,16],[6,3]],[[436,6781],[6,-7],[-1,-16],[-5,1],[0,22]],[[358,6745],[2,-22],[-5,-10],[-1,23],[4,9]],[[352,6718],[-8,-21],[-2,14],[3,19],[7,-12]],[[335,7902],[6,7],[2,-14],[5,3],[6,-12],[1,-54],[-3,-18],[-7,-11],[-2,-18],[-11,20],[-5,-1],[-10,28],[-4,0],[-6,15],[-3,25],[4,7],[10,-7],[5,20],[5,2],[3,14],[4,-6]],[[334,6690],[5,-14],[-10,-36],[1,-6],[12,26],[0,-15],[-5,-17],[-8,-12],[-1,-18],[-8,-18],[-7,-1],[-5,-18],[-9,-16],[-5,17],[9,20],[3,-3],[8,16],[-2,19],[4,20],[6,-9],[1,12],[-7,4],[-4,14],[4,23],[11,13],[2,-26],[5,25]],[[266,6527],[10,37],[1,16],[4,17],[7,9],[3,-10],[1,-25],[-12,-27],[-6,-40],[-6,-13],[-2,36]],[[238,6477],[2,-19],[-8,-1],[-1,13],[7,7]],[[227,7303],[-4,-18],[-1,18],[5,0]],[[212,6440],[2,-18],[-5,-13],[-1,19],[4,12]],[[182,8542],[22,-28],[13,24],[6,-2],[5,-14],[2,-23],[11,-12],[4,-12],[15,-5],[8,-8],[-4,-28],[-7,6],[-8,-5],[-4,-13],[-4,-28],[-5,26],[-6,18],[-6,2],[-3,20],[-15,25],[-6,1],[-11,-22],[-7,11],[-4,23],[4,44]],[[162,6381],[0,-22],[-5,-4],[1,19],[4,7]],[[128,6335],[4,-8],[10,1],[1,-7],[-13,-9],[-2,23]],[[108,6360],[0,19],[4,7],[6,-19],[-2,-17],[-4,1],[1,-20],[-5,-2],[-12,-21],[-6,6],[2,15],[7,-2],[9,33]],[[47,6279],[5,3],[0,-24],[-6,3],[-8,-28],[-4,37],[4,1],[0,29],[5,1],[0,-21],[4,-1]],[[28,6296],[3,-9],[-2,-32],[-5,-10],[0,20],[4,31]],[[0,6291],[5,-1],[4,-23],[-4,-27],[-5,51]],[[9993,6496],[6,-13],[0,-19],[-11,-12],[-8,31],[0,15],[13,-2]],[[1966,3444],[-1,-1081]],[[1965,2363],[-57,0],[-34,71],[-73,150],[3,43]],[[1804,2627],[6,8],[1,16],[-1,36],[-4,1],[-2,71],[6,27],[0,28],[-1,45],[4,34],[4,12],[4,25],[-6,27],[-4,51],[-5,31],[0,24]],[[1806,3063],[2,26],[0,36],[-3,36],[-2,112],[11,7],[3,-23],[3,1],[3,33],[0,153]],[[1823,3444],[101,2],[42,-2]],[[2515,3253],[-1,-35],[-4,-11],[-1,-29],[-5,-31],[0,-46],[-3,-34],[-3,-5]],[[2498,3062],[2,-17],[-4,-14],[-2,-33],[-3,-8],[0,-38],[-5,-10],[0,-13],[-6,-31],[2,-21],[-5,-30],[-5,-59],[5,-25],[-2,-16],[1,-39],[-2,-26]],[[2474,2682],[-69,3],[-13,0]],[[2392,2685],[0,101],[-4,8],[-5,-9],[-3,18]],[[2380,2803],[1,335],[-5,211]],[[2376,3349],[4,0],[123,-1],[2,-36],[-4,-23],[-4,-36],[18,0]],[[1654,4398],[0,-331],[0,-241],[36,-171],[35,-169],[27,-137],[20,-101],[34,-185]],[[1804,2627],[-38,-18],[-30,-16],[-4,25],[0,40],[-2,47],[-4,33],[-9,46],[-12,43],[-2,-12],[-4,8],[1,18],[-5,39],[-7,-8],[-12,28],[-2,23],[-8,28],[-9,-1],[-7,13],[-10,-6],[-5,26],[1,53],[-1,8],[1,38],[-8,28],[0,39],[-3,2],[-4,33],[-4,8],[-1,20],[-11,79],[-5,23],[-1,61],[2,-5],[2,37],[-4,33],[-5,-4],[-7,30],[-2,24],[0,23],[-3,31],[0,50],[5,0],[-2,70],[-2,-7],[-1,-35],[-5,-7],[-7,26],[-1,45],[-4,35],[-6,22],[-3,25],[-9,50],[2,14],[-4,64],[2,35],[-3,54],[-7,52],[-7,29],[-2,35],[7,83],[2,29],[-2,22],[3,57],[-2,52],[-3,13],[1,42]],[[1534,4399],[28,1],[24,1],[38,-3],[30,0]],[[2107,4208],[57,0],[0,-191]],[[2164,4017],[1,-574]],[[2165,3443],[-28,1]],[[2137,3444],[-38,-1],[-72,0],[-15,1],[-46,0]],[[1966,3444],[0,223],[-1,21],[0,162],[0,357]],[[1965,4207],[32,1],[63,-1],[47,1]],[[3025,4400],[0,-113],[-2,-18]],[[3023,4269],[-2,3],[-12,-14],[-15,4],[-7,-26],[-7,-9],[-8,-22]],[[2972,4205],[-2,22],[7,21],[-2,16],[2,144]],[[2977,4408],[12,-2],[36,-3],[0,-3]],[[2922,3980],[-2,-23]],[[2920,3957],[-3,-13],[0,-30],[5,-29],[1,-47],[6,-49],[3,-2],[1,-66]],[[2933,3721],[-19,2],[-2,241]],[[2912,3964],[5,21],[5,-5]],[[2876,3786],[-2,27]],[[2874,3813],[2,12],[4,-19],[-4,-20]],[[2649,2300],[4,-55],[39,-13],[37,-14],[1,-41],[4,1],[1,39],[-1,35],[2,15],[7,-16],[8,-7]],[[2751,2244],[1,-83],[4,-93],[8,-122],[13,-131],[-2,-9],[1,-61],[5,-68],[8,-137],[2,-42],[0,-44],[-3,-158],[-3,-3],[-3,-49],[1,-16],[-5,-36],[-2,9],[-6,-15],[-9,-8],[-2,20],[1,29],[-7,85],[-5,15],[-4,-11],[-3,47],[-1,38],[-6,43],[-2,28],[1,41],[-3,8],[1,-24],[-3,-7],[-9,104],[-4,26],[9,76],[-6,-4],[-4,-24],[-3,38],[5,104],[1,87],[-4,21],[-1,28],[-5,6],[-7,46],[-5,19],[0,28],[-4,11],[-3,31],[-11,42],[-9,-10],[0,-29],[-3,5],[-12,-35],[-12,-9],[0,21],[-3,25],[-15,57],[-10,24],[-10,6],[-8,-4],[-17,-18]],[[2703,3063],[-6,-41],[0,-20],[9,-40],[3,3],[5,-42],[1,-22],[4,-40],[7,-24],[3,-35],[8,-33],[0,-22],[5,-35],[7,-29],[2,-32],[1,-40],[3,-14],[5,-51],[0,-33],[7,-16]],[[2767,2497],[-7,-65],[-2,-34],[-3,-29],[0,-30],[-3,-14],[-1,-81]],[[2632,3060],[37,1]],[[2669,3061],[20,-1],[14,3]],[[640,0],[-7,17],[-1,16],[1,43],[-5,73],[4,24],[2,34],[-2,22],[1,23],[8,-27],[9,-20],[5,-29],[0,-26],[8,-40],[-5,-34],[-8,-15],[-7,-25],[-3,-36]],[[613,397],[3,-26],[4,11],[9,-30],[-1,-27],[-9,-14],[-2,6],[-1,33],[-5,7],[-1,19],[3,21]],[[602,432],[-3,-20],[-7,0],[2,22],[8,-2]],[[574,525],[3,-45],[-2,-26],[-6,-5],[-4,54],[4,1],[5,21]],[[531,626],[3,-2],[2,-20],[-1,-28],[-4,-18],[-9,22],[1,31],[8,15]],[[1908,4871],[0,-472]],[[1908,4399],[-31,-1],[-54,0]],[[1823,4398],[-85,1]],[[1738,4399],[0,349],[4,62],[-2,16],[-6,3],[-2,26],[6,68],[3,6],[3,29],[-1,17],[4,23],[1,34],[6,56],[-2,26],[-7,14],[-4,32]],[[1741,5160],[0,34],[-3,33],[0,16],[0,255],[0,236]],[[1738,5734],[28,0]],[[1766,5734],[0,-195],[9,-54],[1,-52],[5,-23],[6,-8],[0,-14],[11,-51],[1,-21],[8,-20],[0,-12],[8,1],[-4,-71],[-1,-45],[3,-29],[-5,-21],[2,-20],[-1,-21],[6,-20],[7,26],[3,21],[5,-19],[-1,-15],[3,-37],[5,-39],[3,-13],[0,-37],[3,-16],[6,-2],[4,-61],[3,-11],[3,18],[9,-1],[7,17],[3,-10],[7,9],[2,-11],[5,8],[7,39],[4,-33],[5,-20]],[[2489,4496],[53,-3],[28,0]],[[2570,4493],[-1,-37],[4,-43],[5,-70]],[[2578,4343],[0,-450],[-3,-35],[3,-40],[1,-34],[-4,-27],[-1,-25],[-5,-41],[-3,-3],[0,-24],[-2,-9],[-1,-45],[0,-13]],[[2563,3597],[-3,-27],[2,-34],[-11,-17],[-1,-20],[2,-25],[-3,-16],[-11,29],[-3,-2],[-4,-33],[1,-11]],[[2532,3441],[-5,2],[-6,55],[2,12],[-2,37],[0,29],[-9,41],[-3,-4],[-3,25],[-9,38],[0,31],[5,49],[-1,18],[3,23],[-4,13],[-6,9],[-3,-18],[-3,11],[-1,63],[-10,41],[-9,49],[-3,58],[-1,39],[3,27]],[[2467,4089],[0,35],[8,21],[1,29],[4,19],[0,33],[-4,27],[2,34],[11,9],[9,24],[0,29],[4,13],[1,37],[0,24],[-7,18],[-1,20],[-6,35]],[[2655,4340],[0,-228],[0,-266]],[[2655,3846],[-2,-9],[2,-52],[-5,-1],[-5,-18],[-8,9],[1,-38],[-5,-16],[-2,-24],[-5,-9],[-3,-48],[-3,-13],[-6,18],[-1,22],[-7,-24],[1,-21],[-7,-7],[-1,19],[-8,-19],[-2,-20],[-7,28],[-4,-6],[-2,13],[-3,-13],[-7,-2],[-3,-18]],[[2578,4343],[3,-12],[8,0],[9,22]],[[2598,4353],[23,0],[34,0],[0,-13]],[[2473,4685],[0,-28],[4,-19],[-3,-23],[1,-43],[2,-30],[10,-22],[2,-24]],[[2467,4089],[-3,7],[-6,38],[-3,-1],[-40,-5],[-39,-2],[-33,3]],[[2343,4129],[-3,25],[2,49],[-3,43],[0,48],[-5,17],[-1,26],[2,23],[-2,33],[-4,13],[-5,86]],[[2324,4492],[-5,41],[2,29],[1,37],[2,14],[-3,19],[1,33],[-2,16],[4,4]],[[2324,4685],[144,0],[5,0]],[[2356,4017],[3,-18],[9,-14],[-6,-56],[4,-18],[4,-45],[6,-10],[0,-412]],[[2376,3444],[-156,0],[-55,-1]],[[2164,4017],[5,0],[187,0]],[[2718,3716],[-1,-57],[4,-37],[4,-28],[2,-22],[5,-22],[4,-3]],[[2736,3547],[-11,-51],[-11,-29],[0,-14],[-4,-13],[0,-16],[-6,-8],[-1,-21],[-16,-27]],[[2687,3368],[0,-3],[-24,2],[-22,6],[-5,-2],[-32,8],[-36,-5],[-6,9],[1,-35],[-36,2],[-3,-2]],[[2524,3348],[1,24],[5,-8],[2,77]],[[2655,3846],[11,0],[5,-40],[1,-17],[9,-7],[6,-26],[5,13],[10,-14],[4,19],[4,6],[1,-32],[3,-6],[4,-26]],[[2474,2682],[3,-22],[-2,-9],[-1,-38],[5,-24],[0,-57],[-3,-44],[-7,-27],[-2,-43],[-2,4],[-1,-70],[-3,-2],[2,-37],[-2,-14],[54,0],[-3,-63],[4,-41],[1,-32],[4,-20]],[[2521,2143],[-9,-26],[0,-19],[7,-12],[3,30],[6,-30],[-1,-24],[-3,-11],[-7,10],[1,-18],[-2,-27],[5,-24],[9,-7],[3,-29],[3,-4],[-5,-32],[-5,6],[-4,33],[-10,18],[0,33],[-6,-11],[1,-27],[-3,-25],[-3,-4],[-3,28],[-7,1],[-2,-29],[-4,-9],[-5,18],[-4,2],[-3,47],[-7,21],[-2,-3],[-3,40],[-7,-5],[0,24],[-8,-23],[1,-18],[-5,-17],[-9,8],[-10,27],[-7,11],[-16,-9],[-2,-8]],[[2398,2049],[-2,19],[6,68],[-2,37],[2,20],[-1,26],[3,19],[3,50],[0,40],[-8,78],[0,41],[-7,42],[0,196]],[[3046,5029],[12,26],[-2,13],[5,30],[4,13],[-1,12],[5,18],[-1,33],[2,50],[5,17],[1,53],[22,147],[6,-7],[0,-35],[4,-13],[9,21],[6,0],[4,14],[8,-31],[4,-25],[1,-214],[-1,-51],[10,-14],[-2,-22],[3,-21],[-2,-18],[4,-30],[5,7],[5,-68],[-6,-31],[-3,12],[-3,-21],[-4,5],[0,-18],[-6,2],[-8,-40],[-2,28],[-3,2],[1,-30],[-6,-15],[-2,24],[-3,-12],[-7,0],[0,28],[-5,-6],[1,-20],[-4,-42],[1,-12],[-6,-23],[-5,9],[-3,-24],[-4,-3],[-4,-20],[-4,4],[-1,21],[-7,-34],[2,-21],[-5,-7],[0,-18],[-5,-22],[-5,-50]],[[3056,4600],[-3,14],[0,19],[-4,22],[-2,250],[-1,124]],[[2904,3626],[2,0],[-1,0],[-1,0]],[[2933,3721],[-6,-80]],[[2927,3641],[-4,-3],[-8,-12]],[[2915,3626],[-6,-8],[0,31],[-2,13],[3,13],[-4,32],[-2,-14],[-6,3],[-2,35],[2,0],[0,45],[2,18],[-2,60],[3,36],[5,6],[0,37],[-3,-5],[0,-18],[-8,-25],[-2,-21],[0,-56],[-3,-26],[1,-44],[4,-30],[-1,-23],[3,-23],[-2,-16],[-6,30],[-10,15],[-2,29],[-6,-16],[-2,23],[5,29]],[[2874,3756],[2,30]],[[2874,3813],[-4,18],[-6,10],[0,28],[-3,15],[-4,4]],[[2857,3888],[-4,53],[-4,0],[-5,18],[-3,-15],[-5,1],[-1,-21],[-8,14],[-6,-28],[-3,6],[-6,-33],[-6,-17],[1,98]],[[2807,3964],[105,0]],[[3053,4565],[1,-34],[-1,-27],[-5,-25],[0,-29],[6,-4],[4,-31],[0,-24],[3,-6],[0,-22],[8,-19],[9,18],[-2,-26],[-13,-23],[-5,-1],[-3,18],[-5,-6],[0,-13],[-5,-9]],[[3045,4302],[-3,35]],[[3042,4337],[0,6]],[[3042,4343],[-3,14],[-2,45],[-4,0],[-8,-2]],[[2977,4408],[0,7],[6,126]],[[2983,4541],[23,-3]],[[3006,4538],[34,-7],[3,18],[7,19],[3,-3]],[[2598,4353],[5,25],[4,43],[4,26],[3,36],[1,52],[0,57],[-9,111],[3,42],[-2,50],[6,51],[2,43],[-1,23],[5,9],[0,31],[8,9],[5,34],[0,-69],[3,-3],[3,35],[1,58],[2,15],[8,9],[-3,41],[5,35],[7,2],[7,-22],[7,-3],[3,-28],[6,-2],[9,-25],[3,1],[4,-41],[-3,-21],[3,-29],[2,-32],[-2,-71],[-6,-18],[-1,-37],[-7,-12],[-4,-44],[2,-17],[6,-15],[6,24],[6,49],[10,19],[5,-15],[3,-27],[3,-80],[0,-39],[3,-48],[-3,-69],[-4,-11],[-1,25],[-3,-7],[-3,-58],[-6,-21],[-2,-44],[-7,-37],[0,-16]],[[2694,4347],[-39,-7]],[[2635,5110],[1,-23],[-4,-4],[1,33],[2,-6]],[[2496,5270],[11,20],[5,23],[12,9],[8,29],[4,1],[3,20],[9,28],[4,24],[7,15],[6,-13],[-11,-59],[-2,-19],[0,-36],[5,27],[10,-4],[8,-19],[7,-52],[3,-10],[7,9],[2,-12],[7,-6],[16,44],[8,4],[10,-2],[7,15],[6,1],[1,-54],[5,-7],[6,8],[2,-12],[4,16],[8,5],[1,-67],[3,-28],[6,-8],[1,19],[5,0],[3,-20],[-3,-14],[-15,12],[-8,-8],[-8,23],[-2,-21],[1,-18],[-4,4],[-5,27],[-9,15],[-5,1],[-4,-25],[-8,-6],[-8,5],[-3,-10],[-1,-21],[-9,-18],[1,25],[-4,5],[-2,-26],[-6,-1],[-3,-11],[-5,-45],[-8,-58],[1,-5]],[[2576,4989],[-4,20],[2,27],[-7,4],[3,26],[0,34],[-5,23],[-4,24],[-12,19],[-4,-7],[-12,29],[-29,38],[-3,33],[-5,11]],[[2541,5539],[-7,-24],[-4,-3],[1,19],[18,45],[-4,-31],[-4,-6]],[[2324,4685],[0,343],[-7,22],[-5,36],[8,41],[1,22]],[[2321,5149],[-1,76],[-4,20],[-2,42],[0,51],[-1,8],[-1,123],[-5,65],[-3,36],[0,77],[1,27],[-3,60]],[[2302,5734],[59,0],[0,73],[5,-2],[4,-14],[4,-100],[3,-11],[9,-3],[1,-10],[11,-4],[1,-21],[10,5],[0,9],[7,10],[6,-4],[8,-16],[2,-19],[4,2],[4,-43],[2,18],[7,8],[1,-18],[9,-12],[0,-17],[4,-14],[8,8],[5,18],[8,12],[2,-28],[5,6],[6,-6],[6,4],[8,-24],[7,4],[0,-10],[-10,-24],[-13,-19],[-9,-20],[-12,-49],[-5,-31],[-8,-34],[-13,-46],[2,-16]],[[2450,5296],[-2,9],[-6,-16],[0,-113],[-2,-11],[-8,-16],[-6,-41],[-1,-27],[3,-2],[4,-24],[-3,-29],[0,-33],[-2,-70],[8,-34],[6,-3],[3,-21],[8,-21],[2,-25],[8,-33],[5,-7],[5,-42],[-1,-30],[2,-22]],[[2553,2179],[-3,-8],[-7,4],[-3,12],[-7,-8],[-9,-22],[-3,-14]],[[2498,3062],[53,0],[7,0]],[[2524,3348],[-2,0],[-2,0],[1,-47],[-6,-48]],[[2376,3349],[0,95]],[[2356,4017],[-7,50],[-6,62]],[[2108,5151],[0,-181],[-1,0]],[[2107,4970],[-53,1],[-90,0],[-56,0],[0,-100]],[[1766,5734],[130,-1],[58,1],[154,0]],[[2108,5734],[0,-217],[0,-366]],[[2107,4208],[0,382]],[[2107,4590],[21,0],[49,-1],[88,0],[1,-10],[15,-34],[4,19],[4,-4],[13,0],[15,-36],[2,-27],[5,-5]],[[1823,4398],[0,-954]],[[1654,4398],[37,-1],[47,2]],[[3006,4538],[-2,14],[0,28],[3,11],[-1,27],[3,81],[5,37],[2,43],[3,16],[-1,47],[10,17],[5,33],[-3,31],[4,32],[0,18]],[[3034,4973],[4,49],[6,-5],[2,12]],[[3056,4600],[-3,-35]],[[2962,4152],[-5,-13],[-2,-29],[8,-14],[0,-22],[-3,-103],[-9,-76],[-6,-22],[-5,-48],[-3,31],[-8,16],[-10,42],[-1,28],[0,4],[2,11]],[[2922,3980],[8,15],[0,15],[9,31],[2,17],[-9,39],[0,24],[-3,6],[-1,22],[5,33],[-3,20],[7,40],[2,21],[4,13]],[[2943,4276],[13,-41],[9,-28],[-3,-55]],[[2137,3444],[0,-95]],[[2137,3349],[-1,0],[0,-474],[0,-193],[0,-192],[-101,0],[-1,-18],[3,-22]],[[2037,2450],[-48,0],[0,-87],[-24,0]],[[2972,4205],[13,-15],[2,11],[10,0],[6,6],[8,31],[1,-22],[5,-10],[-11,-28],[-22,-42],[-9,-8],[-6,2],[-5,-9],[-2,31]],[[2943,4276],[-2,14],[-4,1],[-5,32],[1,29],[-4,22],[-2,-2],[-3,27],[-125,0],[0,48],[0,3]],[[2799,4450],[17,54],[3,26],[5,18],[-2,32],[-2,7],[-2,52],[17,22],[15,-1],[6,-5],[6,-21],[4,8],[12,-1],[8,14],[8,34],[5,1],[0,52],[3,31],[-7,21],[2,24],[11,32],[4,28],[14,64],[13,32],[19,-5],[23,4]],[[2981,4973],[1,-39],[-2,-36],[3,-34],[-1,-37],[-3,-39],[2,-52],[-1,-16],[4,-31],[-1,-132],[0,-16]],[[2909,3359],[4,-77],[-8,8],[-1,-10],[-10,-11],[-1,-11],[-7,-3],[0,-13],[8,9],[1,-8],[9,9],[3,-18],[5,8],[2,-46],[-2,-22],[-3,-2],[-8,-47],[-9,-2],[-2,-33],[4,-32],[4,-6],[-6,-54],[-6,7],[-9,-6],[-6,-11],[-10,-37],[-7,-48],[-4,-60],[-6,13],[-11,-12]],[[2833,2844],[-32,181],[-32,4],[1,21],[-5,33],[-3,-12],[0,20],[-35,10],[-8,-8],[-6,-17],[-10,-13]],[[2669,3061],[1,45],[5,4],[3,31],[7,29],[7,1],[7,29],[8,10],[6,43],[4,13],[1,-19],[11,37],[5,-8],[4,36],[5,9],[1,45]],[[2744,3366],[20,-5],[19,-3],[23,-1],[103,2]],[[2321,5149],[-213,2]],[[2108,5734],[194,0]],[[2777,4138],[-4,-10],[2,-21],[0,-29],[-4,-46],[-3,-70],[-11,-62],[-3,-8],[-4,12],[-3,-27],[-3,1],[-4,-36],[1,-22],[-3,-18],[-4,29],[-5,-46],[1,-29],[-3,-11],[-1,-25],[-8,-4]],[[2694,4347],[11,-26],[3,-15],[3,14],[6,-30],[4,-9],[14,25],[7,-6],[9,36],[12,34],[14,24]],[[2777,4394],[0,-256]],[[2380,2803],[-11,21],[-3,22],[-7,18],[-2,-16],[-8,1],[-1,10],[-7,-19],[-3,11],[-6,-10],[-5,-29],[-2,17],[-6,14],[-7,0],[-2,21],[-7,-42],[-2,24],[-3,-8],[-3,16],[-7,15],[-5,-25],[-2,26],[-4,3],[-2,21],[-6,8],[-3,-18],[-3,16],[-5,-2],[-6,17],[-6,-2],[-2,36],[-9,2],[-4,-6],[-6,37],[-2,-3],[0,370],[-52,0],[-34,0]],[[1534,4399],[-4,22],[-2,61],[0,43],[-4,33],[3,32],[2,51],[4,54],[2,48],[3,162],[0,22],[3,71],[1,99],[-2,54],[1,32],[12,29]],[[1553,5212],[5,-22],[4,5],[3,2],[6,-20],[3,-23],[1,-57],[15,-21],[12,30],[8,3],[9,-10],[1,-13],[16,27],[3,-9],[9,5],[7,19],[12,17],[12,4],[4,12],[58,-1]],[[2807,3964],[-30,0],[0,174]],[[2777,4394],[5,11],[17,45]],[[3045,4302],[-6,-4],[3,39]],[[3042,4343],[-4,3],[-3,-28],[-1,-40],[-11,-9]],[[2833,2844],[-5,-10],[-6,-31],[-6,-49],[-1,-40],[-5,-31],[-6,0],[-2,-23],[-6,-25],[-4,-28],[-6,-11],[-6,-29],[-1,-14],[-6,-16],[-6,-40]],[[2107,4590],[0,380]],[[2687,3368],[57,-2]],[[2398,2049],[-5,-1],[-14,-26],[-6,15],[-1,31],[-3,-22],[-3,5],[-1,-27],[3,-11],[0,-36],[-5,-37],[-9,-47],[-17,-51],[-2,9],[-5,-13],[0,12],[-7,-9],[-3,24],[-2,-5],[7,-49],[-5,-16],[-5,10],[-1,-35],[-7,-35],[-6,-66],[-4,-69],[-3,5],[-1,-25],[3,6],[-2,-50],[-2,-2],[0,-28],[3,-16],[1,-57],[3,-20],[0,-37],[3,-32],[-9,-20],[-3,25],[-7,10],[-9,-3],[-8,32],[-5,3],[-5,25],[-6,8],[-4,24],[-2,58],[-5,34],[0,30],[-2,31],[1,27],[-4,30],[-3,4],[-5,27],[-1,34],[-5,32],[-6,26],[-3,57],[-2,16],[-4,46],[-1,38],[-4,27],[-6,24],[-1,16],[-6,15],[-4,42],[-13,9],[-7,-2],[-7,15],[-1,-20],[-7,-6],[-5,-40],[-3,-64],[-2,-1],[-4,-37],[-5,-1],[-7,29],[-17,47],[-4,25],[-6,24],[-5,54],[-1,49],[-4,40],[-2,35],[-3,22],[-11,32],[-6,44],[-4,15],[-6,38],[-7,20],[-5,50],[-4,11]],[[1908,4399],[0,-192],[57,0]],[[2981,4973],[30,-2],[23,2]],[[2927,3641],[-4,-32],[-3,-12],[-3,-44],[-6,-71],[-5,-15],[-1,27],[2,58],[8,74]],[[2874,3756],[-4,-8],[-2,-28],[1,-19],[8,6],[1,-31],[10,-12],[3,-24],[8,-26],[-4,-54],[4,-41],[-4,-20],[-1,-24],[4,-15],[-4,-23],[-6,30],[-1,-10],[5,-22],[14,-5],[3,-71]],[[2736,3547],[-1,-16],[4,-32],[5,-16],[4,1],[5,25],[4,-20],[7,11],[13,36],[1,-11],[5,17],[0,34],[4,30],[5,29],[2,34],[6,36],[2,44],[5,-27],[4,-8],[3,16],[6,68],[4,-17],[13,77],[2,57],[15,-64],[3,37]],[[1553,5212],[-5,7],[-4,-12],[-6,17],[1,26],[4,14],[-6,40],[-4,103],[-2,14],[-3,73],[-6,28],[-2,56],[3,38],[6,-18],[11,-24],[8,1],[8,-9],[8,9],[3,-16],[7,1],[5,-42],[3,3],[1,-56],[2,-52],[3,6],[-3,43],[1,43],[4,44],[-3,18],[-1,31],[-3,35],[2,25],[-2,29],[-5,4],[-4,22],[1,21],[163,0]],[[1576,5602],[4,9],[0,-39],[-5,15],[1,15]],[[1568,5655],[3,25],[4,-30],[-1,-27],[-7,8],[1,24]],[[2576,4989],[-1,-23],[-6,-4],[-4,-44],[-2,-30],[3,-6],[5,20],[4,38],[6,15],[5,48],[6,10],[-1,-25],[-4,-23],[-8,-79],[-2,-44],[0,-32],[-3,-10],[-2,-43],[1,-37],[-3,-24],[-3,-59],[0,-47],[4,-42],[-1,-55]],[[2450,5296],[6,-2],[20,33],[8,17],[2,-13],[-4,-25],[9,-33],[5,-3]]]},g.prototype.usgTopo="__USG__",g.prototype.uzbTopo="__UZB__",g.prototype.vatTopo="__VAT__",g.prototype.vctTopo="__VCT__",g.prototype.venTopo="__VEN__",g.prototype.vgbTopo="__VGB__",g.prototype.virTopo="__VIR__",g.prototype.vnmTopo="__VNM__",g.prototype.vutTopo="__VUT__",g.prototype.wlfTopo="__WLF__",g.prototype.wsbTopo="__WSB__",g.prototype.wsmTopo="__WSM__",g.prototype.yemTopo="__YEM__",g.prototype.zafTopo="__ZAF__",g.prototype.zmbTopo="__ZMB__",g.prototype.zweTopo="__ZWE__",g.prototype.latLngToXY=function(e,t){return this.projection([t,e])},g.prototype.addLayer=function(e,t,n){return(n?this.svg.insert("g",":first-child"):this.svg.append("g")).attr("id",t||"").attr("class",e||"")},g.prototype.updateChoropleth=function(e,t){var n=this.svg;for(var i in t&&!0===t.reset&&n.selectAll(".datamaps-subunit").attr("data-info",(function(){return"{}"})).transition().style("fill",this.options.fills.defaultFill),e)if(e.hasOwnProperty(i)){var r,o=e[i];if(!i)continue;if(r="string"==typeof o?o:"string"==typeof o.color?o.color:"string"==typeof o.fillColor?o.fillColor:this.options.fills[o.fillKey],o===Object(o)){this.options.data[i]=m(o,this.options.data[i]||{});this.svg.select("."+i).attr("data-info",JSON.stringify(this.options.data[i]))}n.selectAll("."+i).transition().style("fill",r)}},g.prototype.updatePopup=function(e,t,n){var r=this;e.on("mousemove",null),e.on("mousemove",(function(){var o=i.mouse(r.options.element);i.select(r.svg[0][0].parentNode).select(".datamaps-hoverover").style("top",o[1]+30+"px").html((function(){var i=JSON.parse(e.attr("data-info"));try{return n.popupTemplate(t,i)}catch(e){return""}})).style("left",o[0]+"px")})),i.select(r.svg[0][0].parentNode).select(".datamaps-hoverover").style("display","block")},g.prototype.addPlugin=function(e,t){var n=this;void 0===g.prototype[e]&&(g.prototype[e]=function(i,r,o,a){var s;void 0===a&&(a=!1),"function"==typeof r&&(o=r,r=void 0),r=m(r||{},n.options[e+"Config"]),!a&&this.options[e+"Layer"]?(s=this.options[e+"Layer"],r=r||this.options[e+"Options"]):(s=this.addLayer(e),this.options[e+"Layer"]=s,this.options[e+"Options"]=r),t.apply(this,[s,i,r]),o&&o(s)})},"object"==typeof n?(i=e("d3"),r=e("topojson"),t.exports=g):"function"==typeof define&&define.amd?define("datamaps",["require","d3","topojson"],(function(e){return i=e("d3"),r=e("topojson"),g})):window.Datamap=window.Datamaps=g,window.jQuery&&(window.jQuery.fn.datamaps=function(e,t){(e=e||{}).element=this[0];var n=new g(e);return"function"==typeof t&&t(n,e),this})}()},{d3:362,topojson:859}],364:[function(e,t,n){!function(e,n){var i=Object.prototype.toString;function r(e,t,n){if(Array.prototype.map)return Array.prototype.map.call(e,t,n);for(var i=new Array(e.length),r=0,o=e.length;r<o;r++)i[r]=t.call(n,e[r],r,e);return i}function o(e){for(var t=[],n=0;n<e.length;n++)e[n]&&t.push(e[n]);return t}function a(e,t,n){var r,o;for(t=t||[],n=n||[],r=0;r<t.length;r+=1)if(t[r]===e)return n[r];if("[object Array]"===i.call(e)){for(t.push(e),o=new Array(e.length),n.push(o),r=0;r<e.length;r+=1)o[r]=a(e[r],t,n);t.pop(),n.pop()}else if("object"==typeof e&&null!==e){t.push(e),o={},n.push(o);var s,u=[];for(s in e)u.push(s);for(u.sort(),r=0;r<u.length;r+=1)o[s=u[r]]=a(e[s],t,n);t.pop(),n.pop()}else o=e;return o}function s(e,t,n,i){for(var o=0,a=e.length,s=0,u=0;o<a;o++){var l=e[o];if(l.removed){if(l.value=n.slice(u,u+l.count).join(""),u+=l.count,o&&e[o-1].added){var c=e[o-1];e[o-1]=e[o],e[o]=c}}else{if(!l.added&&i){var d=t.slice(s,s+l.count);d=r(d,(function(e,t){var i=n[u+t];return i.length>e.length?i:e})),l.value=d.join("")}else l.value=t.slice(s,s+l.count).join("");s+=l.count,l.added||(u+=l.count)}}return e}function u(e){this.ignoreWhitespace=e}u.prototype={diff:function(e,t,i){var r=this;function o(e){return i?(setTimeout((function(){i(n,e)}),0),!0):e}if(t===e)return o([{value:t}]);if(!t)return o([{value:e,removed:!0}]);if(!e)return o([{value:t,added:!0}]);t=this.tokenize(t),e=this.tokenize(e);var a=t.length,u=e.length,l=1,c=a+u,d=[{newPos:-1,components:[]}],p=this.extractCommon(d[0],t,e,0);if(d[0].newPos+1>=a&&p+1>=u)return o([{value:t.join("")}]);function h(){for(var i=-1*l;i<=l;i+=2){var c,p=d[i-1],h=d[i+1],f=(h?h.newPos:0)-i;p&&(d[i-1]=n);var m=p&&p.newPos+1<a,g=h&&0<=f&&f<u;if(m||g){if(!m||g&&p.newPos<h.newPos?(c={newPos:(y=h).newPos,components:y.components.slice(0)},r.pushComponent(c.components,n,!0)):((c=p).newPos++,r.pushComponent(c.components,!0,n)),f=r.extractCommon(c,t,e,i),c.newPos+1>=a&&f+1>=u)return o(s(c.components,t,e,r.useLongestToken));d[i]=c}else d[i]=n}var y;l++}if(i)!function e(){setTimeout((function(){if(l>c)return i();h()||e()}),0)}();else for(;l<=c;){var f=h();if(f)return f}},pushComponent:function(e,t,n){var i=e[e.length-1];i&&i.added===t&&i.removed===n?e[e.length-1]={count:i.count+1,added:t,removed:n}:e.push({count:1,added:t,removed:n})},extractCommon:function(e,t,n,i){for(var r=t.length,o=n.length,a=e.newPos,s=a-i,u=0;a+1<r&&s+1<o&&this.equals(t[a+1],n[s+1]);)a++,s++,u++;return u&&e.components.push({count:u}),e.newPos=a,s},equals:function(e,t){var n=/\S/;return e===t||this.ignoreWhitespace&&!n.test(e)&&!n.test(t)},tokenize:function(e){return e.split("")}};var l=new u,c=new u(!0),d=new u;c.tokenize=d.tokenize=function(e){return o(e.split(/(\s+|\b)/))};var p=new u(!0);p.tokenize=function(e){return o(e.split(/([{}:;,]|\s+)/))};var h=new u,f=new u;f.ignoreTrim=!0,h.tokenize=f.tokenize=function(e){for(var t=[],n=e.split(/^/m),i=0;i<n.length;i++){var r=n[i],o=n[i-1],a=o&&o[o.length-1];"\n"===r&&"\r"===a?t[t.length-1]=t[t.length-1].slice(0,-1)+"\r\n":(this.ignoreTrim&&(r=r.trim(),i<n.length-1&&(r+="\n")),t.push(r))}return t};var m=new u;m.tokenize=function(e){var t=[],n=e.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(var i=0;i<n.length;i++){var r=n[i];i%2?t[t.length-1]+=r:t.push(r)}return t};var g=new u;g.tokenize=function(e){return o(e.split(/(\S.+?[.!?])(?=\s+|$)/))};var y=new u;y.useLongestToken=!0,y.tokenize=h.tokenize,y.equals=function(e,t){return h.equals(e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};var v={Diff:u,diffChars:function(e,t,n){return l.diff(e,t,n)},diffWords:function(e,t,n){return c.diff(e,t,n)},diffWordsWithSpace:function(e,t,n){return d.diff(e,t,n)},diffLines:function(e,t,n){return h.diff(e,t,n)},diffTrimmedLines:function(e,t,n){return f.diff(e,t,n)},diffSentences:function(e,t,n){return g.diff(e,t,n)},diffCss:function(e,t,n){return p.diff(e,t,n)},diffJson:function(e,t,i){return y.diff("string"==typeof e?e:JSON.stringify(a(e),n,"  "),"string"==typeof t?t:JSON.stringify(a(t),n,"  "),i)},createTwoFilesPatch:function(e,t,n,i,o,a){var s=[];e==t&&s.push("Index: "+e),s.push("==================================================================="),s.push("--- "+e+(void 0===o?"":"\t"+o)),s.push("+++ "+t+(void 0===a?"":"\t"+a));var u=m.diff(n,i);function l(e){return r(e,(function(e){return" "+e}))}function c(e,t,n){var i=u[u.length-2],r=t===u.length-2,o=t===u.length-3&&n.added!==i.added;/\n$/.test(n.value)||!r&&!o||e.push("\\ No newline at end of file")}u.push({value:"",lines:[]});for(var d=0,p=0,h=[],f=1,g=1,y=0;y<u.length;y++){var v=u[y],_=v.lines||v.value.replace(/\n$/,"").split("\n");if(v.lines=_,v.added||v.removed){if(!d){var b=u[y-1];d=f,p=g,b&&(d-=(h=l(b.lines.slice(-4))).length,p-=h.length)}h.push.apply(h,r(_,(function(e){return(v.added?"+":"-")+e}))),c(h,y,v),v.added?g+=_.length:f+=_.length}else{if(d)if(_.length<=8&&y<u.length-2)h.push.apply(h,l(_));else{var w=Math.min(_.length,4);s.push("@@ -"+d+","+(f-d+w)+" +"+p+","+(g-p+w)+" @@"),s.push.apply(s,h),s.push.apply(s,l(_.slice(0,w))),_.length<=4&&c(s,y,v),d=0,p=0,h=[]}f+=_.length,g+=_.length}}return s.join("\n")+"\n"},createPatch:function(e,t,n,i,r){return v.createTwoFilesPatch(e,e,t,n,i,r)},applyPatch:function(e,t){for(var n=t.split("\n"),i=[],r=0,o=!1,a=!1;r<n.length&&!/^@@/.test(n[r]);)r++;for(;r<n.length;r++)if("@"===n[r][0]){var s=n[r].split(/@@ -(\d+),(\d+) \+(\d+),(\d+) @@/);i.unshift({start:s[3],oldlength:+s[2],removed:[],newlength:s[4],added:[]})}else"+"===n[r][0]?i[0].added.push(n[r].substr(1)):"-"===n[r][0]?i[0].removed.push(n[r].substr(1)):" "===n[r][0]?(i[0].added.push(n[r].substr(1)),i[0].removed.push(n[r].substr(1))):"\\"===n[r][0]&&("+"===n[r-1][0]?o=!0:"-"===n[r-1][0]&&(a=!0));var u=e.split("\n");for(r=i.length-1;r>=0;r--){for(var l=i[r],c=0;c<l.oldlength;c++)if(u[l.start-1+c]!==l.removed[c])return!1;Array.prototype.splice.apply(u,[l.start-1,l.oldlength].concat(l.added))}if(o)for(;!u[u.length-1];)u.pop();else a&&u.push("");return u.join("\n")},convertChangesToXML:function(e){for(var t,n=[],i=0;i<e.length;i++){var r=e[i];r.added?n.push("<ins>"):r.removed&&n.push("<del>"),n.push((t=r.value,void 0,t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"))),r.added?n.push("</ins>"):r.removed&&n.push("</del>")}return n.join("")},convertChangesToDMP:function(e){for(var t,n,i=[],r=0;r<e.length;r++)n=(t=e[r]).added?1:t.removed?-1:0,i.push([n,t.value]);return i},canonicalize:a};void 0!==t&&t.exports?t.exports=v:"function"==typeof define&&define.amd?define([],(function(){return v})):void 0===e.JsDiff&&(e.JsDiff=v)}(this)},{}],365:[function(e,t,n){t.exports=e("./lib/index")},{"./lib/index":366}],366:[function(e,t,n){t.exports=e("./socket"),t.exports.parser=e("engine.io-parser")},{"./socket":367,"engine.io-parser":379}],367:[function(e,t,n){(function(n){var i=e("./transports/index"),r=e("component-emitter"),o=e("debug")("engine.io-client:socket"),a=e("indexof"),s=e("engine.io-parser"),u=e("parseuri"),l=e("parsejson"),c=e("parseqs");function d(e,t){if(!(this instanceof d))return new d(e,t);t=t||{},e&&"object"==typeof e&&(t=e,e=null),e?(e=u(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=u(t.host).host),this.secure=null!=t.secure?t.secure:n.location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||(n.location?location.hostname:"localhost"),this.port=t.port||(n.location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=c.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate&&(t.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=void 0===t.rejectUnauthorized?null:t.rejectUnauthorized,this.forceNode=!!t.forceNode;var i="object"==typeof n&&n;i.global===i&&(t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}t.exports=d,d.priorWebsocketSuccess=!1,r(d.prototype),d.protocol=s.protocol,d.Socket=d,d.Transport=e("./transport"),d.transports=e("./transports/index"),d.parser=e("engine.io-parser"),d.prototype.createTransport=function(e){o('creating transport "%s"',e);var t=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(this.query);return t.EIO=s.protocol,t.transport=e,this.id&&(t.sid=this.id),new i[e]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:t,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized,perMessageDeflate:this.perMessageDeflate,extraHeaders:this.extraHeaders,forceNode:this.forceNode,localAddress:this.localAddress})},d.prototype.open=function(){var e;if(this.rememberUpgrade&&d.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout((function(){t.emit("error","No transports available")}),0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},d.prototype.setTransport=function(e){o("setting transport %s",e.name);var t=this;this.transport&&(o("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",(function(){t.onDrain()})).on("packet",(function(e){t.onPacket(e)})).on("error",(function(e){t.onError(e)})).on("close",(function(){t.onClose("transport close")}))},d.prototype.probe=function(e){o('probing transport "%s"',e);var t=this.createTransport(e,{probe:1}),n=!1,i=this;function r(){if(i.onlyBinaryUpgrades){var r=!this.supportsBinary&&i.transport.supportsBinary;n=n||r}n||(o('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",(function(r){if(!n)if("pong"===r.type&&"probe"===r.data){if(o('probe transport "%s" pong',e),i.upgrading=!0,i.emit("upgrading",t),!t)return;d.priorWebsocketSuccess="websocket"===t.name,o('pausing current transport "%s"',i.transport.name),i.transport.pause((function(){n||"closed"!==i.readyState&&(o("changing transport and sending upgrade packet"),p(),i.setTransport(t),t.send([{type:"upgrade"}]),i.emit("upgrade",t),t=null,i.upgrading=!1,i.flush())}))}else{o('probe transport "%s" failed',e);var a=new Error("probe error");a.transport=t.name,i.emit("upgradeError",a)}})))}function a(){n||(n=!0,p(),t.close(),t=null)}function s(n){var r=new Error("probe error: "+n);r.transport=t.name,a(),o('probe transport "%s" failed because of error: %s',e,n),i.emit("upgradeError",r)}function u(){s("transport closed")}function l(){s("socket closed")}function c(e){t&&e.name!==t.name&&(o('"%s" works - aborting "%s"',e.name,t.name),a())}function p(){t.removeListener("open",r),t.removeListener("error",s),t.removeListener("close",u),i.removeListener("close",l),i.removeListener("upgrading",c)}d.priorWebsocketSuccess=!1,t.once("open",r),t.once("error",s),t.once("close",u),this.once("close",l),this.once("upgrading",c),t.open()},d.prototype.onOpen=function(){if(o("socket open"),this.readyState="open",d.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){o("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},d.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(o('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(l(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else o('packet received with socket readyState "%s"',this.readyState)},d.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},d.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout((function(){"closed"!==t.readyState&&t.onClose("ping timeout")}),e||t.pingInterval+t.pingTimeout)},d.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout((function(){o("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)}),e.pingInterval)},d.prototype.ping=function(){var e=this;this.sendPacket("ping",(function(){e.emit("ping")}))},d.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},d.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(o("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},d.prototype.write=d.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},d.prototype.sendPacket=function(e,t,n,i){if("function"==typeof t&&(i=t,t=void 0),"function"==typeof n&&(i=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var r={type:e,data:t,options:n};this.emit("packetCreate",r),this.writeBuffer.push(r),i&&this.once("flush",i),this.flush()}},d.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var e=this;this.writeBuffer.length?this.once("drain",(function(){this.upgrading?i():t()})):this.upgrading?i():t()}function t(){e.onClose("forced close"),o("socket closing - telling transport to close"),e.transport.close()}function n(){e.removeListener("upgrade",n),e.removeListener("upgradeError",n),t()}function i(){e.once("upgrade",n),e.once("upgradeError",n)}return this},d.prototype.onError=function(e){o("socket error %j",e),d.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},d.prototype.onClose=function(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){o('socket close with reason: "%s"',e);clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0}},d.prototype.filterUpgrades=function(e){for(var t=[],n=0,i=e.length;n<i;n++)~a(this.transports,e[n])&&t.push(e[n]);return t}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./transport":368,"./transports/index":369,"component-emitter":375,debug:376,"engine.io-parser":379,indexof:470,parsejson:515,parseqs:516,parseuri:517}],368:[function(e,t,n){var i=e("engine.io-parser"),r=e("component-emitter");function o(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}t.exports=o,r(o.prototype),o.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},o.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},o.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},o.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},o.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},o.prototype.onData=function(e){var t=i.decodePacket(e,this.socket.binaryType);this.onPacket(t)},o.prototype.onPacket=function(e){this.emit("packet",e)},o.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},{"component-emitter":375,"engine.io-parser":379}],369:[function(e,t,n){(function(t){var i=e("xmlhttprequest-ssl"),r=e("./polling-xhr"),o=e("./polling-jsonp"),a=e("./websocket");n.polling=function(e){var n=!1,a=!1,s=!1!==e.jsonp;if(t.location){var u="https:"===location.protocol,l=location.port;l||(l=u?443:80),n=e.hostname!==location.hostname||l!==e.port,a=e.secure!==u}if(e.xdomain=n,e.xscheme=a,"open"in new i(e)&&!e.forceJSONP)return new r(e);if(!s)throw new Error("JSONP disabled");return new o(e)},n.websocket=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling-jsonp":370,"./polling-xhr":371,"./websocket":373,"xmlhttprequest-ssl":374}],370:[function(e,t,n){(function(n){var i=e("./polling"),r=e("component-inherit");t.exports=l;var o,a=/\n/g,s=/\\n/g;function u(){}function l(e){i.call(this,e),this.query=this.query||{},o||(n.___eio||(n.___eio=[]),o=n.___eio),this.index=o.length;var t=this;o.push((function(e){t.onData(e)})),this.query.j=this.index,n.document&&n.addEventListener&&n.addEventListener("beforeunload",(function(){t.script&&(t.script.onerror=u)}),!1)}r(l,i),l.prototype.supportsBinary=!1,l.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),i.prototype.doClose.call(this)},l.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout((function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)}),100)},l.prototype.doWrite=function(e,t){var n=this;if(!this.form){var i,r=document.createElement("form"),o=document.createElement("textarea"),u=this.iframeId="eio_iframe_"+this.index;r.className="socketio",r.style.position="absolute",r.style.top="-1000px",r.style.left="-1000px",r.target=u,r.method="POST",r.setAttribute("accept-charset","utf-8"),o.name="d",r.appendChild(o),document.body.appendChild(r),this.form=r,this.area=o}function l(){c(),t()}function c(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(e){n.onError("jsonp polling iframe removal error",e)}try{var e='<iframe src="javascript:0" name="'+n.iframeId+'">';i=document.createElement(e)}catch(e){(i=document.createElement("iframe")).name=n.iframeId,i.src="javascript:0"}i.id=n.iframeId,n.form.appendChild(i),n.iframe=i}this.form.action=this.uri(),c(),e=e.replace(s,"\\\n"),this.area.value=e.replace(a,"\\n");try{this.form.submit()}catch(e){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&l()}:this.iframe.onload=l}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":372,"component-inherit":291}],371:[function(e,t,n){(function(n){var i=e("xmlhttprequest-ssl"),r=e("./polling"),o=e("component-emitter"),a=e("component-inherit"),s=e("debug")("engine.io-client:polling-xhr");function u(){}function l(e){if(r.call(this,e),this.requestTimeout=e.requestTimeout,n.location){var t="https:"===location.protocol,i=location.port;i||(i=t?443:80),this.xd=e.hostname!==n.location.hostname||i!==e.port,this.xs=e.secure!==t}else this.extraHeaders=e.extraHeaders}function c(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}function d(){for(var e in c.requests)c.requests.hasOwnProperty(e)&&c.requests[e].abort()}t.exports=l,t.exports.Request=c,a(l,r),l.prototype.supportsBinary=!0,l.prototype.request=function(e){return(e=e||{}).uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new c(e)},l.prototype.doWrite=function(e,t){var n="string"!=typeof e&&void 0!==e,i=this.request({method:"POST",data:e,isBinary:n}),r=this;i.on("success",t),i.on("error",(function(e){r.onError("xhr post error",e)})),this.sendXhr=i},l.prototype.doPoll=function(){s("xhr poll");var e=this.request(),t=this;e.on("data",(function(e){t.onData(e)})),e.on("error",(function(e){t.onError("xhr poll error",e)})),this.pollXhr=e},o(c.prototype),c.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new i(e),r=this;try{s("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var o in t.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(o)&&t.setRequestHeader(o,this.extraHeaders[o])}catch(e){}if(this.supportsBinary&&(t.responseType="arraybuffer"),"POST"===this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{t.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in t&&(t.withCredentials=!0),this.requestTimeout&&(t.timeout=this.requestTimeout),this.hasXDR()?(t.onload=function(){r.onLoad()},t.onerror=function(){r.onError(t.responseText)}):t.onreadystatechange=function(){4===t.readyState&&(200===t.status||1223===t.status?r.onLoad():setTimeout((function(){r.onError(t.status)}),0))},s("xhr data %s",this.data),t.send(this.data)}catch(e){return void setTimeout((function(){r.onError(e)}),0)}n.document&&(this.index=c.requestsCount++,c.requests[this.index]=this)},c.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},c.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},c.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},c.prototype.cleanup=function(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=u:this.xhr.onreadystatechange=u,e)try{this.xhr.abort()}catch(e){}n.document&&delete c.requests[this.index],this.xhr=null}},c.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(e){}if("application/octet-stream"===t)e=this.xhr.response||this.xhr.responseText;else if(this.supportsBinary)try{e=String.fromCharCode.apply(null,new Uint8Array(this.xhr.response))}catch(t){for(var n=new Uint8Array(this.xhr.response),i=[],r=0,o=n.length;r<o;r++)i.push(n[r]);e=String.fromCharCode.apply(null,i)}else e=this.xhr.responseText}catch(e){this.onError(e)}null!=e&&this.onData(e)},c.prototype.hasXDR=function(){return void 0!==n.XDomainRequest&&!this.xs&&this.enablesXDR},c.prototype.abort=function(){this.cleanup()},c.requestsCount=0,c.requests={},n.document&&(n.attachEvent?n.attachEvent("onunload",d):n.addEventListener&&n.addEventListener("beforeunload",d,!1))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":372,"component-emitter":375,"component-inherit":291,debug:376,"xmlhttprequest-ssl":374}],372:[function(e,t,n){var i=e("../transport"),r=e("parseqs"),o=e("engine.io-parser"),a=e("component-inherit"),s=e("yeast"),u=e("debug")("engine.io-client:polling");t.exports=c;var l=null!=new(e("xmlhttprequest-ssl"))({xdomain:!1}).responseType;function c(e){var t=e&&e.forceBase64;l&&!t||(this.supportsBinary=!1),i.call(this,e)}a(c,i),c.prototype.name="polling",c.prototype.doOpen=function(){this.poll()},c.prototype.pause=function(e){var t=this;function n(){u("paused"),t.readyState="paused",e()}if(this.readyState="pausing",this.polling||!this.writable){var i=0;this.polling&&(u("we are currently polling - waiting to pause"),i++,this.once("pollComplete",(function(){u("pre-pause polling complete"),--i||n()}))),this.writable||(u("we are currently writing - waiting to pause"),i++,this.once("drain",(function(){u("pre-pause writing complete"),--i||n()})))}else n()},c.prototype.poll=function(){u("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},c.prototype.onData=function(e){var t=this;u("polling got data %s",e);o.decodePayload(e,this.socket.binaryType,(function(e,n,i){if("opening"===t.readyState&&t.onOpen(),"close"===e.type)return t.onClose(),!1;t.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():u('ignoring poll - transport state "%s"',this.readyState))},c.prototype.doClose=function(){var e=this;function t(){u("writing close packet"),e.write([{type:"close"}])}"open"===this.readyState?(u("transport open - closing"),t()):(u("transport not open - deferring close"),this.once("open",t))},c.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")};o.encodePayload(e,this.supportsBinary,(function(e){t.doWrite(e,n)}))},c.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(e[this.timestampParam]=s()),this.supportsBinary||e.sid||(e.b64=1),e=r.encode(e),this.port&&("https"===t&&443!==Number(this.port)||"http"===t&&80!==Number(this.port))&&(n=":"+this.port),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e}},{"../transport":368,"component-inherit":291,debug:376,"engine.io-parser":379,parseqs:516,"xmlhttprequest-ssl":374,yeast:875}],373:[function(e,t,n){(function(n){var i,r=e("../transport"),o=e("engine.io-parser"),a=e("parseqs"),s=e("component-inherit"),u=e("yeast"),l=e("debug")("engine.io-client:websocket"),c=n.WebSocket||n.MozWebSocket;if("undefined"==typeof window)try{i=e("ws")}catch(e){}var d=c;function p(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=c&&!e.forceNode,this.usingBrowserWebSocket||(d=i),r.call(this,e)}d||"undefined"!=typeof window||(d=i),t.exports=p,s(p,r),p.prototype.name="websocket",p.prototype.supportsBinary=!0,p.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t={agent:this.agent,perMessageDeflate:this.perMessageDeflate};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(t.headers=this.extraHeaders),this.localAddress&&(t.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?new d(e):new d(e,void 0,t)}catch(e){return this.emit("error",e)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},p.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},p.prototype.write=function(e){var t=this;this.writable=!1;for(var i=e.length,r=0,a=i;r<a;r++)!function(e){o.encodePacket(e,t.supportsBinary,(function(r){if(!t.usingBrowserWebSocket){var o={};if(e.options&&(o.compress=e.options.compress),t.perMessageDeflate)("string"==typeof r?n.Buffer.byteLength(r):r.length)<t.perMessageDeflate.threshold&&(o.compress=!1)}try{t.usingBrowserWebSocket?t.ws.send(r):t.ws.send(r,o)}catch(e){l("websocket closed before onclose event")}--i||s()}))}(e[r]);function s(){t.emit("flush"),setTimeout((function(){t.writable=!0,t.emit("drain")}),0)}},p.prototype.onClose=function(){r.prototype.onClose.call(this)},p.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},p.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";return this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=u()),this.supportsBinary||(e.b64=1),(e=a.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e},p.prototype.check=function(){return!(!d||"__initialize"in d&&this.name===p.prototype.name)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../transport":368,"component-inherit":291,debug:376,"engine.io-parser":379,parseqs:516,ws:282,yeast:875}],374:[function(e,t,n){(function(n){var i=e("has-cors");t.exports=function(e){var t=e.xdomain,r=e.xscheme,o=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||i))return new XMLHttpRequest}catch(e){}try{if("undefined"!=typeof XDomainRequest&&!r&&o)return new XDomainRequest}catch(e){}if(!t)try{return new(n[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"has-cors":466}],375:[function(e,t,n){function i(e){if(e)return function(e){for(var t in i.prototype)e[t]=i.prototype[t];return e}(e)}void 0!==t&&(t.exports=i),i.prototype.on=i.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},i.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,i=this._callbacks["$"+e];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r=0;r<i.length;r++)if((n=i[r])===t||n.fn===t){i.splice(r,1);break}return this},i.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var i=0,r=(n=n.slice(0)).length;i<r;++i)n[i].apply(this,t);return this},i.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},i.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],376:[function(e,t,n){(function(i){function r(){try{return n.storage.debug}catch(e){}if(void 0!==i&&"env"in i)return i.env.DEBUG}(n=t.exports=e("./debug")).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},n.formatArgs=function(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff),!t)return e;var i="color: "+this.color;e=[e[0],i,"color: inherit"].concat(Array.prototype.slice.call(e,1));var r=0,o=0;return e[0].replace(/%[a-z%]/g,(function(e){"%%"!==e&&(r++,"%c"===e&&(o=r))})),e.splice(o,0,i),e},n.save=function(e){try{null==e?n.storage.removeItem("debug"):n.storage.debug=e}catch(e){}},n.load=r,n.useColors=function(){return"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31},n.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},n.enable(r())}).call(this,e("_process"))},{"./debug":377,_process:519}],377:[function(e,t,n){(n=t.exports=a.debug=a).coerce=function(e){return e instanceof Error?e.stack||e.message:e},n.disable=function(){n.enable("")},n.enable=function(e){n.save(e);for(var t=(e||"").split(/[\s,]+/),i=t.length,r=0;r<i;r++)t[r]&&("-"===(e=t[r].replace(/[\\^$+?.()|[\]{}]/g,"\\$&").replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")))},n.enabled=function(e){var t,i;for(t=0,i=n.skips.length;t<i;t++)if(n.skips[t].test(e))return!1;for(t=0,i=n.names.length;t<i;t++)if(n.names[t].test(e))return!0;return!1},n.humanize=e("ms"),n.names=[],n.skips=[],n.formatters={};var i,r=0;function o(){return n.colors[r++%n.colors.length]}function a(e){function t(){}function r(){var e=r,t=+new Date,a=t-(i||t);e.diff=a,e.prev=i,e.curr=t,i=t,null==e.useColors&&(e.useColors=n.useColors()),null==e.color&&e.useColors&&(e.color=o());for(var s=new Array(arguments.length),u=0;u<s.length;u++)s[u]=arguments[u];s[0]=n.coerce(s[0]),"string"!=typeof s[0]&&(s=["%o"].concat(s));var l=0;s[0]=s[0].replace(/%([a-z%])/g,(function(t,i){if("%%"===t)return t;l++;var r=n.formatters[i];if("function"==typeof r){var o=s[l];t=r.call(e,o),s.splice(l,1),l--}return t})),s=n.formatArgs.apply(e,s);var c=r.log||n.log||console.log.bind(console);c.apply(e,s)}t.enabled=!1,r.enabled=!0;var a=n.enabled(e)?r:t;return a.namespace=e,a}},{ms:378}],378:[function(e,t,n){var i=1e3,r=60*i,o=60*r,a=24*o,s=365.25*a;function u(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}t.exports=function(e,t){t=t||{};var n,l=typeof e;if("string"===l&&e.length>0)return function(e){if((e=String(e)).length>1e4)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*s;case"days":case"day":case"d":return n*a;case"hours":case"hour":case"hrs":case"hr":case"h":return n*o;case"minutes":case"minute":case"mins":case"min":case"m":return n*r;case"seconds":case"second":case"secs":case"sec":case"s":return n*i;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}(e);if("number"===l&&!1===isNaN(e))return t.long?u(n=e,a,"day")||u(n,o,"hour")||u(n,r,"minute")||u(n,i,"second")||n+" ms":function(e){if(e>=a)return Math.round(e/a)+"d";if(e>=o)return Math.round(e/o)+"h";if(e>=r)return Math.round(e/r)+"m";if(e>=i)return Math.round(e/i)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},{}],379:[function(e,t,n){(function(t){var i,r=e("./keys"),o=e("has-binary"),a=e("arraybuffer.slice"),s=e("after"),u=e("wtf-8");t&&t.ArrayBuffer&&(i=e("base64-arraybuffer"));var l="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),c="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),d=l||c;n.protocol=3;var p=n.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},h=r(p),f={type:"error",data:"parser error"},m=e("blob");function g(e,t,n){for(var i=new Array(e.length),r=s(e.length,n),o=function(e,n,r){t(n,(function(t,n){i[e]=n,r(t,i)}))},a=0;a<e.length;a++)o(a,e[a],r)}n.encodePacket=function(e,i,r,o){"function"==typeof i&&(o=i,i=!1),"function"==typeof r&&(o=r,r=null);var a=void 0===e.data?void 0:e.data.buffer||e.data;if(t.ArrayBuffer&&a instanceof ArrayBuffer)return function(e,t,i){if(!t)return n.encodeBase64Packet(e,i);var r=e.data,o=new Uint8Array(r),a=new Uint8Array(1+r.byteLength);a[0]=p[e.type];for(var s=0;s<o.length;s++)a[s+1]=o[s];return i(a.buffer)}(e,i,o);if(m&&a instanceof t.Blob)return function(e,t,i){if(!t)return n.encodeBase64Packet(e,i);if(d)return function(e,t,i){if(!t)return n.encodeBase64Packet(e,i);var r=new FileReader;return r.onload=function(){e.data=r.result,n.encodePacket(e,t,!0,i)},r.readAsArrayBuffer(e.data)}(e,t,i);var r=new Uint8Array(1);r[0]=p[e.type];var o=new m([r.buffer,e.data]);return i(o)}(e,i,o);if(a&&a.base64)return function(e,t){var i="b"+n.packets[e.type]+e.data.data;return t(i)}(e,o);var s=p[e.type];return void 0!==e.data&&(s+=r?u.encode(String(e.data)):String(e.data)),o(""+s)},n.encodeBase64Packet=function(e,i){var r,o="b"+n.packets[e.type];if(m&&e.data instanceof t.Blob){var a=new FileReader;return a.onload=function(){var e=a.result.split(",")[1];i(o+e)},a.readAsDataURL(e.data)}try{r=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(t){for(var s=new Uint8Array(e.data),u=new Array(s.length),l=0;l<s.length;l++)u[l]=s[l];r=String.fromCharCode.apply(null,u)}return o+=t.btoa(r),i(o)},n.decodePacket=function(e,t,i){if(void 0===e)return f;if("string"==typeof e){if("b"==e.charAt(0))return n.decodeBase64Packet(e.substr(1),t);if(i&&!1===(e=function(e){try{e=u.decode(e)}catch(e){return!1}return e}(e)))return f;var r=e.charAt(0);return Number(r)==r&&h[r]?e.length>1?{type:h[r],data:e.substring(1)}:{type:h[r]}:f}r=new Uint8Array(e)[0];var o=a(e,1);return m&&"blob"===t&&(o=new m([o])),{type:h[r],data:o}},n.decodeBase64Packet=function(e,t){var n=h[e.charAt(0)];if(!i)return{type:n,data:{base64:!0,data:e.substr(1)}};var r=i.decode(e.substr(1));return"blob"===t&&m&&(r=new m([r])),{type:n,data:r}},n.encodePayload=function(e,t,i){"function"==typeof t&&(i=t,t=null);var r=o(e);if(t&&r)return m&&!d?n.encodePayloadAsBlob(e,i):n.encodePayloadAsArrayBuffer(e,i);if(!e.length)return i("0:");g(e,(function(e,i){n.encodePacket(e,!!r&&t,!0,(function(e){i(null,function(e){return e.length+":"+e}(e))}))}),(function(e,t){return i(t.join(""))}))},n.decodePayload=function(e,t,i){if("string"!=typeof e)return n.decodePayloadAsBinary(e,t,i);var r;if("function"==typeof t&&(i=t,t=null),""==e)return i(f,0,1);for(var o,a,s="",u=0,l=e.length;u<l;u++){var c=e.charAt(u);if(":"!=c)s+=c;else{if(""==s||s!=(o=Number(s)))return i(f,0,1);if(s!=(a=e.substr(u+1,o)).length)return i(f,0,1);if(a.length){if(r=n.decodePacket(a,t,!0),f.type==r.type&&f.data==r.data)return i(f,0,1);if(!1===i(r,u+o,l))return}u+=o,s=""}}return""!=s?i(f,0,1):void 0},n.encodePayloadAsArrayBuffer=function(e,t){if(!e.length)return t(new ArrayBuffer(0));g(e,(function(e,t){n.encodePacket(e,!0,!0,(function(e){return t(null,e)}))}),(function(e,n){var i=n.reduce((function(e,t){var n;return e+(n="string"==typeof t?t.length:t.byteLength).toString().length+n+2}),0),r=new Uint8Array(i),o=0;return n.forEach((function(e){var t="string"==typeof e,n=e;if(t){for(var i=new Uint8Array(e.length),a=0;a<e.length;a++)i[a]=e.charCodeAt(a);n=i.buffer}r[o++]=t?0:1;var s=n.byteLength.toString();for(a=0;a<s.length;a++)r[o++]=parseInt(s[a]);r[o++]=255;for(i=new Uint8Array(n),a=0;a<i.length;a++)r[o++]=i[a]})),t(r.buffer)}))},n.encodePayloadAsBlob=function(e,t){g(e,(function(e,t){n.encodePacket(e,!0,!0,(function(e){var n=new Uint8Array(1);if(n[0]=1,"string"==typeof e){for(var i=new Uint8Array(e.length),r=0;r<e.length;r++)i[r]=e.charCodeAt(r);e=i.buffer,n[0]=0}var o=(e instanceof ArrayBuffer?e.byteLength:e.size).toString(),a=new Uint8Array(o.length+1);for(r=0;r<o.length;r++)a[r]=parseInt(o[r]);if(a[o.length]=255,m){var s=new m([n.buffer,a.buffer,e]);t(null,s)}}))}),(function(e,n){return t(new m(n))}))},n.decodePayloadAsBinary=function(e,t,i){"function"==typeof t&&(i=t,t=null);for(var r=e,o=[],s=!1;r.byteLength>0;){for(var u=new Uint8Array(r),l=0===u[0],c="",d=1;255!=u[d];d++){if(c.length>310){s=!0;break}c+=u[d]}if(s)return i(f,0,1);r=a(r,2+c.length),c=parseInt(c);var p=a(r,0,c);if(l)try{p=String.fromCharCode.apply(null,new Uint8Array(p))}catch(e){var h=new Uint8Array(p);p="";for(d=0;d<h.length;d++)p+=String.fromCharCode(h[d])}o.push(p),r=a(r,c)}var m=o.length;o.forEach((function(e,r){i(n.decodePacket(e,t,!0),r,m)}))}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./keys":380,after:271,"arraybuffer.slice":272,"base64-arraybuffer":279,blob:281,"has-binary":464,"wtf-8":874}],380:[function(e,t,n){t.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var i in e)n.call(e,i)&&t.push(i);return t}},{}],381:[function(e,t,n){"use strict";t.exports=e("./is-implemented")()?Array.from:e("./shim")},{"./is-implemented":382,"./shim":383}],382:[function(e,t,n){"use strict";t.exports=function(){var e,t,n=Array.from;return"function"==typeof n&&(t=n(e=["raz","dwa"]),Boolean(t&&t!==e&&"dwa"===t[1]))}},{}],383:[function(e,t,n){"use strict";var i=e("es6-symbol").iterator,r=e("../../function/is-arguments"),o=e("../../function/is-function"),a=e("../../number/to-pos-integer"),s=e("../../object/valid-callable"),u=e("../../object/valid-value"),l=e("../../object/is-value"),c=e("../../string/is-string"),d=Array.isArray,p=Function.prototype.call,h={configurable:!0,enumerable:!0,writable:!0,value:null},f=Object.defineProperty;t.exports=function(e){var t,n,m,g,y,v,_,b,w,E,S=arguments[1],T=arguments[2];if(e=Object(u(e)),l(S)&&s(S),this&&this!==Array&&o(this))t=this;else{if(!S){if(r(e))return 1!==(y=e.length)?Array.apply(null,e):((g=new Array(1))[0]=e[0],g);if(d(e)){for(g=new Array(y=e.length),n=0;n<y;++n)g[n]=e[n];return g}}g=[]}if(!d(e))if(void 0!==(w=e[i])){for(_=s(w).call(e),t&&(g=new t),b=_.next(),n=0;!b.done;)E=S?p.call(S,T,b.value,n):b.value,t?(h.value=E,f(g,n,h)):g[n]=E,b=_.next(),++n;y=n}else if(c(e)){for(y=e.length,t&&(g=new t),n=0,m=0;n<y;++n)E=e[n],n+1<y&&(v=E.charCodeAt(0))>=55296&&v<=56319&&(E+=e[++n]),E=S?p.call(S,T,E,m):E,t?(h.value=E,f(g,m,h)):g[m]=E,++m;y=m}if(void 0===y)for(y=a(e.length),t&&(g=new t(y)),n=0;n<y;++n)E=S?p.call(S,T,e[n],n):e[n],t?(h.value=E,f(g,n,h)):g[n]=E;return t&&(h.value=null,g.length=y),g}},{"../../function/is-arguments":384,"../../function/is-function":385,"../../number/to-pos-integer":391,"../../object/is-value":395,"../../object/valid-callable":401,"../../object/valid-value":402,"../../string/is-string":406,"es6-symbol":407}],384:[function(e,t,n){"use strict";var i=Object.prototype.toString,r=i.call(function(){return arguments}());t.exports=function(e){return i.call(e)===r}},{}],385:[function(e,t,n){"use strict";var i=Object.prototype.toString,r=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);t.exports=function(e){return"function"==typeof e&&r(i.call(e))}},{}],386:[function(e,t,n){"use strict";t.exports=function(){}},{}],387:[function(e,t,n){"use strict";t.exports=e("./is-implemented")()?Math.sign:e("./shim")},{"./is-implemented":388,"./shim":389}],388:[function(e,t,n){"use strict";t.exports=function(){var e=Math.sign;return"function"==typeof e&&(1===e(10)&&-1===e(-20))}},{}],389:[function(e,t,n){"use strict";t.exports=function(e){return e=Number(e),isNaN(e)||0===e?e:e>0?1:-1}},{}],390:[function(e,t,n){"use strict";var i=e("../math/sign"),r=Math.abs,o=Math.floor;t.exports=function(e){return isNaN(e)?0:0!==(e=Number(e))&&isFinite(e)?i(e)*o(r(e)):e}},{"../math/sign":387}],391:[function(e,t,n){"use strict";var i=e("./to-integer"),r=Math.max;t.exports=function(e){return r(0,i(e))}},{"./to-integer":390}],392:[function(e,t,n){"use strict";t.exports=e("./is-implemented")()?Object.assign:e("./shim")},{"./is-implemented":393,"./shim":394}],393:[function(e,t,n){"use strict";t.exports=function(){var e,t=Object.assign;return"function"==typeof t&&(t(e={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},{}],394:[function(e,t,n){"use strict";var i=e("../keys"),r=e("../valid-value"),o=Math.max;t.exports=function(e,t){var n,a,s,u=o(arguments.length,2);for(e=Object(r(e)),s=function(i){try{e[i]=t[i]}catch(e){n||(n=e)}},a=1;a<u;++a)i(t=arguments[a]).forEach(s);if(void 0!==n)throw n;return e}},{"../keys":396,"../valid-value":402}],395:[function(e,t,n){"use strict";var i=e("../function/noop")();t.exports=function(e){return e!==i&&null!==e}},{"../function/noop":386}],396:[function(e,t,n){"use strict";t.exports=e("./is-implemented")()?Object.keys:e("./shim")},{"./is-implemented":397,"./shim":398}],397:[function(e,t,n){"use strict";t.exports=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}},{}],398:[function(e,t,n){"use strict";var i=e("../is-value"),r=Object.keys;t.exports=function(e){return r(i(e)?Object(e):e)}},{"../is-value":395}],399:[function(e,t,n){"use strict";var i=e("./is-value"),r=Array.prototype.forEach,o=Object.create,a=function(e,t){var n;for(n in e)t[n]=e[n]};t.exports=function(e){var t=o(null);return r.call(arguments,(function(e){i(e)&&a(Object(e),t)})),t}},{"./is-value":395}],400:[function(e,t,n){"use strict";var i=Array.prototype.forEach,r=Object.create;t.exports=function(e){var t=r(null);return i.call(arguments,(function(e){t[e]=!0})),t}},{}],401:[function(e,t,n){"use strict";t.exports=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e}},{}],402:[function(e,t,n){"use strict";var i=e("./is-value");t.exports=function(e){if(!i(e))throw new TypeError("Cannot use null or undefined");return e}},{"./is-value":395}],403:[function(e,t,n){"use strict";t.exports=e("./is-implemented")()?String.prototype.contains:e("./shim")},{"./is-implemented":404,"./shim":405}],404:[function(e,t,n){"use strict";var i="razdwatrzy";t.exports=function(){return"function"==typeof i.contains&&(!0===i.contains("dwa")&&!1===i.contains("foo"))}},{}],405:[function(e,t,n){"use strict";var i=String.prototype.indexOf;t.exports=function(e){return i.call(this,e,arguments[1])>-1}},{}],406:[function(e,t,n){"use strict";var i=Object.prototype.toString,r=i.call("");t.exports=function(e){return"string"==typeof e||e&&"object"==typeof e&&(e instanceof String||i.call(e)===r)||!1}},{}],407:[function(e,t,n){"use strict";t.exports=e("./is-implemented")()?e("ext/global-this").Symbol:e("./polyfill")},{"./is-implemented":408,"./polyfill":413,"ext/global-this":426}],408:[function(e,t,n){"use strict";var i=e("ext/global-this"),r={object:!0,symbol:!0};t.exports=function(){var e,t=i.Symbol;if("function"!=typeof t)return!1;e=t("test symbol");try{String(e)}catch(e){return!1}return!!r[typeof t.iterator]&&(!!r[typeof t.toPrimitive]&&!!r[typeof t.toStringTag])}},{"ext/global-this":426}],409:[function(e,t,n){"use strict";t.exports=function(e){return!!e&&("symbol"==typeof e||!!e.constructor&&("Symbol"===e.constructor.name&&"Symbol"===e[e.constructor.toStringTag]))}},{}],410:[function(e,t,n){"use strict";var i=e("d"),r=Object.create,o=Object.defineProperty,a=Object.prototype,s=r(null);t.exports=function(e){for(var t,n,r=0;s[e+(r||"")];)++r;return s[e+=r||""]=!0,o(a,t="@@"+e,i.gs(null,(function(e){n||(n=!0,o(this,t,i(e)),n=!1)}))),t}},{d:361}],411:[function(e,t,n){"use strict";var i=e("d"),r=e("ext/global-this").Symbol;t.exports=function(e){return Object.defineProperties(e,{hasInstance:i("",r&&r.hasInstance||e("hasInstance")),isConcatSpreadable:i("",r&&r.isConcatSpreadable||e("isConcatSpreadable")),iterator:i("",r&&r.iterator||e("iterator")),match:i("",r&&r.match||e("match")),replace:i("",r&&r.replace||e("replace")),search:i("",r&&r.search||e("search")),species:i("",r&&r.species||e("species")),split:i("",r&&r.split||e("split")),toPrimitive:i("",r&&r.toPrimitive||e("toPrimitive")),toStringTag:i("",r&&r.toStringTag||e("toStringTag")),unscopables:i("",r&&r.unscopables||e("unscopables"))})}},{d:361,"ext/global-this":426}],412:[function(e,t,n){"use strict";var i=e("d"),r=e("../../../validate-symbol"),o=Object.create(null);t.exports=function(e){return Object.defineProperties(e,{for:i((function(t){return o[t]?o[t]:o[t]=e(String(t))})),keyFor:i((function(e){var t;for(t in r(e),o)if(o[t]===e)return t}))})}},{"../../../validate-symbol":414,d:361}],413:[function(e,t,n){"use strict";var i,r,o,a=e("d"),s=e("./validate-symbol"),u=e("ext/global-this").Symbol,l=e("./lib/private/generate-name"),c=e("./lib/private/setup/standard-symbols"),d=e("./lib/private/setup/symbol-registry"),p=Object.create,h=Object.defineProperties,f=Object.defineProperty;if("function"==typeof u)try{String(u()),o=!0}catch(e){}else u=null;r=function(e){if(this instanceof r)throw new TypeError("Symbol is not a constructor");return i(e)},t.exports=i=function e(t){var n;if(this instanceof e)throw new TypeError("Symbol is not a constructor");return o?u(t):(n=p(r.prototype),t=void 0===t?"":String(t),h(n,{__description__:a("",t),__name__:a("",l(t))}))},c(i),d(i),h(r.prototype,{constructor:a(i),toString:a("",(function(){return this.__name__}))}),h(i.prototype,{toString:a((function(){return"Symbol ("+s(this).__description__+")"})),valueOf:a((function(){return s(this)}))}),f(i.prototype,i.toPrimitive,a("",(function(){var e=s(this);return"symbol"==typeof e?e:e.toString()}))),f(i.prototype,i.toStringTag,a("c","Symbol")),f(r.prototype,i.toStringTag,a("c",i.prototype[i.toStringTag])),f(r.prototype,i.toPrimitive,a("c",i.prototype[i.toPrimitive]))},{"./lib/private/generate-name":410,"./lib/private/setup/standard-symbols":411,"./lib/private/setup/symbol-registry":412,"./validate-symbol":414,d:361,"ext/global-this":426}],414:[function(e,t,n){"use strict";var i=e("./is-symbol");t.exports=function(e){if(!i(e))throw new TypeError(e+" is not a symbol");return e}},{"./is-symbol":409}],415:[function(e,t,n){"use strict";var i,r,o,a,s,u,l,c,d,p,h=e("esniff");s=function(e){return"\\"===e?u:"$"===e?l:(r+=e,s)},u=function(e){return"\\"!==e&&"$"!==e&&(r+="\\"),r+=e,s},l=function(e){return"{"===e?(o.push(r),r="",c):"$"===e?(r+="$",l):(r+="$"+e,s)},c=function(e){var t,n=p.slice(i);return h(n,"}",(function(e){if(h.nest>=0)return h.next();t=e})),null!=t?(a.push(p.slice(i,i+t)),i+=t,r="",s):(t=n.length,i+=t,r+=n,c)},d=function(e){return"\\"!==e&&"}"!==e&&(r+="\\"),r+=e,c},t.exports=function(e){var t,n,h;for(r="",o=[],a=[],t=(p=String(e)).length,n=s,i=0;i<t;++i)n=n(p[i]);return n===s?o.push(r):n===u?o.push(r+"\\"):n===l?o.push(r+"$"):n===c?o[o.length-1]+="${"+r:n===d&&(o[o.length-1]+="${"+r+"\\"),h={literals:o,substitutions:a},o=a=null,h}},{esniff:420}],416:[function(e,t,n){"use strict";var i=e("./compile"),r=e("./resolve-to-string");t.exports=function(e,t){return r(i(e),t,arguments[2])}},{"./compile":415,"./resolve-to-string":418}],417:[function(e,t,n){"use strict";var i=Array.prototype.reduce;t.exports=function(e){var t=arguments;return i.call(e,(function(e,n,i){return e+(void 0===t[i]?"":String(t[i]))+n}))}},{}],418:[function(e,t,n){"use strict";var i=e("./resolve"),r=e("./passthru");t.exports=function(e,t){return r.apply(null,i(e,t,arguments[2]))}},{"./passthru":417,"./resolve":419}],419:[function(e,t,n){"use strict";var i=e("es5-ext/object/valid-value"),r=e("es5-ext/object/normalize-options"),o=e("esniff/is-var-name-valid"),a=Array.prototype.map,s=Object.keys,u=JSON.stringify;t.exports=function(e,t){var n,l,c,d=Object(arguments[2]);return i(e)&&i(e.literals)&&i(e.substitutions),t=r(t),n=s(t).filter(o),l=n.join(", "),c=n.map((function(e){return t[e]})),[e.literals].concat(a.call(e.substitutions,(function(e){var t;if(e){try{t=new Function(l,"return ("+e+")")}catch(t){throw new TypeError("Unable to compile expression:\n\targs: "+u(l)+"\n\tbody: "+u(e)+"\n\terror: "+t.stack)}try{return t.apply(null,c)}catch(t){if(d.partial)return"${"+e+"}";throw new TypeError("Unable to resolve expression:\n\targs: "+u(l)+"\n\tbody: "+u(e)+"\n\terror: "+t.stack)}}})))}},{"es5-ext/object/normalize-options":399,"es5-ext/object/valid-value":402,"esniff/is-var-name-valid":421}],420:[function(e,t,n){"use strict";var i,r,o,a,s,u,l,c,d,p,h,f,m,g,y,v,_,b,w,E,S,T,C,x,A,k,I,D=e("es5-ext/array/from"),O=e("es5-ext/object/primitive-set"),P=e("es5-ext/object/valid-value"),N=e("es5-ext/object/valid-callable"),R=e("d"),L=e("./lib/ws-eol"),M=e("./lib/ws"),F=Object.prototype.hasOwnProperty,j=O.apply(null,D(";{=([,<>+-*/%&|^!~?:}")),B=O.apply(null,D(";{=([,<>+-*/%&|^!~?:})]."));i=function(e){if(f&&!(h>=e))for(;h!==e;){if(!f)return;F.call(M,f)?F.call(L,f)&&(g=h,++m):v=f,f=E[++h]}},r=function(e){null!=A&&b.push([k,A,e]),k={point:h+1,line:m,column:h+1-g},A=h},o=function(){var e;if(k.raw=E.slice(A,h),w.push(k),b.length)return e=b.pop(),k=e[0],A=e[1],void(I=e[2]);k=null,A=null,I=null},a=function(){var e=I;return I=_,++_,i(h+1),r(e),s},u=function(){if("'"===f||'"'===f)return x=f,f=E[++h],l;if("("===f||"{"===f||"["===f)++_;else if(")"===f||"}"===f||"]"===f)I===--_&&o();else if("/"===f&&F.call(j,v))return f=E[++h],p;return f!==S||!T&&v&&!y&&!F.call(B,v)?(v=f,f=E[++h],s):C(h,v,_)},c=function(){for(;;){if(!f)return;if(F.call(L,f))return g=h+1,void++m;f=E[++h]}},d=function(){for(;;){if(!f)return;if("*"!==f)F.call(L,f)&&(g=h+1,++m),f=E[++h];else if("/"===(f=E[++h]))return}},s=function(){var e;for(y=!1;;){if(!f)return;if(F.call(M,f))y=!0,F.call(L,f)&&(g=h+1,++m);else{if("/"!==f)break;if("/"===(e=E[h+1]))f=E[h+=2],y=!0,c();else{if("*"!==e)break;f=E[h+=2],y=!0,d()}}f=E[++h]}return u},l=function(){for(;;){if(!f)return;if(f===x)return f=E[++h],v=x,s;"\\"===f&&F.call(L,E[++h])&&(g=h+1,++m),f=E[++h]}},p=function(){for(;;){if(!f)return;if("/"===f)return v="/",f=E[++h],s;"\\"===f&&++h,f=E[++h]}},t.exports=n=function(e,t,i){var r;if(E=String(P(e)),1!==(S=String(P(t))).length)throw new TypeError(S+" should be one character long string");for(C=N(i),T=F.call(B,S),f=E[h=0],m=1,g=0,y=!1,v=null,_=0,b=[],w=[],n.forceStop=!1,r=s;r;)r=r();return w},Object.defineProperties(n,{$ws:R(s),$common:R(u),collectNest:R(a),move:R(i),index:R.gs((function(){return h})),line:R.gs((function(){return m})),nest:R.gs((function(){return _})),columnIndex:R.gs((function(){return g})),next:R((function(e){if(f)return i(h+(e||1)),s()})),resume:R((function(){return u}))})},{"./lib/ws":424,"./lib/ws-eol":422,d:361,"es5-ext/array/from":381,"es5-ext/object/primitive-set":400,"es5-ext/object/valid-callable":401,"es5-ext/object/valid-value":402}],421:[function(e,t,n){"use strict";t.exports=RegExp.prototype.test.bind(/^(?!(?:do|if|in|for|let|new|try|var|case|else|enum|eval|null|this|true|void|with|await|break|catch|class|const|false|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$)(?:[\$A-Z_a-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D])(?:[\$0-9A-Z_a-z\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF])*$/)},{}],422:[function(e,t,n){"use strict";var i=e("es5-ext/array/from"),r=e("es5-ext/object/primitive-set");t.exports=r.apply(null,i("\n\r\u2028\u2029"))},{"es5-ext/array/from":381,"es5-ext/object/primitive-set":400}],423:[function(e,t,n){"use strict";var i=e("es5-ext/array/from"),r=e("es5-ext/object/primitive-set");t.exports=r.apply(null,i(" \f\t\v"))},{"es5-ext/array/from":381,"es5-ext/object/primitive-set":400}],424:[function(e,t,n){"use strict";var i=e("es5-ext/object/primitive-set"),r=e("./ws-eol"),o=e("./ws-inline");t.exports=i.apply(null,Object.keys(r).concat(Object.keys(o)))},{"./ws-eol":422,"./ws-inline":423,"es5-ext/object/primitive-set":400}],425:[function(e,t,n){var i=function(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};t.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(e){return i()}try{return __global__||i()}finally{delete Object.prototype.__global__}}()},{}],426:[function(e,t,n){"use strict";t.exports=e("./is-implemented")()?globalThis:e("./implementation")},{"./implementation":425,"./is-implemented":427}],427:[function(e,t,n){"use strict";t.exports=function(){return"object"==typeof globalThis&&(!!globalThis&&globalThis.Array===Array)}},{}],428:[function(e,t,n){(function(e){!function(e){"use strict";function i(i){var r=i&&i.Promise||e.Promise,o=i&&i.XMLHttpRequest||e.XMLHttpRequest;return function(){var i=Object.create(e,{fetch:{value:void 0,writable:!0}});return function(e,i){"object"==typeof n&&void 0!==t?i(n):"function"==typeof define&&define.amd?define(["exports"],i):i(e.WHATWGFetch={})}(this,(function(e){var t=void 0!==i&&i||"undefined"!=typeof self&&self||void 0!==t&&t,n="URLSearchParams"in t,a="Symbol"in t&&"iterator"in Symbol,s="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(e){return!1}}(),u="FormData"in t,l="ArrayBuffer"in t;if(l)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(e){return e&&c.indexOf(Object.prototype.toString.call(e))>-1};function p(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function h(e){return"string"!=typeof e&&(e=String(e)),e}function f(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return a&&(t[Symbol.iterator]=function(){return t}),t}function m(e){this.map={},e instanceof m?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function g(e){if(e.bodyUsed)return r.reject(new TypeError("Already read"));e.bodyUsed=!0}function y(e){return new r((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function v(e){var t=new FileReader,n=y(t);return t.readAsArrayBuffer(e),n}function _(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:s&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:u&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():l&&s&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=_(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l&&(ArrayBuffer.prototype.isPrototypeOf(e)||d(e))?this._bodyArrayBuffer=_(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},s&&(this.blob=function(){var e=g(this);if(e)return e;if(this._bodyBlob)return r.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return r.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return r.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=g(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?r.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):r.resolve(this._bodyArrayBuffer))}return this.blob().then(v)}),this.text=function(){var e,t,n,i=g(this);if(i)return i;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=y(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return r.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),i=0;i<t.length;i++)n[i]=String.fromCharCode(t[i]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return r.resolve(this._bodyText)},u&&(this.formData=function(){return this.text().then(S)}),this.json=function(){return this.text().then(JSON.parse)},this}m.prototype.append=function(e,t){e=p(e),t=h(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},m.prototype.delete=function(e){delete this.map[p(e)]},m.prototype.get=function(e){return e=p(e),this.has(e)?this.map[e]:null},m.prototype.has=function(e){return this.map.hasOwnProperty(p(e))},m.prototype.set=function(e,t){this.map[p(e)]=h(t)},m.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},m.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),f(e)},m.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),f(e)},m.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),f(e)},a&&(m.prototype[Symbol.iterator]=m.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function E(e,t){if(!(this instanceof E))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,i,r=(t=t||{}).body;if(e instanceof E){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new m(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new m(t.headers)),this.method=(n=t.method||this.method||"GET",i=n.toUpperCase(),w.indexOf(i)>-1?i:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(r),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var o=/([?&])_=[^&]*/;if(o.test(this.url))this.url=this.url.replace(o,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function S(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),i=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(i),decodeURIComponent(r))}})),t}function T(e,t){if(!(this instanceof T))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"",this.headers=new m(t.headers),this.url=t.url||"",this._initBody(e)}E.prototype.clone=function(){return new E(this,{body:this._bodyInit})},b.call(E.prototype),b.call(T.prototype),T.prototype.clone=function(){return new T(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new m(this.headers),url:this.url})},T.error=function(){var e=new T(null,{status:0,statusText:""});return e.type="error",e};var C=[301,302,303,307,308];T.redirect=function(e,t){if(-1===C.indexOf(t))throw new RangeError("Invalid status code");return new T(null,{status:t,headers:{location:e}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function x(n,i){return new r((function(r,a){var u=new E(n,i);if(u.signal&&u.signal.aborted)return a(new e.DOMException("Aborted","AbortError"));var c=new o;function d(){c.abort()}c.onload=function(){var e,t,n={status:c.status,statusText:c.statusText,headers:(e=c.getAllResponseHeaders()||"",t=new m,e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var n=e.split(":"),i=n.shift().trim();if(i){var r=n.join(":").trim();t.append(i,r)}})),t)};n.url="responseURL"in c?c.responseURL:n.headers.get("X-Request-URL");var i="response"in c?c.response:c.responseText;setTimeout((function(){r(new T(i,n))}),0)},c.onerror=function(){setTimeout((function(){a(new TypeError("Network request failed"))}),0)},c.ontimeout=function(){setTimeout((function(){a(new TypeError("Network request failed"))}),0)},c.onabort=function(){setTimeout((function(){a(new e.DOMException("Aborted","AbortError"))}),0)},c.open(u.method,function(e){try{return""===e&&t.location.href?t.location.href:e}catch(t){return e}}(u.url),!0),"include"===u.credentials?c.withCredentials=!0:"omit"===u.credentials&&(c.withCredentials=!1),"responseType"in c&&(s?c.responseType="blob":l&&u.headers.get("Content-Type")&&-1!==u.headers.get("Content-Type").indexOf("application/octet-stream")&&(c.responseType="arraybuffer")),!i||"object"!=typeof i.headers||i.headers instanceof m?u.headers.forEach((function(e,t){c.setRequestHeader(t,e)})):Object.getOwnPropertyNames(i.headers).forEach((function(e){c.setRequestHeader(e,h(i.headers[e]))})),u.signal&&(u.signal.addEventListener("abort",d),c.onreadystatechange=function(){4===c.readyState&&u.signal.removeEventListener("abort",d)}),c.send(void 0===u._bodyInit?null:u._bodyInit)}))}x.polyfill=!0,t.fetch||(t.fetch=x,t.Headers=m,t.Request=E,t.Response=T),e.Headers=m,e.Request=E,e.Response=T,e.fetch=x,Object.defineProperty(e,"__esModule",{value:!0})})),{fetch:i.fetch,Headers:i.Headers,Request:i.Request,Response:i.Response,DOMException:i.DOMException}}()}"function"==typeof define&&define.amd?define((function(){return i})):"object"==typeof n?t.exports=i:e.fetchPonyfill=i}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:void 0!==e?e:this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],429:[function(e,t,n){(function(n){var i,r=void 0!==n?n:"undefined"!=typeof window?window:{},o=e("min-document");"undefined"!=typeof document?i=document:(i=r["__GLOBAL_DOCUMENT_CACHE@4"])||(i=r["__GLOBAL_DOCUMENT_CACHE@4"]=o),t.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"min-document":282}],430:[function(e,t,n){(function(e){var n;n="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],431:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var r=i(e("./handlebars.runtime")),o=i(e("./handlebars/compiler/ast")),a=e("./handlebars/compiler/base"),s=e("./handlebars/compiler/compiler"),u=i(e("./handlebars/compiler/javascript-compiler")),l=i(e("./handlebars/compiler/visitor")),c=i(e("./handlebars/no-conflict")),d=r.default.create;function p(){var e=d();return e.compile=function(t,n){return s.compile(t,n,e)},e.precompile=function(t,n){return s.precompile(t,n,e)},e.AST=o.default,e.Compiler=s.Compiler,e.JavaScriptCompiler=u.default,e.Parser=a.parser,e.parse=a.parse,e.parseWithoutProcessing=a.parseWithoutProcessing,e}var h=p();h.create=p,c.default(h),h.Visitor=l.default,h.default=h,n.default=h,t.exports=n.default},{"./handlebars.runtime":432,"./handlebars/compiler/ast":434,"./handlebars/compiler/base":435,"./handlebars/compiler/compiler":437,"./handlebars/compiler/javascript-compiler":439,"./handlebars/compiler/visitor":442,"./handlebars/no-conflict":459}],432:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}n.__esModule=!0;var o=r(e("./handlebars/base")),a=i(e("./handlebars/safe-string")),s=i(e("./handlebars/exception")),u=r(e("./handlebars/utils")),l=r(e("./handlebars/runtime")),c=i(e("./handlebars/no-conflict"));function d(){var e=new o.HandlebarsEnvironment;return u.extend(e,o),e.SafeString=a.default,e.Exception=s.default,e.Utils=u,e.escapeExpression=u.escapeExpression,e.VM=l,e.template=function(t){return l.template(t,e)},e}var p=d();p.create=d,c.default(p),p.default=p,n.default=p,t.exports=n.default},{"./handlebars/base":433,"./handlebars/exception":446,"./handlebars/no-conflict":459,"./handlebars/runtime":460,"./handlebars/safe-string":461,"./handlebars/utils":462}],433:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0,n.HandlebarsEnvironment=d;var r=e("./utils"),o=i(e("./exception")),a=e("./helpers"),s=e("./decorators"),u=i(e("./logger")),l=e("./internal/proto-access");n.VERSION="4.7.7";n.COMPILER_REVISION=8;n.LAST_COMPATIBLE_COMPILER_REVISION=7;n.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"};var c="[object Object]";function d(e,t,n){this.helpers=e||{},this.partials=t||{},this.decorators=n||{},a.registerDefaultHelpers(this),s.registerDefaultDecorators(this)}d.prototype={constructor:d,logger:u.default,log:u.default.log,registerHelper:function(e,t){if(r.toString.call(e)===c){if(t)throw new o.default("Arg not supported with multiple helpers");r.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if(r.toString.call(e)===c)r.extend(this.partials,e);else{if(void 0===t)throw new o.default('Attempting to register a partial called "'+e+'" as undefined');this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,t){if(r.toString.call(e)===c){if(t)throw new o.default("Arg not supported with multiple decorators");r.extend(this.decorators,e)}else this.decorators[e]=t},unregisterDecorator:function(e){delete this.decorators[e]},resetLoggedPropertyAccesses:function(){l.resetLoggedProperties()}};var p=u.default.log;n.log=p,n.createFrame=r.createFrame,n.logger=u.default},{"./decorators":444,"./exception":446,"./helpers":447,"./internal/proto-access":456,"./logger":458,"./utils":462}],434:[function(e,t,n){"use strict";n.__esModule=!0;var i={helpers:{helperExpression:function(e){return"SubExpression"===e.type||("MustacheStatement"===e.type||"BlockStatement"===e.type)&&!!(e.params&&e.params.length||e.hash)},scopedId:function(e){return/^\.|this\b/.test(e.original)},simpleId:function(e){return 1===e.parts.length&&!i.helpers.scopedId(e)&&!e.depth}}};n.default=i,t.exports=n.default},{}],435:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0,n.parseWithoutProcessing=l,n.parse=function(e,t){var n=l(e,t);return new o.default(t).accept(n)};var r=i(e("./parser")),o=i(e("./whitespace-control")),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("./helpers")),s=e("../utils");n.parser=r.default;var u={};function l(e,t){return"Program"===e.type?e:(r.default.yy=u,u.locInfo=function(e){return new u.SourceLocation(t&&t.srcName,e)},r.default.parse(e))}s.extend(u,a)},{"../utils":462,"./helpers":438,"./parser":440,"./whitespace-control":443}],436:[function(e,t,n){"use strict";n.__esModule=!0;var i=e("../utils"),r=void 0;try{if("function"!=typeof define||!define.amd){var o=e("source-map");r=o.SourceNode}}catch(e){}function a(e,t,n){if(i.isArray(e)){for(var r=[],o=0,a=e.length;o<a;o++)r.push(t.wrap(e[o],n));return r}return"boolean"==typeof e||"number"==typeof e?e+"":e}function s(e){this.srcFile=e,this.source=[]}r||((r=function(e,t,n,i){this.src="",i&&this.add(i)}).prototype={add:function(e){i.isArray(e)&&(e=e.join("")),this.src+=e},prepend:function(e){i.isArray(e)&&(e=e.join("")),this.src=e+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}),s.prototype={isEmpty:function(){return!this.source.length},prepend:function(e,t){this.source.unshift(this.wrap(e,t))},push:function(e,t){this.source.push(this.wrap(e,t))},merge:function(){var e=this.empty();return this.each((function(t){e.add(["  ",t,"\n"])})),e},each:function(e){for(var t=0,n=this.source.length;t<n;t++)e(this.source[t])},empty:function(){var e=this.currentLocation||{start:{}};return new r(e.start.line,e.start.column,this.srcFile)},wrap:function(e){var t=arguments.length<=1||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return e instanceof r?e:(e=a(e,this,t),new r(t.start.line,t.start.column,this.srcFile,e))},functionCall:function(e,t,n){return n=this.generateList(n),this.wrap([e,t?"."+t+"(":"(",n,")"])},quotedString:function(e){return'"'+(e+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(e){var t=this,n=[];Object.keys(e).forEach((function(i){var r=a(e[i],t);"undefined"!==r&&n.push([t.quotedString(i),":",r])}));var i=this.generateList(n);return i.prepend("{"),i.add("}"),i},generateList:function(e){for(var t=this.empty(),n=0,i=e.length;n<i;n++)n&&t.add(","),t.add(a(e[n],this));return t},generateArray:function(e){var t=this.generateList(e);return t.prepend("["),t.add("]"),t}},n.default=s,t.exports=n.default},{"../utils":462,"source-map":856}],437:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0,n.Compiler=u,n.precompile=function(e,t,n){if(null==e||"string"!=typeof e&&"Program"!==e.type)throw new r.default("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+e);"data"in(t=t||{})||(t.data=!0);t.compat&&(t.useDepths=!0);var i=n.parse(e,t),o=(new n.Compiler).compile(i,t);return(new n.JavaScriptCompiler).compile(o,t)},n.compile=function(e,t,n){void 0===t&&(t={});if(null==e||"string"!=typeof e&&"Program"!==e.type)throw new r.default("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+e);"data"in(t=o.extend({},t))||(t.data=!0);t.compat&&(t.useDepths=!0);var i=void 0;function a(){var i=n.parse(e,t),r=(new n.Compiler).compile(i,t),o=(new n.JavaScriptCompiler).compile(r,t,void 0,!0);return n.template(o)}function s(e,t){return i||(i=a()),i.call(this,e,t)}return s._setup=function(e){return i||(i=a()),i._setup(e)},s._child=function(e,t,n,r){return i||(i=a()),i._child(e,t,n,r)},s};var r=i(e("../exception")),o=e("../utils"),a=i(e("./ast")),s=[].slice;function u(){}function l(e,t){if(e===t)return!0;if(o.isArray(e)&&o.isArray(t)&&e.length===t.length){for(var n=0;n<e.length;n++)if(!l(e[n],t[n]))return!1;return!0}}function c(e){if(!e.path.parts){var t=e.path;e.path={type:"PathExpression",data:!1,depth:0,parts:[t.original+""],original:t.original+"",loc:t.loc}}}u.prototype={compiler:u,equals:function(e){var t=this.opcodes.length;if(e.opcodes.length!==t)return!1;for(var n=0;n<t;n++){var i=this.opcodes[n],r=e.opcodes[n];if(i.opcode!==r.opcode||!l(i.args,r.args))return!1}t=this.children.length;for(n=0;n<t;n++)if(!this.children[n].equals(e.children[n]))return!1;return!0},guid:0,compile:function(e,t){return this.sourceNode=[],this.opcodes=[],this.children=[],this.options=t,this.stringParams=t.stringParams,this.trackIds=t.trackIds,t.blockParams=t.blockParams||[],t.knownHelpers=o.extend(Object.create(null),{helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0,lookup:!0},t.knownHelpers),this.accept(e)},compileProgram:function(e){var t=(new this.compiler).compile(e,this.options),n=this.guid++;return this.usePartial=this.usePartial||t.usePartial,this.children[n]=t,this.useDepths=this.useDepths||t.useDepths,n},accept:function(e){if(!this[e.type])throw new r.default("Unknown type: "+e.type,e);this.sourceNode.unshift(e);var t=this[e.type](e);return this.sourceNode.shift(),t},Program:function(e){this.options.blockParams.unshift(e.blockParams);for(var t=e.body,n=t.length,i=0;i<n;i++)this.accept(t[i]);return this.options.blockParams.shift(),this.isSimple=1===n,this.blockParams=e.blockParams?e.blockParams.length:0,this},BlockStatement:function(e){c(e);var t=e.program,n=e.inverse;t=t&&this.compileProgram(t),n=n&&this.compileProgram(n);var i=this.classifySexpr(e);"helper"===i?this.helperSexpr(e,t,n):"simple"===i?(this.simpleSexpr(e),this.opcode("pushProgram",t),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("blockValue",e.path.original)):(this.ambiguousSexpr(e,t,n),this.opcode("pushProgram",t),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(e){var t=e.program&&this.compileProgram(e.program),n=this.setupFullMustacheParams(e,t,void 0),i=e.path;this.useDecorators=!0,this.opcode("registerDecorator",n.length,i.original)},PartialStatement:function(e){this.usePartial=!0;var t=e.program;t&&(t=this.compileProgram(e.program));var n=e.params;if(n.length>1)throw new r.default("Unsupported number of partial arguments: "+n.length,e);n.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):n.push({type:"PathExpression",parts:[],depth:0}));var i=e.name.original,o="SubExpression"===e.name.type;o&&this.accept(e.name),this.setupFullMustacheParams(e,t,void 0,!0);var a=e.indent||"";this.options.preventIndent&&a&&(this.opcode("appendContent",a),a=""),this.opcode("invokePartial",o,i,a),this.opcode("append")},PartialBlockStatement:function(e){this.PartialStatement(e)},MustacheStatement:function(e){this.SubExpression(e),e.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(e){this.DecoratorBlock(e)},ContentStatement:function(e){e.value&&this.opcode("appendContent",e.value)},CommentStatement:function(){},SubExpression:function(e){c(e);var t=this.classifySexpr(e);"simple"===t?this.simpleSexpr(e):"helper"===t?this.helperSexpr(e):this.ambiguousSexpr(e)},ambiguousSexpr:function(e,t,n){var i=e.path,r=i.parts[0],o=null!=t||null!=n;this.opcode("getContext",i.depth),this.opcode("pushProgram",t),this.opcode("pushProgram",n),i.strict=!0,this.accept(i),this.opcode("invokeAmbiguous",r,o)},simpleSexpr:function(e){var t=e.path;t.strict=!0,this.accept(t),this.opcode("resolvePossibleLambda")},helperSexpr:function(e,t,n){var i=this.setupFullMustacheParams(e,t,n),o=e.path,s=o.parts[0];if(this.options.knownHelpers[s])this.opcode("invokeKnownHelper",i.length,s);else{if(this.options.knownHelpersOnly)throw new r.default("You specified knownHelpersOnly, but used the unknown helper "+s,e);o.strict=!0,o.falsy=!0,this.accept(o),this.opcode("invokeHelper",i.length,o.original,a.default.helpers.simpleId(o))}},PathExpression:function(e){this.addDepth(e.depth),this.opcode("getContext",e.depth);var t=e.parts[0],n=a.default.helpers.scopedId(e),i=!e.depth&&!n&&this.blockParamIndex(t);i?this.opcode("lookupBlockParam",i,e.parts):t?e.data?(this.options.data=!0,this.opcode("lookupData",e.depth,e.parts,e.strict)):this.opcode("lookupOnContext",e.parts,e.falsy,e.strict,n):this.opcode("pushContext")},StringLiteral:function(e){this.opcode("pushString",e.value)},NumberLiteral:function(e){this.opcode("pushLiteral",e.value)},BooleanLiteral:function(e){this.opcode("pushLiteral",e.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(e){var t=e.pairs,n=0,i=t.length;for(this.opcode("pushHash");n<i;n++)this.pushParam(t[n].value);for(;n--;)this.opcode("assignToHash",t[n].key);this.opcode("popHash")},opcode:function(e){this.opcodes.push({opcode:e,args:s.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(e){e&&(this.useDepths=!0)},classifySexpr:function(e){var t=a.default.helpers.simpleId(e.path),n=t&&!!this.blockParamIndex(e.path.parts[0]),i=!n&&a.default.helpers.helperExpression(e),r=!n&&(i||t);if(r&&!i){var o=e.path.parts[0],s=this.options;s.knownHelpers[o]?i=!0:s.knownHelpersOnly&&(r=!1)}return i?"helper":r?"ambiguous":"simple"},pushParams:function(e){for(var t=0,n=e.length;t<n;t++)this.pushParam(e[t])},pushParam:function(e){var t=null!=e.value?e.value:e.original||"";if(this.stringParams)t.replace&&(t=t.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),e.depth&&this.addDepth(e.depth),this.opcode("getContext",e.depth||0),this.opcode("pushStringParam",t,e.type),"SubExpression"===e.type&&this.accept(e);else{if(this.trackIds){var n=void 0;if(!e.parts||a.default.helpers.scopedId(e)||e.depth||(n=this.blockParamIndex(e.parts[0])),n){var i=e.parts.slice(1).join(".");this.opcode("pushId","BlockParam",n,i)}else(t=e.original||t).replace&&(t=t.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",e.type,t)}this.accept(e)}},setupFullMustacheParams:function(e,t,n,i){var r=e.params;return this.pushParams(r),this.opcode("pushProgram",t),this.opcode("pushProgram",n),e.hash?this.accept(e.hash):this.opcode("emptyHash",i),r},blockParamIndex:function(e){for(var t=0,n=this.options.blockParams.length;t<n;t++){var i=this.options.blockParams[t],r=i&&o.indexOf(i,e);if(i&&r>=0)return[t,r]}}}},{"../exception":446,"../utils":462,"./ast":434}],438:[function(e,t,n){"use strict";n.__esModule=!0,n.SourceLocation=function(e,t){this.source=e,this.start={line:t.first_line,column:t.first_column},this.end={line:t.last_line,column:t.last_column}},n.id=function(e){return/^\[.*\]$/.test(e)?e.substring(1,e.length-1):e},n.stripFlags=function(e,t){return{open:"~"===e.charAt(2),close:"~"===t.charAt(t.length-3)}},n.stripComment=function(e){return e.replace(/^\{\{~?!-?-?/,"").replace(/-?-?~?\}\}$/,"")},n.preparePath=function(e,t,n){n=this.locInfo(n);for(var i=e?"@":"",r=[],a=0,s=0,u=t.length;s<u;s++){var l=t[s].part,c=t[s].original!==l;if(i+=(t[s].separator||"")+l,c||".."!==l&&"."!==l&&"this"!==l)r.push(l);else{if(r.length>0)throw new o.default("Invalid path: "+i,{loc:n});".."===l&&a++}}return{type:"PathExpression",data:e,depth:a,parts:r,original:i,loc:n}},n.prepareMustache=function(e,t,n,i,r,o){var a=i.charAt(3)||i.charAt(2),s="{"!==a&&"&"!==a;return{type:/\*/.test(i)?"Decorator":"MustacheStatement",path:e,params:t,hash:n,escaped:s,strip:r,loc:this.locInfo(o)}},n.prepareRawBlock=function(e,t,n,i){a(e,n),i=this.locInfo(i);var r={type:"Program",body:t,strip:{},loc:i};return{type:"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:r,openStrip:{},inverseStrip:{},closeStrip:{},loc:i}},n.prepareBlock=function(e,t,n,i,r,s){i&&i.path&&a(e,i);var u=/\*/.test(e.open);t.blockParams=e.blockParams;var l=void 0,c=void 0;if(n){if(u)throw new o.default("Unexpected inverse block on decorator",n);n.chain&&(n.program.body[0].closeStrip=i.strip),c=n.strip,l=n.program}r&&(r=l,l=t,t=r);return{type:u?"DecoratorBlock":"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:t,inverse:l,openStrip:e.strip,inverseStrip:c,closeStrip:i&&i.strip,loc:this.locInfo(s)}},n.prepareProgram=function(e,t){if(!t&&e.length){var n=e[0].loc,i=e[e.length-1].loc;n&&i&&(t={source:n.source,start:{line:n.start.line,column:n.start.column},end:{line:i.end.line,column:i.end.column}})}return{type:"Program",body:e,strip:{},loc:t}},n.preparePartialBlock=function(e,t,n,i){return a(e,n),{type:"PartialBlockStatement",name:e.path,params:e.params,hash:e.hash,program:t,openStrip:e.strip,closeStrip:n&&n.strip,loc:this.locInfo(i)}};var i,r=e("../exception"),o=(i=r)&&i.__esModule?i:{default:i};function a(e,t){if(t=t.path?t.path.original:t,e.path.original!==t){var n={loc:e.path.loc};throw new o.default(e.path.original+" doesn't match "+t,n)}}},{"../exception":446}],439:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var r=e("../base"),o=i(e("../exception")),a=e("../utils"),s=i(e("./code-gen"));function u(e){this.value=e}function l(){}l.prototype={nameLookup:function(e,t){return this.internalNameLookup(e,t)},depthedLookup:function(e){return[this.aliasable("container.lookup"),"(depths, ",JSON.stringify(e),")"]},compilerInfo:function(){var e=r.COMPILER_REVISION;return[e,r.REVISION_CHANGES[e]]},appendToBuffer:function(e,t,n){return a.isArray(e)||(e=[e]),e=this.source.wrap(e,t),this.environment.isSimple?["return ",e,";"]:n?["buffer += ",e,";"]:(e.appendToBuffer=!0,e)},initializeBuffer:function(){return this.quotedString("")},internalNameLookup:function(e,t){return this.lookupPropertyFunctionIsUsed=!0,["lookupProperty(",e,",",JSON.stringify(t),")"]},lookupPropertyFunctionIsUsed:!1,compile:function(e,t,n,i){this.environment=e,this.options=t,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!i,this.name=this.environment.name,this.isChild=!!n,this.context=n||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(e,t),this.useDepths=this.useDepths||e.useDepths||e.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||e.useBlockParams;var r=e.opcodes,a=void 0,s=void 0,u=void 0,l=void 0;for(u=0,l=r.length;u<l;u++)a=r[u],this.source.currentLocation=a.loc,s=s||a.loc,this[a.opcode].apply(this,a.args);if(this.source.currentLocation=s,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new o.default("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend(["var decorators = container.decorators, ",this.lookupPropertyFunctionVarDeclaration(),";\n"]),this.decorators.push("return fn;"),i?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));var c=this.createFunctionContext(i);if(this.isChild)return c;var d={compiler:this.compilerInfo(),main:c};this.decorators&&(d.main_d=this.decorators,d.useDecorators=!0);var p=this.context,h=p.programs,f=p.decorators;for(u=0,l=h.length;u<l;u++)h[u]&&(d[u]=h[u],f[u]&&(d[u+"_d"]=f[u],d.useDecorators=!0));return this.environment.usePartial&&(d.usePartial=!0),this.options.data&&(d.useData=!0),this.useDepths&&(d.useDepths=!0),this.useBlockParams&&(d.useBlockParams=!0),this.options.compat&&(d.compat=!0),i?d.compilerOptions=this.options:(d.compiler=JSON.stringify(d.compiler),this.source.currentLocation={start:{line:1,column:0}},d=this.objectLiteral(d),t.srcName?(d=d.toStringWithSourceMap({file:t.destName})).map=d.map&&d.map.toString():d=d.toString()),d},preamble:function(){this.lastContext=0,this.source=new s.default(this.options.srcName),this.decorators=new s.default(this.options.srcName)},createFunctionContext:function(e){var t=this,n="",i=this.stackVars.concat(this.registers.list);i.length>0&&(n+=", "+i.join(", "));var r=0;Object.keys(this.aliases).forEach((function(e){var i=t.aliases[e];i.children&&i.referenceCount>1&&(n+=", alias"+ ++r+"="+e,i.children[0]="alias"+r)})),this.lookupPropertyFunctionIsUsed&&(n+=", "+this.lookupPropertyFunctionVarDeclaration());var o=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&o.push("blockParams"),this.useDepths&&o.push("depths");var a=this.mergeSource(n);return e?(o.push(a),Function.apply(this,o)):this.source.wrap(["function(",o.join(","),") {\n  ",a,"}"])},mergeSource:function(e){var t=this.environment.isSimple,n=!this.forceBuffer,i=void 0,r=void 0,o=void 0,a=void 0;return this.source.each((function(e){e.appendToBuffer?(o?e.prepend("  + "):o=e,a=e):(o&&(r?o.prepend("buffer += "):i=!0,a.add(";"),o=a=void 0),r=!0,t||(n=!1))})),n?o?(o.prepend("return "),a.add(";")):r||this.source.push('return "";'):(e+=", buffer = "+(i?"":this.initializeBuffer()),o?(o.prepend("return buffer + "),a.add(";")):this.source.push("return buffer;")),e&&this.source.prepend("var "+e.substring(2)+(i?"":";\n")),this.source.merge()},lookupPropertyFunctionVarDeclaration:function(){return"\n      lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    }\n    ".trim()},blockValue:function(e){var t=this.aliasable("container.hooks.blockHelperMissing"),n=[this.contextName(0)];this.setupHelperArgs(e,0,n);var i=this.popStack();n.splice(1,0,i),this.push(this.source.functionCall(t,"call",n))},ambiguousBlockValue:function(){var e=this.aliasable("container.hooks.blockHelperMissing"),t=[this.contextName(0)];this.setupHelperArgs("",0,t,!0),this.flushInline();var n=this.topStack();t.splice(1,0,n),this.pushSource(["if (!",this.lastHelper,") { ",n," = ",this.source.functionCall(e,"call",t),"}"])},appendContent:function(e){this.pendingContent?e=this.pendingContent+e:this.pendingLocation=this.source.currentLocation,this.pendingContent=e},append:function(){if(this.isInline())this.replaceStack((function(e){return[" != null ? ",e,' : ""']})),this.pushSource(this.appendToBuffer(this.popStack()));else{var e=this.popStack();this.pushSource(["if (",e," != null) { ",this.appendToBuffer(e,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(e){this.lastContext=e},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(e,t,n,i){var r=0;i||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(e[r++])),this.resolvePath("context",e,r,t,n)},lookupBlockParam:function(e,t){this.useBlockParams=!0,this.push(["blockParams[",e[0],"][",e[1],"]"]),this.resolvePath("context",t,1)},lookupData:function(e,t,n){e?this.pushStackLiteral("container.data(data, "+e+")"):this.pushStackLiteral("data"),this.resolvePath("data",t,0,!0,n)},resolvePath:function(e,t,n,i,r){var o=this;if(this.options.strict||this.options.assumeObjects)this.push(function(e,t,n,i){var r=t.popStack(),o=0,a=n.length;e&&a--;for(;o<a;o++)r=t.nameLookup(r,n[o],i);return e?[t.aliasable("container.strict"),"(",r,", ",t.quotedString(n[o]),", ",JSON.stringify(t.source.currentLocation)," )"]:r}(this.options.strict&&r,this,t,e));else for(var a=t.length;n<a;n++)this.replaceStack((function(r){var a=o.nameLookup(r,t[n],e);return i?[" && ",a]:[" != null ? ",a," : ",r]}))},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(e,t){this.pushContext(),this.pushString(t),"SubExpression"!==t&&("string"==typeof e?this.pushString(e):this.pushStackLiteral(e))},emptyHash:function(e){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(e?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:{},types:[],contexts:[],ids:[]}},popHash:function(){var e=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(e.ids)),this.stringParams&&(this.push(this.objectLiteral(e.contexts)),this.push(this.objectLiteral(e.types))),this.push(this.objectLiteral(e.values))},pushString:function(e){this.pushStackLiteral(this.quotedString(e))},pushLiteral:function(e){this.pushStackLiteral(e)},pushProgram:function(e){null!=e?this.pushStackLiteral(this.programExpression(e)):this.pushStackLiteral(null)},registerDecorator:function(e,t){var n=this.nameLookup("decorators",t,"decorator"),i=this.setupHelperArgs(t,e);this.decorators.push(["fn = ",this.decorators.functionCall(n,"",["fn","props","container",i])," || fn;"])},invokeHelper:function(e,t,n){var i=this.popStack(),r=this.setupHelper(e,t),o=[];n&&o.push(r.name),o.push(i),this.options.strict||o.push(this.aliasable("container.hooks.helperMissing"));var a=["(",this.itemsSeparatedBy(o,"||"),")"],s=this.source.functionCall(a,"call",r.callParams);this.push(s)},itemsSeparatedBy:function(e,t){var n=[];n.push(e[0]);for(var i=1;i<e.length;i++)n.push(t,e[i]);return n},invokeKnownHelper:function(e,t){var n=this.setupHelper(e,t);this.push(this.source.functionCall(n.name,"call",n.callParams))},invokeAmbiguous:function(e,t){this.useRegister("helper");var n=this.popStack();this.emptyHash();var i=this.setupHelper(0,e,t),r=["(","(helper = ",this.lastHelper=this.nameLookup("helpers",e,"helper")," || ",n,")"];this.options.strict||(r[0]="(helper = ",r.push(" != null ? helper : ",this.aliasable("container.hooks.helperMissing"))),this.push(["(",r,i.paramsInit?["),(",i.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",i.callParams)," : helper))"])},invokePartial:function(e,t,n){var i=[],r=this.setupParams(t,1,i);e&&(t=this.popStack(),delete r.name),n&&(r.indent=JSON.stringify(n)),r.helpers="helpers",r.partials="partials",r.decorators="container.decorators",e?i.unshift(t):i.unshift(this.nameLookup("partials",t,"partial")),this.options.compat&&(r.depths="depths"),r=this.objectLiteral(r),i.push(r),this.push(this.source.functionCall("container.invokePartial","",i))},assignToHash:function(e){var t=this.popStack(),n=void 0,i=void 0,r=void 0;this.trackIds&&(r=this.popStack()),this.stringParams&&(i=this.popStack(),n=this.popStack());var o=this.hash;n&&(o.contexts[e]=n),i&&(o.types[e]=i),r&&(o.ids[e]=r),o.values[e]=t},pushId:function(e,t,n){"BlockParam"===e?this.pushStackLiteral("blockParams["+t[0]+"].path["+t[1]+"]"+(n?" + "+JSON.stringify("."+n):"")):"PathExpression"===e?this.pushString(t):"SubExpression"===e?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:l,compileChildren:function(e,t){for(var n=e.children,i=void 0,r=void 0,o=0,a=n.length;o<a;o++){i=n[o],r=new this.compiler;var s=this.matchExistingProgram(i);if(null==s){this.context.programs.push("");var u=this.context.programs.length;i.index=u,i.name="program"+u,this.context.programs[u]=r.compile(i,t,this.context,!this.precompile),this.context.decorators[u]=r.decorators,this.context.environments[u]=i,this.useDepths=this.useDepths||r.useDepths,this.useBlockParams=this.useBlockParams||r.useBlockParams,i.useDepths=this.useDepths,i.useBlockParams=this.useBlockParams}else i.index=s.index,i.name="program"+s.index,this.useDepths=this.useDepths||s.useDepths,this.useBlockParams=this.useBlockParams||s.useBlockParams}},matchExistingProgram:function(e){for(var t=0,n=this.context.environments.length;t<n;t++){var i=this.context.environments[t];if(i&&i.equals(e))return i}},programExpression:function(e){var t=this.environment.children[e],n=[t.index,"data",t.blockParams];return(this.useBlockParams||this.useDepths)&&n.push("blockParams"),this.useDepths&&n.push("depths"),"container.program("+n.join(", ")+")"},useRegister:function(e){this.registers[e]||(this.registers[e]=!0,this.registers.list.push(e))},push:function(e){return e instanceof u||(e=this.source.wrap(e)),this.inlineStack.push(e),e},pushStackLiteral:function(e){this.push(new u(e))},pushSource:function(e){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),e&&this.source.push(e)},replaceStack:function(e){var t=["("],n=void 0,i=void 0,r=void 0;if(!this.isInline())throw new o.default("replaceStack on non-inline");var a=this.popStack(!0);if(a instanceof u)t=["(",n=[a.value]],r=!0;else{i=!0;var s=this.incrStack();t=["((",this.push(s)," = ",a,")"],n=this.topStack()}var l=e.call(this,n);r||this.popStack(),i&&this.stackSlot--,this.push(t.concat(l,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var e=this.inlineStack;this.inlineStack=[];for(var t=0,n=e.length;t<n;t++){var i=e[t];if(i instanceof u)this.compileStack.push(i);else{var r=this.incrStack();this.pushSource([r," = ",i,";"]),this.compileStack.push(r)}}},isInline:function(){return this.inlineStack.length},popStack:function(e){var t=this.isInline(),n=(t?this.inlineStack:this.compileStack).pop();if(!e&&n instanceof u)return n.value;if(!t){if(!this.stackSlot)throw new o.default("Invalid stack pop");this.stackSlot--}return n},topStack:function(){var e=this.isInline()?this.inlineStack:this.compileStack,t=e[e.length-1];return t instanceof u?t.value:t},contextName:function(e){return this.useDepths&&e?"depths["+e+"]":"depth"+e},quotedString:function(e){return this.source.quotedString(e)},objectLiteral:function(e){return this.source.objectLiteral(e)},aliasable:function(e){var t=this.aliases[e];return t?(t.referenceCount++,t):((t=this.aliases[e]=this.source.wrap(e)).aliasable=!0,t.referenceCount=1,t)},setupHelper:function(e,t,n){var i=[];return{params:i,paramsInit:this.setupHelperArgs(t,e,i,n),name:this.nameLookup("helpers",t,"helper"),callParams:[this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})")].concat(i)}},setupParams:function(e,t,n){var i={},r=[],o=[],a=[],s=!n,u=void 0;s&&(n=[]),i.name=this.quotedString(e),i.hash=this.popStack(),this.trackIds&&(i.hashIds=this.popStack()),this.stringParams&&(i.hashTypes=this.popStack(),i.hashContexts=this.popStack());var l=this.popStack(),c=this.popStack();(c||l)&&(i.fn=c||"container.noop",i.inverse=l||"container.noop");for(var d=t;d--;)u=this.popStack(),n[d]=u,this.trackIds&&(a[d]=this.popStack()),this.stringParams&&(o[d]=this.popStack(),r[d]=this.popStack());return s&&(i.args=this.source.generateArray(n)),this.trackIds&&(i.ids=this.source.generateArray(a)),this.stringParams&&(i.types=this.source.generateArray(o),i.contexts=this.source.generateArray(r)),this.options.data&&(i.data="data"),this.useBlockParams&&(i.blockParams="blockParams"),i},setupHelperArgs:function(e,t,n,i){var r=this.setupParams(e,t,n);return r.loc=JSON.stringify(this.source.currentLocation),r=this.objectLiteral(r),i?(this.useRegister("options"),n.push("options"),["options=",r]):n?(n.push(r),""):r}},function(){for(var e="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),t=l.RESERVED_WORDS={},n=0,i=e.length;n<i;n++)t[e[n]]=!0}(),l.isValidJavaScriptVariableName=function(e){return!l.RESERVED_WORDS[e]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e)},n.default=l,t.exports=n.default},{"../base":433,"../exception":446,"../utils":462,"./code-gen":436}],440:[function(e,t,n){"use strict";n.__esModule=!0;var i=function(){var e={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,0],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(e,t,n,i,r,o,a){var s=o.length-1;switch(r){case 1:return o[s-1];case 2:this.$=i.prepareProgram(o[s]);break;case 3:case 4:case 5:case 6:case 7:case 8:case 20:case 27:case 28:case 33:case 34:case 40:case 41:this.$=o[s];break;case 9:this.$={type:"CommentStatement",value:i.stripComment(o[s]),strip:i.stripFlags(o[s],o[s]),loc:i.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:o[s],value:o[s],loc:i.locInfo(this._$)};break;case 11:this.$=i.prepareRawBlock(o[s-2],o[s-1],o[s],this._$);break;case 12:this.$={path:o[s-3],params:o[s-2],hash:o[s-1]};break;case 13:this.$=i.prepareBlock(o[s-3],o[s-2],o[s-1],o[s],!1,this._$);break;case 14:this.$=i.prepareBlock(o[s-3],o[s-2],o[s-1],o[s],!0,this._$);break;case 15:this.$={open:o[s-5],path:o[s-4],params:o[s-3],hash:o[s-2],blockParams:o[s-1],strip:i.stripFlags(o[s-5],o[s])};break;case 16:case 17:this.$={path:o[s-4],params:o[s-3],hash:o[s-2],blockParams:o[s-1],strip:i.stripFlags(o[s-5],o[s])};break;case 18:this.$={strip:i.stripFlags(o[s-1],o[s-1]),program:o[s]};break;case 19:var u=i.prepareBlock(o[s-2],o[s-1],o[s],o[s],!1,this._$),l=i.prepareProgram([u],o[s-1].loc);l.chained=!0,this.$={strip:o[s-2].strip,program:l,chain:!0};break;case 21:this.$={path:o[s-1],strip:i.stripFlags(o[s-2],o[s])};break;case 22:case 23:this.$=i.prepareMustache(o[s-3],o[s-2],o[s-1],o[s-4],i.stripFlags(o[s-4],o[s]),this._$);break;case 24:this.$={type:"PartialStatement",name:o[s-3],params:o[s-2],hash:o[s-1],indent:"",strip:i.stripFlags(o[s-4],o[s]),loc:i.locInfo(this._$)};break;case 25:this.$=i.preparePartialBlock(o[s-2],o[s-1],o[s],this._$);break;case 26:this.$={path:o[s-3],params:o[s-2],hash:o[s-1],strip:i.stripFlags(o[s-4],o[s])};break;case 29:this.$={type:"SubExpression",path:o[s-3],params:o[s-2],hash:o[s-1],loc:i.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:o[s],loc:i.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:i.id(o[s-2]),value:o[s],loc:i.locInfo(this._$)};break;case 32:this.$=i.id(o[s-1]);break;case 35:this.$={type:"StringLiteral",value:o[s],original:o[s],loc:i.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(o[s]),original:Number(o[s]),loc:i.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===o[s],original:"true"===o[s],loc:i.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:i.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:i.locInfo(this._$)};break;case 42:this.$=i.preparePath(!0,o[s],this._$);break;case 43:this.$=i.preparePath(!1,o[s],this._$);break;case 44:o[s-2].push({part:i.id(o[s]),original:o[s],separator:o[s-1]}),this.$=o[s-2];break;case 45:this.$=[{part:i.id(o[s]),original:o[s]}];break;case 46:case 48:case 50:case 58:case 64:case 70:case 78:case 82:case 86:case 90:case 94:this.$=[];break;case 47:case 49:case 51:case 59:case 65:case 71:case 79:case 83:case 87:case 91:case 95:case 99:case 101:o[s-1].push(o[s]);break;case 98:case 100:this.$=[o[s]]}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{15:[2,48],17:39,18:[2,48]},{20:41,56:40,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:44,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:45,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:41,56:48,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:49,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,50]},{72:[1,35],86:51},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:52,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:53,38:55,39:[1,57],43:56,44:[1,58],45:54,47:[2,54]},{28:59,43:60,44:[1,58],47:[2,56]},{13:62,15:[1,20],18:[1,61]},{33:[2,86],57:63,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:64,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:65,47:[1,66]},{30:67,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:68,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:69,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:70,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:74,33:[2,80],50:71,63:72,64:75,65:[1,43],69:73,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,79]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,50]},{20:74,53:80,54:[2,84],63:81,64:75,65:[1,43],69:82,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:83,47:[1,66]},{47:[2,55]},{4:84,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:85,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:86,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:87,47:[1,66]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:74,33:[2,88],58:88,63:89,64:75,65:[1,43],69:90,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:91,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:92,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,31:93,33:[2,60],63:94,64:75,65:[1,43],69:95,70:76,71:77,72:[1,78],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,66],36:96,63:97,64:75,65:[1,43],69:98,70:76,71:77,72:[1,78],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,22:99,23:[2,52],63:100,64:75,65:[1,43],69:101,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,92],62:102,63:103,64:75,65:[1,43],69:104,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,105]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:106,72:[1,107],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,108],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,109]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:55,39:[1,57],43:56,44:[1,58],45:111,46:110,47:[2,76]},{33:[2,70],40:112,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,113]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:74,63:115,64:75,65:[1,43],67:114,68:[2,96],69:116,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,117]},{32:118,33:[2,62],74:119,75:[1,120]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:121,74:122,75:[1,120]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,123]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,124]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,108]},{20:74,63:125,64:75,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:74,33:[2,72],41:126,63:127,64:75,65:[1,43],69:128,70:76,71:77,72:[1,78],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,129]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,130]},{33:[2,63]},{72:[1,132],76:131},{33:[1,133]},{33:[2,69]},{15:[2,12],18:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:134,74:135,75:[1,120]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,137],77:[1,136]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,138]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],54:[2,55],56:[2,20],60:[2,57],73:[2,81],82:[2,85],86:[2,18],90:[2,89],101:[2,53],104:[2,93],110:[2,19],111:[2,77],116:[2,97],119:[2,63],122:[2,69],135:[2,75],136:[2,32]},parseError:function(e,t){throw new Error(e)},parse:function(e){var t=this,n=[0],i=[null],r=[],o=this.table,a="",s=0,u=0,l=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var c=this.lexer.yylloc;r.push(c);var d=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var p,h,f,m,g,y,v,_,b,w,E={};;){if(f=n[n.length-1],this.defaultActions[f]?m=this.defaultActions[f]:(null==p&&(w=void 0,"number"!=typeof(w=t.lexer.lex()||1)&&(w=t.symbols_[w]||w),p=w),m=o[f]&&o[f][p]),void 0===m||!m.length||!m[0]){var S="";if(!l){for(y in b=[],o[f])this.terminals_[y]&&y>2&&b.push("'"+this.terminals_[y]+"'");S=this.lexer.showPosition?"Parse error on line "+(s+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+b.join(", ")+", got '"+(this.terminals_[p]||p)+"'":"Parse error on line "+(s+1)+": Unexpected "+(1==p?"end of input":"'"+(this.terminals_[p]||p)+"'"),this.parseError(S,{text:this.lexer.match,token:this.terminals_[p]||p,line:this.lexer.yylineno,loc:c,expected:b})}}if(m[0]instanceof Array&&m.length>1)throw new Error("Parse Error: multiple actions possible at state: "+f+", token: "+p);switch(m[0]){case 1:n.push(p),i.push(this.lexer.yytext),r.push(this.lexer.yylloc),n.push(m[1]),p=null,h?(p=h,h=null):(u=this.lexer.yyleng,a=this.lexer.yytext,s=this.lexer.yylineno,c=this.lexer.yylloc,l>0&&l--);break;case 2:if(v=this.productions_[m[1]][1],E.$=i[i.length-v],E._$={first_line:r[r.length-(v||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(v||1)].first_column,last_column:r[r.length-1].last_column},d&&(E._$.range=[r[r.length-(v||1)].range[0],r[r.length-1].range[1]]),void 0!==(g=this.performAction.call(E,a,u,s,this.yy,m[1],i,r)))return g;v&&(n=n.slice(0,-1*v*2),i=i.slice(0,-1*v),r=r.slice(0,-1*v)),n.push(this.productions_[m[1]][0]),i.push(E.$),r.push(E._$),_=o[n[n.length-2]][n[n.length-1]],n.push(_);break;case 3:return!0}}return!0}},t=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t-1),this.offset-=t;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-t]),this},more:function(){return this._more=!0,this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;var e,t,n,i,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var o=this._currentRules(),a=0;a<o.length&&(!(n=this._input.match(this.rules[o[a]]))||t&&!(n[0].length>t[0].length)||(t=n,i=a,this.options.flex));a++);return t?((r=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,o[i],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e||void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return void 0!==e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)},options:{},performAction:function(e,t,n,i){function r(e,n){return t.yytext=t.yytext.substring(e,t.yyleng-n+e)}switch(n){case 0:if("\\\\"===t.yytext.slice(-2)?(r(0,1),this.begin("mu")):"\\"===t.yytext.slice(-1)?(r(0,1),this.begin("emu")):this.begin("mu"),t.yytext)return 15;break;case 1:case 5:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),"raw"===this.conditionStack[this.conditionStack.length-1]?15:(r(5,9),"END_RAW_BLOCK");case 6:case 22:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:case 23:return 48;case 21:this.unput(t.yytext),this.popState(),this.begin("com");break;case 24:return 73;case 25:case 26:case 41:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return t.yytext=r(1,2).replace(/\\"/g,'"'),80;case 32:return t.yytext=r(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 42:return t.yytext=t.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},rules:[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^\/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]+?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],conditions:{mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}}};return e}();function n(){this.yy={}}return e.lexer=t,n.prototype=e,e.Parser=n,new n}();n.default=i,t.exports=n.default},{}],441:[function(e,t,n){"use strict";n.__esModule=!0,n.print=function(e){return(new a).accept(e)},n.PrintVisitor=a;var i,r=e("./visitor"),o=(i=r)&&i.__esModule?i:{default:i};function a(){this.padding=0}a.prototype=new o.default,a.prototype.pad=function(e){for(var t="",n=0,i=this.padding;n<i;n++)t+="  ";return t+=e+"\n"},a.prototype.Program=function(e){var t="",n=e.body,i=void 0,r=void 0;if(e.blockParams){var o="BLOCK PARAMS: [";for(i=0,r=e.blockParams.length;i<r;i++)o+=" "+e.blockParams[i];o+=" ]",t+=this.pad(o)}for(i=0,r=n.length;i<r;i++)t+=this.accept(n[i]);return this.padding--,t},a.prototype.MustacheStatement=function(e){return this.pad("{{ "+this.SubExpression(e)+" }}")},a.prototype.Decorator=function(e){return this.pad("{{ DIRECTIVE "+this.SubExpression(e)+" }}")},a.prototype.BlockStatement=a.prototype.DecoratorBlock=function(e){var t="";return t+=this.pad(("DecoratorBlock"===e.type?"DIRECTIVE ":"")+"BLOCK:"),this.padding++,t+=this.pad(this.SubExpression(e)),e.program&&(t+=this.pad("PROGRAM:"),this.padding++,t+=this.accept(e.program),this.padding--),e.inverse&&(e.program&&this.padding++,t+=this.pad("{{^}}"),this.padding++,t+=this.accept(e.inverse),this.padding--,e.program&&this.padding--),this.padding--,t},a.prototype.PartialStatement=function(e){var t="PARTIAL:"+e.name.original;return e.params[0]&&(t+=" "+this.accept(e.params[0])),e.hash&&(t+=" "+this.accept(e.hash)),this.pad("{{> "+t+" }}")},a.prototype.PartialBlockStatement=function(e){var t="PARTIAL BLOCK:"+e.name.original;return e.params[0]&&(t+=" "+this.accept(e.params[0])),e.hash&&(t+=" "+this.accept(e.hash)),t+=" "+this.pad("PROGRAM:"),this.padding++,t+=this.accept(e.program),this.padding--,this.pad("{{> "+t+" }}")},a.prototype.ContentStatement=function(e){return this.pad("CONTENT[ '"+e.value+"' ]")},a.prototype.CommentStatement=function(e){return this.pad("{{! '"+e.value+"' }}")},a.prototype.SubExpression=function(e){for(var t,n=e.params,i=[],r=0,o=n.length;r<o;r++)i.push(this.accept(n[r]));return n="["+i.join(", ")+"]",t=e.hash?" "+this.accept(e.hash):"",this.accept(e.path)+" "+n+t},a.prototype.PathExpression=function(e){var t=e.parts.join("/");return(e.data?"@":"")+"PATH:"+t},a.prototype.StringLiteral=function(e){return'"'+e.value+'"'},a.prototype.NumberLiteral=function(e){return"NUMBER{"+e.value+"}"},a.prototype.BooleanLiteral=function(e){return"BOOLEAN{"+e.value+"}"},a.prototype.UndefinedLiteral=function(){return"UNDEFINED"},a.prototype.NullLiteral=function(){return"NULL"},a.prototype.Hash=function(e){for(var t=e.pairs,n=[],i=0,r=t.length;i<r;i++)n.push(this.accept(t[i]));return"HASH{"+n.join(", ")+"}"},a.prototype.HashPair=function(e){return e.key+"="+this.accept(e.value)}},{"./visitor":442}],442:[function(e,t,n){"use strict";n.__esModule=!0;var i,r=e("../exception"),o=(i=r)&&i.__esModule?i:{default:i};function a(){this.parents=[]}function s(e){this.acceptRequired(e,"path"),this.acceptArray(e.params),this.acceptKey(e,"hash")}function u(e){s.call(this,e),this.acceptKey(e,"program"),this.acceptKey(e,"inverse")}function l(e){this.acceptRequired(e,"name"),this.acceptArray(e.params),this.acceptKey(e,"hash")}a.prototype={constructor:a,mutating:!1,acceptKey:function(e,t){var n=this.accept(e[t]);if(this.mutating){if(n&&!a.prototype[n.type])throw new o.default('Unexpected node type "'+n.type+'" found when accepting '+t+" on "+e.type);e[t]=n}},acceptRequired:function(e,t){if(this.acceptKey(e,t),!e[t])throw new o.default(e.type+" requires "+t)},acceptArray:function(e){for(var t=0,n=e.length;t<n;t++)this.acceptKey(e,t),e[t]||(e.splice(t,1),t--,n--)},accept:function(e){if(e){if(!this[e.type])throw new o.default("Unknown type: "+e.type,e);this.current&&this.parents.unshift(this.current),this.current=e;var t=this[e.type](e);return this.current=this.parents.shift(),!this.mutating||t?t:!1!==t?e:void 0}},Program:function(e){this.acceptArray(e.body)},MustacheStatement:s,Decorator:s,BlockStatement:u,DecoratorBlock:u,PartialStatement:l,PartialBlockStatement:function(e){l.call(this,e),this.acceptKey(e,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:s,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(e){this.acceptArray(e.pairs)},HashPair:function(e){this.acceptRequired(e,"value")}},n.default=a,t.exports=n.default},{"../exception":446}],443:[function(e,t,n){"use strict";n.__esModule=!0;var i,r=e("./visitor"),o=(i=r)&&i.__esModule?i:{default:i};function a(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=e}function s(e,t,n){void 0===t&&(t=e.length);var i=e[t-1],r=e[t-2];return i?"ContentStatement"===i.type?(r||!n?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(i.original):void 0:n}function u(e,t,n){void 0===t&&(t=-1);var i=e[t+1],r=e[t+2];return i?"ContentStatement"===i.type?(r||!n?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(i.original):void 0:n}function l(e,t,n){var i=e[null==t?0:t+1];if(i&&"ContentStatement"===i.type&&(n||!i.rightStripped)){var r=i.value;i.value=i.value.replace(n?/^\s+/:/^[ \t]*\r?\n?/,""),i.rightStripped=i.value!==r}}function c(e,t,n){var i=e[null==t?e.length-1:t-1];if(i&&"ContentStatement"===i.type&&(n||!i.leftStripped)){var r=i.value;return i.value=i.value.replace(n?/\s+$/:/[ \t]+$/,""),i.leftStripped=i.value!==r,i.leftStripped}}a.prototype=new o.default,a.prototype.Program=function(e){var t=!this.options.ignoreStandalone,n=!this.isRootSeen;this.isRootSeen=!0;for(var i=e.body,r=0,o=i.length;r<o;r++){var a=i[r],d=this.accept(a);if(d){var p=s(i,r,n),h=u(i,r,n),f=d.openStandalone&&p,m=d.closeStandalone&&h,g=d.inlineStandalone&&p&&h;d.close&&l(i,r,!0),d.open&&c(i,r,!0),t&&g&&(l(i,r),c(i,r)&&"PartialStatement"===a.type&&(a.indent=/([ \t]+$)/.exec(i[r-1].original)[1])),t&&f&&(l((a.program||a.inverse).body),c(i,r)),t&&m&&(l(i,r),c((a.inverse||a.program).body))}}return e},a.prototype.BlockStatement=a.prototype.DecoratorBlock=a.prototype.PartialBlockStatement=function(e){this.accept(e.program),this.accept(e.inverse);var t=e.program||e.inverse,n=e.program&&e.inverse,i=n,r=n;if(n&&n.chained)for(i=n.body[0].program;r.chained;)r=r.body[r.body.length-1].program;var o={open:e.openStrip.open,close:e.closeStrip.close,openStandalone:u(t.body),closeStandalone:s((i||t).body)};if(e.openStrip.close&&l(t.body,null,!0),n){var a=e.inverseStrip;a.open&&c(t.body,null,!0),a.close&&l(i.body,null,!0),e.closeStrip.open&&c(r.body,null,!0),!this.options.ignoreStandalone&&s(t.body)&&u(i.body)&&(c(t.body),l(i.body))}else e.closeStrip.open&&c(t.body,null,!0);return o},a.prototype.Decorator=a.prototype.MustacheStatement=function(e){return e.strip},a.prototype.PartialStatement=a.prototype.CommentStatement=function(e){var t=e.strip||{};return{inlineStandalone:!0,open:t.open,close:t.close}},n.default=a,t.exports=n.default},{"./visitor":442}],444:[function(e,t,n){"use strict";n.__esModule=!0,n.registerDefaultDecorators=function(e){o.default(e)};var i,r=e("./decorators/inline"),o=(i=r)&&i.__esModule?i:{default:i}},{"./decorators/inline":445}],445:[function(e,t,n){"use strict";n.__esModule=!0;var i=e("../utils");n.default=function(e){e.registerDecorator("inline",(function(e,t,n,r){var o=e;return t.partials||(t.partials={},o=function(r,o){var a=n.partials;n.partials=i.extend({},a,t.partials);var s=e(r,o);return n.partials=a,s}),t.partials[r.args[0]]=r.fn,o}))},t.exports=n.default},{"../utils":462}],446:[function(e,t,n){"use strict";n.__esModule=!0;var i=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];function r(e,t){var n=t&&t.loc,o=void 0,a=void 0,s=void 0,u=void 0;n&&(o=n.start.line,a=n.end.line,s=n.start.column,u=n.end.column,e+=" - "+o+":"+s);for(var l=Error.prototype.constructor.call(this,e),c=0;c<i.length;c++)this[i[c]]=l[i[c]];Error.captureStackTrace&&Error.captureStackTrace(this,r);try{n&&(this.lineNumber=o,this.endLineNumber=a,Object.defineProperty?(Object.defineProperty(this,"column",{value:s,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:u,enumerable:!0})):(this.column=s,this.endColumn=u))}catch(e){}}r.prototype=new Error,n.default=r,t.exports=n.default},{}],447:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0,n.registerDefaultHelpers=function(e){r.default(e),o.default(e),a.default(e),s.default(e),u.default(e),l.default(e),c.default(e)},n.moveHelperToHooks=function(e,t,n){e.helpers[t]&&(e.hooks[t]=e.helpers[t],n||delete e.helpers[t])};var r=i(e("./helpers/block-helper-missing")),o=i(e("./helpers/each")),a=i(e("./helpers/helper-missing")),s=i(e("./helpers/if")),u=i(e("./helpers/log")),l=i(e("./helpers/lookup")),c=i(e("./helpers/with"))},{"./helpers/block-helper-missing":448,"./helpers/each":449,"./helpers/helper-missing":450,"./helpers/if":451,"./helpers/log":452,"./helpers/lookup":453,"./helpers/with":454}],448:[function(e,t,n){"use strict";n.__esModule=!0;var i=e("../utils");n.default=function(e){e.registerHelper("blockHelperMissing",(function(t,n){var r=n.inverse,o=n.fn;if(!0===t)return o(this);if(!1===t||null==t)return r(this);if(i.isArray(t))return t.length>0?(n.ids&&(n.ids=[n.name]),e.helpers.each(t,n)):r(this);if(n.data&&n.ids){var a=i.createFrame(n.data);a.contextPath=i.appendContextPath(n.data.contextPath,n.name),n={data:a}}return o(t,n)}))},t.exports=n.default},{"../utils":462}],449:[function(e,t,n){(function(i){"use strict";n.__esModule=!0;var r,o=e("../utils"),a=e("../exception"),s=(r=a)&&r.__esModule?r:{default:r};n.default=function(e){e.registerHelper("each",(function(e,t){if(!t)throw new s.default("Must pass iterator to #each");var n,r=t.fn,a=t.inverse,u=0,l="",c=void 0,d=void 0;function p(t,n,i){c&&(c.key=t,c.index=n,c.first=0===n,c.last=!!i,d&&(c.contextPath=d+t)),l+=r(e[t],{data:c,blockParams:o.blockParams([e[t],t],[d+t,null])})}if(t.data&&t.ids&&(d=o.appendContextPath(t.data.contextPath,t.ids[0])+"."),o.isFunction(e)&&(e=e.call(this)),t.data&&(c=o.createFrame(t.data)),e&&"object"==typeof e)if(o.isArray(e))for(var h=e.length;u<h;u++)u in e&&p(u,u,u===e.length-1);else if(i.Symbol&&e[i.Symbol.iterator]){for(var f=[],m=e[i.Symbol.iterator](),g=m.next();!g.done;g=m.next())f.push(g.value);for(h=(e=f).length;u<h;u++)p(u,u,u===e.length-1)}else n=void 0,Object.keys(e).forEach((function(e){void 0!==n&&p(n,u-1),n=e,u++})),void 0!==n&&p(n,u-1,!0);return 0===u&&(l=a(this)),l}))},t.exports=n.default}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../exception":446,"../utils":462}],450:[function(e,t,n){"use strict";n.__esModule=!0;var i,r=e("../exception"),o=(i=r)&&i.__esModule?i:{default:i};n.default=function(e){e.registerHelper("helperMissing",(function(){if(1!==arguments.length)throw new o.default('Missing helper: "'+arguments[arguments.length-1].name+'"')}))},t.exports=n.default},{"../exception":446}],451:[function(e,t,n){"use strict";n.__esModule=!0;var i,r=e("../utils"),o=e("../exception"),a=(i=o)&&i.__esModule?i:{default:i};n.default=function(e){e.registerHelper("if",(function(e,t){if(2!=arguments.length)throw new a.default("#if requires exactly one argument");return r.isFunction(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||r.isEmpty(e)?t.inverse(this):t.fn(this)})),e.registerHelper("unless",(function(t,n){if(2!=arguments.length)throw new a.default("#unless requires exactly one argument");return e.helpers.if.call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})}))},t.exports=n.default},{"../exception":446,"../utils":462}],452:[function(e,t,n){"use strict";n.__esModule=!0,n.default=function(e){e.registerHelper("log",(function(){for(var t=[void 0],n=arguments[arguments.length-1],i=0;i<arguments.length-1;i++)t.push(arguments[i]);var r=1;null!=n.hash.level?r=n.hash.level:n.data&&null!=n.data.level&&(r=n.data.level),t[0]=r,e.log.apply(e,t)}))},t.exports=n.default},{}],453:[function(e,t,n){"use strict";n.__esModule=!0,n.default=function(e){e.registerHelper("lookup",(function(e,t,n){return e?n.lookupProperty(e,t):e}))},t.exports=n.default},{}],454:[function(e,t,n){"use strict";n.__esModule=!0;var i,r=e("../utils"),o=e("../exception"),a=(i=o)&&i.__esModule?i:{default:i};n.default=function(e){e.registerHelper("with",(function(e,t){if(2!=arguments.length)throw new a.default("#with requires exactly one argument");r.isFunction(e)&&(e=e.call(this));var n=t.fn;if(r.isEmpty(e))return t.inverse(this);var i=t.data;return t.data&&t.ids&&((i=r.createFrame(t.data)).contextPath=r.appendContextPath(t.data.contextPath,t.ids[0])),n(e,{data:i,blockParams:r.blockParams([e],[i&&i.contextPath])})}))},t.exports=n.default},{"../exception":446,"../utils":462}],455:[function(e,t,n){"use strict";n.__esModule=!0,n.createNewLookupObject=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.extend.apply(void 0,[Object.create(null)].concat(t))};var i=e("../utils")},{"../utils":462}],456:[function(e,t,n){"use strict";n.__esModule=!0,n.createProtoAccessControl=function(e){var t=Object.create(null);t.constructor=!1,t.__defineGetter__=!1,t.__defineSetter__=!1,t.__lookupGetter__=!1;var n=Object.create(null);return n.__proto__=!1,{properties:{whitelist:i.createNewLookupObject(n,e.allowedProtoProperties),defaultValue:e.allowProtoPropertiesByDefault},methods:{whitelist:i.createNewLookupObject(t,e.allowedProtoMethods),defaultValue:e.allowProtoMethodsByDefault}}},n.resultIsAllowed=function(e,t,n){return a("function"==typeof e?t.methods:t.properties,n)},n.resetLoggedProperties=function(){Object.keys(o).forEach((function(e){delete o[e]}))};var i=e("./create-new-lookup-object"),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("../logger")),o=Object.create(null);function a(e,t){return void 0!==e.whitelist[t]?!0===e.whitelist[t]:void 0!==e.defaultValue?e.defaultValue:(function(e){!0!==o[e]&&(o[e]=!0,r.log("error",'Handlebars: Access has been denied to resolve the property "'+e+'" because it is not an "own property" of its parent.\nYou can add a runtime option to disable the check or this warning:\nSee https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details'))}(t),!1)}},{"../logger":458,"./create-new-lookup-object":455}],457:[function(e,t,n){"use strict";n.__esModule=!0,n.wrapHelper=function(e,t){if("function"!=typeof e)return e;return function(){return arguments[arguments.length-1]=t(arguments[arguments.length-1]),e.apply(this,arguments)}}},{}],458:[function(e,t,n){"use strict";n.__esModule=!0;var i=e("./utils"),r={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(e){if("string"==typeof e){var t=i.indexOf(r.methodMap,e.toLowerCase());e=t>=0?t:parseInt(e,10)}return e},log:function(e){if(e=r.lookupLevel(e),"undefined"!=typeof console&&r.lookupLevel(r.level)<=e){var t=r.methodMap[e];console[t]||(t="log");for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];console[t].apply(console,i)}}};n.default=r,t.exports=n.default},{"./utils":462}],459:[function(e,t,n){(function(e){"use strict";n.__esModule=!0,n.default=function(t){var n=void 0!==e?e:window,i=n.Handlebars;t.noConflict=function(){return n.Handlebars===t&&(n.Handlebars=i),t}},t.exports=n.default}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],460:[function(e,t,n){"use strict";n.__esModule=!0,n.checkRevision=function(e){var t=e&&e[0]||1,n=s.COMPILER_REVISION;if(t>=s.LAST_COMPATIBLE_COMPILER_REVISION&&t<=s.COMPILER_REVISION)return;if(t<s.LAST_COMPATIBLE_COMPILER_REVISION){var i=s.REVISION_CHANGES[n],r=s.REVISION_CHANGES[t];throw new a.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+r+").")}throw new a.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")},n.template=function(e,t){if(!t)throw new a.default("No environment passed to template");if(!e||!e.main)throw new a.default("Unknown template object: "+typeof e);e.main.decorator=e.main_d,t.VM.checkRevision(e.compiler);var n=e.compiler&&7===e.compiler[0];var i={strict:function(e,t,n){if(!e||!(t in e))throw new a.default('"'+t+'" not defined in '+e,{loc:n});return i.lookupProperty(e,t)},lookupProperty:function(e,t){var n=e[t];return null==n||Object.prototype.hasOwnProperty.call(e,t)||c.resultIsAllowed(n,i.protoAccessControl,t)?n:void 0},lookup:function(e,t){for(var n=e.length,r=0;r<n;r++){if(null!=(e[r]&&i.lookupProperty(e[r],t)))return e[r][t]}},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:r.escapeExpression,invokePartial:function(n,i,o){o.hash&&(i=r.extend({},i,o.hash),o.ids&&(o.ids[0]=!0)),n=t.VM.resolvePartial.call(this,n,i,o);var s=r.extend({},o,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),u=t.VM.invokePartial.call(this,n,i,s);if(null==u&&t.compile&&(o.partials[o.name]=t.compile(n,e.compilerOptions,t),u=o.partials[o.name](i,s)),null!=u){if(o.indent){for(var l=u.split("\n"),c=0,d=l.length;c<d&&(l[c]||c+1!==d);c++)l[c]=o.indent+l[c];u=l.join("\n")}return u}throw new a.default("The partial "+o.name+" could not be compiled when running in runtime-only mode")},fn:function(t){var n=e[t];return n.decorator=e[t+"_d"],n},programs:[],program:function(e,t,n,i,r){var o=this.programs[e],a=this.fn(e);return t||r||i||n?o=d(this,e,a,t,n,i,r):o||(o=this.programs[e]=d(this,e,a)),o},data:function(e,t){for(;e&&t--;)e=e._parent;return e},mergeIfNeeded:function(e,t){var n=e||t;return e&&t&&e!==t&&(n=r.extend({},t,e)),n},nullContext:Object.seal({}),noop:t.VM.noop,compilerInfo:e.compiler};function o(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=n.data;o._setup(n),!n.partial&&e.useData&&(r=h(t,r));var a=void 0,s=e.useBlockParams?[]:void 0;function u(t){return""+e.main(i,t,i.helpers,i.partials,r,s,a)}return e.useDepths&&(a=n.depths?t!=n.depths[0]?[t].concat(n.depths):n.depths:[t]),(u=f(e.main,u,i,n.depths||[],r,s))(t,n)}return o.isTop=!0,o._setup=function(o){if(o.partial)i.protoAccessControl=o.protoAccessControl,i.helpers=o.helpers,i.partials=o.partials,i.decorators=o.decorators,i.hooks=o.hooks;else{var a=r.extend({},t.helpers,o.helpers);!function(e,t){Object.keys(e).forEach((function(n){var i=e[n];e[n]=function(e,t){var n=t.lookupProperty;return l.wrapHelper(e,(function(e){return r.extend({lookupProperty:n},e)}))}(i,t)}))}(a,i),i.helpers=a,e.usePartial&&(i.partials=i.mergeIfNeeded(o.partials,t.partials)),(e.usePartial||e.useDecorators)&&(i.decorators=r.extend({},t.decorators,o.decorators)),i.hooks={},i.protoAccessControl=c.createProtoAccessControl(o);var s=o.allowCallsToHelperMissing||n;u.moveHelperToHooks(i,"helperMissing",s),u.moveHelperToHooks(i,"blockHelperMissing",s)}},o._child=function(t,n,r,o){if(e.useBlockParams&&!r)throw new a.default("must pass block params");if(e.useDepths&&!o)throw new a.default("must pass parent depths");return d(i,t,e[t],n,0,r,o)},o},n.wrapProgram=d,n.resolvePartial=function(e,t,n){e?e.call||n.name||(n.name=e,e=n.partials[e]):e="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name];return e},n.invokePartial=function(e,t,n){var i=n.data&&n.data["partial-block"];n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var o=void 0;n.fn&&n.fn!==p&&function(){n.data=s.createFrame(n.data);var e=n.fn;o=n.data["partial-block"]=function(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return n.data=s.createFrame(n.data),n.data["partial-block"]=i,e(t,n)},e.partials&&(n.partials=r.extend({},n.partials,e.partials))}();void 0===e&&o&&(e=o);if(void 0===e)throw new a.default("The partial "+n.name+" could not be found");if(e instanceof Function)return e(t,n)},n.noop=p;var i,r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("./utils")),o=e("./exception"),a=(i=o)&&i.__esModule?i:{default:i},s=e("./base"),u=e("./helpers"),l=e("./internal/wrapHelper"),c=e("./internal/proto-access");function d(e,t,n,i,r,o,a){function s(t){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=a;return!a||t==a[0]||t===e.nullContext&&null===a[0]||(s=[t].concat(a)),n(e,t,e.helpers,e.partials,r.data||i,o&&[r.blockParams].concat(o),s)}return(s=f(n,s,e,a,i,o)).program=t,s.depth=a?a.length:0,s.blockParams=r||0,s}function p(){return""}function h(e,t){return t&&"root"in t||((t=t?s.createFrame(t):{}).root=e),t}function f(e,t,n,i,o,a){if(e.decorator){var s={};t=e.decorator(t,s,n,i&&i[0],o,a,i),r.extend(t,s)}return t}},{"./base":433,"./exception":446,"./helpers":447,"./internal/proto-access":456,"./internal/wrapHelper":457,"./utils":462}],461:[function(e,t,n){"use strict";function i(e){this.string=e}n.__esModule=!0,i.prototype.toString=i.prototype.toHTML=function(){return""+this.string},n.default=i,t.exports=n.default},{}],462:[function(e,t,n){"use strict";n.__esModule=!0,n.extend=s,n.indexOf=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},n.escapeExpression=function(e){if("string"!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}if(!o.test(e))return e;return e.replace(r,a)},n.isEmpty=function(e){return!e&&0!==e||!(!c(e)||0!==e.length)},n.createFrame=function(e){var t=s({},e);return t._parent=e,t},n.blockParams=function(e,t){return e.path=t,e},n.appendContextPath=function(e,t){return(e?e+".":"")+t};var i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},r=/[&<>"'`=]/g,o=/[&<>"'`=]/;function a(e){return i[e]}function s(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e}var u=Object.prototype.toString;n.toString=u;var l=function(e){return"function"==typeof e};l(/x/)&&(n.isFunction=l=function(e){return"function"==typeof e&&"[object Function]"===u.call(e)}),n.isFunction=l;var c=Array.isArray||function(e){return!(!e||"object"!=typeof e)&&"[object Array]"===u.call(e)};n.isArray=c},{}],463:[function(e,t,n){var i=e("../dist/cjs/handlebars").default,r=e("../dist/cjs/handlebars/compiler/printer");function o(t,n){var r=e("fs").readFileSync(n,"utf8");t.exports=i.compile(r)}i.PrintVisitor=r.PrintVisitor,i.print=r.print,t.exports=i,void 0!==e&&e.extensions&&(e.extensions[".handlebars"]=o,e.extensions[".hbs"]=o)},{"../dist/cjs/handlebars":431,"../dist/cjs/handlebars/compiler/printer":441,fs:284}],464:[function(e,t,n){(function(n){var i=e("isarray");t.exports=function(e){return function e(t){if(!t)return!1;if(n.Buffer&&n.Buffer.isBuffer&&n.Buffer.isBuffer(t)||n.ArrayBuffer&&t instanceof ArrayBuffer||n.Blob&&t instanceof Blob||n.File&&t instanceof File)return!0;if(i(t)){for(var r=0;r<t.length;r++)if(e(t[r]))return!0}else if(t&&"object"==typeof t)for(var o in t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),t)if(Object.prototype.hasOwnProperty.call(t,o)&&e(t[o]))return!0;return!1}(e)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{isarray:465}],465:[function(e,t,n){t.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},{}],466:[function(e,t,n){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){t.exports=!1}},{}],467:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(e,t){return e[0]===t},r=function(e){return function(e){return"string"==typeof e&&e.length>0}(e)&&(i(e,".")||i(e,"#"))},o=["a","abbr","acronym","address","applet","area","article","aside","audio","b","base","basefont","bdi","bdo","bgsound","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","command","content","data","datalist","dd","del","details","dfn","dialog","dir","div","dl","dt","element","em","embed","fieldset","figcaption","figure","font","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","image","img","input","ins","isindex","kbd","keygen","label","legend","li","link","listing","main","map","mark","marquee","math","menu","menuitem","meta","meter","multicol","nav","nextid","nobr","noembed","noframes","noscript","object","ol","optgroup","option","output","p","param","picture","plaintext","pre","progress","q","rb","rbc","rp","rt","rtc","ruby","s","samp","script","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","tt","u","ul","var","video","wbr","xmp"];n.default=function(e){var t=function(e){return function(t){return function(n){for(var i=arguments.length,o=Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return r(n)?e.apply(void 0,[t+n].concat(o)):void 0===n?e(t):e.apply(void 0,[t,n].concat(o))}}}(e),n={TAG_NAMES:o,isSelector:r,createTag:t};return o.forEach((function(e){n[e]=t(e)})),n},t.exports=n.default},{}],468:[function(e,t,n){var i=e("browser-split"),r=e("class-list"),o="undefined"==typeof window?e("html-element"):window,a=o.document,s=o.Text;function u(){var e=[];function t(){var t=[].slice.call(arguments),n=null;function o(t){var u,p;if(null==t);else if("string"==typeof t)n?n.appendChild(u=a.createTextNode(t)):(p=i(t,/([\.#]?[^\s#.]+)/),/^\.|#/.test(p[1])&&(n=a.createElement("div")),c(p,(function(e){var t=e.substring(1,e.length);e&&(n?"."===e[0]?r(n).add(t):"#"===e[0]&&n.setAttribute("id",t):n=a.createElement(e))})));else if("number"==typeof t||"boolean"==typeof t||t instanceof Date||t instanceof RegExp)n.appendChild(u=a.createTextNode(t.toString()));else if(d(t))c(t,o);else if(l(t))n.appendChild(u=t);else if(t instanceof s)n.appendChild(u=t);else if("object"==typeof t)for(var h in t)if("function"==typeof t[h])/^on\w+/.test(h)?function(t,i){n.addEventListener?(n.addEventListener(t.substring(2),i[t],!1),e.push((function(){n.removeEventListener(t.substring(2),i[t],!1)}))):(n.attachEvent(t,i[t]),e.push((function(){n.detachEvent(t,i[t])})))}(h,t):(n[h]=t[h](),e.push(t[h]((function(e){n[h]=e}))));else if("style"===h)if("string"==typeof t[h])n.style.cssText=t[h];else for(var f in t[h])!function(i,r){if("function"==typeof r)n.style.setProperty(i,r()),e.push(r((function(e){n.style.setProperty(i,e)})));else var o=t[h][i].match(/(.*)\W+!important\W*$/);o?n.style.setProperty(i,o[1],"important"):n.style.setProperty(i,t[h][i])}(f,t[h][f]);else if("attrs"===h)for(var m in t[h])n.setAttribute(m,t[h][m]);else"data-"===h.substr(0,5)?n.setAttribute(h,t[h]):n[h]=t[h];else if("function"==typeof t){m=t();n.appendChild(u=l(m)?m:a.createTextNode(m)),e.push(t((function(e){l(e)&&u.parentElement?(u.parentElement.replaceChild(e,u),u=e):u.textContent=e})))}return u}for(;t.length;)o(t.shift());return n}return t.cleanup=function(){for(var t=0;t<e.length;t++)e[t]();e.length=0},t}function l(e){return e&&e.nodeName&&e.nodeType}function c(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n++)t(e[n],n)}function d(e){return"[object Array]"==Object.prototype.toString.call(e)}(t.exports=u()).context=u},{"browser-split":283,"class-list":288,"html-element":282}],469:[function(e,t,n){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
n.read=function(e,t,n,i,r){var o,a,s=8*r-i-1,u=(1<<s)-1,l=u>>1,c=-7,d=n?r-1:0,p=n?-1:1,h=e[t+d];for(d+=p,o=h&(1<<-c)-1,h>>=-c,c+=s;c>0;o=256*o+e[t+d],d+=p,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=i;c>0;a=256*a+e[t+d],d+=p,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,i),o-=l}return(h?-1:1)*a*Math.pow(2,o-i)},n.write=function(e,t,n,i,r,o){var a,s,u,l=8*o-r-1,c=(1<<l)-1,d=c>>1,p=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,h=i?0:o-1,f=i?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+d>=1?p/u:p*Math.pow(2,1-d))*u>=2&&(a++,u/=2),a+d>=c?(s=0,a=c):a+d>=1?(s=(t*u-1)*Math.pow(2,r),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,r),a=0));r>=8;e[n+h]=255&s,h+=f,s/=256,r-=8);for(a=a<<r|s,l+=r;l>0;e[n+h]=255&a,h+=f,a/=256,l-=8);e[n+h-f]|=128*m}},{}],470:[function(e,t,n){var i=[].indexOf;t.exports=function(e,t){if(i)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}},{}],471:[function(e,t,n){t.exports=function(e){if(!e)return!1;var t=i.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)};var i=Object.prototype.toString},{}],472:[function(e,t,n){(function(){var e,t,n,i,r,o,a,s,u,l,c,d,p,h,f,m,g=function(e,t){return function(){return e.apply(t,arguments)}},y=[].slice;e=jQuery,r="jqconsole-header",u=(s="jqconsole-prompt")+"-text",a="jqconsole-old-prompt",o="jqconsole-input",i="jqconsole-blurred",d="<span/>",l="<div/>",c=":empty",f="\n",n="jqconsole-ansi-",p=/\[(\d*)(?:;(\d*))*m/,t=function(){function e(){this.stylize=g(this.stylize,this),this._closeSpan=g(this._closeSpan,this),this._openSpan=g(this._openSpan,this),this.getClasses=g(this.getClasses,this),this._style=g(this._style,this),this._color=g(this._color,this),this._remove=g(this._remove,this),this._append=g(this._append,this),this.klasses=[]}return e.prototype.COLORS=["black","red","green","yellow","blue","magenta","cyan","white"],e.prototype._append=function(e){if(e=""+n+e,-1===this.klasses.indexOf(e))return this.klasses.push(e)},e.prototype._remove=function(){var e,t,i,r,o,a;for(a=[],t=0,o=(r=1<=arguments.length?y.call(arguments,0):[]).length;t<o;t++)"fonts"===(i=r[t])||"color"===i||"background-color"===i?a.push(this.klasses=function(){var t,r,o,a;for(a=[],t=0,r=(o=this.klasses).length;t<r;t++)(e=o[t]).indexOf(i)!==n.length&&a.push(e);return a}.call(this)):(i=""+n+i,a.push(this.klasses=function(){var t,n,r,o;for(o=[],t=0,n=(r=this.klasses).length;t<n;t++)(e=r[t])!==i&&o.push(e);return o}.call(this)));return a},e.prototype._color=function(e){return this.COLORS[e]},e.prototype._style=function(e){if(""===e&&(e=0),e=parseInt(e),!isNaN(e))switch(e){case 0:return this.klasses=[];case 1:return this._append("bold");case 2:return this._append("lighter");case 3:return this._append("italic");case 4:return this._append("underline");case 5:return this._append("blink");case 6:return this._append("blink-rapid");case 8:return this._append("hidden");case 9:return this._append("line-through");case 10:return this._remove("fonts");case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:return this._remove("fonts"),this._append("fonts-"+(e-10));case 20:return this._append("fraktur");case 21:case 22:return this._remove("bold","lighter");case 23:return this._remove("italic","fraktur");case 24:return this._remove("underline");case 25:return this._remove("blink","blink-rapid");case 28:return this._remove("hidden");case 29:return this._remove("line-through");case 30:case 31:case 32:case 33:case 34:case 35:case 36:case 37:return this._remove("color"),this._append("color-"+this._color(e-30));case 39:return this._remove("color");case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:return this._remove("background-color"),this._append("background-color-"+this._color(e-40));case 49:return this._remove("background-color");case 51:return this._append("framed");case 53:return this._append("overline");case 54:return this._remove("framed");case 55:return this._remove("overline")}},e.prototype.getClasses=function(){return this.klasses.join(" ")},e.prototype._openSpan=function(e){return'<span class="'+this.getClasses()+'">'+e},e.prototype._closeSpan=function(e){return e+"</span>"},e.prototype.stylize=function(e){var t,n,i,r,o,a;for(e=this._openSpan(e),i=0;(i=e.indexOf("",i))&&-1!==i;)if(n=e.slice(i).match(p)){for(r=0,o=(a=n.slice(1)).length;r<o;r++)t=a[r],this._style(t);e=this._closeSpan(e.slice(0,i))+this._openSpan(e.slice(i+1+n[0].length))}else i++;return this._closeSpan(e)},e}(),m=function(e,t){return'<span class="'+e+'">'+(t||"")+"</span>"},h=function(){function n(n,i,o,a,s){null==s&&(s=!1),this._HideComposition=g(this._HideComposition,this),this._ShowComposition=g(this._ShowComposition,this),this._UpdateComposition=g(this._UpdateComposition,this),this._EndComposition=g(this._EndComposition,this),this._StartComposition=g(this._StartComposition,this),this._CheckComposition=g(this._CheckComposition,this),this._ProcessMatch=g(this._ProcessMatch,this),this._HandleKey=g(this._HandleKey,this),this._HandleChar=g(this._HandleChar,this),this.isMobile=!!navigator.userAgent.match(/iPhone|iPad|iPod|Android/i),this.isIos=!!navigator.userAgent.match(/iPhone|iPad|iPod/i),this.isAndroid=!!navigator.userAgent.match(/Android/i),this.auto_focus=!s,this.$window=e(window),this.header=i||"",this.prompt_label_main="string"==typeof o?o:">>> ",this.prompt_label_continue=a||"... ",this.indent_width=2,this.state=1,this.input_queue=[],this.input_callback=null,this.multiline_callback=null,this.history=[],this.history_index=0,this.history_new="",this.history_active=!1,this.shortcuts={},this.$container=e("<div/>").appendTo(n),this.$container.css({top:0,left:0,right:0,bottom:0,position:"absolute",overflow:"auto"}),this.$console=e('<pre class="jqconsole"/>').appendTo(this.$container),this.$console.css({margin:0,position:"relative","min-height":"100%","box-sizing":"border-box","-moz-box-sizing":"border-box","-webkit-box-sizing":"border-box"}),this.$console_focused=!0,this.$input_container=e(l).appendTo(this.$container),this.$input_container.css({position:"absolute",width:1,height:0,overflow:"hidden"}),this.$input_source=this.isAndroid?e("<input/>"):e("<textarea/>"),this.$input_source.attr({wrap:"off",autocapitalize:"off",autocorrect:"off",spellcheck:"false",autocomplete:"off"}),this.$input_source.css({position:"absolute",width:2}),this.$input_source.appendTo(this.$input_container),this.$composition=e(l),this.$composition.addClass("jqconsole-composition"),this.$composition.css({display:"inline",position:"relative"}),this.matchings={openings:{},closings:{},clss:[]},this.ansi=new t,this._InitPrompt(),this._SetupEvents(),this.Write(this.header,r),e(n).data("jqconsole",this)}return n.prototype.ResetHistory=function(){return this.SetHistory([])},n.prototype.ResetShortcuts=function(){return this.shortcuts={}},n.prototype.ResetMatchings=function(){return this.matchings={openings:{},closings:{},clss:[]}},n.prototype.Reset=function(){1!==this.state&&this.ClearPromptText(!0),this.state=1,this.input_queue=[],this.input_callback=null,this.multiline_callback=null,this.custom_control_key_handler=null,this.custom_keypress_handler=null,this.ResetHistory(),this.ResetShortcuts(),this.ResetMatchings(),this.$prompt.detach(),this.$input_container.detach(),this.$console.html(""),this.$prompt.appendTo(this.$console),this.$input_container.appendTo(this.$container),this.Write(this.header,r)},n.prototype.GetHistory=function(){return this.history},n.prototype.SetHistory=function(e){return this.history=e.slice(),this.history_index=this.history.length},n.prototype._CheckKeyCode=function(e){if(!(0<(e=isNaN(e)?e.charCodeAt(0):parseInt(e,10))&&e<256)||isNaN(e))throw new Error("Key code must be a number between 0 and 256 exclusive.");return e},n.prototype._LetterCaseHelper=function(e,t){if(t(e),65<=e&&e<=90&&t(e+32),97<=e&&e<=122)return t(e-32)},n.prototype.RegisterShortcut=function(e,t){var n,i;if(e=this._CheckKeyCode(e),"function"!=typeof t)throw new Error("Callback must be a function, not "+t+".");i=this,n=function(e){return e in i.shortcuts||(i.shortcuts[e]=[]),i.shortcuts[e].push(t)},this._LetterCaseHelper(e,n)},n.prototype.UnRegisterShortcut=function(e,t){var n,i;e=this._CheckKeyCode(e),i=this,n=function(e){if(e in i.shortcuts)return t?i.shortcuts[e].splice(i.shortcuts[e].indexOf(t),1):delete i.shortcuts[e]},this._LetterCaseHelper(e,n)},n.prototype.GetColumn=function(){var e;return this.$prompt_right.detach(),this.$prompt_cursor.text(""),e=this.$console.text().split(f),this.$prompt_cursor.html("&nbsp;"),this.$prompt_cursor.after(this.$prompt_right),e[e.length-1].length},n.prototype.GetLine=function(){return this.$console.text().split(f).length-1},n.prototype.ClearPromptText=function(e){if(1===this.state)throw new Error("ClearPromptText() is not allowed in output state.");this.$prompt_before.html(""),this.$prompt_after.html(""),this.$prompt_label.text(e?"":this._SelectPromptLabel(!1)),this.$prompt_left.text(""),this.$prompt_right.text("")},n.prototype.GetPromptText=function(t){var n,i,r,o,a;if(1===this.state)throw new Error("GetPromptText() is not allowed in output state.");return t?(this.$prompt_cursor.text(""),a=this.$prompt.text(),this.$prompt_cursor.html("&nbsp;"),a):((i=(o=function(t){var n;return n=[],t.children().each((function(){return n.push(e(this).children().last().text())})),n.join(f)})(this.$prompt_before))&&(i+=f),r=this.$prompt_left.text()+this.$prompt_right.text(),(n=o(this.$prompt_after))&&(n=f+n),i+r+n)},n.prototype.SetPromptText=function(e){if(1===this.state)throw new Error("SetPromptText() is not allowed in output state.");this.ClearPromptText(!1),this._AppendPromptText(e),this._ScrollToEnd()},n.prototype.SetPromptLabel=function(e,t){this.prompt_label_main=e,null!=t&&(this.prompt_label_continue=t)},n.prototype.UpdatePromptLabel=function(){return">span+span>span:first-child",".jqconsole-prompt>span+span>span:first-child",this.$console.find(".jqconsole-prompt>span+span>span:first-child").text(this.prompt_label_main)},n.prototype.Write=function(t,n,i){var r;return null==i&&(i=!0),i&&(t=this.ansi.stylize(e(d).text(t).html())),r=e(d).html(t),null!=n&&r.addClass(n),this.Append(r)},n.prototype.Append=function(t){var n;return n=e(t).insertBefore(this.$prompt),this._ScrollToEnd(),this.$prompt_cursor.detach().insertAfter(this.$prompt_left),n},n.prototype.Input=function(e){var t,n,i,r,a;if(2===this.state)i=this.input_callback,r=this.multiline_callback,n=this.history_active,t=this.async_multiline,this.AbortPrompt(),this.input_queue.unshift((a=this,function(){return a.Prompt(n,i,r,t)}));else if(1!==this.state)return void this.input_queue.push(function(t){return function(){return t.Input(e)}}(this));this.history_active=!1,this.input_callback=e,this.multiline_callback=null,this.state=0,this.$prompt.attr("class",o),this.$prompt_label.text(this._SelectPromptLabel(!1)),this.Focus(),this._ScrollToEnd()},n.prototype.Prompt=function(e,t,n,i){var r;1===this.state?(this.history_active=e,this.input_callback=t,this.multiline_callback=n,this.async_multiline=i,this.state=2,this.$prompt.attr("class",s+" "+this.ansi.getClasses()),this.$prompt_label.text(this._SelectPromptLabel(!1)),this.auto_focus&&this.Focus(),this._ScrollToEnd()):this.input_queue.push((r=this,function(){return r.Prompt(e,t,n,i)}))},n.prototype.AbortPrompt=function(){var e;if(1===this.state)throw new Error("Cannot abort prompt when not in prompt or input state.");e=this.GetPromptText(!0),0===this.state?0!==e.trim().length&&this.Write(e+f,"jqconsole-old-input"):this.Write(e+f,a),this.ClearPromptText(!0),this.state=1,this.input_callback=this.multiline_callback=null,this._CheckInputQueue()},n.prototype.Focus=function(){this.IsDisabled()||this.$input_source.focus()},n.prototype.SetIndentWidth=function(e){return this.indent_width=e},n.prototype.GetIndentWidth=function(){return this.indent_width},n.prototype.RegisterMatching=function(e,t,n){var i;return i={opening_char:e,closing_char:t,cls:n},this.matchings.clss.push(n),this.matchings.openings[e]=i,this.matchings.closings[t]=i},n.prototype.UnRegisterMatching=function(e,t){var n;return n=this.matchings.openings[e].cls,delete this.matchings.openings[e],delete this.matchings.closings[t],this.matchings.clss.splice(this.matchings.clss.indexOf(n),1)},n.prototype.Dump=function(){var t,n;return t=this.$console.find("."+r).nextUntil("."+s).addBack(),function(){var i,r,o;for(o=[],i=0,r=t.length;i<r;i++)n=t[i],e(n).is("."+a)?o.push(e(n).text().replace(/^\s+/,">>> ")):o.push(e(n).text());return o}().join("")},n.prototype.GetState=function(){return 0===this.state?"input":1===this.state?"output":"prompt"},n.prototype.Disable=function(){return this.$input_source.attr("disabled",!0),this.$input_source.blur()},n.prototype.Enable=function(){return this.$input_source.attr("disabled",!1)},n.prototype.IsDisabled=function(){return Boolean(this.$input_source.attr("disabled"))},n.prototype.MoveToStart=function(e){this._MoveTo(e,!0)},n.prototype.MoveToEnd=function(e){this._MoveTo(e,!1)},n.prototype.Clear=function(){var e;return e=0===this.state?o:s,this.$console.find("."+r).nextUntil("."+e).addBack().text(""),this.$prompt_cursor.detach(),this.$prompt_right.before(this.$prompt_cursor)},n.prototype._CheckInputQueue=function(){if(this.input_queue.length)return this.input_queue.shift()()},n.prototype._InitPrompt=function(){if(this.$prompt=e(m(o)).appendTo(this.$console),this.$prompt_before=e(d).appendTo(this.$prompt),this.$prompt_current=e(d).appendTo(this.$prompt),this.$prompt_after=e(d).appendTo(this.$prompt),this.$prompt_label=e(d).appendTo(this.$prompt_current),this.$prompt_left=e(d).appendTo(this.$prompt_current),this.$prompt_right=e(d).appendTo(this.$prompt_current),this.$prompt_right.css({position:"relative"}),this.$prompt_left.addClass(u),this.$prompt_cursor=e(m("jqconsole-cursor","&nbsp;")),this.$prompt_cursor.insertBefore(this.$prompt_right),this.$prompt_cursor.css({color:"transparent",display:"inline",zIndex:0}),!this.isMobile)return this.$prompt_cursor.css("position","absolute")},n.prototype._SetupEvents=function(){var e;return this.isMobile?this.$console.click((e=this,function(t){return t.preventDefault(),e.Focus()})):this.$console.mouseup(function(e){return function(t){return 2===t.which?e.Focus():setTimeout((function(){if(!window.getSelection().toString())return t.preventDefault(),e.Focus()}),0)}}(this)),this.$input_source.focus(function(e){return function(){return e._ScrollToEnd(),e.$console_focused=!0,e.$console.removeClass(i),setTimeout((function(){if(e.$console_focused)return e.$console.removeClass(i)}),100),setTimeout((function(){if(e.isIos&&e.$console_focused)return e.$input_source.hide()}),500)}}(this)),this.$input_source.blur(function(e){return function(){return e.$console_focused=!1,e.isIos&&e.$input_source.show(),setTimeout((function(){if(!e.$console_focused)return e.$console.addClass(i)}),100)}}(this)),this.$input_source.bind("paste",function(e){return function(){return setTimeout((function(){if(!e.in_composition)return e._AppendPromptText(e.$input_source.val()),e.$input_source.val(""),e.Focus()}),0)}}(this)),this.$input_source.keypress(this._HandleChar),this.$input_source.keydown(this._HandleKey),this.$input_source.keydown(this._CheckComposition),this.$input_source.bind("compositionstart",this._StartComposition),this.$input_source.bind("compositionend",function(e){return function(t){return setTimeout((function(){return e._EndComposition(t)}),0)}}(this)),this.isAndroid?(this.$input_source.bind("input",this._StartComposition),this.$input_source.bind("input",this._UpdateComposition)):this.$input_source.bind("text",this._UpdateComposition)},n.prototype.SetKeyPressHandler=function(e){return this.custom_keypress_handler=e},n.prototype.SetControlKeyHandler=function(e){return this.custom_control_key_handler=e},n.prototype._HandleChar=function(e){var t;return!(1!==this.state&&!e.metaKey&&!e.ctrlKey)||(8===(t=e.which)||9===t||13===t||null!=this.custom_keypress_handler&&!1===this.custom_keypress_handler.call(this,e)||(this.$prompt_left.text(this.$prompt_left.text()+String.fromCharCode(t)),this._ScrollToEnd()),!1)},n.prototype._HandleKey=function(t){var n;if(1===this.state)return!0;if(n=t.keyCode||t.which,setTimeout(e.proxy(this._CheckMatchings,this),0),null!=this.custom_control_key_handler&&!1===this.custom_control_key_handler.call(this,t))return!1;if(t.altKey)return!0;if(t.ctrlKey||t.metaKey)return this._HandleCtrlShortcut(n);if(t.shiftKey){switch(n){case 13:this._HandleEnter(!0);break;case 9:this._Unindent();break;case 38:this._MoveUp();break;case 40:this._MoveDown();break;case 33:this._ScrollPage("up");break;case 34:this._ScrollPage("down");break;default:return!0}return!1}switch(n){case 13:this._HandleEnter(!1);break;case 9:this._Indent();break;case 46:this._Delete(!1);break;case 8:this._Backspace(!1);break;case 37:this._MoveLeft(!1);break;case 39:this._MoveRight(!1);break;case 38:this._HistoryPrevious();break;case 40:this._HistoryNext();break;case 36:this.MoveToStart(!1);break;case 35:this.MoveToEnd(!1);break;case 33:this._ScrollPage("up");break;case 34:this._ScrollPage("down");break;default:return!0}return!1},n.prototype._HandleCtrlShortcut=function(e){var t,n,i;switch(e){case 46:this._Delete(!0);break;case 8:this._Backspace(!0);break;case 37:this._MoveLeft(!0);break;case 39:this._MoveRight(!0);break;case 38:this._MoveUp();break;case 40:this._MoveDown();break;case 35:this.MoveToEnd(!0);break;case 36:this.MoveToStart(!0);break;default:if(e in this.shortcuts){for(t=0,n=(i=this.shortcuts[e]).length;t<n;t++)i[t].call(this);return!1}return!0}return!1},n.prototype._HandleEnter=function(e){var t,n,i;return this._EndComposition(),e?this._InsertNewLine(!0):(n=this.GetPromptText(),i=this,t=function(e){var t,r,o,a,s;if(!1!==e){for(i.MoveToEnd(!0),i._InsertNewLine(!0),s=[],o=0,a=Math.abs(e);0<=a?o<a:o>a;0<=a?++o:--o)e>0?s.push(i._Indent()):s.push(i._Unindent());return s}return r=0===i.state?"input":"prompt",i.Write(i.GetPromptText(!0)+f,"jqconsole-old-"+r),i.ClearPromptText(!0),i.history_active&&(i.history.length&&i.history[i.history.length-1]===n||i.history.push(n),i.history_index=i.history.length),i.state=1,t=i.input_callback,i.input_callback=null,t&&t(n),i._CheckInputQueue()},this.multiline_callback?this.async_multiline?this.multiline_callback(n,t):t(this.multiline_callback(n)):t(!1))},n.prototype._GetDirectionals=function(t){return{$prompt_which:t?this.$prompt_left:this.$prompt_right,$prompt_opposite:t?this.$prompt_right:this.$prompt_left,$prompt_relative:t?this.$prompt_before:this.$prompt_after,$prompt_rel_opposite:t?this.$prompt_after:this.$prompt_before,MoveToLimit:t?e.proxy(this.MoveToStart,this):e.proxy(this.MoveToEnd,this),MoveDirection:t?e.proxy(this._MoveLeft,this):e.proxy(this._MoveRight,this),which_end:t?"last":"first",where_append:t?"prependTo":"appendTo"}},n.prototype._VerticalMove=function(e){var t,n,i,r,o,a,s,u;if(i=(s=this._GetDirectionals(e)).$prompt_which,t=s.$prompt_opposite,n=s.$prompt_relative,o=s.MoveToLimit,r=s.MoveDirection,!n.is(c))return a=this.$prompt_left.text().length,o(),r(),u=i.text(),t.text(e?u.slice(a):u.slice(0,a)),i.text(e?u.slice(0,a):u.slice(a))},n.prototype._MoveUp=function(){return this._VerticalMove(!0)},n.prototype._MoveDown=function(){return this._VerticalMove()},n.prototype._HorizontalMove=function(t,n){var i,r,o,a,s,u,l,p,h,f,m,g,y,v;if(s=(p=this._GetDirectionals(n)).$prompt_which,r=p.$prompt_opposite,a=p.$prompt_relative,o=p.$prompt_rel_opposite,y=p.which_end,g=p.where_append,h=n?/\w*\W*$/:/^\w*\W*/,f=s.text()){if(t){if(!(v=f.match(h)))return;return v=v[0],m=r.text(),r.text(n?v+m:m+v),l=v.length,s.text(n?f.slice(0,-l):f.slice(l))}return m=r.text(),r.text(n?f.slice(-1)+m:m+f[0]),s.text(n?f.slice(0,-1):f.slice(1))}if(!a.is(c))return(u=e(d)[g](o)).append(e(d).text(this.$prompt_label.text())),u.append(e(d).text(r.text())),i=a.children()[y]().detach(),this.$prompt_label.text(i.children().first().text()),s.text(i.children().last().text()),r.text("")},n.prototype._MoveLeft=function(e){return this._HorizontalMove(e,!0)},n.prototype._MoveRight=function(e){return this._HorizontalMove(e)},n.prototype._MoveTo=function(e,t){var n,i,r,o,a,s,u;if(r=(s=this._GetDirectionals(t)).$prompt_which,n=s.$prompt_opposite,i=s.$prompt_relative,a=s.MoveToLimit,o=s.MoveDirection,e){for(u=[];!i.is(c)||""!==r.text();)a(!1),u.push(o(!1));return u}return n.text(this.$prompt_left.text()+this.$prompt_right.text()),r.text("")},n.prototype._Delete=function(e){var t,n,i;if(n=this.$prompt_right.text()){if(e){if(!(i=n.match(/^\w*\W*/)))return;return i=i[0],this.$prompt_right.text(n.slice(i.length))}return this.$prompt_right.text(n.slice(1))}if(!this.$prompt_after.is(c))return t=this.$prompt_after.children().first().detach(),this.$prompt_right.text(t.children().last().text())},n.prototype._Backspace=function(t){var n,i,r;if(setTimeout(e.proxy(this._ScrollToEnd,this),0),i=this.$prompt_left.text()){if(t){if(!(r=i.match(/\w*\W*$/)))return;return r=r[0],this.$prompt_left.text(i.slice(0,-r.length))}return this.$prompt_left.text(i.slice(0,-1))}if(!this.$prompt_before.is(c))return n=this.$prompt_before.children().last().detach(),this.$prompt_label.text(n.children().first().text()),this.$prompt_left.text(n.children().last().text())},n.prototype._Indent=function(){return this.$prompt_left.prepend(function(){var e,t,n;for(n=[],e=1,t=this.indent_width;1<=t?e<=t:e>=t;1<=t?++e:--e)n.push(" ");return n}.call(this).join(""))},n.prototype._Unindent=function(){var e,t,n,i;for(t=this.$prompt_left.text()+this.$prompt_right.text(),i=[],e=1,n=this.indent_width;(1<=n?e<=n:e>=n)&&/^ /.test(t);1<=n?++e:--e)this.$prompt_left.text()?this.$prompt_left.text(this.$prompt_left.text().slice(1)):this.$prompt_right.text(this.$prompt_right.text().slice(1)),i.push(t=t.slice(1));return i},n.prototype._InsertNewLine=function(t){var n,i,r;return null==t&&(t=!1),r=this._SelectPromptLabel(!this.$prompt_before.is(c)),(n=e(d).appendTo(this.$prompt_before)).append(e(d).text(r)),n.append(e(d).addClass(u).text(this.$prompt_left.text())),this.$prompt_label.text(this._SelectPromptLabel(!0)),t&&(i=this.$prompt_left.text().match(/^\s+/))?this.$prompt_left.text(i[0]):this.$prompt_left.text(""),this._ScrollToEnd()},n.prototype._AppendPromptText=function(e){var t,n,i,r,o,a;for(r=e.split(f),this.$prompt_left.text(this.$prompt_left.text()+r[0]),a=[],t=0,n=(o=r.slice(1)).length;t<n;t++)i=o[t],this._InsertNewLine(),a.push(this.$prompt_left.text(i));return a},n.prototype._ScrollPage=function(e){var t;return t=this.$container[0].scrollTop,"up"===e?t-=this.$container.height():t+=this.$container.height(),this.$container.stop().animate({scrollTop:t},"fast")},n.prototype._ScrollToEnd=function(){var e;if(this.$container.scrollTop(this.$container[0].scrollHeight),e=this.$prompt_cursor.position(),this.$input_container.css({left:e.left,top:e.top}),this.auto_focus)return setTimeout(this.ScrollWindowToPrompt.bind(this),50)},n.prototype.ScrollWindowToPrompt=function(){var e,t,n,i,r;if(t=this.$prompt_cursor.height(),r=this.$window.scrollTop(),this.$window.scrollLeft(),e=document.documentElement.clientHeight,n=(i=this.$prompt_cursor.offset()).top-2*t,this.isMobile&&"undefined"!=typeof orientation&&null!==orientation){if(r<i.top||r>i.top)return this.$window.scrollTop(n)}else{if(r+e<i.top)return this.$window.scrollTop(i.top-e+t);if(r>n)return this.$window.scrollTop(i.top)}},n.prototype._SelectPromptLabel=function(e){return 2===this.state?e?" \n"+this.prompt_label_continue:this.prompt_label_main:e?"\n ":" "},n.prototype._Wrap=function(e,t,n){var i,r;return i=(r=e.html()).slice(0,t)+m(n,r[t])+r.slice(t+1),e.html(i)},n.prototype._WalkCharacters=function(e,t,n,i,r){var o,a,s;for(a=r?e.length:0,e=e.split(""),s=function(){var t,n,i,o;return r?(e=2<=(n=e).length?y.call(n,0,t=n.length-1):(t=0,[]),o=n[t++]):(o=(i=e)[0],e=2<=i.length?y.call(i,1):[]),o&&(a+=r?-1:1),o};o=s();)if(o===t?i++:o===n&&i--,0===i)return{index:a,current_count:i};return{index:-1,current_count:i}},n.prototype._ProcessMatch=function(t,n,i){var r,o,a,s,u,l,c,d,p,h,f,m,g;return p=n?[t.closing_char,t.opening_char]:[t.opening_char,t.closing_char],s=p[0],d=p[1],a=(h=this._GetDirectionals(n)).$prompt_which,o=h.$prompt_relative,u=1,l=!1,m=a.html(),n||(m=m.slice(1)),i&&n&&(m=m.slice(0,-1)),f=this._WalkCharacters(m,s,d,u,n),c=f.index,u=f.current_count,c>-1?(this._Wrap(a,c,t.cls),l=!0):(r=o.children(),(r=n?Array.prototype.reverse.call(r):r).each((g=this,function(i,r){var o,a;if(o=e(r).children().last(),m=o.html(),a=g._WalkCharacters(m,s,d,u,n),c=a.index,u=a.current_count,c>-1)return n||c--,g._Wrap(o,c,t.cls),l=!0,!1}))),l},n.prototype._CheckMatchings=function(t){var n,i,r,o,a,s,u;for(r=t?this.$prompt_left.text().slice(this.$prompt_left.text().length-1):this.$prompt_right.text()[0],a=0,s=(u=this.matchings.clss).length;a<s;a++)n=u[a],e("."+n,this.$console).contents().unwrap();if((i=this.matchings.closings[r])?o=this._ProcessMatch(i,!0,t):(i=this.matchings.openings[r])?o=this._ProcessMatch(i,!1,t):t||this._CheckMatchings(!0),t){if(o)return this._Wrap(this.$prompt_left,this.$prompt_left.html().length-1,i.cls)}else if(o)return this._Wrap(this.$prompt_right,0,i.cls)},n.prototype._HistoryPrevious=function(){if(this.history_active&&!(this.history_index<=0))return this.history_index===this.history.length&&(this.history_new=this.GetPromptText()),this.SetPromptText(this.history[--this.history_index])},n.prototype._HistoryNext=function(){if(this.history_active&&!(this.history_index>=this.history.length))return this.history_index===this.history.length-1?(this.history_index++,this.SetPromptText(this.history_new)):this.SetPromptText(this.history[++this.history_index])},n.prototype._CheckComposition=function(e){if(229===(e.keyCode||e.which))return this.in_composition?this._UpdateComposition():this._StartComposition()},n.prototype._StartComposition=function(){if(!this.in_composition)return this.in_composition=!0,this._ShowComposition(),setTimeout(this._UpdateComposition,0)},n.prototype._EndComposition=function(){if(this.in_composition)return this._HideComposition(),this.$prompt_left.text(this.$prompt_left.text()+this.$composition.text()),this.$composition.text(""),this.$input_source.val(""),this.in_composition=!1},n.prototype._UpdateComposition=function(e){var t;return t=this,setTimeout((function(){if(t.in_composition)return t.$composition.text(t.$input_source.val())}),0)},n.prototype._ShowComposition=function(){return this.$composition.css("height",this.$prompt_cursor.height()),this.$composition.empty(),this.$composition.appendTo(this.$prompt_left)},n.prototype._HideComposition=function(){return this.$composition.detach()},n}(),e.fn.jqconsole=function(e,t,n,i){return new h(this,e,t,n,i)},e.fn.jqconsole.JQConsole=h,e.fn.jqconsole.Ansi=t}).call(this)},{}],473:[function(e,t,n){
/*!
 * jQuery JavaScript Library v3.6.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2022-08-26T17:52Z
 */
!function(e,n){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(e)}("undefined"!=typeof window?window:this,(function(e,t){"use strict";var n=[],i=Object.getPrototypeOf,r=n.slice,o=n.flat?function(e){return n.flat.call(e)}:function(e){return n.concat.apply([],e)},a=n.push,s=n.indexOf,u={},l=u.toString,c=u.hasOwnProperty,d=c.toString,p=d.call(Object),h={},f=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},m=function(e){return null!=e&&e===e.window},g=e.document,y={type:!0,src:!0,nonce:!0,noModule:!0};function v(e,t,n){var i,r,o=(n=n||g).createElement("script");if(o.text=e,t)for(i in y)(r=t[i]||t.getAttribute&&t.getAttribute(i))&&o.setAttribute(i,r);n.head.appendChild(o).parentNode.removeChild(o)}function _(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?u[l.call(e)]||"object":typeof e}var b="3.6.1",w=function(e,t){return new w.fn.init(e,t)};function E(e){var t=!!e&&"length"in e&&e.length,n=_(e);return!f(e)&&!m(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}w.fn=w.prototype={jquery:b,constructor:w,length:0,toArray:function(){return r.call(this)},get:function(e){return null==e?r.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=w.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return w.each(this,e)},map:function(e){return this.pushStack(w.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(r.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(w.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(w.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:n.sort,splice:n.splice},w.extend=w.fn.extend=function(){var e,t,n,i,r,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||f(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)i=e[t],"__proto__"!==t&&a!==i&&(l&&i&&(w.isPlainObject(i)||(r=Array.isArray(i)))?(n=a[t],o=r&&!Array.isArray(n)?[]:r||w.isPlainObject(n)?n:{},r=!1,a[t]=w.extend(l,o,i)):void 0!==i&&(a[t]=i));return a},w.extend({expando:"jQuery"+(b+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==l.call(e))&&(!(t=i(e))||"function"==typeof(n=c.call(t,"constructor")&&t.constructor)&&d.call(n)===p)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){v(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,i=0;if(E(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(E(Object(e))?w.merge(n,"string"==typeof e?[e]:e):a.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:s.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i=[],r=0,o=e.length,a=!n;r<o;r++)!t(e[r],r)!==a&&i.push(e[r]);return i},map:function(e,t,n){var i,r,a=0,s=[];if(E(e))for(i=e.length;a<i;a++)null!=(r=t(e[a],a,n))&&s.push(r);else for(a in e)null!=(r=t(e[a],a,n))&&s.push(r);return o(s)},guid:1,support:h}),"function"==typeof Symbol&&(w.fn[Symbol.iterator]=n[Symbol.iterator]),w.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){u["[object "+t+"]"]=t.toLowerCase()}));var S=
/*!
 * Sizzle CSS Selector Engine v2.3.6
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://js.foundation/
 *
 * Date: 2021-02-16
 */
function(e){var t,n,i,r,o,a,s,u,l,c,d,p,h,f,m,g,y,v,_,b="sizzle"+1*new Date,w=e.document,E=0,S=0,T=ue(),C=ue(),x=ue(),A=ue(),k=function(e,t){return e===t&&(d=!0),0},I={}.hasOwnProperty,D=[],O=D.pop,P=D.push,N=D.push,R=D.slice,L=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},M="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",F="[\\x20\\t\\r\\n\\f]",j="(?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",B="\\[[\\x20\\t\\r\\n\\f]*("+j+")(?:"+F+"*([*^$|!~]?=)"+F+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+j+"))|)"+F+"*\\]",U=":("+j+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+B+")*)|.*)\\)|)",H=new RegExp(F+"+","g"),$=new RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),G=new RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),q=new RegExp("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"),V=new RegExp(F+"|>"),z=new RegExp(U),W=new RegExp("^"+j+"$"),K={ID:new RegExp("^#("+j+")"),CLASS:new RegExp("^\\.("+j+")"),TAG:new RegExp("^("+j+"|[*])"),ATTR:new RegExp("^"+B),PSEUDO:new RegExp("^"+U),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:new RegExp("^(?:"+M+")$","i"),needsContext:new RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},Y=/HTML$/i,J=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},ie=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,re=function(e,t){return t?"\0"===e?"":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){p()},ae=be((function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{N.apply(D=R.call(w.childNodes),w.childNodes),D[w.childNodes.length].nodeType}catch(e){N={apply:D.length?function(e,t){P.apply(e,R.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}function se(e,t,i,r){var o,s,l,c,d,f,y,v=t&&t.ownerDocument,w=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==w&&9!==w&&11!==w)return i;if(!r&&(p(t),t=t||h,m)){if(11!==w&&(d=Z.exec(e)))if(o=d[1]){if(9===w){if(!(l=t.getElementById(o)))return i;if(l.id===o)return i.push(l),i}else if(v&&(l=v.getElementById(o))&&_(t,l)&&l.id===o)return i.push(l),i}else{if(d[2])return N.apply(i,t.getElementsByTagName(e)),i;if((o=d[3])&&n.getElementsByClassName&&t.getElementsByClassName)return N.apply(i,t.getElementsByClassName(o)),i}if(n.qsa&&!A[e+" "]&&(!g||!g.test(e))&&(1!==w||"object"!==t.nodeName.toLowerCase())){if(y=e,v=t,1===w&&(V.test(e)||q.test(e))){for((v=ee.test(e)&&ye(t.parentNode)||t)===t&&n.scope||((c=t.getAttribute("id"))?c=c.replace(ie,re):t.setAttribute("id",c=b)),s=(f=a(e)).length;s--;)f[s]=(c?"#"+c:":scope")+" "+_e(f[s]);y=f.join(",")}try{return N.apply(i,v.querySelectorAll(y)),i}catch(t){A(e,!0)}finally{c===b&&t.removeAttribute("id")}}}return u(e.replace($,"$1"),t,i,r)}function ue(){var e=[];return function t(n,r){return e.push(n+" ")>i.cacheLength&&delete t[e.shift()],t[n+" "]=r}}function le(e){return e[b]=!0,e}function ce(e){var t=h.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function de(e,t){for(var n=e.split("|"),r=n.length;r--;)i.attrHandle[n[r]]=t}function pe(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function he(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function fe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function me(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ae(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ge(e){return le((function(t){return t=+t,le((function(n,i){for(var r,o=e([],n.length,t),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))}))}))}function ye(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=se.support={},o=se.isXML=function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!Y.test(t||n&&n.nodeName||"HTML")},p=se.setDocument=function(e){var t,r,a=e?e.ownerDocument||e:w;return a!=h&&9===a.nodeType&&a.documentElement?(f=(h=a).documentElement,m=!o(h),w!=h&&(r=h.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",oe,!1):r.attachEvent&&r.attachEvent("onunload",oe)),n.scope=ce((function(e){return f.appendChild(e).appendChild(h.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length})),n.attributes=ce((function(e){return e.className="i",!e.getAttribute("className")})),n.getElementsByTagName=ce((function(e){return e.appendChild(h.createComment("")),!e.getElementsByTagName("*").length})),n.getElementsByClassName=Q.test(h.getElementsByClassName),n.getById=ce((function(e){return f.appendChild(e).id=b,!h.getElementsByName||!h.getElementsByName(b).length})),n.getById?(i.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n=t.getElementById(e);return n?[n]:[]}}):(i.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n,i,r,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(r=t.getElementsByName(e),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),i.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},i.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&m)return t.getElementsByClassName(e)},y=[],g=[],(n.qsa=Q.test(h.querySelectorAll))&&(ce((function(e){var t;f.appendChild(e).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|"+M+")"),e.querySelectorAll("[id~="+b+"-]").length||g.push("~="),(t=h.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||g.push("\\[[\\x20\\t\\r\\n\\f]*name[\\x20\\t\\r\\n\\f]*=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+b+"+*").length||g.push(".#.+[+~]"),e.querySelectorAll("\\\f"),g.push("[\\r\\n\\f]")})),ce((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=h.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),f.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")}))),(n.matchesSelector=Q.test(v=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&ce((function(e){n.disconnectedMatch=v.call(e,"*"),v.call(e,"[s!='']:x"),y.push("!=",U)})),g=g.length&&new RegExp(g.join("|")),y=y.length&&new RegExp(y.join("|")),t=Q.test(f.compareDocumentPosition),_=t||Q.test(f.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},k=t?function(e,t){if(e===t)return d=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===i?e==h||e.ownerDocument==w&&_(w,e)?-1:t==h||t.ownerDocument==w&&_(w,t)?1:c?L(c,e)-L(c,t):0:4&i?-1:1)}:function(e,t){if(e===t)return d=!0,0;var n,i=0,r=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!r||!o)return e==h?-1:t==h?1:r?-1:o?1:c?L(c,e)-L(c,t):0;if(r===o)return pe(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[i]===s[i];)i++;return i?pe(a[i],s[i]):a[i]==w?-1:s[i]==w?1:0},h):h},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(p(e),n.matchesSelector&&m&&!A[t+" "]&&(!y||!y.test(t))&&(!g||!g.test(t)))try{var i=v.call(e,t);if(i||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){A(t,!0)}return se(t,h,null,[e]).length>0},se.contains=function(e,t){return(e.ownerDocument||e)!=h&&p(e),_(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=h&&p(e);var r=i.attrHandle[t.toLowerCase()],o=r&&I.call(i.attrHandle,t.toLowerCase())?r(e,t,!m):void 0;return void 0!==o?o:n.attributes||!m?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},se.escape=function(e){return(e+"").replace(ie,re)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,i=[],r=0,o=0;if(d=!n.detectDuplicates,c=!n.sortStable&&e.slice(0),e.sort(k),d){for(;t=e[o++];)t===e[o]&&(r=i.push(o));for(;r--;)e.splice(i[r],1)}return c=null,e},r=se.getText=function(e){var t,n="",i=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=r(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[i++];)n+=r(t);return n},i=se.selectors={cacheLength:50,createPseudo:le,match:K,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return K.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&z.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=T[e+" "];return t||(t=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+e+"("+F+"|$)"))&&T(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(i){var r=se.attr(i,e);return null==r?"!="===t:!t||(r+="","="===t?r===n:"!="===t?r!==n:"^="===t?n&&0===r.indexOf(n):"*="===t?n&&r.indexOf(n)>-1:"$="===t?n&&r.slice(-n.length)===n:"~="===t?(" "+r.replace(H," ")+" ").indexOf(n)>-1:"|="===t&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,u){var l,c,d,p,h,f,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,y=s&&t.nodeName.toLowerCase(),v=!u&&!s,_=!1;if(g){if(o){for(;m;){for(p=t;p=p[m];)if(s?p.nodeName.toLowerCase()===y:1===p.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[a?g.firstChild:g.lastChild],a&&v){for(_=(h=(l=(c=(d=(p=g)[b]||(p[b]={}))[p.uniqueID]||(d[p.uniqueID]={}))[e]||[])[0]===E&&l[1])&&l[2],p=h&&g.childNodes[h];p=++h&&p&&p[m]||(_=h=0)||f.pop();)if(1===p.nodeType&&++_&&p===t){c[e]=[E,h,_];break}}else if(v&&(_=h=(l=(c=(d=(p=t)[b]||(p[b]={}))[p.uniqueID]||(d[p.uniqueID]={}))[e]||[])[0]===E&&l[1]),!1===_)for(;(p=++h&&p&&p[m]||(_=h=0)||f.pop())&&((s?p.nodeName.toLowerCase()!==y:1!==p.nodeType)||!++_||(v&&((c=(d=p[b]||(p[b]={}))[p.uniqueID]||(d[p.uniqueID]={}))[e]=[E,_]),p!==t)););return(_-=r)===i||_%i==0&&_/i>=0}}},PSEUDO:function(e,t){var n,r=i.pseudos[e]||i.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return r[b]?r(t):r.length>1?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?le((function(e,n){for(var i,o=r(e,t),a=o.length;a--;)e[i=L(e,o[a])]=!(n[i]=o[a])})):function(e){return r(e,0,n)}):r}},pseudos:{not:le((function(e){var t=[],n=[],i=s(e.replace($,"$1"));return i[b]?le((function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))})):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}})),has:le((function(e){return function(t){return se(e,t).length>0}})),contains:le((function(e){return e=e.replace(te,ne),function(t){return(t.textContent||r(t)).indexOf(e)>-1}})),lang:le((function(e){return W.test(e||"")||se.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=m?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===f},focus:function(e){return e===h.activeElement&&(!h.hasFocus||h.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:me(!1),disabled:me(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!i.pseudos.empty(e)},header:function(e){return X.test(e.nodeName)},input:function(e){return J.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ge((function(){return[0]})),last:ge((function(e,t){return[t-1]})),eq:ge((function(e,t,n){return[n<0?n+t:n]})),even:ge((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:ge((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:ge((function(e,t,n){for(var i=n<0?n+t:n>t?t:n;--i>=0;)e.push(i);return e})),gt:ge((function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e}))}},i.pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[t]=he(t);for(t in{submit:!0,reset:!0})i.pseudos[t]=fe(t);function ve(){}function _e(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function be(e,t,n){var i=t.dir,r=t.next,o=r||i,a=n&&"parentNode"===o,s=S++;return t.first?function(t,n,r){for(;t=t[i];)if(1===t.nodeType||a)return e(t,n,r);return!1}:function(t,n,u){var l,c,d,p=[E,s];if(u){for(;t=t[i];)if((1===t.nodeType||a)&&e(t,n,u))return!0}else for(;t=t[i];)if(1===t.nodeType||a)if(c=(d=t[b]||(t[b]={}))[t.uniqueID]||(d[t.uniqueID]={}),r&&r===t.nodeName.toLowerCase())t=t[i]||t;else{if((l=c[o])&&l[0]===E&&l[1]===s)return p[2]=l[2];if(c[o]=p,p[2]=e(t,n,u))return!0}return!1}}function we(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function Ee(e,t,n,i,r){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,i,r)||(a.push(o),l&&t.push(s)));return a}function Se(e,t,n,i,r,o){return i&&!i[b]&&(i=Se(i)),r&&!r[b]&&(r=Se(r,o)),le((function(o,a,s,u){var l,c,d,p=[],h=[],f=a.length,m=o||function(e,t,n){for(var i=0,r=t.length;i<r;i++)se(e,t[i],n);return n}(t||"*",s.nodeType?[s]:s,[]),g=!e||!o&&t?m:Ee(m,p,e,s,u),y=n?r||(o?e:f||i)?[]:a:g;if(n&&n(g,y,s,u),i)for(l=Ee(y,h),i(l,[],s,u),c=l.length;c--;)(d=l[c])&&(y[h[c]]=!(g[h[c]]=d));if(o){if(r||e){if(r){for(l=[],c=y.length;c--;)(d=y[c])&&l.push(g[c]=d);r(null,y=[],l,u)}for(c=y.length;c--;)(d=y[c])&&(l=r?L(o,d):p[c])>-1&&(o[l]=!(a[l]=d))}}else y=Ee(y===a?y.splice(f,y.length):y),r?r(null,a,y,u):N.apply(a,y)}))}function Te(e){for(var t,n,r,o=e.length,a=i.relative[e[0].type],s=a||i.relative[" "],u=a?1:0,c=be((function(e){return e===t}),s,!0),d=be((function(e){return L(t,e)>-1}),s,!0),p=[function(e,n,i){var r=!a&&(i||n!==l)||((t=n).nodeType?c(e,n,i):d(e,n,i));return t=null,r}];u<o;u++)if(n=i.relative[e[u].type])p=[be(we(p),n)];else{if((n=i.filter[e[u].type].apply(null,e[u].matches))[b]){for(r=++u;r<o&&!i.relative[e[r].type];r++);return Se(u>1&&we(p),u>1&&_e(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace($,"$1"),n,u<r&&Te(e.slice(u,r)),r<o&&Te(e=e.slice(r)),r<o&&_e(e))}p.push(n)}return we(p)}return ve.prototype=i.filters=i.pseudos,i.setFilters=new ve,a=se.tokenize=function(e,t){var n,r,o,a,s,u,l,c=C[e+" "];if(c)return t?0:c.slice(0);for(s=e,u=[],l=i.preFilter;s;){for(a in n&&!(r=G.exec(s))||(r&&(s=s.slice(r[0].length)||s),u.push(o=[])),n=!1,(r=q.exec(s))&&(n=r.shift(),o.push({value:n,type:r[0].replace($," ")}),s=s.slice(n.length)),i.filter)!(r=K[a].exec(s))||l[a]&&!(r=l[a](r))||(n=r.shift(),o.push({value:n,type:a,matches:r}),s=s.slice(n.length));if(!n)break}return t?s.length:s?se.error(e):C(e,u).slice(0)},s=se.compile=function(e,t){var n,r=[],o=[],s=x[e+" "];if(!s){for(t||(t=a(e)),n=t.length;n--;)(s=Te(t[n]))[b]?r.push(s):o.push(s);s=x(e,function(e,t){var n=t.length>0,r=e.length>0,o=function(o,a,s,u,c){var d,f,g,y=0,v="0",_=o&&[],b=[],w=l,S=o||r&&i.find.TAG("*",c),T=E+=null==w?1:Math.random()||.1,C=S.length;for(c&&(l=a==h||a||c);v!==C&&null!=(d=S[v]);v++){if(r&&d){for(f=0,a||d.ownerDocument==h||(p(d),s=!m);g=e[f++];)if(g(d,a||h,s)){u.push(d);break}c&&(E=T)}n&&((d=!g&&d)&&y--,o&&_.push(d))}if(y+=v,n&&v!==y){for(f=0;g=t[f++];)g(_,b,a,s);if(o){if(y>0)for(;v--;)_[v]||b[v]||(b[v]=O.call(u));b=Ee(b)}N.apply(u,b),c&&!o&&b.length>0&&y+t.length>1&&se.uniqueSort(u)}return c&&(E=T,l=w),_};return n?le(o):o}(o,r)),s.selector=e}return s},u=se.select=function(e,t,n,r){var o,u,l,c,d,p="function"==typeof e&&e,h=!r&&a(e=p.selector||e);if(n=n||[],1===h.length){if((u=h[0]=h[0].slice(0)).length>2&&"ID"===(l=u[0]).type&&9===t.nodeType&&m&&i.relative[u[1].type]){if(!(t=(i.find.ID(l.matches[0].replace(te,ne),t)||[])[0]))return n;p&&(t=t.parentNode),e=e.slice(u.shift().value.length)}for(o=K.needsContext.test(e)?0:u.length;o--&&(l=u[o],!i.relative[c=l.type]);)if((d=i.find[c])&&(r=d(l.matches[0].replace(te,ne),ee.test(u[0].type)&&ye(t.parentNode)||t))){if(u.splice(o,1),!(e=r.length&&_e(u)))return N.apply(n,r),n;break}}return(p||s(e,h))(r,t,!m,n,!t||ee.test(e)&&ye(t.parentNode)||t),n},n.sortStable=b.split("").sort(k).join("")===b,n.detectDuplicates=!!d,p(),n.sortDetached=ce((function(e){return 1&e.compareDocumentPosition(h.createElement("fieldset"))})),ce((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||de("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),n.attributes&&ce((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||de("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),ce((function(e){return null==e.getAttribute("disabled")}))||de(M,(function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null})),se}(e);w.find=S,w.expr=S.selectors,w.expr[":"]=w.expr.pseudos,w.uniqueSort=w.unique=S.uniqueSort,w.text=S.getText,w.isXMLDoc=S.isXML,w.contains=S.contains,w.escapeSelector=S.escape;var T=function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&w(e).is(n))break;i.push(e)}return i},C=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},x=w.expr.match.needsContext;function A(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var k=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function I(e,t,n){return f(t)?w.grep(e,(function(e,i){return!!t.call(e,i,e)!==n})):t.nodeType?w.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?w.grep(e,(function(e){return s.call(t,e)>-1!==n})):w.filter(t,e,n)}w.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?w.find.matchesSelector(i,e)?[i]:[]:w.find.matches(e,w.grep(t,(function(e){return 1===e.nodeType})))},w.fn.extend({find:function(e){var t,n,i=this.length,r=this;if("string"!=typeof e)return this.pushStack(w(e).filter((function(){for(t=0;t<i;t++)if(w.contains(r[t],this))return!0})));for(n=this.pushStack([]),t=0;t<i;t++)w.find(e,r[t],n);return i>1?w.uniqueSort(n):n},filter:function(e){return this.pushStack(I(this,e||[],!1))},not:function(e){return this.pushStack(I(this,e||[],!0))},is:function(e){return!!I(this,"string"==typeof e&&x.test(e)?w(e):e||[],!1).length}});var D,O=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(w.fn.init=function(e,t,n){var i,r;if(!e)return this;if(n=n||D,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:O.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof w?t[0]:t,w.merge(this,w.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:g,!0)),k.test(i[1])&&w.isPlainObject(t))for(i in t)f(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(r=g.getElementById(i[2]))&&(this[0]=r,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):f(e)?void 0!==n.ready?n.ready(e):e(w):w.makeArray(e,this)}).prototype=w.fn,D=w(g);var P=/^(?:parents|prev(?:Until|All))/,N={children:!0,contents:!0,next:!0,prev:!0};function R(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}w.fn.extend({has:function(e){var t=w(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(w.contains(this,t[e]))return!0}))},closest:function(e,t){var n,i=0,r=this.length,o=[],a="string"!=typeof e&&w(e);if(!x.test(e))for(;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&w.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?w.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?s.call(w(e),this[0]):s.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(w.uniqueSort(w.merge(this.get(),w(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),w.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return T(e,"parentNode")},parentsUntil:function(e,t,n){return T(e,"parentNode",n)},next:function(e){return R(e,"nextSibling")},prev:function(e){return R(e,"previousSibling")},nextAll:function(e){return T(e,"nextSibling")},prevAll:function(e){return T(e,"previousSibling")},nextUntil:function(e,t,n){return T(e,"nextSibling",n)},prevUntil:function(e,t,n){return T(e,"previousSibling",n)},siblings:function(e){return C((e.parentNode||{}).firstChild,e)},children:function(e){return C(e.firstChild)},contents:function(e){return null!=e.contentDocument&&i(e.contentDocument)?e.contentDocument:(A(e,"template")&&(e=e.content||e),w.merge([],e.childNodes))}},(function(e,t){w.fn[e]=function(n,i){var r=w.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=w.filter(i,r)),this.length>1&&(N[e]||w.uniqueSort(r),P.test(e)&&r.reverse()),this.pushStack(r)}}));var L=/[^\x20\t\r\n\f]+/g;function M(e){return e}function F(e){throw e}function j(e,t,n,i){var r;try{e&&f(r=e.promise)?r.call(e).done(t).fail(n):e&&f(r=e.then)?r.call(e,t,n):t.apply(void 0,[e].slice(i))}catch(e){n.apply(void 0,[e])}}w.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return w.each(e.match(L)||[],(function(e,n){t[n]=!0})),t}(e):w.extend({},e);var t,n,i,r,o=[],a=[],s=-1,u=function(){for(r=r||e.once,i=t=!0;a.length;s=-1)for(n=a.shift();++s<o.length;)!1===o[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=o.length,n=!1);e.memory||(n=!1),t=!1,r&&(o=n?[]:"")},l={add:function(){return o&&(n&&!t&&(s=o.length-1,a.push(n)),function t(n){w.each(n,(function(n,i){f(i)?e.unique&&l.has(i)||o.push(i):i&&i.length&&"string"!==_(i)&&t(i)}))}(arguments),n&&!t&&u()),this},remove:function(){return w.each(arguments,(function(e,t){for(var n;(n=w.inArray(t,o,n))>-1;)o.splice(n,1),n<=s&&s--})),this},has:function(e){return e?w.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=a=[],n||t||(o=n=""),this},locked:function(){return!!r},fireWith:function(e,n){return r||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||u()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!i}};return l},w.extend({Deferred:function(t){var n=[["notify","progress",w.Callbacks("memory"),w.Callbacks("memory"),2],["resolve","done",w.Callbacks("once memory"),w.Callbacks("once memory"),0,"resolved"],["reject","fail",w.Callbacks("once memory"),w.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return r.then(null,e)},pipe:function(){var e=arguments;return w.Deferred((function(t){w.each(n,(function(n,i){var r=f(e[i[4]])&&e[i[4]];o[i[1]]((function(){var e=r&&r.apply(this,arguments);e&&f(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[i[0]+"With"](this,r?[e]:arguments)}))})),e=null})).promise()},then:function(t,i,r){var o=0;function a(t,n,i,r){return function(){var s=this,u=arguments,l=function(){var e,l;if(!(t<o)){if((e=i.apply(s,u))===n.promise())throw new TypeError("Thenable self-resolution");l=e&&("object"==typeof e||"function"==typeof e)&&e.then,f(l)?r?l.call(e,a(o,n,M,r),a(o,n,F,r)):(o++,l.call(e,a(o,n,M,r),a(o,n,F,r),a(o,n,M,n.notifyWith))):(i!==M&&(s=void 0,u=[e]),(r||n.resolveWith)(s,u))}},c=r?l:function(){try{l()}catch(e){w.Deferred.exceptionHook&&w.Deferred.exceptionHook(e,c.stackTrace),t+1>=o&&(i!==F&&(s=void 0,u=[e]),n.rejectWith(s,u))}};t?c():(w.Deferred.getStackHook&&(c.stackTrace=w.Deferred.getStackHook()),e.setTimeout(c))}}return w.Deferred((function(e){n[0][3].add(a(0,e,f(r)?r:M,e.notifyWith)),n[1][3].add(a(0,e,f(t)?t:M)),n[2][3].add(a(0,e,f(i)?i:F))})).promise()},promise:function(e){return null!=e?w.extend(e,r):r}},o={};return w.each(n,(function(e,t){var a=t[2],s=t[5];r[t[1]]=a.add,s&&a.add((function(){i=s}),n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),a.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?void 0:this,arguments),this},o[t[0]+"With"]=a.fireWith})),r.promise(o),t&&t.call(o,o),o},when:function(e){var t=arguments.length,n=t,i=Array(n),o=r.call(arguments),a=w.Deferred(),s=function(e){return function(n){i[e]=this,o[e]=arguments.length>1?r.call(arguments):n,--t||a.resolveWith(i,o)}};if(t<=1&&(j(e,a.done(s(n)).resolve,a.reject,!t),"pending"===a.state()||f(o[n]&&o[n].then)))return a.then();for(;n--;)j(o[n],s(n),a.reject);return a.promise()}});var B=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;w.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&B.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},w.readyException=function(t){e.setTimeout((function(){throw t}))};var U=w.Deferred();function H(){g.removeEventListener("DOMContentLoaded",H),e.removeEventListener("load",H),w.ready()}w.fn.ready=function(e){return U.then(e).catch((function(e){w.readyException(e)})),this},w.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--w.readyWait:w.isReady)||(w.isReady=!0,!0!==e&&--w.readyWait>0||U.resolveWith(g,[w]))}}),w.ready.then=U.then,"complete"===g.readyState||"loading"!==g.readyState&&!g.documentElement.doScroll?e.setTimeout(w.ready):(g.addEventListener("DOMContentLoaded",H),e.addEventListener("load",H));var $=function(e,t,n,i,r,o,a){var s=0,u=e.length,l=null==n;if("object"===_(n))for(s in r=!0,n)$(e,t,s,n[s],!0,o,a);else if(void 0!==i&&(r=!0,f(i)||(a=!0),l&&(a?(t.call(e,i),t=null):(l=t,t=function(e,t,n){return l.call(w(e),n)})),t))for(;s<u;s++)t(e[s],n,a?i:i.call(e[s],s,t(e[s],n)));return r?e:l?t.call(e):u?t(e[0],n):o},G=/^-ms-/,q=/-([a-z])/g;function V(e,t){return t.toUpperCase()}function z(e){return e.replace(G,"ms-").replace(q,V)}var W=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function K(){this.expando=w.expando+K.uid++}K.uid=1,K.prototype={cache:function(e){var t=e[this.expando];return t||(t={},W(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,r=this.cache(e);if("string"==typeof t)r[z(t)]=n;else for(i in t)r[z(i)]=t[i];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][z(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){n=(t=Array.isArray(t)?t.map(z):(t=z(t))in i?[t]:t.match(L)||[]).length;for(;n--;)delete i[t[n]]}(void 0===t||w.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!w.isEmptyObject(t)}};var Y=new K,J=new K,X=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Q=/[A-Z]/g;function Z(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(Q,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:X.test(e)?JSON.parse(e):e)}(n)}catch(e){}J.set(e,t,n)}else n=void 0;return n}w.extend({hasData:function(e){return J.hasData(e)||Y.hasData(e)},data:function(e,t,n){return J.access(e,t,n)},removeData:function(e,t){J.remove(e,t)},_data:function(e,t,n){return Y.access(e,t,n)},_removeData:function(e,t){Y.remove(e,t)}}),w.fn.extend({data:function(e,t){var n,i,r,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(r=J.get(o),1===o.nodeType&&!Y.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(i=a[n].name).indexOf("data-")&&(i=z(i.slice(5)),Z(o,i,r[i]));Y.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each((function(){J.set(this,e)})):$(this,(function(t){var n;if(o&&void 0===t)return void 0!==(n=J.get(o,e))||void 0!==(n=Z(o,e))?n:void 0;this.each((function(){J.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){J.remove(this,e)}))}}),w.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=Y.get(e,t),n&&(!i||Array.isArray(n)?i=Y.access(e,t,w.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=w.queue(e,t),i=n.length,r=n.shift(),o=w._queueHooks(e,t);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,(function(){w.dequeue(e,t)}),o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Y.get(e,n)||Y.access(e,n,{empty:w.Callbacks("once memory").add((function(){Y.remove(e,[t+"queue",n])}))})}}),w.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?w.queue(this[0],e):void 0===t?this:this.each((function(){var n=w.queue(this,e,t);w._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&w.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){w.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=w.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=Y.get(o[a],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(t)}});var ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,te=new RegExp("^(?:([+-])=|)("+ee+")([a-z%]*)$","i"),ne=["Top","Right","Bottom","Left"],ie=g.documentElement,re=function(e){return w.contains(e.ownerDocument,e)},oe={composed:!0};ie.getRootNode&&(re=function(e){return w.contains(e.ownerDocument,e)||e.getRootNode(oe)===e.ownerDocument});var ae=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&re(e)&&"none"===w.css(e,"display")};function se(e,t,n,i){var r,o,a=20,s=i?function(){return i.cur()}:function(){return w.css(e,t,"")},u=s(),l=n&&n[3]||(w.cssNumber[t]?"":"px"),c=e.nodeType&&(w.cssNumber[t]||"px"!==l&&+u)&&te.exec(w.css(e,t));if(c&&c[3]!==l){for(u/=2,l=l||c[3],c=+u||1;a--;)w.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,w.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=l,i.start=c,i.end=r)),r}var ue={};function le(e){var t,n=e.ownerDocument,i=e.nodeName,r=ue[i];return r||(t=n.body.appendChild(n.createElement(i)),r=w.css(t,"display"),t.parentNode.removeChild(t),"none"===r&&(r="block"),ue[i]=r,r)}function ce(e,t){for(var n,i,r=[],o=0,a=e.length;o<a;o++)(i=e[o]).style&&(n=i.style.display,t?("none"===n&&(r[o]=Y.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&ae(i)&&(r[o]=le(i))):"none"!==n&&(r[o]="none",Y.set(i,"display",n)));for(o=0;o<a;o++)null!=r[o]&&(e[o].style.display=r[o]);return e}w.fn.extend({show:function(){return ce(this,!0)},hide:function(){return ce(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){ae(this)?w(this).show():w(this).hide()}))}});var de,pe,he=/^(?:checkbox|radio)$/i,fe=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,me=/^$|^module$|\/(?:java|ecma)script/i;de=g.createDocumentFragment().appendChild(g.createElement("div")),(pe=g.createElement("input")).setAttribute("type","radio"),pe.setAttribute("checked","checked"),pe.setAttribute("name","t"),de.appendChild(pe),h.checkClone=de.cloneNode(!0).cloneNode(!0).lastChild.checked,de.innerHTML="<textarea>x</textarea>",h.noCloneChecked=!!de.cloneNode(!0).lastChild.defaultValue,de.innerHTML="<option></option>",h.option=!!de.lastChild;var ge={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ye(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&A(e,t)?w.merge([e],n):n}function ve(e,t){for(var n=0,i=e.length;n<i;n++)Y.set(e[n],"globalEval",!t||Y.get(t[n],"globalEval"))}ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td,h.option||(ge.optgroup=ge.option=[1,"<select multiple='multiple'>","</select>"]);var _e=/<|&#?\w+;/;function be(e,t,n,i,r){for(var o,a,s,u,l,c,d=t.createDocumentFragment(),p=[],h=0,f=e.length;h<f;h++)if((o=e[h])||0===o)if("object"===_(o))w.merge(p,o.nodeType?[o]:o);else if(_e.test(o)){for(a=a||d.appendChild(t.createElement("div")),s=(fe.exec(o)||["",""])[1].toLowerCase(),u=ge[s]||ge._default,a.innerHTML=u[1]+w.htmlPrefilter(o)+u[2],c=u[0];c--;)a=a.lastChild;w.merge(p,a.childNodes),(a=d.firstChild).textContent=""}else p.push(t.createTextNode(o));for(d.textContent="",h=0;o=p[h++];)if(i&&w.inArray(o,i)>-1)r&&r.push(o);else if(l=re(o),a=ye(d.appendChild(o),"script"),l&&ve(a),n)for(c=0;o=a[c++];)me.test(o.type||"")&&n.push(o);return d}var we=/^([^.]*)(?:\.(.+)|)/;function Ee(){return!0}function Se(){return!1}function Te(e,t){return e===function(){try{return g.activeElement}catch(e){}}()==("focus"===t)}function Ce(e,t,n,i,r,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(i=i||n,n=void 0),t)Ce(e,s,n,i,t[s],o);return e}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=Se;else if(!r)return e;return 1===o&&(a=r,r=function(e){return w().off(e),a.apply(this,arguments)},r.guid=a.guid||(a.guid=w.guid++)),e.each((function(){w.event.add(this,t,r,i,n)}))}function xe(e,t,n){n?(Y.set(e,t,!1),w.event.add(e,t,{namespace:!1,handler:function(e){var i,o,a=Y.get(this,t);if(1&e.isTrigger&&this[t]){if(a.length)(w.event.special[t]||{}).delegateType&&e.stopPropagation();else if(a=r.call(arguments),Y.set(this,t,a),i=n(this,t),this[t](),a!==(o=Y.get(this,t))||i?Y.set(this,t,!1):o={},a!==o)return e.stopImmediatePropagation(),e.preventDefault(),o&&o.value}else a.length&&(Y.set(this,t,{value:w.event.trigger(w.extend(a[0],w.Event.prototype),a.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Y.get(e,t)&&w.event.add(e,t,Ee)}w.event={global:{},add:function(e,t,n,i,r){var o,a,s,u,l,c,d,p,h,f,m,g=Y.get(e);if(W(e))for(n.handler&&(n=(o=n).handler,r=o.selector),r&&w.find.matchesSelector(ie,r),n.guid||(n.guid=w.guid++),(u=g.events)||(u=g.events=Object.create(null)),(a=g.handle)||(a=g.handle=function(t){return void 0!==w&&w.event.triggered!==t.type?w.event.dispatch.apply(e,arguments):void 0}),l=(t=(t||"").match(L)||[""]).length;l--;)h=m=(s=we.exec(t[l])||[])[1],f=(s[2]||"").split(".").sort(),h&&(d=w.event.special[h]||{},h=(r?d.delegateType:d.bindType)||h,d=w.event.special[h]||{},c=w.extend({type:h,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&w.expr.match.needsContext.test(r),namespace:f.join(".")},o),(p=u[h])||((p=u[h]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,i,f,a)||e.addEventListener&&e.addEventListener(h,a)),d.add&&(d.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),r?p.splice(p.delegateCount++,0,c):p.push(c),w.event.global[h]=!0)},remove:function(e,t,n,i,r){var o,a,s,u,l,c,d,p,h,f,m,g=Y.hasData(e)&&Y.get(e);if(g&&(u=g.events)){for(l=(t=(t||"").match(L)||[""]).length;l--;)if(h=m=(s=we.exec(t[l])||[])[1],f=(s[2]||"").split(".").sort(),h){for(d=w.event.special[h]||{},p=u[h=(i?d.delegateType:d.bindType)||h]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;o--;)c=p[o],!r&&m!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,d.remove&&d.remove.call(e,c));a&&!p.length&&(d.teardown&&!1!==d.teardown.call(e,f,g.handle)||w.removeEvent(e,h,g.handle),delete u[h])}else for(h in u)w.event.remove(e,h+t[l],n,i,!0);w.isEmptyObject(u)&&Y.remove(e,"handle events")}},dispatch:function(e){var t,n,i,r,o,a,s=new Array(arguments.length),u=w.event.fix(e),l=(Y.get(this,"events")||Object.create(null))[u.type]||[],c=w.event.special[u.type]||{};for(s[0]=u,t=1;t<arguments.length;t++)s[t]=arguments[t];if(u.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,u)){for(a=w.event.handlers.call(this,u,l),t=0;(r=a[t++])&&!u.isPropagationStopped();)for(u.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!u.isImmediatePropagationStopped();)u.rnamespace&&!1!==o.namespace&&!u.rnamespace.test(o.namespace)||(u.handleObj=o,u.data=o.data,void 0!==(i=((w.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,s))&&!1===(u.result=i)&&(u.preventDefault(),u.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,u),u.result}},handlers:function(e,t){var n,i,r,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&e.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[r=(i=t[n]).selector+" "]&&(a[r]=i.needsContext?w(r,this).index(l)>-1:w.find(r,this,null,[l]).length),a[r]&&o.push(i);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(e,t){Object.defineProperty(w.Event.prototype,e,{enumerable:!0,configurable:!0,get:f(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[w.expando]?e:new w.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return he.test(t.type)&&t.click&&A(t,"input")&&xe(t,"click",Ee),!1},trigger:function(e){var t=this||e;return he.test(t.type)&&t.click&&A(t,"input")&&xe(t,"click"),!0},_default:function(e){var t=e.target;return he.test(t.type)&&t.click&&A(t,"input")&&Y.get(t,"click")||A(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},w.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},w.Event=function(e,t){if(!(this instanceof w.Event))return new w.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ee:Se,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&w.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[w.expando]=!0},w.Event.prototype={constructor:w.Event,isDefaultPrevented:Se,isPropagationStopped:Se,isImmediatePropagationStopped:Se,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ee,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ee,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ee,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},w.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},w.event.addProp),w.each({focus:"focusin",blur:"focusout"},(function(e,t){w.event.special[e]={setup:function(){return xe(this,e,Te),!1},trigger:function(){return xe(this,e),!0},_default:function(t){return Y.get(t.target,e)},delegateType:t}})),w.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){w.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,o=e.handleObj;return r&&(r===i||w.contains(i,r))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}})),w.fn.extend({on:function(e,t,n,i){return Ce(this,e,t,n,i)},one:function(e,t,n,i){return Ce(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,w(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Se),this.each((function(){w.event.remove(this,e,n,t)}))}});var Ae=/<script|<style|<link/i,ke=/checked\s*(?:[^=]|=\s*.checked.)/i,Ie=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function De(e,t){return A(e,"table")&&A(11!==t.nodeType?t:t.firstChild,"tr")&&w(e).children("tbody")[0]||e}function Oe(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Pe(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Ne(e,t){var n,i,r,o,a,s;if(1===t.nodeType){if(Y.hasData(e)&&(s=Y.get(e).events))for(r in Y.remove(t,"handle events"),s)for(n=0,i=s[r].length;n<i;n++)w.event.add(t,r,s[r][n]);J.hasData(e)&&(o=J.access(e),a=w.extend({},o),J.set(t,a))}}function Re(e,t){var n=t.nodeName.toLowerCase();"input"===n&&he.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Le(e,t,n,i){t=o(t);var r,a,s,u,l,c,d=0,p=e.length,m=p-1,g=t[0],y=f(g);if(y||p>1&&"string"==typeof g&&!h.checkClone&&ke.test(g))return e.each((function(r){var o=e.eq(r);y&&(t[0]=g.call(this,r,o.html())),Le(o,t,n,i)}));if(p&&(a=(r=be(t,e[0].ownerDocument,!1,e,i)).firstChild,1===r.childNodes.length&&(r=a),a||i)){for(u=(s=w.map(ye(r,"script"),Oe)).length;d<p;d++)l=r,d!==m&&(l=w.clone(l,!0,!0),u&&w.merge(s,ye(l,"script"))),n.call(e[d],l,d);if(u)for(c=s[s.length-1].ownerDocument,w.map(s,Pe),d=0;d<u;d++)l=s[d],me.test(l.type||"")&&!Y.access(l,"globalEval")&&w.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?w._evalUrl&&!l.noModule&&w._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")},c):v(l.textContent.replace(Ie,""),l,c))}return e}function Me(e,t,n){for(var i,r=t?w.filter(t,e):e,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||w.cleanData(ye(i)),i.parentNode&&(n&&re(i)&&ve(ye(i,"script")),i.parentNode.removeChild(i));return e}w.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var i,r,o,a,s=e.cloneNode(!0),u=re(e);if(!(h.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||w.isXMLDoc(e)))for(a=ye(s),i=0,r=(o=ye(e)).length;i<r;i++)Re(o[i],a[i]);if(t)if(n)for(o=o||ye(e),a=a||ye(s),i=0,r=o.length;i<r;i++)Ne(o[i],a[i]);else Ne(e,s);return(a=ye(s,"script")).length>0&&ve(a,!u&&ye(e,"script")),s},cleanData:function(e){for(var t,n,i,r=w.event.special,o=0;void 0!==(n=e[o]);o++)if(W(n)){if(t=n[Y.expando]){if(t.events)for(i in t.events)r[i]?w.event.remove(n,i):w.removeEvent(n,i,t.handle);n[Y.expando]=void 0}n[J.expando]&&(n[J.expando]=void 0)}}}),w.fn.extend({detach:function(e){return Me(this,e,!0)},remove:function(e){return Me(this,e)},text:function(e){return $(this,(function(e){return void 0===e?w.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Le(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||De(this,e).appendChild(e)}))},prepend:function(){return Le(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=De(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Le(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Le(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(w.cleanData(ye(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return w.clone(this,e,t)}))},html:function(e){return $(this,(function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ae.test(e)&&!ge[(fe.exec(e)||["",""])[1].toLowerCase()]){e=w.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(w.cleanData(ye(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Le(this,arguments,(function(t){var n=this.parentNode;w.inArray(this,e)<0&&(w.cleanData(ye(this)),n&&n.replaceChild(t,this))}),e)}}),w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){w.fn[e]=function(e){for(var n,i=[],r=w(e),o=r.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),w(r[s])[t](n),a.apply(i,n.get());return this.pushStack(i)}}));var Fe=new RegExp("^("+ee+")(?!px)[a-z%]+$","i"),je=/^--/,Be=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},Ue=function(e,t,n){var i,r,o={};for(r in t)o[r]=e.style[r],e.style[r]=t[r];for(r in i=n.call(e),t)e.style[r]=o[r];return i},He=new RegExp(ne.join("|"),"i"),$e=new RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g");function Ge(e,t,n){var i,r,o,a,s=je.test(t),u=e.style;return(n=n||Be(e))&&(a=n.getPropertyValue(t)||n[t],s&&(a=a.replace($e,"$1")),""!==a||re(e)||(a=w.style(e,t)),!h.pixelBoxStyles()&&Fe.test(a)&&He.test(t)&&(i=u.width,r=u.minWidth,o=u.maxWidth,u.minWidth=u.maxWidth=u.width=a,a=n.width,u.width=i,u.minWidth=r,u.maxWidth=o)),void 0!==a?a+"":a}function qe(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function t(){if(c){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ie.appendChild(l).appendChild(c);var t=e.getComputedStyle(c);i="1%"!==t.top,u=12===n(t.marginLeft),c.style.right="60%",a=36===n(t.right),r=36===n(t.width),c.style.position="absolute",o=12===n(c.offsetWidth/3),ie.removeChild(l),c=null}}function n(e){return Math.round(parseFloat(e))}var i,r,o,a,s,u,l=g.createElement("div"),c=g.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",h.clearCloneStyle="content-box"===c.style.backgroundClip,w.extend(h,{boxSizingReliable:function(){return t(),r},pixelBoxStyles:function(){return t(),a},pixelPosition:function(){return t(),i},reliableMarginLeft:function(){return t(),u},scrollboxSize:function(){return t(),o},reliableTrDimensions:function(){var t,n,i,r;return null==s&&(t=g.createElement("table"),n=g.createElement("tr"),i=g.createElement("div"),t.style.cssText="position:absolute;left:-11111px;border-collapse:separate",n.style.cssText="border:1px solid",n.style.height="1px",i.style.height="9px",i.style.display="block",ie.appendChild(t).appendChild(n).appendChild(i),r=e.getComputedStyle(n),s=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===n.offsetHeight,ie.removeChild(t)),s}}))}();var Ve=["Webkit","Moz","ms"],ze=g.createElement("div").style,We={};function Ke(e){var t=w.cssProps[e]||We[e];return t||(e in ze?e:We[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=Ve.length;n--;)if((e=Ve[n]+t)in ze)return e}(e)||e)}var Ye=/^(none|table(?!-c[ea]).+)/,Je={position:"absolute",visibility:"hidden",display:"block"},Xe={letterSpacing:"0",fontWeight:"400"};function Qe(e,t,n){var i=te.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function Ze(e,t,n,i,r,o){var a="width"===t?1:0,s=0,u=0;if(n===(i?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=w.css(e,n+ne[a],!0,r)),i?("content"===n&&(u-=w.css(e,"padding"+ne[a],!0,r)),"margin"!==n&&(u-=w.css(e,"border"+ne[a]+"Width",!0,r))):(u+=w.css(e,"padding"+ne[a],!0,r),"padding"!==n?u+=w.css(e,"border"+ne[a]+"Width",!0,r):s+=w.css(e,"border"+ne[a]+"Width",!0,r));return!i&&o>=0&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))||0),u}function et(e,t,n){var i=Be(e),r=(!h.boxSizingReliable()||n)&&"border-box"===w.css(e,"boxSizing",!1,i),o=r,a=Ge(e,t,i),s="offset"+t[0].toUpperCase()+t.slice(1);if(Fe.test(a)){if(!n)return a;a="auto"}return(!h.boxSizingReliable()&&r||!h.reliableTrDimensions()&&A(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===w.css(e,"display",!1,i))&&e.getClientRects().length&&(r="border-box"===w.css(e,"boxSizing",!1,i),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+Ze(e,t,n||(r?"border":"content"),o,i,a)+"px"}function tt(e,t,n,i,r){return new tt.prototype.init(e,t,n,i,r)}w.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ge(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,a,s=z(t),u=je.test(t),l=e.style;if(u||(t=Ke(s)),a=w.cssHooks[t]||w.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(r=a.get(e,!1,i))?r:l[t];"string"===(o=typeof n)&&(r=te.exec(n))&&r[1]&&(n=se(e,t,r),o="number"),null!=n&&n==n&&("number"!==o||u||(n+=r&&r[3]||(w.cssNumber[s]?"":"px")),h.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,i))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,i){var r,o,a,s=z(t);return je.test(t)||(t=Ke(s)),(a=w.cssHooks[t]||w.cssHooks[s])&&"get"in a&&(r=a.get(e,!0,n)),void 0===r&&(r=Ge(e,t,i)),"normal"===r&&t in Xe&&(r=Xe[t]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),w.each(["height","width"],(function(e,t){w.cssHooks[t]={get:function(e,n,i){if(n)return!Ye.test(w.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?et(e,t,i):Ue(e,Je,(function(){return et(e,t,i)}))},set:function(e,n,i){var r,o=Be(e),a=!h.scrollboxSize()&&"absolute"===o.position,s=(a||i)&&"border-box"===w.css(e,"boxSizing",!1,o),u=i?Ze(e,t,i,s,o):0;return s&&a&&(u-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-Ze(e,t,"border",!1,o)-.5)),u&&(r=te.exec(n))&&"px"!==(r[3]||"px")&&(e.style[t]=n,n=w.css(e,t)),Qe(0,n,u)}}})),w.cssHooks.marginLeft=qe(h.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Ge(e,"marginLeft"))||e.getBoundingClientRect().left-Ue(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),w.each({margin:"",padding:"",border:"Width"},(function(e,t){w.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[e+ne[i]+t]=o[i]||o[i-2]||o[0];return r}},"margin"!==e&&(w.cssHooks[e+t].set=Qe)})),w.fn.extend({css:function(e,t){return $(this,(function(e,t,n){var i,r,o={},a=0;if(Array.isArray(t)){for(i=Be(e),r=t.length;a<r;a++)o[t[a]]=w.css(e,t[a],!1,i);return o}return void 0!==n?w.style(e,t,n):w.css(e,t)}),e,t,arguments.length>1)}}),w.Tween=tt,tt.prototype={constructor:tt,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||w.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(w.cssNumber[n]?"":"px")},cur:function(){var e=tt.propHooks[this.prop];return e&&e.get?e.get(this):tt.propHooks._default.get(this)},run:function(e){var t,n=tt.propHooks[this.prop];return this.options.duration?this.pos=t=w.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):tt.propHooks._default.set(this),this}},tt.prototype.init.prototype=tt.prototype,tt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=w.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){w.fx.step[e.prop]?w.fx.step[e.prop](e):1!==e.elem.nodeType||!w.cssHooks[e.prop]&&null==e.elem.style[Ke(e.prop)]?e.elem[e.prop]=e.now:w.style(e.elem,e.prop,e.now+e.unit)}}},tt.propHooks.scrollTop=tt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},w.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},w.fx=tt.prototype.init,w.fx.step={};var nt,it,rt=/^(?:toggle|show|hide)$/,ot=/queueHooks$/;function at(){it&&(!1===g.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(at):e.setTimeout(at,w.fx.interval),w.fx.tick())}function st(){return e.setTimeout((function(){nt=void 0})),nt=Date.now()}function ut(e,t){var n,i=0,r={height:e};for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=ne[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function lt(e,t,n){for(var i,r=(ct.tweeners[t]||[]).concat(ct.tweeners["*"]),o=0,a=r.length;o<a;o++)if(i=r[o].call(n,t,e))return i}function ct(e,t,n){var i,r,o=0,a=ct.prefilters.length,s=w.Deferred().always((function(){delete u.elem})),u=function(){if(r)return!1;for(var t=nt||st(),n=Math.max(0,l.startTime+l.duration-t),i=1-(n/l.duration||0),o=0,a=l.tweens.length;o<a;o++)l.tweens[o].run(i);return s.notifyWith(e,[l,i,n]),i<1&&a?n:(a||s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:w.extend({},t),opts:w.extend(!0,{specialEasing:{},easing:w.easing._default},n),originalProperties:t,originalOptions:n,startTime:nt||st(),duration:n.duration,tweens:[],createTween:function(t,n){var i=w.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(i),i},stop:function(t){var n=0,i=t?l.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)l.tweens[n].run(1);return t?(s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l,t])):s.rejectWith(e,[l,t]),this}}),c=l.props;for(!function(e,t){var n,i,r,o,a;for(n in e)if(r=t[i=z(n)],o=e[n],Array.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),(a=w.cssHooks[i])&&"expand"in a)for(n in o=a.expand(o),delete e[i],o)n in e||(e[n]=o[n],t[n]=r);else t[i]=r}(c,l.opts.specialEasing);o<a;o++)if(i=ct.prefilters[o].call(l,e,c,l.opts))return f(i.stop)&&(w._queueHooks(l.elem,l.opts.queue).stop=i.stop.bind(i)),i;return w.map(c,lt,l),f(l.opts.start)&&l.opts.start.call(e,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),w.fx.timer(w.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l}w.Animation=w.extend(ct,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return se(n.elem,e,te.exec(t),n),n}]},tweener:function(e,t){f(e)?(t=e,e=["*"]):e=e.match(L);for(var n,i=0,r=e.length;i<r;i++)n=e[i],ct.tweeners[n]=ct.tweeners[n]||[],ct.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var i,r,o,a,s,u,l,c,d="width"in t||"height"in t,p=this,h={},f=e.style,m=e.nodeType&&ae(e),g=Y.get(e,"fxshow");for(i in n.queue||(null==(a=w._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always((function(){p.always((function(){a.unqueued--,w.queue(e,"fx").length||a.empty.fire()}))}))),t)if(r=t[i],rt.test(r)){if(delete t[i],o=o||"toggle"===r,r===(m?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;m=!0}h[i]=g&&g[i]||w.style(e,i)}if((u=!w.isEmptyObject(t))||!w.isEmptyObject(h))for(i in d&&1===e.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(l=g&&g.display)&&(l=Y.get(e,"display")),"none"===(c=w.css(e,"display"))&&(l?c=l:(ce([e],!0),l=e.style.display||l,c=w.css(e,"display"),ce([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===w.css(e,"float")&&(u||(p.done((function(){f.display=l})),null==l&&(c=f.display,l="none"===c?"":c)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",p.always((function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}))),u=!1,h)u||(g?"hidden"in g&&(m=g.hidden):g=Y.access(e,"fxshow",{display:l}),o&&(g.hidden=!m),m&&ce([e],!0),p.done((function(){for(i in m||ce([e]),Y.remove(e,"fxshow"),h)w.style(e,i,h[i])}))),u=lt(m?g[i]:0,i,p),i in g||(g[i]=u.start,m&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?ct.prefilters.unshift(e):ct.prefilters.push(e)}}),w.speed=function(e,t,n){var i=e&&"object"==typeof e?w.extend({},e):{complete:n||!n&&t||f(e)&&e,duration:e,easing:n&&t||t&&!f(t)&&t};return w.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in w.fx.speeds?i.duration=w.fx.speeds[i.duration]:i.duration=w.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){f(i.old)&&i.old.call(this),i.queue&&w.dequeue(this,i.queue)},i},w.fn.extend({fadeTo:function(e,t,n,i){return this.filter(ae).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=w.isEmptyObject(e),o=w.speed(t,n,i),a=function(){var t=ct(this,w.extend({},e),o);(r||Y.get(this,"finish"))&&t.stop(!0)};return a.finish=a,r||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,r=null!=e&&e+"queueHooks",o=w.timers,a=Y.get(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&ot.test(r)&&i(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(n),t=!1,o.splice(r,1));!t&&n||w.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=Y.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=w.timers,a=i?i.length:0;for(n.finish=!0,w.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish}))}}),w.each(["toggle","show","hide"],(function(e,t){var n=w.fn[t];w.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(ut(t,!0),e,i,r)}})),w.each({slideDown:ut("show"),slideUp:ut("hide"),slideToggle:ut("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){w.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}})),w.timers=[],w.fx.tick=function(){var e,t=0,n=w.timers;for(nt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||w.fx.stop(),nt=void 0},w.fx.timer=function(e){w.timers.push(e),w.fx.start()},w.fx.interval=13,w.fx.start=function(){it||(it=!0,at())},w.fx.stop=function(){it=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fn.delay=function(t,n){return t=w.fx&&w.fx.speeds[t]||t,n=n||"fx",this.queue(n,(function(n,i){var r=e.setTimeout(n,t);i.stop=function(){e.clearTimeout(r)}}))},function(){var e=g.createElement("input"),t=g.createElement("select").appendChild(g.createElement("option"));e.type="checkbox",h.checkOn=""!==e.value,h.optSelected=t.selected,(e=g.createElement("input")).value="t",e.type="radio",h.radioValue="t"===e.value}();var dt,pt=w.expr.attrHandle;w.fn.extend({attr:function(e,t){return $(this,w.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){w.removeAttr(this,e)}))}}),w.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?w.prop(e,t,n):(1===o&&w.isXMLDoc(e)||(r=w.attrHooks[t.toLowerCase()]||(w.expr.match.bool.test(t)?dt:void 0)),void 0!==n?null===n?void w.removeAttr(e,t):r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(i=r.get(e,t))?i:null==(i=w.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){if(!h.radioValue&&"radio"===t&&A(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,r=t&&t.match(L);if(r&&1===e.nodeType)for(;n=r[i++];)e.removeAttribute(n)}}),dt={set:function(e,t,n){return!1===t?w.removeAttr(e,n):e.setAttribute(n,n),n}},w.each(w.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=pt[t]||w.find.attr;pt[t]=function(e,t,i){var r,o,a=t.toLowerCase();return i||(o=pt[a],pt[a]=r,r=null!=n(e,t,i)?a:null,pt[a]=o),r}}));var ht=/^(?:input|select|textarea|button)$/i,ft=/^(?:a|area)$/i;function mt(e){return(e.match(L)||[]).join(" ")}function gt(e){return e.getAttribute&&e.getAttribute("class")||""}function yt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(L)||[]}w.fn.extend({prop:function(e,t){return $(this,w.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[w.propFix[e]||e]}))}}),w.extend({prop:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&w.isXMLDoc(e)||(t=w.propFix[t]||t,r=w.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=w.find.attr(e,"tabindex");return t?parseInt(t,10):ht.test(e.nodeName)||ft.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),h.optSelected||(w.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),w.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){w.propFix[this.toLowerCase()]=this})),w.fn.extend({addClass:function(e){var t,n,i,r,o,a;return f(e)?this.each((function(t){w(this).addClass(e.call(this,t,gt(this)))})):(t=yt(e)).length?this.each((function(){if(i=gt(this),n=1===this.nodeType&&" "+mt(i)+" "){for(o=0;o<t.length;o++)r=t[o],n.indexOf(" "+r+" ")<0&&(n+=r+" ");a=mt(n),i!==a&&this.setAttribute("class",a)}})):this},removeClass:function(e){var t,n,i,r,o,a;return f(e)?this.each((function(t){w(this).removeClass(e.call(this,t,gt(this)))})):arguments.length?(t=yt(e)).length?this.each((function(){if(i=gt(this),n=1===this.nodeType&&" "+mt(i)+" "){for(o=0;o<t.length;o++)for(r=t[o];n.indexOf(" "+r+" ")>-1;)n=n.replace(" "+r+" "," ");a=mt(n),i!==a&&this.setAttribute("class",a)}})):this:this.attr("class","")},toggleClass:function(e,t){var n,i,r,o,a=typeof e,s="string"===a||Array.isArray(e);return f(e)?this.each((function(n){w(this).toggleClass(e.call(this,n,gt(this),t),t)})):"boolean"==typeof t&&s?t?this.addClass(e):this.removeClass(e):(n=yt(e),this.each((function(){if(s)for(o=w(this),r=0;r<n.length;r++)i=n[r],o.hasClass(i)?o.removeClass(i):o.addClass(i);else void 0!==e&&"boolean"!==a||((i=gt(this))&&Y.set(this,"__className__",i),this.setAttribute&&this.setAttribute("class",i||!1===e?"":Y.get(this,"__className__")||""))})))},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+mt(gt(n))+" ").indexOf(t)>-1)return!0;return!1}});var vt=/\r/g;w.fn.extend({val:function(e){var t,n,i,r=this[0];return arguments.length?(i=f(e),this.each((function(n){var r;1===this.nodeType&&(null==(r=i?e.call(this,n,w(this).val()):e)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=w.map(r,(function(e){return null==e?"":e+""}))),(t=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))}))):r?(t=w.valHooks[r.type]||w.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(vt,""):null==n?"":n:void 0}}),w.extend({valHooks:{option:{get:function(e){var t=w.find.attr(e,"value");return null!=t?t:mt(w.text(e))}},select:{get:function(e){var t,n,i,r=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:r.length;for(i=o<0?u:a?o:0;i<u;i++)if(((n=r[i]).selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!A(n.parentNode,"optgroup"))){if(t=w(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,i,r=e.options,o=w.makeArray(t),a=r.length;a--;)((i=r[a]).selected=w.inArray(w.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),w.each(["radio","checkbox"],(function(){w.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=w.inArray(w(e).val(),t)>-1}},h.checkOn||(w.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),h.focusin="onfocusin"in e;var _t=/^(?:focusinfocus|focusoutblur)$/,bt=function(e){e.stopPropagation()};w.extend(w.event,{trigger:function(t,n,i,r){var o,a,s,u,l,d,p,h,y=[i||g],v=c.call(t,"type")?t.type:t,_=c.call(t,"namespace")?t.namespace.split("."):[];if(a=h=s=i=i||g,3!==i.nodeType&&8!==i.nodeType&&!_t.test(v+w.event.triggered)&&(v.indexOf(".")>-1&&(_=v.split("."),v=_.shift(),_.sort()),l=v.indexOf(":")<0&&"on"+v,(t=t[w.expando]?t:new w.Event(v,"object"==typeof t&&t)).isTrigger=r?2:3,t.namespace=_.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+_.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:w.makeArray(n,[t]),p=w.event.special[v]||{},r||!p.trigger||!1!==p.trigger.apply(i,n))){if(!r&&!p.noBubble&&!m(i)){for(u=p.delegateType||v,_t.test(u+v)||(a=a.parentNode);a;a=a.parentNode)y.push(a),s=a;s===(i.ownerDocument||g)&&y.push(s.defaultView||s.parentWindow||e)}for(o=0;(a=y[o++])&&!t.isPropagationStopped();)h=a,t.type=o>1?u:p.bindType||v,(d=(Y.get(a,"events")||Object.create(null))[t.type]&&Y.get(a,"handle"))&&d.apply(a,n),(d=l&&a[l])&&d.apply&&W(a)&&(t.result=d.apply(a,n),!1===t.result&&t.preventDefault());return t.type=v,r||t.isDefaultPrevented()||p._default&&!1!==p._default.apply(y.pop(),n)||!W(i)||l&&f(i[v])&&!m(i)&&((s=i[l])&&(i[l]=null),w.event.triggered=v,t.isPropagationStopped()&&h.addEventListener(v,bt),i[v](),t.isPropagationStopped()&&h.removeEventListener(v,bt),w.event.triggered=void 0,s&&(i[l]=s)),t.result}},simulate:function(e,t,n){var i=w.extend(new w.Event,n,{type:e,isSimulated:!0});w.event.trigger(i,null,t)}}),w.fn.extend({trigger:function(e,t){return this.each((function(){w.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return w.event.trigger(e,t,n,!0)}}),h.focusin||w.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){w.event.simulate(t,e.target,w.event.fix(e))};w.event.special[t]={setup:function(){var i=this.ownerDocument||this.document||this,r=Y.access(i,t);r||i.addEventListener(e,n,!0),Y.access(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,r=Y.access(i,t)-1;r?Y.access(i,t,r):(i.removeEventListener(e,n,!0),Y.remove(i,t))}}}));var wt=e.location,Et={guid:Date.now()},St=/\?/;w.parseXML=function(t){var n,i;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){}return i=n&&n.getElementsByTagName("parsererror")[0],n&&!i||w.error("Invalid XML: "+(i?w.map(i.childNodes,(function(e){return e.textContent})).join("\n"):t)),n};var Tt=/\[\]$/,Ct=/\r?\n/g,xt=/^(?:submit|button|image|reset|file)$/i,At=/^(?:input|select|textarea|keygen)/i;function kt(e,t,n,i){var r;if(Array.isArray(t))w.each(t,(function(t,r){n||Tt.test(e)?i(e,r):kt(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,n,i)}));else if(n||"object"!==_(t))i(e,t);else for(r in t)kt(e+"["+r+"]",t[r],n,i)}w.param=function(e,t){var n,i=[],r=function(e,t){var n=f(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!w.isPlainObject(e))w.each(e,(function(){r(this.name,this.value)}));else for(n in e)kt(n,e[n],t,r);return i.join("&")},w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=w.prop(this,"elements");return e?w.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!w(this).is(":disabled")&&At.test(this.nodeName)&&!xt.test(e)&&(this.checked||!he.test(e))})).map((function(e,t){var n=w(this).val();return null==n?null:Array.isArray(n)?w.map(n,(function(e){return{name:t.name,value:e.replace(Ct,"\r\n")}})):{name:t.name,value:n.replace(Ct,"\r\n")}})).get()}});var It=/%20/g,Dt=/#.*$/,Ot=/([?&])_=[^&]*/,Pt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Nt=/^(?:GET|HEAD)$/,Rt=/^\/\//,Lt={},Mt={},Ft="*/".concat("*"),jt=g.createElement("a");function Bt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match(L)||[];if(f(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function Ut(e,t,n,i){var r={},o=e===Mt;function a(s){var u;return r[s]=!0,w.each(e[s]||[],(function(e,s){var l=s(t,n,i);return"string"!=typeof l||o||r[l]?o?!(u=l):void 0:(t.dataTypes.unshift(l),a(l),!1)})),u}return a(t.dataTypes[0])||!r["*"]&&a("*")}function Ht(e,t){var n,i,r=w.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&w.extend(!0,e,i),e}jt.href=wt.href,w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:wt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(wt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ft,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Ht(Ht(e,w.ajaxSettings),t):Ht(w.ajaxSettings,e)},ajaxPrefilter:Bt(Lt),ajaxTransport:Bt(Mt),ajax:function(t,n){"object"==typeof t&&(n=t,t=void 0),n=n||{};var i,r,o,a,s,u,l,c,d,p,h=w.ajaxSetup({},n),f=h.context||h,m=h.context&&(f.nodeType||f.jquery)?w(f):w.event,y=w.Deferred(),v=w.Callbacks("once memory"),_=h.statusCode||{},b={},E={},S="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(l){if(!a)for(a={};t=Pt.exec(o);)a[t[1].toLowerCase()+" "]=(a[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=a[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return l?o:null},setRequestHeader:function(e,t){return null==l&&(e=E[e.toLowerCase()]=E[e.toLowerCase()]||e,b[e]=t),this},overrideMimeType:function(e){return null==l&&(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(l)T.always(e[T.status]);else for(t in e)_[t]=[_[t],e[t]];return this},abort:function(e){var t=e||S;return i&&i.abort(t),C(0,t),this}};if(y.promise(T),h.url=((t||h.url||wt.href)+"").replace(Rt,wt.protocol+"//"),h.type=n.method||n.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(L)||[""],null==h.crossDomain){u=g.createElement("a");try{u.href=h.url,u.href=u.href,h.crossDomain=jt.protocol+"//"+jt.host!=u.protocol+"//"+u.host}catch(e){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=w.param(h.data,h.traditional)),Ut(Lt,h,n,T),l)return T;for(d in(c=w.event&&h.global)&&0==w.active++&&w.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Nt.test(h.type),r=h.url.replace(Dt,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(It,"+")):(p=h.url.slice(r.length),h.data&&(h.processData||"string"==typeof h.data)&&(r+=(St.test(r)?"&":"?")+h.data,delete h.data),!1===h.cache&&(r=r.replace(Ot,"$1"),p=(St.test(r)?"&":"?")+"_="+Et.guid+++p),h.url=r+p),h.ifModified&&(w.lastModified[r]&&T.setRequestHeader("If-Modified-Since",w.lastModified[r]),w.etag[r]&&T.setRequestHeader("If-None-Match",w.etag[r])),(h.data&&h.hasContent&&!1!==h.contentType||n.contentType)&&T.setRequestHeader("Content-Type",h.contentType),T.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Ft+"; q=0.01":""):h.accepts["*"]),h.headers)T.setRequestHeader(d,h.headers[d]);if(h.beforeSend&&(!1===h.beforeSend.call(f,T,h)||l))return T.abort();if(S="abort",v.add(h.complete),T.done(h.success),T.fail(h.error),i=Ut(Mt,h,n,T)){if(T.readyState=1,c&&m.trigger("ajaxSend",[T,h]),l)return T;h.async&&h.timeout>0&&(s=e.setTimeout((function(){T.abort("timeout")}),h.timeout));try{l=!1,i.send(b,C)}catch(e){if(l)throw e;C(-1,e)}}else C(-1,"No Transport");function C(t,n,a,u){var d,p,g,b,E,S=n;l||(l=!0,s&&e.clearTimeout(s),i=void 0,o=u||"",T.readyState=t>0?4:0,d=t>=200&&t<300||304===t,a&&(b=function(e,t,n){for(var i,r,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){u.unshift(r);break}if(u[0]in n)o=u[0];else{for(r in n){if(!u[0]||e.converters[r+" "+u[0]]){o=r;break}a||(a=r)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(h,T,a)),!d&&w.inArray("script",h.dataTypes)>-1&&w.inArray("json",h.dataTypes)<0&&(h.converters["text script"]=function(){}),b=function(e,t,n,i){var r,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(r in l)if((s=r.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[r]:!0!==l[r]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(h,b,T,d),d?(h.ifModified&&((E=T.getResponseHeader("Last-Modified"))&&(w.lastModified[r]=E),(E=T.getResponseHeader("etag"))&&(w.etag[r]=E)),204===t||"HEAD"===h.type?S="nocontent":304===t?S="notmodified":(S=b.state,p=b.data,d=!(g=b.error))):(g=S,!t&&S||(S="error",t<0&&(t=0))),T.status=t,T.statusText=(n||S)+"",d?y.resolveWith(f,[p,S,T]):y.rejectWith(f,[T,S,g]),T.statusCode(_),_=void 0,c&&m.trigger(d?"ajaxSuccess":"ajaxError",[T,h,d?p:g]),v.fireWith(f,[T,S]),c&&(m.trigger("ajaxComplete",[T,h]),--w.active||w.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return w.get(e,t,n,"json")},getScript:function(e,t){return w.get(e,void 0,t,"script")}}),w.each(["get","post"],(function(e,t){w[t]=function(e,n,i,r){return f(n)&&(r=r||i,i=n,n=void 0),w.ajax(w.extend({url:e,type:t,dataType:r,data:n,success:i},w.isPlainObject(e)&&e))}})),w.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),w._evalUrl=function(e,t,n){return w.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){w.globalEval(e,t,n)}})},w.fn.extend({wrapAll:function(e){var t;return this[0]&&(f(e)&&(e=e.call(this[0])),t=w(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return f(e)?this.each((function(t){w(this).wrapInner(e.call(this,t))})):this.each((function(){var t=w(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=f(e);return this.each((function(n){w(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){w(this).replaceWith(this.childNodes)})),this}}),w.expr.pseudos.hidden=function(e){return!w.expr.pseudos.visible(e)},w.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},w.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var $t={0:200,1223:204},Gt=w.ajaxSettings.xhr();h.cors=!!Gt&&"withCredentials"in Gt,h.ajax=Gt=!!Gt,w.ajaxTransport((function(t){var n,i;if(h.cors||Gt&&!t.crossDomain)return{send:function(r,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];for(a in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)s.setRequestHeader(a,r[a]);n=function(e){return function(){n&&(n=i=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o($t[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),i=s.onerror=s.ontimeout=n("error"),void 0!==s.onabort?s.onabort=i:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout((function(){n&&i()}))},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}})),w.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return w.globalEval(e),e}}}),w.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),w.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(i,r){t=w("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),g.head.appendChild(t[0])},abort:function(){n&&n()}}}));var qt,Vt=[],zt=/(=)\?(?=&|$)|\?\?/;w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Vt.pop()||w.expando+"_"+Et.guid++;return this[e]=!0,e}}),w.ajaxPrefilter("json jsonp",(function(t,n,i){var r,o,a,s=!1!==t.jsonp&&(zt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&zt.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=f(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(zt,"$1"+r):!1!==t.jsonp&&(t.url+=(St.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return a||w.error(r+" was not called"),a[0]},t.dataTypes[0]="json",o=e[r],e[r]=function(){a=arguments},i.always((function(){void 0===o?w(e).removeProp(r):e[r]=o,t[r]&&(t.jsonpCallback=n.jsonpCallback,Vt.push(r)),a&&f(o)&&o(a[0]),a=o=void 0})),"script"})),h.createHTMLDocument=((qt=g.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===qt.childNodes.length),w.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(h.createHTMLDocument?((i=(t=g.implementation.createHTMLDocument("")).createElement("base")).href=g.location.href,t.head.appendChild(i)):t=g),o=!n&&[],(r=k.exec(e))?[t.createElement(r[1])]:(r=be([e],t,o),o&&o.length&&w(o).remove(),w.merge([],r.childNodes)));var i,r,o},w.fn.load=function(e,t,n){var i,r,o,a=this,s=e.indexOf(" ");return s>-1&&(i=mt(e.slice(s)),e=e.slice(0,s)),f(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),a.length>0&&w.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done((function(e){o=arguments,a.html(i?w("<div>").append(w.parseHTML(e)).find(i):e)})).always(n&&function(e,t){a.each((function(){n.apply(this,o||[e.responseText,t,e])}))}),this},w.expr.pseudos.animated=function(e){return w.grep(w.timers,(function(t){return e===t.elem})).length},w.offset={setOffset:function(e,t,n){var i,r,o,a,s,u,l=w.css(e,"position"),c=w(e),d={};"static"===l&&(e.style.position="relative"),s=c.offset(),o=w.css(e,"top"),u=w.css(e,"left"),("absolute"===l||"fixed"===l)&&(o+u).indexOf("auto")>-1?(a=(i=c.position()).top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(u)||0),f(t)&&(t=t.call(e,n,w.extend({},s))),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+r),"using"in t?t.using.call(e,d):c.css(d)}},w.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){w.offset.setOffset(this,e,t)}));var t,n,i=this[0];return i?i.getClientRects().length?(t=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,i=this[0],r={top:0,left:0};if("fixed"===w.css(i,"position"))t=i.getBoundingClientRect();else{for(t=this.offset(),n=i.ownerDocument,e=i.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===w.css(e,"position");)e=e.parentNode;e&&e!==i&&1===e.nodeType&&((r=w(e).offset()).top+=w.css(e,"borderTopWidth",!0),r.left+=w.css(e,"borderLeftWidth",!0))}return{top:t.top-r.top-w.css(i,"marginTop",!0),left:t.left-r.left-w.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===w.css(e,"position");)e=e.offsetParent;return e||ie}))}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;w.fn[e]=function(i){return $(this,(function(e,i,r){var o;if(m(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===r)return o?o[t]:e[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):e[i]=r}),e,i,arguments.length)}})),w.each(["top","left"],(function(e,t){w.cssHooks[t]=qe(h.pixelPosition,(function(e,n){if(n)return n=Ge(e,t),Fe.test(n)?w(e).position()[t]+"px":n}))})),w.each({Height:"height",Width:"width"},(function(e,t){w.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,i){w.fn[i]=function(r,o){var a=arguments.length&&(n||"boolean"!=typeof r),s=n||(!0===r||!0===o?"margin":"border");return $(this,(function(t,n,r){var o;return m(t)?0===i.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===r?w.css(t,n,s):w.style(t,n,r,s)}),t,a?r:void 0,a)}}))})),w.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){w.fn[t]=function(e){return this.on(t,e)}})),w.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),w.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){w.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}));var Wt=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;w.proxy=function(e,t){var n,i,o;if("string"==typeof t&&(n=e[t],t=e,e=n),f(e))return i=r.call(arguments,2),o=function(){return e.apply(t||this,i.concat(r.call(arguments)))},o.guid=e.guid=e.guid||w.guid++,o},w.holdReady=function(e){e?w.readyWait++:w.ready(!0)},w.isArray=Array.isArray,w.parseJSON=JSON.parse,w.nodeName=A,w.isFunction=f,w.isWindow=m,w.camelCase=z,w.type=_,w.now=Date.now,w.isNumeric=function(e){var t=w.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},w.trim=function(e){return null==e?"":(e+"").replace(Wt,"$1")},"function"==typeof define&&define.amd&&define("jquery",[],(function(){return w}));var Kt=e.jQuery,Yt=e.$;return w.noConflict=function(t){return e.$===w&&(e.$=Yt),t&&e.jQuery===w&&(e.jQuery=Kt),w},void 0===t&&(e.jQuery=e.$=w),w}))},{}],474:[function(e,t,n){"use strict";function i(e,t,n){var i=function(t,n){return e.js_beautify(t,n)};return i.js=e.js_beautify,i.css=t.css_beautify,i.html=n.html_beautify,i.js_beautify=e.js_beautify,i.css_beautify=t.css_beautify,i.html_beautify=n.html_beautify,i}var r,o;"function"==typeof define&&define.amd?define(["./lib/beautify","./lib/beautify-css","./lib/beautify-html"],(function(e,t,n){return i(e,t,n)})):(r=t,(o=e("./src/index")).js_beautify=o.js,o.css_beautify=o.css,o.html_beautify=o.html,r.exports=i(o,o,o))},{"./src/index":492}],475:[function(e,t,n){"use strict";function i(e,t){e="string"==typeof e?e:e.source,t="string"==typeof t?t:t.source,this.__directives_block_pattern=new RegExp(e+/ beautify( \w+[:]\w+)+ /.source+t,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(e+/\sbeautify\signore:end\s/.source+t,"g")}i.prototype.get_directives=function(e){if(!e.match(this.__directives_block_pattern))return null;var t={};this.__directive_pattern.lastIndex=0;for(var n=this.__directive_pattern.exec(e);n;)t[n[1]]=n[2],n=this.__directive_pattern.exec(e);return t},i.prototype.readIgnored=function(e){return e.readUntilAfter(this.__directives_end_ignore_pattern)},t.exports.Directives=i},{}],476:[function(e,t,n){"use strict";var i=RegExp.prototype.hasOwnProperty("sticky");function r(e){this.__input=e||"",this.__input_length=this.__input.length,this.__position=0}r.prototype.restart=function(){this.__position=0},r.prototype.back=function(){this.__position>0&&(this.__position-=1)},r.prototype.hasNext=function(){return this.__position<this.__input_length},r.prototype.next=function(){var e=null;return this.hasNext()&&(e=this.__input.charAt(this.__position),this.__position+=1),e},r.prototype.peek=function(e){var t=null;return e=e||0,(e+=this.__position)>=0&&e<this.__input_length&&(t=this.__input.charAt(e)),t},r.prototype.__match=function(e,t){e.lastIndex=t;var n=e.exec(this.__input);return!n||i&&e.sticky||n.index!==t&&(n=null),n},r.prototype.test=function(e,t){return t=t||0,(t+=this.__position)>=0&&t<this.__input_length&&!!this.__match(e,t)},r.prototype.testChar=function(e,t){var n=this.peek(t);return e.lastIndex=0,null!==n&&e.test(n)},r.prototype.match=function(e){var t=this.__match(e,this.__position);return t?this.__position+=t[0].length:t=null,t},r.prototype.read=function(e,t,n){var i,r="";return e&&(i=this.match(e))&&(r+=i[0]),!t||!i&&e||(r+=this.readUntil(t,n)),r},r.prototype.readUntil=function(e,t){var n,i=this.__position;e.lastIndex=this.__position;var r=e.exec(this.__input);return r?(i=r.index,t&&(i+=r[0].length)):i=this.__input_length,n=this.__input.substring(this.__position,i),this.__position=i,n},r.prototype.readUntilAfter=function(e){return this.readUntil(e,!0)},r.prototype.get_regexp=function(e,t){var n=null,r="g";return t&&i&&(r="y"),"string"==typeof e&&""!==e?n=new RegExp(e,r):e&&(n=new RegExp(e.source,r)),n},r.prototype.get_literal_regexp=function(e){return RegExp(e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))},r.prototype.peekUntilAfter=function(e){var t=this.__position,n=this.readUntilAfter(e);return this.__position=t,n},r.prototype.lookBack=function(e){var t=this.__position-1;return t>=e.length&&this.__input.substring(t-e.length,t).toLowerCase()===e},t.exports.InputScanner=r},{}],477:[function(e,t,n){"use strict";function i(e,t){this.raw_options=r(e,t),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs","\t"===this.indent_char),this.indent_with_tabs&&(this.indent_char="\t",1===this.indent_size&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php","smarty"],["auto"])}function r(e,t){var n,i={};for(n in e=o(e))n!==t&&(i[n]=e[n]);if(t&&e[t])for(n in e[t])i[n]=e[t][n];return i}function o(e){var t,n={};for(t in e){n[t.replace(/-/g,"_")]=e[t]}return n}i.prototype._get_array=function(e,t){var n=this.raw_options[e],i=t||[];return"object"==typeof n?null!==n&&"function"==typeof n.concat&&(i=n.concat()):"string"==typeof n&&(i=n.split(/[^a-zA-Z0-9_\/\-]+/)),i},i.prototype._get_boolean=function(e,t){var n=this.raw_options[e];return void 0===n?!!t:!!n},i.prototype._get_characters=function(e,t){var n=this.raw_options[e],i=t||"";return"string"==typeof n&&(i=n.replace(/\\r/,"\r").replace(/\\n/,"\n").replace(/\\t/,"\t")),i},i.prototype._get_number=function(e,t){var n=this.raw_options[e];t=parseInt(t,10),isNaN(t)&&(t=0);var i=parseInt(n,10);return isNaN(i)&&(i=t),i},i.prototype._get_selection=function(e,t,n){var i=this._get_selection_list(e,t,n);if(1!==i.length)throw new Error("Invalid Option Value: The option '"+e+"' can only be one of the following values:\n"+t+"\nYou passed in: '"+this.raw_options[e]+"'");return i[0]},i.prototype._get_selection_list=function(e,t,n){if(!t||0===t.length)throw new Error("Selection list cannot be empty.");if(n=n||[t[0]],!this._is_valid_selection(n,t))throw new Error("Invalid Default Value!");var i=this._get_array(e,n);if(!this._is_valid_selection(i,t))throw new Error("Invalid Option Value: The option '"+e+"' can contain only the following values:\n"+t+"\nYou passed in: '"+this.raw_options[e]+"'");return i},i.prototype._is_valid_selection=function(e,t){return e.length&&t.length&&!e.some((function(e){return-1===t.indexOf(e)}))},t.exports.Options=i,t.exports.normalizeOpts=o,t.exports.mergeOpts=r},{}],478:[function(e,t,n){"use strict";function i(e){this.__parent=e,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}function r(e,t){this.__cache=[""],this.__indent_size=e.indent_size,this.__indent_string=e.indent_char,e.indent_with_tabs||(this.__indent_string=new Array(e.indent_size+1).join(e.indent_char)),t=t||"",e.indent_level>0&&(t=new Array(e.indent_level+1).join(this.__indent_string)),this.__base_string=t,this.__base_string_length=t.length}function o(e,t){this.__indent_cache=new r(e,t),this.raw=!1,this._end_with_newline=e.end_with_newline,this.indent_size=e.indent_size,this.wrap_line_length=e.wrap_line_length,this.indent_empty_lines=e.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new i(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}i.prototype.clone_empty=function(){var e=new i(this.__parent);return e.set_indent(this.__indent_count,this.__alignment_count),e},i.prototype.item=function(e){return e<0?this.__items[this.__items.length+e]:this.__items[e]},i.prototype.has_match=function(e){for(var t=this.__items.length-1;t>=0;t--)if(this.__items[t].match(e))return!0;return!1},i.prototype.set_indent=function(e,t){this.is_empty()&&(this.__indent_count=e||0,this.__alignment_count=t||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},i.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},i.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},i.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var e=this.__parent.current_line;return e.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),e.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),e.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count," "===e.__items[0]&&(e.__items.splice(0,1),e.__character_count-=1),!0}return!1},i.prototype.is_empty=function(){return 0===this.__items.length},i.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},i.prototype.push=function(e){this.__items.push(e);var t=e.lastIndexOf("\n");-1!==t?this.__character_count=e.length-t:this.__character_count+=e.length},i.prototype.pop=function(){var e=null;return this.is_empty()||(e=this.__items.pop(),this.__character_count-=e.length),e},i.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)},i.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)},i.prototype.trim=function(){for(;" "===this.last();)this.__items.pop(),this.__character_count-=1},i.prototype.toString=function(){var e="";return this.is_empty()?this.__parent.indent_empty_lines&&(e=this.__parent.get_indent_string(this.__indent_count)):(e=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),e+=this.__items.join("")),e},r.prototype.get_indent_size=function(e,t){var n=this.__base_string_length;return t=t||0,e<0&&(n=0),n+=e*this.__indent_size,n+=t},r.prototype.get_indent_string=function(e,t){var n=this.__base_string;return t=t||0,e<0&&(e=0,n=""),t+=e*this.__indent_size,this.__ensure_cache(t),n+=this.__cache[t]},r.prototype.__ensure_cache=function(e){for(;e>=this.__cache.length;)this.__add_column()},r.prototype.__add_column=function(){var e=this.__cache.length,t=0,n="";this.__indent_size&&e>=this.__indent_size&&(e-=(t=Math.floor(e/this.__indent_size))*this.__indent_size,n=new Array(t+1).join(this.__indent_string)),e&&(n+=new Array(e+1).join(" ")),this.__cache.push(n)},o.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},o.prototype.get_line_number=function(){return this.__lines.length},o.prototype.get_indent_string=function(e,t){return this.__indent_cache.get_indent_string(e,t)},o.prototype.get_indent_size=function(e,t){return this.__indent_cache.get_indent_size(e,t)},o.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},o.prototype.add_new_line=function(e){return!(this.is_empty()||!e&&this.just_added_newline())&&(this.raw||this.__add_outputline(),!0)},o.prototype.get_code=function(e){this.trim(!0);var t=this.current_line.pop();t&&("\n"===t[t.length-1]&&(t=t.replace(/\n+$/g,"")),this.current_line.push(t)),this._end_with_newline&&this.__add_outputline();var n=this.__lines.join("\n");return"\n"!==e&&(n=n.replace(/[\n]/g,e)),n},o.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},o.prototype.set_indent=function(e,t){return e=e||0,t=t||0,this.next_line.set_indent(e,t),this.__lines.length>1?(this.current_line.set_indent(e,t),!0):(this.current_line.set_indent(),!1)},o.prototype.add_raw_token=function(e){for(var t=0;t<e.newlines;t++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(e.whitespace_before),this.current_line.push(e.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},o.prototype.add_token=function(e){this.__add_space_before_token(),this.current_line.push(e),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},o.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},o.prototype.remove_indent=function(e){for(var t=this.__lines.length;e<t;)this.__lines[e]._remove_indent(),e++;this.current_line._remove_wrap_indent()},o.prototype.trim=function(e){for(e=void 0!==e&&e,this.current_line.trim();e&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null},o.prototype.just_added_newline=function(){return this.current_line.is_empty()},o.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},o.prototype.ensure_empty_line_above=function(e,t){for(var n=this.__lines.length-2;n>=0;){var r=this.__lines[n];if(r.is_empty())break;if(0!==r.item(0).indexOf(e)&&r.item(-1)!==t){this.__lines.splice(n+1,0,new i(this)),this.previous_line=this.__lines[this.__lines.length-2];break}n--}},t.exports.Output=o},{}],479:[function(e,t,n){"use strict";function i(e,t){this._input=e,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,t&&(this._starting_pattern=this._input.get_regexp(t._starting_pattern,!0),this._match_pattern=this._input.get_regexp(t._match_pattern,!0),this._until_pattern=this._input.get_regexp(t._until_pattern),this._until_after=t._until_after)}i.prototype.read=function(){var e=this._input.read(this._starting_pattern);return this._starting_pattern&&!e||(e+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),e},i.prototype.read_match=function(){return this._input.match(this._match_pattern)},i.prototype.until_after=function(e){var t=this._create();return t._until_after=!0,t._until_pattern=this._input.get_regexp(e),t._update(),t},i.prototype.until=function(e){var t=this._create();return t._until_after=!1,t._until_pattern=this._input.get_regexp(e),t._update(),t},i.prototype.starting_with=function(e){var t=this._create();return t._starting_pattern=this._input.get_regexp(e,!0),t._update(),t},i.prototype.matching=function(e){var t=this._create();return t._match_pattern=this._input.get_regexp(e,!0),t._update(),t},i.prototype._create=function(){return new i(this._input,this)},i.prototype._update=function(){},t.exports.Pattern=i},{}],480:[function(e,t,n){"use strict";var i=e("./pattern").Pattern,r={django:!1,erb:!1,handlebars:!1,php:!1,smarty:!1};function o(e,t){i.call(this,e,t),this.__template_pattern=null,this._disabled=Object.assign({},r),this._excluded=Object.assign({},r),t&&(this.__template_pattern=this._input.get_regexp(t.__template_pattern),this._excluded=Object.assign(this._excluded,t._excluded),this._disabled=Object.assign(this._disabled,t._disabled));var n=new i(e);this.__patterns={handlebars_comment:n.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:n.starting_with(/{{{/).until_after(/}}}/),handlebars:n.starting_with(/{{/).until_after(/}}/),php:n.starting_with(/<\?(?:[= ]|php)/).until_after(/\?>/),erb:n.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:n.starting_with(/{%/).until_after(/%}/),django_value:n.starting_with(/{{/).until_after(/}}/),django_comment:n.starting_with(/{#/).until_after(/#}/),smarty:n.starting_with(/{(?=[^}{\s\n])/).until_after(/[^\s\n]}/),smarty_comment:n.starting_with(/{\*/).until_after(/\*}/),smarty_literal:n.starting_with(/{literal}/).until_after(/{\/literal}/)}}o.prototype=new i,o.prototype._create=function(){return new o(this._input,this)},o.prototype._update=function(){this.__set_templated_pattern()},o.prototype.disable=function(e){var t=this._create();return t._disabled[e]=!0,t._update(),t},o.prototype.read_options=function(e){var t=this._create();for(var n in r)t._disabled[n]=-1===e.templating.indexOf(n);return t._update(),t},o.prototype.exclude=function(e){var t=this._create();return t._excluded[e]=!0,t._update(),t},o.prototype.read=function(){var e="";e=this._match_pattern?this._input.read(this._starting_pattern):this._input.read(this._starting_pattern,this.__template_pattern);for(var t=this._read_template();t;)this._match_pattern?t+=this._input.read(this._match_pattern):t+=this._input.readUntil(this.__template_pattern),e+=t,t=this._read_template();return this._until_after&&(e+=this._input.readUntilAfter(this._until_pattern)),e},o.prototype.__set_templated_pattern=function(){var e=[];this._disabled.php||e.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||e.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||e.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(e.push(this.__patterns.django._starting_pattern.source),e.push(this.__patterns.django_value._starting_pattern.source),e.push(this.__patterns.django_comment._starting_pattern.source)),this._disabled.smarty||e.push(this.__patterns.smarty._starting_pattern.source),this._until_pattern&&e.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+e.join("|")+")")},o.prototype._read_template=function(){var e="",t=this._input.peek();if("<"===t){var n=this._input.peek(1);this._disabled.php||this._excluded.php||"?"!==n||(e=e||this.__patterns.php.read()),this._disabled.erb||this._excluded.erb||"%"!==n||(e=e||this.__patterns.erb.read())}else"{"===t&&(this._disabled.handlebars||this._excluded.handlebars||(e=(e=(e=e||this.__patterns.handlebars_comment.read())||this.__patterns.handlebars_unescaped.read())||this.__patterns.handlebars.read()),this._disabled.django||(this._excluded.django||this._excluded.handlebars||(e=e||this.__patterns.django_value.read()),this._excluded.django||(e=(e=e||this.__patterns.django_comment.read())||this.__patterns.django.read())),this._disabled.smarty||this._disabled.django&&this._disabled.handlebars&&(e=(e=(e=e||this.__patterns.smarty_comment.read())||this.__patterns.smarty_literal.read())||this.__patterns.smarty.read()));return e},t.exports.TemplatablePattern=o},{"./pattern":479}],481:[function(e,t,n){"use strict";t.exports.Token=function(e,t,n,i){this.type=e,this.text=t,this.comments_before=null,this.newlines=n||0,this.whitespace_before=i||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}},{}],482:[function(e,t,n){"use strict";var i=e("../core/inputscanner").InputScanner,r=e("../core/token").Token,o=e("../core/tokenstream").TokenStream,a=e("./whitespacepattern").WhitespacePattern,s={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"},u=function(e,t){this._input=new i(e),this._options=t||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new a(this._input)};u.prototype.tokenize=function(){var e;this._input.restart(),this.__tokens=new o,this._reset();for(var t=new r(s.START,""),n=null,i=[],a=new o;t.type!==s.EOF;){for(e=this._get_next_token(t,n);this._is_comment(e);)a.add(e),e=this._get_next_token(t,n);a.isEmpty()||(e.comments_before=a,a=new o),e.parent=n,this._is_opening(e)?(i.push(n),n=e):n&&this._is_closing(e,n)&&(e.opened=n,n.closed=e,n=i.pop(),e.parent=n),e.previous=t,t.next=e,this.__tokens.add(e),t=e}return this.__tokens},u.prototype._is_first_token=function(){return this.__tokens.isEmpty()},u.prototype._reset=function(){},u.prototype._get_next_token=function(e,t){this._readWhitespace();var n=this._input.read(/.+/g);return n?this._create_token(s.RAW,n):this._create_token(s.EOF,"")},u.prototype._is_comment=function(e){return!1},u.prototype._is_opening=function(e){return!1},u.prototype._is_closing=function(e,t){return!1},u.prototype._create_token=function(e,t){return new r(e,t,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token)},u.prototype._readWhitespace=function(){return this._patterns.whitespace.read()},t.exports.Tokenizer=u,t.exports.TOKEN=s},{"../core/inputscanner":476,"../core/token":481,"../core/tokenstream":483,"./whitespacepattern":484}],483:[function(e,t,n){"use strict";function i(e){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=e}i.prototype.restart=function(){this.__position=0},i.prototype.isEmpty=function(){return 0===this.__tokens_length},i.prototype.hasNext=function(){return this.__position<this.__tokens_length},i.prototype.next=function(){var e=null;return this.hasNext()&&(e=this.__tokens[this.__position],this.__position+=1),e},i.prototype.peek=function(e){var t=null;return e=e||0,(e+=this.__position)>=0&&e<this.__tokens_length&&(t=this.__tokens[e]),t},i.prototype.add=function(e){this.__parent_token&&(e.parent=this.__parent_token),this.__tokens.push(e),this.__tokens_length+=1},t.exports.TokenStream=i},{}],484:[function(e,t,n){"use strict";var i=e("../core/pattern").Pattern;function r(e,t){i.call(this,e,t),t?this._line_regexp=this._input.get_regexp(t._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}r.prototype=new i,r.prototype.__set_whitespace_patterns=function(e,t){e+="\\t ",t+="\\n\\r",this._match_pattern=this._input.get_regexp("["+e+t+"]+",!0),this._newline_regexp=this._input.get_regexp("\\r\\n|["+t+"]")},r.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var e=this._input.read(this._match_pattern);if(" "===e)this.whitespace_before_token=" ";else if(e){var t=this.__split(this._newline_regexp,e);this.newline_count=t.length-1,this.whitespace_before_token=t[this.newline_count]}return e},r.prototype.matching=function(e,t){var n=this._create();return n.__set_whitespace_patterns(e,t),n._update(),n},r.prototype._create=function(){return new r(this._input,this)},r.prototype.__split=function(e,t){e.lastIndex=0;for(var n=0,i=[],r=e.exec(t);r;)i.push(t.substring(n,r.index)),n=r.index+r[0].length,r=e.exec(t);return n<t.length?i.push(t.substring(n,t.length)):i.push(""),i},t.exports.WhitespacePattern=r},{"../core/pattern":479}],485:[function(e,t,n){"use strict";var i=e("./options").Options,r=e("../core/output").Output,o=e("../core/inputscanner").InputScanner,a=new(0,e("../core/directives").Directives)(/\/\*/,/\*\//),s=/\r\n|[\r\n]/,u=/\r\n|[\r\n]/g,l=/\s/,c=/(?:\s|\n)+/g,d=/\/\*(?:[\s\S]*?)((?:\*\/)|$)/g,p=/\/\/(?:[^\n\r\u2028\u2029]*)/g;function h(e,t){this._source_text=e||"",this._options=new i(t),this._ch=null,this._input=null,this.NESTED_AT_RULE={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0},this.CONDITIONAL_GROUP_RULE={"@media":!0,"@supports":!0,"@document":!0}}h.prototype.eatString=function(e){var t="";for(this._ch=this._input.next();this._ch;){if(t+=this._ch,"\\"===this._ch)t+=this._input.next();else if(-1!==e.indexOf(this._ch)||"\n"===this._ch)break;this._ch=this._input.next()}return t},h.prototype.eatWhitespace=function(e){for(var t=l.test(this._input.peek()),n=0;l.test(this._input.peek());)this._ch=this._input.next(),e&&"\n"===this._ch&&(0===n||n<this._options.max_preserve_newlines)&&(n++,this._output.add_new_line(!0));return t},h.prototype.foundNestedPseudoClass=function(){for(var e=0,t=1,n=this._input.peek(t);n;){if("{"===n)return!0;if("("===n)e+=1;else if(")"===n){if(0===e)return!1;e-=1}else if(";"===n||"}"===n)return!1;t++,n=this._input.peek(t)}return!1},h.prototype.print_string=function(e){this._output.set_indent(this._indentLevel),this._output.non_breaking_space=!0,this._output.add_token(e)},h.prototype.preserveSingleSpace=function(e){e&&(this._output.space_before_token=!0)},h.prototype.indent=function(){this._indentLevel++},h.prototype.outdent=function(){this._indentLevel>0&&this._indentLevel--},h.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var e=this._source_text,t=this._options.eol;"auto"===t&&(t="\n",e&&s.test(e||"")&&(t=e.match(s)[0]));var n=(e=e.replace(u,"\n")).match(/^[\t ]*/)[0];this._output=new r(this._options,n),this._input=new o(e),this._indentLevel=0,this._nestedLevel=0,this._ch=null;for(var i,h,f=0,m=!1,g=!1,y=!1,v=!1,_=!1,b=this._ch;i=""!==this._input.read(c),h=b,this._ch=this._input.next(),"\\"===this._ch&&this._input.hasNext()&&(this._ch+=this._input.next()),b=this._ch,this._ch;)if("/"===this._ch&&"*"===this._input.peek()){this._output.add_new_line(),this._input.back();var w=this._input.read(d),E=a.get_directives(w);E&&"start"===E.ignore&&(w+=a.readIgnored(this._input)),this.print_string(w),this.eatWhitespace(!0),this._output.add_new_line()}else if("/"===this._ch&&"/"===this._input.peek())this._output.space_before_token=!0,this._input.back(),this.print_string(this._input.read(p)),this.eatWhitespace(!0);else if("@"===this._ch)if(this.preserveSingleSpace(i),"{"===this._input.peek())this.print_string(this._ch+this.eatString("}"));else{this.print_string(this._ch);var S=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);S.match(/[ :]$/)&&(S=this.eatString(": ").replace(/\s$/,""),this.print_string(S),this._output.space_before_token=!0),"extend"===(S=S.replace(/\s$/,""))?v=!0:"import"===S&&(_=!0),S in this.NESTED_AT_RULE?(this._nestedLevel+=1,S in this.CONDITIONAL_GROUP_RULE&&(y=!0)):m||0!==f||-1===S.indexOf(":")||(g=!0,this.indent())}else"#"===this._ch&&"{"===this._input.peek()?(this.preserveSingleSpace(i),this.print_string(this._ch+this.eatString("}"))):"{"===this._ch?(g&&(g=!1,this.outdent()),y?(y=!1,m=this._indentLevel>=this._nestedLevel):m=this._indentLevel>=this._nestedLevel-1,this._options.newline_between_rules&&m&&this._output.previous_line&&"{"!==this._output.previous_line.item(-1)&&this._output.ensure_empty_line_above("/",","),this._output.space_before_token=!0,"expand"===this._options.brace_style?(this._output.add_new_line(),this.print_string(this._ch),this.indent(),this._output.set_indent(this._indentLevel)):(this.indent(),this.print_string(this._ch)),this.eatWhitespace(!0),this._output.add_new_line()):"}"===this._ch?(this.outdent(),this._output.add_new_line(),"{"===h&&this._output.trim(!0),_=!1,v=!1,g&&(this.outdent(),g=!1),this.print_string(this._ch),m=!1,this._nestedLevel&&this._nestedLevel--,this.eatWhitespace(!0),this._output.add_new_line(),this._options.newline_between_rules&&!this._output.just_added_blankline()&&"}"!==this._input.peek()&&this._output.add_new_line(!0)):":"===this._ch?!m&&!y||this._input.lookBack("&")||this.foundNestedPseudoClass()||this._input.lookBack("(")||v||0!==f?(this._input.lookBack(" ")&&(this._output.space_before_token=!0),":"===this._input.peek()?(this._ch=this._input.next(),this.print_string("::")):this.print_string(":")):(this.print_string(":"),g||(g=!0,this._output.space_before_token=!0,this.eatWhitespace(!0),this.indent())):'"'===this._ch||"'"===this._ch?(this.preserveSingleSpace(i),this.print_string(this._ch+this.eatString(this._ch)),this.eatWhitespace(!0)):";"===this._ch?0===f?(g&&(this.outdent(),g=!1),v=!1,_=!1,this.print_string(this._ch),this.eatWhitespace(!0),"/"!==this._input.peek()&&this._output.add_new_line()):(this.print_string(this._ch),this.eatWhitespace(!0),this._output.space_before_token=!0):"("===this._ch?this._input.lookBack("url")?(this.print_string(this._ch),this.eatWhitespace(),f++,this.indent(),this._ch=this._input.next(),")"===this._ch||'"'===this._ch||"'"===this._ch?this._input.back():this._ch&&(this.print_string(this._ch+this.eatString(")")),f&&(f--,this.outdent()))):(this.preserveSingleSpace(i),this.print_string(this._ch),this.eatWhitespace(),f++,this.indent()):")"===this._ch?(f&&(f--,this.outdent()),this.print_string(this._ch)):","===this._ch?(this.print_string(this._ch),this.eatWhitespace(!0),!this._options.selector_separator_newline||g||0!==f||_||v?this._output.space_before_token=!0:this._output.add_new_line()):">"!==this._ch&&"+"!==this._ch&&"~"!==this._ch||g||0!==f?"]"===this._ch?this.print_string(this._ch):"["===this._ch?(this.preserveSingleSpace(i),this.print_string(this._ch)):"="===this._ch?(this.eatWhitespace(),this.print_string("="),l.test(this._ch)&&(this._ch="")):"!"!==this._ch||this._input.lookBack("\\")?(this.preserveSingleSpace(i),this.print_string(this._ch)):(this.print_string(" "),this.print_string(this._ch)):this._options.space_around_combinator?(this._output.space_before_token=!0,this.print_string(this._ch),this._output.space_before_token=!0):(this.print_string(this._ch),this.eatWhitespace(),this._ch&&l.test(this._ch)&&(this._ch=""));return this._output.get_code(t)},t.exports.Beautifier=h},{"../core/directives":475,"../core/inputscanner":476,"../core/output":478,"./options":487}],486:[function(e,t,n){"use strict";var i=e("./beautifier").Beautifier,r=e("./options").Options;t.exports=function(e,t){return new i(e,t).beautify()},t.exports.defaultOptions=function(){return new r}},{"./beautifier":485,"./options":487}],487:[function(e,t,n){"use strict";var i=e("../core/options").Options;function r(e){i.call(this,e,"css"),this.selector_separator_newline=this._get_boolean("selector_separator_newline",!0),this.newline_between_rules=this._get_boolean("newline_between_rules",!0);var t=this._get_boolean("space_around_selector_separator");this.space_around_combinator=this._get_boolean("space_around_combinator")||t;var n=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_style="collapse";for(var r=0;r<n.length;r++)"expand"!==n[r]?this.brace_style="collapse":this.brace_style=n[r]}r.prototype=new i,t.exports.Options=r},{"../core/options":477}],488:[function(e,t,n){"use strict";var i=e("../html/options").Options,r=e("../core/output").Output,o=e("../html/tokenizer").Tokenizer,a=e("../html/tokenizer").TOKEN,s=/\r\n|[\r\n]/,u=/\r\n|[\r\n]/g,l=function(e,t){this.indent_level=0,this.alignment_size=0,this.max_preserve_newlines=e.max_preserve_newlines,this.preserve_newlines=e.preserve_newlines,this._output=new r(e,t)};l.prototype.current_line_has_match=function(e){return this._output.current_line.has_match(e)},l.prototype.set_space_before_token=function(e,t){this._output.space_before_token=e,this._output.non_breaking_space=t},l.prototype.set_wrap_point=function(){this._output.set_indent(this.indent_level,this.alignment_size),this._output.set_wrap_point()},l.prototype.add_raw_token=function(e){this._output.add_raw_token(e)},l.prototype.print_preserved_newlines=function(e){var t=0;e.type!==a.TEXT&&e.previous.type!==a.TEXT&&(t=e.newlines?1:0),this.preserve_newlines&&(t=e.newlines<this.max_preserve_newlines+1?e.newlines:this.max_preserve_newlines+1);for(var n=0;n<t;n++)this.print_newline(n>0);return 0!==t},l.prototype.traverse_whitespace=function(e){return!(!e.whitespace_before&&!e.newlines)&&(this.print_preserved_newlines(e)||(this._output.space_before_token=!0),!0)},l.prototype.previous_token_wrapped=function(){return this._output.previous_token_wrapped},l.prototype.print_newline=function(e){this._output.add_new_line(e)},l.prototype.print_token=function(e){e.text&&(this._output.set_indent(this.indent_level,this.alignment_size),this._output.add_token(e.text))},l.prototype.indent=function(){this.indent_level++},l.prototype.get_full_indent=function(e){return(e=this.indent_level+(e||0))<1?"":this._output.get_indent_string(e)};var c=function(e,t){var n=null,i=null;return t.closed?("script"===e?n="text/javascript":"style"===e&&(n="text/css"),n=function(e){for(var t=null,n=e.next;n.type!==a.EOF&&e.closed!==n;){if(n.type===a.ATTRIBUTE&&"type"===n.text){n.next&&n.next.type===a.EQUALS&&n.next.next&&n.next.next.type===a.VALUE&&(t=n.next.next.text);break}n=n.next}return t}(t)||n,n.search("text/css")>-1?i="css":n.search(/module|((text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect))/)>-1?i="javascript":n.search(/(text|application|dojo)\/(x-)?(html)/)>-1?i="html":n.search(/test\/null/)>-1&&(i="null"),i):null};function d(e,t){return-1!==t.indexOf(e)}function p(e,t,n){this.parent=e||null,this.tag=t?t.tag_name:"",this.indent_level=n||0,this.parser_token=t||null}function h(e){this._printer=e,this._current_frame=null}function f(e,t,n,r){this._source_text=e||"",t=t||{},this._js_beautify=n,this._css_beautify=r,this._tag_stack=null;var o=new i(t,"html");this._options=o,this._is_wrap_attributes_force="force"===this._options.wrap_attributes.substr(0,"force".length),this._is_wrap_attributes_force_expand_multiline="force-expand-multiline"===this._options.wrap_attributes,this._is_wrap_attributes_force_aligned="force-aligned"===this._options.wrap_attributes,this._is_wrap_attributes_aligned_multiple="aligned-multiple"===this._options.wrap_attributes,this._is_wrap_attributes_preserve="preserve"===this._options.wrap_attributes.substr(0,"preserve".length),this._is_wrap_attributes_preserve_aligned="preserve-aligned"===this._options.wrap_attributes}h.prototype.get_parser_token=function(){return this._current_frame?this._current_frame.parser_token:null},h.prototype.record_tag=function(e){var t=new p(this._current_frame,e,this._printer.indent_level);this._current_frame=t},h.prototype._try_pop_frame=function(e){var t=null;return e&&(t=e.parser_token,this._printer.indent_level=e.indent_level,this._current_frame=e.parent),t},h.prototype._get_frame=function(e,t){for(var n=this._current_frame;n&&-1===e.indexOf(n.tag);){if(t&&-1!==t.indexOf(n.tag)){n=null;break}n=n.parent}return n},h.prototype.try_pop=function(e,t){var n=this._get_frame([e],t);return this._try_pop_frame(n)},h.prototype.indent_to_tag=function(e){var t=this._get_frame(e);t&&(this._printer.indent_level=t.indent_level)},f.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var e=this._source_text,t=this._options.eol;"auto"===this._options.eol&&(t="\n",e&&s.test(e)&&(t=e.match(s)[0]));var n=(e=e.replace(u,"\n")).match(/^[\t ]*/)[0],i={text:"",type:""},r=new m,c=new l(this._options,n),d=new o(e,this._options).tokenize();this._tag_stack=new h(c);for(var p=null,f=d.next();f.type!==a.EOF;)f.type===a.TAG_OPEN||f.type===a.COMMENT?r=p=this._handle_tag_open(c,f,r,i):f.type===a.ATTRIBUTE||f.type===a.EQUALS||f.type===a.VALUE||f.type===a.TEXT&&!r.tag_complete?p=this._handle_inside_tag(c,f,r,d):f.type===a.TAG_CLOSE?p=this._handle_tag_close(c,f,r):f.type===a.TEXT?p=this._handle_text(c,f,r):c.add_raw_token(f),i=p,f=d.next();return c._output.get_code(t)},f.prototype._handle_tag_close=function(e,t,n){var i={text:t.text,type:t.type};return e.alignment_size=0,n.tag_complete=!0,e.set_space_before_token(t.newlines||""!==t.whitespace_before,!0),n.is_unformatted?e.add_raw_token(t):("<"===n.tag_start_char&&(e.set_space_before_token("/"===t.text[0],!0),this._is_wrap_attributes_force_expand_multiline&&n.has_wrapped_attrs&&e.print_newline(!1)),e.print_token(t)),!n.indent_content||n.is_unformatted||n.is_content_unformatted||(e.indent(),n.indent_content=!1),n.is_inline_element||n.is_unformatted||n.is_content_unformatted||e.set_wrap_point(),i},f.prototype._handle_inside_tag=function(e,t,n,i){var r=n.has_wrapped_attrs,o={text:t.text,type:t.type};if(e.set_space_before_token(t.newlines||""!==t.whitespace_before,!0),n.is_unformatted)e.add_raw_token(t);else if("{"===n.tag_start_char&&t.type===a.TEXT)e.print_preserved_newlines(t)?(t.newlines=0,e.add_raw_token(t)):e.print_token(t);else{if(t.type===a.ATTRIBUTE?(e.set_space_before_token(!0),n.attr_count+=1):(t.type===a.EQUALS||t.type===a.VALUE&&t.previous.type===a.EQUALS)&&e.set_space_before_token(!1),t.type===a.ATTRIBUTE&&"<"===n.tag_start_char&&((this._is_wrap_attributes_preserve||this._is_wrap_attributes_preserve_aligned)&&(e.traverse_whitespace(t),r=r||0!==t.newlines),this._is_wrap_attributes_force)){var s=n.attr_count>1;if(this._is_wrap_attributes_force_expand_multiline&&1===n.attr_count){var u,l=!0,c=0;do{if((u=i.peek(c)).type===a.ATTRIBUTE){l=!1;break}c+=1}while(c<4&&u.type!==a.EOF&&u.type!==a.TAG_CLOSE);s=!l}s&&(e.print_newline(!1),r=!0)}e.print_token(t),r=r||e.previous_token_wrapped(),n.has_wrapped_attrs=r}return o},f.prototype._handle_text=function(e,t,n){var i={text:t.text,type:"TK_CONTENT"};return n.custom_beautifier_name?this._print_custom_beatifier_text(e,t,n):n.is_unformatted||n.is_content_unformatted?e.add_raw_token(t):(e.traverse_whitespace(t),e.print_token(t)),i},f.prototype._print_custom_beatifier_text=function(e,t,n){var i=this;if(""!==t.text){var r,o=t.text,a=1,s="",u="";"javascript"===n.custom_beautifier_name&&"function"==typeof this._js_beautify?r=this._js_beautify:"css"===n.custom_beautifier_name&&"function"==typeof this._css_beautify?r=this._css_beautify:"html"===n.custom_beautifier_name&&(r=function(e,t){return new f(e,t,i._js_beautify,i._css_beautify).beautify()}),"keep"===this._options.indent_scripts?a=0:"separate"===this._options.indent_scripts&&(a=-e.indent_level);var l=e.get_full_indent(a);if(o=o.replace(/\n[ \t]*$/,""),"html"!==n.custom_beautifier_name&&"<"===o[0]&&o.match(/^(<!--|<!\[CDATA\[)/)){var c=/^(<!--[^\n]*|<!\[CDATA\[)(\n?)([ \t\n]*)([\s\S]*)(-->|]]>)$/.exec(o);if(!c)return void e.add_raw_token(t);s=l+c[1]+"\n",o=c[4],c[5]&&(u=l+c[5]),o=o.replace(/\n[ \t]*$/,""),(c[2]||-1!==c[3].indexOf("\n"))&&(c=c[3].match(/[ \t]+$/))&&(t.whitespace_before=c[0])}if(o)if(r){var d=function(){this.eol="\n"};d.prototype=this._options.raw_options,o=r(l+o,new d)}else{var p=t.whitespace_before;p&&(o=o.replace(new RegExp("\n("+p+")?","g"),"\n")),o=l+o.replace(/\n/g,"\n"+l)}s&&(o=o?s+o+"\n"+u:s+u),e.print_newline(!1),o&&(t.text=o,t.whitespace_before="",t.newlines=0,e.add_raw_token(t),e.print_newline(!0))}},f.prototype._handle_tag_open=function(e,t,n,i){var r=this._get_tag_open_token(t);return!n.is_unformatted&&!n.is_content_unformatted||n.is_empty_element||t.type!==a.TAG_OPEN||0!==t.text.indexOf("</")?(e.traverse_whitespace(t),this._set_tag_position(e,t,r,n,i),r.is_inline_element||e.set_wrap_point(),e.print_token(t)):(e.add_raw_token(t),r.start_tag_token=this._tag_stack.try_pop(r.tag_name)),(this._is_wrap_attributes_force_aligned||this._is_wrap_attributes_aligned_multiple||this._is_wrap_attributes_preserve_aligned)&&(r.alignment_size=t.text.length+1),r.tag_complete||r.is_unformatted||(e.alignment_size=r.alignment_size),r};var m=function(e,t){var n;(this.parent=e||null,this.text="",this.type="TK_TAG_OPEN",this.tag_name="",this.is_inline_element=!1,this.is_unformatted=!1,this.is_content_unformatted=!1,this.is_empty_element=!1,this.is_start_tag=!1,this.is_end_tag=!1,this.indent_content=!1,this.multiline_content=!1,this.custom_beautifier_name=null,this.start_tag_token=null,this.attr_count=0,this.has_wrapped_attrs=!1,this.alignment_size=0,this.tag_complete=!1,this.tag_start_char="",this.tag_check="",t)?(this.tag_start_char=t.text[0],this.text=t.text,"<"===this.tag_start_char?(n=t.text.match(/^<([^\s>]*)/),this.tag_check=n?n[1]:""):(n=t.text.match(/^{{(?:[\^]|#\*?)?([^\s}]+)/),this.tag_check=n?n[1]:"","{{#>"===t.text&&">"===this.tag_check&&null!==t.next&&(this.tag_check=t.next.text)),this.tag_check=this.tag_check.toLowerCase(),t.type===a.COMMENT&&(this.tag_complete=!0),this.is_start_tag="/"!==this.tag_check.charAt(0),this.tag_name=this.is_start_tag?this.tag_check:this.tag_check.substr(1),this.is_end_tag=!this.is_start_tag||t.closed&&"/>"===t.closed.text,this.is_end_tag=this.is_end_tag||"{"===this.tag_start_char&&(this.text.length<3||/[^#\^]/.test(this.text.charAt(2)))):this.tag_complete=!0};f.prototype._get_tag_open_token=function(e){var t=new m(this._tag_stack.get_parser_token(),e);return t.alignment_size=this._options.wrap_attributes_indent_size,t.is_end_tag=t.is_end_tag||d(t.tag_check,this._options.void_elements),t.is_empty_element=t.tag_complete||t.is_start_tag&&t.is_end_tag,t.is_unformatted=!t.tag_complete&&d(t.tag_check,this._options.unformatted),t.is_content_unformatted=!t.is_empty_element&&d(t.tag_check,this._options.content_unformatted),t.is_inline_element=d(t.tag_name,this._options.inline)||"{"===t.tag_start_char,t},f.prototype._set_tag_position=function(e,t,n,i,r){if(n.is_empty_element||(n.is_end_tag?n.start_tag_token=this._tag_stack.try_pop(n.tag_name):(this._do_optional_end_element(n)&&(n.is_inline_element||e.print_newline(!1)),this._tag_stack.record_tag(n),"script"!==n.tag_name&&"style"!==n.tag_name||n.is_unformatted||n.is_content_unformatted||(n.custom_beautifier_name=c(n.tag_check,t)))),d(n.tag_check,this._options.extra_liners)&&(e.print_newline(!1),e._output.just_added_blankline()||e.print_newline(!0)),n.is_empty_element){if("{"===n.tag_start_char&&"else"===n.tag_check)this._tag_stack.indent_to_tag(["if","unless","each"]),n.indent_content=!0,e.current_line_has_match(/{{#if/)||e.print_newline(!1);"!--"===n.tag_name&&r.type===a.TAG_CLOSE&&i.is_end_tag&&-1===n.text.indexOf("\n")||(n.is_inline_element||n.is_unformatted||e.print_newline(!1),this._calcluate_parent_multiline(e,n))}else if(n.is_end_tag){var o=!1;o=(o=n.start_tag_token&&n.start_tag_token.multiline_content)||!n.is_inline_element&&!(i.is_inline_element||i.is_unformatted)&&!(r.type===a.TAG_CLOSE&&n.start_tag_token===i)&&"TK_CONTENT"!==r.type,(n.is_content_unformatted||n.is_unformatted)&&(o=!1),o&&e.print_newline(!1)}else n.indent_content=!n.custom_beautifier_name,"<"===n.tag_start_char&&("html"===n.tag_name?n.indent_content=this._options.indent_inner_html:"head"===n.tag_name?n.indent_content=this._options.indent_head_inner_html:"body"===n.tag_name&&(n.indent_content=this._options.indent_body_inner_html)),n.is_inline_element||n.is_unformatted||"TK_CONTENT"===r.type&&!n.is_content_unformatted||e.print_newline(!1),this._calcluate_parent_multiline(e,n)},f.prototype._calcluate_parent_multiline=function(e,t){!t.parent||!e._output.just_added_newline()||(t.is_inline_element||t.is_unformatted)&&t.parent.is_inline_element||(t.parent.multiline_content=!0)};var g=["address","article","aside","blockquote","details","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","main","nav","ol","p","pre","section","table","ul"],y=["a","audio","del","ins","map","noscript","video"];f.prototype._do_optional_end_element=function(e){var t=null;if(!e.is_empty_element&&e.is_start_tag&&e.parent){if("body"===e.tag_name)t=t||this._tag_stack.try_pop("head");else if("li"===e.tag_name)t=t||this._tag_stack.try_pop("li",["ol","ul"]);else if("dd"===e.tag_name||"dt"===e.tag_name)t=(t=t||this._tag_stack.try_pop("dt",["dl"]))||this._tag_stack.try_pop("dd",["dl"]);else if("p"===e.parent.tag_name&&-1!==g.indexOf(e.tag_name)){var n=e.parent.parent;n&&-1!==y.indexOf(n.tag_name)||(t=t||this._tag_stack.try_pop("p"))}else"rp"===e.tag_name||"rt"===e.tag_name?t=(t=t||this._tag_stack.try_pop("rt",["ruby","rtc"]))||this._tag_stack.try_pop("rp",["ruby","rtc"]):"optgroup"===e.tag_name?t=t||this._tag_stack.try_pop("optgroup",["select"]):"option"===e.tag_name?t=t||this._tag_stack.try_pop("option",["select","datalist","optgroup"]):"colgroup"===e.tag_name?t=t||this._tag_stack.try_pop("caption",["table"]):"thead"===e.tag_name?t=(t=t||this._tag_stack.try_pop("caption",["table"]))||this._tag_stack.try_pop("colgroup",["table"]):"tbody"===e.tag_name||"tfoot"===e.tag_name?t=(t=(t=(t=t||this._tag_stack.try_pop("caption",["table"]))||this._tag_stack.try_pop("colgroup",["table"]))||this._tag_stack.try_pop("thead",["table"]))||this._tag_stack.try_pop("tbody",["table"]):"tr"===e.tag_name?t=(t=(t=t||this._tag_stack.try_pop("caption",["table"]))||this._tag_stack.try_pop("colgroup",["table"]))||this._tag_stack.try_pop("tr",["table","thead","tbody","tfoot"]):"th"!==e.tag_name&&"td"!==e.tag_name||(t=(t=t||this._tag_stack.try_pop("td",["table","thead","tbody","tfoot","tr"]))||this._tag_stack.try_pop("th",["table","thead","tbody","tfoot","tr"]));return e.parent=this._tag_stack.get_parser_token(),t}},t.exports.Beautifier=f},{"../core/output":478,"../html/options":490,"../html/tokenizer":491}],489:[function(e,t,n){"use strict";var i=e("./beautifier").Beautifier,r=e("./options").Options;t.exports=function(e,t,n,r){return new i(e,t,n,r).beautify()},t.exports.defaultOptions=function(){return new r}},{"./beautifier":488,"./options":490}],490:[function(e,t,n){"use strict";var i=e("../core/options").Options;function r(e){i.call(this,e,"html"),1===this.templating.length&&"auto"===this.templating[0]&&(this.templating=["django","erb","handlebars","php"]),this.indent_inner_html=this._get_boolean("indent_inner_html"),this.indent_body_inner_html=this._get_boolean("indent_body_inner_html",!0),this.indent_head_inner_html=this._get_boolean("indent_head_inner_html",!0),this.indent_handlebars=this._get_boolean("indent_handlebars",!0),this.wrap_attributes=this._get_selection("wrap_attributes",["auto","force","force-aligned","force-expand-multiline","aligned-multiple","preserve","preserve-aligned"]),this.wrap_attributes_indent_size=this._get_number("wrap_attributes_indent_size",this.indent_size),this.extra_liners=this._get_array("extra_liners",["head","body","/html"]),this.inline=this._get_array("inline",["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","big","strike","tt"]),this.void_elements=this._get_array("void_elements",["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","basefont","isindex"]),this.unformatted=this._get_array("unformatted",[]),this.content_unformatted=this._get_array("content_unformatted",["pre","textarea"]),this.unformatted_content_delimiter=this._get_characters("unformatted_content_delimiter"),this.indent_scripts=this._get_selection("indent_scripts",["normal","keep","separate"])}r.prototype=new i,t.exports.Options=r},{"../core/options":477}],491:[function(e,t,n){"use strict";var i=e("../core/tokenizer").Tokenizer,r=e("../core/tokenizer").TOKEN,o=e("../core/directives").Directives,a=e("../core/templatablepattern").TemplatablePattern,s=e("../core/pattern").Pattern,u={TAG_OPEN:"TK_TAG_OPEN",TAG_CLOSE:"TK_TAG_CLOSE",ATTRIBUTE:"TK_ATTRIBUTE",EQUALS:"TK_EQUALS",VALUE:"TK_VALUE",COMMENT:"TK_COMMENT",TEXT:"TK_TEXT",UNKNOWN:"TK_UNKNOWN",START:r.START,RAW:r.RAW,EOF:r.EOF},l=new o(/<\!--/,/-->/),c=function(e,t){i.call(this,e,t),this._current_tag_name="";var n=new a(this._input).read_options(this._options),r=new s(this._input);if(this.__patterns={word:n.until(/[\n\r\t <]/),single_quote:n.until_after(/'/),double_quote:n.until_after(/"/),attribute:n.until(/[\n\r\t =>]|\/>/),element_name:n.until(/[\n\r\t >\/]/),handlebars_comment:r.starting_with(/{{!--/).until_after(/--}}/),handlebars:r.starting_with(/{{/).until_after(/}}/),handlebars_open:r.until(/[\n\r\t }]/),handlebars_raw_close:r.until(/}}/),comment:r.starting_with(/<!--/).until_after(/-->/),cdata:r.starting_with(/<!\[CDATA\[/).until_after(/]]>/),conditional_comment:r.starting_with(/<!\[/).until_after(/]>/),processing:r.starting_with(/<\?/).until_after(/\?>/)},this._options.indent_handlebars&&(this.__patterns.word=this.__patterns.word.exclude("handlebars")),this._unformatted_content_delimiter=null,this._options.unformatted_content_delimiter){var o=this._input.get_literal_regexp(this._options.unformatted_content_delimiter);this.__patterns.unformatted_content_delimiter=r.matching(o).until_after(o)}};(c.prototype=new i)._is_comment=function(e){return!1},c.prototype._is_opening=function(e){return e.type===u.TAG_OPEN},c.prototype._is_closing=function(e,t){return e.type===u.TAG_CLOSE&&t&&((">"===e.text||"/>"===e.text)&&"<"===t.text[0]||"}}"===e.text&&"{"===t.text[0]&&"{"===t.text[1])},c.prototype._reset=function(){this._current_tag_name=""},c.prototype._get_next_token=function(e,t){var n=null;this._readWhitespace();var i=this._input.peek();return null===i?this._create_token(u.EOF,""):n=(n=(n=(n=(n=(n=(n=(n=(n=n||this._read_open_handlebars(i,t))||this._read_attribute(i,e,t))||this._read_close(i,t))||this._read_raw_content(i,e,t))||this._read_content_word(i))||this._read_comment_or_cdata(i))||this._read_processing(i))||this._read_open(i,t))||this._create_token(u.UNKNOWN,this._input.next())},c.prototype._read_comment_or_cdata=function(e){var t=null,n=null,i=null;"<"===e&&("!"===this._input.peek(1)&&((n=this.__patterns.comment.read())?(i=l.get_directives(n))&&"start"===i.ignore&&(n+=l.readIgnored(this._input)):n=this.__patterns.cdata.read()),n&&((t=this._create_token(u.COMMENT,n)).directives=i));return t},c.prototype._read_processing=function(e){var t=null,n=null;if("<"===e){var i=this._input.peek(1);"!"!==i&&"?"!==i||(n=(n=this.__patterns.conditional_comment.read())||this.__patterns.processing.read()),n&&((t=this._create_token(u.COMMENT,n)).directives=null)}return t},c.prototype._read_open=function(e,t){var n=null,i=null;return t||"<"===e&&(n=this._input.next(),"/"===this._input.peek()&&(n+=this._input.next()),n+=this.__patterns.element_name.read(),i=this._create_token(u.TAG_OPEN,n)),i},c.prototype._read_open_handlebars=function(e,t){var n=null,i=null;return t||this._options.indent_handlebars&&"{"===e&&"{"===this._input.peek(1)&&("!"===this._input.peek(2)?(n=(n=this.__patterns.handlebars_comment.read())||this.__patterns.handlebars.read(),i=this._create_token(u.COMMENT,n)):(n=this.__patterns.handlebars_open.read(),i=this._create_token(u.TAG_OPEN,n))),i},c.prototype._read_close=function(e,t){var n=null,i=null;return t&&("<"===t.text[0]&&(">"===e||"/"===e&&">"===this._input.peek(1))?(n=this._input.next(),"/"===e&&(n+=this._input.next()),i=this._create_token(u.TAG_CLOSE,n)):"{"===t.text[0]&&"}"===e&&"}"===this._input.peek(1)&&(this._input.next(),this._input.next(),i=this._create_token(u.TAG_CLOSE,"}}"))),i},c.prototype._read_attribute=function(e,t,n){var i=null,r="";if(n&&"<"===n.text[0])if("="===e)i=this._create_token(u.EQUALS,this._input.next());else if('"'===e||"'"===e){var o=this._input.next();o+='"'===e?this.__patterns.double_quote.read():this.__patterns.single_quote.read(),i=this._create_token(u.VALUE,o)}else(r=this.__patterns.attribute.read())&&(i=t.type===u.EQUALS?this._create_token(u.VALUE,r):this._create_token(u.ATTRIBUTE,r));return i},c.prototype._is_content_unformatted=function(e){return-1===this._options.void_elements.indexOf(e)&&(-1!==this._options.content_unformatted.indexOf(e)||-1!==this._options.unformatted.indexOf(e))},c.prototype._read_raw_content=function(e,t,n){var i="";if(n&&"{"===n.text[0])i=this.__patterns.handlebars_raw_close.read();else if(t.type===u.TAG_CLOSE&&"<"===t.opened.text[0]&&"/"!==t.text[0]){var r=t.opened.text.substr(1).toLowerCase();if("script"===r||"style"===r){var o=this._read_comment_or_cdata(e);if(o)return o.type=u.TEXT,o;i=this._input.readUntil(new RegExp("</"+r+"[\\n\\r\\t ]*?>","ig"))}else this._is_content_unformatted(r)&&(i=this._input.readUntil(new RegExp("</"+r+"[\\n\\r\\t ]*?>","ig")))}return i?this._create_token(u.TEXT,i):null},c.prototype._read_content_word=function(e){var t="";if(this._options.unformatted_content_delimiter&&e===this._options.unformatted_content_delimiter[0]&&(t=this.__patterns.unformatted_content_delimiter.read()),t||(t=this.__patterns.word.read()),t)return this._create_token(u.TEXT,t)},t.exports.Tokenizer=c,t.exports.TOKEN=u},{"../core/directives":475,"../core/pattern":479,"../core/templatablepattern":480,"../core/tokenizer":482}],492:[function(e,t,n){"use strict";var i=e("./javascript/index"),r=e("./css/index"),o=e("./html/index");function a(e,t,n,a){return o(e,t,n=n||i,a=a||r)}a.defaultOptions=o.defaultOptions,t.exports.js=i,t.exports.css=r,t.exports.html=a},{"./css/index":486,"./html/index":489,"./javascript/index":495}],493:[function(e,t,n){"use strict";var i="\\x24\\x30-\\x39\\x41-\\x5a\\x5f\\x61-\\x7a",r="\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc",o="\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f",a="(?:\\\\u[0-9a-fA-F]{4}|[\\x23\\x24\\x40\\x41-\\x5a\\x5f\\x61-\\x7a"+r+"])";n.identifier=new RegExp(a+"(?:\\\\u[0-9a-fA-F]{4}|[\\x24\\x30-\\x39\\x41-\\x5a\\x5f\\x61-\\x7a\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f])*","g"),n.identifierStart=new RegExp(a),n.identifierMatch=new RegExp("(?:\\\\u[0-9a-fA-F]{4}|["+i+r+o+"])+");n.newline=/[\n\r\u2028\u2029]/,n.lineBreak=new RegExp("\r\n|"+n.newline.source),n.allLineBreaks=new RegExp(n.lineBreak.source,"g")},{}],494:[function(e,t,n){"use strict";var i=e("../core/output").Output,r=e("../core/token").Token,o=e("./acorn"),a=e("./options").Options,s=e("./tokenizer").Tokenizer,u=e("./tokenizer").line_starters,l=e("./tokenizer").positionable_operators,c=e("./tokenizer").TOKEN;function d(e,t){return-1!==t.indexOf(e)}function p(e,t){return e&&e.type===c.RESERVED&&e.text===t}function h(e,t){return e&&e.type===c.RESERVED&&d(e.text,t)}var f=["case","return","do","if","throw","else","await","break","continue","async"],m=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].replace(/-/g,"_")]=e[n];return t}(["before-newline","after-newline","preserve-newline"]),g=[m.before_newline,m.preserve_newline],y="BlockStatement",v="Statement",_="ObjectLiteral",b="ArrayLiteral",w="ForInitializer",E="Conditional",S="Expression";function T(e,t){t.multiline_frame||t.mode===w||t.mode===E||e.remove_indent(t.start_line_index)}function C(e){return e===b}function x(e){return d(e,[S,w,E])}function A(e,t){t=t||{},this._source_text=e||"",this._output=null,this._tokens=null,this._last_last_text=null,this._flags=null,this._previous_flags=null,this._flag_store=null,this._options=new a(t)}A.prototype.create_flags=function(e,t){var n=0;return e&&(n=e.indentation_level,!this._output.just_added_newline()&&e.line_indent_level>n&&(n=e.line_indent_level)),{mode:t,parent:e,last_token:e?e.last_token:new r(c.START_BLOCK,""),last_word:e?e.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,inline_frame:!1,if_block:!1,else_block:!1,do_block:!1,do_while:!1,import_block:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:n,alignment:0,line_indent_level:e?e.line_indent_level:n,start_line_index:this._output.get_line_number(),ternary_depth:0}},A.prototype._reset=function(e){var t=e.match(/^[\t ]*/)[0];this._last_last_text="",this._output=new i(this._options,t),this._output.raw=this._options.test_output_raw,this._flag_store=[],this.set_mode(y);var n=new s(e,this._options);return this._tokens=n.tokenize(),e},A.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var e=this._reset(this._source_text),t=this._options.eol;"auto"===this._options.eol&&(t="\n",e&&o.lineBreak.test(e||"")&&(t=e.match(o.lineBreak)[0]));for(var n=this._tokens.next();n;)this.handle_token(n),this._last_last_text=this._flags.last_token.text,this._flags.last_token=n,n=this._tokens.next();return this._output.get_code(t)},A.prototype.handle_token=function(e,t){e.type===c.START_EXPR?this.handle_start_expr(e):e.type===c.END_EXPR?this.handle_end_expr(e):e.type===c.START_BLOCK?this.handle_start_block(e):e.type===c.END_BLOCK?this.handle_end_block(e):e.type===c.WORD||e.type===c.RESERVED?this.handle_word(e):e.type===c.SEMICOLON?this.handle_semicolon(e):e.type===c.STRING?this.handle_string(e):e.type===c.EQUALS?this.handle_equals(e):e.type===c.OPERATOR?this.handle_operator(e):e.type===c.COMMA?this.handle_comma(e):e.type===c.BLOCK_COMMENT?this.handle_block_comment(e,t):e.type===c.COMMENT?this.handle_comment(e,t):e.type===c.DOT?this.handle_dot(e):e.type===c.EOF?this.handle_eof(e):(e.type,c.UNKNOWN,this.handle_unknown(e,t))},A.prototype.handle_whitespace_and_comments=function(e,t){var n=e.newlines,i=this._options.keep_array_indentation&&C(this._flags.mode);if(e.comments_before)for(var r=e.comments_before.next();r;)this.handle_whitespace_and_comments(r,t),this.handle_token(r,t),r=e.comments_before.next();if(i)for(var o=0;o<n;o+=1)this.print_newline(o>0,t);else if(this._options.max_preserve_newlines&&n>this._options.max_preserve_newlines&&(n=this._options.max_preserve_newlines),this._options.preserve_newlines&&n>1){this.print_newline(!1,t);for(var a=1;a<n;a+=1)this.print_newline(!0,t)}};var k=["async","break","continue","return","throw","yield"];A.prototype.allow_wrap_or_preserved_newline=function(e,t){if(t=void 0!==t&&t,!this._output.just_added_newline()){var n=this._options.preserve_newlines&&e.newlines||t;if(d(this._flags.last_token.text,l)||d(e.text,l)){var i=d(this._flags.last_token.text,l)&&d(this._options.operator_position,g)||d(e.text,l);n=n&&i}if(n)this.print_newline(!1,!0);else if(this._options.wrap_line_length){if(h(this._flags.last_token,k))return;this._output.set_wrap_point()}}},A.prototype.print_newline=function(e,t){if(!t&&";"!==this._flags.last_token.text&&","!==this._flags.last_token.text&&"="!==this._flags.last_token.text&&(this._flags.last_token.type!==c.OPERATOR||"--"===this._flags.last_token.text||"++"===this._flags.last_token.text))for(var n=this._tokens.peek();!(this._flags.mode!==v||this._flags.if_block&&p(n,"else")||this._flags.do_block);)this.restore_mode();this._output.add_new_line(e)&&(this._flags.multiline_frame=!0)},A.prototype.print_token_line_indentation=function(e){this._output.just_added_newline()&&(this._options.keep_array_indentation&&e.newlines&&("["===e.text||C(this._flags.mode))?(this._output.current_line.set_indent(-1),this._output.current_line.push(e.whitespace_before),this._output.space_before_token=!1):this._output.set_indent(this._flags.indentation_level,this._flags.alignment)&&(this._flags.line_indent_level=this._flags.indentation_level))},A.prototype.print_token=function(e){if(this._output.raw)this._output.add_raw_token(e);else{if(this._options.comma_first&&e.previous&&e.previous.type===c.COMMA&&this._output.just_added_newline()&&","===this._output.previous_line.last()){var t=this._output.previous_line.pop();this._output.previous_line.is_empty()&&(this._output.previous_line.push(t),this._output.trim(!0),this._output.current_line.pop(),this._output.trim()),this.print_token_line_indentation(e),this._output.add_token(","),this._output.space_before_token=!0}this.print_token_line_indentation(e),this._output.non_breaking_space=!0,this._output.add_token(e.text),this._output.previous_token_wrapped&&(this._flags.multiline_frame=!0)}},A.prototype.indent=function(){this._flags.indentation_level+=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},A.prototype.deindent=function(){this._flags.indentation_level>0&&(!this._flags.parent||this._flags.indentation_level>this._flags.parent.indentation_level)&&(this._flags.indentation_level-=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},A.prototype.set_mode=function(e){this._flags?(this._flag_store.push(this._flags),this._previous_flags=this._flags):this._previous_flags=this.create_flags(null,e),this._flags=this.create_flags(this._previous_flags,e),this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},A.prototype.restore_mode=function(){this._flag_store.length>0&&(this._previous_flags=this._flags,this._flags=this._flag_store.pop(),this._previous_flags.mode===v&&T(this._output,this._previous_flags),this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},A.prototype.start_of_object_property=function(){return this._flags.parent.mode===_&&this._flags.mode===v&&(":"===this._flags.last_token.text&&0===this._flags.ternary_depth||h(this._flags.last_token,["get","set"]))},A.prototype.start_of_statement=function(e){var t=!1;return!!(t=(t=(t=(t=(t=(t=(t=t||h(this._flags.last_token,["var","let","const"])&&e.type===c.WORD)||p(this._flags.last_token,"do"))||!(this._flags.parent.mode===_&&this._flags.mode===v)&&h(this._flags.last_token,k)&&!e.newlines)||p(this._flags.last_token,"else")&&!(p(e,"if")&&!e.comments_before))||this._flags.last_token.type===c.END_EXPR&&(this._previous_flags.mode===w||this._previous_flags.mode===E))||this._flags.last_token.type===c.WORD&&this._flags.mode===y&&!this._flags.in_case&&!("--"===e.text||"++"===e.text)&&"function"!==this._last_last_text&&e.type!==c.WORD&&e.type!==c.RESERVED)||this._flags.mode===_&&(":"===this._flags.last_token.text&&0===this._flags.ternary_depth||h(this._flags.last_token,["get","set"])))&&(this.set_mode(v),this.indent(),this.handle_whitespace_and_comments(e,!0),this.start_of_object_property()||this.allow_wrap_or_preserved_newline(e,h(e,["do","for","if","while"])),!0)},A.prototype.handle_start_expr=function(e){this.start_of_statement(e)||this.handle_whitespace_and_comments(e);var t=S;if("["===e.text){if(this._flags.last_token.type===c.WORD||")"===this._flags.last_token.text)return h(this._flags.last_token,u)&&(this._output.space_before_token=!0),this.print_token(e),this.set_mode(t),this.indent(),void(this._options.space_in_paren&&(this._output.space_before_token=!0));t=b,C(this._flags.mode)&&("["!==this._flags.last_token.text&&(","!==this._flags.last_token.text||"]"!==this._last_last_text&&"}"!==this._last_last_text)||this._options.keep_array_indentation||this.print_newline()),d(this._flags.last_token.type,[c.START_EXPR,c.END_EXPR,c.WORD,c.OPERATOR,c.DOT])||(this._output.space_before_token=!0)}else{if(this._flags.last_token.type===c.RESERVED)"for"===this._flags.last_token.text?(this._output.space_before_token=this._options.space_before_conditional,t=w):d(this._flags.last_token.text,["if","while","switch"])?(this._output.space_before_token=this._options.space_before_conditional,t=E):d(this._flags.last_word,["await","async"])?this._output.space_before_token=!0:"import"===this._flags.last_token.text&&""===e.whitespace_before?this._output.space_before_token=!1:(d(this._flags.last_token.text,u)||"catch"===this._flags.last_token.text)&&(this._output.space_before_token=!0);else if(this._flags.last_token.type===c.EQUALS||this._flags.last_token.type===c.OPERATOR)this.start_of_object_property()||this.allow_wrap_or_preserved_newline(e);else if(this._flags.last_token.type===c.WORD){this._output.space_before_token=!1;var n=this._tokens.peek(-3);if(this._options.space_after_named_function&&n){var i=this._tokens.peek(-4);h(n,["async","function"])||"*"===n.text&&h(i,["async","function"])?this._output.space_before_token=!0:this._flags.mode===_&&("{"!==n.text&&","!==n.text&&("*"!==n.text||"{"!==i.text&&","!==i.text)||(this._output.space_before_token=!0))}}else this.allow_wrap_or_preserved_newline(e);(this._flags.last_token.type===c.RESERVED&&("function"===this._flags.last_word||"typeof"===this._flags.last_word)||"*"===this._flags.last_token.text&&(d(this._last_last_text,["function","yield"])||this._flags.mode===_&&d(this._last_last_text,["{",","])))&&(this._output.space_before_token=this._options.space_after_anon_function)}";"===this._flags.last_token.text||this._flags.last_token.type===c.START_BLOCK?this.print_newline():this._flags.last_token.type!==c.END_EXPR&&this._flags.last_token.type!==c.START_EXPR&&this._flags.last_token.type!==c.END_BLOCK&&"."!==this._flags.last_token.text&&this._flags.last_token.type!==c.COMMA||this.allow_wrap_or_preserved_newline(e,e.newlines),this.print_token(e),this.set_mode(t),this._options.space_in_paren&&(this._output.space_before_token=!0),this.indent()},A.prototype.handle_end_expr=function(e){for(;this._flags.mode===v;)this.restore_mode();this.handle_whitespace_and_comments(e),this._flags.multiline_frame&&this.allow_wrap_or_preserved_newline(e,"]"===e.text&&C(this._flags.mode)&&!this._options.keep_array_indentation),this._options.space_in_paren&&(this._flags.last_token.type!==c.START_EXPR||this._options.space_in_empty_paren?this._output.space_before_token=!0:(this._output.trim(),this._output.space_before_token=!1)),this.deindent(),this.print_token(e),this.restore_mode(),T(this._output,this._previous_flags),this._flags.do_while&&this._previous_flags.mode===E&&(this._previous_flags.mode=S,this._flags.do_block=!1,this._flags.do_while=!1)},A.prototype.handle_start_block=function(e){this.handle_whitespace_and_comments(e);var t=this._tokens.peek(),n=this._tokens.peek(1);"switch"===this._flags.last_word&&this._flags.last_token.type===c.END_EXPR?(this.set_mode(y),this._flags.in_case_statement=!0):this._flags.case_body?this.set_mode(y):n&&(d(n.text,[":",","])&&d(t.type,[c.STRING,c.WORD,c.RESERVED])||d(t.text,["get","set","..."])&&d(n.type,[c.WORD,c.RESERVED]))?d(this._last_last_text,["class","interface"])?this.set_mode(y):this.set_mode(_):this._flags.last_token.type===c.OPERATOR&&"=>"===this._flags.last_token.text?this.set_mode(y):d(this._flags.last_token.type,[c.EQUALS,c.START_EXPR,c.COMMA,c.OPERATOR])||h(this._flags.last_token,["return","throw","import","default"])?this.set_mode(_):this.set_mode(y);var i=!t.comments_before&&"}"===t.text,r=i&&"function"===this._flags.last_word&&this._flags.last_token.type===c.END_EXPR;if(this._options.brace_preserve_inline){var o=0,a=null;this._flags.inline_frame=!0;do{if(o+=1,(a=this._tokens.peek(o-1)).newlines){this._flags.inline_frame=!1;break}}while(a.type!==c.EOF&&(a.type!==c.END_BLOCK||a.opened!==e))}("expand"===this._options.brace_style||"none"===this._options.brace_style&&e.newlines)&&!this._flags.inline_frame?this._flags.last_token.type!==c.OPERATOR&&(r||this._flags.last_token.type===c.EQUALS||h(this._flags.last_token,f)&&"else"!==this._flags.last_token.text)?this._output.space_before_token=!0:this.print_newline(!1,!0):(!C(this._previous_flags.mode)||this._flags.last_token.type!==c.START_EXPR&&this._flags.last_token.type!==c.COMMA||((this._flags.last_token.type===c.COMMA||this._options.space_in_paren)&&(this._output.space_before_token=!0),(this._flags.last_token.type===c.COMMA||this._flags.last_token.type===c.START_EXPR&&this._flags.inline_frame)&&(this.allow_wrap_or_preserved_newline(e),this._previous_flags.multiline_frame=this._previous_flags.multiline_frame||this._flags.multiline_frame,this._flags.multiline_frame=!1)),this._flags.last_token.type!==c.OPERATOR&&this._flags.last_token.type!==c.START_EXPR&&(this._flags.last_token.type!==c.START_BLOCK||this._flags.inline_frame?this._output.space_before_token=!0:this.print_newline())),this.print_token(e),this.indent(),i||this._options.brace_preserve_inline&&this._flags.inline_frame||this.print_newline()},A.prototype.handle_end_block=function(e){for(this.handle_whitespace_and_comments(e);this._flags.mode===v;)this.restore_mode();var t=this._flags.last_token.type===c.START_BLOCK;this._flags.inline_frame&&!t?this._output.space_before_token=!0:"expand"===this._options.brace_style?t||this.print_newline():t||(C(this._flags.mode)&&this._options.keep_array_indentation?(this._options.keep_array_indentation=!1,this.print_newline(),this._options.keep_array_indentation=!0):this.print_newline()),this.restore_mode(),this.print_token(e)},A.prototype.handle_word=function(e){if(e.type===c.RESERVED)if(d(e.text,["set","get"])&&this._flags.mode!==_)e.type=c.WORD;else if("import"===e.text&&"("===this._tokens.peek().text)e.type=c.WORD;else if(d(e.text,["as","from"])&&!this._flags.import_block)e.type=c.WORD;else if(this._flags.mode===_){":"===this._tokens.peek().text&&(e.type=c.WORD)}if(this.start_of_statement(e)?h(this._flags.last_token,["var","let","const"])&&e.type===c.WORD&&(this._flags.declaration_statement=!0):!e.newlines||x(this._flags.mode)||this._flags.last_token.type===c.OPERATOR&&"--"!==this._flags.last_token.text&&"++"!==this._flags.last_token.text||this._flags.last_token.type===c.EQUALS||!this._options.preserve_newlines&&h(this._flags.last_token,["var","let","const","set","get"])?this.handle_whitespace_and_comments(e):(this.handle_whitespace_and_comments(e),this.print_newline()),this._flags.do_block&&!this._flags.do_while){if(p(e,"while"))return this._output.space_before_token=!0,this.print_token(e),this._output.space_before_token=!0,void(this._flags.do_while=!0);this.print_newline(),this._flags.do_block=!1}if(this._flags.if_block)if(!this._flags.else_block&&p(e,"else"))this._flags.else_block=!0;else{for(;this._flags.mode===v;)this.restore_mode();this._flags.if_block=!1,this._flags.else_block=!1}if(this._flags.in_case_statement&&h(e,["case","default"]))return this.print_newline(),this._flags.last_token.type!==c.END_BLOCK&&(this._flags.case_body||this._options.jslint_happy)&&this.deindent(),this._flags.case_body=!1,this.print_token(e),void(this._flags.in_case=!0);if(this._flags.last_token.type!==c.COMMA&&this._flags.last_token.type!==c.START_EXPR&&this._flags.last_token.type!==c.EQUALS&&this._flags.last_token.type!==c.OPERATOR||this.start_of_object_property()||this.allow_wrap_or_preserved_newline(e),p(e,"function"))return(d(this._flags.last_token.text,["}",";"])||this._output.just_added_newline()&&!d(this._flags.last_token.text,["(","[","{",":","=",","])&&this._flags.last_token.type!==c.OPERATOR)&&(this._output.just_added_blankline()||e.comments_before||(this.print_newline(),this.print_newline(!0))),this._flags.last_token.type===c.RESERVED||this._flags.last_token.type===c.WORD?h(this._flags.last_token,["get","set","new","export"])||h(this._flags.last_token,k)||p(this._flags.last_token,"default")&&"export"===this._last_last_text||"declare"===this._flags.last_token.text?this._output.space_before_token=!0:this.print_newline():this._flags.last_token.type===c.OPERATOR||"="===this._flags.last_token.text?this._output.space_before_token=!0:(this._flags.multiline_frame||!x(this._flags.mode)&&!C(this._flags.mode))&&this.print_newline(),this.print_token(e),void(this._flags.last_word=e.text);var t="NONE";(this._flags.last_token.type===c.END_BLOCK?this._previous_flags.inline_frame?t="SPACE":h(e,["else","catch","finally","from"])?"expand"===this._options.brace_style||"end-expand"===this._options.brace_style||"none"===this._options.brace_style&&e.newlines?t="NEWLINE":(t="SPACE",this._output.space_before_token=!0):t="NEWLINE":this._flags.last_token.type===c.SEMICOLON&&this._flags.mode===y?t="NEWLINE":this._flags.last_token.type===c.SEMICOLON&&x(this._flags.mode)?t="SPACE":this._flags.last_token.type===c.STRING?t="NEWLINE":this._flags.last_token.type===c.RESERVED||this._flags.last_token.type===c.WORD||"*"===this._flags.last_token.text&&(d(this._last_last_text,["function","yield"])||this._flags.mode===_&&d(this._last_last_text,["{",","]))?t="SPACE":this._flags.last_token.type===c.START_BLOCK?t=this._flags.inline_frame?"SPACE":"NEWLINE":this._flags.last_token.type===c.END_EXPR&&(this._output.space_before_token=!0,t="NEWLINE"),h(e,u)&&")"!==this._flags.last_token.text&&(t=this._flags.inline_frame||"else"===this._flags.last_token.text||"export"===this._flags.last_token.text?"SPACE":"NEWLINE"),h(e,["else","catch","finally"]))?(this._flags.last_token.type!==c.END_BLOCK||this._previous_flags.mode!==y||"expand"===this._options.brace_style||"end-expand"===this._options.brace_style||"none"===this._options.brace_style&&e.newlines)&&!this._flags.inline_frame?this.print_newline():(this._output.trim(!0),"}"!==this._output.current_line.last()&&this.print_newline(),this._output.space_before_token=!0):"NEWLINE"===t?h(this._flags.last_token,f)||"declare"===this._flags.last_token.text&&h(e,["var","let","const"])?this._output.space_before_token=!0:this._flags.last_token.type!==c.END_EXPR?this._flags.last_token.type===c.START_EXPR&&h(e,["var","let","const"])||":"===this._flags.last_token.text||(p(e,"if")&&p(e.previous,"else")?this._output.space_before_token=!0:this.print_newline()):h(e,u)&&")"!==this._flags.last_token.text&&this.print_newline():this._flags.multiline_frame&&C(this._flags.mode)&&","===this._flags.last_token.text&&"}"===this._last_last_text?this.print_newline():"SPACE"===t&&(this._output.space_before_token=!0);!e.previous||e.previous.type!==c.WORD&&e.previous.type!==c.RESERVED||(this._output.space_before_token=!0),this.print_token(e),this._flags.last_word=e.text,e.type===c.RESERVED&&("do"===e.text?this._flags.do_block=!0:"if"===e.text?this._flags.if_block=!0:"import"===e.text?this._flags.import_block=!0:this._flags.import_block&&p(e,"from")&&(this._flags.import_block=!1))},A.prototype.handle_semicolon=function(e){this.start_of_statement(e)?this._output.space_before_token=!1:this.handle_whitespace_and_comments(e);for(var t=this._tokens.peek();!(this._flags.mode!==v||this._flags.if_block&&p(t,"else")||this._flags.do_block);)this.restore_mode();this._flags.import_block&&(this._flags.import_block=!1),this.print_token(e)},A.prototype.handle_string=function(e){(!e.text.startsWith("`")||0!==e.newlines||""!==e.whitespace_before||")"!==e.previous.text&&this._flags.last_token.type!==c.WORD)&&(this.start_of_statement(e)?this._output.space_before_token=!0:(this.handle_whitespace_and_comments(e),this._flags.last_token.type===c.RESERVED||this._flags.last_token.type===c.WORD||this._flags.inline_frame?this._output.space_before_token=!0:this._flags.last_token.type===c.COMMA||this._flags.last_token.type===c.START_EXPR||this._flags.last_token.type===c.EQUALS||this._flags.last_token.type===c.OPERATOR?this.start_of_object_property()||this.allow_wrap_or_preserved_newline(e):!e.text.startsWith("`")||this._flags.last_token.type!==c.END_EXPR||"]"!==e.previous.text&&")"!==e.previous.text||0!==e.newlines?this.print_newline():this._output.space_before_token=!0)),this.print_token(e)},A.prototype.handle_equals=function(e){this.start_of_statement(e)||this.handle_whitespace_and_comments(e),this._flags.declaration_statement&&(this._flags.declaration_assignment=!0),this._output.space_before_token=!0,this.print_token(e),this._output.space_before_token=!0},A.prototype.handle_comma=function(e){this.handle_whitespace_and_comments(e,!0),this.print_token(e),this._output.space_before_token=!0,this._flags.declaration_statement?(x(this._flags.parent.mode)&&(this._flags.declaration_assignment=!1),this._flags.declaration_assignment?(this._flags.declaration_assignment=!1,this.print_newline(!1,!0)):this._options.comma_first&&this.allow_wrap_or_preserved_newline(e)):this._flags.mode===_||this._flags.mode===v&&this._flags.parent.mode===_?(this._flags.mode===v&&this.restore_mode(),this._flags.inline_frame||this.print_newline()):this._options.comma_first&&this.allow_wrap_or_preserved_newline(e)},A.prototype.handle_operator=function(e){var t="*"===e.text&&(h(this._flags.last_token,["function","yield"])||d(this._flags.last_token.type,[c.START_BLOCK,c.COMMA,c.END_BLOCK,c.SEMICOLON])),n=d(e.text,["-","+"])&&(d(this._flags.last_token.type,[c.START_BLOCK,c.START_EXPR,c.EQUALS,c.OPERATOR])||d(this._flags.last_token.text,u)||","===this._flags.last_token.text);if(this.start_of_statement(e));else{var i=!t;this.handle_whitespace_and_comments(e,i)}if(h(this._flags.last_token,f))return this._output.space_before_token=!0,void this.print_token(e);if("*"!==e.text||this._flags.last_token.type!==c.DOT)if("::"!==e.text){if(this._flags.last_token.type===c.OPERATOR&&d(this._options.operator_position,g)&&this.allow_wrap_or_preserved_newline(e),":"===e.text&&this._flags.in_case)return this.print_token(e),this._flags.in_case=!1,this._flags.case_body=!0,void(this._tokens.peek().type!==c.START_BLOCK?(this.indent(),this.print_newline()):this._output.space_before_token=!0);var r=!0,o=!0,a=!1;if(":"===e.text?0===this._flags.ternary_depth?r=!1:(this._flags.ternary_depth-=1,a=!0):"?"===e.text&&(this._flags.ternary_depth+=1),!n&&!t&&this._options.preserve_newlines&&d(e.text,l)){var s=":"===e.text,p=s&&a,_=s&&!a;switch(this._options.operator_position){case m.before_newline:return this._output.space_before_token=!_,this.print_token(e),s&&!p||this.allow_wrap_or_preserved_newline(e),void(this._output.space_before_token=!0);case m.after_newline:return this._output.space_before_token=!0,!s||p?this._tokens.peek().newlines?this.print_newline(!1,!0):this.allow_wrap_or_preserved_newline(e):this._output.space_before_token=!1,this.print_token(e),void(this._output.space_before_token=!0);case m.preserve_newline:return _||this.allow_wrap_or_preserved_newline(e),r=!(this._output.just_added_newline()||_),this._output.space_before_token=r,this.print_token(e),void(this._output.space_before_token=!0)}}if(t){this.allow_wrap_or_preserved_newline(e),r=!1;var b=this._tokens.peek();o=b&&d(b.type,[c.WORD,c.RESERVED])}else"..."===e.text?(this.allow_wrap_or_preserved_newline(e),r=this._flags.last_token.type===c.START_BLOCK,o=!1):(d(e.text,["--","++","!","~"])||n)&&(this._flags.last_token.type!==c.COMMA&&this._flags.last_token.type!==c.START_EXPR||this.allow_wrap_or_preserved_newline(e),r=!1,o=!1,!e.newlines||"--"!==e.text&&"++"!==e.text||this.print_newline(!1,!0),";"===this._flags.last_token.text&&x(this._flags.mode)&&(r=!0),this._flags.last_token.type===c.RESERVED?r=!0:this._flags.last_token.type===c.END_EXPR?r=!("]"===this._flags.last_token.text&&("--"===e.text||"++"===e.text)):this._flags.last_token.type===c.OPERATOR&&(r=d(e.text,["--","-","++","+"])&&d(this._flags.last_token.text,["--","-","++","+"]),d(e.text,["+","-"])&&d(this._flags.last_token.text,["--","++"])&&(o=!0)),(this._flags.mode!==y||this._flags.inline_frame)&&this._flags.mode!==v||"{"!==this._flags.last_token.text&&";"!==this._flags.last_token.text||this.print_newline());this._output.space_before_token=this._output.space_before_token||r,this.print_token(e),this._output.space_before_token=o}else this.print_token(e);else this.print_token(e)},A.prototype.handle_block_comment=function(e,t){return this._output.raw?(this._output.add_raw_token(e),void(e.directives&&"end"===e.directives.preserve&&(this._output.raw=this._options.test_output_raw))):e.directives?(this.print_newline(!1,t),this.print_token(e),"start"===e.directives.preserve&&(this._output.raw=!0),void this.print_newline(!1,!0)):o.newline.test(e.text)||e.newlines?void this.print_block_commment(e,t):(this._output.space_before_token=!0,this.print_token(e),void(this._output.space_before_token=!0))},A.prototype.print_block_commment=function(e,t){var n,i=function(e){for(var t=[],n=(e=e.replace(o.allLineBreaks,"\n")).indexOf("\n");-1!==n;)t.push(e.substring(0,n)),n=(e=e.substring(n+1)).indexOf("\n");return e.length&&t.push(e),t}(e.text),r=!1,a=!1,s=e.whitespace_before,u=s.length;if(this.print_newline(!1,t),this.print_token_line_indentation(e),this._output.add_token(i[0]),this.print_newline(!1,t),i.length>1){for(r=function(e,t){for(var n=0;n<e.length;n++)if(e[n].trim().charAt(0)!==t)return!1;return!0}(i=i.slice(1),"*"),a=function(e,t){for(var n,i=0,r=e.length;i<r;i++)if((n=e[i])&&0!==n.indexOf(t))return!1;return!0}(i,s),r&&(this._flags.alignment=1),n=0;n<i.length;n++)r?(this.print_token_line_indentation(e),this._output.add_token(i[n].replace(/^\s+/g,""))):a&&i[n]?(this.print_token_line_indentation(e),this._output.add_token(i[n].substring(u))):(this._output.current_line.set_indent(-1),this._output.add_token(i[n])),this.print_newline(!1,t);this._flags.alignment=0}},A.prototype.handle_comment=function(e,t){e.newlines?this.print_newline(!1,t):this._output.trim(!0),this._output.space_before_token=!0,this.print_token(e),this.print_newline(!1,t)},A.prototype.handle_dot=function(e){this.start_of_statement(e)||this.handle_whitespace_and_comments(e,!0),h(this._flags.last_token,f)?this._output.space_before_token=!1:this.allow_wrap_or_preserved_newline(e,")"===this._flags.last_token.text&&this._options.break_chained_methods),this._options.unindent_chained_methods&&this._output.just_added_newline()&&this.deindent(),this.print_token(e)},A.prototype.handle_unknown=function(e,t){this.print_token(e),"\n"===e.text[e.text.length-1]&&this.print_newline(!1,t)},A.prototype.handle_eof=function(e){for(;this._flags.mode===v;)this.restore_mode();this.handle_whitespace_and_comments(e)},t.exports.Beautifier=A},{"../core/output":478,"../core/token":481,"./acorn":493,"./options":496,"./tokenizer":497}],495:[function(e,t,n){"use strict";var i=e("./beautifier").Beautifier,r=e("./options").Options;t.exports=function(e,t){return new i(e,t).beautify()},t.exports.defaultOptions=function(){return new r}},{"./beautifier":494,"./options":496}],496:[function(e,t,n){"use strict";var i=e("../core/options").Options,r=["before-newline","after-newline","preserve-newline"];function o(e){i.call(this,e,"js");var t=this.raw_options.brace_style||null;"expand-strict"===t?this.raw_options.brace_style="expand":"collapse-preserve-inline"===t?this.raw_options.brace_style="collapse,preserve-inline":void 0!==this.raw_options.braces_on_own_line&&(this.raw_options.brace_style=this.raw_options.braces_on_own_line?"expand":"collapse");var n=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_preserve_inline=!1,this.brace_style="collapse";for(var o=0;o<n.length;o++)"preserve-inline"===n[o]?this.brace_preserve_inline=!0:this.brace_style=n[o];this.unindent_chained_methods=this._get_boolean("unindent_chained_methods"),this.break_chained_methods=this._get_boolean("break_chained_methods"),this.space_in_paren=this._get_boolean("space_in_paren"),this.space_in_empty_paren=this._get_boolean("space_in_empty_paren"),this.jslint_happy=this._get_boolean("jslint_happy"),this.space_after_anon_function=this._get_boolean("space_after_anon_function"),this.space_after_named_function=this._get_boolean("space_after_named_function"),this.keep_array_indentation=this._get_boolean("keep_array_indentation"),this.space_before_conditional=this._get_boolean("space_before_conditional",!0),this.unescape_strings=this._get_boolean("unescape_strings"),this.e4x=this._get_boolean("e4x"),this.comma_first=this._get_boolean("comma_first"),this.operator_position=this._get_selection("operator_position",r),this.test_output_raw=this._get_boolean("test_output_raw"),this.jslint_happy&&(this.space_after_anon_function=!0)}o.prototype=new i,t.exports.Options=o},{"../core/options":477}],497:[function(e,t,n){"use strict";var i=e("../core/inputscanner").InputScanner,r=e("../core/tokenizer").Tokenizer,o=e("../core/tokenizer").TOKEN,a=e("../core/directives").Directives,s=e("./acorn"),u=e("../core/pattern").Pattern,l=e("../core/templatablepattern").TemplatablePattern;function c(e,t){return-1!==t.indexOf(e)}var d={START_EXPR:"TK_START_EXPR",END_EXPR:"TK_END_EXPR",START_BLOCK:"TK_START_BLOCK",END_BLOCK:"TK_END_BLOCK",WORD:"TK_WORD",RESERVED:"TK_RESERVED",SEMICOLON:"TK_SEMICOLON",STRING:"TK_STRING",EQUALS:"TK_EQUALS",OPERATOR:"TK_OPERATOR",COMMA:"TK_COMMA",BLOCK_COMMENT:"TK_BLOCK_COMMENT",COMMENT:"TK_COMMENT",DOT:"TK_DOT",UNKNOWN:"TK_UNKNOWN",START:o.START,RAW:o.RAW,EOF:o.EOF},p=new a(/\/\*/,/\*\//),h=/0[xX][0123456789abcdefABCDEF_]*n?|0[oO][01234567_]*n?|0[bB][01_]*n?|\d[\d_]*n|(?:\.\d[\d_]*|\d[\d_]*\.?[\d_]*)(?:[eE][+-]?[\d_]+)?/,f=/[0-9]/,m=/[^\d\.]/,g=">>> === !== << && >= ** != == <= >> || ?? |> < / - + > : & % ? ^ | *".split(" "),y=">>>= ... >>= <<= === >>> !== **= => ^= :: /= << <= == && -= >= >> != -- += ** || ?? ++ %= &= *= |= |> = ! ? > < : / ^ - + * & % ~ |";y=(y="\\?\\.(?!\\d) "+(y=y.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&"))).replace(/ /g,"|");var v,_=new RegExp(y),b="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(","),w=b.concat(["do","in","of","else","get","set","new","catch","finally","typeof","yield","async","await","from","as"]),E=new RegExp("^(?:"+w.join("|")+")$"),S=function(e,t){r.call(this,e,t),this._patterns.whitespace=this._patterns.whitespace.matching(/\u00A0\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff/.source,/\u2028\u2029/.source);var n=new u(this._input),i=new l(this._input).read_options(this._options);this.__patterns={template:i,identifier:i.starting_with(s.identifier).matching(s.identifierMatch),number:n.matching(h),punct:n.matching(_),comment:n.starting_with(/\/\//).until(/[\n\r\u2028\u2029]/),block_comment:n.starting_with(/\/\*/).until_after(/\*\//),html_comment_start:n.matching(/<!--/),html_comment_end:n.matching(/-->/),include:n.starting_with(/#include/).until_after(s.lineBreak),shebang:n.starting_with(/#!/).until_after(s.lineBreak),xml:n.matching(/[\s\S]*?<(\/?)([-a-zA-Z:0-9_.]+|{[\s\S]+?}|!\[CDATA\[[\s\S]*?\]\]|)(\s+{[\s\S]+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{[\s\S]+?}))*\s*(\/?)\s*>/),single_quote:i.until(/['\\\n\r\u2028\u2029]/),double_quote:i.until(/["\\\n\r\u2028\u2029]/),template_text:i.until(/[`\\$]/),template_expression:i.until(/[`}\\]/)}};(S.prototype=new r)._is_comment=function(e){return e.type===d.COMMENT||e.type===d.BLOCK_COMMENT||e.type===d.UNKNOWN},S.prototype._is_opening=function(e){return e.type===d.START_BLOCK||e.type===d.START_EXPR},S.prototype._is_closing=function(e,t){return(e.type===d.END_BLOCK||e.type===d.END_EXPR)&&t&&("]"===e.text&&"["===t.text||")"===e.text&&"("===t.text||"}"===e.text&&"{"===t.text)},S.prototype._reset=function(){v=!1},S.prototype._get_next_token=function(e,t){var n=null;this._readWhitespace();var i=this._input.peek();return null===i?this._create_token(d.EOF,""):n=(n=(n=(n=(n=(n=(n=(n=(n=n||this._read_non_javascript(i))||this._read_string(i))||this._read_word(e))||this._read_singles(i))||this._read_comment(i))||this._read_regexp(i,e))||this._read_xml(i,e))||this._read_punctuation())||this._create_token(d.UNKNOWN,this._input.next())},S.prototype._read_word=function(e){var t;return""!==(t=this.__patterns.identifier.read())?(t=t.replace(s.allLineBreaks,"\n"),e.type!==d.DOT&&(e.type!==d.RESERVED||"set"!==e.text&&"get"!==e.text)&&E.test(t)?"in"===t||"of"===t?this._create_token(d.OPERATOR,t):this._create_token(d.RESERVED,t):this._create_token(d.WORD,t)):""!==(t=this.__patterns.number.read())?this._create_token(d.WORD,t):void 0},S.prototype._read_singles=function(e){var t=null;return"("===e||"["===e?t=this._create_token(d.START_EXPR,e):")"===e||"]"===e?t=this._create_token(d.END_EXPR,e):"{"===e?t=this._create_token(d.START_BLOCK,e):"}"===e?t=this._create_token(d.END_BLOCK,e):";"===e?t=this._create_token(d.SEMICOLON,e):"."===e&&m.test(this._input.peek(1))?t=this._create_token(d.DOT,e):","===e&&(t=this._create_token(d.COMMA,e)),t&&this._input.next(),t},S.prototype._read_punctuation=function(){var e=this.__patterns.punct.read();if(""!==e)return"="===e?this._create_token(d.EQUALS,e):"?."===e?this._create_token(d.DOT,e):this._create_token(d.OPERATOR,e)},S.prototype._read_non_javascript=function(e){var t="";if("#"===e){if(this._is_first_token()&&(t=this.__patterns.shebang.read()))return this._create_token(d.UNKNOWN,t.trim()+"\n");if(t=this.__patterns.include.read())return this._create_token(d.UNKNOWN,t.trim()+"\n");e=this._input.next();var n="#";if(this._input.hasNext()&&this._input.testChar(f)){do{n+=e=this._input.next()}while(this._input.hasNext()&&"#"!==e&&"="!==e);return"#"===e||("["===this._input.peek()&&"]"===this._input.peek(1)?(n+="[]",this._input.next(),this._input.next()):"{"===this._input.peek()&&"}"===this._input.peek(1)&&(n+="{}",this._input.next(),this._input.next())),this._create_token(d.WORD,n)}this._input.back()}else if("<"===e&&this._is_first_token()){if(t=this.__patterns.html_comment_start.read()){for(;this._input.hasNext()&&!this._input.testChar(s.newline);)t+=this._input.next();return v=!0,this._create_token(d.COMMENT,t)}}else if(v&&"-"===e&&(t=this.__patterns.html_comment_end.read()))return v=!1,this._create_token(d.COMMENT,t);return null},S.prototype._read_comment=function(e){var t=null;if("/"===e){var n="";if("*"===this._input.peek(1)){n=this.__patterns.block_comment.read();var i=p.get_directives(n);i&&"start"===i.ignore&&(n+=p.readIgnored(this._input)),n=n.replace(s.allLineBreaks,"\n"),(t=this._create_token(d.BLOCK_COMMENT,n)).directives=i}else"/"===this._input.peek(1)&&(n=this.__patterns.comment.read(),t=this._create_token(d.COMMENT,n))}return t},S.prototype._read_string=function(e){if("`"===e||"'"===e||'"'===e){var t=this._input.next();return this.has_char_escapes=!1,t+="`"===e?this._read_string_recursive("`",!0,"${"):this._read_string_recursive(e),this.has_char_escapes&&this._options.unescape_strings&&(t=function(e){var t="",n=0,r=new i(e),o=null;for(;r.hasNext();)if((o=r.match(/([\s]|[^\\]|\\\\)+/g))&&(t+=o[0]),"\\"===r.peek()){if(r.next(),"x"===r.peek())o=r.match(/x([0-9A-Fa-f]{2})/g);else{if("u"!==r.peek()){t+="\\",r.hasNext()&&(t+=r.next());continue}o=r.match(/u([0-9A-Fa-f]{4})/g)}if(!o)return e;if((n=parseInt(o[1],16))>126&&n<=255&&0===o[0].indexOf("x"))return e;if(n>=0&&n<32){t+="\\"+o[0];continue}t+=34===n||39===n||92===n?"\\"+String.fromCharCode(n):String.fromCharCode(n)}return t}(t)),this._input.peek()===e&&(t+=this._input.next()),t=t.replace(s.allLineBreaks,"\n"),this._create_token(d.STRING,t)}return null},S.prototype._allow_regexp_or_xml=function(e){return e.type===d.RESERVED&&c(e.text,["return","case","throw","else","do","typeof","yield"])||e.type===d.END_EXPR&&")"===e.text&&e.opened.previous.type===d.RESERVED&&c(e.opened.previous.text,["if","while","for"])||c(e.type,[d.COMMENT,d.START_EXPR,d.START_BLOCK,d.START,d.END_BLOCK,d.OPERATOR,d.EQUALS,d.EOF,d.SEMICOLON,d.COMMA])},S.prototype._read_regexp=function(e,t){if("/"===e&&this._allow_regexp_or_xml(t)){for(var n=this._input.next(),i=!1,r=!1;this._input.hasNext()&&(i||r||this._input.peek()!==e)&&!this._input.testChar(s.newline);)n+=this._input.peek(),i?i=!1:(i="\\"===this._input.peek(),"["===this._input.peek()?r=!0:"]"===this._input.peek()&&(r=!1)),this._input.next();return this._input.peek()===e&&(n+=this._input.next(),n+=this._input.read(s.identifier)),this._create_token(d.STRING,n)}return null},S.prototype._read_xml=function(e,t){if(this._options.e4x&&"<"===e&&this._allow_regexp_or_xml(t)){var n="",i=this.__patterns.xml.read_match();if(i){for(var r=i[2].replace(/^{\s+/,"{").replace(/\s+}$/,"}"),o=0===r.indexOf("{"),a=0;i;){var u=!!i[1],l=i[2];if(!(!!i[i.length-1]||"![CDATA["===l.slice(0,8))&&(l===r||o&&l.replace(/^{\s+/,"{").replace(/\s+}$/,"}"))&&(u?--a:++a),n+=i[0],a<=0)break;i=this.__patterns.xml.read_match()}return i||(n+=this._input.match(/[\s\S]*/g)[0]),n=n.replace(s.allLineBreaks,"\n"),this._create_token(d.STRING,n)}}return null},S.prototype._read_string_recursive=function(e,t,n){var i,r;"'"===e?r=this.__patterns.single_quote:'"'===e?r=this.__patterns.double_quote:"`"===e?r=this.__patterns.template_text:"}"===e&&(r=this.__patterns.template_expression);for(var o=r.read(),a="";this._input.hasNext();){if((a=this._input.next())===e||!t&&s.newline.test(a)){this._input.back();break}"\\"===a&&this._input.hasNext()?("x"===(i=this._input.peek())||"u"===i?this.has_char_escapes=!0:"\r"===i&&"\n"===this._input.peek(1)&&this._input.next(),a+=this._input.next()):n&&("${"===n&&"$"===a&&"{"===this._input.peek()&&(a+=this._input.next()),n===a&&(a+="`"===e?this._read_string_recursive("}",t,"`"):this._read_string_recursive("`",t,"${"),this._input.hasNext()&&(a+=this._input.next()))),o+=a+=r.read()}return o},t.exports.Tokenizer=S,t.exports.TOKEN=d,t.exports.positionable_operators=g.slice(),t.exports.line_starters=b.slice()},{"../core/directives":475,"../core/inputscanner":476,"../core/pattern":479,"../core/templatablepattern":480,"../core/tokenizer":482,"./acorn":493}],498:[function(e,t,n){var i="undefined"!=typeof JSON?JSON:e("jsonify");t.exports=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var n=t.space||"";"number"==typeof n&&(n=Array(n+1).join(" "));var a,s="boolean"==typeof t.cycles&&t.cycles,u=t.replacer||function(e,t){return t},l=t.cmp&&(a=t.cmp,function(e){return function(t,n){var i={key:t,value:e[t]},r={key:n,value:e[n]};return a(i,r)}}),c=[];return function e(t,a,d,p){var h=n?"\n"+new Array(p+1).join(n):"",f=n?": ":":";if(d&&d.toJSON&&"function"==typeof d.toJSON&&(d=d.toJSON()),void 0!==(d=u.call(t,a,d))){if("object"!=typeof d||null===d)return i.stringify(d);if(r(d)){for(var m=[],g=0;g<d.length;g++){var y=e(d,g,d[g],p+1)||i.stringify(null);m.push(h+n+y)}return"["+m.join(",")+h+"]"}if(-1!==c.indexOf(d)){if(s)return i.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}c.push(d);var v=o(d).sort(l&&l(d));for(m=[],g=0;g<v.length;g++){var _=e(d,a=v[g],d[a],p+1);if(_){var b=i.stringify(a)+f+_;m.push(h+n+b)}}return c.splice(c.indexOf(d),1),"{"+m.join(",")+h+"}"}}({"":e},"",e,0)};var r=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},o=Object.keys||function(e){var t=Object.prototype.hasOwnProperty||function(){return!0},n=[];for(var i in e)t.call(e,i)&&n.push(i);return n}},{jsonify:500}],499:[function(e,t,n){(function(e){(function(){var i="function"==typeof define&&define.amd,r={function:!0,object:!0},o=r[typeof n]&&n&&!n.nodeType&&n,a=r[typeof window]&&window||this,s=o&&r[typeof t]&&t&&!t.nodeType&&"object"==typeof e&&e;function u(e,t){e||(e=a.Object()),t||(t=a.Object());var n=e.Number||a.Number,i=e.String||a.String,o=e.Object||a.Object,s=e.Date||a.Date,l=e.SyntaxError||a.SyntaxError,c=e.TypeError||a.TypeError,d=e.Math||a.Math,p=e.JSON||a.JSON;"object"==typeof p&&p&&(t.stringify=p.stringify,t.parse=p.parse);var h,f,m,g=o.prototype,y=g.toString,v=new s(-0xc782b5b800cec);try{v=-109252==v.getUTCFullYear()&&0===v.getUTCMonth()&&1===v.getUTCDate()&&10==v.getUTCHours()&&37==v.getUTCMinutes()&&6==v.getUTCSeconds()&&708==v.getUTCMilliseconds()}catch(e){}function _(e){if(_[e]!==m)return _[e];var r;if("bug-string-char-index"==e)r="a"!="a"[0];else if("json"==e)r=_("json-stringify")&&_("json-parse");else{var o,a='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var u=t.stringify,l="function"==typeof u&&v;if(l){(o=function(){return 1}).toJSON=o;try{l="0"===u(0)&&"0"===u(new n)&&'""'==u(new i)&&u(y)===m&&u(m)===m&&u()===m&&"1"===u(o)&&"[1]"==u([o])&&"[null]"==u([m])&&"null"==u(null)&&"[null,null,null]"==u([m,y,null])&&u({a:[o,!0,!1,null,"\0\b\n\f\r\t"]})==a&&"1"===u(null,o)&&"[\n 1,\n 2\n]"==u([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==u(new s(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==u(new s(864e13))&&'"-000001-01-01T00:00:00.000Z"'==u(new s(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==u(new s(-1))}catch(e){l=!1}}r=l}if("json-parse"==e){var c=t.parse;if("function"==typeof c)try{if(0===c("0")&&!c(!1)){var d=5==(o=c(a)).a.length&&1===o.a[0];if(d){try{d=!c('"\t"')}catch(e){}if(d)try{d=1!==c("01")}catch(e){}if(d)try{d=1!==c("1.")}catch(e){}}}}catch(e){d=!1}r=d}}return _[e]=!!r}if(!_("json")){var b="[object Function]",w="[object Number]",E="[object String]",S="[object Array]",T=_("bug-string-char-index");if(!v)var C=d.floor,x=[0,31,59,90,120,151,181,212,243,273,304,334],A=function(e,t){return x[t]+365*(e-1970)+C((e-1969+(t=+(t>1)))/4)-C((e-1901+t)/100)+C((e-1601+t)/400)};if((h=g.hasOwnProperty)||(h=function(e){var t,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=y?h=function(e){var t=this.__proto__,n=e in(this.__proto__=null,this);return this.__proto__=t,n}:(t=n.constructor,h=function(e){var n=(this.constructor||t).prototype;return e in this&&!(e in n&&this[e]===n[e])}),n=null,h.call(this,e)}),f=function(e,t){var n,i,o,a=0;for(o in(n=function(){this.valueOf=0}).prototype.valueOf=0,i=new n)h.call(i,o)&&a++;return n=i=null,a?f=2==a?function(e,t){var n,i={},r=y.call(e)==b;for(n in e)r&&"prototype"==n||h.call(i,n)||!(i[n]=1)||!h.call(e,n)||t(n)}:function(e,t){var n,i,r=y.call(e)==b;for(n in e)r&&"prototype"==n||!h.call(e,n)||(i="constructor"===n)||t(n);(i||h.call(e,n="constructor"))&&t(n)}:(i=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],f=function(e,t){var n,o,a=y.call(e)==b,s=!a&&"function"!=typeof e.constructor&&r[typeof e.hasOwnProperty]&&e.hasOwnProperty||h;for(n in e)a&&"prototype"==n||!s.call(e,n)||t(n);for(o=i.length;n=i[--o];s.call(e,n)&&t(n));}),f(e,t)},!_("json-stringify")){var k={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},I=function(e,t){return("000000"+(t||0)).slice(-e)},D=function(e){for(var t='"',n=0,i=e.length,r=!T||i>10,o=r&&(T?e.split(""):e);n<i;n++){var a=e.charCodeAt(n);switch(a){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=k[a];break;default:if(a<32){t+="\\u00"+I(2,a.toString(16));break}t+=r?o[n]:e.charAt(n)}}return t+'"'},O=function(e,t,n,i,r,o,a){var s,u,l,d,p,g,v,_,b,T,x,k,P,N,R,L;try{s=t[e]}catch(e){}if("object"==typeof s&&s)if("[object Date]"!=(u=y.call(s))||h.call(s,"toJSON"))"function"==typeof s.toJSON&&(u!=w&&u!=E&&u!=S||h.call(s,"toJSON"))&&(s=s.toJSON(e));else if(s>-1/0&&s<1/0){if(A){for(p=C(s/864e5),l=C(p/365.2425)+1970-1;A(l+1,0)<=p;l++);for(d=C((p-A(l,0))/30.42);A(l,d+1)<=p;d++);p=1+p-A(l,d),v=C((g=(s%864e5+864e5)%864e5)/36e5)%24,_=C(g/6e4)%60,b=C(g/1e3)%60,T=g%1e3}else l=s.getUTCFullYear(),d=s.getUTCMonth(),p=s.getUTCDate(),v=s.getUTCHours(),_=s.getUTCMinutes(),b=s.getUTCSeconds(),T=s.getUTCMilliseconds();s=(l<=0||l>=1e4?(l<0?"-":"+")+I(6,l<0?-l:l):I(4,l))+"-"+I(2,d+1)+"-"+I(2,p)+"T"+I(2,v)+":"+I(2,_)+":"+I(2,b)+"."+I(3,T)+"Z"}else s=null;if(n&&(s=n.call(t,e,s)),null===s)return"null";if("[object Boolean]"==(u=y.call(s)))return""+s;if(u==w)return s>-1/0&&s<1/0?""+s:"null";if(u==E)return D(""+s);if("object"==typeof s){for(N=a.length;N--;)if(a[N]===s)throw c();if(a.push(s),x=[],R=o,o+=r,u==S){for(P=0,N=s.length;P<N;P++)k=O(P,s,n,i,r,o,a),x.push(k===m?"null":k);L=x.length?r?"[\n"+o+x.join(",\n"+o)+"\n"+R+"]":"["+x.join(",")+"]":"[]"}else f(i||s,(function(e){var t=O(e,s,n,i,r,o,a);t!==m&&x.push(D(e)+":"+(r?" ":"")+t)})),L=x.length?r?"{\n"+o+x.join(",\n"+o)+"\n"+R+"}":"{"+x.join(",")+"}":"{}";return a.pop(),L}};t.stringify=function(e,t,n){var i,o,a,s;if(r[typeof t]&&t)if((s=y.call(t))==b)o=t;else if(s==S){a={};for(var u,l=0,c=t.length;l<c;u=t[l++],((s=y.call(u))==E||s==w)&&(a[u]=1));}if(n)if((s=y.call(n))==w){if((n-=n%1)>0)for(i="",n>10&&(n=10);i.length<n;i+=" ");}else s==E&&(i=n.length<=10?n:n.slice(0,10));return O("",((u={})[""]=e,u),o,a,i,"",[])}}if(!_("json-parse")){var P,N,R=i.fromCharCode,L={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},M=function(){throw P=N=null,l()},F=function(){for(var e,t,n,i,r,o=N,a=o.length;P<a;)switch(r=o.charCodeAt(P)){case 9:case 10:case 13:case 32:P++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=T?o.charAt(P):o[P],P++,e;case 34:for(e="@",P++;P<a;)if((r=o.charCodeAt(P))<32)M();else if(92==r)switch(r=o.charCodeAt(++P)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=L[r],P++;break;case 117:for(t=++P,n=P+4;P<n;P++)(r=o.charCodeAt(P))>=48&&r<=57||r>=97&&r<=102||r>=65&&r<=70||M();e+=R("0x"+o.slice(t,P));break;default:M()}else{if(34==r)break;for(r=o.charCodeAt(P),t=P;r>=32&&92!=r&&34!=r;)r=o.charCodeAt(++P);e+=o.slice(t,P)}if(34==o.charCodeAt(P))return P++,e;M();default:if(t=P,45==r&&(i=!0,r=o.charCodeAt(++P)),r>=48&&r<=57){for(48==r&&((r=o.charCodeAt(P+1))>=48&&r<=57)&&M(),i=!1;P<a&&((r=o.charCodeAt(P))>=48&&r<=57);P++);if(46==o.charCodeAt(P)){for(n=++P;n<a&&((r=o.charCodeAt(n))>=48&&r<=57);n++);n==P&&M(),P=n}if(101==(r=o.charCodeAt(P))||69==r){for(43!=(r=o.charCodeAt(++P))&&45!=r||P++,n=P;n<a&&((r=o.charCodeAt(n))>=48&&r<=57);n++);n==P&&M(),P=n}return+o.slice(t,P)}if(i&&M(),"true"==o.slice(P,P+4))return P+=4,!0;if("false"==o.slice(P,P+5))return P+=5,!1;if("null"==o.slice(P,P+4))return P+=4,null;M()}return"$"},j=function(e){var t,n;if("$"==e&&M(),"string"==typeof e){if("@"==(T?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];"]"!=(e=F());n||(n=!0))n&&(","==e?"]"==(e=F())&&M():M()),","==e&&M(),t.push(j(e));return t}if("{"==e){for(t={};"}"!=(e=F());n||(n=!0))n&&(","==e?"}"==(e=F())&&M():M()),","!=e&&"string"==typeof e&&"@"==(T?e.charAt(0):e[0])&&":"==F()||M(),t[e.slice(1)]=j(F());return t}M()}return e},B=function(e,t,n){var i=U(e,t,n);i===m?delete e[t]:e[t]=i},U=function(e,t,n){var i,r=e[t];if("object"==typeof r&&r)if(y.call(r)==S)for(i=r.length;i--;)B(r,i,n);else f(r,(function(e){B(r,e,n)}));return n.call(e,t,r)};t.parse=function(e,t){var n,i;return P=0,N=""+e,n=j(F()),"$"!=F()&&M(),P=N=null,t&&y.call(t)==b?U(((i={})[""]=n,i),"",t):n}}}return t.runInContext=u,t}if(!s||s.global!==s&&s.window!==s&&s.self!==s||(a=s),o&&!i)u(a,o);else{var l=a.JSON,c=a.JSON3,d=!1,p=u(a,a.JSON3={noConflict:function(){return d||(d=!0,a.JSON=l,a.JSON3=c,l=c=null),p}});a.JSON={parse:p.parse,stringify:p.stringify}}i&&define((function(){return p}))}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],500:[function(e,t,n){n.parse=e("./lib/parse"),n.stringify=e("./lib/stringify")},{"./lib/parse":501,"./lib/stringify":502}],501:[function(e,t,n){var i,r,o,a,s={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},u=function(e){throw{name:"SyntaxError",message:e,at:i,text:o}},l=function(e){return e&&e!==r&&u("Expected '"+e+"' instead of '"+r+"'"),r=o.charAt(i),i+=1,r},c=function(){var e,t="";for("-"===r&&(t="-",l("-"));r>="0"&&r<="9";)t+=r,l();if("."===r)for(t+=".";l()&&r>="0"&&r<="9";)t+=r;if("e"===r||"E"===r)for(t+=r,l(),"-"!==r&&"+"!==r||(t+=r,l());r>="0"&&r<="9";)t+=r,l();if(e=+t,isFinite(e))return e;u("Bad number")},d=function(){var e,t,n,i="";if('"'===r)for(;l();){if('"'===r)return l(),i;if("\\"===r)if(l(),"u"===r){for(n=0,t=0;t<4&&(e=parseInt(l(),16),isFinite(e));t+=1)n=16*n+e;i+=String.fromCharCode(n)}else{if("string"!=typeof s[r])break;i+=s[r]}else i+=r}u("Bad string")},p=function(){for(;r&&r<=" ";)l()};a=function(){switch(p(),r){case"{":return function(){var e,t={};if("{"===r){if(l("{"),p(),"}"===r)return l("}"),t;for(;r;){if(e=d(),p(),l(":"),Object.hasOwnProperty.call(t,e)&&u('Duplicate key "'+e+'"'),t[e]=a(),p(),"}"===r)return l("}"),t;l(","),p()}}u("Bad object")}();case"[":return function(){var e=[];if("["===r){if(l("["),p(),"]"===r)return l("]"),e;for(;r;){if(e.push(a()),p(),"]"===r)return l("]"),e;l(","),p()}}u("Bad array")}();case'"':return d();case"-":return c();default:return r>="0"&&r<="9"?c():function(){switch(r){case"t":return l("t"),l("r"),l("u"),l("e"),!0;case"f":return l("f"),l("a"),l("l"),l("s"),l("e"),!1;case"n":return l("n"),l("u"),l("l"),l("l"),null}u("Unexpected '"+r+"'")}()}},t.exports=function(e,t){var n;return o=e,i=0,r=" ",n=a(),p(),r&&u("Syntax error"),"function"==typeof t?function e(n,i){var r,o,a=n[i];if(a&&"object"==typeof a)for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(void 0!==(o=e(a,r))?a[r]=o:delete a[r]);return t.call(n,i,a)}({"":n},""):n}},{}],502:[function(e,t,n){var i,r,o,a=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function u(e){return a.lastIndex=0,a.test(e)?'"'+e.replace(a,(function(e){var t=s[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}function l(e,t){var n,a,s,c,d,p=i,h=t[e];switch(h&&"object"==typeof h&&"function"==typeof h.toJSON&&(h=h.toJSON(e)),"function"==typeof o&&(h=o.call(t,e,h)),typeof h){case"string":return u(h);case"number":return isFinite(h)?String(h):"null";case"boolean":case"null":return String(h);case"object":if(!h)return"null";if(i+=r,d=[],"[object Array]"===Object.prototype.toString.apply(h)){for(c=h.length,n=0;n<c;n+=1)d[n]=l(n,h)||"null";return s=0===d.length?"[]":i?"[\n"+i+d.join(",\n"+i)+"\n"+p+"]":"["+d.join(",")+"]",i=p,s}if(o&&"object"==typeof o)for(c=o.length,n=0;n<c;n+=1)"string"==typeof(a=o[n])&&(s=l(a,h))&&d.push(u(a)+(i?": ":":")+s);else for(a in h)Object.prototype.hasOwnProperty.call(h,a)&&(s=l(a,h))&&d.push(u(a)+(i?": ":":")+s);return s=0===d.length?"{}":i?"{\n"+i+d.join(",\n"+i)+"\n"+p+"}":"{"+d.join(",")+"}",i=p,s}}t.exports=function(e,t,n){var a;if(i="",r="","number"==typeof n)for(a=0;a<n;a+=1)r+=" ";else"string"==typeof n&&(r=n);if(o=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return l("",{"":e})}},{}],503:[function(e,t,n){function i(e){if(e&&"object"==typeof e){var t=e.which||e.keyCode||e.charCode;t&&(e=t)}if("number"==typeof e)return s[e];var n,i=String(e);return(n=r[i.toLowerCase()])?n:(n=o[i.toLowerCase()])||(1===i.length?i.charCodeAt(0):void 0)}i.isEventKey=function(e,t){if(e&&"object"==typeof e){var n=e.which||e.keyCode||e.charCode;if(null==n)return!1;if("string"==typeof t){var i;if(i=r[t.toLowerCase()])return i===n;if(i=o[t.toLowerCase()])return i===n}else if("number"==typeof t)return t===n;return!1}};var r=(n=t.exports=i).code=n.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},o=n.aliases={windows:91,"":16,"":18,"":17,"":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};
/*!
 * Programatically add the following
 */
for(a=97;a<123;a++)r[String.fromCharCode(a)]=a-32;for(var a=48;a<58;a++)r[a-48]=a;for(a=1;a<13;a++)r["f"+a]=a+111;for(a=0;a<10;a++)r["numpad "+a]=a+96;var s=n.names=n.title={};for(a in r)s[r[a]]=a;for(var u in o)r[u]=o[u]},{}],504:[function(e,t,n){(function(e){(function(){var i,r,o,a=32,s=64,u=128,l=256,c=200,d="Expected a function",p="__lodash_placeholder__",h="[object Arguments]",f="[object Array]",m="[object Boolean]",g="[object Date]",y="[object Error]",v="[object Function]",_="[object Map]",b="[object Number]",w="[object Object]",E="[object RegExp]",S="[object Set]",T="[object String]",C="[object WeakMap]",x="[object ArrayBuffer]",A="[object Float32Array]",k="[object Float64Array]",I="[object Int8Array]",D="[object Int16Array]",O="[object Int32Array]",P="[object Uint8Array]",N="[object Uint8ClampedArray]",R="[object Uint16Array]",L="[object Uint32Array]",M=/\b__p \+= '';/g,F=/\b(__p \+=) '' \+/g,j=/(__e\(.*?\)|\b__t\)) \+\n'';/g,B=/&(?:amp|lt|gt|quot|#39|#96);/g,U=/[&<>"'`]/g,H=RegExp(B.source),$=RegExp(U.source),G=/<%-([\s\S]+?)%>/g,q=/<%([\s\S]+?)%>/g,V=/<%=([\s\S]+?)%>/g,z=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,W=/^\w*$/,K=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,Y=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,J=RegExp(Y.source),X=/[\u0300-\u036f\ufe20-\ufe23]/g,Q=/\\(\\)?/g,Z=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ee=/\w*$/,te=/^0[xX]/,ne=/^\[object .+?Constructor\]$/,ie=/^\d+$/,re=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,oe=/($^)/,ae=/['\n\r\u2028\u2029\\]/g,se=(r="[A-Z\\xc0-\\xd6\\xd8-\\xde]",o="[a-z\\xdf-\\xf6\\xf8-\\xff]+",RegExp(r+"+(?="+r+o+")|"+r+"?"+o+"|"+r+"+|[0-9]+","g")),ue=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],le=-1,ce={};ce[A]=ce[k]=ce[I]=ce[D]=ce[O]=ce[P]=ce[N]=ce[R]=ce[L]=!0,ce[h]=ce[f]=ce[x]=ce[m]=ce[g]=ce[y]=ce[v]=ce[_]=ce[b]=ce[w]=ce[E]=ce[S]=ce[T]=ce[C]=!1;var de={};de[h]=de[f]=de[x]=de[m]=de[g]=de[A]=de[k]=de[I]=de[D]=de[O]=de[b]=de[w]=de[E]=de[T]=de[P]=de[N]=de[R]=de[L]=!0,de[y]=de[v]=de[_]=de[S]=de[C]=!1;var pe={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss"},he={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},fe={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},me={function:!0,object:!0},ge={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},ye={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ve=me[typeof n]&&n&&!n.nodeType&&n,_e=me[typeof t]&&t&&!t.nodeType&&t,be=ve&&_e&&"object"==typeof e&&e&&e.Object&&e,we=me[typeof self]&&self&&self.Object&&self,Ee=me[typeof window]&&window&&window.Object&&window,Se=_e&&_e.exports===ve&&ve,Te=be||Ee!==(this&&this.window)&&Ee||we||this;function Ce(e,t){if(e!==t){var n=null===e,r=e===i,o=e==e,a=null===t,s=t===i,u=t==t;if(e>t&&!a||!o||n&&!s&&u||r&&u)return 1;if(e<t&&!n||!u||a&&!r&&o||s&&o)return-1}return 0}function xe(e,t,n){for(var i=e.length,r=n?i:-1;n?r--:++r<i;)if(t(e[r],r,e))return r;return-1}function Ae(e,t,n){if(t!=t)return Fe(e,n);for(var i=n-1,r=e.length;++i<r;)if(e[i]===t)return i;return-1}function ke(e){return"function"==typeof e||!1}function Ie(e){return null==e?"":e+""}function De(e,t){for(var n=-1,i=e.length;++n<i&&t.indexOf(e.charAt(n))>-1;);return n}function Oe(e,t){for(var n=e.length;n--&&t.indexOf(e.charAt(n))>-1;);return n}function Pe(e,t){return Ce(e.criteria,t.criteria)||e.index-t.index}function Ne(e){return pe[e]}function Re(e){return he[e]}function Le(e,t,n){return t?e=ge[e]:n&&(e=ye[e]),"\\"+e}function Me(e){return"\\"+ye[e]}function Fe(e,t,n){for(var i=e.length,r=t+(n?0:-1);n?r--:++r<i;){var o=e[r];if(o!=o)return r}return-1}function je(e){return!!e&&"object"==typeof e}function Be(e){return e<=160&&e>=9&&e<=13||32==e||160==e||5760==e||6158==e||e>=8192&&(e<=8202||8232==e||8233==e||8239==e||8287==e||12288==e||65279==e)}function Ue(e,t){for(var n=-1,i=e.length,r=-1,o=[];++n<i;)e[n]===t&&(e[n]=p,o[++r]=n);return o}function He(e){for(var t=-1,n=e.length;++t<n&&Be(e.charCodeAt(t)););return t}function $e(e){for(var t=e.length;t--&&Be(e.charCodeAt(t)););return t}function Ge(e){return fe[e]}var qe=function e(t){var n=(t=t?qe.defaults(Te.Object(),t,qe.pick(Te,ue)):Te).Array,r=t.Date,o=t.Error,_=t.Function,S=t.Math,C=t.Number,pe=t.Object,he=t.RegExp,fe=t.String,me=t.TypeError,ge=n.prototype,ye=pe.prototype,ve=fe.prototype,_e=_.prototype.toString,be=ye.hasOwnProperty,we=0,Ee=ye.toString,Se=Te._,Be=he("^"+_e.call(be).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ve=t.ArrayBuffer,ze=t.clearTimeout,We=t.parseFloat,Ke=S.pow,Ye=ye.propertyIsEnumerable,Je=ui(t,"Set"),Xe=t.setTimeout,Qe=ge.splice,Ze=t.Uint8Array,et=ui(t,"WeakMap"),tt=S.ceil,nt=ui(pe,"create"),it=S.floor,rt=ui(n,"isArray"),ot=t.isFinite,at=ui(pe,"keys"),st=S.max,ut=S.min,lt=ui(r,"now"),ct=t.parseInt,dt=S.random,pt=C.NEGATIVE_INFINITY,ht=C.POSITIVE_INFINITY,ft=4294967295,mt=9007199254740991,gt=et&&new et,yt={};function vt(e){if(je(e)&&!Fr(e)&&!(e instanceof wt)){if(e instanceof bt)return e;if(be.call(e,"__chain__")&&be.call(e,"__wrapped__"))return Ai(e)}return new bt(e)}function _t(){}function bt(e,t,n){this.__wrapped__=e,this.__actions__=n||[],this.__chain__=!!t}function wt(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ht,this.__views__=[]}function Et(){this.__data__={}}function St(e){var t=e?e.length:0;for(this.data={hash:nt(null),set:new Je};t--;)this.push(e[t])}function Tt(e,t){var n=e.data;return("string"==typeof t||Hr(t)?n.set.has(t):n.hash[t])?0:-1}function Ct(e,t){var i=-1,r=e.length;for(t||(t=n(r));++i<r;)t[i]=e[i];return t}function xt(e,t){for(var n=-1,i=e.length;++n<i&&!1!==t(e[n],n,e););return e}function At(e,t){for(var n=-1,i=e.length;++n<i;)if(!t(e[n],n,e))return!1;return!0}function kt(e,t){for(var n=-1,i=e.length,r=-1,o=[];++n<i;){var a=e[n];t(a,n,e)&&(o[++r]=a)}return o}function It(e,t){for(var i=-1,r=e.length,o=n(r);++i<r;)o[i]=t(e[i],i,e);return o}function Dt(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}function Ot(e,t,n,i){var r=-1,o=e.length;for(i&&o&&(n=e[++r]);++r<o;)n=t(n,e[r],r,e);return n}function Pt(e,t){for(var n=-1,i=e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}function Nt(e,t,n,r){return e!==i&&be.call(r,n)?e:t}function Rt(e,t,n){for(var r=-1,o=uo(t),a=o.length;++r<a;){var s=o[r],u=e[s],l=n(u,t[s],s,e,t);((l==l?l!==u:u==u)||u===i&&!(s in e))&&(e[s]=l)}return e}function Lt(e,t){return null==t?e:Ft(t,uo(t),e)}function Mt(e,t){for(var r=-1,o=null==e,a=!o&&ci(e),s=a?e.length:0,u=t.length,l=n(u);++r<u;){var c=t[r];l[r]=a?di(c,s)?e[c]:i:o?i:e[c]}return l}function Ft(e,t,n){n||(n={});for(var i=-1,r=t.length;++i<r;){var o=t[i];n[o]=e[o]}return n}function jt(e,t,n){var r=typeof e;return"function"==r?t===i?e:Sn(e,t,n):null==e?Io:"object"==r?an(e):t===i?Lo(e):sn(e,t)}function Bt(e,t,n,r,o,a,s){var u;if(n&&(u=o?n(e,r,o):n(e)),u!==i)return u;if(!Hr(e))return e;var l=Fr(e);if(l){if(u=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&be.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!t)return Ct(e,u)}else{var c=Ee.call(e),d=c==v;if(c!=w&&c!=h&&(!d||o))return de[c]?function(e,t,n){var i=e.constructor;switch(t){case x:return Tn(e);case m:case g:return new i(+e);case A:case k:case I:case D:case O:case P:case N:case R:case L:var r=e.buffer;return new i(n?Tn(r):r,e.byteOffset,e.length);case b:case T:return new i(e);case E:var o=new i(e.source,ee.exec(e));o.lastIndex=e.lastIndex}return o}(e,c,t):o?e:{};if(u=function(e){var t=e.constructor;"function"==typeof t&&t instanceof t||(t=pe);return new t}(d?{}:e),!t)return Lt(u,e)}a||(a=[]),s||(s=[]);for(var p=a.length;p--;)if(a[p]==e)return s[p];return a.push(e),s.push(u),(l?xt:Qt)(e,(function(i,r){u[r]=Bt(i,t,n,r,e,a,s)})),u}vt.support={},vt.templateSettings={escape:G,evaluate:q,interpolate:V,variable:"",imports:{_:vt}};var Ut=function(){function e(){}return function(t){if(Hr(t)){e.prototype=t;var n=new e;e.prototype=i}return n||{}}}();function Ht(e,t,n){if("function"!=typeof e)throw new me(d);return Xe((function(){e.apply(i,n)}),t)}function $t(e,t){var n=e?e.length:0,i=[];if(!n)return i;var r=-1,o=oi(),a=o==Ae,s=a&&t.length>=c?On(t):null,u=t.length;s&&(o=Tt,a=!1,t=s);e:for(;++r<n;){var l=e[r];if(a&&l==l){for(var d=u;d--;)if(t[d]===l)continue e;i.push(l)}else o(t,l,0)<0&&i.push(l)}return i}var Gt=In(Qt),qt=In(Zt,!0);function Vt(e,t){var n=!0;return Gt(e,(function(e,i,r){return n=!!t(e,i,r)})),n}function zt(e,t){var n=[];return Gt(e,(function(e,i,r){t(e,i,r)&&n.push(e)})),n}function Wt(e,t,n,i){var r;return n(e,(function(e,n,o){if(t(e,n,o))return r=i?n:e,!1})),r}function Kt(e,t,n,i){i||(i=[]);for(var r=-1,o=e.length;++r<o;){var a=e[r];je(a)&&ci(a)&&(n||Fr(a)||Mr(a))?t?Kt(a,t,n,i):Dt(i,a):n||(i[i.length]=a)}return i}var Yt=Dn(),Jt=Dn(!0);function Xt(e,t){return Yt(e,t,lo)}function Qt(e,t){return Yt(e,t,uo)}function Zt(e,t){return Jt(e,t,uo)}function en(e,t){for(var n=-1,i=t.length,r=-1,o=[];++n<i;){var a=t[n];Ur(e[a])&&(o[++r]=a)}return o}function tn(e,t,n){if(null!=e){n!==i&&n in Ci(e)&&(t=[n]);for(var r=0,o=t.length;null!=e&&r<o;)e=e[t[r++]];return r&&r==o?e:i}}function nn(e,t,n,i,r,o){return e===t||(null==e||null==t||!Hr(e)&&!je(t)?e!=e&&t!=t:function(e,t,n,i,r,o,a){var s=Fr(e),u=Fr(t),l=f,c=f;s||((l=Ee.call(e))==h?l=w:l!=w&&(s=Wr(e)));u||((c=Ee.call(t))==h?c=w:c!=w&&(u=Wr(t)));var d=l==w,p=c==w,v=l==c;if(v&&!s&&!d)return function(e,t,n){switch(n){case m:case g:return+e==+t;case y:return e.name==t.name&&e.message==t.message;case b:return e!=+e?t!=+t:e==+t;case E:case T:return e==t+""}return!1}(e,t,l);if(!r){var _=d&&be.call(e,"__wrapped__"),S=p&&be.call(t,"__wrapped__");if(_||S)return n(_?e.value():e,S?t.value():t,i,r,o,a)}if(!v)return!1;o||(o=[]),a||(a=[]);var C=o.length;for(;C--;)if(o[C]==e)return a[C]==t;o.push(e),a.push(t);var x=(s?ei:ti)(e,t,n,i,r,o,a);return o.pop(),a.pop(),x}(e,t,nn,n,i,r,o))}function rn(e,t,n){var r=t.length,o=r,a=!n;if(null==e)return!o;for(e=Ci(e);r--;){var s=t[r];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++r<o;){var u=(s=t[r])[0],l=e[u],c=s[1];if(a&&s[2]){if(l===i&&!(u in e))return!1}else{var d=n?n(l,c,u):i;if(!(d===i?nn(c,l,n,!0):d))return!1}}return!0}function on(e,t){var i=-1,r=ci(e)?n(e.length):[];return Gt(e,(function(e,n,o){r[++i]=t(e,n,o)})),r}function an(e){var t=si(e);if(1==t.length&&t[0][2]){var n=t[0][0],r=t[0][1];return function(e){return null!=e&&(e[n]===r&&(r!==i||n in Ci(e)))}}return function(e){return rn(e,t)}}function sn(e,t){var n=Fr(e),r=hi(e)&&gi(t),o=e+"";return e=xi(e),function(a){if(null==a)return!1;var s=o;if(a=Ci(a),(n||!r)&&!(s in a)){if(null==(a=1==e.length?a:tn(a,hn(e,0,-1))))return!1;s=Mi(e),a=Ci(a)}return a[s]===t?t!==i||s in a:nn(t,a[s],i,!0)}}function un(e){return function(t){return null==t?i:t[e]}}function ln(e,t){for(var n=e?t.length:0;n--;){var i=t[n];if(i!=r&&di(i)){var r=i;Qe.call(e,i,1)}}return e}function cn(e,t){return e+it(dt()*(t-e+1))}function dn(e,t,n,i,r){return r(e,(function(e,r,o){n=i?(i=!1,e):t(n,e,r,o)})),n}var pn=gt?function(e,t){return gt.set(e,t),e}:Io;function hn(e,t,r){var o=-1,a=e.length;(t=null==t?0:+t||0)<0&&(t=-t>a?0:a+t),(r=r===i||r>a?a:+r||0)<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var s=n(a);++o<a;)s[o]=e[o+t];return s}function fn(e,t){var n;return Gt(e,(function(e,i,r){return!(n=t(e,i,r))})),!!n}function mn(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function gn(e,t,n){var i=ni(),r=-1;return t=It(t,(function(e){return i(e)})),mn(on(e,(function(e){return{criteria:It(t,(function(t){return t(e)})),index:++r,value:e}})),(function(e,t){return function(e,t,n){for(var i=-1,r=e.criteria,o=t.criteria,a=r.length,s=n.length;++i<a;){var u=Ce(r[i],o[i]);if(u){if(i>=s)return u;var l=n[i];return u*("asc"===l||!0===l?1:-1)}}return e.index-t.index}(e,t,n)}))}function yn(e,t){var n=-1,i=oi(),r=e.length,o=i==Ae,a=o&&r>=c,s=a?On():null,u=[];s?(i=Tt,o=!1):(a=!1,s=t?[]:u);e:for(;++n<r;){var l=e[n],d=t?t(l,n,e):l;if(o&&l==l){for(var p=s.length;p--;)if(s[p]===d)continue e;t&&s.push(d),u.push(l)}else i(s,d,0)<0&&((t||a)&&s.push(d),u.push(l))}return u}function vn(e,t){for(var i=-1,r=t.length,o=n(r);++i<r;)o[i]=e[t[i]];return o}function _n(e,t,n,i){for(var r=e.length,o=i?r:-1;(i?o--:++o<r)&&t(e[o],o,e););return n?hn(e,i?0:o,i?o+1:r):hn(e,i?o+1:0,i?r:o)}function bn(e,t){var n=e;n instanceof wt&&(n=n.value());for(var i=-1,r=t.length;++i<r;){var o=t[i];n=o.func.apply(o.thisArg,Dt([n],o.args))}return n}function wn(e,t,n){var i=0,r=e?e.length:i;if("number"==typeof t&&t==t&&r<=2147483647){for(;i<r;){var o=i+r>>>1,a=e[o];(n?a<=t:a<t)&&null!==a?i=o+1:r=o}return r}return En(e,t,Io,n)}function En(e,t,n,r){t=n(t);for(var o=0,a=e?e.length:0,s=t!=t,u=null===t,l=t===i;o<a;){var c=it((o+a)/2),d=n(e[c]),p=d!==i,h=d==d;if(s)var f=h||r;else f=u?h&&p&&(r||null!=d):l?h&&(r||p):null!=d&&(r?d<=t:d<t);f?o=c+1:a=c}return ut(a,4294967294)}function Sn(e,t,n){if("function"!=typeof e)return Io;if(t===i)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,i,r){return e.call(t,n,i,r)};case 4:return function(n,i,r,o){return e.call(t,n,i,r,o)};case 5:return function(n,i,r,o,a){return e.call(t,n,i,r,o,a)}}return function(){return e.apply(t,arguments)}}function Tn(e){var t=new Ve(e.byteLength);return new Ze(t).set(new Ze(e)),t}function Cn(e,t,i){for(var r=i.length,o=-1,a=st(e.length-r,0),s=-1,u=t.length,l=n(u+a);++s<u;)l[s]=t[s];for(;++o<r;)l[i[o]]=e[o];for(;a--;)l[s++]=e[o++];return l}function xn(e,t,i){for(var r=-1,o=i.length,a=-1,s=st(e.length-o,0),u=-1,l=t.length,c=n(s+l);++a<s;)c[a]=e[a];for(var d=a;++u<l;)c[d+u]=t[u];for(;++r<o;)c[d+i[r]]=e[a++];return c}function An(e,t){return function(n,i,r){var o=t?t():{};if(i=ni(i,r,3),Fr(n))for(var a=-1,s=n.length;++a<s;){var u=n[a];e(o,u,i(u,a,n),n)}else Gt(n,(function(t,n,r){e(o,t,i(t,n,r),r)}));return o}}function kn(e){return Rr((function(t,n){var r=-1,o=null==t?0:n.length,a=o>2?n[o-2]:i,s=o>2?n[2]:i,u=o>1?n[o-1]:i;for("function"==typeof a?(a=Sn(a,u,5),o-=2):o-=(a="function"==typeof u?u:i)?1:0,s&&pi(n[0],n[1],s)&&(a=o<3?i:a,o=1);++r<o;){var l=n[r];l&&e(t,l,a)}return t}))}function In(e,t){return function(n,i){var r=n?ai(n):0;if(!mi(r))return e(n,i);for(var o=t?r:-1,a=Ci(n);(t?o--:++o<r)&&!1!==i(a[o],o,a););return n}}function Dn(e){return function(t,n,i){for(var r=Ci(t),o=i(t),a=o.length,s=e?a:-1;e?s--:++s<a;){var u=o[s];if(!1===n(r[u],u,r))break}return t}}function On(e){return nt&&Je?new St(e):null}function Pn(e){return function(t){for(var n=-1,i=xo(vo(t)),r=i.length,o="";++n<r;)o=e(o,i[n],n);return o}}function Nn(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Ut(e.prototype),i=e.apply(n,t);return Hr(i)?i:n}}function Rn(e){return function t(n,r,o){o&&pi(n,r,o)&&(r=i);var a=Zn(n,e,i,i,i,i,i,r);return a.placeholder=t.placeholder,a}}function Ln(e,t){return Rr((function(n){var r=n[0];return null==r?r:(n.push(t),e.apply(i,n))}))}function Mn(e,t){return function(n,r,o){if(o&&pi(n,r,o)&&(r=i),1==(r=ni(r,o,3)).length){var a=function(e,t,n,i){for(var r=-1,o=e.length,a=i,s=a;++r<o;){var u=e[r],l=+t(u);n(l,a)&&(a=l,s=u)}return s}(n=Fr(n)?n:Ti(n),r,e,t);if(!n.length||a!==t)return a}return function(e,t,n,i){var r=i,o=r;return Gt(e,(function(e,a,s){var u=+t(e,a,s);(n(u,r)||u===i&&u===o)&&(r=u,o=e)})),o}(n,r,e,t)}}function Fn(e,t){return function(n,r,o){if(r=ni(r,o,3),Fr(n)){var a=xe(n,r,t);return a>-1?n[a]:i}return Wt(n,r,e)}}function jn(e){return function(t,n,i){return t&&t.length?xe(t,n=ni(n,i,3),e):-1}}function Bn(e){return function(t,n,i){return Wt(t,n=ni(n,i,3),e,!0)}}function Un(e){return function(){for(var t,r=arguments.length,o=e?r:-1,a=0,s=n(r);e?o--:++o<r;){var u=s[a++]=arguments[o];if("function"!=typeof u)throw new me(d);!t&&bt.prototype.thru&&"wrapper"==ri(u)&&(t=new bt([],!0))}for(o=t?-1:r;++o<r;){var l=ri(u=s[o]),p="wrapper"==l?ii(u):i;t=p&&fi(p[0])&&424==p[1]&&!p[4].length&&1==p[9]?t[ri(p[0])].apply(t,p[3]):1==u.length&&fi(u)?t[l]():t.thru(u)}return function(){var e=arguments,n=e[0];if(t&&1==e.length&&Fr(n)&&n.length>=c)return t.plant(n).value();for(var i=0,o=r?s[i].apply(this,e):n;++i<r;)o=s[i].call(this,o);return o}}}function Hn(e,t){return function(n,r,o){return"function"==typeof r&&o===i&&Fr(n)?e(n,r):t(n,Sn(r,o,3))}}function $n(e){return function(t,n,r){return"function"==typeof n&&r===i||(n=Sn(n,r,3)),e(t,n,lo)}}function Gn(e){return function(t,n,r){return"function"==typeof n&&r===i||(n=Sn(n,r,3)),e(t,n)}}function qn(e){return function(t,n,i){var r={};return n=ni(n,i,3),Qt(t,(function(t,i,o){var a=n(t,i,o);t=e?t:a,r[i=e?a:i]=t})),r}}function Vn(e){return function(t,n,i){return t=Ie(t),(e?t:"")+Yn(t,n,i)+(e?"":t)}}function zn(e){var t=Rr((function(n,r){var o=Ue(r,t.placeholder);return Zn(n,e,i,r,o)}));return t}function Wn(e,t){return function(n,r,o,a){var s=arguments.length<3;return"function"==typeof r&&a===i&&Fr(n)?e(n,r,o,s):dn(n,ni(r,a,4),o,s,t)}}function Kn(e,t,r,o,l,c,d,p,h,f){var m=t&u,g=1&t,y=2&t,v=8&t,_=4&t,b=16&t,w=y?i:Nn(e);return function u(){for(var E=arguments.length,S=E,T=n(E);S--;)T[S]=arguments[S];if(o&&(T=Cn(T,o,l)),c&&(T=xn(T,c,d)),v||b){var C=u.placeholder,x=Ue(T,C);if((E-=x.length)<f){var A=p?Ct(p):i,k=st(f-E,0),I=v?x:i,D=v?i:x,O=v?T:i,P=v?i:T;t|=v?a:s,t&=~(v?s:a),_||(t&=-4);var N=[e,t,r,O,I,P,D,A,h,k],R=Kn.apply(i,N);return fi(e)&&Ei(R,N),R.placeholder=C,R}}var L=g?r:this,M=y?L[e]:e;return p&&(T=_i(T,p)),m&&h<T.length&&(T.length=h),this&&this!==Te&&this instanceof u&&(M=w||Nn(e)),M.apply(L,T)}}function Yn(e,t,n){var i=e.length;if(i>=(t=+t)||!ot(t))return"";var r=t-i;return Eo(n=null==n?" ":n+"",tt(r/n.length)).slice(0,r)}function Jn(e,t,i,r){var o=1&t,a=Nn(e);return function t(){for(var s=-1,u=arguments.length,l=-1,c=r.length,d=n(c+u);++l<c;)d[l]=r[l];for(;u--;)d[l++]=arguments[++s];var p=this&&this!==Te&&this instanceof t?a:e;return p.apply(o?i:this,d)}}function Xn(e){var t=S[e];return function(e,n){return(n=n===i?0:+n||0)?(n=Ke(10,n),t(e*n)/n):t(e)}}function Qn(e){return function(t,n,i,r){var o=ni(i);return null==i&&o===jt?wn(t,n,e):En(t,n,o(i,r,1),e)}}function Zn(e,t,n,r,o,c,h,f){var m=2&t;if(!m&&"function"!=typeof e)throw new me(d);var g=r?r.length:0;if(g||(t&=-97,r=o=i),g-=o?o.length:0,t&s){var y=r,v=o;r=o=i}var _=m?i:ii(e),b=[e,t,n,r,o,y,v,c,h,f];if(_&&(!function(e,t){var n=e[1],i=t[1],r=n|i,o=r<u,a=i==u&&8==n||i==u&&n==l&&e[7].length<=t[8]||384==i&&8==n;if(!o&&!a)return e;1&i&&(e[2]=t[2],r|=1&n?0:4);var s=t[3];if(s){var c=e[3];e[3]=c?Cn(c,s,t[4]):Ct(s),e[4]=c?Ue(e[3],p):Ct(t[4])}(s=t[5])&&(c=e[5],e[5]=c?xn(c,s,t[6]):Ct(s),e[6]=c?Ue(e[5],p):Ct(t[6]));(s=t[7])&&(e[7]=Ct(s));i&u&&(e[8]=null==e[8]?t[8]:ut(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=r}(b,_),t=b[1],f=b[9]),b[9]=null==f?m?0:e.length:st(f-g,0)||0,1==t)var w=function(e,t){var n=Nn(e);return function i(){return(this&&this!==Te&&this instanceof i?n:e).apply(t,arguments)}}(b[0],b[2]);else w=t!=a&&33!=t||b[4].length?Kn.apply(i,b):Jn.apply(i,b);return(_?pn:Ei)(w,b)}function ei(e,t,n,r,o,a,s){var u=-1,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;for(;++u<l;){var d=e[u],p=t[u],h=r?r(o?p:d,o?d:p,u):i;if(h!==i){if(h)continue;return!1}if(o){if(!Pt(t,(function(e){return d===e||n(d,e,r,o,a,s)})))return!1}else if(d!==p&&!n(d,p,r,o,a,s))return!1}return!0}function ti(e,t,n,r,o,a,s){var u=uo(e),l=u.length;if(l!=uo(t).length&&!o)return!1;for(var c=l;c--;){var d=u[c];if(!(o?d in t:be.call(t,d)))return!1}for(var p=o;++c<l;){var h=e[d=u[c]],f=t[d],m=r?r(o?f:h,o?h:f,d):i;if(!(m===i?n(h,f,r,o,a,s):m))return!1;p||(p="constructor"==d)}if(!p){var g=e.constructor,y=t.constructor;if(g!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof g&&g instanceof g&&"function"==typeof y&&y instanceof y))return!1}return!0}function ni(e,t,n){var i=vt.callback||ko;return i=i===ko?jt:i,n?i(e,t,n):i}var ii=gt?function(e){return gt.get(e)}:Ro;function ri(e){for(var t=e.name,n=yt[t],i=n?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==e)return r.name}return t}function oi(e,t,n){var i=vt.indexOf||Ri;return i=i===Ri?Ae:i,e?i(e,t,n):i}var ai=un("length");function si(e){for(var t=fo(e),n=t.length;n--;)t[n][2]=gi(t[n][1]);return t}function ui(e,t){var n=null==e?i:e[t];return $r(n)?n:i}function li(e,t,n){null==e||hi(t,e)||(e=1==(t=xi(t)).length?e:tn(e,hn(t,0,-1)),t=Mi(t));var r=null==e?e:e[t];return null==r?i:r.apply(e,n)}function ci(e){return null!=e&&mi(ai(e))}function di(e,t){return e="number"==typeof e||ie.test(e)?+e:-1,t=null==t?mt:t,e>-1&&e%1==0&&e<t}function pi(e,t,n){if(!Hr(n))return!1;var i=typeof t;if("number"==i?ci(n)&&di(t,n.length):"string"==i&&t in n){var r=n[t];return e==e?e===r:r!=r}return!1}function hi(e,t){var n=typeof e;return!!("string"==n&&W.test(e)||"number"==n)||!Fr(e)&&(!z.test(e)||null!=t&&e in Ci(t))}function fi(e){var t=ri(e);if(!(t in wt.prototype))return!1;var n=vt[t];if(e===n)return!0;var i=ii(n);return!!i&&e===i[0]}function mi(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=mt}function gi(e){return e==e&&!Hr(e)}function yi(e,t){e=Ci(e);for(var n=-1,i=t.length,r={};++n<i;){var o=t[n];o in e&&(r[o]=e[o])}return r}function vi(e,t){var n={};return Xt(e,(function(e,i,r){t(e,i,r)&&(n[i]=e)})),n}function _i(e,t){for(var n=e.length,r=ut(t.length,n),o=Ct(e);r--;){var a=t[r];e[r]=di(a,n)?o[a]:i}return e}var bi,wi,Ei=(bi=0,wi=0,function(e,t){var n=yr(),i=16-(n-wi);if(wi=n,i>0){if(++bi>=150)return e}else bi=0;return pn(e,t)});function Si(e){for(var t=lo(e),n=t.length,i=n&&e.length,r=!!i&&mi(i)&&(Fr(e)||Mr(e)),o=-1,a=[];++o<n;){var s=t[o];(r&&di(s,i)||be.call(e,s))&&a.push(s)}return a}function Ti(e){return null==e?[]:ci(e)?Hr(e)?e:pe(e):go(e)}function Ci(e){return Hr(e)?e:pe(e)}function xi(e){if(Fr(e))return e;var t=[];return Ie(e).replace(K,(function(e,n,i,r){t.push(i?r.replace(Q,"$1"):n||e)})),t}function Ai(e){return e instanceof wt?e.clone():new bt(e.__wrapped__,e.__chain__,Ct(e.__actions__))}var ki=Rr((function(e,t){return je(e)&&ci(e)?$t(e,Kt(t,!1,!0)):[]}));function Ii(e,t,n){return(e?e.length:0)?((n?pi(e,t,n):null==t)&&(t=1),hn(e,t<0?0:t)):[]}function Di(e,t,n){var i=e?e.length:0;return i?((n?pi(e,t,n):null==t)&&(t=1),hn(e,0,(t=i-(+t||0))<0?0:t)):[]}var Oi=jn(),Pi=jn(!0);function Ni(e){return e?e[0]:i}function Ri(e,t,n){var i=e?e.length:0;if(!i)return-1;if("number"==typeof n)n=n<0?st(i+n,0):n;else if(n){var r=wn(e,t);return r<i&&(t==t?t===e[r]:e[r]!=e[r])?r:-1}return Ae(e,t,n||0)}var Li=Rr((function(e){for(var t=e.length,i=t,r=n(d),o=oi(),a=o==Ae,s=[];i--;){var u=e[i]=ci(u=e[i])?u:[];r[i]=a&&u.length>=120?On(i&&u):null}var l=e[0],c=-1,d=l?l.length:0,p=r[0];e:for(;++c<d;)if(u=l[c],(p?Tt(p,u):o(s,u,0))<0){for(i=t;--i;){var h=r[i];if((h?Tt(h,u):o(e[i],u,0))<0)continue e}p&&p.push(u),s.push(u)}return s}));function Mi(e){var t=e?e.length:0;return t?e[t-1]:i}var Fi=Rr((function(e,t){var n=Mt(e,t=Kt(t));return ln(e,t.sort(Ce)),n}));function ji(e){return Ii(e,1)}var Bi=Qn(),Ui=Qn(!0),Hi=Rr((function(e){return yn(Kt(e,!1,!0))}));function $i(e,t,n,r){if(!(e?e.length:0))return[];null!=t&&"boolean"!=typeof t&&(n=pi(e,t,r=n)?i:t,t=!1);var o=ni();return null==n&&o===jt||(n=o(n,r,3)),t&&oi()==Ae?function(e,t){for(var n,i=-1,r=e.length,o=-1,a=[];++i<r;){var s=e[i],u=t?t(s,i,e):s;i&&n===u||(n=u,a[++o]=s)}return a}(e,n):yn(e,n)}function Gi(e){if(!e||!e.length)return[];var t=-1,i=0;e=kt(e,(function(e){if(ci(e))return i=st(e.length,i),!0}));for(var r=n(i);++t<i;)r[t]=It(e,un(t));return r}function qi(e,t,n){if(!(e?e.length:0))return[];var r=Gi(e);return null==t?r:(t=Sn(t,n,4),It(r,(function(e){return Ot(e,t,i,!0)})))}var Vi=Rr((function(e,t){return ci(e)?$t(e,t):[]})),zi=Rr(Gi);function Wi(e,t){var n=-1,i=e?e.length:0,r={};for(!i||t||Fr(e[0])||(t=[]);++n<i;){var o=e[n];t?r[o]=t[n]:o&&(r[o[0]]=o[1])}return r}var Ki=Rr((function(e){var t=e.length,n=t>2?e[t-2]:i,r=t>1?e[t-1]:i;return t>2&&"function"==typeof n?t-=2:(n=t>1&&"function"==typeof r?(--t,r):i,r=i),e.length=t,qi(e,n,r)}));function Yi(e){var t=vt(e);return t.__chain__=!0,t}function Ji(e,t,n){return t.call(n,e)}var Xi=Rr((function(e){return e=Kt(e),this.thru((function(t){return function(e,t){for(var i=-1,r=e.length,o=-1,a=t.length,s=n(r+a);++i<r;)s[i]=e[i];for(;++o<a;)s[i++]=t[o];return s}(Fr(t)?t:[Ci(t)],e)}))})),Qi=Rr((function(e,t){return Mt(e,Kt(t))})),Zi=An((function(e,t,n){be.call(e,n)?++e[n]:e[n]=1}));function er(e,t,n){var r=Fr(e)?At:Vt;return n&&pi(e,t,n)&&(t=i),"function"==typeof t&&n===i||(t=ni(t,n,3)),r(e,t)}function tr(e,t,n){return(Fr(e)?kt:zt)(e,t=ni(t,n,3))}var nr=Fn(Gt),ir=Fn(qt,!0),rr=Hn(xt,Gt),or=Hn((function(e,t){for(var n=e.length;n--&&!1!==t(e[n],n,e););return e}),qt),ar=An((function(e,t,n){be.call(e,n)?e[n].push(t):e[n]=[t]}));function sr(e,t,n,i){var r=e?ai(e):0;return mi(r)||(r=(e=go(e)).length),n="number"!=typeof n||i&&pi(t,n,i)?0:n<0?st(r+n,0):n||0,"string"==typeof e||!Fr(e)&&zr(e)?n<=r&&e.indexOf(t,n)>-1:!!r&&oi(e,t,n)>-1}var ur=An((function(e,t,n){e[n]=t})),lr=Rr((function(e,t,r){var o=-1,a="function"==typeof t,s=hi(t),u=ci(e)?n(e.length):[];return Gt(e,(function(e){var n=a?t:s&&null!=e?e[t]:i;u[++o]=n?n.apply(e,r):li(e,t,r)})),u}));function cr(e,t,n){return(Fr(e)?It:on)(e,t=ni(t,n,3))}var dr=An((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]})),pr=Wn(Ot,Gt),hr=Wn((function(e,t,n,i){var r=e.length;for(i&&r&&(n=e[--r]);r--;)n=t(n,e[r],r,e);return n}),qt);function fr(e,t,n){if(n?pi(e,t,n):null==t)return(r=(e=Ti(e)).length)>0?e[cn(0,r-1)]:i;var r,o=-1,a=Yr(e),s=(r=a.length)-1;for(t=ut(t<0?0:+t||0,r);++o<t;){var u=cn(o,s),l=a[u];a[u]=a[o],a[o]=l}return a.length=t,a}function mr(e,t,n){var r=Fr(e)?Pt:fn;return n&&pi(e,t,n)&&(t=i),"function"==typeof t&&n===i||(t=ni(t,n,3)),r(e,t)}var gr=Rr((function(e,t){if(null==e)return[];var n=t[2];return n&&pi(t[0],t[1],n)&&(t.length=1),gn(e,Kt(t),[])})),yr=lt||function(){return(new r).getTime()};function vr(e,t){var n;if("function"!=typeof t){if("function"!=typeof e)throw new me(d);var r=e;e=t,t=r}return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var _r=Rr((function(e,t,n){var i=1;if(n.length){var r=Ue(n,_r.placeholder);i|=a}return Zn(e,i,t,n,r)})),br=Rr((function(e,t){for(var n=-1,i=(t=t.length?Kt(t):so(e)).length;++n<i;){var r=t[n];e[r]=Zn(e[r],1,e)}return e})),wr=Rr((function(e,t,n){var i=3;if(n.length){var r=Ue(n,wr.placeholder);i|=a}return Zn(t,i,e,n,r)})),Er=Rn(8),Sr=Rn(16);function Tr(e,t,n){var r,o,a,s,u,l,c,p=0,h=!1,f=!0;if("function"!=typeof e)throw new me(d);if(t=t<0?0:+t||0,!0===n){var m=!0;f=!1}else Hr(n)&&(m=!!n.leading,h="maxWait"in n&&st(+n.maxWait||0,t),f="trailing"in n?!!n.trailing:f);function g(t,n){n&&ze(n),o=l=c=i,t&&(p=yr(),a=e.apply(u,r),l||o||(r=u=i))}function y(){var e=t-(yr()-s);e<=0||e>t?g(c,o):l=Xe(y,e)}function v(){g(f,l)}function _(){if(r=arguments,s=yr(),u=this,c=f&&(l||!m),!1===h)var n=m&&!l;else{o||m||(p=s);var d=h-(s-p),g=d<=0||d>h;g?(o&&(o=ze(o)),p=s,a=e.apply(u,r)):o||(o=Xe(v,d))}return g&&l?l=ze(l):l||t===h||(l=Xe(y,t)),n&&(g=!0,a=e.apply(u,r)),!g||l||o||(r=u=i),a}return _.cancel=function(){l&&ze(l),o&&ze(o),p=0,o=l=c=i},_}var Cr=Rr((function(e,t){return Ht(e,1,t)})),xr=Rr((function(e,t,n){return Ht(e,t,n)})),Ar=Un(),kr=Un(!0);function Ir(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new me(d);var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=e.apply(this,i);return n.cache=o.set(r,a),a};return n.cache=new Ir.Cache,n}var Dr=Rr((function(e,t){if(t=Kt(t),"function"!=typeof e||!At(t,ke))throw new me(d);var n=t.length;return Rr((function(i){for(var r=ut(i.length,n);r--;)i[r]=t[r](i[r]);return e.apply(this,i)}))})),Or=zn(a),Pr=zn(s),Nr=Rr((function(e,t){return Zn(e,l,i,i,i,Kt(t))}));function Rr(e,t){if("function"!=typeof e)throw new me(d);return t=st(t===i?e.length-1:+t||0,0),function(){for(var i=arguments,r=-1,o=st(i.length-t,0),a=n(o);++r<o;)a[r]=i[t+r];switch(t){case 0:return e.call(this,a);case 1:return e.call(this,i[0],a);case 2:return e.call(this,i[0],i[1],a)}var s=n(t+1);for(r=-1;++r<t;)s[r]=i[r];return s[t]=a,e.apply(this,s)}}function Lr(e,t){return e>t}function Mr(e){return je(e)&&ci(e)&&be.call(e,"callee")&&!Ye.call(e,"callee")}var Fr=rt||function(e){return je(e)&&mi(e.length)&&Ee.call(e)==f};function jr(e,t,n,r){var o=(n="function"==typeof n?Sn(n,r,3):i)?n(e,t):i;return o===i?nn(e,t,n):!!o}function Br(e){return je(e)&&"string"==typeof e.message&&Ee.call(e)==y}function Ur(e){return Hr(e)&&Ee.call(e)==v}function Hr(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function $r(e){return null!=e&&(Ur(e)?Be.test(_e.call(e)):je(e)&&ne.test(e))}function Gr(e){return"number"==typeof e||je(e)&&Ee.call(e)==b}function qr(e){var t,n;return!(!je(e)||Ee.call(e)!=w||Mr(e)||!(be.call(e,"constructor")||"function"!=typeof(t=e.constructor)||t instanceof t))&&(Xt(e,(function(e,t){n=t})),n===i||be.call(e,n))}function Vr(e){return Hr(e)&&Ee.call(e)==E}function zr(e){return"string"==typeof e||je(e)&&Ee.call(e)==T}function Wr(e){return je(e)&&mi(e.length)&&!!ce[Ee.call(e)]}function Kr(e,t){return e<t}function Yr(e){var t=e?ai(e):0;return mi(t)?t?Ct(e):[]:go(e)}function Jr(e){return Ft(e,lo(e))}var Xr=kn((function e(t,n,r,o,a){if(!Hr(t))return t;var s=ci(n)&&(Fr(n)||Wr(n)),u=s?i:uo(n);return xt(u||n,(function(l,c){if(u&&(l=n[c=l]),je(l))o||(o=[]),a||(a=[]),function(e,t,n,r,o,a,s){var u=a.length,l=t[n];for(;u--;)if(a[u]==l)return void(e[n]=s[u]);var c=e[n],d=o?o(c,l,n,e,t):i,p=d===i;p&&(d=l,ci(l)&&(Fr(l)||Wr(l))?d=Fr(c)?c:ci(c)?Ct(c):[]:qr(l)||Mr(l)?d=Mr(c)?Jr(c):qr(c)?c:{}:p=!1);a.push(l),s.push(d),p?e[n]=r(d,l,o,a,s):(d==d?d!==c:c==c)&&(e[n]=d)}(t,n,c,e,r,o,a);else{var d=t[c],p=r?r(d,l,c,t,n):i,h=p===i;h&&(p=l),p===i&&(!s||c in t)||!h&&(p==p?p===d:d!=d)||(t[c]=p)}})),t})),Qr=kn((function(e,t,n){return n?Rt(e,t,n):Lt(e,t)})),Zr=Ln(Qr,(function(e,t){return e===i?t:e})),eo=Ln(Xr,(function e(t,n){return t===i?n:Xr(t,n,e)})),to=Bn(Qt),no=Bn(Zt),io=$n(Yt),ro=$n(Jt),oo=Gn(Qt),ao=Gn(Zt);function so(e){return en(e,lo(e))}var uo=at?function(e){var t=null==e?i:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&ci(e)?Si(e):Hr(e)?at(e):[]}:Si;function lo(e){if(null==e)return[];Hr(e)||(e=pe(e));var t=e.length;t=t&&mi(t)&&(Fr(e)||Mr(e))&&t||0;for(var i=e.constructor,r=-1,o="function"==typeof i&&i.prototype===e,a=n(t),s=t>0;++r<t;)a[r]=r+"";for(var u in e)s&&di(u,t)||"constructor"==u&&(o||!be.call(e,u))||a.push(u);return a}var co=qn(!0),po=qn(),ho=Rr((function(e,t){if(null==e)return{};if("function"!=typeof t[0]){t=It(Kt(t),fe);return yi(e,$t(lo(e),t))}var n=Sn(t[0],t[1],3);return vi(e,(function(e,t,i){return!n(e,t,i)}))}));function fo(e){e=Ci(e);for(var t=-1,i=uo(e),r=i.length,o=n(r);++t<r;){var a=i[t];o[t]=[a,e[a]]}return o}var mo=Rr((function(e,t){return null==e?{}:"function"==typeof t[0]?vi(e,Sn(t[0],t[1],3)):yi(e,Kt(t))}));function go(e){return vn(e,uo(e))}var yo=Pn((function(e,t,n){return t=t.toLowerCase(),e+(n?t.charAt(0).toUpperCase()+t.slice(1):t)}));function vo(e){return(e=Ie(e))&&e.replace(re,Ne).replace(X,"")}var _o=Pn((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),bo=Vn(),wo=Vn(!0);function Eo(e,t){var n="";if(e=Ie(e),(t=+t)<1||!e||!ot(t))return n;do{t%2&&(n+=e),t=it(t/2),e+=e}while(t);return n}var So=Pn((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})),To=Pn((function(e,t,n){return e+(n?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))}));function Co(e,t,n){var i=e;return(e=Ie(e))?(n?pi(i,t,n):null==t)?e.slice(He(e),$e(e)+1):(t+="",e.slice(De(e,t),Oe(e,t)+1)):e}function xo(e,t,n){return n&&pi(e,t,n)&&(t=i),(e=Ie(e)).match(t||se)||[]}var Ao=Rr((function(e,t){try{return e.apply(i,t)}catch(e){return Br(e)?e:new o(e)}}));function ko(e,t,n){return n&&pi(e,t,n)&&(t=i),je(e)?Do(e):jt(e,t)}function Io(e){return e}function Do(e){return an(Bt(e,!0))}var Oo=Rr((function(e,t){return function(n){return li(n,e,t)}})),Po=Rr((function(e,t){return function(n){return li(e,n,t)}}));function No(e,t,n){if(null==n){var r=Hr(t),o=r?uo(t):i,a=o&&o.length?en(t,o):i;(a?a.length:r)||(a=!1,n=t,t=e,e=this)}a||(a=en(t,uo(t)));var s=!0,u=-1,l=Ur(e),c=a.length;!1===n?s=!1:Hr(n)&&"chain"in n&&(s=n.chain);for(;++u<c;){var d=a[u],p=t[d];e[d]=p,l&&(e.prototype[d]=function(t){return function(){var n=this.__chain__;if(s||n){var i=e(this.__wrapped__),r=i.__actions__=Ct(this.__actions__);return r.push({func:t,args:arguments,thisArg:e}),i.__chain__=n,i}return t.apply(e,Dt([this.value()],arguments))}}(p))}return e}function Ro(){}function Lo(e){return hi(e)?un(e):function(e){var t=e+"";return e=xi(e),function(n){return tn(n,e,t)}}(e)}var Mo,Fo=Xn("ceil"),jo=Xn("floor"),Bo=Mn(Lr,pt),Uo=Mn(Kr,ht),Ho=Xn("round");return vt.prototype=_t.prototype,bt.prototype=Ut(_t.prototype),bt.prototype.constructor=bt,wt.prototype=Ut(_t.prototype),wt.prototype.constructor=wt,Et.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Et.prototype.get=function(e){return"__proto__"==e?i:this.__data__[e]},Et.prototype.has=function(e){return"__proto__"!=e&&be.call(this.__data__,e)},Et.prototype.set=function(e,t){return"__proto__"!=e&&(this.__data__[e]=t),this},St.prototype.push=function(e){var t=this.data;"string"==typeof e||Hr(e)?t.set.add(e):t.hash[e]=!0},Ir.Cache=Et,vt.after=function(e,t){if("function"!=typeof t){if("function"!=typeof e)throw new me(d);var n=e;e=t,t=n}return e=ot(e=+e)?e:0,function(){if(--e<1)return t.apply(this,arguments)}},vt.ary=function(e,t,n){return n&&pi(e,t,n)&&(t=i),t=e&&null==t?e.length:st(+t||0,0),Zn(e,u,i,i,i,i,t)},vt.assign=Qr,vt.at=Qi,vt.before=vr,vt.bind=_r,vt.bindAll=br,vt.bindKey=wr,vt.callback=ko,vt.chain=Yi,vt.chunk=function(e,t,i){t=(i?pi(e,t,i):null==t)?1:st(it(t)||1,1);for(var r=0,o=e?e.length:0,a=-1,s=n(tt(o/t));r<o;)s[++a]=hn(e,r,r+=t);return s},vt.compact=function(e){for(var t=-1,n=e?e.length:0,i=-1,r=[];++t<n;){var o=e[t];o&&(r[++i]=o)}return r},vt.constant=function(e){return function(){return e}},vt.countBy=Zi,vt.create=function(e,t,n){var r=Ut(e);return n&&pi(e,t,n)&&(t=i),t?Lt(r,t):r},vt.curry=Er,vt.curryRight=Sr,vt.debounce=Tr,vt.defaults=Zr,vt.defaultsDeep=eo,vt.defer=Cr,vt.delay=xr,vt.difference=ki,vt.drop=Ii,vt.dropRight=Di,vt.dropRightWhile=function(e,t,n){return e&&e.length?_n(e,ni(t,n,3),!0,!0):[]},vt.dropWhile=function(e,t,n){return e&&e.length?_n(e,ni(t,n,3),!0):[]},vt.fill=function(e,t,n,r){var o=e?e.length:0;return o?(n&&"number"!=typeof n&&pi(e,t,n)&&(n=0,r=o),function(e,t,n,r){var o=e.length;for((n=null==n?0:+n||0)<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:+r||0)<0&&(r+=o),o=n>r?0:r>>>0,n>>>=0;n<o;)e[n++]=t;return e}(e,t,n,r)):[]},vt.filter=tr,vt.flatten=function(e,t,n){var i=e?e.length:0;return n&&pi(e,t,n)&&(t=!1),i?Kt(e,t):[]},vt.flattenDeep=function(e){return(e?e.length:0)?Kt(e,!0):[]},vt.flow=Ar,vt.flowRight=kr,vt.forEach=rr,vt.forEachRight=or,vt.forIn=io,vt.forInRight=ro,vt.forOwn=oo,vt.forOwnRight=ao,vt.functions=so,vt.groupBy=ar,vt.indexBy=ur,vt.initial=function(e){return Di(e,1)},vt.intersection=Li,vt.invert=function(e,t,n){n&&pi(e,t,n)&&(t=i);for(var r=-1,o=uo(e),a=o.length,s={};++r<a;){var u=o[r],l=e[u];t?be.call(s,l)?s[l].push(u):s[l]=[u]:s[l]=u}return s},vt.invoke=lr,vt.keys=uo,vt.keysIn=lo,vt.map=cr,vt.mapKeys=co,vt.mapValues=po,vt.matches=Do,vt.matchesProperty=function(e,t){return sn(e,Bt(t,!0))},vt.memoize=Ir,vt.merge=Xr,vt.method=Oo,vt.methodOf=Po,vt.mixin=No,vt.modArgs=Dr,vt.negate=function(e){if("function"!=typeof e)throw new me(d);return function(){return!e.apply(this,arguments)}},vt.omit=ho,vt.once=function(e){return vr(2,e)},vt.pairs=fo,vt.partial=Or,vt.partialRight=Pr,vt.partition=dr,vt.pick=mo,vt.pluck=function(e,t){return cr(e,Lo(t))},vt.property=Lo,vt.propertyOf=function(e){return function(t){return tn(e,xi(t),t+"")}},vt.pull=function(){var e=arguments,t=e[0];if(!t||!t.length)return t;for(var n=0,i=oi(),r=e.length;++n<r;)for(var o=0,a=e[n];(o=i(t,a,o))>-1;)Qe.call(t,o,1);return t},vt.pullAt=Fi,vt.range=function(e,t,r){r&&pi(e,t,r)&&(t=r=i),e=+e||0,null==t?(t=e,e=0):t=+t||0;for(var o=-1,a=st(tt((t-e)/((r=null==r?1:+r||0)||1)),0),s=n(a);++o<a;)s[o]=e,e+=r;return s},vt.rearg=Nr,vt.reject=function(e,t,n){var i=Fr(e)?kt:zt;return t=ni(t,n,3),i(e,(function(e,n,i){return!t(e,n,i)}))},vt.remove=function(e,t,n){var i=[];if(!e||!e.length)return i;var r=-1,o=[],a=e.length;for(t=ni(t,n,3);++r<a;){var s=e[r];t(s,r,e)&&(i.push(s),o.push(r))}return ln(e,o),i},vt.rest=ji,vt.restParam=Rr,vt.set=function(e,t,n){if(null==e)return e;for(var i=t+"",r=-1,o=(t=null!=e[i]||hi(t,e)?[i]:xi(t)).length,a=o-1,s=e;null!=s&&++r<o;){var u=t[r];Hr(s)&&(r==a?s[u]=n:null==s[u]&&(s[u]=di(t[r+1])?[]:{})),s=s[u]}return e},vt.shuffle=function(e){return fr(e,ht)},vt.slice=function(e,t,n){var i=e?e.length:0;return i?(n&&"number"!=typeof n&&pi(e,t,n)&&(t=0,n=i),hn(e,t,n)):[]},vt.sortBy=function(e,t,n){if(null==e)return[];n&&pi(e,t,n)&&(t=i);var r=-1;t=ni(t,n,3);var o=on(e,(function(e,n,i){return{criteria:t(e,n,i),index:++r,value:e}}));return mn(o,Pe)},vt.sortByAll=gr,vt.sortByOrder=function(e,t,n,r){return null==e?[]:(r&&pi(t,n,r)&&(n=i),Fr(t)||(t=null==t?[]:[t]),Fr(n)||(n=null==n?[]:[n]),gn(e,t,n))},vt.spread=function(e){if("function"!=typeof e)throw new me(d);return function(t){return e.apply(this,t)}},vt.take=function(e,t,n){return(e?e.length:0)?((n?pi(e,t,n):null==t)&&(t=1),hn(e,0,t<0?0:t)):[]},vt.takeRight=function(e,t,n){var i=e?e.length:0;return i?((n?pi(e,t,n):null==t)&&(t=1),hn(e,(t=i-(+t||0))<0?0:t)):[]},vt.takeRightWhile=function(e,t,n){return e&&e.length?_n(e,ni(t,n,3),!1,!0):[]},vt.takeWhile=function(e,t,n){return e&&e.length?_n(e,ni(t,n,3)):[]},vt.tap=function(e,t,n){return t.call(n,e),e},vt.throttle=function(e,t,n){var i=!0,r=!0;if("function"!=typeof e)throw new me(d);return!1===n?i=!1:Hr(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),Tr(e,t,{leading:i,maxWait:+t,trailing:r})},vt.thru=Ji,vt.times=function(e,t,i){if((e=it(e))<1||!ot(e))return[];var r=-1,o=n(ut(e,ft));for(t=Sn(t,i,1);++r<e;)r<ft?o[r]=t(r):t(r);return o},vt.toArray=Yr,vt.toPlainObject=Jr,vt.transform=function(e,t,n,r){var o=Fr(e)||Wr(e);if(t=ni(t,r,4),null==n)if(o||Hr(e)){var a=e.constructor;n=o?Fr(e)?new a:[]:Ut(Ur(a)?a.prototype:i)}else n={};return(o?xt:Qt)(e,(function(e,i,r){return t(n,e,i,r)})),n},vt.union=Hi,vt.uniq=$i,vt.unzip=Gi,vt.unzipWith=qi,vt.values=go,vt.valuesIn=function(e){return vn(e,lo(e))},vt.where=function(e,t){return tr(e,an(t))},vt.without=Vi,vt.wrap=function(e,t){return Zn(t=null==t?Io:t,a,i,[e],[])},vt.xor=function(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e];if(ci(n))var i=i?Dt($t(i,n),$t(n,i)):n}return i?yn(i):[]},vt.zip=zi,vt.zipObject=Wi,vt.zipWith=Ki,vt.backflow=kr,vt.collect=cr,vt.compose=kr,vt.each=rr,vt.eachRight=or,vt.extend=Qr,vt.iteratee=ko,vt.methods=so,vt.object=Wi,vt.select=tr,vt.tail=ji,vt.unique=$i,No(vt,vt),vt.add=function(e,t){return(+e||0)+(+t||0)},vt.attempt=Ao,vt.camelCase=yo,vt.capitalize=function(e){return(e=Ie(e))&&e.charAt(0).toUpperCase()+e.slice(1)},vt.ceil=Fo,vt.clone=function(e,t,n,i){return t&&"boolean"!=typeof t&&pi(e,t,n)?t=!1:"function"==typeof t&&(i=n,n=t,t=!1),"function"==typeof n?Bt(e,t,Sn(n,i,1)):Bt(e,t)},vt.cloneDeep=function(e,t,n){return"function"==typeof t?Bt(e,!0,Sn(t,n,1)):Bt(e,!0)},vt.deburr=vo,vt.endsWith=function(e,t,n){t+="";var r=(e=Ie(e)).length;return n=n===i?r:ut(n<0?0:+n||0,r),(n-=t.length)>=0&&e.indexOf(t,n)==n},vt.escape=function(e){return(e=Ie(e))&&$.test(e)?e.replace(U,Re):e},vt.escapeRegExp=function(e){return(e=Ie(e))&&J.test(e)?e.replace(Y,Le):e||"(?:)"},vt.every=er,vt.find=nr,vt.findIndex=Oi,vt.findKey=to,vt.findLast=ir,vt.findLastIndex=Pi,vt.findLastKey=no,vt.findWhere=function(e,t){return nr(e,an(t))},vt.first=Ni,vt.floor=jo,vt.get=function(e,t,n){var r=null==e?i:tn(e,xi(t),t+"");return r===i?n:r},vt.gt=Lr,vt.gte=function(e,t){return e>=t},vt.has=function(e,t){if(null==e)return!1;var n=be.call(e,t);if(!n&&!hi(t)){if(null==(e=1==(t=xi(t)).length?e:tn(e,hn(t,0,-1))))return!1;t=Mi(t),n=be.call(e,t)}return n||mi(e.length)&&di(t,e.length)&&(Fr(e)||Mr(e))},vt.identity=Io,vt.includes=sr,vt.indexOf=Ri,vt.inRange=function(e,t,n){return t=+t||0,n===i?(n=t,t=0):n=+n||0,e>=ut(t,n)&&e<st(t,n)},vt.isArguments=Mr,vt.isArray=Fr,vt.isBoolean=function(e){return!0===e||!1===e||je(e)&&Ee.call(e)==m},vt.isDate=function(e){return je(e)&&Ee.call(e)==g},vt.isElement=function(e){return!!e&&1===e.nodeType&&je(e)&&!qr(e)},vt.isEmpty=function(e){return null==e||(ci(e)&&(Fr(e)||zr(e)||Mr(e)||je(e)&&Ur(e.splice))?!e.length:!uo(e).length)},vt.isEqual=jr,vt.isError=Br,vt.isFinite=function(e){return"number"==typeof e&&ot(e)},vt.isFunction=Ur,vt.isMatch=function(e,t,n,r){return n="function"==typeof n?Sn(n,r,3):i,rn(e,si(t),n)},vt.isNaN=function(e){return Gr(e)&&e!=+e},vt.isNative=$r,vt.isNull=function(e){return null===e},vt.isNumber=Gr,vt.isObject=Hr,vt.isPlainObject=qr,vt.isRegExp=Vr,vt.isString=zr,vt.isTypedArray=Wr,vt.isUndefined=function(e){return e===i},vt.kebabCase=_o,vt.last=Mi,vt.lastIndexOf=function(e,t,n){var i=e?e.length:0;if(!i)return-1;var r=i;if("number"==typeof n)r=(n<0?st(i+n,0):ut(n||0,i-1))+1;else if(n){var o=e[r=wn(e,t,!0)-1];return(t==t?t===o:o!=o)?r:-1}if(t!=t)return Fe(e,r,!0);for(;r--;)if(e[r]===t)return r;return-1},vt.lt=Kr,vt.lte=function(e,t){return e<=t},vt.max=Bo,vt.min=Uo,vt.noConflict=function(){return Te._=Se,this},vt.noop=Ro,vt.now=yr,vt.pad=function(e,t,n){t=+t;var i=(e=Ie(e)).length;if(i>=t||!ot(t))return e;var r=(t-i)/2,o=it(r);return(n=Yn("",tt(r),n)).slice(0,o)+e+n},vt.padLeft=bo,vt.padRight=wo,vt.parseInt=function(e,t,n){return(n?pi(e,t,n):null==t)?t=0:t&&(t=+t),e=Co(e),ct(e,t||(te.test(e)?16:10))},vt.random=function(e,t,n){n&&pi(e,t,n)&&(t=n=i);var r=null==e,o=null==t;if(null==n&&(o&&"boolean"==typeof e?(n=e,e=1):"boolean"==typeof t&&(n=t,o=!0)),r&&o&&(t=1,o=!1),e=+e||0,o?(t=e,e=0):t=+t||0,n||e%1||t%1){var a=dt();return ut(e+a*(t-e+We("1e-"+((a+"").length-1))),t)}return cn(e,t)},vt.reduce=pr,vt.reduceRight=hr,vt.repeat=Eo,vt.result=function(e,t,n){var r=null==e?i:e[t];return r===i&&(null==e||hi(t,e)||(r=null==(e=1==(t=xi(t)).length?e:tn(e,hn(t,0,-1)))?i:e[Mi(t)]),r=r===i?n:r),Ur(r)?r.call(e):r},vt.round=Ho,vt.runInContext=e,vt.size=function(e){var t=e?ai(e):0;return mi(t)?t:uo(e).length},vt.snakeCase=So,vt.some=mr,vt.sortedIndex=Bi,vt.sortedLastIndex=Ui,vt.startCase=To,vt.startsWith=function(e,t,n){return e=Ie(e),n=null==n?0:ut(n<0?0:+n||0,e.length),e.lastIndexOf(t,n)==n},vt.sum=function(e,t,n){return n&&pi(e,t,n)&&(t=i),1==(t=ni(t,n,3)).length?function(e,t){for(var n=e.length,i=0;n--;)i+=+t(e[n])||0;return i}(Fr(e)?e:Ti(e),t):function(e,t){var n=0;return Gt(e,(function(e,i,r){n+=+t(e,i,r)||0})),n}(e,t)},vt.template=function(e,t,n){var r=vt.templateSettings;n&&pi(e,t,n)&&(t=n=i),e=Ie(e),t=Rt(Lt({},n||t),r,Nt);var o,a,s=Rt(Lt({},t.imports),r.imports,Nt),u=uo(s),l=vn(s,u),c=0,d=t.interpolate||oe,p="__p += '",h=he((t.escape||oe).source+"|"+d.source+"|"+(d===V?Z:oe).source+"|"+(t.evaluate||oe).source+"|$","g"),f="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++le+"]")+"\n";e.replace(h,(function(t,n,i,r,s,u){return i||(i=r),p+=e.slice(c,u).replace(ae,Me),n&&(o=!0,p+="' +\n__e("+n+") +\n'"),s&&(a=!0,p+="';\n"+s+";\n__p += '"),i&&(p+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),c=u+t.length,t})),p+="';\n";var m=t.variable;m||(p="with (obj) {\n"+p+"\n}\n"),p=(a?p.replace(M,""):p).replace(F,"$1").replace(j,"$1;"),p="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var g=Ao((function(){return _(u,f+"return "+p).apply(i,l)}));if(g.source=p,Br(g))throw g;return g},vt.trim=Co,vt.trimLeft=function(e,t,n){var i=e;return(e=Ie(e))?(n?pi(i,t,n):null==t)?e.slice(He(e)):e.slice(De(e,t+"")):e},vt.trimRight=function(e,t,n){var i=e;return(e=Ie(e))?(n?pi(i,t,n):null==t)?e.slice(0,$e(e)+1):e.slice(0,Oe(e,t+"")+1):e},vt.trunc=function(e,t,n){n&&pi(e,t,n)&&(t=i);var r=30,o="...";if(null!=t)if(Hr(t)){var a="separator"in t?t.separator:a;r="length"in t?+t.length||0:r,o="omission"in t?Ie(t.omission):o}else r=+t||0;if(r>=(e=Ie(e)).length)return e;var s=r-o.length;if(s<1)return o;var u=e.slice(0,s);if(null==a)return u+o;if(Vr(a)){if(e.slice(s).search(a)){var l,c,d=e.slice(0,s);for(a.global||(a=he(a.source,(ee.exec(a)||"")+"g")),a.lastIndex=0;l=a.exec(d);)c=l.index;u=u.slice(0,null==c?s:c)}}else if(e.indexOf(a,s)!=s){var p=u.lastIndexOf(a);p>-1&&(u=u.slice(0,p))}return u+o},vt.unescape=function(e){return(e=Ie(e))&&H.test(e)?e.replace(B,Ge):e},vt.uniqueId=function(e){var t=++we;return Ie(e)+t},vt.words=xo,vt.all=er,vt.any=mr,vt.contains=sr,vt.eq=jr,vt.detect=nr,vt.foldl=pr,vt.foldr=hr,vt.head=Ni,vt.include=sr,vt.inject=pr,No(vt,(Mo={},Qt(vt,(function(e,t){vt.prototype[t]||(Mo[t]=e)})),Mo),!1),vt.sample=fr,vt.prototype.sample=function(e){return this.__chain__||null!=e?this.thru((function(t){return fr(t,e)})):fr(this.value())},vt.VERSION="3.10.1",xt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){vt[e].placeholder=vt})),xt(["drop","take"],(function(e,t){wt.prototype[e]=function(n){var i=this.__filtered__;if(i&&!t)return new wt(this);n=null==n?1:st(it(n)||0,0);var r=this.clone();return i?r.__takeCount__=ut(r.__takeCount__,n):r.__views__.push({size:n,type:e+(r.__dir__<0?"Right":"")}),r},wt.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),xt(["filter","map","takeWhile"],(function(e,t){var n=t+1,i=2!=n;wt.prototype[e]=function(e,t){var r=this.clone();return r.__iteratees__.push({iteratee:ni(e,t,1),type:n}),r.__filtered__=r.__filtered__||i,r}})),xt(["first","last"],(function(e,t){var n="take"+(t?"Right":"");wt.prototype[e]=function(){return this[n](1).value()[0]}})),xt(["initial","rest"],(function(e,t){var n="drop"+(t?"":"Right");wt.prototype[e]=function(){return this.__filtered__?new wt(this):this[n](1)}})),xt(["pluck","where"],(function(e,t){var n=t?"filter":"map",i=t?an:Lo;wt.prototype[e]=function(e){return this[n](i(e))}})),wt.prototype.compact=function(){return this.filter(Io)},wt.prototype.reject=function(e,t){return e=ni(e,t,1),this.filter((function(t){return!e(t)}))},wt.prototype.slice=function(e,t){e=null==e?0:+e||0;var n=this;return n.__filtered__&&(e>0||t<0)?new wt(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=+t||0)<0?n.dropRight(-t):n.take(t-e)),n)},wt.prototype.takeRightWhile=function(e,t){return this.reverse().takeWhile(e,t).reverse()},wt.prototype.toArray=function(){return this.take(ht)},Qt(wt.prototype,(function(e,t){var n=/^(?:filter|map|reject)|While$/.test(t),r=/^(?:first|last)$/.test(t),o=vt[r?"take"+("last"==t?"Right":""):t];o&&(vt.prototype[t]=function(){var t=r?[1]:arguments,a=this.__chain__,s=this.__wrapped__,u=!!this.__actions__.length,l=s instanceof wt,c=t[0],d=l||Fr(s);d&&n&&"function"==typeof c&&1!=c.length&&(l=d=!1);var p=function(e){return r&&a?o(e,1)[0]:o.apply(i,Dt([e],t))},h={func:Ji,args:[p],thisArg:i},f=l&&!u;if(r&&!a)return f?((s=s.clone()).__actions__.push(h),e.call(s)):o.call(i,this.value())[0];if(!r&&d){s=f?s:new wt(this);var m=e.apply(s,t);return m.__actions__.push(h),new bt(m,a)}return this.thru(p)})})),xt(["join","pop","push","replace","shift","sort","splice","split","unshift"],(function(e){var t=(/^(?:replace|split)$/.test(e)?ve:ge)[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:join|pop|replace|shift)$/.test(e);vt.prototype[e]=function(){var e=arguments;return i&&!this.__chain__?t.apply(this.value(),e):this[n]((function(n){return t.apply(n,e)}))}})),Qt(wt.prototype,(function(e,t){var n=vt[t];if(n){var i=n.name;(yt[i]||(yt[i]=[])).push({name:t,func:n})}})),yt[Kn(i,2).name]=[{name:"wrapper",func:i}],wt.prototype.clone=function(){var e=new wt(this.__wrapped__);return e.__actions__=Ct(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ct(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ct(this.__views__),e},wt.prototype.reverse=function(){if(this.__filtered__){var e=new wt(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},wt.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Fr(e),i=t<0,r=n?e.length:0,o=function(e,t,n){var i=-1,r=n.length;for(;++i<r;){var o=n[i],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=ut(t,e+a);break;case"takeRight":e=st(e,t-a)}}return{start:e,end:t}}(0,r,this.__views__),a=o.start,s=o.end,u=s-a,l=i?s:a-1,d=this.__iteratees__,p=d.length,h=0,f=ut(u,this.__takeCount__);if(!n||r<c||r==u&&f==u)return bn(i&&n?e.reverse():e,this.__actions__);var m=[];e:for(;u--&&h<f;){for(var g=-1,y=e[l+=t];++g<p;){var v=d[g],_=v.iteratee,b=v.type,w=_(y);if(2==b)y=w;else if(!w){if(1==b)continue e;break e}}m[h++]=y}return m},vt.prototype.chain=function(){return Yi(this)},vt.prototype.commit=function(){return new bt(this.value(),this.__chain__)},vt.prototype.concat=Xi,vt.prototype.plant=function(e){for(var t,n=this;n instanceof _t;){var i=Ai(n);t?r.__wrapped__=i:t=i;var r=i;n=n.__wrapped__}return r.__wrapped__=e,t},vt.prototype.reverse=function(){var e=this.__wrapped__,t=function(e){return n&&n.__dir__<0?e:e.reverse()};if(e instanceof wt){var n=e;return this.__actions__.length&&(n=new wt(this)),(n=n.reverse()).__actions__.push({func:Ji,args:[t],thisArg:i}),new bt(n,this.__chain__)}return this.thru(t)},vt.prototype.toString=function(){return this.value()+""},vt.prototype.run=vt.prototype.toJSON=vt.prototype.valueOf=vt.prototype.value=function(){return bn(this.__wrapped__,this.__actions__)},vt.prototype.collect=vt.prototype.map,vt.prototype.head=vt.prototype.first,vt.prototype.select=vt.prototype.filter,vt.prototype.tail=vt.prototype.rest,vt}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Te._=qe,define((function(){return qe}))):ve&&_e?Se?(_e.exports=qe)._=qe:ve._=qe:Te._=qe}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],505:[function(e,t,n){
/*! @name m3u8-parser @version 4.7.1 @license Apache-2.0 */
"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("@babel/runtime/helpers/inheritsLoose"),r=e("@videojs/vhs-utils/cjs/stream.js"),o=e("@babel/runtime/helpers/extends"),a=e("@babel/runtime/helpers/assertThisInitialized"),s=e("@videojs/vhs-utils/cjs/decode-b64-to-uint8-array.js");function u(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var l=u(i),c=u(r),d=u(o),p=u(a),h=u(s),f=function(e){function t(){var t;return(t=e.call(this)||this).buffer="",t}return l.default(t,e),t.prototype.push=function(e){var t;for(this.buffer+=e,t=this.buffer.indexOf("\n");t>-1;t=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)},t}(c.default),m=String.fromCharCode(9),g=function(e){var t=/([0-9.]*)?@?([0-9.]*)?/.exec(e||""),n={};return t[1]&&(n.length=parseInt(t[1],10)),t[2]&&(n.offset=parseInt(t[2],10)),n},y=function(e){for(var t,n=e.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')),i={},r=n.length;r--;)""!==n[r]&&((t=/([^=]*)=(.*)/.exec(n[r]).slice(1))[0]=t[0].replace(/^\s+|\s+$/g,""),t[1]=t[1].replace(/^\s+|\s+$/g,""),t[1]=t[1].replace(/^['"](.*)['"]$/g,"$1"),i[t[0]]=t[1]);return i},v=function(e){function t(){var t;return(t=e.call(this)||this).customParsers=[],t.tagMappers=[],t}l.default(t,e);var n=t.prototype;return n.push=function(e){var t,n,i=this;0!==(e=e.trim()).length&&("#"===e[0]?this.tagMappers.reduce((function(t,n){var i=n(e);return i===e?t:t.concat([i])}),[e]).forEach((function(e){for(var r=0;r<i.customParsers.length;r++)if(i.customParsers[r].call(i,e))return;if(0===e.indexOf("#EXT"))if(e=e.replace("\r",""),t=/^#EXTM3U/.exec(e))i.trigger("data",{type:"tag",tagType:"m3u"});else{if(t=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(e))return n={type:"tag",tagType:"inf"},t[1]&&(n.duration=parseFloat(t[1])),t[2]&&(n.title=t[2]),void i.trigger("data",n);if(t=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"targetduration"},t[1]&&(n.duration=parseInt(t[1],10)),void i.trigger("data",n);if(t=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"version"},t[1]&&(n.version=parseInt(t[1],10)),void i.trigger("data",n);if(t=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return n={type:"tag",tagType:"media-sequence"},t[1]&&(n.number=parseInt(t[1],10)),void i.trigger("data",n);if(t=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return n={type:"tag",tagType:"discontinuity-sequence"},t[1]&&(n.number=parseInt(t[1],10)),void i.trigger("data",n);if(t=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(e))return n={type:"tag",tagType:"playlist-type"},t[1]&&(n.playlistType=t[1]),void i.trigger("data",n);if(t=/^#EXT-X-BYTERANGE:?(.*)?$/.exec(e))return n=d.default(g(t[1]),{type:"tag",tagType:"byterange"}),void i.trigger("data",n);if(t=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(e))return n={type:"tag",tagType:"allow-cache"},t[1]&&(n.allowed=!/NO/.test(t[1])),void i.trigger("data",n);if(t=/^#EXT-X-MAP:?(.*)$/.exec(e)){if(n={type:"tag",tagType:"map"},t[1]){var o=y(t[1]);o.URI&&(n.uri=o.URI),o.BYTERANGE&&(n.byterange=g(o.BYTERANGE))}i.trigger("data",n)}else if(t=/^#EXT-X-STREAM-INF:?(.*)$/.exec(e)){if(n={type:"tag",tagType:"stream-inf"},t[1]){if(n.attributes=y(t[1]),n.attributes.RESOLUTION){var a=n.attributes.RESOLUTION.split("x"),s={};a[0]&&(s.width=parseInt(a[0],10)),a[1]&&(s.height=parseInt(a[1],10)),n.attributes.RESOLUTION=s}n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes["PROGRAM-ID"]&&(n.attributes["PROGRAM-ID"]=parseInt(n.attributes["PROGRAM-ID"],10))}i.trigger("data",n)}else{if(t=/^#EXT-X-MEDIA:?(.*)$/.exec(e))return n={type:"tag",tagType:"media"},t[1]&&(n.attributes=y(t[1])),void i.trigger("data",n);if(t=/^#EXT-X-ENDLIST/.exec(e))i.trigger("data",{type:"tag",tagType:"endlist"});else if(t=/^#EXT-X-DISCONTINUITY/.exec(e))i.trigger("data",{type:"tag",tagType:"discontinuity"});else{if(t=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(e))return n={type:"tag",tagType:"program-date-time"},t[1]&&(n.dateTimeString=t[1],n.dateTimeObject=new Date(t[1])),void i.trigger("data",n);if(t=/^#EXT-X-KEY:?(.*)$/.exec(e))return n={type:"tag",tagType:"key"},t[1]&&(n.attributes=y(t[1]),n.attributes.IV&&("0x"===n.attributes.IV.substring(0,2).toLowerCase()&&(n.attributes.IV=n.attributes.IV.substring(2)),n.attributes.IV=n.attributes.IV.match(/.{8}/g),n.attributes.IV[0]=parseInt(n.attributes.IV[0],16),n.attributes.IV[1]=parseInt(n.attributes.IV[1],16),n.attributes.IV[2]=parseInt(n.attributes.IV[2],16),n.attributes.IV[3]=parseInt(n.attributes.IV[3],16),n.attributes.IV=new Uint32Array(n.attributes.IV))),void i.trigger("data",n);if(t=/^#EXT-X-START:?(.*)$/.exec(e))return n={type:"tag",tagType:"start"},t[1]&&(n.attributes=y(t[1]),n.attributes["TIME-OFFSET"]=parseFloat(n.attributes["TIME-OFFSET"]),n.attributes.PRECISE=/YES/.test(n.attributes.PRECISE)),void i.trigger("data",n);if(t=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(e))return n={type:"tag",tagType:"cue-out-cont"},t[1]?n.data=t[1]:n.data="",void i.trigger("data",n);if(t=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(e))return n={type:"tag",tagType:"cue-out"},t[1]?n.data=t[1]:n.data="",void i.trigger("data",n);if(t=/^#EXT-X-CUE-IN:?(.*)?$/.exec(e))return n={type:"tag",tagType:"cue-in"},t[1]?n.data=t[1]:n.data="",void i.trigger("data",n);if((t=/^#EXT-X-SKIP:(.*)$/.exec(e))&&t[1])return(n={type:"tag",tagType:"skip"}).attributes=y(t[1]),n.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(n.attributes["SKIPPED-SEGMENTS"]=parseInt(n.attributes["SKIPPED-SEGMENTS"],10)),n.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(n.attributes["RECENTLY-REMOVED-DATERANGES"]=n.attributes["RECENTLY-REMOVED-DATERANGES"].split(m)),void i.trigger("data",n);if((t=/^#EXT-X-PART:(.*)$/.exec(e))&&t[1])return(n={type:"tag",tagType:"part"}).attributes=y(t[1]),["DURATION"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=parseFloat(n.attributes[e]))})),["INDEPENDENT","GAP"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=/YES/.test(n.attributes[e]))})),n.attributes.hasOwnProperty("BYTERANGE")&&(n.attributes.byterange=g(n.attributes.BYTERANGE)),void i.trigger("data",n);if((t=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(e))&&t[1])return(n={type:"tag",tagType:"server-control"}).attributes=y(t[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=parseFloat(n.attributes[e]))})),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=/YES/.test(n.attributes[e]))})),void i.trigger("data",n);if((t=/^#EXT-X-PART-INF:(.*)$/.exec(e))&&t[1])return(n={type:"tag",tagType:"part-inf"}).attributes=y(t[1]),["PART-TARGET"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=parseFloat(n.attributes[e]))})),void i.trigger("data",n);if((t=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(e))&&t[1])return(n={type:"tag",tagType:"preload-hint"}).attributes=y(t[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach((function(e){if(n.attributes.hasOwnProperty(e)){n.attributes[e]=parseInt(n.attributes[e],10);var t="BYTERANGE-LENGTH"===e?"length":"offset";n.attributes.byterange=n.attributes.byterange||{},n.attributes.byterange[t]=n.attributes[e],delete n.attributes[e]}})),void i.trigger("data",n);if((t=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(e))&&t[1])return(n={type:"tag",tagType:"rendition-report"}).attributes=y(t[1]),["LAST-MSN","LAST-PART"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=parseInt(n.attributes[e],10))})),void i.trigger("data",n);i.trigger("data",{type:"tag",data:e.slice(4)})}}}else i.trigger("data",{type:"comment",text:e.slice(1)})})):this.trigger("data",{type:"uri",uri:e}))},n.addParser=function(e){var t=this,n=e.expression,i=e.customType,r=e.dataParser,o=e.segment;"function"!=typeof r&&(r=function(e){return e}),this.customParsers.push((function(e){if(n.exec(e))return t.trigger("data",{type:"custom",data:r(e),customType:i,segment:o}),!0}))},n.addTagMapper=function(e){var t=e.expression,n=e.map;this.tagMappers.push((function(e){return t.test(e)?n(e):e}))},t}(c.default),_=function(e){var t={};return Object.keys(e).forEach((function(n){var i;t[(i=n,i.toLowerCase().replace(/-(\w)/g,(function(e){return e[1].toUpperCase()})))]=e[n]})),t},b=function(e){var t=e.serverControl,n=e.targetDuration,i=e.partTargetDuration;if(t){var r="#EXT-X-SERVER-CONTROL",o="holdBack",a="partHoldBack",s=n&&3*n,u=i&&2*i;n&&!t.hasOwnProperty(o)&&(t[o]=s,this.trigger("info",{message:r+" defaulting HOLD-BACK to targetDuration * 3 ("+s+")."})),s&&t[o]<s&&(this.trigger("warn",{message:r+" clamping HOLD-BACK ("+t[o]+") to targetDuration * 3 ("+s+")"}),t[o]=s),i&&!t.hasOwnProperty(a)&&(t[a]=3*i,this.trigger("info",{message:r+" defaulting PART-HOLD-BACK to partTargetDuration * 3 ("+t[a]+")."})),i&&t[a]<u&&(this.trigger("warn",{message:r+" clamping PART-HOLD-BACK ("+t[a]+") to partTargetDuration * 2 ("+u+")."}),t[a]=u)}},w=function(e){function t(){var t;(t=e.call(this)||this).lineStream=new f,t.parseStream=new v,t.lineStream.pipe(t.parseStream);var n,i,r=p.default(t),o=[],a={},s=!1,u=function(){},l={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},c=0;t.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};var m=0,g=0;return t.on("end",(function(){a.uri||!a.parts&&!a.preloadHints||(!a.map&&n&&(a.map=n),!a.key&&i&&(a.key=i),a.timeline||"number"!=typeof c||(a.timeline=c),t.manifest.preloadSegment=a)})),t.parseStream.on("data",(function(e){var t,p;({tag:function(){({version:function(){e.version&&(this.manifest.version=e.version)},"allow-cache":function(){this.manifest.allowCache=e.allowed,"allowed"in e||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var t={};"length"in e&&(a.byterange=t,t.length=e.length,"offset"in e||(e.offset=m)),"offset"in e&&(a.byterange=t,t.offset=e.offset),m=t.offset+t.length},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),e.duration>0&&(a.duration=e.duration),0===e.duration&&(a.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=o},key:function(){if(e.attributes)if("NONE"!==e.attributes.METHOD)if(e.attributes.URI){if("com.apple.streamingkeydelivery"===e.attributes.KEYFORMAT)return this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:e.attributes});if("com.microsoft.playready"===e.attributes.KEYFORMAT)return this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.microsoft.playready"]={uri:e.attributes.URI});if("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"===e.attributes.KEYFORMAT){return-1===["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(e.attributes.METHOD)?void this.trigger("warn",{message:"invalid key method provided for Widevine"}):("SAMPLE-AES-CENC"===e.attributes.METHOD&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),"data:text/plain;base64,"!==e.attributes.URI.substring(0,23)?void this.trigger("warn",{message:"invalid key URI provided for Widevine"}):e.attributes.KEYID&&"0x"===e.attributes.KEYID.substring(0,2)?(this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:e.attributes.KEYFORMAT,keyId:e.attributes.KEYID.substring(2)},pssh:h.default(e.attributes.URI.split(",")[1])})):void this.trigger("warn",{message:"invalid key ID provided for Widevine"}))}e.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),i={method:e.attributes.METHOD||"AES-128",uri:e.attributes.URI},void 0!==e.attributes.IV&&(i.iv=e.attributes.IV)}else this.trigger("warn",{message:"ignoring key declaration without URI"});else i=null;else this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(e.number)?this.manifest.mediaSequence=e.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+e.number})},"discontinuity-sequence":function(){isFinite(e.number)?(this.manifest.discontinuitySequence=e.number,c=e.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+e.number})},"playlist-type":function(){/VOD|EVENT/.test(e.playlistType)?this.manifest.playlistType=e.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+e.playlist})},map:function(){n={},e.uri&&(n.uri=e.uri),e.byterange&&(n.byterange=e.byterange),i&&(n.key=i)},"stream-inf":function(){this.manifest.playlists=o,this.manifest.mediaGroups=this.manifest.mediaGroups||l,e.attributes?(a.attributes||(a.attributes={}),d.default(a.attributes,e.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||l,e.attributes&&e.attributes.TYPE&&e.attributes["GROUP-ID"]&&e.attributes.NAME){var n=this.manifest.mediaGroups[e.attributes.TYPE];n[e.attributes["GROUP-ID"]]=n[e.attributes["GROUP-ID"]]||{},t=n[e.attributes["GROUP-ID"]],(p={default:/yes/i.test(e.attributes.DEFAULT)}).default?p.autoselect=!0:p.autoselect=/yes/i.test(e.attributes.AUTOSELECT),e.attributes.LANGUAGE&&(p.language=e.attributes.LANGUAGE),e.attributes.URI&&(p.uri=e.attributes.URI),e.attributes["INSTREAM-ID"]&&(p.instreamId=e.attributes["INSTREAM-ID"]),e.attributes.CHARACTERISTICS&&(p.characteristics=e.attributes.CHARACTERISTICS),e.attributes.FORCED&&(p.forced=/yes/i.test(e.attributes.FORCED)),t[e.attributes.NAME]=p}else this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function(){c+=1,a.discontinuity=!0,this.manifest.discontinuityStarts.push(o.length)},"program-date-time":function(){void 0===this.manifest.dateTimeString&&(this.manifest.dateTimeString=e.dateTimeString,this.manifest.dateTimeObject=e.dateTimeObject),a.dateTimeString=e.dateTimeString,a.dateTimeObject=e.dateTimeObject},targetduration:function(){!isFinite(e.duration)||e.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+e.duration}):(this.manifest.targetDuration=e.duration,b.call(this,this.manifest))},start:function(){e.attributes&&!isNaN(e.attributes["TIME-OFFSET"])?this.manifest.start={timeOffset:e.attributes["TIME-OFFSET"],precise:e.attributes.PRECISE}:this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"})},"cue-out":function(){a.cueOut=e.data},"cue-out-cont":function(){a.cueOutCont=e.data},"cue-in":function(){a.cueIn=e.data},skip:function(){this.manifest.skip=_(e.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",e.attributes,["SKIPPED-SEGMENTS"])},part:function(){var t=this;s=!0;var n=this.manifest.segments.length,i=_(e.attributes);a.parts=a.parts||[],a.parts.push(i),i.byterange&&(i.byterange.hasOwnProperty("offset")||(i.byterange.offset=g),g=i.byterange.offset+i.byterange.length);var r=a.parts.length-1;this.warnOnMissingAttributes_("#EXT-X-PART #"+r+" for segment #"+n,e.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach((function(e,n){e.hasOwnProperty("lastPart")||t.trigger("warn",{message:"#EXT-X-RENDITION-REPORT #"+n+" lacks required attribute(s): LAST-PART"})}))},"server-control":function(){var t=this.manifest.serverControl=_(e.attributes);t.hasOwnProperty("canBlockReload")||(t.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),b.call(this,this.manifest),t.canSkipDateranges&&!t.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint":function(){var t=this.manifest.segments.length,n=_(e.attributes),i=n.type&&"PART"===n.type;a.preloadHints=a.preloadHints||[],a.preloadHints.push(n),n.byterange&&(n.byterange.hasOwnProperty("offset")||(n.byterange.offset=i?g:0,i&&(g=n.byterange.offset+n.byterange.length)));var r=a.preloadHints.length-1;if(this.warnOnMissingAttributes_("#EXT-X-PRELOAD-HINT #"+r+" for segment #"+t,e.attributes,["TYPE","URI"]),n.type)for(var o=0;o<a.preloadHints.length-1;o++){var s=a.preloadHints[o];s.type&&(s.type===n.type&&this.trigger("warn",{message:"#EXT-X-PRELOAD-HINT #"+r+" for segment #"+t+" has the same TYPE "+n.type+" as preload hint #"+o}))}},"rendition-report":function(){var t=_(e.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(t);var n=this.manifest.renditionReports.length-1,i=["LAST-MSN","URI"];s&&i.push("LAST-PART"),this.warnOnMissingAttributes_("#EXT-X-RENDITION-REPORT #"+n,e.attributes,i)},"part-inf":function(){this.manifest.partInf=_(e.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",e.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),b.call(this,this.manifest)}}[e.tagType]||u).call(r)},uri:function(){a.uri=e.uri,o.push(a),this.manifest.targetDuration&&!("duration"in a)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),a.duration=this.manifest.targetDuration),i&&(a.key=i),a.timeline=c,n&&(a.map=n),g=0,a={}},comment:function(){},custom:function(){e.segment?(a.custom=a.custom||{},a.custom[e.customType]=e.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[e.customType]=e.data)}})[e.type].call(r)})),t}l.default(t,e);var n=t.prototype;return n.warnOnMissingAttributes_=function(e,t,n){var i=[];n.forEach((function(e){t.hasOwnProperty(e)||i.push(e)})),i.length&&this.trigger("warn",{message:e+" lacks required attribute(s): "+i.join(", ")})},n.push=function(e){this.lineStream.push(e)},n.end=function(){this.lineStream.push("\n"),this.trigger("end")},n.addParser=function(e){this.parseStream.addParser(e)},n.addTagMapper=function(e){this.parseStream.addTagMapper(e)},t}(c.default);n.LineStream=f,n.ParseStream=v,n.Parser=w},{"@babel/runtime/helpers/assertThisInitialized":238,"@babel/runtime/helpers/extends":240,"@babel/runtime/helpers/inheritsLoose":242,"@videojs/vhs-utils/cjs/decode-b64-to-uint8-array.js":251,"@videojs/vhs-utils/cjs/stream.js":260}],506:[function(e,t,n){!function(e,i){"object"==typeof n&&void 0!==t?t.exports=i():"function"==typeof define&&define.amd?define(i):e.moment=i()}(this,(function(){"use strict";var n,i;function r(){return n.apply(null,arguments)}function o(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function a(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(s(e,t))return!1;return!0}function l(e){return void 0===e}function c(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function d(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function p(e,t){var n,i=[];for(n=0;n<e.length;++n)i.push(t(e[n],n));return i}function h(e,t){for(var n in t)s(t,n)&&(e[n]=t[n]);return s(t,"toString")&&(e.toString=t.toString),s(t,"valueOf")&&(e.valueOf=t.valueOf),e}function f(e,t,n,i){return Ct(e,t,n,i,!0).utc()}function m(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function g(e){if(null==e._isValid){var t=m(e),n=i.call(t.parsedDateParts,(function(e){return null!=e})),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return r;e._isValid=r}return e._isValid}function y(e){var t=f(NaN);return null!=e?h(m(t),e):m(t).userInvalidated=!0,t}i=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),i=n.length>>>0;for(t=0;t<i;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var v=r.momentProperties=[],_=!1;function b(e,t){var n,i,r;if(l(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),l(t._i)||(e._i=t._i),l(t._f)||(e._f=t._f),l(t._l)||(e._l=t._l),l(t._strict)||(e._strict=t._strict),l(t._tzm)||(e._tzm=t._tzm),l(t._isUTC)||(e._isUTC=t._isUTC),l(t._offset)||(e._offset=t._offset),l(t._pf)||(e._pf=m(t)),l(t._locale)||(e._locale=t._locale),v.length>0)for(n=0;n<v.length;n++)l(r=t[i=v[n]])||(e[i]=r);return e}function w(e){b(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===_&&(_=!0,r.updateOffset(this),_=!1)}function E(e){return e instanceof w||null!=e&&null!=e._isAMomentObject}function S(e){!1===r.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function T(e,t){var n=!0;return h((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,e),n){var i,o,a,u=[];for(o=0;o<arguments.length;o++){if(i="","object"==typeof arguments[o]){for(a in i+="\n["+o+"] ",arguments[0])s(arguments[0],a)&&(i+=a+": "+arguments[0][a]+", ");i=i.slice(0,-2)}else i=arguments[o];u.push(i)}S(e+"\nArguments: "+Array.prototype.slice.call(u).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var C,x={};function A(e,t){null!=r.deprecationHandler&&r.deprecationHandler(e,t),x[e]||(S(t),x[e]=!0)}function k(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function I(e,t){var n,i=h({},e);for(n in t)s(t,n)&&(a(e[n])&&a(t[n])?(i[n]={},h(i[n],e[n]),h(i[n],t[n])):null!=t[n]?i[n]=t[n]:delete i[n]);for(n in e)s(e,n)&&!s(t,n)&&a(e[n])&&(i[n]=h({},i[n]));return i}function D(e){null!=e&&this.set(e)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,C=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)s(e,t)&&n.push(t);return n};function O(e,t,n){var i=""+Math.abs(e),r=t-i.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}var P=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,N=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,R={},L={};function M(e,t,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),e&&(L[e]=r),t&&(L[t[0]]=function(){return O(r.apply(this,arguments),t[1],t[2])}),n&&(L[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function F(e,t){return e.isValid()?(t=j(t,e.localeData()),R[t]=R[t]||function(e){var t,n,i,r=e.match(P);for(t=0,n=r.length;t<n;t++)L[r[t]]?r[t]=L[r[t]]:r[t]=(i=r[t]).match(/\[[\s\S]/)?i.replace(/^\[|\]$/g,""):i.replace(/\\/g,"");return function(t){var i,o="";for(i=0;i<n;i++)o+=k(r[i])?r[i].call(t,e):r[i];return o}}(t),R[t](e)):e.localeData().invalidDate()}function j(e,t){var n=5;function i(e){return t.longDateFormat(e)||e}for(N.lastIndex=0;n>=0&&N.test(e);)e=e.replace(N,i),N.lastIndex=0,n-=1;return e}var B={};function U(e,t){var n=e.toLowerCase();B[n]=B[n+"s"]=B[t]=e}function H(e){return"string"==typeof e?B[e]||B[e.toLowerCase()]:void 0}function $(e){var t,n,i={};for(n in e)s(e,n)&&(t=H(n))&&(i[t]=e[n]);return i}var G={};function q(e,t){G[e]=t}function V(e){return e%4==0&&e%100!=0||e%400==0}function z(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function W(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=z(t)),n}function K(e,t){return function(n){return null!=n?(J(this,e,n),r.updateOffset(this,t),this):Y(this,e)}}function Y(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function J(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&V(e.year())&&1===e.month()&&29===e.date()?(n=W(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Ee(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}var X,Q=/\d/,Z=/\d\d/,ee=/\d{3}/,te=/\d{4}/,ne=/[+-]?\d{6}/,ie=/\d\d?/,re=/\d\d\d\d?/,oe=/\d\d\d\d\d\d?/,ae=/\d{1,3}/,se=/\d{1,4}/,ue=/[+-]?\d{1,6}/,le=/\d+/,ce=/[+-]?\d+/,de=/Z|[+-]\d\d:?\d\d/gi,pe=/Z|[+-]\d\d(?::?\d\d)?/gi,he=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function fe(e,t,n){X[e]=k(t)?t:function(e,i){return e&&n?n:t}}function me(e,t){return s(X,e)?X[e](t._strict,t._locale):new RegExp(ge(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,i,r){return t||n||i||r}))))}function ge(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}X={};var ye={};function ve(e,t){var n,i=t;for("string"==typeof e&&(e=[e]),c(t)&&(i=function(e,n){n[t]=W(e)}),n=0;n<e.length;n++)ye[e[n]]=i}function _e(e,t){ve(e,(function(e,n,i,r){i._w=i._w||{},t(e,i._w,i,r)}))}function be(e,t,n){null!=t&&s(ye,e)&&ye[e](t,n._a,n,e)}var we;function Ee(e,t){if(isNaN(e)||isNaN(t))return NaN;var n,i=(t%(n=12)+n)%n;return e+=(t-i)/12,1===i?V(e)?29:28:31-i%7%2}we=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},M("M",["MM",2],"Mo",(function(){return this.month()+1})),M("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),M("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),U("month","M"),q("month",8),fe("M",ie),fe("MM",ie,Z),fe("MMM",(function(e,t){return t.monthsShortRegex(e)})),fe("MMMM",(function(e,t){return t.monthsRegex(e)})),ve(["M","MM"],(function(e,t){t[1]=W(e)-1})),ve(["MMM","MMMM"],(function(e,t,n,i){var r=n._locale.monthsParse(e,i,n._strict);null!=r?t[1]=r:m(n).invalidMonth=e}));var Se="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Te="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ce=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,xe=he,Ae=he;function ke(e,t,n){var i,r,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)o=f([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(r=we.call(this._shortMonthsParse,a))?r:null:-1!==(r=we.call(this._longMonthsParse,a))?r:null:"MMM"===t?-1!==(r=we.call(this._shortMonthsParse,a))||-1!==(r=we.call(this._longMonthsParse,a))?r:null:-1!==(r=we.call(this._longMonthsParse,a))||-1!==(r=we.call(this._shortMonthsParse,a))?r:null}function Ie(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=W(t);else if(!c(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Ee(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function De(e){return null!=e?(Ie(this,e),r.updateOffset(this,!0),this):Y(this,"Month")}function Oe(){function e(e,t){return t.length-e.length}var t,n,i=[],r=[],o=[];for(t=0;t<12;t++)n=f([2e3,t]),i.push(this.monthsShort(n,"")),r.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(i.sort(e),r.sort(e),o.sort(e),t=0;t<12;t++)i[t]=ge(i[t]),r[t]=ge(r[t]);for(t=0;t<24;t++)o[t]=ge(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function Pe(e){return V(e)?366:365}M("Y",0,0,(function(){var e=this.year();return e<=9999?O(e,4):"+"+e})),M(0,["YY",2],0,(function(){return this.year()%100})),M(0,["YYYY",4],0,"year"),M(0,["YYYYY",5],0,"year"),M(0,["YYYYYY",6,!0],0,"year"),U("year","y"),q("year",1),fe("Y",ce),fe("YY",ie,Z),fe("YYYY",se,te),fe("YYYYY",ue,ne),fe("YYYYYY",ue,ne),ve(["YYYYY","YYYYYY"],0),ve("YYYY",(function(e,t){t[0]=2===e.length?r.parseTwoDigitYear(e):W(e)})),ve("YY",(function(e,t){t[0]=r.parseTwoDigitYear(e)})),ve("Y",(function(e,t){t[0]=parseInt(e,10)})),r.parseTwoDigitYear=function(e){return W(e)+(W(e)>68?1900:2e3)};var Ne=K("FullYear",!0);function Re(e,t,n,i,r,o,a){var s;return e<100&&e>=0?(s=new Date(e+400,t,n,i,r,o,a),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,i,r,o,a),s}function Le(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Me(e,t,n){var i=7+t-n;return-((7+Le(e,0,i).getUTCDay()-t)%7)+i-1}function Fe(e,t,n,i,r){var o,a,s=1+7*(t-1)+(7+n-i)%7+Me(e,i,r);return s<=0?a=Pe(o=e-1)+s:s>Pe(e)?(o=e+1,a=s-Pe(e)):(o=e,a=s),{year:o,dayOfYear:a}}function je(e,t,n){var i,r,o=Me(e.year(),t,n),a=Math.floor((e.dayOfYear()-o-1)/7)+1;return a<1?i=a+Be(r=e.year()-1,t,n):a>Be(e.year(),t,n)?(i=a-Be(e.year(),t,n),r=e.year()+1):(r=e.year(),i=a),{week:i,year:r}}function Be(e,t,n){var i=Me(e,t,n),r=Me(e+1,t,n);return(Pe(e)-i+r)/7}M("w",["ww",2],"wo","week"),M("W",["WW",2],"Wo","isoWeek"),U("week","w"),U("isoWeek","W"),q("week",5),q("isoWeek",5),fe("w",ie),fe("ww",ie,Z),fe("W",ie),fe("WW",ie,Z),_e(["w","ww","W","WW"],(function(e,t,n,i){t[i.substr(0,1)]=W(e)}));function Ue(e,t){return e.slice(t,7).concat(e.slice(0,t))}M("d",0,"do","day"),M("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),M("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),M("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),M("e",0,0,"weekday"),M("E",0,0,"isoWeekday"),U("day","d"),U("weekday","e"),U("isoWeekday","E"),q("day",11),q("weekday",11),q("isoWeekday",11),fe("d",ie),fe("e",ie),fe("E",ie),fe("dd",(function(e,t){return t.weekdaysMinRegex(e)})),fe("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),fe("dddd",(function(e,t){return t.weekdaysRegex(e)})),_e(["dd","ddd","dddd"],(function(e,t,n,i){var r=n._locale.weekdaysParse(e,i,n._strict);null!=r?t.d=r:m(n).invalidWeekday=e})),_e(["d","e","E"],(function(e,t,n,i){t[i]=W(e)}));var He="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),$e="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ge="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),qe=he,Ve=he,ze=he;function We(e,t,n){var i,r,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)o=f([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(r=we.call(this._weekdaysParse,a))?r:null:"ddd"===t?-1!==(r=we.call(this._shortWeekdaysParse,a))?r:null:-1!==(r=we.call(this._minWeekdaysParse,a))?r:null:"dddd"===t?-1!==(r=we.call(this._weekdaysParse,a))||-1!==(r=we.call(this._shortWeekdaysParse,a))||-1!==(r=we.call(this._minWeekdaysParse,a))?r:null:"ddd"===t?-1!==(r=we.call(this._shortWeekdaysParse,a))||-1!==(r=we.call(this._weekdaysParse,a))||-1!==(r=we.call(this._minWeekdaysParse,a))?r:null:-1!==(r=we.call(this._minWeekdaysParse,a))||-1!==(r=we.call(this._weekdaysParse,a))||-1!==(r=we.call(this._shortWeekdaysParse,a))?r:null}function Ke(){function e(e,t){return t.length-e.length}var t,n,i,r,o,a=[],s=[],u=[],l=[];for(t=0;t<7;t++)n=f([2e3,1]).day(t),i=ge(this.weekdaysMin(n,"")),r=ge(this.weekdaysShort(n,"")),o=ge(this.weekdays(n,"")),a.push(i),s.push(r),u.push(o),l.push(i),l.push(r),l.push(o);a.sort(e),s.sort(e),u.sort(e),l.sort(e),this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Ye(){return this.hours()%12||12}function Je(e,t){M(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function Xe(e,t){return t._meridiemParse}M("H",["HH",2],0,"hour"),M("h",["hh",2],0,Ye),M("k",["kk",2],0,(function(){return this.hours()||24})),M("hmm",0,0,(function(){return""+Ye.apply(this)+O(this.minutes(),2)})),M("hmmss",0,0,(function(){return""+Ye.apply(this)+O(this.minutes(),2)+O(this.seconds(),2)})),M("Hmm",0,0,(function(){return""+this.hours()+O(this.minutes(),2)})),M("Hmmss",0,0,(function(){return""+this.hours()+O(this.minutes(),2)+O(this.seconds(),2)})),Je("a",!0),Je("A",!1),U("hour","h"),q("hour",13),fe("a",Xe),fe("A",Xe),fe("H",ie),fe("h",ie),fe("k",ie),fe("HH",ie,Z),fe("hh",ie,Z),fe("kk",ie,Z),fe("hmm",re),fe("hmmss",oe),fe("Hmm",re),fe("Hmmss",oe),ve(["H","HH"],3),ve(["k","kk"],(function(e,t,n){var i=W(e);t[3]=24===i?0:i})),ve(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),ve(["h","hh"],(function(e,t,n){t[3]=W(e),m(n).bigHour=!0})),ve("hmm",(function(e,t,n){var i=e.length-2;t[3]=W(e.substr(0,i)),t[4]=W(e.substr(i)),m(n).bigHour=!0})),ve("hmmss",(function(e,t,n){var i=e.length-4,r=e.length-2;t[3]=W(e.substr(0,i)),t[4]=W(e.substr(i,2)),t[5]=W(e.substr(r)),m(n).bigHour=!0})),ve("Hmm",(function(e,t,n){var i=e.length-2;t[3]=W(e.substr(0,i)),t[4]=W(e.substr(i))})),ve("Hmmss",(function(e,t,n){var i=e.length-4,r=e.length-2;t[3]=W(e.substr(0,i)),t[4]=W(e.substr(i,2)),t[5]=W(e.substr(r))}));var Qe=K("Hours",!0);var Ze,et={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Se,monthsShort:Te,week:{dow:0,doy:6},weekdays:He,weekdaysMin:Ge,weekdaysShort:$e,meridiemParse:/[ap]\.?m?\.?/i},tt={},nt={};function it(e,t){var n,i=Math.min(e.length,t.length);for(n=0;n<i;n+=1)if(e[n]!==t[n])return n;return i}function rt(e){return e?e.toLowerCase().replace("_","-"):e}function ot(n){var i=null;if(void 0===tt[n]&&void 0!==t&&t&&t.exports)try{i=Ze._abbr,e("./locale/"+n),at(i)}catch(e){tt[n]=null}return tt[n]}function at(e,t){var n;return e&&((n=l(t)?ut(e):st(e,t))?Ze=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),Ze._abbr}function st(e,t){if(null!==t){var n,i=et;if(t.abbr=e,null!=tt[e])A("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=tt[e]._config;else if(null!=t.parentLocale)if(null!=tt[t.parentLocale])i=tt[t.parentLocale]._config;else{if(null==(n=ot(t.parentLocale)))return nt[t.parentLocale]||(nt[t.parentLocale]=[]),nt[t.parentLocale].push({name:e,config:t}),null;i=n._config}return tt[e]=new D(I(i,t)),nt[e]&&nt[e].forEach((function(e){st(e.name,e.config)})),at(e),tt[e]}return delete tt[e],null}function ut(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Ze;if(!o(e)){if(t=ot(e))return t;e=[e]}return function(e){for(var t,n,i,r,o=0;o<e.length;){for(t=(r=rt(e[o]).split("-")).length,n=(n=rt(e[o+1]))?n.split("-"):null;t>0;){if(i=ot(r.slice(0,t).join("-")))return i;if(n&&n.length>=t&&it(r,n)>=t-1)break;t--}o++}return Ze}(e)}function lt(e){var t,n=e._a;return n&&-2===m(e).overflow&&(t=n[1]<0||n[1]>11?1:n[2]<1||n[2]>Ee(n[0],n[1])?2:n[3]<0||n[3]>24||24===n[3]&&(0!==n[4]||0!==n[5]||0!==n[6])?3:n[4]<0||n[4]>59?4:n[5]<0||n[5]>59?5:n[6]<0||n[6]>999?6:-1,m(e)._overflowDayOfYear&&(t<0||t>2)&&(t=2),m(e)._overflowWeeks&&-1===t&&(t=7),m(e)._overflowWeekday&&-1===t&&(t=8),m(e).overflow=t),e}var ct=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,dt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,pt=/Z|[+-]\d\d(?::?\d\d)?/,ht=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],ft=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],mt=/^\/?Date\((-?\d+)/i,gt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,yt={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function vt(e){var t,n,i,r,o,a,s=e._i,u=ct.exec(s)||dt.exec(s);if(u){for(m(e).iso=!0,t=0,n=ht.length;t<n;t++)if(ht[t][1].exec(u[1])){r=ht[t][0],i=!1!==ht[t][2];break}if(null==r)return void(e._isValid=!1);if(u[3]){for(t=0,n=ft.length;t<n;t++)if(ft[t][1].exec(u[3])){o=(u[2]||" ")+ft[t][0];break}if(null==o)return void(e._isValid=!1)}if(!i&&null!=o)return void(e._isValid=!1);if(u[4]){if(!pt.exec(u[4]))return void(e._isValid=!1);a="Z"}e._f=r+(o||"")+(a||""),St(e)}else e._isValid=!1}function _t(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function bt(e){var t,n,i,r,o,a,s,u,l=gt.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(l){if(n=l[4],i=l[3],r=l[2],o=l[5],a=l[6],s=l[7],u=[_t(n),Te.indexOf(i),parseInt(r,10),parseInt(o,10),parseInt(a,10)],s&&u.push(parseInt(s,10)),t=u,!function(e,t,n){return!e||$e.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(m(n).weekdayMismatch=!0,n._isValid=!1,!1)}(l[1],t,e))return;e._a=t,e._tzm=function(e,t,n){if(e)return yt[e];if(t)return 0;var i=parseInt(n,10),r=i%100;return(i-r)/100*60+r}(l[8],l[9],l[10]),e._d=Le.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),m(e).rfc2822=!0}else e._isValid=!1}function wt(e,t,n){return null!=e?e:null!=t?t:n}function Et(e){var t,n,i,o,a,s=[];if(!e._d){for(i=function(e){var t=new Date(r.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[2]&&null==e._a[1]&&function(e){var t,n,i,r,o,a,s,u,l;null!=(t=e._w).GG||null!=t.W||null!=t.E?(o=1,a=4,n=wt(t.GG,e._a[0],je(xt(),1,4).year),i=wt(t.W,1),((r=wt(t.E,1))<1||r>7)&&(u=!0)):(o=e._locale._week.dow,a=e._locale._week.doy,l=je(xt(),o,a),n=wt(t.gg,e._a[0],l.year),i=wt(t.w,l.week),null!=t.d?((r=t.d)<0||r>6)&&(u=!0):null!=t.e?(r=t.e+o,(t.e<0||t.e>6)&&(u=!0)):r=o);i<1||i>Be(n,o,a)?m(e)._overflowWeeks=!0:null!=u?m(e)._overflowWeekday=!0:(s=Fe(n,i,r,o,a),e._a[0]=s.year,e._dayOfYear=s.dayOfYear)}(e),null!=e._dayOfYear&&(a=wt(e._a[0],i[0]),(e._dayOfYear>Pe(a)||0===e._dayOfYear)&&(m(e)._overflowDayOfYear=!0),n=Le(a,0,e._dayOfYear),e._a[1]=n.getUTCMonth(),e._a[2]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=s[t]=i[t];for(;t<7;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[3]&&0===e._a[4]&&0===e._a[5]&&0===e._a[6]&&(e._nextDay=!0,e._a[3]=0),e._d=(e._useUTC?Le:Re).apply(null,s),o=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[3]=24),e._w&&void 0!==e._w.d&&e._w.d!==o&&(m(e).weekdayMismatch=!0)}}function St(e){if(e._f!==r.ISO_8601)if(e._f!==r.RFC_2822){e._a=[],m(e).empty=!0;var t,n,i,o,a,s,u=""+e._i,l=u.length,c=0;for(i=j(e._f,e._locale).match(P)||[],t=0;t<i.length;t++)o=i[t],(n=(u.match(me(o,e))||[])[0])&&((a=u.substr(0,u.indexOf(n))).length>0&&m(e).unusedInput.push(a),u=u.slice(u.indexOf(n)+n.length),c+=n.length),L[o]?(n?m(e).empty=!1:m(e).unusedTokens.push(o),be(o,n,e)):e._strict&&!n&&m(e).unusedTokens.push(o);m(e).charsLeftOver=l-c,u.length>0&&m(e).unusedInput.push(u),e._a[3]<=12&&!0===m(e).bigHour&&e._a[3]>0&&(m(e).bigHour=void 0),m(e).parsedDateParts=e._a.slice(0),m(e).meridiem=e._meridiem,e._a[3]=function(e,t,n){var i;if(null==n)return t;return null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((i=e.isPM(n))&&t<12&&(t+=12),i||12!==t||(t=0),t):t}(e._locale,e._a[3],e._meridiem),null!==(s=m(e).era)&&(e._a[0]=e._locale.erasConvertYear(s,e._a[0])),Et(e),lt(e)}else bt(e);else vt(e)}function Tt(e){var t=e._i,n=e._f;return e._locale=e._locale||ut(e._l),null===t||void 0===n&&""===t?y({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),E(t)?new w(lt(t)):(d(t)?e._d=t:o(n)?function(e){var t,n,i,r,o,a,s=!1;if(0===e._f.length)return m(e).invalidFormat=!0,void(e._d=new Date(NaN));for(r=0;r<e._f.length;r++)o=0,a=!1,t=b({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],St(t),g(t)&&(a=!0),o+=m(t).charsLeftOver,o+=10*m(t).unusedTokens.length,m(t).score=o,s?o<i&&(i=o,n=t):(null==i||o<i||a)&&(i=o,n=t,a&&(s=!0));h(e,n||t)}(e):n?St(e):function(e){var t=e._i;l(t)?e._d=new Date(r.now()):d(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=mt.exec(e._i);null===t?(vt(e),!1===e._isValid&&(delete e._isValid,bt(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:r.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):o(t)?(e._a=p(t.slice(0),(function(e){return parseInt(e,10)})),Et(e)):a(t)?function(e){if(!e._d){var t=$(e._i),n=void 0===t.day?t.date:t.day;e._a=p([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),Et(e)}}(e):c(t)?e._d=new Date(t):r.createFromInputFallback(e)}(e),g(e)||(e._d=null),e))}function Ct(e,t,n,i,r){var s,l={};return!0!==t&&!1!==t||(i=t,t=void 0),!0!==n&&!1!==n||(i=n,n=void 0),(a(e)&&u(e)||o(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=r,l._l=n,l._i=e,l._f=t,l._strict=i,(s=new w(lt(Tt(l))))._nextDay&&(s.add(1,"d"),s._nextDay=void 0),s}function xt(e,t,n,i){return Ct(e,t,n,i,!1)}r.createFromInputFallback=T("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var At=T("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=xt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:y()})),kt=T("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=xt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:y()}));function It(e,t){var n,i;if(1===t.length&&o(t[0])&&(t=t[0]),!t.length)return xt();for(n=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][e](n)||(n=t[i]);return n}var Dt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Ot(e){var t=$(e),n=t.year||0,i=t.quarter||0,r=t.month||0,o=t.week||t.isoWeek||0,a=t.day||0,u=t.hour||0,l=t.minute||0,c=t.second||0,d=t.millisecond||0;this._isValid=function(e){var t,n,i=!1;for(t in e)if(s(e,t)&&(-1===we.call(Dt,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<Dt.length;++n)if(e[Dt[n]]){if(i)return!1;parseFloat(e[Dt[n]])!==W(e[Dt[n]])&&(i=!0)}return!0}(t),this._milliseconds=+d+1e3*c+6e4*l+1e3*u*60*60,this._days=+a+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=ut(),this._bubble()}function Pt(e){return e instanceof Ot}function Nt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Rt(e,t){M(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+O(~~(e/60),2)+t+O(~~e%60,2)}))}Rt("Z",":"),Rt("ZZ",""),fe("Z",pe),fe("ZZ",pe),ve(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=Mt(pe,e)}));var Lt=/([\+\-]|\d\d)/gi;function Mt(e,t){var n,i,r=(t||"").match(e);return null===r?null:0===(i=60*(n=((r[r.length-1]||[])+"").match(Lt)||["-",0,0])[1]+W(n[2]))?0:"+"===n[0]?i:-i}function Ft(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(E(e)||d(e)?e.valueOf():xt(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),r.updateOffset(n,!1),n):xt(e).local()}function jt(e){return-Math.round(e._d.getTimezoneOffset())}function Bt(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}r.updateOffset=function(){};var Ut=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Ht=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function $t(e,t){var n,i,r,o=e,a=null;return Pt(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:c(e)||!isNaN(+e)?(o={},t?o[t]=+e:o.milliseconds=+e):(a=Ut.exec(e))?(n="-"===a[1]?-1:1,o={y:0,d:W(a[2])*n,h:W(a[3])*n,m:W(a[4])*n,s:W(a[5])*n,ms:W(Nt(1e3*a[6]))*n}):(a=Ht.exec(e))?(n="-"===a[1]?-1:1,o={y:Gt(a[2],n),M:Gt(a[3],n),w:Gt(a[4],n),d:Gt(a[5],n),h:Gt(a[6],n),m:Gt(a[7],n),s:Gt(a[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(r=function(e,t){var n;if(!e.isValid()||!t.isValid())return{milliseconds:0,months:0};t=Ft(t,e),e.isBefore(t)?n=qt(e,t):((n=qt(t,e)).milliseconds=-n.milliseconds,n.months=-n.months);return n}(xt(o.from),xt(o.to)),(o={}).ms=r.milliseconds,o.M=r.months),i=new Ot(o),Pt(e)&&s(e,"_locale")&&(i._locale=e._locale),Pt(e)&&s(e,"_isValid")&&(i._isValid=e._isValid),i}function Gt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function qt(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Vt(e,t){return function(n,i){var r;return null===i||isNaN(+i)||(A(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=n,n=i,i=r),zt(this,$t(n,i),e),this}}function zt(e,t,n,i){var o=t._milliseconds,a=Nt(t._days),s=Nt(t._months);e.isValid()&&(i=null==i||i,s&&Ie(e,Y(e,"Month")+s*n),a&&J(e,"Date",Y(e,"Date")+a*n),o&&e._d.setTime(e._d.valueOf()+o*n),i&&r.updateOffset(e,a||s))}$t.fn=Ot.prototype,$t.invalid=function(){return $t(NaN)};var Wt=Vt(1,"add"),Kt=Vt(-1,"subtract");function Yt(e){return"string"==typeof e||e instanceof String}function Jt(e){return E(e)||d(e)||Yt(e)||c(e)||function(e){var t=o(e),n=!1;t&&(n=0===e.filter((function(t){return!c(t)&&Yt(e)})).length);return t&&n}(e)||function(e){var t,n,i=a(e)&&!u(e),r=!1,o=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(t=0;t<o.length;t+=1)n=o[t],r=r||s(e,n);return i&&r}(e)||null==e}function Xt(e){var t,n=a(e)&&!u(e),i=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<r.length;t+=1)i=i||s(e,r[t]);return n&&i}function Qt(e,t){if(e.date()<t.date())return-Qt(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),i=e.clone().add(n,"months");return-(n+(t-i<0?(t-i)/(i-e.clone().add(n-1,"months")):(t-i)/(e.clone().add(n+1,"months")-i)))||0}function Zt(e){var t;return void 0===e?this._locale._abbr:(null!=(t=ut(e))&&(this._locale=t),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var en=T("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function tn(){return this._locale}var nn=1e3,rn=6e4,on=36e5,an=126227808e5;function sn(e,t){return(e%t+t)%t}function un(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-an:new Date(e,t,n).valueOf()}function ln(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-an:Date.UTC(e,t,n)}function cn(e,t){return t.erasAbbrRegex(e)}function dn(){var e,t,n=[],i=[],r=[],o=[],a=this.eras();for(e=0,t=a.length;e<t;++e)i.push(ge(a[e].name)),n.push(ge(a[e].abbr)),r.push(ge(a[e].narrow)),o.push(ge(a[e].name)),o.push(ge(a[e].abbr)),o.push(ge(a[e].narrow));this._erasRegex=new RegExp("^("+o.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+i.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}function pn(e,t){M(0,[e,e.length],0,t)}function hn(e,t,n,i,r){var o;return null==e?je(this,i,r).year:(t>(o=Be(e,i,r))&&(t=o),fn.call(this,e,t,n,i,r))}function fn(e,t,n,i,r){var o=Fe(e,t,n,i,r),a=Le(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}M("N",0,0,"eraAbbr"),M("NN",0,0,"eraAbbr"),M("NNN",0,0,"eraAbbr"),M("NNNN",0,0,"eraName"),M("NNNNN",0,0,"eraNarrow"),M("y",["y",1],"yo","eraYear"),M("y",["yy",2],0,"eraYear"),M("y",["yyy",3],0,"eraYear"),M("y",["yyyy",4],0,"eraYear"),fe("N",cn),fe("NN",cn),fe("NNN",cn),fe("NNNN",(function(e,t){return t.erasNameRegex(e)})),fe("NNNNN",(function(e,t){return t.erasNarrowRegex(e)})),ve(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,i){var r=n._locale.erasParse(e,i,n._strict);r?m(n).era=r:m(n).invalidEra=e})),fe("y",le),fe("yy",le),fe("yyy",le),fe("yyyy",le),fe("yo",(function(e,t){return t._eraYearOrdinalRegex||le})),ve(["y","yy","yyy","yyyy"],0),ve(["yo"],(function(e,t,n,i){var r;n._locale._eraYearOrdinalRegex&&(r=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[0]=n._locale.eraYearOrdinalParse(e,r):t[0]=parseInt(e,10)})),M(0,["gg",2],0,(function(){return this.weekYear()%100})),M(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),pn("gggg","weekYear"),pn("ggggg","weekYear"),pn("GGGG","isoWeekYear"),pn("GGGGG","isoWeekYear"),U("weekYear","gg"),U("isoWeekYear","GG"),q("weekYear",1),q("isoWeekYear",1),fe("G",ce),fe("g",ce),fe("GG",ie,Z),fe("gg",ie,Z),fe("GGGG",se,te),fe("gggg",se,te),fe("GGGGG",ue,ne),fe("ggggg",ue,ne),_e(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,i){t[i.substr(0,2)]=W(e)})),_e(["gg","GG"],(function(e,t,n,i){t[i]=r.parseTwoDigitYear(e)})),M("Q",0,"Qo","quarter"),U("quarter","Q"),q("quarter",7),fe("Q",Q),ve("Q",(function(e,t){t[1]=3*(W(e)-1)})),M("D",["DD",2],"Do","date"),U("date","D"),q("date",9),fe("D",ie),fe("DD",ie,Z),fe("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),ve(["D","DD"],2),ve("Do",(function(e,t){t[2]=W(e.match(ie)[0])}));var mn=K("Date",!0);M("DDD",["DDDD",3],"DDDo","dayOfYear"),U("dayOfYear","DDD"),q("dayOfYear",4),fe("DDD",ae),fe("DDDD",ee),ve(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=W(e)})),M("m",["mm",2],0,"minute"),U("minute","m"),q("minute",14),fe("m",ie),fe("mm",ie,Z),ve(["m","mm"],4);var gn=K("Minutes",!1);M("s",["ss",2],0,"second"),U("second","s"),q("second",15),fe("s",ie),fe("ss",ie,Z),ve(["s","ss"],5);var yn,vn,_n=K("Seconds",!1);for(M("S",0,0,(function(){return~~(this.millisecond()/100)})),M(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),M(0,["SSS",3],0,"millisecond"),M(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),M(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),M(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),M(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),M(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),M(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),U("millisecond","ms"),q("millisecond",16),fe("S",ae,Q),fe("SS",ae,Z),fe("SSS",ae,ee),yn="SSSS";yn.length<=9;yn+="S")fe(yn,le);function bn(e,t){t[6]=W(1e3*("0."+e))}for(yn="S";yn.length<=9;yn+="S")ve(yn,bn);vn=K("Milliseconds",!1),M("z",0,0,"zoneAbbr"),M("zz",0,0,"zoneName");var wn=w.prototype;function En(e){return e}wn.add=Wt,wn.calendar=function(e,t){1===arguments.length&&(arguments[0]?Jt(arguments[0])?(e=arguments[0],t=void 0):Xt(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||xt(),i=Ft(n,this).startOf("day"),o=r.calendarFormat(this,i)||"sameElse",a=t&&(k(t[o])?t[o].call(this,n):t[o]);return this.format(a||this.localeData().calendar(o,this,xt(n)))},wn.clone=function(){return new w(this)},wn.diff=function(e,t,n){var i,r,o;if(!this.isValid())return NaN;if(!(i=Ft(e,this)).isValid())return NaN;switch(r=6e4*(i.utcOffset()-this.utcOffset()),t=H(t)){case"year":o=Qt(this,i)/12;break;case"month":o=Qt(this,i);break;case"quarter":o=Qt(this,i)/3;break;case"second":o=(this-i)/1e3;break;case"minute":o=(this-i)/6e4;break;case"hour":o=(this-i)/36e5;break;case"day":o=(this-i-r)/864e5;break;case"week":o=(this-i-r)/6048e5;break;default:o=this-i}return n?o:z(o)},wn.endOf=function(e){var t,n;if(void 0===(e=H(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?ln:un,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=on-sn(t+(this._isUTC?0:this.utcOffset()*rn),on)-1;break;case"minute":t=this._d.valueOf(),t+=rn-sn(t,rn)-1;break;case"second":t=this._d.valueOf(),t+=nn-sn(t,nn)-1}return this._d.setTime(t),r.updateOffset(this,!0),this},wn.format=function(e){e||(e=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var t=F(this,e);return this.localeData().postformat(t)},wn.from=function(e,t){return this.isValid()&&(E(e)&&e.isValid()||xt(e).isValid())?$t({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},wn.fromNow=function(e){return this.from(xt(),e)},wn.to=function(e,t){return this.isValid()&&(E(e)&&e.isValid()||xt(e).isValid())?$t({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},wn.toNow=function(e){return this.to(xt(),e)},wn.get=function(e){return k(this[e=H(e)])?this[e]():this},wn.invalidAt=function(){return m(this).overflow},wn.isAfter=function(e,t){var n=E(e)?e:xt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=H(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},wn.isBefore=function(e,t){var n=E(e)?e:xt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=H(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},wn.isBetween=function(e,t,n,i){var r=E(e)?e:xt(e),o=E(t)?t:xt(t);return!!(this.isValid()&&r.isValid()&&o.isValid())&&(("("===(i=i||"()")[0]?this.isAfter(r,n):!this.isBefore(r,n))&&(")"===i[1]?this.isBefore(o,n):!this.isAfter(o,n)))},wn.isSame=function(e,t){var n,i=E(e)?e:xt(e);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=H(t)||"millisecond")?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},wn.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},wn.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},wn.isValid=function(){return g(this)},wn.lang=en,wn.locale=Zt,wn.localeData=tn,wn.max=kt,wn.min=At,wn.parsingFlags=function(){return h({},m(this))},wn.set=function(e,t){if("object"==typeof e){var n,i=function(e){var t,n=[];for(t in e)s(e,t)&&n.push({unit:t,priority:G[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}(e=$(e));for(n=0;n<i.length;n++)this[i[n].unit](e[i[n].unit])}else if(k(this[e=H(e)]))return this[e](t);return this},wn.startOf=function(e){var t,n;if(void 0===(e=H(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?ln:un,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=sn(t+(this._isUTC?0:this.utcOffset()*rn),on);break;case"minute":t=this._d.valueOf(),t-=sn(t,rn);break;case"second":t=this._d.valueOf(),t-=sn(t,nn)}return this._d.setTime(t),r.updateOffset(this,!0),this},wn.subtract=Kt,wn.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},wn.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},wn.toDate=function(){return new Date(this.valueOf())},wn.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?F(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):k(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",F(n,"Z")):F(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},wn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,i="moment",r="";return this.isLocal()||(i=0===this.utcOffset()?"moment.utc":"moment.parseZone",r="Z"),e="["+i+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY","-MM-DD[T]HH:mm:ss.SSS",n=r+'[")]',this.format(e+t+"-MM-DD[T]HH:mm:ss.SSS"+n)},"undefined"!=typeof Symbol&&null!=Symbol.for&&(wn[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),wn.toJSON=function(){return this.isValid()?this.toISOString():null},wn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},wn.unix=function(){return Math.floor(this.valueOf()/1e3)},wn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},wn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},wn.eraName=function(){var e,t,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until)return i[e].name;if(i[e].until<=n&&n<=i[e].since)return i[e].name}return""},wn.eraNarrow=function(){var e,t,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until)return i[e].narrow;if(i[e].until<=n&&n<=i[e].since)return i[e].narrow}return""},wn.eraAbbr=function(){var e,t,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until)return i[e].abbr;if(i[e].until<=n&&n<=i[e].since)return i[e].abbr}return""},wn.eraYear=function(){var e,t,n,i,o=this.localeData().eras();for(e=0,t=o.length;e<t;++e)if(n=o[e].since<=o[e].until?1:-1,i=this.clone().startOf("day").valueOf(),o[e].since<=i&&i<=o[e].until||o[e].until<=i&&i<=o[e].since)return(this.year()-r(o[e].since).year())*n+o[e].offset;return this.year()},wn.year=Ne,wn.isLeapYear=function(){return V(this.year())},wn.weekYear=function(e){return hn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},wn.isoWeekYear=function(e){return hn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},wn.quarter=wn.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},wn.month=De,wn.daysInMonth=function(){return Ee(this.year(),this.month())},wn.week=wn.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},wn.isoWeek=wn.isoWeeks=function(e){var t=je(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},wn.weeksInYear=function(){var e=this.localeData()._week;return Be(this.year(),e.dow,e.doy)},wn.weeksInWeekYear=function(){var e=this.localeData()._week;return Be(this.weekYear(),e.dow,e.doy)},wn.isoWeeksInYear=function(){return Be(this.year(),1,4)},wn.isoWeeksInISOWeekYear=function(){return Be(this.isoWeekYear(),1,4)},wn.date=mn,wn.day=wn.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},wn.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},wn.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},wn.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},wn.hour=wn.hours=Qe,wn.minute=wn.minutes=gn,wn.second=wn.seconds=_n,wn.millisecond=wn.milliseconds=vn,wn.utcOffset=function(e,t,n){var i,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Mt(pe,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(i=jt(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==e&&(!t||this._changeInProgress?zt(this,$t(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:jt(this)},wn.utc=function(e){return this.utcOffset(0,e)},wn.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(jt(this),"m")),this},wn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Mt(de,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},wn.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?xt(e).utcOffset():0,(this.utcOffset()-e)%60==0)},wn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},wn.isLocal=function(){return!!this.isValid()&&!this._isUTC},wn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},wn.isUtc=Bt,wn.isUTC=Bt,wn.zoneAbbr=function(){return this._isUTC?"UTC":""},wn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},wn.dates=T("dates accessor is deprecated. Use date instead.",mn),wn.months=T("months accessor is deprecated. Use month instead",De),wn.years=T("years accessor is deprecated. Use year instead",Ne),wn.zone=T("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()})),wn.isDSTShifted=T("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!l(this._isDSTShifted))return this._isDSTShifted;var e,t={};return b(t,this),(t=Tt(t))._a?(e=t._isUTC?f(t._a):xt(t._a),this._isDSTShifted=this.isValid()&&function(e,t,n){var i,r=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(i=0;i<r;i++)(n&&e[i]!==t[i]||!n&&W(e[i])!==W(t[i]))&&a++;return a+o}(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}));var Sn=D.prototype;function Tn(e,t,n,i){var r=ut(),o=f().set(i,t);return r[n](o,e)}function Cn(e,t,n){if(c(e)&&(t=e,e=void 0),e=e||"",null!=t)return Tn(e,t,n,"month");var i,r=[];for(i=0;i<12;i++)r[i]=Tn(e,i,n,"month");return r}function xn(e,t,n,i){"boolean"==typeof e?(c(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,c(t)&&(n=t,t=void 0),t=t||"");var r,o=ut(),a=e?o._week.dow:0,s=[];if(null!=n)return Tn(t,(n+a)%7,i,"day");for(r=0;r<7;r++)s[r]=Tn(t,(r+a)%7,i,"day");return s}Sn.calendar=function(e,t,n){var i=this._calendar[e]||this._calendar.sameElse;return k(i)?i.call(t,n):i},Sn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(P).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])},Sn.invalidDate=function(){return this._invalidDate},Sn.ordinal=function(e){return this._ordinal.replace("%d",e)},Sn.preparse=En,Sn.postformat=En,Sn.relativeTime=function(e,t,n,i){var r=this._relativeTime[n];return k(r)?r(e,t,n,i):r.replace(/%d/i,e)},Sn.pastFuture=function(e,t){var n=this._relativeTime[e>0?"future":"past"];return k(n)?n(t):n.replace(/%s/i,t)},Sn.set=function(e){var t,n;for(n in e)s(e,n)&&(k(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},Sn.eras=function(e,t){var n,i,o,a=this._eras||ut("en")._eras;for(n=0,i=a.length;n<i;++n){if("string"==typeof a[n].since)o=r(a[n].since).startOf("day"),a[n].since=o.valueOf();switch(typeof a[n].until){case"undefined":a[n].until=1/0;break;case"string":o=r(a[n].until).startOf("day").valueOf(),a[n].until=o.valueOf()}}return a},Sn.erasParse=function(e,t,n){var i,r,o,a,s,u=this.eras();for(e=e.toUpperCase(),i=0,r=u.length;i<r;++i)if(o=u[i].name.toUpperCase(),a=u[i].abbr.toUpperCase(),s=u[i].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(a===e)return u[i];break;case"NNNN":if(o===e)return u[i];break;case"NNNNN":if(s===e)return u[i]}else if([o,a,s].indexOf(e)>=0)return u[i]},Sn.erasConvertYear=function(e,t){var n=e.since<=e.until?1:-1;return void 0===t?r(e.since).year():r(e.since).year()+(t-e.offset)*n},Sn.erasAbbrRegex=function(e){return s(this,"_erasAbbrRegex")||dn.call(this),e?this._erasAbbrRegex:this._erasRegex},Sn.erasNameRegex=function(e){return s(this,"_erasNameRegex")||dn.call(this),e?this._erasNameRegex:this._erasRegex},Sn.erasNarrowRegex=function(e){return s(this,"_erasNarrowRegex")||dn.call(this),e?this._erasNarrowRegex:this._erasRegex},Sn.months=function(e,t){return e?o(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Ce).test(t)?"format":"standalone"][e.month()]:o(this._months)?this._months:this._months.standalone},Sn.monthsShort=function(e,t){return e?o(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Ce.test(t)?"format":"standalone"][e.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},Sn.monthsParse=function(e,t,n){var i,r,o;if(this._monthsParseExact)return ke.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=f([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}},Sn.monthsRegex=function(e){return this._monthsParseExact?(s(this,"_monthsRegex")||Oe.call(this),e?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=Ae),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},Sn.monthsShortRegex=function(e){return this._monthsParseExact?(s(this,"_monthsRegex")||Oe.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=xe),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},Sn.week=function(e){return je(e,this._week.dow,this._week.doy).week},Sn.firstDayOfYear=function(){return this._week.doy},Sn.firstDayOfWeek=function(){return this._week.dow},Sn.weekdays=function(e,t){var n=o(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Ue(n,this._week.dow):e?n[e.day()]:n},Sn.weekdaysMin=function(e){return!0===e?Ue(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},Sn.weekdaysShort=function(e){return!0===e?Ue(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},Sn.weekdaysParse=function(e,t,n){var i,r,o;if(this._weekdaysParseExact)return We.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=f([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(n&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(n&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}},Sn.weekdaysRegex=function(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Ke.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=qe),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},Sn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Ke.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ve),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},Sn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Ke.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=ze),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},Sn.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},Sn.meridiem=function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},at("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===W(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),r.lang=T("moment.lang is deprecated. Use moment.locale instead.",at),r.langData=T("moment.langData is deprecated. Use moment.localeData instead.",ut);var An=Math.abs;function kn(e,t,n,i){var r=$t(t,n);return e._milliseconds+=i*r._milliseconds,e._days+=i*r._days,e._months+=i*r._months,e._bubble()}function In(e){return e<0?Math.floor(e):Math.ceil(e)}function Dn(e){return 4800*e/146097}function On(e){return 146097*e/4800}function Pn(e){return function(){return this.as(e)}}var Nn=Pn("ms"),Rn=Pn("s"),Ln=Pn("m"),Mn=Pn("h"),Fn=Pn("d"),jn=Pn("w"),Bn=Pn("M"),Un=Pn("Q"),Hn=Pn("y");function $n(e){return function(){return this.isValid()?this._data[e]:NaN}}var Gn=$n("milliseconds"),qn=$n("seconds"),Vn=$n("minutes"),zn=$n("hours"),Wn=$n("days"),Kn=$n("months"),Yn=$n("years");var Jn=Math.round,Xn={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Qn(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}var Zn=Math.abs;function ei(e){return(e>0)-(e<0)||+e}function ti(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,i,r,o,a,s,u=Zn(this._milliseconds)/1e3,l=Zn(this._days),c=Zn(this._months),d=this.asSeconds();return d?(e=z(u/60),t=z(e/60),u%=60,e%=60,n=z(c/12),c%=12,i=u?u.toFixed(3).replace(/\.?0+$/,""):"",r=d<0?"-":"",o=ei(this._months)!==ei(d)?"-":"",a=ei(this._days)!==ei(d)?"-":"",s=ei(this._milliseconds)!==ei(d)?"-":"",r+"P"+(n?o+n+"Y":"")+(c?o+c+"M":"")+(l?a+l+"D":"")+(t||e||u?"T":"")+(t?s+t+"H":"")+(e?s+e+"M":"")+(u?s+i+"S":"")):"P0D"}var ni=Ot.prototype;return ni.isValid=function(){return this._isValid},ni.abs=function(){var e=this._data;return this._milliseconds=An(this._milliseconds),this._days=An(this._days),this._months=An(this._months),e.milliseconds=An(e.milliseconds),e.seconds=An(e.seconds),e.minutes=An(e.minutes),e.hours=An(e.hours),e.months=An(e.months),e.years=An(e.years),this},ni.add=function(e,t){return kn(this,e,t,1)},ni.subtract=function(e,t){return kn(this,e,t,-1)},ni.as=function(e){if(!this.isValid())return NaN;var t,n,i=this._milliseconds;if("month"===(e=H(e))||"quarter"===e||"year"===e)switch(t=this._days+i/864e5,n=this._months+Dn(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(On(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}},ni.asMilliseconds=Nn,ni.asSeconds=Rn,ni.asMinutes=Ln,ni.asHours=Mn,ni.asDays=Fn,ni.asWeeks=jn,ni.asMonths=Bn,ni.asQuarters=Un,ni.asYears=Hn,ni.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*W(this._months/12):NaN},ni._bubble=function(){var e,t,n,i,r,o=this._milliseconds,a=this._days,s=this._months,u=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*In(On(s)+a),a=0,s=0),u.milliseconds=o%1e3,e=z(o/1e3),u.seconds=e%60,t=z(e/60),u.minutes=t%60,n=z(t/60),u.hours=n%24,a+=z(n/24),s+=r=z(Dn(a)),a-=In(On(r)),i=z(s/12),s%=12,u.days=a,u.months=s,u.years=i,this},ni.clone=function(){return $t(this)},ni.get=function(e){return e=H(e),this.isValid()?this[e+"s"]():NaN},ni.milliseconds=Gn,ni.seconds=qn,ni.minutes=Vn,ni.hours=zn,ni.days=Wn,ni.weeks=function(){return z(this.days()/7)},ni.months=Kn,ni.years=Yn,ni.humanize=function(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,i,r=!1,o=Xn;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(r=e),"object"==typeof t&&(o=Object.assign({},Xn,t),null!=t.s&&null==t.ss&&(o.ss=t.s-1)),i=function(e,t,n,i){var r=$t(e).abs(),o=Jn(r.as("s")),a=Jn(r.as("m")),s=Jn(r.as("h")),u=Jn(r.as("d")),l=Jn(r.as("M")),c=Jn(r.as("w")),d=Jn(r.as("y")),p=o<=n.ss&&["s",o]||o<n.s&&["ss",o]||a<=1&&["m"]||a<n.m&&["mm",a]||s<=1&&["h"]||s<n.h&&["hh",s]||u<=1&&["d"]||u<n.d&&["dd",u];return null!=n.w&&(p=p||c<=1&&["w"]||c<n.w&&["ww",c]),(p=p||l<=1&&["M"]||l<n.M&&["MM",l]||d<=1&&["y"]||["yy",d])[2]=t,p[3]=+e>0,p[4]=i,Qn.apply(null,p)}(this,!r,o,n=this.localeData()),r&&(i=n.pastFuture(+this,i)),n.postformat(i)},ni.toISOString=ti,ni.toString=ti,ni.toJSON=ti,ni.locale=Zt,ni.localeData=tn,ni.toIsoString=T("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ti),ni.lang=en,M("X",0,0,"unix"),M("x",0,0,"valueOf"),fe("x",ce),fe("X",/[+-]?\d+(\.\d{1,3})?/),ve("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),ve("x",(function(e,t,n){n._d=new Date(W(e))})),
//! moment.js
r.version="2.29.1",n=xt,r.fn=wn,r.min=function(){var e=[].slice.call(arguments,0);return It("isBefore",e)},r.max=function(){var e=[].slice.call(arguments,0);return It("isAfter",e)},r.now=function(){return Date.now?Date.now():+new Date},r.utc=f,r.unix=function(e){return xt(1e3*e)},r.months=function(e,t){return Cn(e,t,"months")},r.isDate=d,r.locale=at,r.invalid=y,r.duration=$t,r.isMoment=E,r.weekdays=function(e,t,n){return xn(e,t,n,"weekdays")},r.parseZone=function(){return xt.apply(null,arguments).parseZone()},r.localeData=ut,r.isDuration=Pt,r.monthsShort=function(e,t){return Cn(e,t,"monthsShort")},r.weekdaysMin=function(e,t,n){return xn(e,t,n,"weekdaysMin")},r.defineLocale=st,r.updateLocale=function(e,t){if(null!=t){var n,i,r=et;null!=tt[e]&&null!=tt[e].parentLocale?tt[e].set(I(tt[e]._config,t)):(null!=(i=ot(e))&&(r=i._config),t=I(r,t),null==i&&(t.abbr=e),(n=new D(t)).parentLocale=tt[e],tt[e]=n),at(e)}else null!=tt[e]&&(null!=tt[e].parentLocale?(tt[e]=tt[e].parentLocale,e===at()&&at(e)):null!=tt[e]&&delete tt[e]);return tt[e]},r.locales=function(){return C(tt)},r.weekdaysShort=function(e,t,n){return xn(e,t,n,"weekdaysShort")},r.normalizeUnits=H,r.relativeTimeRounding=function(e){return void 0===e?Jn:"function"==typeof e&&(Jn=e,!0)},r.relativeTimeThreshold=function(e,t){return void 0!==Xn[e]&&(void 0===t?Xn[e]:(Xn[e]=t,"s"===e&&(Xn.ss=t-1),!0))},r.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},r.prototype=wn,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}))},{}],507:[function(e,t,n){
/*! @name mpd-parser @version 0.21.1 @license Apache-2.0 */
"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("@videojs/vhs-utils/cjs/resolve-url"),r=e("global/window"),o=e("@videojs/vhs-utils/cjs/media-groups"),a=e("@videojs/vhs-utils/cjs/decode-b64-to-uint8-array"),s=e("@xmldom/xmldom");function u(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var l=u(i),c=u(r),d=u(a),p=function(e){return!!e&&"object"==typeof e},h=function e(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return n.reduce((function(t,n){return"object"!=typeof n||Object.keys(n).forEach((function(i){Array.isArray(t[i])&&Array.isArray(n[i])?t[i]=t[i].concat(n[i]):p(t[i])&&p(n[i])?t[i]=e(t[i],n[i]):t[i]=n[i]})),t}),{})},f=function(e){return Object.keys(e).map((function(t){return e[t]}))},m=function(e){return e.reduce((function(e,t){return e.concat(t)}),[])},g=function(e){if(!e.length)return[];for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t},y=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1},v="INVALID_NUMBER_OF_PERIOD",_="DASH_EMPTY_MANIFEST",b="DASH_INVALID_XML",w="NO_BASE_URL",E="SEGMENT_TIME_UNSPECIFIED",S="UNSUPPORTED_UTC_TIMING_SCHEME",T=function(e){var t=e.baseUrl,n=void 0===t?"":t,i=e.source,r=void 0===i?"":i,o=e.range,a=void 0===o?"":o,s=e.indexRange,u=void 0===s?"":s,d={uri:r,resolvedUri:l.default(n||"",r)};if(a||u){var p,h=(a||u).split("-"),f=c.default.BigInt?c.default.BigInt(h[0]):parseInt(h[0],10),m=c.default.BigInt?c.default.BigInt(h[1]):parseInt(h[1],10);f<Number.MAX_SAFE_INTEGER&&"bigint"==typeof f&&(f=Number(f)),m<Number.MAX_SAFE_INTEGER&&"bigint"==typeof m&&(m=Number(m)),"bigint"==typeof(p="bigint"==typeof m||"bigint"==typeof f?c.default.BigInt(m)-c.default.BigInt(f)+c.default.BigInt(1):m-f+1)&&p<Number.MAX_SAFE_INTEGER&&(p=Number(p)),d.byterange={length:p,offset:f}}return d},C=function(e){return e&&"number"!=typeof e&&(e=parseInt(e,10)),isNaN(e)?null:e},x={static:function(e){var t=e.duration,n=e.timescale,i=void 0===n?1:n,r=e.sourceDuration,o=e.periodDuration,a=C(e.endNumber),s=t/i;return"number"==typeof a?{start:0,end:a}:"number"==typeof o?{start:0,end:o/s}:{start:0,end:r/s}},dynamic:function(e){var t=e.NOW,n=e.clientOffset,i=e.availabilityStartTime,r=e.timescale,o=void 0===r?1:r,a=e.duration,s=e.periodStart,u=void 0===s?0:s,l=e.minimumUpdatePeriod,c=void 0===l?0:l,d=e.timeShiftBufferDepth,p=void 0===d?1/0:d,h=C(e.endNumber),f=(t+n)/1e3,m=i+u,g=f+c-m,y=Math.ceil(g*o/a),v=Math.floor((f-m-p)*o/a),_=Math.floor((f-m)*o/a);return{start:Math.max(0,v),end:"number"==typeof h?h:Math.min(y,_)}}},A=function(e){var t=e.type,n=e.duration,i=e.timescale,r=void 0===i?1:i,o=e.periodDuration,a=e.sourceDuration,s=x[t](e),u=function(e,t){for(var n=[],i=e;i<t;i++)n.push(i);return n}(s.start,s.end).map(function(e){return function(t){var n=e.duration,i=e.timescale,r=void 0===i?1:i,o=e.periodStart,a=e.startNumber;return{number:(void 0===a?1:a)+t,duration:n/r,timeline:o,time:t*n}}}(e));if("static"===t){var l=u.length-1,c="number"==typeof o?o:a;u[l].duration=c-n/r*l}return u},k=function(e){var t=e.baseUrl,n=e.initialization,i=void 0===n?{}:n,r=e.sourceDuration,o=e.indexRange,a=void 0===o?"":o,s=e.periodStart,u=e.presentationTime,l=e.number,c=void 0===l?0:l,d=e.duration;if(!t)throw new Error(w);var p=T({baseUrl:t,source:i.sourceURL,range:i.range}),h=T({baseUrl:t,source:t,indexRange:a});if(h.map=p,d){var f=A(e);f.length&&(h.duration=f[0].duration,h.timeline=f[0].timeline)}else r&&(h.duration=r,h.timeline=s);return h.presentationTime=u||s,h.number=c,[h]},I=function(e,t,n){var i,r=e.sidx.map?e.sidx.map:null,o=e.sidx.duration,a=e.timeline||0,s=e.sidx.byterange,u=s.offset+s.length,l=t.timescale,d=t.references.filter((function(e){return 1!==e.referenceType})),p=[],h=e.endList?"static":"dynamic",f=e.sidx.timeline,m=f,g=e.mediaSequence||0;i="bigint"==typeof t.firstOffset?c.default.BigInt(u)+t.firstOffset:u+t.firstOffset;for(var y=0;y<d.length;y++){var v=t.references[y],_=v.referencedSize,b=v.subsegmentDuration,w=void 0;w="bigint"==typeof i?i+c.default.BigInt(_)-c.default.BigInt(1):i+_-1;var E=k({baseUrl:n,timescale:l,timeline:a,periodStart:f,presentationTime:m,number:g,duration:b,sourceDuration:o,indexRange:i+"-"+w,type:h})[0];r&&(E.map=r),p.push(E),i+="bigint"==typeof i?c.default.BigInt(_):_,m+=b/l,g++}return e.segments=p,e},D=["AUDIO","SUBTITLES"],O=function(e){return(t=e,n=function(e){return e.timeline},f(t.reduce((function(e,t){return t.forEach((function(t){e[n(t)]=t})),e}),{}))).sort((function(e,t){return e.timeline>t.timeline?1:-1}));var t,n},P=function(e){var t=[];return o.forEachMediaGroup(e,D,(function(e,n,i,r){t=t.concat(e.playlists||[])})),t},N=function(e){var t=e.playlist,n=e.mediaSequence;t.mediaSequence=n,t.segments.forEach((function(e,n){e.number=t.mediaSequence+n}))},R=function(e){var t=e.oldManifest,n=e.newManifest,i=t.playlists.concat(P(t)),r=n.playlists.concat(P(n));return n.timelineStarts=O([t.timelineStarts,n.timelineStarts]),function(e){var t=e.oldPlaylists,n=e.newPlaylists,i=e.timelineStarts;n.forEach((function(e){e.discontinuitySequence=y(i,(function(t){return t.timeline===e.timeline}));var n=function(e,t){for(var n=0;n<e.length;n++)if(e[n].attributes.NAME===t)return e[n];return null}(t,e.attributes.NAME);if(n&&!e.sidx){var r=e.segments[0],o=y(n.segments,(function(e){return Math.abs(e.presentationTime-r.presentationTime)<.016666666666666666}));if(-1===o)return N({playlist:e,mediaSequence:n.mediaSequence+n.segments.length}),e.segments[0].discontinuity=!0,e.discontinuityStarts.unshift(0),void((!n.segments.length&&e.timeline>n.timeline||n.segments.length&&e.timeline>n.segments[n.segments.length-1].timeline)&&e.discontinuitySequence--);n.segments[o].discontinuity&&!r.discontinuity&&(r.discontinuity=!0,e.discontinuityStarts.unshift(0),e.discontinuitySequence--),N({playlist:e,mediaSequence:n.segments[o].number})}}))}({oldPlaylists:i,newPlaylists:r,timelineStarts:n.timelineStarts}),n},L=function(e){return e&&e.uri+"-"+(t=e.byterange,n="bigint"==typeof t.offset||"bigint"==typeof t.length?c.default.BigInt(t.offset)+c.default.BigInt(t.length)-c.default.BigInt(1):t.offset+t.length-1,t.offset+"-"+n);var t,n},M=function(e){return f(e.reduce((function(e,t){var n=t.attributes.id+(t.attributes.lang||"");if(e[n]){var i;if(t.segments)t.segments[0]&&(t.segments[0].discontinuity=!0),(i=e[n].segments).push.apply(i,t.segments);t.attributes.contentProtection&&(e[n].attributes.contentProtection=t.attributes.contentProtection)}else e[n]=t,e[n].attributes.timelineStarts=[];return e[n].attributes.timelineStarts.push({start:t.attributes.periodStart,timeline:t.attributes.periodStart}),e}),{})).map((function(e){var t,n;return e.discontinuityStarts=(t=e.segments||[],n="discontinuity",t.reduce((function(e,t,i){return t[n]&&e.push(i),e}),[])),e}))},F=function(e,t){var n=L(e.sidx),i=n&&t[n]&&t[n].sidx;return i&&I(e,i,e.sidx.resolvedUri),e},j=function(e,t){if(void 0===t&&(t={}),!Object.keys(t).length)return e;for(var n in e)e[n]=F(e[n],t);return e},B=function(e){var t,n=e.attributes,i=e.segments,r=e.sidx,o=e.discontinuityStarts,a={attributes:(t={NAME:n.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:n.width,height:n.height},CODECS:n.codecs,BANDWIDTH:n.bandwidth},t["PROGRAM-ID"]=1,t),uri:"",endList:"static"===n.type,timeline:n.periodStart,resolvedUri:"",targetDuration:n.duration,discontinuityStarts:o,timelineStarts:n.timelineStarts,segments:i};return n.contentProtection&&(a.contentProtection=n.contentProtection),r&&(a.sidx=r),a},U=function(e){var t=e.attributes;return"video/mp4"===t.mimeType||"video/webm"===t.mimeType||"video"===t.contentType},H=function(e){var t=e.attributes;return"audio/mp4"===t.mimeType||"audio/webm"===t.mimeType||"audio"===t.contentType},$=function(e){var t=e.attributes;return"text/vtt"===t.mimeType||"text"===t.contentType},G=function(e){return e?Object.keys(e).reduce((function(t,n){var i=e[n];return t.concat(i.playlists)}),[]):[]},q=function(e){var t,n=e.dashPlaylists,i=e.locations,r=e.sidxMapping,o=void 0===r?{}:r,a=e.previousManifest;if(!n.length)return{};var s=n[0].attributes,u=s.sourceDuration,l=s.type,c=s.suggestedPresentationDelay,d=s.minimumUpdatePeriod,p=M(n.filter(U)).map(B),h=M(n.filter(H)),f=M(n.filter($)),m=n.map((function(e){return e.attributes.captionServices})).filter(Boolean),g={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(t={AUDIO:{},VIDEO:{}},t["CLOSED-CAPTIONS"]={},t.SUBTITLES={},t),uri:"",duration:u,playlists:j(p,o)};d>=0&&(g.minimumUpdatePeriod=1e3*d),i&&(g.locations=i),"dynamic"===l&&(g.suggestedPresentationDelay=c);var v,_,b=0===g.playlists.length,w=h.length?function(e,t,n){var i;void 0===t&&(t={}),void 0===n&&(n=!1);var r=e.reduce((function(e,r){var o=r.attributes.role&&r.attributes.role.value||"",a=r.attributes.lang||"",s=r.attributes.label||"main";if(a&&!r.attributes.label){var u=o?" ("+o+")":"";s=""+r.attributes.lang+u}e[s]||(e[s]={language:a,autoselect:!0,default:"main"===o,playlists:[],uri:""});var l=F(function(e,t){var n,i=e.attributes,r=e.segments,o=e.sidx,a=e.mediaSequence,s=e.discontinuitySequence,u=e.discontinuityStarts,l={attributes:(n={NAME:i.id,BANDWIDTH:i.bandwidth,CODECS:i.codecs},n["PROGRAM-ID"]=1,n),uri:"",endList:"static"===i.type,timeline:i.periodStart,resolvedUri:"",targetDuration:i.duration,discontinuitySequence:s,discontinuityStarts:u,timelineStarts:i.timelineStarts,mediaSequence:a,segments:r};return i.contentProtection&&(l.contentProtection=i.contentProtection),o&&(l.sidx=o),t&&(l.attributes.AUDIO="audio",l.attributes.SUBTITLES="subs"),l}(r,n),t);return e[s].playlists.push(l),void 0===i&&"main"===o&&((i=r).default=!0),e}),{});return i||(r[Object.keys(r)[0]].default=!0),r}(h,o,b):null,E=f.length?function(e,t){return void 0===t&&(t={}),e.reduce((function(e,n){var i=n.attributes.lang||"text";return e[i]||(e[i]={language:i,default:!1,autoselect:!1,playlists:[],uri:""}),e[i].playlists.push(F(function(e){var t,n=e.attributes,i=e.segments,r=e.mediaSequence,o=e.discontinuityStarts,a=e.discontinuitySequence;void 0===i&&(i=[{uri:n.baseUrl,timeline:n.periodStart,resolvedUri:n.baseUrl||"",duration:n.sourceDuration,number:0}],n.duration=n.sourceDuration);var s=((t={NAME:n.id,BANDWIDTH:n.bandwidth})["PROGRAM-ID"]=1,t);return n.codecs&&(s.CODECS=n.codecs),{attributes:s,uri:"",endList:"static"===n.type,timeline:n.periodStart,resolvedUri:n.baseUrl||"",targetDuration:n.duration,timelineStarts:n.timelineStarts,discontinuityStarts:o,discontinuitySequence:a,mediaSequence:r,segments:i}}(n),t)),e}),{})}(f,o):null,S=p.concat(G(w),G(E)),T=S.map((function(e){return e.timelineStarts}));return g.timelineStarts=O(T),v=S,_=g.timelineStarts,v.forEach((function(e){e.mediaSequence=0,e.discontinuitySequence=y(_,(function(t){return t.timeline===e.timeline})),e.segments&&e.segments.forEach((function(e,t){e.number=t}))})),w&&(g.mediaGroups.AUDIO.audio=w),E&&(g.mediaGroups.SUBTITLES.subs=E),m.length&&(g.mediaGroups["CLOSED-CAPTIONS"].cc=m.reduce((function(e,t){return t?(t.forEach((function(t){var n=t.channel,i=t.language;e[i]={autoselect:!1,default:!1,instreamId:n,language:i},t.hasOwnProperty("aspectRatio")&&(e[i].aspectRatio=t.aspectRatio),t.hasOwnProperty("easyReader")&&(e[i].easyReader=t.easyReader),t.hasOwnProperty("3D")&&(e[i]["3D"]=t["3D"])})),e):e}),{})),a?R({oldManifest:a,newManifest:g}):g},V=function(e,t,n){var i=e.NOW,r=e.clientOffset,o=e.availabilityStartTime,a=e.timescale,s=void 0===a?1:a,u=e.periodStart,l=void 0===u?0:u,c=e.minimumUpdatePeriod,d=(i+r)/1e3+(void 0===c?0:c)-(o+l);return Math.ceil((d*s-t)/n)},z=function(e,t){for(var n=e.type,i=e.minimumUpdatePeriod,r=void 0===i?0:i,o=e.media,a=void 0===o?"":o,s=e.sourceDuration,u=e.timescale,l=void 0===u?1:u,c=e.startNumber,d=void 0===c?1:c,p=e.periodStart,h=[],f=-1,m=0;m<t.length;m++){var g=t[m],y=g.d,v=g.r||0,_=g.t||0;f<0&&(f=_),_&&_>f&&(f=_);var b=void 0;if(v<0){var w=m+1;b=w===t.length?"dynamic"===n&&r>0&&a.indexOf("$Number$")>0?V(e,f,y):(s*l-f)/y:(t[w].t-f)/y}else b=v+1;for(var E=d+h.length+b,S=d+h.length;S<E;)h.push({number:S,duration:y/l,time:f,timeline:p}),f+=y,S++}return h},W=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,K=function(e,t){return e.replace(W,function(e){return function(t,n,i,r){if("$$"===t)return"$";if(void 0===e[n])return t;var o=""+e[n];return"RepresentationID"===n?o:(r=i?parseInt(r,10):1,o.length>=r?o:""+new Array(r-o.length+1).join("0")+o)}}(t))},Y=function(e,t){var n={RepresentationID:e.id,Bandwidth:e.bandwidth||0},i=e.initialization,r=void 0===i?{sourceURL:"",range:""}:i,o=T({baseUrl:e.baseUrl,source:K(r.sourceURL,n),range:r.range}),a=function(e,t){return e.duration||t?e.duration?A(e):z(e,t):[{number:e.startNumber||1,duration:e.sourceDuration,time:0,timeline:e.periodStart}]}(e,t);return a.map((function(t){n.Number=t.number,n.Time=t.time;var i=K(e.media||"",n),r=e.timescale||1,a=e.presentationTimeOffset||0,s=e.periodStart+(t.time-a)/r;return{uri:i,timeline:t.timeline,duration:t.duration,resolvedUri:l.default(e.baseUrl||"",i),map:o,number:t.number,presentationTime:s}}))},J=function(e,t){var n=e.duration,i=e.segmentUrls,r=void 0===i?[]:i,o=e.periodStart;if(!n&&!t||n&&t)throw new Error(E);var a,s=r.map((function(t){return function(e,t){var n=e.baseUrl,i=e.initialization,r=void 0===i?{}:i,o=T({baseUrl:n,source:r.sourceURL,range:r.range}),a=T({baseUrl:n,source:t.media,range:t.mediaRange});return a.map=o,a}(e,t)}));return n&&(a=A(e)),t&&(a=z(e,t)),a.map((function(t,n){if(s[n]){var i=s[n],r=e.timescale||1,a=e.presentationTimeOffset||0;return i.timeline=t.timeline,i.duration=t.duration,i.number=t.number,i.presentationTime=o+(t.time-a)/r,i}})).filter((function(e){return e}))},X=function(e){var t,n,i=e.attributes,r=e.segmentInfo;r.template?(n=Y,t=h(i,r.template)):r.base?(n=k,t=h(i,r.base)):r.list&&(n=J,t=h(i,r.list));var o={attributes:i};if(!n)return o;var a=n(t,r.segmentTimeline);if(t.duration){var s=t,u=s.duration,l=s.timescale,c=void 0===l?1:l;t.duration=u/c}else a.length?t.duration=a.reduce((function(e,t){return Math.max(e,Math.ceil(t.duration))}),0):t.duration=0;return o.attributes=t,o.segments=a,r.base&&t.indexRange&&(o.sidx=a[0],o.segments=[]),o},Q=function(e){return e.map(X)},Z=function(e,t){return g(e.childNodes).filter((function(e){return e.tagName===t}))},ee=function(e){return e.textContent.trim()},te=function(e){var t=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(e);if(!t)return 0;var n=t.slice(1),i=n[0],r=n[1],o=n[2],a=n[3],s=n[4],u=n[5];return 31536e3*parseFloat(i||0)+2592e3*parseFloat(r||0)+86400*parseFloat(o||0)+3600*parseFloat(a||0)+60*parseFloat(s||0)+parseFloat(u||0)},ne={mediaPresentationDuration:function(e){return te(e)},availabilityStartTime:function(e){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t=e)&&(t+="Z"),Date.parse(t)/1e3;var t},minimumUpdatePeriod:function(e){return te(e)},suggestedPresentationDelay:function(e){return te(e)},type:function(e){return e},timeShiftBufferDepth:function(e){return te(e)},start:function(e){return te(e)},width:function(e){return parseInt(e,10)},height:function(e){return parseInt(e,10)},bandwidth:function(e){return parseInt(e,10)},startNumber:function(e){return parseInt(e,10)},timescale:function(e){return parseInt(e,10)},presentationTimeOffset:function(e){return parseInt(e,10)},duration:function(e){var t=parseInt(e,10);return isNaN(t)?te(e):t},d:function(e){return parseInt(e,10)},t:function(e){return parseInt(e,10)},r:function(e){return parseInt(e,10)},DEFAULT:function(e){return e}},ie=function(e){return e&&e.attributes?g(e.attributes).reduce((function(e,t){var n=ne[t.name]||ne.DEFAULT;return e[t.name]=n(t.value),e}),{}):{}},re={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},oe=function(e,t){return t.length?m(e.map((function(e){return t.map((function(t){return l.default(e,ee(t))}))}))):e},ae=function(e){var t=Z(e,"SegmentTemplate")[0],n=Z(e,"SegmentList")[0],i=n&&Z(n,"SegmentURL").map((function(e){return h({tag:"SegmentURL"},ie(e))})),r=Z(e,"SegmentBase")[0],o=n||t,a=o&&Z(o,"SegmentTimeline")[0],s=n||r||t,u=s&&Z(s,"Initialization")[0],l=t&&ie(t);l&&u?l.initialization=u&&ie(u):l&&l.initialization&&(l.initialization={sourceURL:l.initialization});var c={template:l,segmentTimeline:a&&Z(a,"S").map((function(e){return ie(e)})),list:n&&h(ie(n),{segmentUrls:i,initialization:ie(u)}),base:r&&h(ie(r),{initialization:ie(u)})};return Object.keys(c).forEach((function(e){c[e]||delete c[e]})),c},se=function(e,t,n){return function(i){var r,o=ie(i),a=oe(t,Z(i,"BaseURL")),s=Z(i,"Role")[0],u={role:ie(s)},l=h(e,o,u),c=Z(i,"Accessibility")[0],p="urn:scte:dash:cc:cea-608:2015"===(r=ie(c)).schemeIdUri?("string"!=typeof r.value?[]:r.value.split(";")).map((function(e){var t,n;if(n=e,/^CC\d=/.test(e)){var i=e.split("=");t=i[0],n=i[1]}else/^CC\d$/.test(e)&&(t=e);return{channel:t,language:n}})):"urn:scte:dash:cc:cea-708:2015"===r.schemeIdUri?("string"!=typeof r.value?[]:r.value.split(";")).map((function(e){var t={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(e)){var n=e.split("="),i=n[0],r=n[1],o=void 0===r?"":r;t.channel=i,t.language=e,o.split(",").forEach((function(e){var n=e.split(":"),i=n[0],r=n[1];"lang"===i?t.language=r:"er"===i?t.easyReader=Number(r):"war"===i?t.aspectRatio=Number(r):"3D"===i&&(t["3D"]=Number(r))}))}else t.language=e;return t.channel&&(t.channel="SERVICE"+t.channel),t})):void 0;p&&(l=h(l,{captionServices:p}));var f=Z(i,"Label")[0];if(f&&f.childNodes.length){var g=f.childNodes[0].nodeValue.trim();l=h(l,{label:g})}var y=Z(i,"ContentProtection").reduce((function(e,t){var n=ie(t);n.schemeIdUri&&(n.schemeIdUri=n.schemeIdUri.toLowerCase());var i=re[n.schemeIdUri];if(i){e[i]={attributes:n};var r=Z(t,"cenc:pssh")[0];if(r){var o=ee(r);e[i].pssh=o&&d.default(o)}}return e}),{});Object.keys(y).length&&(l=h(l,{contentProtection:y}));var v=ae(i),_=Z(i,"Representation"),b=h(n,v);return m(_.map(function(e,t,n){return function(i){var r=Z(i,"BaseURL"),o=oe(t,r),a=h(e,ie(i)),s=ae(i);return o.map((function(e){return{segmentInfo:h(n,s),attributes:h(a,{baseUrl:e})}}))}}(l,a,b)))}},ue=function(e,t){return function(n,i){var r=oe(t,Z(n.node,"BaseURL")),o=h(e,{periodStart:n.attributes.start});"number"==typeof n.attributes.duration&&(o.periodDuration=n.attributes.duration);var a=Z(n.node,"AdaptationSet"),s=ae(n.node);return m(a.map(se(o,r,s)))}},le=function(e,t){void 0===t&&(t={});var n=t,i=n.manifestUri,r=void 0===i?"":i,o=n.NOW,a=void 0===o?Date.now():o,s=n.clientOffset,u=void 0===s?0:s,l=Z(e,"Period");if(!l.length)throw new Error(v);var c=Z(e,"Location"),d=ie(e),p=oe([r],Z(e,"BaseURL"));d.type=d.type||"static",d.sourceDuration=d.mediaPresentationDuration||0,d.NOW=a,d.clientOffset=u,c.length&&(d.locations=c.map(ee));var h=[];return l.forEach((function(e,t){var n=ie(e),i=h[t-1];n.start=function(e){var t=e.attributes,n=e.priorPeriodAttributes,i=e.mpdType;return"number"==typeof t.start?t.start:n&&"number"==typeof n.start&&"number"==typeof n.duration?n.start+n.duration:n||"static"!==i?null:0}({attributes:n,priorPeriodAttributes:i?i.attributes:null,mpdType:d.type}),h.push({node:e,attributes:n})})),{locations:d.locations,representationInfo:m(h.map(ue(d,p)))}},ce=function(e){if(""===e)throw new Error(_);var t,n,i=new s.DOMParser;try{n=(t=i.parseFromString(e,"application/xml"))&&"MPD"===t.documentElement.tagName?t.documentElement:null}catch(e){}if(!n||n&&n.getElementsByTagName("parsererror").length>0)throw new Error(b);return n};n.VERSION="0.21.1",n.addSidxSegmentsToPlaylist=I,n.generateSidxKey=L,n.inheritAttributes=le,n.parse=function(e,t){void 0===t&&(t={});var n=le(ce(e),t),i=Q(n.representationInfo);return q({dashPlaylists:i,locations:n.locations,sidxMapping:t.sidxMapping,previousManifest:t.previousManifest})},n.parseUTCTiming=function(e){return function(e){var t=Z(e,"UTCTiming")[0];if(!t)return null;var n=ie(t);switch(n.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":n.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":n.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":n.method="DIRECT",n.value=Date.parse(n.value);break;default:throw new Error(S)}return n}(ce(e))},n.stringToMpdXml=ce,n.toM3u8=q,n.toPlaylists=Q},{"@videojs/vhs-utils/cjs/decode-b64-to-uint8-array":251,"@videojs/vhs-utils/cjs/media-groups":254,"@videojs/vhs-utils/cjs/resolve-url":259,"@xmldom/xmldom":267,"global/window":430}],508:[function(e,t,n){var i=e("../utils/numbers.js").getUint64;t.exports=function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),references:[],referenceId:t.getUint32(4),timescale:t.getUint32(8)},r=12;0===n.version?(n.earliestPresentationTime=t.getUint32(r),n.firstOffset=t.getUint32(r+4),r+=8):(n.earliestPresentationTime=i(e.subarray(r)),n.firstOffset=i(e.subarray(r+8)),r+=16),r+=2;var o=t.getUint16(r);for(r+=2;o>0;r+=12,o--)n.references.push({referenceType:(128&e[r])>>>7,referencedSize:2147483647&t.getUint32(r),subsegmentDuration:t.getUint32(r+4),startsWithSap:!!(128&e[r+8]),sapType:(112&e[r+8])>>>4,sapDeltaTime:268435455&t.getUint32(r+8)});return n}},{"../utils/numbers.js":510}],509:[function(e,t,n){var i,r,o,a,s,u,l,c=9e4;i=function(e){return e*c},r=function(e,t){return e*t},o=function(e){return e/c},a=function(e,t){return e/t},s=function(e,t){return i(a(e,t))},u=function(e,t){return r(o(e),t)},l=function(e,t,n){return o(n?e:e-t)},t.exports={ONE_SECOND_IN_TS:c,secondsToVideoTs:i,secondsToAudioTs:r,videoTsToSeconds:o,audioTsToSeconds:a,audioTsToVideoTs:s,videoTsToAudioTs:u,metadataTsToSeconds:l}},{}],510:[function(e,t,n){var i=Math.pow(2,32);t.exports={getUint64:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.getBigUint64?(t=n.getBigUint64(0))<Number.MAX_SAFE_INTEGER?Number(t):t:n.getUint32(0)*i+n.getUint32(4)},MAX_UINT32:i}},{}],511:[function(e,t,n){let{urlAlphabet:i}=e("./url-alphabet/index.cjs"),r=e=>crypto.getRandomValues(new Uint8Array(e)),o=(e,t,n)=>{let i=(2<<Math.log(e.length-1)/Math.LN2)-1,r=-~(1.6*i*t/e.length);return(o=t)=>{let a="";for(;;){let t=n(r),s=r;for(;s--;)if(a+=e[t[s]&i]||"",a.length===o)return a}}};t.exports={nanoid:(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>e+=(t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_"),""),customAlphabet:(e,t=21)=>o(e,t,r),customRandom:o,urlAlphabet:i,random:r}},{"./url-alphabet/index.cjs":512}],512:[function(e,t,n){t.exports={urlAlphabet:"useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"}},{}],513:[function(e,t,n){"use strict";function i(e,t){if(null!=e)return e;var n=new Error(void 0!==t?t:"Got unexpected "+e);throw n.framesToPop=1,n}t.exports=i,t.exports.default=i,Object.defineProperty(t.exports,"__esModule",{value:!0})},{}],514:[function(e,t,n){n.endianness=function(){return"LE"},n.hostname=function(){return"undefined"!=typeof location?location.hostname:""},n.loadavg=function(){return[]},n.uptime=function(){return 0},n.freemem=function(){return Number.MAX_VALUE},n.totalmem=function(){return Number.MAX_VALUE},n.cpus=function(){return[]},n.type=function(){return"Browser"},n.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},n.networkInterfaces=n.getNetworkInterfaces=function(){return{}},n.arch=function(){return"javascript"},n.platform=function(){return"browser"},n.tmpdir=n.tmpDir=function(){return"/tmp"},n.EOL="\n"},{}],515:[function(e,t,n){(function(e){var n=/^[\],:{}\s]*$/,i=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,r=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,o=/(?:^|:|,)(?:\s*\[)+/g,a=/^\s+/,s=/\s+$/;t.exports=function(t){return"string"==typeof t&&t?(t=t.replace(a,"").replace(s,""),e.JSON&&JSON.parse?JSON.parse(t):n.test(t.replace(i,"@").replace(r,"]").replace(o,""))?new Function("return "+t)():void 0):null}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],516:[function(e,t,n){n.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},n.decode=function(e){for(var t={},n=e.split("&"),i=0,r=n.length;i<r;i++){var o=n[i].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}},{}],517:[function(e,t,n){var i=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(e){var t=e,n=e.indexOf("["),o=e.indexOf("]");-1!=n&&-1!=o&&(e=e.substring(0,n)+e.substring(n,o).replace(/:/g,";")+e.substring(o,e.length));for(var a=i.exec(e||""),s={},u=14;u--;)s[r[u]]=a[u]||"";return-1!=n&&-1!=o&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s}},{}],518:[function(e,t,n){"use strict";var i=Object,r=Object.defineProperty,o=Object.create;function a(e,t,n){if(r)try{r.call(i,e,t,{value:n})}catch(i){e[t]=n}else e[t]=n}function s(e){return e&&(a(e,"call",e.call),a(e,"apply",e.apply)),e}s(r),s(o);var u=s(Object.prototype.hasOwnProperty),l=s(Number.prototype.toString),c=s(String.prototype.slice),d=function(){};function p(e){return o?o.call(i,e):(d.prototype=e||null,new d)}var h=Math.random,f=p(null);function m(){do{var e=g(c.call(l.call(h(),36),2))}while(u.call(f,e));return f[e]=e}function g(e){var t={};return t[e]=!0,Object.keys(t)[0]}n.makeUniqueKey=m;var y=Object.getOwnPropertyNames;function v(e){return p(null)}Object.getOwnPropertyNames=function(e){for(var t=y(e),n=0,i=0,r=t.length;n<r;++n)u.call(f,t[n])||(n>i&&(t[i]=t[n]),++i);return t.length=i,t},n.makeAccessor=function(e){var t=m(),n=p(null);function i(i){return u.call(i,t)||function(i){var r;a(i,t,(function(t,o){if(t===n)return o?r=null:r||(r=e(i))}))}(i),i[t](n)}return e=e||v,i.forget=function(e){u.call(e,t)&&e[t](n,!0)},i}},{}],519:[function(e,t,n){var i,r,o=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(e){if(i===setTimeout)return setTimeout(e,0);if((i===a||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:a}catch(e){i=a}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var l,c=[],d=!1,p=-1;function h(){d&&l&&(d=!1,l.length?c=l.concat(c):p=-1,c.length&&f())}function f(){if(!d){var e=u(h);d=!0;for(var t=c.length;t;){for(l=c,c=[];++p<t;)l&&l[p].run();p=-1,t=c.length}l=null,d=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new m(e,t)),1!==c.length||d||u(f)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],520:[function(e,t,n){(function(e,i){var r,o;r=this,o=function(){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},t(e,n)};function n(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}var r=function(){return r=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},r.apply(this,arguments)};function o(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}function a(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((i=i.apply(e,t||[])).next())}))}function s(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function u(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a}function c(e,t,n){if(n||2===arguments.length)for(var i,r=0,o=t.length;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var d="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==i?i:"undefined"!=typeof self?self:{},p={exports:{}};!function(e){!function(t,n){var i=Math.pow(2,-24),r=Math.pow(2,32),o=Math.pow(2,53),a={encode:function(e){var t,i=new ArrayBuffer(256),a=new DataView(i),s=0;function u(e){for(var n=i.byteLength,r=s+e;n<r;)n*=2;if(n!==i.byteLength){var o=a;i=new ArrayBuffer(n),a=new DataView(i);for(var u=s+3>>2,l=0;l<u;++l)a.setUint32(4*l,o.getUint32(4*l))}return t=e,a}function l(){s+=t}function c(e){l(u(1).setUint8(s,e))}function d(e){for(var t=u(e.length),n=0;n<e.length;++n)t.setUint8(s+n,e[n]);l()}function p(e,t){t<24?c(e<<5|t):t<256?(c(e<<5|24),c(t)):t<65536?(c(e<<5|25),function(e){l(u(2).setUint16(s,e))}(t)):t<4294967296?(c(e<<5|26),function(e){l(u(4).setUint32(s,e))}(t)):(c(e<<5|27),function(e){var t=e%r,n=(e-t)/r,i=u(8);i.setUint32(s,n),i.setUint32(s+4,t),l()}(t))}if(function e(t){var i;if(!1===t)return c(244);if(!0===t)return c(245);if(null===t)return c(246);if(t===n)return c(247);switch(typeof t){case"number":if(Math.floor(t)===t){if(0<=t&&t<=o)return p(0,t);if(-o<=t&&t<0)return p(1,-(t+1))}return c(251),function(e){l(u(8).setFloat64(s,e))}(t);case"string":var r=[];for(i=0;i<t.length;++i){var a=t.charCodeAt(i);a<128?r.push(a):a<2048?(r.push(192|a>>6),r.push(128|63&a)):a<55296?(r.push(224|a>>12),r.push(128|a>>6&63),r.push(128|63&a)):(a=(1023&a)<<10,a|=1023&t.charCodeAt(++i),a+=65536,r.push(240|a>>18),r.push(128|a>>12&63),r.push(128|a>>6&63),r.push(128|63&a))}return p(3,r.length),d(r);default:var h;if(Array.isArray(t))for(p(4,h=t.length),i=0;i<h;++i)e(t[i]);else if(t instanceof Uint8Array)p(2,t.length),d(t);else{var f=Object.keys(t);for(p(5,h=f.length),i=0;i<h;++i){var m=f[i];e(m),e(t[m])}}}}(e),"slice"in i)return i.slice(0,s);for(var h=new ArrayBuffer(s),f=new DataView(h),m=0;m<s;++m)f.setUint8(m,a.getUint8(m));return h},decode:function(e,t,o){var a=new DataView(e),s=0;function u(e,t){return s+=t,e}function l(t){return u(new Uint8Array(e,s,t),t)}function c(){return u(a.getUint8(s),1)}function d(){return u(a.getUint16(s),2)}function p(){return u(a.getUint32(s),4)}function h(){return 255===a.getUint8(s)&&(s+=1,!0)}function f(e){if(e<24)return e;if(24===e)return c();if(25===e)return d();if(26===e)return p();if(27===e)return p()*r+p();if(31===e)return-1;throw"Invalid length encoding"}function m(e){var t=c();if(255===t)return-1;var n=f(31&t);if(n<0||t>>5!==e)throw"Invalid indefinite length element";return n}function g(e,t){for(var n=0;n<t;++n){var i=c();128&i&&(i<224?(i=(31&i)<<6|63&c(),t-=1):i<240?(i=(15&i)<<12|(63&c())<<6|63&c(),t-=2):(i=(15&i)<<18|(63&c())<<12|(63&c())<<6|63&c(),t-=3)),i<65536?e.push(i):(i-=65536,e.push(55296|i>>10),e.push(56320|1023&i))}}"function"!=typeof t&&(t=function(e){return e}),"function"!=typeof o&&(o=function(){return n});var y=function e(){var r,p,y=c(),v=y>>5,_=31&y;if(7===v)switch(_){case 25:return function(){var e=new ArrayBuffer(4),t=new DataView(e),n=d(),r=32768&n,o=31744&n,a=1023&n;if(31744===o)o=261120;else if(0!==o)o+=114688;else if(0!==a)return a*i;return t.setUint32(0,r<<16|o<<13|a<<13),t.getFloat32(0)}();case 26:return u(a.getFloat32(s),4);case 27:return u(a.getFloat64(s),8)}if((p=f(_))<0&&(v<2||6<v))throw"Invalid length";switch(v){case 0:return p;case 1:return-1-p;case 2:if(p<0){for(var b=[],w=0;(p=m(v))>=0;)w+=p,b.push(l(p));var E=new Uint8Array(w),S=0;for(r=0;r<b.length;++r)E.set(b[r],S),S+=b[r].length;return E}return l(p);case 3:var T=[];if(p<0)for(;(p=m(v))>=0;)g(T,p);else g(T,p);return String.fromCharCode.apply(null,T);case 4:var C;if(p<0)for(C=[];!h();)C.push(e());else for(C=new Array(p),r=0;r<p;++r)C[r]=e();return C;case 5:var x={};for(r=0;r<p||p<0&&!h();++r)x[e()]=e();return x;case 6:return t(e(),p);case 7:switch(p){case 20:return!1;case 21:return!0;case 22:return null;case 23:return n;default:return o(p)}}}();if(s!==e.byteLength)throw"Remaining bytes";return y}};e.exports?e.exports=a:t.CBOR||(t.CBOR=a)}(d)}(p);var h=p.exports,f={exports:{}};
/*! lil-uuid - v0.1 - MIT License - https://github.com/lil-js/uuid */!function(e,t){!function(e){var t={3:/^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,4:/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,5:/^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,all:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i};function n(){var e,t,n="";for(e=0;e<32;e++)t=16*Math.random()|0,8!==e&&12!==e&&16!==e&&20!==e||(n+="-"),n+=(12===e?4:16===e?3&t|8:t).toString(16);return n}function i(e,n){var i=t[n||"all"];return i&&i.test(e)||!1}n.isUUID=i,n.VERSION="0.1.0",e.uuid=n,e.isUUID=i}(t),null!==e&&(e.exports=t.uuid)}(f,f.exports);var m=f.exports,g=function(){return m.uuid?m.uuid():m()},y=function(){function e(e){var t,n,i,r=e.setup;if(this._PNSDKSuffix={},this.instanceId="pn-".concat(g()),this.secretKey=r.secretKey||r.secret_key,this.subscribeKey=r.subscribeKey||r.subscribe_key,this.publishKey=r.publishKey||r.publish_key,this.sdkName=r.sdkName,this.sdkFamily=r.sdkFamily,this.partnerId=r.partnerId,this.setAuthKey(r.authKey),this.cryptoModule=r.cryptoModule,this.setFilterExpression(r.filterExpression),"string"!=typeof r.origin&&!Array.isArray(r.origin)&&void 0!==r.origin)throw new Error("Origin must be either undefined, a string or a list of strings.");if(this.origin=r.origin||Array.from({length:20},(function(e,t){return"ps".concat(t+1,".pndsn.com")})),this.secure=r.ssl||!1,this.restore=r.restore||!1,this.proxy=r.proxy,this.keepAlive=r.keepAlive,this.keepAliveSettings=r.keepAliveSettings,this.autoNetworkDetection=r.autoNetworkDetection||!1,this.dedupeOnSubscribe=r.dedupeOnSubscribe||!1,this.maximumCacheSize=r.maximumCacheSize||100,this.customEncrypt=r.customEncrypt,this.customDecrypt=r.customDecrypt,this.fileUploadPublishRetryLimit=null!==(t=r.fileUploadPublishRetryLimit)&&void 0!==t?t:5,this.useRandomIVs=null===(n=r.useRandomIVs)||void 0===n||n,this.enableSubscribeBeta=null!==(i=r.enableSubscribeBeta)&&void 0!==i&&i,"undefined"!=typeof location&&"https:"===location.protocol&&(this.secure=!0),this.logVerbosity=r.logVerbosity||!1,this.suppressLeaveEvents=r.suppressLeaveEvents||!1,this.announceFailedHeartbeats=r.announceFailedHeartbeats||!0,this.announceSuccessfulHeartbeats=r.announceSuccessfulHeartbeats||!1,this.useInstanceId=r.useInstanceId||!1,this.useRequestId=r.useRequestId||!1,this.requestMessageCountThreshold=r.requestMessageCountThreshold,this.setTransactionTimeout(r.transactionalRequestTimeout||15e3),this.setSubscribeTimeout(r.subscribeRequestTimeout||31e4),this.setSendBeaconConfig(r.useSendBeacon||!0),r.presenceTimeout?this.setPresenceTimeout(r.presenceTimeout):this._presenceTimeout=300,null!=r.heartbeatInterval&&this.setHeartbeatInterval(r.heartbeatInterval),"string"==typeof r.userId){if("string"==typeof r.uuid)throw new Error("Only one of the following configuration options has to be provided: `uuid` or `userId`");this.setUserId(r.userId)}else{if("string"!=typeof r.uuid)throw new Error("One of the following configuration options has to be provided: `uuid` or `userId`");this.setUUID(r.uuid)}this.setCipherKey(r.cipherKey,r)}return e.prototype.getAuthKey=function(){return this.authKey},e.prototype.setAuthKey=function(e){return this.authKey=e,this},e.prototype.setCipherKey=function(e,t,n){var i;return this.cipherKey=e,this.cipherKey&&(this.cryptoModule=null!==(i=t.cryptoModule)&&void 0!==i?i:t.initCryptoModule({cipherKey:this.cipherKey,useRandomIVs:this.useRandomIVs}),n&&(n.cryptoModule=this.cryptoModule)),this},e.prototype.getUUID=function(){return this.UUID},e.prototype.setUUID=function(e){if(!e||"string"!=typeof e||0===e.trim().length)throw new Error("Missing uuid parameter. Provide a valid string uuid");return this.UUID=e,this},e.prototype.getUserId=function(){return this.UUID},e.prototype.setUserId=function(e){if(!e||"string"!=typeof e||0===e.trim().length)throw new Error("Missing or invalid userId parameter. Provide a valid string userId");return this.UUID=e,this},e.prototype.getFilterExpression=function(){return this.filterExpression},e.prototype.setFilterExpression=function(e){return this.filterExpression=e,this},e.prototype.getPresenceTimeout=function(){return this._presenceTimeout},e.prototype.setPresenceTimeout=function(e){return e>=20?this._presenceTimeout=e:(this._presenceTimeout=20,console.log("WARNING: Presence timeout is less than the minimum. Using minimum value: ",this._presenceTimeout)),this.setHeartbeatInterval(this._presenceTimeout/2-1),this},e.prototype.setProxy=function(e){this.proxy=e},e.prototype.getHeartbeatInterval=function(){return this._heartbeatInterval},e.prototype.setHeartbeatInterval=function(e){return this._heartbeatInterval=e,this},e.prototype.getSubscribeTimeout=function(){return this._subscribeRequestTimeout},e.prototype.setSubscribeTimeout=function(e){return this._subscribeRequestTimeout=e,this},e.prototype.getTransactionTimeout=function(){return this._transactionalRequestTimeout},e.prototype.setTransactionTimeout=function(e){return this._transactionalRequestTimeout=e,this},e.prototype.isSendBeaconEnabled=function(){return this._useSendBeacon},e.prototype.setSendBeaconConfig=function(e){return this._useSendBeacon=e,this},e.prototype.getVersion=function(){return"7.4.5"},e.prototype._addPnsdkSuffix=function(e,t){this._PNSDKSuffix[e]=t},e.prototype._getPnsdkSuffix=function(e){var t=this;return Object.keys(this._PNSDKSuffix).reduce((function(n,i){return n+e+t._PNSDKSuffix[i]}),"")},e}();function v(e){var t=e.replace(/==?$/,""),n=Math.floor(t.length/4*3),i=new ArrayBuffer(n),r=new Uint8Array(i),o=0;function a(){var e=t.charAt(o++),n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e);if(-1===n)throw new Error("Illegal character at ".concat(o,": ").concat(t.charAt(o-1)));return n}for(var s=0;s<n;s+=3){var u=a(),l=a(),c=a(),d=a(),p=(63&u)<<2|l>>4,h=(15&l)<<4|c>>2,f=(3&c)<<6|d>>0;r[s]=p,64!=c&&(r[s+1]=h),64!=d&&(r[s+2]=f)}return i}function _(e){for(var t,n="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=new Uint8Array(e),o=r.byteLength,a=o%3,s=o-a,u=0;u<s;u+=3)n+=i[(16515072&(t=r[u]<<16|r[u+1]<<8|r[u+2]))>>18]+i[(258048&t)>>12]+i[(4032&t)>>6]+i[63&t];return 1==a?n+=i[(252&(t=r[s]))>>2]+i[(3&t)<<4]+"==":2==a&&(n+=i[(64512&(t=r[s]<<8|r[s+1]))>>10]+i[(1008&t)>>4]+i[(15&t)<<2]+"="),n}var b,w,E,S,T,C=C||function(e,t){var n={},i=n.lib={},r=function(){},o=i.Base={extend:function(e){r.prototype=this;var t=new r;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},a=i.WordArray=o.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||u).stringify(this)},concat:function(e){var t=this.words,n=e.words,i=this.sigBytes;if(e=e.sigBytes,this.clamp(),i%4)for(var r=0;r<e;r++)t[i+r>>>2]|=(n[r>>>2]>>>24-r%4*8&255)<<24-(i+r)%4*8;else if(65535<n.length)for(r=0;r<e;r+=4)t[i+r>>>2]=n[r>>>2];else t.push.apply(t,n);return this.sigBytes+=e,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n=[],i=0;i<t;i+=4)n.push(4294967296*e.random()|0);return new a.init(n,t)}}),s=n.enc={},u=s.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],i=0;i<e;i++){var r=t[i>>>2]>>>24-i%4*8&255;n.push((r>>>4).toString(16)),n.push((15&r).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i+=2)n[i>>>3]|=parseInt(e.substr(i,2),16)<<24-i%8*4;return new a.init(n,t/2)}},l=s.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],i=0;i<e;i++)n.push(String.fromCharCode(t[i>>>2]>>>24-i%4*8&255));return n.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i++)n[i>>>2]|=(255&e.charCodeAt(i))<<24-i%4*8;return new a.init(n,t)}},c=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(l.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return l.parse(unescape(encodeURIComponent(e)))}},d=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=c.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,i=n.words,r=n.sigBytes,o=this.blockSize,s=r/(4*o);if(t=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*o,r=e.min(4*t,r),t){for(var u=0;u<t;u+=o)this._doProcessBlock(i,u);u=i.splice(0,t),n.sigBytes-=r}return new a.init(u,r)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});i.Hasher=d.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new p.HMAC.init(e,n).finalize(t)}}});var p=n.algo={};return n}(Math);!function(e){for(var t=C,n=(r=t.lib).WordArray,i=r.Hasher,r=t.algo,o=[],a=[],s=function(e){return 4294967296*(e-(0|e))|0},u=2,l=0;64>l;){var c;e:{c=u;for(var d=e.sqrt(c),p=2;p<=d;p++)if(!(c%p)){c=!1;break e}c=!0}c&&(8>l&&(o[l]=s(e.pow(u,.5))),a[l]=s(e.pow(u,1/3)),l++),u++}var h=[];r=r.SHA256=i.extend({_doReset:function(){this._hash=new n.init(o.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,i=n[0],r=n[1],o=n[2],s=n[3],u=n[4],l=n[5],c=n[6],d=n[7],p=0;64>p;p++){if(16>p)h[p]=0|e[t+p];else{var f=h[p-15],m=h[p-2];h[p]=((f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3)+h[p-7]+((m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10)+h[p-16]}f=d+((u<<26|u>>>6)^(u<<21|u>>>11)^(u<<7|u>>>25))+(u&l^~u&c)+a[p]+h[p],m=((i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22))+(i&r^i&o^r&o),d=c,c=l,l=u,u=s+f|0,s=o,o=r,r=i,i=f+m|0}n[0]=n[0]+i|0,n[1]=n[1]+r|0,n[2]=n[2]+o|0,n[3]=n[3]+s|0,n[4]=n[4]+u|0,n[5]=n[5]+l|0,n[6]=n[6]+c|0,n[7]=n[7]+d|0},_doFinalize:function(){var t=this._data,n=t.words,i=8*this._nDataBytes,r=8*t.sigBytes;return n[r>>>5]|=128<<24-r%32,n[14+(r+64>>>9<<4)]=e.floor(i/4294967296),n[15+(r+64>>>9<<4)]=i,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}}),t.SHA256=i._createHelper(r),t.HmacSHA256=i._createHmacHelper(r)}(Math),w=(b=C).enc.Utf8,b.algo.HMAC=b.lib.Base.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=w.parse(t));var n=e.blockSize,i=4*n;t.sigBytes>i&&(t=e.finalize(t)),t.clamp();for(var r=this._oKey=t.clone(),o=this._iKey=t.clone(),a=r.words,s=o.words,u=0;u<n;u++)a[u]^=1549556828,s[u]^=909522486;r.sigBytes=o.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher;return e=t.finalize(e),t.reset(),t.finalize(this._oKey.clone().concat(e))}}),S=(E=C).lib.WordArray,E.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,i=this._map;e.clamp(),e=[];for(var r=0;r<n;r+=3)for(var o=(t[r>>>2]>>>24-r%4*8&255)<<16|(t[r+1>>>2]>>>24-(r+1)%4*8&255)<<8|t[r+2>>>2]>>>24-(r+2)%4*8&255,a=0;4>a&&r+.75*a<n;a++)e.push(i.charAt(o>>>6*(3-a)&63));if(t=i.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(e){var t=e.length,n=this._map;(i=n.charAt(64))&&-1!=(i=e.indexOf(i))&&(t=i);for(var i=[],r=0,o=0;o<t;o++)if(o%4){var a=n.indexOf(e.charAt(o-1))<<o%4*2,s=n.indexOf(e.charAt(o))>>>6-o%4*2;i[r>>>2]|=(a|s)<<24-r%4*8,r++}return S.create(i,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},function(e){function t(e,t,n,i,r,o,a){return((e=e+(t&n|~t&i)+r+a)<<o|e>>>32-o)+t}function n(e,t,n,i,r,o,a){return((e=e+(t&i|n&~i)+r+a)<<o|e>>>32-o)+t}function i(e,t,n,i,r,o,a){return((e=e+(t^n^i)+r+a)<<o|e>>>32-o)+t}function r(e,t,n,i,r,o,a){return((e=e+(n^(t|~i))+r+a)<<o|e>>>32-o)+t}for(var o=C,a=(u=o.lib).WordArray,s=u.Hasher,u=o.algo,l=[],c=0;64>c;c++)l[c]=4294967296*e.abs(e.sin(c+1))|0;u=u.MD5=s.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,o){for(var a=0;16>a;a++){var s=e[u=o+a];e[u]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}a=this._hash.words;var u=e[o+0],c=(s=e[o+1],e[o+2]),d=e[o+3],p=e[o+4],h=e[o+5],f=e[o+6],m=e[o+7],g=e[o+8],y=e[o+9],v=e[o+10],_=e[o+11],b=e[o+12],w=e[o+13],E=e[o+14],S=e[o+15],T=t(T=a[0],A=a[1],x=a[2],C=a[3],u,7,l[0]),C=t(C,T,A,x,s,12,l[1]),x=t(x,C,T,A,c,17,l[2]),A=t(A,x,C,T,d,22,l[3]);T=t(T,A,x,C,p,7,l[4]),C=t(C,T,A,x,h,12,l[5]),x=t(x,C,T,A,f,17,l[6]),A=t(A,x,C,T,m,22,l[7]),T=t(T,A,x,C,g,7,l[8]),C=t(C,T,A,x,y,12,l[9]),x=t(x,C,T,A,v,17,l[10]),A=t(A,x,C,T,_,22,l[11]),T=t(T,A,x,C,b,7,l[12]),C=t(C,T,A,x,w,12,l[13]),x=t(x,C,T,A,E,17,l[14]),T=n(T,A=t(A,x,C,T,S,22,l[15]),x,C,s,5,l[16]),C=n(C,T,A,x,f,9,l[17]),x=n(x,C,T,A,_,14,l[18]),A=n(A,x,C,T,u,20,l[19]),T=n(T,A,x,C,h,5,l[20]),C=n(C,T,A,x,v,9,l[21]),x=n(x,C,T,A,S,14,l[22]),A=n(A,x,C,T,p,20,l[23]),T=n(T,A,x,C,y,5,l[24]),C=n(C,T,A,x,E,9,l[25]),x=n(x,C,T,A,d,14,l[26]),A=n(A,x,C,T,g,20,l[27]),T=n(T,A,x,C,w,5,l[28]),C=n(C,T,A,x,c,9,l[29]),x=n(x,C,T,A,m,14,l[30]),T=i(T,A=n(A,x,C,T,b,20,l[31]),x,C,h,4,l[32]),C=i(C,T,A,x,g,11,l[33]),x=i(x,C,T,A,_,16,l[34]),A=i(A,x,C,T,E,23,l[35]),T=i(T,A,x,C,s,4,l[36]),C=i(C,T,A,x,p,11,l[37]),x=i(x,C,T,A,m,16,l[38]),A=i(A,x,C,T,v,23,l[39]),T=i(T,A,x,C,w,4,l[40]),C=i(C,T,A,x,u,11,l[41]),x=i(x,C,T,A,d,16,l[42]),A=i(A,x,C,T,f,23,l[43]),T=i(T,A,x,C,y,4,l[44]),C=i(C,T,A,x,b,11,l[45]),x=i(x,C,T,A,S,16,l[46]),T=r(T,A=i(A,x,C,T,c,23,l[47]),x,C,u,6,l[48]),C=r(C,T,A,x,m,10,l[49]),x=r(x,C,T,A,E,15,l[50]),A=r(A,x,C,T,h,21,l[51]),T=r(T,A,x,C,b,6,l[52]),C=r(C,T,A,x,d,10,l[53]),x=r(x,C,T,A,v,15,l[54]),A=r(A,x,C,T,s,21,l[55]),T=r(T,A,x,C,g,6,l[56]),C=r(C,T,A,x,S,10,l[57]),x=r(x,C,T,A,f,15,l[58]),A=r(A,x,C,T,w,21,l[59]),T=r(T,A,x,C,p,6,l[60]),C=r(C,T,A,x,_,10,l[61]),x=r(x,C,T,A,c,15,l[62]),A=r(A,x,C,T,y,21,l[63]),a[0]=a[0]+T|0,a[1]=a[1]+A|0,a[2]=a[2]+x|0,a[3]=a[3]+C|0},_doFinalize:function(){var t=this._data,n=t.words,i=8*this._nDataBytes,r=8*t.sigBytes;n[r>>>5]|=128<<24-r%32;var o=e.floor(i/4294967296);for(n[15+(r+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[14+(r+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),t.sigBytes=4*(n.length+1),this._process(),n=(t=this._hash).words,i=0;4>i;i++)r=n[i],n[i]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8);return t},clone:function(){var e=s.clone.call(this);return e._hash=this._hash.clone(),e}}),o.MD5=s._createHelper(u),o.HmacMD5=s._createHmacHelper(u)}(Math),function(){var e,t=C,n=(e=t.lib).Base,i=e.WordArray,r=(e=t.algo).EvpKDF=n.extend({cfg:n.extend({keySize:4,hasher:e.MD5,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=(s=this.cfg).hasher.create(),r=i.create(),o=r.words,a=s.keySize,s=s.iterations;o.length<a;){u&&n.update(u);var u=n.update(e).finalize(t);n.reset();for(var l=1;l<s;l++)u=n.finalize(u),n.reset();r.concat(u)}return r.sigBytes=4*a,r}});t.EvpKDF=function(e,t,n){return r.create(n).compute(e,t)}}(),C.lib.Cipher||function(e){var t=(h=C).lib,n=t.Base,i=t.WordArray,r=t.BufferedBlockAlgorithm,o=h.enc.Base64,a=h.algo.EvpKDF,s=t.Cipher=r.extend({cfg:n.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){r.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(e){return{encrypt:function(t,n,i){return("string"==typeof n?f:p).encrypt(e,t,n,i)},decrypt:function(t,n,i){return("string"==typeof n?f:p).decrypt(e,t,n,i)}}}});t.StreamCipher=s.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var u=h.mode={},l=function(e,t,n){var i=this._iv;i?this._iv=void 0:i=this._prevBlock;for(var r=0;r<n;r++)e[t+r]^=i[r]},c=(t.BlockCipherMode=n.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}})).extend();c.Encryptor=c.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize;l.call(this,e,t,i),n.encryptBlock(e,t),this._prevBlock=e.slice(t,t+i)}}),c.Decryptor=c.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize,r=e.slice(t,t+i);n.decryptBlock(e,t),l.call(this,e,t,i),this._prevBlock=r}}),u=u.CBC=c,c=(h.pad={}).Pkcs7={pad:function(e,t){for(var n,r=(n=(n=4*t)-e.sigBytes%n)<<24|n<<16|n<<8|n,o=[],a=0;a<n;a+=4)o.push(r);n=i.create(o,n),e.concat(n)},unpad:function(e){e.sigBytes-=255&e.words[e.sigBytes-1>>>2]}},t.BlockCipher=s.extend({cfg:s.cfg.extend({mode:u,padding:c}),reset:function(){s.reset.call(this);var e=(t=this.cfg).iv,t=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=t.createEncryptor;else n=t.createDecryptor,this._minBufferSize=1;this._mode=n.call(t,this,e&&e.words)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else t=this._process(!0),e.unpad(t);return t},blockSize:4});var d=t.CipherParams=n.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),p=(u=(h.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext;return((e=e.salt)?i.create([1398893684,1701076831]).concat(e).concat(t):t).toString(o)},parse:function(e){var t=(e=o.parse(e)).words;if(1398893684==t[0]&&1701076831==t[1]){var n=i.create(t.slice(2,4));t.splice(0,4),e.sigBytes-=16}return d.create({ciphertext:e,salt:n})}},t.SerializableCipher=n.extend({cfg:n.extend({format:u}),encrypt:function(e,t,n,i){i=this.cfg.extend(i);var r=e.createEncryptor(n,i);return t=r.finalize(t),r=r.cfg,d.create({ciphertext:t,key:n,iv:r.iv,algorithm:e,mode:r.mode,padding:r.padding,blockSize:e.blockSize,formatter:i.format})},decrypt:function(e,t,n,i){return i=this.cfg.extend(i),t=this._parse(t,i.format),e.createDecryptor(n,i).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}})),h=(h.kdf={}).OpenSSL={execute:function(e,t,n,r){return r||(r=i.random(8)),e=a.create({keySize:t+n}).compute(e,r),n=i.create(e.words.slice(t),4*n),e.sigBytes=4*t,d.create({key:e,iv:n,salt:r})}},f=t.PasswordBasedCipher=p.extend({cfg:p.cfg.extend({kdf:h}),encrypt:function(e,t,n,i){return n=(i=this.cfg.extend(i)).kdf.execute(n,e.keySize,e.ivSize),i.iv=n.iv,(e=p.encrypt.call(this,e,t,n.key,i)).mixIn(n),e},decrypt:function(e,t,n,i){return i=this.cfg.extend(i),t=this._parse(t,i.format),n=i.kdf.execute(n,e.keySize,e.ivSize,t.salt),i.iv=n.iv,p.decrypt.call(this,e,t,n.key,i)}})}(),function(){for(var e=C,t=e.lib.BlockCipher,n=e.algo,i=[],r=[],o=[],a=[],s=[],u=[],l=[],c=[],d=[],p=[],h=[],f=0;256>f;f++)h[f]=128>f?f<<1:f<<1^283;var m=0,g=0;for(f=0;256>f;f++){var y=(y=g^g<<1^g<<2^g<<3^g<<4)>>>8^255&y^99;i[m]=y,r[y]=m;var v=h[m],_=h[v],b=h[_],w=257*h[y]^16843008*y;o[m]=w<<24|w>>>8,a[m]=w<<16|w>>>16,s[m]=w<<8|w>>>24,u[m]=w,w=16843009*b^65537*_^257*v^16843008*m,l[y]=w<<24|w>>>8,c[y]=w<<16|w>>>16,d[y]=w<<8|w>>>24,p[y]=w,m?(m=v^h[h[h[b^v]]],g^=h[h[g]]):m=g=1}var E=[0,1,2,4,8,16,32,64,128,27,54];n=n.AES=t.extend({_doReset:function(){for(var e=(n=this._key).words,t=n.sigBytes/4,n=4*((this._nRounds=t+6)+1),r=this._keySchedule=[],o=0;o<n;o++)if(o<t)r[o]=e[o];else{var a=r[o-1];o%t?6<t&&4==o%t&&(a=i[a>>>24]<<24|i[a>>>16&255]<<16|i[a>>>8&255]<<8|i[255&a]):(a=i[(a=a<<8|a>>>24)>>>24]<<24|i[a>>>16&255]<<16|i[a>>>8&255]<<8|i[255&a],a^=E[o/t|0]<<24),r[o]=r[o-t]^a}for(e=this._invKeySchedule=[],t=0;t<n;t++)o=n-t,a=t%4?r[o]:r[o-4],e[t]=4>t||4>=o?a:l[i[a>>>24]]^c[i[a>>>16&255]]^d[i[a>>>8&255]]^p[i[255&a]]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,o,a,s,u,i)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,l,c,d,p,r),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,i,r,o,a,s){for(var u=this._nRounds,l=e[t]^n[0],c=e[t+1]^n[1],d=e[t+2]^n[2],p=e[t+3]^n[3],h=4,f=1;f<u;f++){var m=i[l>>>24]^r[c>>>16&255]^o[d>>>8&255]^a[255&p]^n[h++],g=i[c>>>24]^r[d>>>16&255]^o[p>>>8&255]^a[255&l]^n[h++],y=i[d>>>24]^r[p>>>16&255]^o[l>>>8&255]^a[255&c]^n[h++];p=i[p>>>24]^r[l>>>16&255]^o[c>>>8&255]^a[255&d]^n[h++],l=m,c=g,d=y}m=(s[l>>>24]<<24|s[c>>>16&255]<<16|s[d>>>8&255]<<8|s[255&p])^n[h++],g=(s[c>>>24]<<24|s[d>>>16&255]<<16|s[p>>>8&255]<<8|s[255&l])^n[h++],y=(s[d>>>24]<<24|s[p>>>16&255]<<16|s[l>>>8&255]<<8|s[255&c])^n[h++],p=(s[p>>>24]<<24|s[l>>>16&255]<<16|s[c>>>8&255]<<8|s[255&d])^n[h++],e[t]=m,e[t+1]=g,e[t+2]=y,e[t+3]=p},keySize:8}),e.AES=t._createHelper(n)}(),C.mode.ECB=((T=C.lib.BlockCipherMode.extend()).Encryptor=T.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),T.Decryptor=T.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),T);var x=C;function A(e){var t,n=[];for(t=0;t<e.length;t+=1)n[t/4|0]|=e[t]<<24-8*t;return x.lib.WordArray.create(n,e.length)}var k=function(){function e(e){var t=e.config;this._config=t,this._iv="0123456789012345",this._allowedKeyEncodings=["hex","utf8","base64","binary"],this._allowedKeyLengths=[128,256],this._allowedModes=["ecb","cbc"],this._defaultOptions={encryptKey:!0,keyEncoding:"utf8",keyLength:256,mode:"cbc"}}return e.prototype.HMACSHA256=function(e){return x.HmacSHA256(e,this._config.secretKey).toString(x.enc.Base64)},e.prototype.SHA256=function(e){return x.SHA256(e).toString(x.enc.Hex)},e.prototype._parseOptions=function(e){var t=e||{};return t.hasOwnProperty("encryptKey")||(t.encryptKey=this._defaultOptions.encryptKey),t.hasOwnProperty("keyEncoding")||(t.keyEncoding=this._defaultOptions.keyEncoding),t.hasOwnProperty("keyLength")||(t.keyLength=this._defaultOptions.keyLength),t.hasOwnProperty("mode")||(t.mode=this._defaultOptions.mode),-1===this._allowedKeyEncodings.indexOf(t.keyEncoding.toLowerCase())&&(t.keyEncoding=this._defaultOptions.keyEncoding),-1===this._allowedKeyLengths.indexOf(parseInt(t.keyLength,10))&&(t.keyLength=this._defaultOptions.keyLength),-1===this._allowedModes.indexOf(t.mode.toLowerCase())&&(t.mode=this._defaultOptions.mode),t},e.prototype._decodeKey=function(e,t){return"base64"===t.keyEncoding?x.enc.Base64.parse(e):"hex"===t.keyEncoding?x.enc.Hex.parse(e):e},e.prototype._getPaddedKey=function(e,t){return e=this._decodeKey(e,t),t.encryptKey?x.enc.Utf8.parse(this.SHA256(e).slice(0,32)):e},e.prototype._getMode=function(e){return"ecb"===e.mode?x.mode.ECB:x.mode.CBC},e.prototype._getIV=function(e){return"cbc"===e.mode?x.enc.Utf8.parse(this._iv):null},e.prototype._getRandomIV=function(){return x.lib.WordArray.random(16)},e.prototype.encrypt=function(e,t,n){return this._config.customEncrypt?this._config.customEncrypt(e):this.pnEncrypt(e,t,n)},e.prototype.decrypt=function(e,t,n){return this._config.customDecrypt?this._config.customDecrypt(e):this.pnDecrypt(e,t,n)},e.prototype.pnEncrypt=function(e,t,n){if(!t&&!this._config.cipherKey)return e;n=this._parseOptions(n);var i=this._getMode(n),r=this._getPaddedKey(t||this._config.cipherKey,n);if(this._config.useRandomIVs){var o=this._getRandomIV(),a=x.AES.encrypt(e,r,{iv:o,mode:i}).ciphertext;return o.clone().concat(a.clone()).toString(x.enc.Base64)}var s=this._getIV(n);return x.AES.encrypt(e,r,{iv:s,mode:i}).ciphertext.toString(x.enc.Base64)||e},e.prototype.pnDecrypt=function(e,t,n){if(!t&&!this._config.cipherKey)return e;n=this._parseOptions(n);var i=this._getMode(n),r=this._getPaddedKey(t||this._config.cipherKey,n);if(this._config.useRandomIVs){var o=A((u=new Uint8ClampedArray(v(e))).slice(0,16)),a=A(u.slice(16));try{var s=x.AES.decrypt({ciphertext:a},r,{iv:o,mode:i}).toString(x.enc.Utf8);return JSON.parse(s)}catch(e){return null}}else{o=this._getIV(n);try{var u=x.enc.Base64.parse(e);return s=x.AES.decrypt({ciphertext:u},r,{iv:o,mode:i}).toString(x.enc.Utf8),JSON.parse(s)}catch(e){return null}}},e}(),I=function(){function e(e){var t=e.timeEndpoint;this._timeEndpoint=t}return e.prototype.onReconnection=function(e){this._reconnectionCallback=e},e.prototype.startPolling=function(){this._timeTimer=setInterval(this._performTimeLoop.bind(this),3e3)},e.prototype.stopPolling=function(){clearInterval(this._timeTimer)},e.prototype._performTimeLoop=function(){var e=this;this._timeEndpoint((function(t){t.error||(clearInterval(e._timeTimer),e._reconnectionCallback())}))},e}(),D=function(){function e(e){var t=e.config;this.hashHistory=[],this._config=t}return e.prototype.getKey=function(e){var t=function(e){var t=0;if(0===e.length)return t;for(var n=0;n<e.length;n+=1)t=(t<<5)-t+e.charCodeAt(n),t&=t;return t}(JSON.stringify(e.payload)).toString(),n=e.publishMetaData.publishTimetoken;return"".concat(n,"-").concat(t)},e.prototype.isDuplicate=function(e){return this.hashHistory.includes(this.getKey(e))},e.prototype.addEntry=function(e){this.hashHistory.length>=this._config.maximumCacheSize&&this.hashHistory.shift(),this.hashHistory.push(this.getKey(e))},e.prototype.clearHistory=function(){this.hashHistory=[]},e}();function O(e){return encodeURIComponent(e).replace(/[!~*'()]/g,(function(e){return"%".concat(e.charCodeAt(0).toString(16).toUpperCase())}))}var P={signPamFromParams:function(e){return function(e){return function(e){var t=[];return Object.keys(e).forEach((function(e){return t.push(e)})),t}(e).sort()}(e).map((function(t){return"".concat(t,"=").concat(O(e[t]))})).join("&")},endsWith:function(e,t){return-1!==e.indexOf(t,this.length-t.length)},createPromise:function(){var e,t;return{promise:new Promise((function(n,i){e=n,t=i})),reject:t,fulfill:e}},encodeString:O,stringToArrayBuffer:function(e){for(var t=new ArrayBuffer(2*e.length),n=new Uint16Array(t),i=0,r=e.length;i<r;i++)n[i]=e.charCodeAt(i);return t}},N={PNNetworkUpCategory:"PNNetworkUpCategory",PNNetworkDownCategory:"PNNetworkDownCategory",PNNetworkIssuesCategory:"PNNetworkIssuesCategory",PNTimeoutCategory:"PNTimeoutCategory",PNBadRequestCategory:"PNBadRequestCategory",PNAccessDeniedCategory:"PNAccessDeniedCategory",PNUnknownCategory:"PNUnknownCategory",PNReconnectedCategory:"PNReconnectedCategory",PNConnectedCategory:"PNConnectedCategory",PNRequestMessageCountExceededCategory:"PNRequestMessageCountExceededCategory"},R=function(){function e(e){var t=e.subscribeEndpoint,n=e.leaveEndpoint,i=e.heartbeatEndpoint,r=e.setStateEndpoint,o=e.timeEndpoint,a=e.getFileUrl,s=e.config,u=e.crypto,l=e.listenerManager,c=e.cryptoModule;this._listenerManager=l,this._config=s,this._leaveEndpoint=n,this._heartbeatEndpoint=i,this._setStateEndpoint=r,this._subscribeEndpoint=t,this._getFileUrl=a,this._crypto=u,this._cryptoModule=c,this._channels={},this._presenceChannels={},this._heartbeatChannels={},this._heartbeatChannelGroups={},this._channelGroups={},this._presenceChannelGroups={},this._pendingChannelSubscriptions=[],this._pendingChannelGroupSubscriptions=[],this._currentTimetoken=0,this._lastTimetoken=0,this._storedTimetoken=null,this._subscriptionStatusAnnounced=!1,this._isOnline=!0,this._reconnectionManager=new I({timeEndpoint:o}),this._dedupingManager=new D({config:s}),this._cryptoModule&&(this._decoder=new TextDecoder)}return e.prototype.adaptStateChange=function(e,t){var n=this,i=e.state,r=e.channels,o=void 0===r?[]:r,a=e.channelGroups,s=void 0===a?[]:a,u=e.withHeartbeat,l=void 0!==u&&u;if(o.forEach((function(e){e in n._channels&&(n._channels[e].state=i)})),s.forEach((function(e){e in n._channelGroups&&(n._channelGroups[e].state=i)})),l){var c={};return o.forEach((function(e){return c[e]=i})),s.forEach((function(e){return c[e]=i})),this._heartbeatEndpoint({channels:o,channelGroups:s,state:c},t)}return this._setStateEndpoint({state:i,channels:o,channelGroups:s},t)},e.prototype.adaptPresenceChange=function(e){var t=this,n=e.connected,i=e.channels,r=void 0===i?[]:i,o=e.channelGroups,a=void 0===o?[]:o;n?(r.forEach((function(e){t._heartbeatChannels[e]={state:{}}})),a.forEach((function(e){t._heartbeatChannelGroups[e]={state:{}}}))):(r.forEach((function(e){e in t._heartbeatChannels&&delete t._heartbeatChannels[e]})),a.forEach((function(e){e in t._heartbeatChannelGroups&&delete t._heartbeatChannelGroups[e]})),!1===this._config.suppressLeaveEvents&&this._leaveEndpoint({channels:r,channelGroups:a},(function(e){t._listenerManager.announceStatus(e)}))),this.reconnect()},e.prototype.adaptSubscribeChange=function(e){var t=this,n=e.timetoken,i=e.channels,r=void 0===i?[]:i,o=e.channelGroups,a=void 0===o?[]:o,s=e.withPresence,u=void 0!==s&&s,l=e.withHeartbeats,c=void 0!==l&&l;this._config.subscribeKey&&""!==this._config.subscribeKey?(n&&(this._lastTimetoken=this._currentTimetoken,this._currentTimetoken=n),"0"!==this._currentTimetoken&&0!==this._currentTimetoken&&(this._storedTimetoken=this._currentTimetoken,this._currentTimetoken=0),r.forEach((function(e){t._channels[e]={state:{}},u&&(t._presenceChannels[e]={}),(c||t._config.getHeartbeatInterval())&&(t._heartbeatChannels[e]={}),t._pendingChannelSubscriptions.push(e)})),a.forEach((function(e){t._channelGroups[e]={state:{}},u&&(t._presenceChannelGroups[e]={}),(c||t._config.getHeartbeatInterval())&&(t._heartbeatChannelGroups[e]={}),t._pendingChannelGroupSubscriptions.push(e)})),this._subscriptionStatusAnnounced=!1,this.reconnect()):console&&console.log&&console.log("subscribe key missing; aborting subscribe")},e.prototype.adaptUnsubscribeChange=function(e,t){var n=this,i=e.channels,r=void 0===i?[]:i,o=e.channelGroups,a=void 0===o?[]:o,s=[],u=[];r.forEach((function(e){e in n._channels&&(delete n._channels[e],s.push(e),e in n._heartbeatChannels&&delete n._heartbeatChannels[e]),e in n._presenceChannels&&(delete n._presenceChannels[e],s.push(e))})),a.forEach((function(e){e in n._channelGroups&&(delete n._channelGroups[e],u.push(e),e in n._heartbeatChannelGroups&&delete n._heartbeatChannelGroups[e]),e in n._presenceChannelGroups&&(delete n._presenceChannelGroups[e],u.push(e))})),0===s.length&&0===u.length||(!1!==this._config.suppressLeaveEvents||t||this._leaveEndpoint({channels:s,channelGroups:u},(function(e){e.affectedChannels=s,e.affectedChannelGroups=u,e.currentTimetoken=n._currentTimetoken,e.lastTimetoken=n._lastTimetoken,n._listenerManager.announceStatus(e)})),0===Object.keys(this._channels).length&&0===Object.keys(this._presenceChannels).length&&0===Object.keys(this._channelGroups).length&&0===Object.keys(this._presenceChannelGroups).length&&(this._lastTimetoken=0,this._currentTimetoken=0,this._storedTimetoken=null,this._region=null,this._reconnectionManager.stopPolling()),this.reconnect())},e.prototype.unsubscribeAll=function(e){this.adaptUnsubscribeChange({channels:this.getSubscribedChannels(),channelGroups:this.getSubscribedChannelGroups()},e)},e.prototype.getHeartbeatChannels=function(){return Object.keys(this._heartbeatChannels)},e.prototype.getHeartbeatChannelGroups=function(){return Object.keys(this._heartbeatChannelGroups)},e.prototype.getSubscribedChannels=function(){return Object.keys(this._channels)},e.prototype.getSubscribedChannelGroups=function(){return Object.keys(this._channelGroups)},e.prototype.reconnect=function(){this._startSubscribeLoop(),this._registerHeartbeatTimer()},e.prototype.disconnect=function(){this._stopSubscribeLoop(),this._stopHeartbeatTimer(),this._reconnectionManager.stopPolling()},e.prototype._registerHeartbeatTimer=function(){this._stopHeartbeatTimer(),0!==this._config.getHeartbeatInterval()&&void 0!==this._config.getHeartbeatInterval()&&(this._performHeartbeatLoop(),this._heartbeatTimer=setInterval(this._performHeartbeatLoop.bind(this),1e3*this._config.getHeartbeatInterval()))},e.prototype._stopHeartbeatTimer=function(){this._heartbeatTimer&&(clearInterval(this._heartbeatTimer),this._heartbeatTimer=null)},e.prototype._performHeartbeatLoop=function(){var e=this,t=this.getHeartbeatChannels(),n=this.getHeartbeatChannelGroups(),i={};0===t.length&&0===n.length||(this.getSubscribedChannels().forEach((function(t){var n=e._channels[t].state;Object.keys(n).length&&(i[t]=n)})),this.getSubscribedChannelGroups().forEach((function(t){var n=e._channelGroups[t].state;Object.keys(n).length&&(i[t]=n)})),this._heartbeatEndpoint({channels:t,channelGroups:n,state:i},function(t){t.error&&e._config.announceFailedHeartbeats&&e._listenerManager.announceStatus(t),t.error&&e._config.autoNetworkDetection&&e._isOnline&&(e._isOnline=!1,e.disconnect(),e._listenerManager.announceNetworkDown(),e.reconnect()),!t.error&&e._config.announceSuccessfulHeartbeats&&e._listenerManager.announceStatus(t)}.bind(this)))},e.prototype._startSubscribeLoop=function(){var e=this;this._stopSubscribeLoop();var t={},n=[],i=[];if(Object.keys(this._channels).forEach((function(i){var r=e._channels[i].state;Object.keys(r).length&&(t[i]=r),n.push(i)})),Object.keys(this._presenceChannels).forEach((function(e){n.push("".concat(e,"-pnpres"))})),Object.keys(this._channelGroups).forEach((function(n){var r=e._channelGroups[n].state;Object.keys(r).length&&(t[n]=r),i.push(n)})),Object.keys(this._presenceChannelGroups).forEach((function(e){i.push("".concat(e,"-pnpres"))})),0!==n.length||0!==i.length){var r={channels:n,channelGroups:i,state:t,timetoken:this._currentTimetoken,filterExpression:this._config.filterExpression,region:this._region};this._subscribeCall=this._subscribeEndpoint(r,this._processSubscribeResponse.bind(this))}},e.prototype._processSubscribeResponse=function(e,t){var n=this;if(e.error){if(e.errorData&&"Aborted"===e.errorData.message)return;e.category===N.PNTimeoutCategory?this._startSubscribeLoop():e.category===N.PNNetworkIssuesCategory?(this.disconnect(),e.error&&this._config.autoNetworkDetection&&this._isOnline&&(this._isOnline=!1,this._listenerManager.announceNetworkDown()),this._reconnectionManager.onReconnection((function(){n._config.autoNetworkDetection&&!n._isOnline&&(n._isOnline=!0,n._listenerManager.announceNetworkUp()),n.reconnect(),n._subscriptionStatusAnnounced=!0;var t={category:N.PNReconnectedCategory,operation:e.operation,lastTimetoken:n._lastTimetoken,currentTimetoken:n._currentTimetoken};n._listenerManager.announceStatus(t)})),this._reconnectionManager.startPolling(),this._listenerManager.announceStatus(e)):e.category===N.PNBadRequestCategory?(this._stopHeartbeatTimer(),this._listenerManager.announceStatus(e)):this._listenerManager.announceStatus(e)}else{if(this._storedTimetoken?(this._currentTimetoken=this._storedTimetoken,this._storedTimetoken=null):(this._lastTimetoken=this._currentTimetoken,this._currentTimetoken=t.metadata.timetoken),!this._subscriptionStatusAnnounced){var i={};i.category=N.PNConnectedCategory,i.operation=e.operation,i.affectedChannels=this._pendingChannelSubscriptions,i.subscribedChannels=this.getSubscribedChannels(),i.affectedChannelGroups=this._pendingChannelGroupSubscriptions,i.lastTimetoken=this._lastTimetoken,i.currentTimetoken=this._currentTimetoken,this._subscriptionStatusAnnounced=!0,this._listenerManager.announceStatus(i),this._pendingChannelSubscriptions=[],this._pendingChannelGroupSubscriptions=[]}var a=t.messages||[],s=this._config,u=s.requestMessageCountThreshold,l=s.dedupeOnSubscribe;if(u&&a.length>=u){var c={};c.category=N.PNRequestMessageCountExceededCategory,c.operation=e.operation,this._listenerManager.announceStatus(c)}a.forEach((function(e){var t=e.channel,i=e.subscriptionMatch,a=e.publishMetaData;if(t===i&&(i=null),l){if(n._dedupingManager.isDuplicate(e))return;n._dedupingManager.addEntry(e)}if(P.endsWith(e.channel,"-pnpres"))(m={channel:null,subscription:null}).actualChannel=null!=i?t:null,m.subscribedChannel=null!=i?i:t,t&&(m.channel=t.substring(0,t.lastIndexOf("-pnpres"))),i&&(m.subscription=i.substring(0,i.lastIndexOf("-pnpres"))),m.action=e.payload.action,m.state=e.payload.data,m.timetoken=a.publishTimetoken,m.occupancy=e.payload.occupancy,m.uuid=e.payload.uuid,m.timestamp=e.payload.timestamp,e.payload.join&&(m.join=e.payload.join),e.payload.leave&&(m.leave=e.payload.leave),e.payload.timeout&&(m.timeout=e.payload.timeout),n._listenerManager.announcePresence(m);else if(1===e.messageType)(m={channel:null,subscription:null}).channel=t,m.subscription=i,m.timetoken=a.publishTimetoken,m.publisher=e.issuingClientId,e.userMetadata&&(m.userMetadata=e.userMetadata),m.message=e.payload,n._listenerManager.announceSignal(m);else if(2===e.messageType){if((m={channel:null,subscription:null}).channel=t,m.subscription=i,m.timetoken=a.publishTimetoken,m.publisher=e.issuingClientId,e.userMetadata&&(m.userMetadata=e.userMetadata),m.message={event:e.payload.event,type:e.payload.type,data:e.payload.data},n._listenerManager.announceObjects(m),"uuid"===e.payload.type){var s=n._renameChannelField(m);n._listenerManager.announceUser(r(r({},s),{message:r(r({},s.message),{event:n._renameEvent(s.message.event),type:"user"})}))}else if("channel"===e.payload.type)s=n._renameChannelField(m),n._listenerManager.announceSpace(r(r({},s),{message:r(r({},s.message),{event:n._renameEvent(s.message.event),type:"space"})}));else if("membership"===e.payload.type){var u=(s=n._renameChannelField(m)).message.data,c=u.uuid,d=u.channel,p=o(u,["uuid","channel"]);p.user=c,p.space=d,n._listenerManager.announceMembership(r(r({},s),{message:r(r({},s.message),{event:n._renameEvent(s.message.event),data:p})}))}}else if(3===e.messageType)(m={}).channel=t,m.subscription=i,m.timetoken=a.publishTimetoken,m.publisher=e.issuingClientId,m.data={messageTimetoken:e.payload.data.messageTimetoken,actionTimetoken:e.payload.data.actionTimetoken,type:e.payload.data.type,uuid:e.issuingClientId,value:e.payload.data.value},m.event=e.payload.event,n._listenerManager.announceMessageAction(m);else if(4===e.messageType){(m={}).channel=t,m.subscription=i,m.timetoken=a.publishTimetoken,m.publisher=e.issuingClientId;var h=e.payload;if(n._cryptoModule){var f=void 0;try{f=(g=n._cryptoModule.decrypt(e.payload))instanceof ArrayBuffer?JSON.parse(n._decoder.decode(g)):g}catch(e){f=null,m.error="Error while decrypting message content: ".concat(e.message)}null!==f&&(h=f)}e.userMetadata&&(m.userMetadata=e.userMetadata),m.message=h.message,m.file={id:h.file.id,name:h.file.name,url:n._getFileUrl({id:h.file.id,name:h.file.name,channel:t})},n._listenerManager.announceFile(m)}else{var m;if((m={channel:null,subscription:null}).actualChannel=null!=i?t:null,m.subscribedChannel=null!=i?i:t,m.channel=t,m.subscription=i,m.timetoken=a.publishTimetoken,m.publisher=e.issuingClientId,e.userMetadata&&(m.userMetadata=e.userMetadata),n._cryptoModule){f=void 0;try{var g;f=(g=n._cryptoModule.decrypt(e.payload))instanceof ArrayBuffer?JSON.parse(n._decoder.decode(g)):g}catch(e){f=null,m.error="Error while decrypting message content: ".concat(e.message)}m.message=null!=f?f:e.payload}else m.message=e.payload;n._listenerManager.announceMessage(m)}})),this._region=t.metadata.region,this._startSubscribeLoop()}},e.prototype._stopSubscribeLoop=function(){this._subscribeCall&&("function"==typeof this._subscribeCall.abort&&this._subscribeCall.abort(),this._subscribeCall=null)},e.prototype._renameEvent=function(e){return"set"===e?"updated":"removed"},e.prototype._renameChannelField=function(e){var t=e.channel,n=o(e,["channel"]);return n.spaceId=t,n},e}(),L={PNTimeOperation:"PNTimeOperation",PNHistoryOperation:"PNHistoryOperation",PNDeleteMessagesOperation:"PNDeleteMessagesOperation",PNFetchMessagesOperation:"PNFetchMessagesOperation",PNMessageCounts:"PNMessageCountsOperation",PNSubscribeOperation:"PNSubscribeOperation",PNUnsubscribeOperation:"PNUnsubscribeOperation",PNPublishOperation:"PNPublishOperation",PNSignalOperation:"PNSignalOperation",PNAddMessageActionOperation:"PNAddActionOperation",PNRemoveMessageActionOperation:"PNRemoveMessageActionOperation",PNGetMessageActionsOperation:"PNGetMessageActionsOperation",PNCreateUserOperation:"PNCreateUserOperation",PNUpdateUserOperation:"PNUpdateUserOperation",PNDeleteUserOperation:"PNDeleteUserOperation",PNGetUserOperation:"PNGetUsersOperation",PNGetUsersOperation:"PNGetUsersOperation",PNCreateSpaceOperation:"PNCreateSpaceOperation",PNUpdateSpaceOperation:"PNUpdateSpaceOperation",PNDeleteSpaceOperation:"PNDeleteSpaceOperation",PNGetSpaceOperation:"PNGetSpacesOperation",PNGetSpacesOperation:"PNGetSpacesOperation",PNGetMembersOperation:"PNGetMembersOperation",PNUpdateMembersOperation:"PNUpdateMembersOperation",PNGetMembershipsOperation:"PNGetMembershipsOperation",PNUpdateMembershipsOperation:"PNUpdateMembershipsOperation",PNListFilesOperation:"PNListFilesOperation",PNGenerateUploadUrlOperation:"PNGenerateUploadUrlOperation",PNPublishFileOperation:"PNPublishFileOperation",PNGetFileUrlOperation:"PNGetFileUrlOperation",PNDownloadFileOperation:"PNDownloadFileOperation",PNGetAllUUIDMetadataOperation:"PNGetAllUUIDMetadataOperation",PNGetUUIDMetadataOperation:"PNGetUUIDMetadataOperation",PNSetUUIDMetadataOperation:"PNSetUUIDMetadataOperation",PNRemoveUUIDMetadataOperation:"PNRemoveUUIDMetadataOperation",PNGetAllChannelMetadataOperation:"PNGetAllChannelMetadataOperation",PNGetChannelMetadataOperation:"PNGetChannelMetadataOperation",PNSetChannelMetadataOperation:"PNSetChannelMetadataOperation",PNRemoveChannelMetadataOperation:"PNRemoveChannelMetadataOperation",PNSetMembersOperation:"PNSetMembersOperation",PNSetMembershipsOperation:"PNSetMembershipsOperation",PNPushNotificationEnabledChannelsOperation:"PNPushNotificationEnabledChannelsOperation",PNRemoveAllPushNotificationsOperation:"PNRemoveAllPushNotificationsOperation",PNWhereNowOperation:"PNWhereNowOperation",PNSetStateOperation:"PNSetStateOperation",PNHereNowOperation:"PNHereNowOperation",PNGetStateOperation:"PNGetStateOperation",PNHeartbeatOperation:"PNHeartbeatOperation",PNChannelGroupsOperation:"PNChannelGroupsOperation",PNRemoveGroupOperation:"PNRemoveGroupOperation",PNChannelsForGroupOperation:"PNChannelsForGroupOperation",PNAddChannelsToGroupOperation:"PNAddChannelsToGroupOperation",PNRemoveChannelsFromGroupOperation:"PNRemoveChannelsFromGroupOperation",PNAccessManagerGrant:"PNAccessManagerGrant",PNAccessManagerGrantToken:"PNAccessManagerGrantToken",PNAccessManagerAudit:"PNAccessManagerAudit",PNAccessManagerRevokeToken:"PNAccessManagerRevokeToken",PNHandshakeOperation:"PNHandshakeOperation",PNReceiveMessagesOperation:"PNReceiveMessagesOperation"},M=function(){function e(e){this._maximumSamplesCount=100,this._trackedLatencies={},this._latencies={},this._maximumSamplesCount=e.maximumSamplesCount||this._maximumSamplesCount}return e.prototype.operationsLatencyForRequest=function(){var e=this,t={};return Object.keys(this._latencies).forEach((function(n){var i=e._latencies[n],r=e._averageLatency(i);r>0&&(t["l_".concat(n)]=r)})),t},e.prototype.startLatencyMeasure=function(e,t){e!==L.PNSubscribeOperation&&t&&(this._trackedLatencies[t]=Date.now())},e.prototype.stopLatencyMeasure=function(e,t){if(e!==L.PNSubscribeOperation&&t){var n=this._endpointName(e),i=this._latencies[n],r=this._trackedLatencies[t];i||(this._latencies[n]=[],i=this._latencies[n]),i.push(Date.now()-r),i.length>this._maximumSamplesCount&&i.splice(0,i.length-this._maximumSamplesCount),delete this._trackedLatencies[t]}},e.prototype._averageLatency=function(e){return Math.floor(e.reduce((function(e,t){return e+t}),0)/e.length)},e.prototype._endpointName=function(e){var t=null;switch(e){case L.PNPublishOperation:t="pub";break;case L.PNSignalOperation:t="sig";break;case L.PNHistoryOperation:case L.PNFetchMessagesOperation:case L.PNDeleteMessagesOperation:case L.PNMessageCounts:t="hist";break;case L.PNUnsubscribeOperation:case L.PNWhereNowOperation:case L.PNHereNowOperation:case L.PNHeartbeatOperation:case L.PNSetStateOperation:case L.PNGetStateOperation:t="pres";break;case L.PNAddChannelsToGroupOperation:case L.PNRemoveChannelsFromGroupOperation:case L.PNChannelGroupsOperation:case L.PNRemoveGroupOperation:case L.PNChannelsForGroupOperation:t="cg";break;case L.PNPushNotificationEnabledChannelsOperation:case L.PNRemoveAllPushNotificationsOperation:t="push";break;case L.PNCreateUserOperation:case L.PNUpdateUserOperation:case L.PNDeleteUserOperation:case L.PNGetUserOperation:case L.PNGetUsersOperation:case L.PNCreateSpaceOperation:case L.PNUpdateSpaceOperation:case L.PNDeleteSpaceOperation:case L.PNGetSpaceOperation:case L.PNGetSpacesOperation:case L.PNGetMembersOperation:case L.PNUpdateMembersOperation:case L.PNGetMembershipsOperation:case L.PNUpdateMembershipsOperation:t="obj";break;case L.PNAddMessageActionOperation:case L.PNRemoveMessageActionOperation:case L.PNGetMessageActionsOperation:t="msga";break;case L.PNAccessManagerGrant:case L.PNAccessManagerAudit:t="pam";break;case L.PNAccessManagerGrantToken:case L.PNAccessManagerRevokeToken:t="pamv3";break;default:t="time"}return t},e}(),F=function(){function e(e,t,n){this._payload=e,this._setDefaultPayloadStructure(),this.title=t,this.body=n}return Object.defineProperty(e.prototype,"payload",{get:function(){return this._payload},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"title",{set:function(e){this._title=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"subtitle",{set:function(e){this._subtitle=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"body",{set:function(e){this._body=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"badge",{set:function(e){this._badge=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sound",{set:function(e){this._sound=e},enumerable:!1,configurable:!0}),e.prototype._setDefaultPayloadStructure=function(){},e.prototype.toObject=function(){return{}},e}(),j=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t.prototype,"configurations",{set:function(e){e&&e.length&&(this._configurations=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"notification",{get:function(){return this._payload.aps},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this._title},set:function(e){e&&e.length&&(this._payload.aps.alert.title=e,this._title=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"subtitle",{get:function(){return this._subtitle},set:function(e){e&&e.length&&(this._payload.aps.alert.subtitle=e,this._subtitle=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"body",{get:function(){return this._body},set:function(e){e&&e.length&&(this._payload.aps.alert.body=e,this._body=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"badge",{get:function(){return this._badge},set:function(e){null!=e&&(this._payload.aps.badge=e,this._badge=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sound",{get:function(){return this._sound},set:function(e){e&&e.length&&(this._payload.aps.sound=e,this._sound=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"silent",{set:function(e){this._isSilent=e},enumerable:!1,configurable:!0}),t.prototype._setDefaultPayloadStructure=function(){this._payload.aps={alert:{}}},t.prototype.toObject=function(){var e=this,t=r({},this._payload),n=t.aps,i=n.alert;if(this._isSilent&&(n["content-available"]=1),"apns2"===this._apnsPushType){if(!this._configurations||!this._configurations.length)throw new ReferenceError("APNS2 configuration is missing");var o=[];this._configurations.forEach((function(t){o.push(e._objectFromAPNS2Configuration(t))})),o.length&&(t.pn_push=o)}return i&&Object.keys(i).length||delete n.alert,this._isSilent&&(delete n.alert,delete n.badge,delete n.sound,i={}),this._isSilent||Object.keys(i).length?t:null},t.prototype._objectFromAPNS2Configuration=function(e){var t=this;if(!e.targets||!e.targets.length)throw new ReferenceError("At least one APNS2 target should be provided");var n=[];e.targets.forEach((function(e){n.push(t._objectFromAPNSTarget(e))}));var i=e.collapseId,r=e.expirationDate,o={auth_method:"token",targets:n,version:"v2"};return i&&i.length&&(o.collapse_id=i),r&&(o.expiration=r.toISOString()),o},t.prototype._objectFromAPNSTarget=function(e){if(!e.topic||!e.topic.length)throw new TypeError("Target 'topic' undefined.");var t=e.topic,n=e.environment,i=void 0===n?"development":n,r=e.excludedDevices,o=void 0===r?[]:r,a={topic:t,environment:i};return o.length&&(a.excluded_devices=o),a},t}(F),B=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t.prototype,"backContent",{get:function(){return this._backContent},set:function(e){e&&e.length&&(this._payload.back_content=e,this._backContent=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"backTitle",{get:function(){return this._backTitle},set:function(e){e&&e.length&&(this._payload.back_title=e,this._backTitle=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"count",{get:function(){return this._count},set:function(e){null!=e&&(this._payload.count=e,this._count=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this._title},set:function(e){e&&e.length&&(this._payload.title=e,this._title=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._type},set:function(e){e&&e.length&&(this._payload.type=e,this._type=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"subtitle",{get:function(){return this.backTitle},set:function(e){this.backTitle=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"body",{get:function(){return this.backContent},set:function(e){this.backContent=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"badge",{get:function(){return this.count},set:function(e){this.count=e},enumerable:!1,configurable:!0}),t.prototype.toObject=function(){return Object.keys(this._payload).length?r({},this._payload):null},t}(F),U=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t.prototype,"notification",{get:function(){return this._payload.notification},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._payload.data},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this._title},set:function(e){e&&e.length&&(this._payload.notification.title=e,this._title=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"body",{get:function(){return this._body},set:function(e){e&&e.length&&(this._payload.notification.body=e,this._body=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sound",{get:function(){return this._sound},set:function(e){e&&e.length&&(this._payload.notification.sound=e,this._sound=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"icon",{get:function(){return this._icon},set:function(e){e&&e.length&&(this._payload.notification.icon=e,this._icon=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tag",{get:function(){return this._tag},set:function(e){e&&e.length&&(this._payload.notification.tag=e,this._tag=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"silent",{set:function(e){this._isSilent=e},enumerable:!1,configurable:!0}),t.prototype._setDefaultPayloadStructure=function(){this._payload.notification={},this._payload.data={}},t.prototype.toObject=function(){var e=r({},this._payload.data),t=null,n={};if(Object.keys(this._payload).length>2){var i=this._payload;i.notification,i.data;var a=o(i,["notification","data"]);e=r(r({},e),a)}return this._isSilent?e.notification=this._payload.notification:t=this._payload.notification,Object.keys(e).length&&(n.data=e),t&&Object.keys(t).length&&(n.notification=t),Object.keys(n).length?n:null},t}(F),H=function(){function e(e,t){this._payload={apns:{},mpns:{},fcm:{}},this._title=e,this._body=t,this.apns=new j(this._payload.apns,e,t),this.mpns=new B(this._payload.mpns,e,t),this.fcm=new U(this._payload.fcm,e,t)}return Object.defineProperty(e.prototype,"debugging",{set:function(e){this._debugging=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"title",{get:function(){return this._title},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"body",{get:function(){return this._body},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"subtitle",{get:function(){return this._subtitle},set:function(e){this._subtitle=e,this.apns.subtitle=e,this.mpns.subtitle=e,this.fcm.subtitle=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"badge",{get:function(){return this._badge},set:function(e){this._badge=e,this.apns.badge=e,this.mpns.badge=e,this.fcm.badge=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sound",{get:function(){return this._sound},set:function(e){this._sound=e,this.apns.sound=e,this.mpns.sound=e,this.fcm.sound=e},enumerable:!1,configurable:!0}),e.prototype.buildPayload=function(e){var t={};if(e.includes("apns")||e.includes("apns2")){this.apns._apnsPushType=e.includes("apns")?"apns":"apns2";var n=this.apns.toObject();n&&Object.keys(n).length&&(t.pn_apns=n)}if(e.includes("mpns")){var i=this.mpns.toObject();i&&Object.keys(i).length&&(t.pn_mpns=i)}if(e.includes("fcm")){var r=this.fcm.toObject();r&&Object.keys(r).length&&(t.pn_gcm=r)}return Object.keys(t).length&&this._debugging&&(t.pn_debug=!0),t},e}(),$=function(){function e(){this._listeners=[]}return e.prototype.addListener=function(e){this._listeners.push(e)},e.prototype.removeListener=function(e){var t=[];this._listeners.forEach((function(n){n!==e&&t.push(n)})),this._listeners=t},e.prototype.removeAllListeners=function(){this._listeners=[]},e.prototype.announcePresence=function(e){this._listeners.forEach((function(t){t.presence&&t.presence(e)}))},e.prototype.announceStatus=function(e){this._listeners.forEach((function(t){t.status&&t.status(e)}))},e.prototype.announceMessage=function(e){this._listeners.forEach((function(t){t.message&&t.message(e)}))},e.prototype.announceSignal=function(e){this._listeners.forEach((function(t){t.signal&&t.signal(e)}))},e.prototype.announceMessageAction=function(e){this._listeners.forEach((function(t){t.messageAction&&t.messageAction(e)}))},e.prototype.announceFile=function(e){this._listeners.forEach((function(t){t.file&&t.file(e)}))},e.prototype.announceObjects=function(e){this._listeners.forEach((function(t){t.objects&&t.objects(e)}))},e.prototype.announceUser=function(e){this._listeners.forEach((function(t){t.user&&t.user(e)}))},e.prototype.announceSpace=function(e){this._listeners.forEach((function(t){t.space&&t.space(e)}))},e.prototype.announceMembership=function(e){this._listeners.forEach((function(t){t.membership&&t.membership(e)}))},e.prototype.announceNetworkUp=function(){var e={};e.category=N.PNNetworkUpCategory,this.announceStatus(e)},e.prototype.announceNetworkDown=function(){var e={};e.category=N.PNNetworkDownCategory,this.announceStatus(e)},e}(),G=function(){function e(e,t){this._config=e,this._cbor=t}return e.prototype.setToken=function(e){e&&e.length>0?this._token=e:this._token=void 0},e.prototype.getToken=function(){return this._token},e.prototype.extractPermissions=function(e){var t={read:!1,write:!1,manage:!1,delete:!1,get:!1,update:!1,join:!1};return 128==(128&e)&&(t.join=!0),64==(64&e)&&(t.update=!0),32==(32&e)&&(t.get=!0),8==(8&e)&&(t.delete=!0),4==(4&e)&&(t.manage=!0),2==(2&e)&&(t.write=!0),1==(1&e)&&(t.read=!0),t},e.prototype.parseToken=function(e){var t=this,n=this._cbor.decodeToken(e);if(void 0!==n){var i=n.res.uuid?Object.keys(n.res.uuid):[],r=Object.keys(n.res.chan),o=Object.keys(n.res.grp),a=n.pat.uuid?Object.keys(n.pat.uuid):[],s=Object.keys(n.pat.chan),u=Object.keys(n.pat.grp),l={version:n.v,timestamp:n.t,ttl:n.ttl,authorized_uuid:n.uuid},c=i.length>0,d=r.length>0,p=o.length>0;(c||d||p)&&(l.resources={},c&&(l.resources.uuids={},i.forEach((function(e){l.resources.uuids[e]=t.extractPermissions(n.res.uuid[e])}))),d&&(l.resources.channels={},r.forEach((function(e){l.resources.channels[e]=t.extractPermissions(n.res.chan[e])}))),p&&(l.resources.groups={},o.forEach((function(e){l.resources.groups[e]=t.extractPermissions(n.res.grp[e])}))));var h=a.length>0,f=s.length>0,m=u.length>0;return(h||f||m)&&(l.patterns={},h&&(l.patterns.uuids={},a.forEach((function(e){l.patterns.uuids[e]=t.extractPermissions(n.pat.uuid[e])}))),f&&(l.patterns.channels={},s.forEach((function(e){l.patterns.channels[e]=t.extractPermissions(n.pat.chan[e])}))),m&&(l.patterns.groups={},u.forEach((function(e){l.patterns.groups[e]=t.extractPermissions(n.pat.grp[e])})))),Object.keys(n.meta).length>0&&(l.meta=n.meta),l.signature=n.sig,l}},e}(),q=function(e){function t(t,n){var i=this.constructor,r=e.call(this,t)||this;return r.name=r.constructor.name,r.status=n,r.message=t,Object.setPrototypeOf(r,i.prototype),r}return n(t,e),t}(Error);function V(e){return(t={message:e}).type="validationError",t.error=!0,t;var t}function z(e,t,n){return e.usePost&&e.usePost(t,n)?e.postURL(t,n):e.usePatch&&e.usePatch(t,n)?e.patchURL(t,n):e.useGetFile&&e.useGetFile(t,n)?e.getFileURL(t,n):e.getURL(t,n)}function W(e){if(e.sdkName)return e.sdkName;var t="PubNub-JS-".concat(e.sdkFamily);e.partnerId&&(t+="-".concat(e.partnerId)),t+="/".concat(e.getVersion());var n=e._getPnsdkSuffix(" ");return n.length>0&&(t+=n),t}function K(e,t,n){return t.usePost&&t.usePost(e,n)?"POST":t.usePatch&&t.usePatch(e,n)?"PATCH":t.useDelete&&t.useDelete(e,n)?"DELETE":t.useGetFile&&t.useGetFile(e,n)?"GETFILE":"GET"}function Y(e,t,n,i,r){var o=e.config,a=e.crypto,s=K(e,r,i);n.timestamp=Math.floor((new Date).getTime()/1e3),"PNPublishOperation"===r.getOperation()&&r.usePost&&r.usePost(e,i)&&(s="GET"),"GETFILE"===s&&(s="GET");var u="".concat(s,"\n").concat(o.publishKey,"\n").concat(t,"\n").concat(P.signPamFromParams(n),"\n");if("POST"===s)u+="string"==typeof(l=r.postPayload(e,i))?l:JSON.stringify(l);else if("PATCH"===s){var l;u+="string"==typeof(l=r.patchPayload(e,i))?l:JSON.stringify(l)}var c="v2.".concat(a.HMACSHA256(u));c=(c=(c=c.replace(/\+/g,"-")).replace(/\//g,"_")).replace(/=+$/,""),n.signature=c}function J(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var o=e.networking,a=e.config,s=e.telemetryManager,u=e.tokenManager,l=g(),c=null,d=null,p={};t.getOperation()===L.PNTimeOperation||t.getOperation()===L.PNChannelGroupsOperation?c=n[0]:(p=n[0],c=n[1]),"undefined"==typeof Promise||c||(d=P.createPromise());var h=t.validateParams(e,p);if(h)return c?c(V(h)):d?(d.reject(new q("Validation failed, check status for details",V(h))),d.promise):void 0;var f,m=t.prepareParams(e,p),y=z(t,e,p),v={url:y,operation:t.getOperation(),timeout:t.getRequestTimeout(e),headers:t.getRequestHeaders?t.getRequestHeaders():{},ignoreBody:"function"==typeof t.ignoreBody&&t.ignoreBody(e),forceBuffered:"function"==typeof t.forceBuffered?t.forceBuffered(e,p):null,abortSignal:"function"==typeof t.getAbortSignal?t.getAbortSignal(e,p):null};m.uuid=a.UUID,m.pnsdk=W(a);var _=s.operationsLatencyForRequest();if(Object.keys(_).length&&(m=r(r({},m),_)),a.useInstanceId&&(m.instanceid=a.instanceId),a.useRequestId&&(m.requestid=l),t.isAuthSupported()){var b=u.getToken()||a.getAuthKey();b&&(m.auth=b)}a.secretKey&&Y(e,y,m,p,t);var w=function(n,i){if(n.error)return t.handleError&&t.handleError(e,p,n),void(c?c(n):d&&d.reject(new q("PubNub call failed, check status for details",n)));s.stopLatencyMeasure(t.getOperation(),l);var r=t.handleResponse(e,i,p);"function"!=typeof(null==r?void 0:r.then)&&(r=Promise.resolve(r)),r.then((function(e){c?c(n,e):d&&d.fulfill(e)})).catch((function(e){if(c){var n=e;t.getOperation()===L.PNSubscribeOperation&&(n={statusCode:400,error:!0,operation:t.getOperation(),errorData:e,category:N.PNUnknownCategory}),c(n,null)}else d&&d.reject(new q("PubNub call failed, check status for details",e))}))};if(s.startLatencyMeasure(t.getOperation(),l),"POST"===K(e,t,p)){var E=t.postPayload(e,p);f=o.POST(m,E,v,w)}else"PATCH"===K(e,t,p)?(E=t.patchPayload(e,p),f=o.PATCH(m,E,v,w)):f="DELETE"===K(e,t,p)?o.DELETE(m,v,w):"GETFILE"===K(e,t,p)?o.GETFILE(m,v,w):o.GET(m,v,w);return t.getOperation()===L.PNSubscribeOperation?f:d?d.promise:void 0}var X=Object.freeze({__proto__:null,getOperation:function(){return L.PNAddChannelsToGroupOperation},validateParams:function(e,t){var n=t.channels,i=t.channelGroup,r=e.config;return i?n&&0!==n.length?r.subscribeKey?void 0:"Missing Subscribe Key":"Missing Channels":"Missing Channel Group"},getURL:function(e,t){var n=t.channelGroup,i=e.config;return"/v1/channel-registration/sub-key/".concat(i.subscribeKey,"/channel-group/").concat(P.encodeString(n))},getRequestTimeout:function(e){return e.config.getTransactionTimeout()},isAuthSupported:function(){return!0},prepareParams:function(e,t){var n=t.channels;return{add:(void 0===n?[]:n).join(",")}},handleResponse:function(){return{}}}),Q=Object.freeze({__proto__:null,getOperation:function(){return L.PNRemoveChannelsFromGroupOperation},validateParams:function(e,t){var n=t.channels,i=t.channelGroup,r=e.config;return i?n&&0!==n.length?r.subscribeKey?void 0:"Missing Subscribe Key":"Missing Channels":"Missing Channel Group"},getURL:function(e,t){var n=t.channelGroup,i=e.config;return"/v1/channel-registration/sub-key/".concat(i.subscribeKey,"/channel-group/").concat(P.encodeString(n))},getRequestTimeout:function(e){return e.config.getTransactionTimeout()},isAuthSupported:function(){return!0},prepareParams:function(e,t){var n=t.channels;return{remove:(void 0===n?[]:n).join(",")}},handleResponse:function(){return{}}}),Z=Object.freeze({__proto__:null,getOperation:function(){return L.PNRemoveGroupOperation},validateParams:function(e,t){var n=t.channelGroup,i=e.config;return n?i.subscribeKey?void 0:"Missing Subscribe Key":"Missing Channel Group"},getURL:function(e,t){var n=t.channelGroup,i=e.config;return"/v1/channel-registration/sub-key/".concat(i.subscribeKey,"/channel-group/").concat(P.encodeString(n),"/remove")},isAuthSupported:function(){return!0},getRequestTimeout:function(e){return e.config.getTransactionTimeout()},prepareParams:function(){return{}},handleResponse:function(){return{}}}),ee=Object.freeze({__proto__:null,getOperation:function(){return L.PNChannelGroupsOperation},validateParams:function(e){if(!e.config.subscribeKey)return"Missing Subscribe Key"},getURL:function(e){var t=e.config;return"/v1/channel-registration/sub-key/".concat(t.subscribeKey,"/channel-group")},getRequestTimeout:function(e){return e.config.getTransactionTimeout()},isAuthSupported:function(){return!0},prepareParams:function(){return{}},handleResponse:function(e,t){return{groups:t.payload.groups}}}),te=Object.freeze({__proto__:null,getOperation:function(){return L.PNChannelsForGroupOperation},validateParams:function(e,t){var n=t.channelGroup,i=e.config;return n?i.subscribeKey?void 0:"Missing Subscribe Key":"Missing Channel Group"},getURL:function(e,t){var n=t.channelGroup,i=e.config;return"/v1/channel-registration/sub-key/".concat(i.subscribeKey,"/channel-group/").concat(P.encodeString(n))},getRequestTimeout:function(e){return e.config.getTransactionTimeout()},isAuthSupported:function(){return!0},prepareParams:function(){return{}},handleResponse:function(e,t){return{channels:t.payload.channels}}}),ne=Object.freeze({__proto__:null,getOperation:function(){return L.PNPushNotificationEnabledChannelsOperation},validateParams:function(e,t){var n=t.device,i=t.pushGateway,r=t.channels,o=t.topic,a=e.config;return n?i?"apns2"!==i||o?r&&0!==r.length?a.subscribeKey?void 0:"Missing Subscribe Key":"Missing Channels":"Missing APNS2 topic":"Missing GW Type (pushGateway: gcm, apns or apns2)":"Missing Device ID (device)"},getURL:function(e,t){var n=t.device,i=t.pushGateway,r=e.config;return"apns2"===i?"/v2/push/sub-key/".concat(r.subscribeKey,"/devices-apns2/").concat(n):"/v1/push/sub-key/".concat(r.subscribeKey,"/devices/").concat(n)},getRequestTimeout:function(e){return e.config.getTransactionTimeout()},isAuthSupported:function(){return!0},prepareParams:function(e,t){var n=t.pushGateway,i=t.channels,o=void 0===i?[]:i,a=t.environment,s=void 0===a?"development":a,u=t.topic,l={type:n,add:o.join(",")};return"apns2"===n&&delete(l=r(r({},l),{environment:s,topic:u})).type,l},handleResponse:function(){return{}}}),ie=Object.freeze({__proto__:null,getOperation:function(){return L.PNPushNotificationEnabledChannelsOperation},validateParams:function(e,t){var n=t.device,i=t.pushGateway,r=t.channels,o=t.topic,a=e.config;return n?i?"apns2"!==i||o?r&&0!==r.length?a.subscribeKey?void 0:"Missing Subscribe Key":"Missing Channels":"Missing APNS2 topic":"Missing GW Type (pushGateway: gcm, apns or apns2)":"Missing Device ID (device)"},getURL:function(e,t){var n=t.device,i=t.pushGateway,r=e.config;return"apns2"===i?"/v2/push/sub-key/".concat(r.subscribeKey,"/devices-apns2/").concat(n):"/v1/push/sub-key/".concat(r.subscribeKey,"/devices/").concat(n)},getRequestTimeout:function(e){return e.config.getTransactionTimeout()},isAuthSupported:function(){return!0},prepareParams:function(e,t){var n=t.pushGateway,i=t.channels,o=void 0===i?[]:i,a=t.environment,s=void 0===a?"development":a,u=t.topic,l={type:n,remove:o.join(",")};return"apns2"===n&&delete(l=r(r({},l),{environment:s,topic:u})).type,l},handleResponse:function(){return{}}}),re=Object.freeze({__proto__:null,getOperation:function(){return L.PNPushNotificationEnabledChannelsOperation},validateParams:function(e,t){var n=t.device,i=t.pushGateway,r=t.topic,o=e.config;return n?i?"apns2"!==i||r?o.subscribeKey?void 0:"Missing Subscribe Key":"Missing APNS2 topic":"Missing GW Type (pushGateway: gcm, apns or apns2)":"Missing Device ID (device)"},getURL:function(e,t){var n=t.device,i=t.pushGateway,r=e.config;return"apns2"===i?"/v2/push/sub-key/".concat(r.subscribeKey,"/devices-apns2/").concat(n):"/v1/push/sub-key/".concat(r.subscribeKey,"/devices/").concat(n)},getRequestTimeout:function(e){return e.config.getTransactionTimeout()},isAuthSupported:function(){return!0},prepareParams:function(e,t){var n=t.pushGateway,i=t.environment,o=void 0===i?"development":i,a=t.topic,s={type:n};return"apns2"===n&&delete(s=r(r({},s),{environment:o,topic:a})).type,s},handleResponse:function(e,t){return{channels:t}}}),oe=Object.freeze({__proto__:null,getOperation:function(){return L.PNRemoveAllPushNotificationsOperation},validateParams:function(e,t){var n=t.device,i=t.pushGateway,r=t.topic,o=e.config;return n?i?"apns2"!==i||r?o.subscribeKey?void 0:"Missing Subscribe Key":"Missing APNS2 topic":"Missing GW Type (pushGateway: gcm, apns or apns2)":"Missing Device ID (device)"},getURL:function(e,t){var n=t.device,i=t.pushGateway,r=e.config;return"apns2"===i?"/v2/push/sub-key/".concat(r.subscribeKey,"/devices-apns2/").concat(n,"/remove"):"/v1/push/sub-key/".concat(r.subscribeKey,"/devices/").concat(n,"/remove")},getRequestTimeout:function(e){return e.config.getTransactionTimeout()},isAuthSupported:function(){return!0},prepareParams:function(e,t){var n=t.pushGateway,i=t.environment,o=void 0===i?"development":i,a=t.topic,s={type:n};return"apns2"===n&&delete(s=r(r({},s),{environment:o,topic:a})).type,s},handleResponse:function(){return{}}}),ae=Object.freeze({__proto__:null,getOperation:function(){return L.PNUnsubscribeOperation},validateParams:function(e){if(!e.config.subscribeKey)return"Missing Subscribe Key"},getURL:function(e,t){var n=e.config,i=t.channels,r=void 0===i?[]:i,o=r.length>0?r.join(","):",";return"/v2/presence/sub-key/".concat(n.subscribeKey,"/channel/").concat(P.encodeString(o),"/leave")},getRequestTimeout:function(e){return e.config.getTransactionTimeout()},isAuthSupported:function(){return!0},prepareParams:function(e,t){var n=t.channelGroups,i=void 0===n?[]:n,r={};return i.length>0&&(r["channel-group"]=i.join(",")),r},handleResponse:function(){return{}}}),se=Object.freeze({__proto__:null,getOperation:function(){return L.PNWhereNowOperation},validateParams:function(e){if(!e.config.subscribeKey)return"Missing Subscribe Key"},getURL:function(e,t){var n=e.config,i=t.uuid,r=void 0===i?n.UUID:i;return"/v2/presence/sub-key/".concat(n.subscribeKey,"/uuid/").concat(P.encodeString(r))},getRequestTimeout:function(e){return e.config.getTransactionTimeout()},isAuthSupported:function(){return!0},prepareParams:function(){return{}},handleResponse:function(e,t){return t.payload?{channels:t.payload.channels}:{channels:[]}}}),ue=Object.freeze({__proto__:null,getOperation:function(){return L.PNHeartbeatOperation},validateParams:function(e){if(!e.config.subscribeKey)return"Missing Subscribe Key"},getURL:function(e,t){var n=e.config,i=t.channels,r=void 0===i?[]:i,o=r.length>0?r.join(","):",";return"/v2/presence/sub-key/".concat(n.subscribeKey,"/channel/").concat(P.encodeString(o),"/heartbeat")},isAuthSupported:function(){return!0},getRequestTimeout:function(e){return e.config.getTransactionTimeout()},prepareParams:function(e,t){var n=t.channelGroups,i=void 0===n?[]:n,r=t.state,o=void 0===r?{}:r,a=e.config,s={};return i.length>0&&(s["channel-group"]=i.join(",")),s.state=JSON.stringify(o),s.heartbeat=a.getPresenceTimeout(),s},handleResponse:function(){return{}}}),le=Object.freeze({__proto__:null,getOperation:function(){return L.PNGetStateOperation},validateParams:function(e){if(!e.config.subscribeKey)return"Missing Subscribe Key"},getURL:function(e,t){var n=e.config,i=t.uuid,r=void 0===i?n.UUID:i,o=t.channels,a=void 0===o?[]:o,s=a.length>0?a.join(","):",";return"/v2/presence/sub-key/".concat(n.subscribeKey,"/channel/").concat(P.encodeString(s),"/uuid/").concat(r)},getRequestTimeout:function(e){return e.config.getTransactionTimeout()},isAuthSupported:function(){return!0},prepareParams:function(e,t){var n=t.channelGroups,i=void 0===n?[]:n,r={};return i.length>0&&(r["channel-group"]=i.join(",")),r},handleResponse:function(e,t,n){var i=n.channels,r=void 0===i?[]:i,o=n.channelGroups,a=void 0===o?[]:o,s={};return 1===r.length&&0===a.length?s[r[0]]=t.payload:s=t.payload,{channels:s}}}),ce=Object.freeze({__proto__:null,getOperation:function(){return L.PNSetStateOperation},validateParams:function(e,t){var n=e.config,i=t.state,r=t.channels,o=void 0===r?[]:r,a=t.channelGroups,s=void 0===a?[]:a;return i?n.subscribeKey?0===o.length&&0===s.length?"Please provide a list of channels and/or channel-groups":void 0:"Missing Subscribe Key":"Missing State"},getURL:function(e,t){var n=e.config,i=t.channels,r=void 0===i?[]:i,o=r.length>0?r.join(","):",";return"/v2/presence/sub-key/".concat(n.subscribeKey,"/channel/").concat(P.encodeString(o),"/uuid/").concat(P.encodeString(n.UUID),"/data")},getRequestTimeout:function(e){return e.config.getTransactionTimeout()},isAuthSupported:function(){return!0},prepareParams:function(e,t){var n=t.state,i=t.channelGroups,r=void 0===i?[]:i,o={};return o.state=JSON.stringify(n),r.length>0&&(o["channel-group"]=r.join(",")),o},handleResponse:function(e,t){return{state:t.payload}}}),de=Object.freeze({__proto__:null,getOperation:function(){return L.PNHereNowOperation},validateParams:function(e){if(!e.config.subscribeKey)return"Missing Subscribe Key"},getURL:function(e,t){var n=e.config,i=t.channels,r=void 0===i?[]:i,o=t.channelGroups,a=void 0===o?[]:o,s="/v2/presence/sub-key/".concat(n.subscribeKey);if(r.length>0||a.length>0){var u=r.length>0?r.join(","):",";s+="/channel/".concat(P.encodeString(u))}return s},getRequestTimeout:function(e){return e.config.getTransactionTimeout()},isAuthSupported:function(){return!0},prepareParams:function(e,t){var n=t.channelGroups,i=void 0===n?[]:n,o=t.includeUUIDs,a=void 0===o||o,s=t.includeState,u=void 0!==s&&s,l=t.queryParameters,c=void 0===l?{}:l,d={};return a||(d.disable_uuids=1),u&&(d.state=1),i.length>0&&(d["channel-group"]=i.join(",")),r(r({},d),c)},handleResponse:function(e,t,n){var i=n.channels,r=void 0===i?[]:i,o=n.channelGroups,a=void 0===o?[]:o,s=n.includeUUIDs,u=void 0===s||s,l=n.includeState,c=void 0!==l&&l;return r.length>1||a.length>0||0===a.length&&0===r.length?function(){var e={};return e.totalChannels=t.payload.total_channels,e.totalOccupancy=t.payload.total_occupancy,e.channels={},Object.keys(t.payload.channels).forEach((function(n){var i=t.payload.channels[n],r=[];return e.channels[n]={occupants:r,name:n,occupancy:i.occupancy},u&&i.uuids.forEach((function(e){c?r.push({state:e.state,uuid:e.uuid}):r.push({state:null,uuid:e})})),e})),e}():function(){var e={},n=[];return e.totalChannels=1,e.totalOccupancy=t.occupancy,e.channels={},e.channels[r[0]]={occupants:n,name:r[0],occupancy:t.occupancy},u&&t.uuids&&t.uuids.forEach((function(e){c?n.push({state:e.state,uuid:e.uuid}):n.push({state:null,uuid:e})})),e}()},handleError:function(e,t,n){402!==n.statusCode||this.getURL(e,t).includes("channel")||(n.errorData.message="You have tried to perform a Global Here Now operation, your keyset configuration does not support that. Please provide a channel, or enable the Global Here Now feature from the Portal.")}}),pe=Object.freeze({__proto__:null,getOperation:function(){return L.PNAddMessageActionOperation},validateParams:function(e,t){var n=e.config,i=t.action,r=t.channel;return t.messageTimetoken?n.subscribeKey?r?i?i.value?i.type?i.type.length>15?"Action.type value exceed maximum length of 15":void 0:"Missing Action.type":"Missing Action.value":"Missing Action":"Missing message channel":"Missing Subscribe Key":"Missing message timetoken"},usePost:function(){return!0},postURL:function(e,t){var n=e.config,i=t.channel,r=t.messageTimetoken;return"/v1/message-actions/".concat(n.subscribeKey,"/channel/").concat(P.encodeString(i),"/message/").concat(r)},getRequestTimeout:function(e){return e.config.getTransactionTimeout()},getRequestHeaders:function(){return{"Content-Type":"application/json"}},isAuthSupported:function(){return!0},prepareParams:function(){return{}},postPayload:function(e,t){return t.action},handleResponse:function(e,t){return{data:t.data}}}),he=Object.freeze({__proto__:null,getOperation:function(){return L.PNRemoveMessageActionOperation},validateParams:function(e,t){var n=e.config,i=t.channel,r=t.actionTimetoken;return t.messageTimetoken?r?n.subscribeKey?i?void 0:"Missing message channel":"Missing Subscribe Key":"Missing action timetoken":"Missing message timetoken"},useDelete:function(){return!0},getURL:function(e,t){var n=e.config,i=t.channel,r=t.actionTimetoken,o=t.messageTimetoken;return"/v1/message-actions/".concat(n.subscribeKey,"/channel/").concat(P.encodeString(i),"/message/").concat(o,"/action/").concat(r)},getRequestTimeout:function(e){return e.config.getTransactionTimeout()},isAuthSupported:function(){return!0},prepareParams:function(){return{}},handleResponse:function(e,t){return{data:t.data}}}),fe=Object.freeze({__proto__:null,getOperation:function(){return L.PNGetMessageActionsOperation},validateParams:function(e,t){var n=e.config,i=t.channel;return n.subscribeKey?i?void 0:"Missing message channel":"Missing Subscribe Key"},getURL:function(e,t){var n=e.config,i=t.channel;return"/v1/message-actions/".concat(n.subscribeKey,"/channel/").concat(P.encodeString(i))},getRequestTimeout:function(e){return e.config.getTransactionTimeout()},isAuthSupported:function(){return!0},prepareParams:function(e,t){var n=t.limit,i=t.start,r=t.end,o={};return n&&(o.limit=n),i&&(o.start=i),r&&(o.end=r),o},handleResponse:function(e,t){var n={data:t.data,start:null,end:null};return n.data.length&&(n.end=n.data[n.data.length-1].actionTimetoken,n.start=n.data[0].actionTimetoken),n}}),me={getOperation:function(){return L.PNListFilesOperation},validateParams:function(e,t){if(!(null==t?void 0:t.channel))return"channel can't be empty"},getURL:function(e,t){var n=e.config;return"/v1/files/".concat(n.subscribeKey,"/channels/").concat(P.encodeString(t.channel),"/files")},getRequestTimeout:function(e){return e.config.getTransactionTimeout()},isAuthSupported:function(){return!0},prepareParams:function(e,t){var n={};return t.limit&&(n.limit=t.limit),t.next&&(n.next=t.next),n},handleResponse:function(e,t){return{status:t.status,data:t.data,next:t.next,count:t.count}}},ge={getOperation:function(){return L.PNGenerateUploadUrlOperation},validateParams:function(e,t){return(null==t?void 0:t.channel)?(null==t?void 0:t.name)?void 0:"name can't be empty":"channel can't be empty"},usePost:function(){return!0},postURL:function(e,t){var n=e.config;return"/v1/files/".concat(n.subscribeKey,"/channels/").concat(P.encodeString(t.channel),"/generate-upload-url")},postPayload:function(e,t){return{name:t.name}},getRequestTimeout:function(e){return e.config.getTransactionTimeout()},isAuthSupported:function(){return!0},prepareParams:function(){return{}},handleResponse:function(e,t){return{status:t.status,data:t.data,file_upload_request:t.file_upload_request}}},ye={getOperation:function(){return L.PNPublishFileOperation},validateParams:function(e,t){return(null==t?void 0:t.channel)?(null==t?void 0:t.fileId)?(null==t?void 0:t.fileName)?void 0:"file name can't be empty":"file id can't be empty":"channel can't be empty"},getURL:function(e,t){var n=e.config,i=n.publishKey,r=n.subscribeKey,o=function(e,t){var n=JSON.stringify(t);if(e.cryptoModule){var i=e.cryptoModule.encrypt(n);n="string"==typeof i?i:_(i),n=JSON.stringify(n)}return n||""}(e,{message:t.message,file:{name:t.fileName,id:t.fileId}});return"/v1/files/publish-file/".concat(i,"/").concat(r,"/0/").concat(P.encodeString(t.channel),"/0/").concat(P.encodeString(o))},getRequestTimeout:function(e){return e.config.getTransactionTimeout()},isAuthSupported:function(){return!0},prepareParams:function(e,t){var n={};return t.ttl&&(n.ttl=t.ttl),void 0!==t.storeInHistory&&(n.store=t.storeInHistory?"1":"0"),t.meta&&"object"==typeof t.meta&&(n.meta=JSON.stringify(t.meta)),n},handleResponse:function(e,t){return{timetoken:t[2]}}},ve=function(e){var t=function(e){var t=this,n=e.generateUploadUrl,i=e.publishFile,r=e.modules,o=r.PubNubFile,u=r.config,l=r.cryptography,c=r.cryptoModule,d=r.networking;return function(e){var r=e.channel,p=e.file,h=e.message,f=e.cipherKey,m=e.meta,g=e.ttl,y=e.storeInHistory;return a(t,void 0,void 0,(function(){var e,t,a,v,_,b,w,E,S,T,C,x,A,k,I,D,O,P,N,R,L,M,F,j,B,U,H,$,G;return s(this,(function(s){switch(s.label){case 0:if(!r)throw new q("Validation failed, check status for details",V("channel can't be empty"));if(!p)throw new q("Validation failed, check status for details",V("file can't be empty"));return e=o.create(p),[4,n({channel:r,name:e.name})];case 1:return t=s.sent(),a=t.file_upload_request,v=a.url,_=a.form_fields,b=t.data,w=b.id,E=b.name,o.supportsEncryptFile&&(f||c)?null!=f?[3,3]:[4,c.encryptFile(e,o)]:[3,6];case 2:return S=s.sent(),[3,5];case 3:return[4,l.encryptFile(f,e,o)];case 4:S=s.sent(),s.label=5;case 5:e=S,s.label=6;case 6:T=_,e.mimeType&&(T=_.map((function(t){return"Content-Type"===t.key?{key:t.key,value:e.mimeType}:t}))),s.label=7;case 7:return s.trys.push([7,21,,22]),o.supportsFileUri&&p.uri?(A=(x=d).POSTFILE,k=[v,T],[4,e.toFileUri()]):[3,10];case 8:return[4,A.apply(x,k.concat([s.sent()]))];case 9:return C=s.sent(),[3,20];case 10:return o.supportsFile?(D=(I=d).POSTFILE,O=[v,T],[4,e.toFile()]):[3,13];case 11:return[4,D.apply(I,O.concat([s.sent()]))];case 12:return C=s.sent(),[3,20];case 13:return o.supportsBuffer?(N=(P=d).POSTFILE,R=[v,T],[4,e.toBuffer()]):[3,16];case 14:return[4,N.apply(P,R.concat([s.sent()]))];case 15:return C=s.sent(),[3,20];case 16:return o.supportsBlob?(M=(L=d).POSTFILE,F=[v,T],[4,e.toBlob()]):[3,19];case 17:return[4,M.apply(L,F.concat([s.sent()]))];case 18:return C=s.sent(),[3,20];case 19:throw new Error("Unsupported environment");case 20:return[3,22];case 21:throw(j=s.sent()).response&&"string"==typeof j.response.text?(B=j.response.text,U=/<Message>(.*)<\/Message>/gi.exec(B),new q(U?"Upload to bucket failed: ".concat(U[1]):"Upload to bucket failed.",j)):new q("Upload to bucket failed.",j);case 22:if(204!==C.status)throw new q("Upload to bucket was unsuccessful",C);H=u.fileUploadPublishRetryLimit,$=!1,G={timetoken:"0"},s.label=23;case 23:return s.trys.push([23,25,,26]),[4,i({channel:r,message:h,fileId:w,fileName:E,meta:m,storeInHistory:y,ttl:g})];case 24:return G=s.sent(),$=!0,[3,26];case 25:return s.sent(),H-=1,[3,26];case 26:if(!$&&H>0)return[3,23];s.label=27;case 27:if($)return[2,{timetoken:G.timetoken,id:w,name:E}];throw new q("Publish failed. You may want to execute that operation manually using pubnub.publishFile",{channel:r,id:w,name:E})}}))}))}}(e);return function(e,n){var i=t(e);return"function"==typeof n?(i.then((function(e){return n(null,e)})).catch((function(e){return n(e,null)})),i):i}},_e=function(e,t){var n=t.channel,i=t.id,r=t.name,o=e.config,a=e.networking,s=e.tokenManager;if(!n)throw new q("Validation failed, check status for details",V("channel can't be empty"));if(!i)throw new q("Validation failed, check status for details",V("file id can't be empty"));if(!r)throw new q("Validation failed, check status for details",V("file name can't be empty"));var u="/v1/files/".concat(o.subscribeKey,"/channels/").concat(P.encodeString(n),"/files/").concat(i,"/").concat(r),l={};l.uuid=o.getUUID(),l.pnsdk=W(o);var c=s.getToken()||o.getAuthKey();c&&(l.auth=c),o.secretKey&&Y(e,u,l,{},{getOperation:function(){return"PubNubGetFileUrlOperation"}});var d=Object.keys(l).map((function(e){return"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(l[e]))})).join("&");return""!==d?"".concat(a.getStandardOrigin()).concat(u,"?").concat(d):"".concat(a.getStandardOrigin()).concat(u)},be={getOperation:function(){return L.PNDownloadFileOperation},validateParams:function(e,t){return(null==t?void 0:t.channel)?(null==t?void 0:t.name)?(null==t?void 0:t.id)?void 0:"id can't be empty":"name can't be empty":"channel can't be empty"},useGetFile:function(){return!0},getFileURL:function(e,t){var n=e.config;return"/v1/files/".concat(n.subscribeKey,"/channels/").concat(P.encodeString(t.channel),"/files/").concat(t.id,"/").concat(t.name)},getRequestTimeout:function(e){return e.config.getTransactionTimeout()},isAuthSupported:function(){return!0},ignoreBody:function(){return!0},forceBuffered:function(){return!0},prepareParams:function(){return{}},handleResponse:function(e,t,n){var i=e.PubNubFile,r=e.config,o=e.cryptography,u=e.cryptoModule;return a(void 0,void 0,void 0,(function(){var e,a,l,c;return s(this,(function(s){switch(s.label){case 0:return e=t.response.body,i.supportsEncryptFile&&(n.cipherKey||u)?null!=n.cipherKey?[3,2]:[4,u.decryptFile(i.create({data:e,name:n.name}),i)]:[3,5];case 1:return a=s.sent().data,[3,4];case 2:return[4,o.decrypt(null!==(l=n.cipherKey)&&void 0!==l?l:r.cipherKey,e)];case 3:a=s.sent(),s.label=4;case 4:e=a,s.label=5;case 5:return[2,i.create({data:e,name:null!==(c=t.response.name)&&void 0!==c?c:n.name,mimeType:t.response.type})]}}))}))}},we={getOperation:function(){return L.PNListFilesOperation},validateParams:function(e,t){return(null==t?void 0:t.channel)?(null==t?void 0:t.id)?(null==t?void 0:t.name)?void 0:"file name can't be empty":"file id can't be empty":"channel can't be empty"},useDelete:function(){return!0},getURL:function(e,t){var n=e.config;return"/v1/files/".concat(n.subscribeKey,"/channels/").concat(P.encodeString(t.channel),"/files/").concat(t.id,"/").concat(t.name)},getRequestTimeout:function(e){return e.config.getTransactionTimeout()},isAuthSupported:function(){return!0},prepareParams:function(){return{}},handleResponse:function(e,t){return{status:t.status}}},Ee={getOperation:function(){return L.PNGetAllUUIDMetadataOperation},validateParams:function(){},getURL:function(e){var t=e.config;return"/v2/objects/".concat(t.subscribeKey,"/uuids")},getRequestTimeout:function(e){return e.config.getTransactionTimeout()},isAuthSupported:function(){return!0},prepareParams:function(e,t){var n,i,r,o,a,s,u,c,d,p={include:["status","type"]};return(null==t?void 0:t.include)&&(null===(n=t.include)||void 0===n?void 0:n.customFields)&&p.include.push("custom"),p.include=p.include.join(","),(null===(i=null==t?void 0:t.include)||void 0===i?void 0:i.totalCount)&&(p.count=null===(r=t.include)||void 0===r?void 0:r.totalCount),(null===(o=null==t?void 0:t.page)||void 0===o?void 0:o.next)&&(p.start=null===(a=t.page)||void 0===a?void 0:a.next),(null===(s=null==t?void 0:t.page)||void 0===s?void 0:s.prev)&&(p.end=null===(u=t.page)||void 0===u?void 0:u.prev),(null==t?void 0:t.filter)&&(p.filter=t.filter),p.limit=null!==(c=null==t?void 0:t.limit)&&void 0!==c?c:100,(null==t?void 0:t.sort)&&(p.sort=Object.entries(null!==(d=t.sort)&&void 0!==d?d:{}).map((function(e){var t=l(e,2),n=t[0],i=t[1];return"asc"===i||"desc"===i?"".concat(n,":").concat(i):n}))),p},handleResponse:function(e,t){return{status:t.status,data:t.data,totalCount:t.totalCount,next:t.next,prev:t.prev}}},Se={getOperation:function(){return L.PNGetUUIDMetadataOperation},validateParams:function(){},getURL:function(e,t){var n,i=e.config;return"/v2/objects/".concat(i.subscribeKey,"/uuids/").concat(P.encodeString(null!==(n=null==t?void 0:t.uuid)&&void 0!==n?n:i.getUUID()))},getRequestTimeout:function(e){return e.config.getTransactionTimeout()},isAuthSupported:function(){return!0},prepareParams:function(e,t){var n,i,r=e.config,o={};return o.uuid=null!==(n=null==t?void 0:t.uuid)&&void 0!==n?n:r.getUUID(),o.include=["status","type","custom"],(null==t?void 0:t.include)&&!1===(null===(i=t.include)||void 0===i?void 0:i.customFields)&&o.include.pop(),o.include=o.include.join(","),o},handleResponse:function(e,t){return{status:t.status,data:t.data}}},Te={getOperation:function(){return L.PNSetUUIDMetadataOperation},validateParams:function(e,t){if(!(null==t?void 0:t.data))return"Data cannot be empty"},usePatch:function(){return!0},patchURL:function(e,t){var n,i=e.config;return"/v2/objects/".concat(i.subscribeKey,"/uuids/").concat(P.encodeString(null!==(n=t.uuid)&&void 0!==n?n:i.getUUID()))},patchPayload:function(e,t){return t.data},getRequestTimeout:function(e){return e.config.getTransactionTimeout()},isAuthSupported:function(){return!0},prepareParams:function(e,t){var n,i,r=e.config,o={};return o.uuid=null!==(n=null==t?void 0:t.uuid)&&void 0!==n?n:r.getUUID(),o.include=["status","type","custom"],(null==t?void 0:t.include)&&!1===(null===(i=t.include)||void 0===i?void 0:i.customFields)&&o.include.pop(),o.include=o.include.join(","),o},handleResponse:function(e,t){return{status:t.status,data:t.data}}},Ce={getOperation:function(){return L.PNRemoveUUIDMetadataOperation},validateParams:function(){},getURL:function(e,t){var n,i=e.config;return"/v2/objects/".concat(i.subscribeKey,"/uuids/").concat(P.encodeString(null!==(n=null==t?void 0:t.uuid)&&void 0!==n?n:i.getUUID()))},useDelete:function(){return!0},getRequestTimeout:function(e){return e.config.getTransactionTimeout()},isAuthSupported:function(){return!0},prepareParams:function(e,t){var n,i=e.config;return{uuid:null!==(n=null==t?void 0:t.uuid)&&void 0!==n?n:i.getUUID()}},handleResponse:function(e,t){return{status:t.status,data:t.data}}},xe={getOperation:function(){return L.PNGetAllChannelMetadataOperation},validateParams:function(){},getURL:function(e){var t=e.config;return"/v2/objects/".concat(t.subscribeKey,"/channels")},getRequestTimeout:function(e){return e.config.getTransactionTimeout()},isAuthSupported:function(){return!0},prepareParams:function(e,t){var n,i,r,o,a,s,u,c,d,p={include:["status","type"]};return(null==t?void 0:t.include)&&(null===(n=t.include)||void 0===n?void 0:n.customFields)&&p.include.push("custom"),p.include=p.include.join(","),(null===(i=null==t?void 0:t.include)||void 0===i?void 0:i.totalCount)&&(p.count=null===(r=t.include)||void 0===r?void 0:r.totalCount),(null===(o=null==t?void 0:t.page)||void 0===o?void 0:o.next)&&(p.start=null===(a=t.page)||void 0===a?void 0:a.next),(null===(s=null==t?void 0:t.page)||void 0===s?void 0:s.prev)&&(p.end=null===(u=t.page)||void 0===u?void 0:u.prev),(null==t?void 0:t.filter)&&(p.filter=t.filter),p.limit=null!==(c=null==t?void 0:t.limit)&&void 0!==c?c:100,(null==t?void 0:t.sort)&&(p.sort=Object.entries(null!==(d=t.sort)&&void 0!==d?d:{}).map((function(e){var t=l(e,2),n=t[0],i=t[1];return"asc"===i||"desc"===i?"".concat(n,":").concat(i):n}))),p},handleResponse:function(e,t){return{status:t.status,data:t.data,totalCount:t.totalCount,prev:t.prev,next:t.next}}},Ae={getOperation:function(){return L.PNGetChannelMetadataOperation},validateParams:function(e,t){if(!(null==t?void 0:t.channel))return"Channel cannot be empty"},getURL:function(e,t){var n=e.config;return"/v2/objects/".concat(n.subscribeKey,"/channels/").concat(P.encodeString(t.channel))},getRequestTimeout:function(e){return e.config.getTransactionTimeout()},isAuthSupported:function(){return!0},prepareParams:function(e,t){var n,i={include:["status","type","custom"]};return(null==t?void 0:t.include)&&!1===(null===(n=t.include)||void 0===n?void 0:n.customFields)&&i.include.pop(),i.include=i.include.join(","),i},handleResponse:function(e,t){return{status:t.status,data:t.data}}},ke={getOperation:function(){return L.PNSetChannelMetadataOperation},validateParams:function(e,t){return(null==t?void 0:t.channel)?(null==t?void 0:t.data)?void 0:"Data cannot be empty":"Channel cannot be empty"},usePatch:function(){return!0},patchURL:function(e,t){var n=e.config;return"/v2/objects/".concat(n.subscribeKey,"/channels/").concat(P.encodeString(t.channel))},patchPayload:function(e,t){return t.data},getRequestTimeout:function(e){return e.config.getTransactionTimeout()},isAuthSupported:function(){return!0},prepareParams:function(e,t){var n,i={include:["status","type","custom"]};return(null==t?void 0:t.include)&&!1===(null===(n=t.include)||void 0===n?void 0:n.customFields)&&i.include.pop(),i.include=i.include.join(","),i},handleResponse:function(e,t){return{status:t.status,data:t.data}}},Ie={getOperation:function(){return L.PNRemoveChannelMetadataOperation},validateParams:function(e,t){if(!(null==t?void 0:t.channel))return"Channel cannot be empty"},getURL:function(e,t){var n=e.config;return"/v2/objects/".concat(n.subscribeKey,"/channels/").concat(P.encodeString(t.channel))},useDelete:function(){return!0},getRequestTimeout:function(e){return e.config.getTransactionTimeout()},isAuthSupported:function(){return!0},prepareParams:function(){return{}},handleResponse:function(e,t){return{status:t.status,data:t.data}}},De={getOperation:function(){return L.PNGetMembersOperation},validateParams:function(e,t){if(!(null==t?void 0:t.channel))return"channel cannot be empty"},getURL:function(e,t){var n=e.config;return"/v2/objects/".concat(n.subscribeKey,"/channels/").concat(P.encodeString(t.channel),"/uuids")},getRequestTimeout:function(e){return e.config.getTransactionTimeout()},isAuthSupported:function(){return!0},prepareParams:function(e,t){var n,i,r,o,a,s,u,c,d,p,h,f,m,g,y={include:[]};return(null==t?void 0:t.include)&&((null===(n=t.include)||void 0===n?void 0:n.statusField)&&y.include.push("status"),(null===(i=t.include)||void 0===i?void 0:i.customFields)&&y.include.push("custom"),(null===(r=t.include)||void 0===r?void 0:r.UUIDFields)&&y.include.push("uuid"),(null===(o=t.include)||void 0===o?void 0:o.customUUIDFields)&&y.include.push("uuid.custom"),(null===(a=t.include)||void 0===a?void 0:a.UUIDStatusField)&&y.include.push("uuid.status"),(null===(s=t.include)||void 0===s?void 0:s.UUIDTypeField)&&y.include.push("uuid.type")),y.include=y.include.join(","),(null===(u=null==t?void 0:t.include)||void 0===u?void 0:u.totalCount)&&(y.count=null===(c=t.include)||void 0===c?void 0:c.totalCount),(null===(d=null==t?void 0:t.page)||void 0===d?void 0:d.next)&&(y.start=null===(p=t.page)||void 0===p?void 0:p.next),(null===(h=null==t?void 0:t.page)||void 0===h?void 0:h.prev)&&(y.end=null===(f=t.page)||void 0===f?void 0:f.prev),(null==t?void 0:t.filter)&&(y.filter=t.filter),y.limit=null!==(m=null==t?void 0:t.limit)&&void 0!==m?m:100,(null==t?void 0:t.sort)&&(y.sort=Object.entries(null!==(g=t.sort)&&void 0!==g?g:{}).map((function(e){var t=l(e,2),n=t[0],i=t[1];return"asc"===i||"desc"===i?"".concat(n,":").concat(i):n}))),y},handleResponse:function(e,t){return{status:t.status,data:t.data,totalCount:t.totalCount,prev:t.prev,next:t.next}}},Oe={getOperation:function(){return L.PNSetMembersOperation},validateParams:function(e,t){return(null==t?void 0:t.channel)?(null==t?void 0:t.uuids)&&0!==(null==t?void 0:t.uuids.length)?void 0:"UUIDs cannot be empty":"Channel cannot be empty"},usePatch:function(){return!0},patchURL:function(e,t){var n=e.config;return"/v2/objects/".concat(n.subscribeKey,"/channels/").concat(P.encodeString(t.channel),"/uuids")},patchPayload:function(e,t){var n;return(n={set:[],delete:[]})[t.type]=t.uuids.map((function(e){return"string"==typeof e?{uuid:{id:e}}:{uuid:{id:e.id},custom:e.custom,status:e.status}})),n},getRequestTimeout:function(e){return e.config.getTransactionTimeout()},isAuthSupported:function(){return!0},prepareParams:function(e,t){var n,i,r,o,a,s,u,c,d,p={include:["uuid.status","uuid.type","type"]};return(null==t?void 0:t.include)&&((null===(n=t.include)||void 0===n?void 0:n.customFields)&&p.include.push("custom"),(null===(i=t.include)||void 0===i?void 0:i.customUUIDFields)&&p.include.push("uuid.custom"),(null===(r=t.include)||void 0===r?void 0:r.UUIDFields)&&p.include.push("uuid")),p.include=p.include.join(","),(null===(o=null==t?void 0:t.include)||void 0===o?void 0:o.totalCount)&&(p.count=!0),(null===(a=null==t?void 0:t.page)||void 0===a?void 0:a.next)&&(p.start=null===(s=t.page)||void 0===s?void 0:s.next),(null===(u=null==t?void 0:t.page)||void 0===u?void 0:u.prev)&&(p.end=null===(c=t.page)||void 0===c?void 0:c.prev),(null==t?void 0:t.filter)&&(p.filter=t.filter),null!=t.limit&&(p.limit=t.limit),(null==t?void 0:t.sort)&&(p.sort=Object.entries(null!==(d=t.sort)&&void 0!==d?d:{}).map((function(e){var t=l(e,2),n=t[0],i=t[1];return"asc"===i||"desc"===i?"".concat(n,":").concat(i):n}))),p},handleResponse:function(e,t){return{status:t.status,data:t.data,totalCount:t.totalCount,prev:t.prev,next:t.next}}},Pe={getOperation:function(){return L.PNGetMembershipsOperation},validateParams:function(){},getURL:function(e,t){var n,i=e.config;return"/v2/objects/".concat(i.subscribeKey,"/uuids/").concat(P.encodeString(null!==(n=null==t?void 0:t.uuid)&&void 0!==n?n:i.getUUID()),"/channels")},getRequestTimeout:function(e){return e.config.getTransactionTimeout()},isAuthSupported:function(){return!0},prepareParams:function(e,t){var n,i,r,o,a,s,u,c,d,p,h,f,m,g,y={include:[]};return(null==t?void 0:t.include)&&((null===(n=t.include)||void 0===n?void 0:n.statusField)&&y.include.push("status"),(null===(i=t.include)||void 0===i?void 0:i.customFields)&&y.include.push("custom"),(null===(r=t.include)||void 0===r?void 0:r.channelFields)&&y.include.push("channel"),(null===(o=t.include)||void 0===o?void 0:o.customChannelFields)&&y.include.push("channel.custom"),(null===(a=t.include)||void 0===a?void 0:a.channelStatusField)&&y.include.push("channel.status"),(null===(s=t.include)||void 0===s?void 0:s.channelTypeField)&&y.include.push("channel.type")),y.include=y.include.join(","),(null===(u=null==t?void 0:t.include)||void 0===u?void 0:u.totalCount)&&(y.count=null===(c=t.include)||void 0===c?void 0:c.totalCount),(null===(d=null==t?void 0:t.page)||void 0===d?void 0:d.next)&&(y.start=null===(p=t.page)||void 0===p?void 0:p.next),(null===(h=null==t?void 0:t.page)||void 0===h?void 0:h.prev)&&(y.end=null===(f=t.page)||void 0===f?void 0:f.prev),(null==t?void 0:t.filter)&&(y.filter=t.filter),y.limit=null!==(m=null==t?void 0:t.limit)&&void 0!==m?m:100,(null==t?void 0:t.sort)&&(y.sort=Object.entries(null!==(g=t.sort)&&void 0!==g?g:{}).map((function(e){var t=l(e,2),n=t[0],i=t[1];return"asc"===i||"desc"===i?"".concat(n,":").concat(i):n}))),y},handleResponse:function(e,t){return{status:t.status,data:t.data,totalCount:t.totalCount,prev:t.prev,next:t.next}}},Ne={getOperation:function(){return L.PNSetMembershipsOperation},validateParams:function(e,t){if(!(null==t?void 0:t.channels)||0===(null==t?void 0:t.channels.length))return"Channels cannot be empty"},usePatch:function(){return!0},patchURL:function(e,t){var n,i=e.config;return"/v2/objects/".concat(i.subscribeKey,"/uuids/").concat(P.encodeString(null!==(n=t.uuid)&&void 0!==n?n:i.getUUID()),"/channels")},patchPayload:function(e,t){var n;return(n={set:[],delete:[]})[t.type]=t.channels.map((function(e){return"string"==typeof e?{channel:{id:e}}:{channel:{id:e.id},custom:e.custom,status:e.status}})),n},getRequestTimeout:function(e){return e.config.getTransactionTimeout()},isAuthSupported:function(){return!0},prepareParams:function(e,t){var n,i,r,o,a,s,u,c,d,p={include:["channel.status","channel.type","status"]};return(null==t?void 0:t.include)&&((null===(n=t.include)||void 0===n?void 0:n.customFields)&&p.include.push("custom"),(null===(i=t.include)||void 0===i?void 0:i.customChannelFields)&&p.include.push("channel.custom"),(null===(r=t.include)||void 0===r?void 0:r.channelFields)&&p.include.push("channel")),p.include=p.include.join(","),(null===(o=null==t?void 0:t.include)||void 0===o?void 0:o.totalCount)&&(p.count=!0),(null===(a=null==t?void 0:t.page)||void 0===a?void 0:a.next)&&(p.start=null===(s=t.page)||void 0===s?void 0:s.next),(null===(u=null==t?void 0:t.page)||void 0===u?void 0:u.prev)&&(p.end=null===(c=t.page)||void 0===c?void 0:c.prev),(null==t?void 0:t.filter)&&(p.filter=t.filter),null!=t.limit&&(p.limit=t.limit),(null==t?void 0:t.sort)&&(p.sort=Object.entries(null!==(d=t.sort)&&void 0!==d?d:{}).map((function(e){var t=l(e,2),n=t[0],i=t[1];return"asc"===i||"desc"===i?"".concat(n,":").concat(i):n}))),p},handleResponse:function(e,t){return{status:t.status,data:t.data,totalCount:t.totalCount,prev:t.prev,next:t.next}}},Re=Object.freeze({__proto__:null,getOperation:function(){return L.PNAccessManagerAudit},validateParams:function(e){if(!e.config.subscribeKey)return"Missing Subscribe Key"},getURL:function(e){var t=e.config;return"/v2/auth/audit/sub-key/".concat(t.subscribeKey)},getRequestTimeout:function(e){return e.config.getTransactionTimeout()},isAuthSupported:function(){return!1},prepareParams:function(e,t){var n=t.channel,i=t.channelGroup,r=t.authKeys,o=void 0===r?[]:r,a={};return n&&(a.channel=n),i&&(a["channel-group"]=i),o.length>0&&(a.auth=o.join(",")),a},handleResponse:function(e,t){return t.payload}}),Le=Object.freeze({__proto__:null,getOperation:function(){return L.PNAccessManagerGrant},validateParams:function(e,t){var n=e.config;return n.subscribeKey?n.publishKey?n.secretKey?null==t.uuids||t.authKeys?null==t.uuids||null==t.channels&&null==t.channelGroups?void 0:"Both channel/channelgroup and uuid cannot be used in the same request":"authKeys are required for grant request on uuids":"Missing Secret Key":"Missing Publish Key":"Missing Subscribe Key"},getURL:function(e){var t=e.config;return"/v2/auth/grant/sub-key/".concat(t.subscribeKey)},getRequestTimeout:function(e){return e.config.getTransactionTimeout()},isAuthSupported:function(){return!1},prepareParams:function(e,t){var n=t.channels,i=void 0===n?[]:n,r=t.channelGroups,o=void 0===r?[]:r,a=t.uuids,s=void 0===a?[]:a,u=t.ttl,l=t.read,c=void 0!==l&&l,d=t.write,p=void 0!==d&&d,h=t.manage,f=void 0!==h&&h,m=t.get,g=void 0!==m&&m,y=t.join,v=void 0!==y&&y,_=t.update,b=void 0!==_&&_,w=t.authKeys,E=void 0===w?[]:w,S=t.delete,T={};return T.r=c?"1":"0",T.w=p?"1":"0",T.m=f?"1":"0",T.d=S?"1":"0",T.g=g?"1":"0",T.j=v?"1":"0",T.u=b?"1":"0",i.length>0&&(T.channel=i.join(",")),o.length>0&&(T["channel-group"]=o.join(",")),E.length>0&&(T.auth=E.join(",")),s.length>0&&(T["target-uuid"]=s.join(",")),(u||0===u)&&(T.ttl=u),T},handleResponse:function(){return{}}});function Me(e){var t,n,i,r,o=void 0!==(null==e?void 0:e.authorizedUserId),a=void 0!==(null===(t=null==e?void 0:e.resources)||void 0===t?void 0:t.users),s=void 0!==(null===(n=null==e?void 0:e.resources)||void 0===n?void 0:n.spaces),u=void 0!==(null===(i=null==e?void 0:e.patterns)||void 0===i?void 0:i.users),l=void 0!==(null===(r=null==e?void 0:e.patterns)||void 0===r?void 0:r.spaces);return u||a||l||s||o}function Fe(e){var t=0;return e.join&&(t|=128),e.update&&(t|=64),e.get&&(t|=32),e.delete&&(t|=8),e.manage&&(t|=4),e.write&&(t|=2),e.read&&(t|=1),t}var je=Object.freeze({__proto__:null,getOperation:function(){return L.PNAccessManagerGrantToken},extractPermissions:Fe,validateParams:function(e,t){var n,i,r,o,a,s,u=e.config;if(!u.subscribeKey)return"Missing Subscribe Key";if(!u.publishKey)return"Missing Publish Key";if(!u.secretKey)return"Missing Secret Key";if(!t.resources&&!t.patterns)return"Missing either Resources or Patterns.";var l=void 0!==(null==t?void 0:t.authorized_uuid),c=void 0!==(null===(n=null==t?void 0:t.resources)||void 0===n?void 0:n.uuids),d=void 0!==(null===(i=null==t?void 0:t.resources)||void 0===i?void 0:i.channels),p=void 0!==(null===(r=null==t?void 0:t.resources)||void 0===r?void 0:r.groups),h=void 0!==(null===(o=null==t?void 0:t.patterns)||void 0===o?void 0:o.uuids),f=void 0!==(null===(a=null==t?void 0:t.patterns)||void 0===a?void 0:a.channels),m=void 0!==(null===(s=null==t?void 0:t.patterns)||void 0===s?void 0:s.groups),g=l||c||h||d||f||p||m;return Me(t)&&g?"Cannot mix `users`, `spaces` and `authorizedUserId` with `uuids`, `channels`, `groups` and `authorized_uuid`":(!t.resources||t.resources.uuids&&0!==Object.keys(t.resources.uuids).length||t.resources.channels&&0!==Object.keys(t.resources.channels).length||t.resources.groups&&0!==Object.keys(t.resources.groups).length||t.resources.users&&0!==Object.keys(t.resources.users).length||t.resources.spaces&&0!==Object.keys(t.resources.spaces).length)&&(!t.patterns||t.patterns.uuids&&0!==Object.keys(t.patterns.uuids).length||t.patterns.channels&&0!==Object.keys(t.patterns.channels).length||t.patterns.groups&&0!==Object.keys(t.patterns.groups).length||t.patterns.users&&0!==Object.keys(t.patterns.users).length||t.patterns.spaces&&0!==Object.keys(t.patterns.spaces).length)?void 0:"Missing values for either Resources or Patterns."},postURL:function(e){var t=e.config;return"/v3/pam/".concat(t.subscribeKey,"/grant")},usePost:function(){return!0},getRequestTimeout:function(e){return e.config.getTransactionTimeout()},isAuthSupported:function(){return!1},prepareParams:function(){return{}},postPayload:function(e,t){return function(e,t){if(Me(t))return function(e,t){var n=t.ttl,i=t.resources,r=t.patterns,o=t.meta,a=t.authorizedUserId,s={ttl:0,permissions:{resources:{channels:{},groups:{},uuids:{},users:{},spaces:{}},patterns:{channels:{},groups:{},uuids:{},users:{},spaces:{}},meta:{}}};if(i){var u=i.users,l=i.spaces,c=i.groups;u&&Object.keys(u).forEach((function(e){s.permissions.resources.uuids[e]=Fe(u[e])})),l&&Object.keys(l).forEach((function(e){s.permissions.resources.channels[e]=Fe(l[e])})),c&&Object.keys(c).forEach((function(e){s.permissions.resources.groups[e]=Fe(c[e])}))}if(r){var d=r.users,p=r.spaces,h=r.groups;d&&Object.keys(d).forEach((function(e){s.permissions.patterns.uuids[e]=Fe(d[e])})),p&&Object.keys(p).forEach((function(e){s.permissions.patterns.channels[e]=Fe(p[e])})),h&&Object.keys(h).forEach((function(e){s.permissions.patterns.groups[e]=Fe(h[e])}))}return(n||0===n)&&(s.ttl=n),o&&(s.permissions.meta=o),a&&(s.permissions.uuid="".concat(a)),s}(0,t);var n=t.ttl,i=t.resources,r=t.patterns,o=t.meta,a=t.authorized_uuid,s={ttl:0,permissions:{resources:{channels:{},groups:{},uuids:{},users:{},spaces:{}},patterns:{channels:{},groups:{},uuids:{},users:{},spaces:{}},meta:{}}};if(i){var u=i.uuids,l=i.channels,c=i.groups;u&&Object.keys(u).forEach((function(e){s.permissions.resources.uuids[e]=Fe(u[e])})),l&&Object.keys(l).forEach((function(e){s.permissions.resources.channels[e]=Fe(l[e])})),c&&Object.keys(c).forEach((function(e){s.permissions.resources.groups[e]=Fe(c[e])}))}if(r){var d=r.uuids,p=r.channels,h=r.groups;d&&Object.keys(d).forEach((function(e){s.permissions.patterns.uuids[e]=Fe(d[e])})),p&&Object.keys(p).forEach((function(e){s.permissions.patterns.channels[e]=Fe(p[e])})),h&&Object.keys(h).forEach((function(e){s.permissions.patterns.groups[e]=Fe(h[e])}))}return(n||0===n)&&(s.ttl=n),o&&(s.permissions.meta=o),a&&(s.permissions.uuid="".concat(a)),s}(0,t)},handleResponse:function(e,t){return t.data.token}}),Be={getOperation:function(){return L.PNAccessManagerRevokeToken},validateParams:function(e,t){return e.config.secretKey?t?void 0:"token can't be empty":"Missing Secret Key"},getURL:function(e,t){var n=e.config;return"/v3/pam/".concat(n.subscribeKey,"/grant/").concat(P.encodeString(t))},useDelete:function(){return!0},getRequestTimeout:function(e){return e.config.getTransactionTimeout()},isAuthSupported:function(){return!1},prepareParams:function(e){return{uuid:e.config.getUUID()}},handleResponse:function(e,t){return{status:t.status,data:t.data}}};function Ue(e,t){var n=JSON.stringify(t);if(e.cryptoModule){var i=e.cryptoModule.encrypt(n);n="string"==typeof i?i:_(i),n=JSON.stringify(n)}return n||""}var He=Object.freeze({__proto__:null,getOperation:function(){return L.PNPublishOperation},validateParams:function(e,t){var n=e.config,i=t.message;return t.channel?i?n.subscribeKey?void 0:"Missing Subscribe Key":"Missing Message":"Missing Channel"},usePost:function(e,t){var n=t.sendByPost;return void 0!==n&&n},getURL:function(e,t){var n=e.config,i=t.channel,r=Ue(e,t.message);return"/publish/".concat(n.publishKey,"/").concat(n.subscribeKey,"/0/").concat(P.encodeString(i),"/0/").concat(P.encodeString(r))},postURL:function(e,t){var n=e.config,i=t.channel;return"/publish/".concat(n.publishKey,"/").concat(n.subscribeKey,"/0/").concat(P.encodeString(i),"/0")},getRequestTimeout:function(e){return e.config.getTransactionTimeout()},isAuthSupported:function(){return!0},postPayload:function(e,t){return Ue(e,t.message)},prepareParams:function(e,t){var n=t.meta,i=t.replicate,r=void 0===i||i,o=t.storeInHistory,a=t.ttl,s={};return null!=o&&(s.store=o?"1":"0"),a&&(s.ttl=a),!1===r&&(s.norep="true"),n&&"object"==typeof n&&(s.meta=JSON.stringify(n)),s},handleResponse:function(e,t){return{timetoken:t[2]}}}),$e=Object.freeze({__proto__:null,getOperation:function(){return L.PNSignalOperation},validateParams:function(e,t){var n=e.config,i=t.message;return t.channel?i?n.subscribeKey?void 0:"Missing Subscribe Key":"Missing Message":"Missing Channel"},getURL:function(e,t){var n,i=e.config,r=t.channel,o=(n=t.message,JSON.stringify(n));return"/signal/".concat(i.publishKey,"/").concat(i.subscribeKey,"/0/").concat(P.encodeString(r),"/0/").concat(P.encodeString(o))},getRequestTimeout:function(e){return e.config.getTransactionTimeout()},isAuthSupported:function(){return!0},prepareParams:function(){return{}},handleResponse:function(e,t){return{timetoken:t[2]}}}),Ge=Object.freeze({__proto__:null,getOperation:function(){return L.PNHistoryOperation},validateParams:function(e,t){var n=t.channel,i=e.config;return n?i.subscribeKey?void 0:"Missing Subscribe Key":"Missing channel"},getURL:function(e,t){var n=t.channel,i=e.config;return"/v2/history/sub-key/".concat(i.subscribeKey,"/channel/").concat(P.encodeString(n))},getRequestTimeout:function(e){return e.config.getTransactionTimeout()},isAuthSupported:function(){return!0},prepareParams:function(e,t){var n=t.start,i=t.end,r=t.reverse,o=t.count,a=void 0===o?100:o,s=t.stringifiedTimeToken,u=void 0!==s&&s,l=t.includeMeta,c=void 0!==l&&l,d={include_token:"true"};return d.count=a,n&&(d.start=n),i&&(d.end=i),u&&(d.string_message_token="true"),null!=r&&(d.reverse=r.toString()),c&&(d.include_meta="true"),d},handleResponse:function(e,t){var n={messages:[],startTimeToken:t[1],endTimeToken:t[2]};return Array.isArray(t[0])&&t[0].forEach((function(t){var i=function(e,t){var n={};if(!e.cryptoModule)return n.payload=t,n;try{var i=e.cryptoModule.decrypt(t),r=i instanceof ArrayBuffer?JSON.parse((new TextDecoder).decode(i)):i;return n.payload=r,n}catch(i){e.config.logVerbosity&&console&&console.log&&console.log("decryption error",i.message),n.payload=t,n.error="Error while decrypting message content: ".concat(i.message)}return n}(e,t.message),r={timetoken:t.timetoken,entry:i.payload};t.meta&&(r.meta=t.meta),i.error&&(r.error=i.error),n.messages.push(r)})),n}}),qe=Object.freeze({__proto__:null,getOperation:function(){return L.PNDeleteMessagesOperation},validateParams:function(e,t){var n=t.channel,i=e.config;return n?i.subscribeKey?void 0:"Missing Subscribe Key":"Missing channel"},useDelete:function(){return!0},getURL:function(e,t){var n=t.channel,i=e.config;return"/v3/history/sub-key/".concat(i.subscribeKey,"/channel/").concat(P.encodeString(n))},getRequestTimeout:function(e){return e.config.getTransactionTimeout()},isAuthSupported:function(){return!0},prepareParams:function(e,t){var n=t.start,i=t.end,r={};return n&&(r.start=n),i&&(r.end=i),r},handleResponse:function(e,t){return t.payload}}),Ve=Object.freeze({__proto__:null,getOperation:function(){return L.PNMessageCounts},validateParams:function(e,t){var n=t.channels,i=t.timetoken,r=t.channelTimetokens,o=e.config;return n?i&&r?"timetoken and channelTimetokens are incompatible together":r&&r.length>1&&n.length!==r.length?"Length of channelTimetokens and channels do not match":o.subscribeKey?void 0:"Missing Subscribe Key":"Missing channel"},getURL:function(e,t){var n=t.channels,i=e.config,r=n.join(",");return"/v3/history/sub-key/".concat(i.subscribeKey,"/message-counts/").concat(P.encodeString(r))},getRequestTimeout:function(e){return e.config.getTransactionTimeout()},isAuthSupported:function(){return!0},prepareParams:function(e,t){var n=t.timetoken,i=t.channelTimetokens,r={};if(i&&1===i.length){var o=l(i,1)[0];r.timetoken=o}else i?r.channelsTimetoken=i.join(","):n&&(r.timetoken=n);return r},handleResponse:function(e,t){return{channels:t.channels}}}),ze=Object.freeze({__proto__:null,getOperation:function(){return L.PNFetchMessagesOperation},validateParams:function(e,t){var n=t.channels,i=t.includeMessageActions,r=void 0!==i&&i,o=e.config;if(!n||0===n.length)return"Missing channels";if(!o.subscribeKey)return"Missing Subscribe Key";if(r&&n.length>1)throw new TypeError("History can return actions data for a single channel only. Either pass a single channel or disable the includeMessageActions flag.")},getURL:function(e,t){var n=t.channels,i=void 0===n?[]:n,r=t.includeMessageActions,o=void 0!==r&&r,a=e.config,s=o?"history-with-actions":"history",u=i.length>0?i.join(","):",";return"/v3/".concat(s,"/sub-key/").concat(a.subscribeKey,"/channel/").concat(P.encodeString(u))},getRequestTimeout:function(e){return e.config.getTransactionTimeout()},isAuthSupported:function(){return!0},prepareParams:function(e,t){var n=t.channels,i=t.start,r=t.end,o=t.includeMessageActions,a=t.count,s=t.stringifiedTimeToken,u=void 0!==s&&s,l=t.includeMeta,c=void 0!==l&&l,d=t.includeUuid,p=t.includeUUID,h=void 0===p||p,f=t.includeMessageType,m=void 0===f||f,g={};return g.max=a||(n.length>1||!0===o?25:100),i&&(g.start=i),r&&(g.end=r),u&&(g.string_message_token="true"),c&&(g.include_meta="true"),h&&!1!==d&&(g.include_uuid="true"),m&&(g.include_message_type="true"),g},handleResponse:function(e,t){var n={channels:{}};return Object.keys(t.channels||{}).forEach((function(i){n.channels[i]=[],(t.channels[i]||[]).forEach((function(t){var r={},o=function(e,t){var n={};if(!e.cryptoModule)return n.payload=t,n;try{var i=e.cryptoModule.decrypt(t),r=i instanceof ArrayBuffer?JSON.parse((new TextDecoder).decode(i)):i;return n.payload=r,n}catch(i){e.config.logVerbosity&&console&&console.log&&console.log("decryption error",i.message),n.payload=t,n.error="Error while decrypting message content: ".concat(i.message)}return n}(e,t.message);r.channel=i,r.timetoken=t.timetoken,r.message=o.payload,r.messageType=t.message_type,r.uuid=t.uuid,t.actions&&(r.actions=t.actions,r.data=t.actions),t.meta&&(r.meta=t.meta),o.error&&(r.error=o.error),n.channels[i].push(r)}))})),t.more&&(n.more=t.more),n}}),We=Object.freeze({__proto__:null,getOperation:function(){return L.PNTimeOperation},getURL:function(){return"/time/0"},getRequestTimeout:function(e){return e.config.getTransactionTimeout()},prepareParams:function(){return{}},isAuthSupported:function(){return!1},handleResponse:function(e,t){return{timetoken:t[0]}},validateParams:function(){}}),Ke=Object.freeze({__proto__:null,getOperation:function(){return L.PNSubscribeOperation},validateParams:function(e){if(!e.config.subscribeKey)return"Missing Subscribe Key"},getURL:function(e,t){var n=e.config,i=t.channels,r=void 0===i?[]:i,o=r.length>0?r.join(","):",";return"/v2/subscribe/".concat(n.subscribeKey,"/").concat(P.encodeString(o),"/0")},getRequestTimeout:function(e){return e.config.getSubscribeTimeout()},isAuthSupported:function(){return!0},prepareParams:function(e,t){var n=e.config,i=t.state,r=t.channelGroups,o=void 0===r?[]:r,a=t.timetoken,s=t.filterExpression,u=t.region,l={heartbeat:n.getPresenceTimeout()};return o.length>0&&(l["channel-group"]=o.join(",")),s&&s.length>0&&(l["filter-expr"]=s),Object.keys(i).length&&(l.state=JSON.stringify(i)),a&&(l.tt=a),u&&(l.tr=u),l},handleResponse:function(e,t){var n=[];t.m.forEach((function(e){var t={publishTimetoken:e.p.t,region:e.p.r},i={shard:parseInt(e.a,10),subscriptionMatch:e.b,channel:e.c,messageType:e.e,payload:e.d,flags:e.f,issuingClientId:e.i,subscribeKey:e.k,originationTimetoken:e.o,userMetadata:e.u,publishMetaData:t};n.push(i)}));var i={timetoken:t.t.t,region:t.t.r};return{messages:n,metadata:i}}}),Ye={getOperation:function(){return L.PNHandshakeOperation},validateParams:function(e,t){if(!(null==t?void 0:t.channels)&&!(null==t?void 0:t.channelGroups))return"channels and channleGroups both should not be empty"},getURL:function(e,t){var n=e.config,i=t.channels?t.channels.join(","):",";return"/v2/subscribe/".concat(n.subscribeKey,"/").concat(P.encodeString(i),"/0")},getRequestTimeout:function(e){return e.config.getSubscribeTimeout()},isAuthSupported:function(){return!0},prepareParams:function(e,t){var n={};return t.channelGroups&&t.channelGroups.length>0&&(n["channel-group"]=t.channelGroups.join(",")),n.tt=0,n},handleResponse:function(e,t){return{region:t.t.r,timetoken:t.t.t}}},Je={getOperation:function(){return L.PNReceiveMessagesOperation},validateParams:function(e,t){return(null==t?void 0:t.channels)||(null==t?void 0:t.channelGroups)?(null==t?void 0:t.timetoken)?(null==t?void 0:t.region)?void 0:"region can not be empty":"timetoken can not be empty":"channels and channleGroups both should not be empty"},getURL:function(e,t){var n=e.config,i=t.channels?t.channels.join(","):",";return"/v2/subscribe/".concat(n.subscribeKey,"/").concat(P.encodeString(i),"/0")},getRequestTimeout:function(e){return e.config.getSubscribeTimeout()},isAuthSupported:function(){return!0},getAbortSignal:function(e,t){return t.abortSignal},prepareParams:function(e,t){var n={};return t.channelGroups&&t.channelGroups.length>0&&(n["channel-group"]=t.channelGroups.join(",")),n.tt=t.timetoken,n.tr=t.region,n},handleResponse:function(e,t){var n=[];return t.m.forEach((function(e){var t={shard:parseInt(e.a,10),subscriptionMatch:e.b,channel:e.c,messageType:e.e,payload:e.d,flags:e.f,issuingClientId:e.i,subscribeKey:e.k,originationTimetoken:e.o,publishMetaData:{timetoken:e.p.t,region:e.p.r}};n.push(t)})),{messages:n,metadata:{region:t.t.r,timetoken:t.t.t}}}},Xe=function(){function e(e){void 0===e&&(e=!1),this.sync=e,this.listeners=new Set}return e.prototype.subscribe=function(e){var t=this;return this.listeners.add(e),function(){t.listeners.delete(e)}},e.prototype.notify=function(e){var t=this,n=function(){t.listeners.forEach((function(t){t(e)}))};this.sync?n():setTimeout(n,0)},e}(),Qe=function(){function e(e){this.label=e,this.transitionMap=new Map,this.enterEffects=[],this.exitEffects=[]}return e.prototype.transition=function(e,t){var n;if(this.transitionMap.has(t.type))return null===(n=this.transitionMap.get(t.type))||void 0===n?void 0:n(e,t)},e.prototype.on=function(e,t){return this.transitionMap.set(e,t),this},e.prototype.with=function(e,t){return[this,e,null!=t?t:[]]},e.prototype.onEnter=function(e){return this.enterEffects.push(e),this},e.prototype.onExit=function(e){return this.exitEffects.push(e),this},e}(),Ze=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.describe=function(e){return new Qe(e)},t.prototype.start=function(e,t){this.currentState=e,this.currentContext=t,this.notify({type:"engineStarted",state:e,context:t})},t.prototype.transition=function(e){var t,n,i,r,o,a;if(!this.currentState)throw new Error("Start the engine first");this.notify({type:"eventReceived",event:e});var s=this.currentState.transition(this.currentContext,e);if(s){var c=l(s,3),d=c[0],p=c[1],h=c[2];try{for(var f=u(this.currentState.exitEffects),m=f.next();!m.done;m=f.next()){var g=m.value;this.notify({type:"invocationDispatched",invocation:g(this.currentContext)})}}catch(e){t={error:e}}finally{try{m&&!m.done&&(n=f.return)&&n.call(f)}finally{if(t)throw t.error}}var y=this.currentState;this.currentState=d;var v=this.currentContext;this.currentContext=p,this.notify({type:"transitionDone",fromState:y,fromContext:v,toState:d,toContext:p,event:e});try{for(var _=u(h),b=_.next();!b.done;b=_.next())g=b.value,this.notify({type:"invocationDispatched",invocation:g})}catch(e){i={error:e}}finally{try{b&&!b.done&&(r=_.return)&&r.call(_)}finally{if(i)throw i.error}}try{for(var w=u(this.currentState.enterEffects),E=w.next();!E.done;E=w.next())g=E.value,this.notify({type:"invocationDispatched",invocation:g(this.currentContext)})}catch(e){o={error:e}}finally{try{E&&!E.done&&(a=w.return)&&a.call(w)}finally{if(o)throw o.error}}}},t}(Xe),et=function(){function e(e){this.dependencies=e,this.instances=new Map,this.handlers=new Map}return e.prototype.on=function(e,t){this.handlers.set(e,t)},e.prototype.dispatch=function(e){if("CANCEL"!==e.type){var t=this.handlers.get(e.type);if(!t)throw new Error("Unhandled invocation '".concat(e.type,"'"));var n=t(e.payload,this.dependencies);e.managed&&this.instances.set(e.type,n),n.start()}else if(this.instances.has(e.payload)){var i=this.instances.get(e.payload);null==i||i.cancel(),this.instances.delete(e.payload)}},e}();function tt(e,t){var n=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return{type:e,payload:null==t?void 0:t.apply(void 0,c([],l(n),!1))}};return n.type=e,n}function nt(e,t){var n=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return{type:e,payload:t.apply(void 0,c([],l(n),!1)),managed:!0}};return n.type=e,n.cancel={type:"CANCEL",payload:e,managed:!1},n}var it,rt,ot,at=function(e){function t(){var t=this.constructor,n=e.call(this,"The operation was aborted.")||this;return n.name="AbortError",Object.setPrototypeOf(n,t.prototype),n}return n(t,e),t}(Error),st=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._aborted=!1,t}return n(t,e),Object.defineProperty(t.prototype,"aborted",{get:function(){return this._aborted},enumerable:!1,configurable:!0}),t.prototype.throwIfAborted=function(){if(this._aborted)throw new at},t.prototype.abort=function(){this._aborted=!0,this.notify(new at)},t}(Xe),ut=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r.asyncFunction=i,r.abortSignal=new st,r}return n(t,e),t.prototype.start=function(){this.asyncFunction(this.payload,this.abortSignal,this.dependencies)},t.prototype.cancel=function(){this.abortSignal.abort()},t}((function(e,t){this.payload=e,this.dependencies=t})),lt=function(e){return function(t,n){return new ut(t,n,e)}},ct=nt("HANDSHAKE",(function(e,t){return{channels:e,groups:t}})),dt=nt("RECEIVE_EVENTS",(function(e,t,n){return{channels:e,groups:t,cursor:n}})),pt=(rt=function(e){return e},ot=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return{type:it,payload:rt.apply(void 0,c([],l(e),!1)),managed:!1}},ot.type=it="EMIT_EVENTS",ot),ht=nt("RECONNECT",(function(e){return e})),ft=nt("HANDSHAKE_RECONNECT",(function(e){return e})),mt=tt("SUBSCRIPTION_CHANGE",(function(e,t){return{channels:e,groups:t}})),gt=tt("DISCONNECT",(function(){return{}})),yt=tt("RECONNECT",(function(){return{}}));tt("RESTORE",(function(e,t,n,i){return{channels:e,groups:t,timetoken:n,region:i}}));var vt=tt("HANDSHAKING_SUCCESS",(function(e){return e})),_t=tt("HANDSHAKING_FAILURE",(function(e){return e})),bt=tt("HANDSHAKING_RECONNECTING_SUCCESS",(function(e){return{cursor:e}})),wt=tt("HANDSHAKING_RECONNECTING_FAILURE",(function(e){return e})),Et=tt("HANDSHAKING_RECONNECTING_GIVEUP",(function(){return{}})),St=tt("HANDSHAKING_RECONNECTING_RETRY",(function(){return{}})),Tt=tt("RECEIVING_SUCCESS",(function(e,t){return{cursor:e,events:t}})),Ct=tt("RECEIVING_FAILURE",(function(e){return e})),xt=tt("RECONNECTING_SUCCESS",(function(e,t){return{cursor:e,events:t}})),At=tt("RECONNECTING_FAILURE",(function(e){return e})),kt=tt("RECONNECTING_GIVEUP",(function(){return{}})),It=tt("RECONNECTING_RETRY",(function(){return{}})),Dt=function(e){function t(t,n){var i=e.call(this,n)||this;return i.on(ct.type,lt((function(e,n,r){var o=r.handshake;return a(i,void 0,void 0,(function(){var i,r;return s(this,(function(a){switch(a.label){case 0:n.throwIfAborted(),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,o({abortSignal:n,channels:e.channels,channelGroups:e.groups})];case 2:return i=a.sent(),t.transition(vt(i)),[3,4];case 3:return(r=a.sent())instanceof Error&&"Aborted"===r.message?[2]:r instanceof q?[2,t.transition(_t(r))]:[3,4];case 4:return[2]}}))}))}))),i.on(dt.type,lt((function(e,n,r){var o=r.receiveEvents;return a(i,void 0,void 0,(function(){var i,r;return s(this,(function(a){switch(a.label){case 0:n.throwIfAborted(),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,o({abortSignal:n,channels:e.channels,channelGroups:e.groups,timetoken:e.cursor.timetoken,region:e.cursor.region})];case 2:return i=a.sent(),t.transition(Tt(i.metadata,i.messages)),[3,4];case 3:return(r=a.sent())instanceof Error&&"Aborted"===r.message?[2]:r instanceof q?[2,t.transition(Ct(r))]:[3,4];case 4:return[2]}}))}))}))),i.on(pt.type,lt((function(e,t,n){return n.receiveEvents,a(i,void 0,void 0,(function(){return s(this,(function(t){return e.length>0&&console.log(e),[2]}))}))}))),i.on(ht.type,lt((function(e,n,r){var o=r.receiveEvents,u=r.shouldRetry,l=r.getRetryDelay,c=r.delay;return a(i,void 0,void 0,(function(){var i,r;return s(this,(function(a){switch(a.label){case 0:return u(e.reason,e.attempts)?(n.throwIfAborted(),[4,c(l(e.attempts))]):[2,t.transition(kt())];case 1:a.sent(),n.throwIfAborted(),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,o({abortSignal:n,channels:e.channels,channelGroups:e.groups,timetoken:e.cursor.timetoken,region:e.cursor.region})];case 3:return i=a.sent(),[2,t.transition(xt(i.metadata,i.messages))];case 4:return(r=a.sent())instanceof Error&&"Aborted"===r.message?[2]:r instanceof q?[2,t.transition(At(r))]:[3,5];case 5:return[2]}}))}))}))),i.on(ft.type,lt((function(e,n,r){var o=r.handshake,u=r.shouldRetry,l=r.getRetryDelay,c=r.delay;return a(i,void 0,void 0,(function(){var i,r;return s(this,(function(a){switch(a.label){case 0:return u(e.reason,e.attempts)?(n.throwIfAborted(),[4,c(l(e.attempts))]):[2,t.transition(Et())];case 1:a.sent(),n.throwIfAborted(),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,o({abortSignal:n,channels:e.channels,channelGroups:e.groups})];case 3:return i=a.sent(),[2,t.transition(bt(i.metadata))];case 4:return(r=a.sent())instanceof Error&&"Aborted"===r.message?[2]:r instanceof q?[2,t.transition(wt(r))]:[3,5];case 5:return[2]}}))}))}))),i}return n(t,e),t}(et),Ot=new Qe("STOPPED");Ot.on(mt.type,(function(e,t){return Ot.with({channels:t.payload.channels,groups:t.payload.groups})})),Ot.on(yt.type,(function(e){return jt.with(r({},e))}));var Pt=new Qe("HANDSHAKE_FAILURE");Pt.on(St.type,(function(e){return Ft.with(r(r({},e),{attempts:0}))})),Pt.on(gt.type,(function(e){return Ot.with({channels:e.channels,groups:e.groups})}));var Nt=new Qe("STOPPED");Nt.on(mt.type,(function(e,t){return Nt.with({channels:t.payload.channels,groups:t.payload.groups,cursor:e.cursor})})),Nt.on(yt.type,(function(e){return Mt.with(r({},e))}));var Rt=new Qe("RECEIVE_FAILURE");Rt.on(It.type,(function(e){return Lt.with(r(r({},e),{attempts:0}))})),Rt.on(gt.type,(function(e){return Nt.with({channels:e.channels,groups:e.groups,cursor:e.cursor})}));var Lt=new Qe("RECEIVE_RECONNECTING");Lt.onEnter((function(e){return ht(e)})),Lt.onExit((function(){return ht.cancel})),Lt.on(xt.type,(function(e,t){return Mt.with({channels:e.channels,groups:e.groups,cursor:t.payload.cursor},[pt(t.payload.events)])})),Lt.on(At.type,(function(e,t){return Lt.with(r(r({},e),{attempts:e.attempts+1,reason:t.payload}))})),Lt.on(kt.type,(function(e){return Rt.with({groups:e.groups,channels:e.channels,cursor:e.cursor,reason:e.reason})})),Lt.on(gt.type,(function(e){return Nt.with({channels:e.channels,groups:e.groups,cursor:e.cursor})}));var Mt=new Qe("RECEIVING");Mt.onEnter((function(e){return dt(e.channels,e.groups,e.cursor)})),Mt.onExit((function(){return dt.cancel})),Mt.on(Tt.type,(function(e,t){return Mt.with(r(r({},e),{cursor:t.payload.cursor}),[pt(t.payload.events)])})),Mt.on(mt.type,(function(e,t){return 0===t.payload.channels.length&&0===t.payload.groups.length?Bt.with(void 0):Mt.with(r(r({},e),{channels:t.payload.channels,groups:t.payload.groups}))})),Mt.on(Ct.type,(function(e,t){return Lt.with(r(r({},e),{attempts:0,reason:t.payload}))})),Mt.on(gt.type,(function(e){return Nt.with({channels:e.channels,groups:e.groups,cursor:e.cursor})}));var Ft=new Qe("HANDSHAKE_RECONNECTING");Ft.onEnter((function(e){return ft(e)})),Ft.onExit((function(){return ht.cancel})),Ft.on(xt.type,(function(e,t){return Mt.with({channels:e.channels,groups:e.groups,cursor:t.payload.cursor},[pt(t.payload.events)])})),Ft.on(At.type,(function(e,t){return Ft.with(r(r({},e),{attempts:e.attempts+1,reason:t.payload}))})),Ft.on(kt.type,(function(e){return Pt.with({groups:e.groups,channels:e.channels,reason:e.reason})})),Ft.on(gt.type,(function(e){return Ot.with({channels:e.channels,groups:e.groups})}));var jt=new Qe("HANDSHAKING");jt.onEnter((function(e){return ct(e.channels,e.groups)})),jt.onExit((function(){return ct.cancel})),jt.on(mt.type,(function(e,t){return 0===t.payload.channels.length&&0===t.payload.groups.length?Bt.with(void 0):jt.with({channels:t.payload.channels,groups:t.payload.groups})})),jt.on(vt.type,(function(e,t){return Mt.with({channels:e.channels,groups:e.groups,cursor:t.payload})})),jt.on(_t.type,(function(e,t){return Ft.with(r(r({},e),{attempts:0,reason:t.payload}))})),jt.on(gt.type,(function(e){return Ot.with({channels:e.channels,groups:e.groups})}));var Bt=new Qe("UNSUBSCRIBED");Bt.on(mt.type,(function(e,t){return jt.with({channels:t.payload.channels,groups:t.payload.groups})}));var Ut=function(){function e(e){var t=this;this.engine=new Ze,this.channels=[],this.groups=[],this.dispatcher=new Dt(this.engine,e),this.engine.subscribe((function(e){"invocationDispatched"===e.type&&t.dispatcher.dispatch(e.invocation)})),this.engine.start(Bt,void 0)}return Object.defineProperty(e.prototype,"_engine",{get:function(){return this.engine},enumerable:!1,configurable:!0}),e.prototype.subscribe=function(e){var t=e.channels,n=e.groups;this.channels=c(c([],l(this.channels),!1),l(null!=t?t:[]),!1),this.groups=c(c([],l(this.groups),!1),l(null!=n?n:[]),!1),this.engine.transition(mt(this.channels,this.groups))},e.prototype.unsubscribe=function(e){var t=e.channels,n=e.groups;this.channels=this.channels.filter((function(e){var n;return null===(n=!(null==t?void 0:t.includes(e)))||void 0===n||n})),this.groups=this.groups.filter((function(e){var t;return null===(t=!(null==n?void 0:n.includes(e)))||void 0===t||t})),this.engine.transition(mt(this.channels.slice(0),this.groups.slice(0)))},e.prototype.unsubscribeAll=function(){this.channels=[],this.groups=[],this.engine.transition(mt(this.channels.slice(0),this.groups.slice(0)))},e.prototype.reconnect=function(){this.engine.transition(yt())},e.prototype.disconnect=function(){this.engine.transition(gt())},e}(),Ht=function(){function e(e){var t=this,n=e.networking,i=e.cbor,o=new y({setup:e});this._config=o;var a=new k({config:o}),s=e.cryptography;n.init(o);var u=new G(o,i);this._tokenManager=u;var d=new M({maximumSamplesCount:6e4});this._telemetryManager=d;var p=this._config.cryptoModule,h={config:o,networking:n,crypto:a,cryptography:s,tokenManager:u,telemetryManager:d,PubNubFile:e.PubNubFile,cryptoModule:p};this.File=e.PubNubFile,this.encryptFile=function(e,t){return 1==arguments.length&&"string"!=typeof e&&h.cryptoModule?(t=e,h.cryptoModule.encryptFile(t,this.File)):s.encryptFile(e,t,this.File)},this.decryptFile=function(e,t){return 1==arguments.length&&"string"!=typeof e&&h.cryptoModule?(t=e,h.cryptoModule.decryptFile(t,this.File)):s.decryptFile(e,t,this.File)};var f=J.bind(this,h,We),m=J.bind(this,h,ae),g=J.bind(this,h,ue),v=J.bind(this,h,ce),b=J.bind(this,h,Ke),w=new $;if(this._listenerManager=w,this.iAmHere=J.bind(this,h,ue),this.iAmAway=J.bind(this,h,ae),this.setPresenceState=J.bind(this,h,ce),this.handshake=J.bind(this,h,Ye),this.receiveMessages=J.bind(this,h,Je),!0===o.enableSubscribeBeta){var E=new Ut({handshake:this.handshake,receiveEvents:this.receiveMessages});this.subscribe=E.subscribe.bind(E),this.unsubscribe=E.unsubscribe.bind(E),this.eventEngine=E}else{var S=new R({timeEndpoint:f,leaveEndpoint:m,heartbeatEndpoint:g,setStateEndpoint:v,subscribeEndpoint:b,crypto:h.crypto,config:h.config,listenerManager:w,getFileUrl:function(e){return _e(h,e)},cryptoModule:h.cryptoModule});this.subscribe=S.adaptSubscribeChange.bind(S),this.unsubscribe=S.adaptUnsubscribeChange.bind(S),this.disconnect=S.disconnect.bind(S),this.reconnect=S.reconnect.bind(S),this.unsubscribeAll=S.unsubscribeAll.bind(S),this.getSubscribedChannels=S.getSubscribedChannels.bind(S),this.getSubscribedChannelGroups=S.getSubscribedChannelGroups.bind(S),this.setState=S.adaptStateChange.bind(S),this.presence=S.adaptPresenceChange.bind(S),this.destroy=function(e){S.unsubscribeAll(e),S.disconnect()}}this.addListener=w.addListener.bind(w),this.removeListener=w.removeListener.bind(w),this.removeAllListeners=w.removeAllListeners.bind(w),this.parseToken=u.parseToken.bind(u),this.setToken=u.setToken.bind(u),this.getToken=u.getToken.bind(u),this.channelGroups={listGroups:J.bind(this,h,ee),listChannels:J.bind(this,h,te),addChannels:J.bind(this,h,X),removeChannels:J.bind(this,h,Q),deleteGroup:J.bind(this,h,Z)},this.push={addChannels:J.bind(this,h,ne),removeChannels:J.bind(this,h,ie),deleteDevice:J.bind(this,h,oe),listChannels:J.bind(this,h,re)},this.hereNow=J.bind(this,h,de),this.whereNow=J.bind(this,h,se),this.getState=J.bind(this,h,le),this.grant=J.bind(this,h,Le),this.grantToken=J.bind(this,h,je),this.audit=J.bind(this,h,Re),this.revokeToken=J.bind(this,h,Be),this.publish=J.bind(this,h,He),this.fire=function(e,n){return e.replicate=!1,e.storeInHistory=!1,t.publish(e,n)},this.signal=J.bind(this,h,$e),this.history=J.bind(this,h,Ge),this.deleteMessages=J.bind(this,h,qe),this.messageCounts=J.bind(this,h,Ve),this.fetchMessages=J.bind(this,h,ze),this.addMessageAction=J.bind(this,h,pe),this.removeMessageAction=J.bind(this,h,he),this.getMessageActions=J.bind(this,h,fe),this.listFiles=J.bind(this,h,me);var T=J.bind(this,h,ge);this.publishFile=J.bind(this,h,ye),this.sendFile=ve({generateUploadUrl:T,publishFile:this.publishFile,modules:h}),this.getFileUrl=function(e){return _e(h,e)},this.downloadFile=J.bind(this,h,be),this.deleteFile=J.bind(this,h,we),this.objects={getAllUUIDMetadata:J.bind(this,h,Ee),getUUIDMetadata:J.bind(this,h,Se),setUUIDMetadata:J.bind(this,h,Te),removeUUIDMetadata:J.bind(this,h,Ce),getAllChannelMetadata:J.bind(this,h,xe),getChannelMetadata:J.bind(this,h,Ae),setChannelMetadata:J.bind(this,h,ke),removeChannelMetadata:J.bind(this,h,Ie),getChannelMembers:J.bind(this,h,De),setChannelMembers:function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return J.call.apply(J,c([t,h,Oe,r({type:"set"},e)],l(n),!1))},removeChannelMembers:function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return J.call.apply(J,c([t,h,Oe,r({type:"delete"},e)],l(n),!1))},getMemberships:J.bind(this,h,Pe),setMemberships:function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return J.call.apply(J,c([t,h,Ne,r({type:"set"},e)],l(n),!1))},removeMemberships:function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return J.call.apply(J,c([t,h,Ne,r({type:"delete"},e)],l(n),!1))}},this.createUser=function(e){return t.objects.setUUIDMetadata({uuid:e.userId,data:e.data,include:e.include})},this.updateUser=this.createUser,this.removeUser=function(e){return t.objects.removeUUIDMetadata({uuid:null==e?void 0:e.userId})},this.fetchUser=function(e){return t.objects.getUUIDMetadata({uuid:null==e?void 0:e.userId,include:null==e?void 0:e.include})},this.fetchUsers=this.objects.getAllUUIDMetadata,this.createSpace=function(e){return t.objects.setChannelMetadata({channel:e.spaceId,data:e.data,include:e.include})},this.updateSpace=this.createSpace,this.removeSpace=function(e){return t.objects.removeChannelMetadata({channel:e.spaceId})},this.fetchSpace=function(e){return t.objects.getChannelMetadata({channel:e.spaceId,include:e.include})},this.fetchSpaces=this.objects.getAllChannelMetadata,this.addMemberships=function(e){var n,i;return"string"==typeof e.spaceId?t.objects.setChannelMembers({channel:e.spaceId,uuids:null===(n=e.users)||void 0===n?void 0:n.map((function(e){return"string"==typeof e?e:{id:e.userId,custom:e.custom,status:e.status}})),limit:0}):t.objects.setMemberships({uuid:e.userId,channels:null===(i=e.spaces)||void 0===i?void 0:i.map((function(e){return"string"==typeof e?e:{id:e.spaceId,custom:e.custom,status:e.status}})),limit:0})},this.updateMemberships=this.addMemberships,this.removeMemberships=function(e){return"string"==typeof e.spaceId?t.objects.removeChannelMembers({channel:e.spaceId,uuids:e.userIds,limit:0}):t.objects.removeMemberships({uuid:e.userId,channels:e.spaceIds,limit:0})},this.fetchMemberships=function(e){return"string"==typeof e.spaceId?t.objects.getChannelMembers({channel:e.spaceId,filter:e.filter,limit:e.limit,page:e.page,include:{customFields:e.include.customFields,UUIDFields:e.include.userFields,customUUIDFields:e.include.customUserFields,statusField:e.include.statusField,UUIDStatusField:e.include.userStatusField,UUIDTypeField:e.include.userTypeField,totalCount:e.include.totalCount},sort:null!=e.sort?Object.fromEntries(Object.entries(e.sort).map((function(e){var t=l(e,2),n=t[0],i=t[1];return[n.replace("user","uuid"),i]}))):null}).then((function(e){var t;return e.data=null===(t=e.data)||void 0===t?void 0:t.map((function(e){return{user:e.uuid,custom:e.custom,updated:e.updated,eTag:e.eTag}})),e})):t.objects.getMemberships({uuid:e.userId,filter:e.filter,limit:e.limit,page:e.page,include:{customFields:e.include.customFields,channelFields:e.include.spaceFields,customChannelFields:e.include.customSpaceFields,statusField:e.include.statusField,channelStatusField:e.include.spaceStatusField,channelTypeField:e.include.spaceTypeField,totalCount:e.include.totalCount},sort:null!=e.sort?Object.fromEntries(Object.entries(e.sort).map((function(e){var t=l(e,2),n=t[0],i=t[1];return[n.replace("space","channel"),i]}))):null}).then((function(e){var t;return e.data=null===(t=e.data)||void 0===t?void 0:t.map((function(e){return{space:e.channel,custom:e.custom,updated:e.updated,eTag:e.eTag}})),e}))},this.time=f,this.stop=this.destroy,this.encrypt=function(e,t){if(void 0===t&&h.cryptoModule){var n=h.cryptoModule.encrypt(e);return"string"==typeof n?n:_(n)}return a.encrypt(e,t)},this.decrypt=function(e,t){if(void 0===t&&p){var n=h.cryptoModule.decrypt(e);return n instanceof ArrayBuffer?JSON.parse((new TextDecoder).decode(n)):n}return a.decrypt(e,t)},this.getAuthKey=h.config.getAuthKey.bind(h.config),this.setAuthKey=h.config.setAuthKey.bind(h.config),this.getUUID=h.config.getUUID.bind(h.config),this.setUUID=h.config.setUUID.bind(h.config),this.getUserId=h.config.getUserId.bind(h.config),this.setUserId=h.config.setUserId.bind(h.config),this.getFilterExpression=h.config.getFilterExpression.bind(h.config),this.setFilterExpression=h.config.setFilterExpression.bind(h.config),this.setCipherKey=function(t){return h.config.setCipherKey(t,e,h)},this.setHeartbeatInterval=h.config.setHeartbeatInterval.bind(h.config),n.hasModule("proxy")&&(this.setProxy=function(e){h.config.setProxy(e),t.reconnect()})}return e.prototype.getVersion=function(){return this._config.getVersion()},e.prototype._addPnsdkSuffix=function(e,t){this._config._addPnsdkSuffix(e,t)},e.prototype.networkDownDetected=function(){this._listenerManager.announceNetworkDown(),this._config.restore?this.disconnect():this.destroy(!0)},e.prototype.networkUpDetected=function(){this._listenerManager.announceNetworkUp(),this.reconnect()},e.notificationPayload=function(e,t){return new H(e,t)},e.generateUUID=function(){return g()},e.OPERATIONS=L,e.CATEGORIES=N,e}(),$t=function(){function e(e){var t=this;this._modules={},Object.keys(e).forEach((function(n){t._modules[n]=e[n].bind(t)}))}return e.prototype.init=function(e){this._config=e,Array.isArray(this._config.origin)?this._currentSubDomain=Math.floor(Math.random()*this._config.origin.length):this._currentSubDomain=0,this._coreParams={},this.shiftStandardOrigin()},e.prototype.nextOrigin=function(){var e=this._config.secure?"https://":"http://";if("string"==typeof this._config.origin)return"".concat(e).concat(this._config.origin);this._currentSubDomain+=1,this._currentSubDomain>=this._config.origin.length&&(this._currentSubDomain=0);var t=this._config.origin[this._currentSubDomain];return"".concat(e).concat(t)},e.prototype.hasModule=function(e){return e in this._modules},e.prototype.shiftStandardOrigin=function(){return this._standardOrigin=this.nextOrigin(),this._standardOrigin},e.prototype.getStandardOrigin=function(){return this._standardOrigin},e.prototype.POSTFILE=function(e,t,n){return this._modules.postfile(e,t,n)},e.prototype.GETFILE=function(e,t,n){return this._modules.getfile(e,t,n)},e.prototype.POST=function(e,t,n,i){return this._modules.post(e,t,n,i)},e.prototype.PATCH=function(e,t,n,i){return this._modules.patch(e,t,n,i)},e.prototype.GET=function(e,t,n){return this._modules.get(e,t,n)},e.prototype.DELETE=function(e,t,n){return this._modules.del(e,t,n)},e.prototype._detectErrorCategory=function(e){if("ENOTFOUND"===e.code)return N.PNNetworkIssuesCategory;if("ECONNREFUSED"===e.code)return N.PNNetworkIssuesCategory;if("ECONNRESET"===e.code)return N.PNNetworkIssuesCategory;if("EAI_AGAIN"===e.code)return N.PNNetworkIssuesCategory;if(0===e.status||e.hasOwnProperty("status")&&void 0===e.status)return N.PNNetworkIssuesCategory;if(e.timeout)return N.PNTimeoutCategory;if("ETIMEDOUT"===e.code)return N.PNNetworkIssuesCategory;if(e.response){if(e.response.badRequest)return N.PNBadRequestCategory;if(e.response.forbidden)return N.PNAccessDeniedCategory}return N.PNUnknownCategory},e}();function Gt(e){var t=function(e){return e&&"object"==typeof e&&e.constructor===Object};if(!t(e))return e;var n={};return Object.keys(e).forEach((function(i){var r=function(e){return"string"==typeof e||e instanceof String}(i),o=i,a=e[i];Array.isArray(i)||r&&i.indexOf(",")>=0?o=(r?i.split(","):i).reduce((function(e,t){return e+String.fromCharCode(t)}),""):(function(e){return"number"==typeof e&&isFinite(e)}(i)||r&&!isNaN(i))&&(o=String.fromCharCode(r?parseInt(i,10):10)),n[o]=t(a)?Gt(a):a})),n}var qt=function(){function e(e,t){this._base64ToBinary=t,this._decode=e}return e.prototype.decodeToken=function(e){var t="";e.length%4==3?t="=":e.length%4==2&&(t="==");var n=e.replace(/-/gi,"+").replace(/_/gi,"/")+t,i=this._decode(this._base64ToBinary(n));if("object"==typeof i)return i},e}(),Vt={exports:{}},zt={exports:{}};!function(e){function t(e){if(e)return function(e){for(var n in t.prototype)e[n]=t.prototype[n];return e}(e)}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},t.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,i=this._callbacks["$"+e];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r=0;r<i.length;r++)if((n=i[r])===t||n.fn===t){i.splice(r,1);break}return 0===i.length&&delete this._callbacks["$"+e],this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(n){i=0;for(var r=(n=n.slice(0)).length;i<r;++i)n[i].apply(this,t)}return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}}(zt);var Wt=Zt;Zt.default=Zt,Zt.stable=rn,Zt.stableStringify=rn;var Kt="[...]",Yt="[Circular]",Jt=[],Xt=[];function Qt(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function Zt(e,t,n,i){var r;void 0===i&&(i=Qt()),tn(e,"",0,[],void 0,0,i);try{r=0===Xt.length?JSON.stringify(e,t,n):JSON.stringify(e,an(t),n)}catch(e){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==Jt.length;){var o=Jt.pop();4===o.length?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return r}function en(e,t,n,i){var r=Object.getOwnPropertyDescriptor(i,n);void 0!==r.get?r.configurable?(Object.defineProperty(i,n,{value:e}),Jt.push([i,n,t,r])):Xt.push([t,n,e]):(i[n]=e,Jt.push([i,n,t]))}function tn(e,t,n,i,r,o,a){var s;if(o+=1,"object"==typeof e&&null!==e){for(s=0;s<i.length;s++)if(i[s]===e)return void en(Yt,e,t,r);if(void 0!==a.depthLimit&&o>a.depthLimit)return void en(Kt,e,t,r);if(void 0!==a.edgesLimit&&n+1>a.edgesLimit)return void en(Kt,e,t,r);if(i.push(e),Array.isArray(e))for(s=0;s<e.length;s++)tn(e[s],s,s,i,e,o,a);else{var u=Object.keys(e);for(s=0;s<u.length;s++){var l=u[s];tn(e[l],l,s,i,e,o,a)}}i.pop()}}function nn(e,t){return e<t?-1:e>t?1:0}function rn(e,t,n,i){void 0===i&&(i=Qt());var r,o=on(e,"",0,[],void 0,0,i)||e;try{r=0===Xt.length?JSON.stringify(o,t,n):JSON.stringify(o,an(t),n)}catch(e){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==Jt.length;){var a=Jt.pop();4===a.length?Object.defineProperty(a[0],a[1],a[3]):a[0][a[1]]=a[2]}}return r}function on(e,t,n,i,r,o,a){var s;if(o+=1,"object"==typeof e&&null!==e){for(s=0;s<i.length;s++)if(i[s]===e)return void en(Yt,e,t,r);try{if("function"==typeof e.toJSON)return}catch(e){return}if(void 0!==a.depthLimit&&o>a.depthLimit)return void en(Kt,e,t,r);if(void 0!==a.edgesLimit&&n+1>a.edgesLimit)return void en(Kt,e,t,r);if(i.push(e),Array.isArray(e))for(s=0;s<e.length;s++)on(e[s],s,s,i,e,o,a);else{var u={},l=Object.keys(e).sort(nn);for(s=0;s<l.length;s++){var c=l[s];on(e[c],c,s,i,e,o,a),u[c]=e[c]}if(void 0===r)return u;Jt.push([r,t,e]),r[t]=u}i.pop()}}function an(e){return e=void 0!==e?e:function(e,t){return t},function(t,n){if(Xt.length>0)for(var i=0;i<Xt.length;i++){var r=Xt[i];if(r[1]===t&&r[0]===n){n=r[2],Xt.splice(i,1);break}}return e.call(this,t,n)}}var sn,un="undefined"!=typeof Symbol&&Symbol,ln="Function.prototype.bind called on incompatible ",cn=Array.prototype.slice,dn=Object.prototype.toString,pn="[object Function]",hn=Function.prototype.bind||function(e){var t=this;if("function"!=typeof t||dn.call(t)!==pn)throw new TypeError(ln+t);for(var n,i=cn.call(arguments,1),r=function(){if(this instanceof n){var r=t.apply(this,i.concat(cn.call(arguments)));return Object(r)===r?r:this}return t.apply(e,i.concat(cn.call(arguments)))},o=Math.max(0,t.length-i.length),a=[],s=0;s<o;s++)a.push("$"+s);if(n=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(r),t.prototype){var u=function(){};u.prototype=t.prototype,n.prototype=new u,u.prototype=null}return n},fn=hn.call(Function.call,Object.prototype.hasOwnProperty),mn=SyntaxError,gn=Function,yn=TypeError,vn=function(e){try{return gn('"use strict"; return ('+e+").constructor;")()}catch(e){}},_n=Object.getOwnPropertyDescriptor;if(_n)try{_n({},"")}catch(t){_n=null}var bn=function(){throw new yn},wn=_n?function(){try{return bn}catch(e){try{return _n(arguments,"callee").get}catch(e){return bn}}}():bn,En="function"==typeof un&&"function"==typeof Symbol&&"symbol"==typeof un("foo")&&"symbol"==typeof Symbol("bar")&&function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var r=Object.getOwnPropertyDescriptor(e,t);if(42!==r.value||!0!==r.enumerable)return!1}return!0}(),Sn=Object.getPrototypeOf||function(e){return e.__proto__},Tn={},Cn="undefined"==typeof Uint8Array?sn:Sn(Uint8Array),xn={"%AggregateError%":"undefined"==typeof AggregateError?sn:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?sn:ArrayBuffer,"%ArrayIteratorPrototype%":En?Sn([][Symbol.iterator]()):sn,"%AsyncFromSyncIteratorPrototype%":sn,"%AsyncFunction%":Tn,"%AsyncGenerator%":Tn,"%AsyncGeneratorFunction%":Tn,"%AsyncIteratorPrototype%":Tn,"%Atomics%":"undefined"==typeof Atomics?sn:Atomics,"%BigInt%":"undefined"==typeof BigInt?sn:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?sn:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?sn:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?sn:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?sn:FinalizationRegistry,"%Function%":gn,"%GeneratorFunction%":Tn,"%Int8Array%":"undefined"==typeof Int8Array?sn:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?sn:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?sn:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":En?Sn(Sn([][Symbol.iterator]())):sn,"%JSON%":"object"==typeof JSON?JSON:sn,"%Map%":"undefined"==typeof Map?sn:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&En?Sn((new Map)[Symbol.iterator]()):sn,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?sn:Promise,"%Proxy%":"undefined"==typeof Proxy?sn:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?sn:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?sn:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&En?Sn((new Set)[Symbol.iterator]()):sn,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?sn:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":En?Sn(""[Symbol.iterator]()):sn,"%Symbol%":En?Symbol:sn,"%SyntaxError%":mn,"%ThrowTypeError%":wn,"%TypedArray%":Cn,"%TypeError%":yn,"%Uint8Array%":"undefined"==typeof Uint8Array?sn:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?sn:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?sn:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?sn:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?sn:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?sn:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?sn:WeakSet},An=function e(t){var n;if("%AsyncFunction%"===t)n=vn("async function () {}");else if("%GeneratorFunction%"===t)n=vn("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=vn("async function* () {}");else if("%AsyncGenerator%"===t){var i=e("%AsyncGeneratorFunction%");i&&(n=i.prototype)}else if("%AsyncIteratorPrototype%"===t){var r=e("%AsyncGenerator%");r&&(n=Sn(r.prototype))}return xn[t]=n,n},kn={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},In=hn,Dn=fn,On=In.call(Function.call,Array.prototype.concat),Pn=In.call(Function.apply,Array.prototype.splice),Nn=In.call(Function.call,String.prototype.replace),Rn=In.call(Function.call,String.prototype.slice),Ln=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Mn=/\\(\\)?/g,Fn=function(e){var t=Rn(e,0,1),n=Rn(e,-1);if("%"===t&&"%"!==n)throw new mn("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new mn("invalid intrinsic syntax, expected opening `%`");var i=[];return Nn(e,Ln,(function(e,t,n,r){i[i.length]=n?Nn(r,Mn,"$1"):t||e})),i},jn=function(e,t){var n,i=e;if(Dn(kn,i)&&(i="%"+(n=kn[i])[0]+"%"),Dn(xn,i)){var r=xn[i];if(r===Tn&&(r=An(i)),void 0===r&&!t)throw new yn("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:i,value:r}}throw new mn("intrinsic "+e+" does not exist!")},Bn=function(e,t){if("string"!=typeof e||0===e.length)throw new yn("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new yn('"allowMissing" argument must be a boolean');var n=Fn(e),i=n.length>0?n[0]:"",r=jn("%"+i+"%",t),o=r.name,a=r.value,s=!1,u=r.alias;u&&(i=u[0],Pn(n,On([0,1],u)));for(var l=1,c=!0;l<n.length;l+=1){var d=n[l],p=Rn(d,0,1),h=Rn(d,-1);if(('"'===p||"'"===p||"`"===p||'"'===h||"'"===h||"`"===h)&&p!==h)throw new mn("property names with quotes must have matching quotes");if("constructor"!==d&&c||(s=!0),Dn(xn,o="%"+(i+="."+d)+"%"))a=xn[o];else if(null!=a){if(!(d in a)){if(!t)throw new yn("base intrinsic for "+e+" exists, but the property is not available.");return}if(_n&&l+1>=n.length){var f=_n(a,d);a=(c=!!f)&&"get"in f&&!("originalValue"in f.get)?f.get:a[d]}else c=Dn(a,d),a=a[d];c&&!s&&(xn[o]=a)}}return a},Un={exports:{}};!function(e){var t=hn,n=Bn,i=n("%Function.prototype.apply%"),r=n("%Function.prototype.call%"),o=n("%Reflect.apply%",!0)||t.call(r,i),a=n("%Object.getOwnPropertyDescriptor%",!0),s=n("%Object.defineProperty%",!0),u=n("%Math.max%");if(s)try{s({},"a",{value:1})}catch(e){s=null}e.exports=function(e){var n=o(t,r,arguments);if(a&&s){var i=a(n,"length");i.configurable&&s(n,"length",{value:1+u(0,e.length-(arguments.length-1))})}return n};var l=function(){return o(t,i,arguments)};s?s(e.exports,"apply",{value:l}):e.exports.apply=l}(Un);var Hn=Bn,$n=Un.exports,Gn=$n(Hn("String.prototype.indexOf")),qn=function(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})})),t}(Object.freeze({__proto__:null,default:{}})),Vn="function"==typeof Map&&Map.prototype,zn=Object.getOwnPropertyDescriptor&&Vn?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Wn=Vn&&zn&&"function"==typeof zn.get?zn.get:null,Kn=Vn&&Map.prototype.forEach,Yn="function"==typeof Set&&Set.prototype,Jn=Object.getOwnPropertyDescriptor&&Yn?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Xn=Yn&&Jn&&"function"==typeof Jn.get?Jn.get:null,Qn=Yn&&Set.prototype.forEach,Zn="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,ei="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,ti="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,ni=Boolean.prototype.valueOf,ii=Object.prototype.toString,ri=Function.prototype.toString,oi=String.prototype.match,ai=String.prototype.slice,si=String.prototype.replace,ui=String.prototype.toUpperCase,li=String.prototype.toLowerCase,ci=RegExp.prototype.test,di=Array.prototype.concat,pi=Array.prototype.join,hi=Array.prototype.slice,fi=Math.floor,mi="function"==typeof BigInt?BigInt.prototype.valueOf:null,gi=Object.getOwnPropertySymbols,yi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,vi="function"==typeof Symbol&&"object"==typeof Symbol.iterator,_i="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol.toStringTag,1)?Symbol.toStringTag:null,bi=Object.prototype.propertyIsEnumerable,wi=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function Ei(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||ci.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var i=e<0?-fi(-e):fi(e);if(i!==e){var r=String(i),o=ai.call(t,r.length+1);return si.call(r,n,"$&_")+"."+si.call(si.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return si.call(t,n,"$&_")}var Si=qn,Ti=Si.custom,Ci=Di(Ti)?Ti:null;function xi(e,t,n){var i="double"===(n.quoteStyle||t)?'"':"'";return i+e+i}function Ai(e){return si.call(String(e),/"/g,"&quot;")}function ki(e){return!("[object Array]"!==Ni(e)||_i&&"object"==typeof e&&_i in e)}function Ii(e){return!("[object RegExp]"!==Ni(e)||_i&&"object"==typeof e&&_i in e)}function Di(e){if(vi)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!yi)return!1;try{return yi.call(e),!0}catch(e){}return!1}var Oi=Object.prototype.hasOwnProperty||function(e){return e in this};function Pi(e,t){return Oi.call(e,t)}function Ni(e){return ii.call(e)}function Ri(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1}function Li(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,i="... "+n+" more character"+(n>1?"s":"");return Li(ai.call(e,0,t.maxStringLength),t)+i}return xi(si.call(si.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Mi),"single",t)}function Mi(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+ui.call(t.toString(16))}function Fi(e){return"Object("+e+")"}function ji(e){return e+" { ? }"}function Bi(e,t,n,i){return e+" ("+t+") {"+(i?Ui(n,i):pi.call(n,", "))+"}"}function Ui(e,t){if(0===e.length)return"";var n="\n"+t.prev+t.base;return n+pi.call(e,","+n)+"\n"+t.prev}function Hi(e,t){var n=ki(e),i=[];if(n){i.length=e.length;for(var r=0;r<e.length;r++)i[r]=Pi(e,r)?t(e[r],e):""}var o,a="function"==typeof gi?gi(e):[];if(vi){o={};for(var s=0;s<a.length;s++)o["$"+a[s]]=a[s]}for(var u in e)Pi(e,u)&&(n&&String(Number(u))===u&&u<e.length||vi&&o["$"+u]instanceof Symbol||(ci.call(/[^\w$]/,u)?i.push(t(u,e)+": "+t(e[u],e)):i.push(u+": "+t(e[u],e))));if("function"==typeof gi)for(var l=0;l<a.length;l++)bi.call(e,a[l])&&i.push("["+t(a[l])+"]: "+t(e[a[l]],e));return i}var $i=Bn,Gi=function(e,t){var n=Hn(e,!!t);return"function"==typeof n&&Gn(e,".prototype.")>-1?$n(n):n},qi=function e(t,n,i,r){var o=n||{};if(Pi(o,"quoteStyle")&&"single"!==o.quoteStyle&&"double"!==o.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Pi(o,"maxStringLength")&&("number"==typeof o.maxStringLength?o.maxStringLength<0&&o.maxStringLength!==1/0:null!==o.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var a=!Pi(o,"customInspect")||o.customInspect;if("boolean"!=typeof a&&"symbol"!==a)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Pi(o,"indent")&&null!==o.indent&&"\t"!==o.indent&&!(parseInt(o.indent,10)===o.indent&&o.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Pi(o,"numericSeparator")&&"boolean"!=typeof o.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var s=o.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return Li(t,o);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var u=String(t);return s?Ei(t,u):u}if("bigint"==typeof t){var l=String(t)+"n";return s?Ei(t,l):l}var c=void 0===o.depth?5:o.depth;if(void 0===i&&(i=0),i>=c&&c>0&&"object"==typeof t)return ki(t)?"[Array]":"[Object]";var d=function(e,t){var n;if("\t"===e.indent)n="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;n=pi.call(Array(e.indent+1)," ")}return{base:n,prev:pi.call(Array(t+1),n)}}(o,i);if(void 0===r)r=[];else if(Ri(r,t)>=0)return"[Circular]";function p(t,n,a){if(n&&(r=hi.call(r)).push(n),a){var s={depth:o.depth};return Pi(o,"quoteStyle")&&(s.quoteStyle=o.quoteStyle),e(t,s,i+1,r)}return e(t,o,i+1,r)}if("function"==typeof t&&!Ii(t)){var h=function(e){if(e.name)return e.name;var t=oi.call(ri.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}(t),f=Hi(t,p);return"[Function"+(h?": "+h:" (anonymous)")+"]"+(f.length>0?" { "+pi.call(f,", ")+" }":"")}if(Di(t)){var m=vi?si.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):yi.call(t);return"object"!=typeof t||vi?m:Fi(m)}if(function(e){return!(!e||"object"!=typeof e)&&("undefined"!=typeof HTMLElement&&e instanceof HTMLElement||"string"==typeof e.nodeName&&"function"==typeof e.getAttribute)}(t)){for(var g="<"+li.call(String(t.nodeName)),y=t.attributes||[],v=0;v<y.length;v++)g+=" "+y[v].name+"="+xi(Ai(y[v].value),"double",o);return g+=">",t.childNodes&&t.childNodes.length&&(g+="..."),g+"</"+li.call(String(t.nodeName))+">"}if(ki(t)){if(0===t.length)return"[]";var _=Hi(t,p);return d&&!function(e){for(var t=0;t<e.length;t++)if(Ri(e[t],"\n")>=0)return!1;return!0}(_)?"["+Ui(_,d)+"]":"[ "+pi.call(_,", ")+" ]"}if(function(e){return!("[object Error]"!==Ni(e)||_i&&"object"==typeof e&&_i in e)}(t)){var b=Hi(t,p);return"cause"in Error.prototype||!("cause"in t)||bi.call(t,"cause")?0===b.length?"["+String(t)+"]":"{ ["+String(t)+"] "+pi.call(b,", ")+" }":"{ ["+String(t)+"] "+pi.call(di.call("[cause]: "+p(t.cause),b),", ")+" }"}if("object"==typeof t&&a){if(Ci&&"function"==typeof t[Ci]&&Si)return Si(t,{depth:c-i});if("symbol"!==a&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!Wn||!e||"object"!=typeof e)return!1;try{Wn.call(e);try{Xn.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(t)){var w=[];return Kn&&Kn.call(t,(function(e,n){w.push(p(n,t,!0)+" => "+p(e,t))})),Bi("Map",Wn.call(t),w,d)}if(function(e){if(!Xn||!e||"object"!=typeof e)return!1;try{Xn.call(e);try{Wn.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(t)){var E=[];return Qn&&Qn.call(t,(function(e){E.push(p(e,t))})),Bi("Set",Xn.call(t),E,d)}if(function(e){if(!Zn||!e||"object"!=typeof e)return!1;try{Zn.call(e,Zn);try{ei.call(e,ei)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(t))return ji("WeakMap");if(function(e){if(!ei||!e||"object"!=typeof e)return!1;try{ei.call(e,ei);try{Zn.call(e,Zn)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(t))return ji("WeakSet");if(function(e){if(!ti||!e||"object"!=typeof e)return!1;try{return ti.call(e),!0}catch(e){}return!1}(t))return ji("WeakRef");if(function(e){return!("[object Number]"!==Ni(e)||_i&&"object"==typeof e&&_i in e)}(t))return Fi(p(Number(t)));if(function(e){if(!e||"object"!=typeof e||!mi)return!1;try{return mi.call(e),!0}catch(e){}return!1}(t))return Fi(p(mi.call(t)));if(function(e){return!("[object Boolean]"!==Ni(e)||_i&&"object"==typeof e&&_i in e)}(t))return Fi(ni.call(t));if(function(e){return!("[object String]"!==Ni(e)||_i&&"object"==typeof e&&_i in e)}(t))return Fi(p(String(t)));if(!function(e){return!("[object Date]"!==Ni(e)||_i&&"object"==typeof e&&_i in e)}(t)&&!Ii(t)){var S=Hi(t,p),T=wi?wi(t)===Object.prototype:t instanceof Object||t.constructor===Object,C=t instanceof Object?"":"null prototype",x=!T&&_i&&Object(t)===t&&_i in t?ai.call(Ni(t),8,-1):C?"Object":"",A=(T||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(x||C?"["+pi.call(di.call([],x||[],C||[]),": ")+"] ":"");return 0===S.length?A+"{}":d?A+"{"+Ui(S,d)+"}":A+"{ "+pi.call(S,", ")+" }"}return String(t)},Vi=$i("%TypeError%"),zi=$i("%WeakMap%",!0),Wi=$i("%Map%",!0),Ki=Gi("WeakMap.prototype.get",!0),Yi=Gi("WeakMap.prototype.set",!0),Ji=Gi("WeakMap.prototype.has",!0),Xi=Gi("Map.prototype.get",!0),Qi=Gi("Map.prototype.set",!0),Zi=Gi("Map.prototype.has",!0),er=function(e,t){for(var n,i=e;null!==(n=i.next);i=n)if(n.key===t)return i.next=n.next,n.next=e.next,e.next=n,n},tr=String.prototype.replace,nr=/%20/g,ir="RFC3986",rr={default:ir,formatters:{RFC1738:function(e){return tr.call(e,nr,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:ir},or=rr,ar=Object.prototype.hasOwnProperty,sr=Array.isArray,ur=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),lr=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},i=0;i<e.length;++i)void 0!==e[i]&&(n[i]=e[i]);return n},cr={arrayToObject:lr,assign:function(e,t){return Object.keys(t).reduce((function(e,n){return e[n]=t[n],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],i=0;i<t.length;++i)for(var r=t[i],o=r.obj[r.prop],a=Object.keys(o),s=0;s<a.length;++s){var u=a[s],l=o[u];"object"==typeof l&&null!==l&&-1===n.indexOf(l)&&(t.push({obj:o,prop:u}),n.push(l))}return function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(sr(n)){for(var i=[],r=0;r<n.length;++r)void 0!==n[r]&&i.push(n[r]);t.obj[t.prop]=i}}}(t),e},decode:function(e,t,n){var i=e.replace(/\+/g," ");if("iso-8859-1"===n)return i.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(i)}catch(e){return i}},encode:function(e,t,n,i,r){if(0===e.length)return e;var o=e;if("symbol"==typeof e?o=Symbol.prototype.toString.call(e):"string"!=typeof e&&(o=String(e)),"iso-8859-1"===n)return escape(o).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var a="",s=0;s<o.length;++s){var u=o.charCodeAt(s);45===u||46===u||95===u||126===u||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||r===or.RFC1738&&(40===u||41===u)?a+=o.charAt(s):u<128?a+=ur[u]:u<2048?a+=ur[192|u>>6]+ur[128|63&u]:u<55296||u>=57344?a+=ur[224|u>>12]+ur[128|u>>6&63]+ur[128|63&u]:(s+=1,u=65536+((1023&u)<<10|1023&o.charCodeAt(s)),a+=ur[240|u>>18]+ur[128|u>>12&63]+ur[128|u>>6&63]+ur[128|63&u])}return a},isBuffer:function(e){return!(!e||"object"!=typeof e||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(sr(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(t(e[i]));return n}return t(e)},merge:function e(t,n,i){if(!n)return t;if("object"!=typeof n){if(sr(t))t.push(n);else{if(!t||"object"!=typeof t)return[t,n];(i&&(i.plainObjects||i.allowPrototypes)||!ar.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(n);var r=t;return sr(t)&&!sr(n)&&(r=lr(t,i)),sr(t)&&sr(n)?(n.forEach((function(n,r){if(ar.call(t,r)){var o=t[r];o&&"object"==typeof o&&n&&"object"==typeof n?t[r]=e(o,n,i):t.push(n)}else t[r]=n})),t):Object.keys(n).reduce((function(t,r){var o=n[r];return ar.call(t,r)?t[r]=e(t[r],o,i):t[r]=o,t}),r)}},dr=function(){var e,t,n,i={assert:function(e){if(!i.has(e))throw new Vi("Side channel does not contain "+qi(e))},get:function(i){if(zi&&i&&("object"==typeof i||"function"==typeof i)){if(e)return Ki(e,i)}else if(Wi){if(t)return Xi(t,i)}else if(n)return function(e,t){var n=er(e,t);return n&&n.value}(n,i)},has:function(i){if(zi&&i&&("object"==typeof i||"function"==typeof i)){if(e)return Ji(e,i)}else if(Wi){if(t)return Zi(t,i)}else if(n)return function(e,t){return!!er(e,t)}(n,i);return!1},set:function(i,r){zi&&i&&("object"==typeof i||"function"==typeof i)?(e||(e=new zi),Yi(e,i,r)):Wi?(t||(t=new Wi),Qi(t,i,r)):(n||(n={key:{},next:null}),function(e,t,n){var i=er(e,t);i?i.value=n:e.next={key:t,next:e.next,value:n}}(n,i,r))}};return i},pr=cr,hr=rr,fr=Object.prototype.hasOwnProperty,mr={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},gr=Array.isArray,yr=Array.prototype.push,vr=function(e,t){yr.apply(e,gr(t)?t:[t])},_r=Date.prototype.toISOString,br=hr.default,wr={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:pr.encode,encodeValuesOnly:!1,format:br,formatter:hr.formatters[br],indices:!1,serializeDate:function(e){return _r.call(e)},skipNulls:!1,strictNullHandling:!1},Er={},Sr=function e(t,n,i,r,o,a,s,u,l,c,d,p,h,f,m,g){for(var y,v=t,_=g,b=0,w=!1;void 0!==(_=_.get(Er))&&!w;){var E=_.get(t);if(b+=1,void 0!==E){if(E===b)throw new RangeError("Cyclic object value");w=!0}void 0===_.get(Er)&&(b=0)}if("function"==typeof u?v=u(n,v):v instanceof Date?v=d(v):"comma"===i&&gr(v)&&(v=pr.maybeMap(v,(function(e){return e instanceof Date?d(e):e}))),null===v){if(o)return s&&!f?s(n,wr.encoder,m,"key",p):n;v=""}if("string"==typeof(y=v)||"number"==typeof y||"boolean"==typeof y||"symbol"==typeof y||"bigint"==typeof y||pr.isBuffer(v))return s?[h(f?n:s(n,wr.encoder,m,"key",p))+"="+h(s(v,wr.encoder,m,"value",p))]:[h(n)+"="+h(String(v))];var S,T=[];if(void 0===v)return T;if("comma"===i&&gr(v))f&&s&&(v=pr.maybeMap(v,s)),S=[{value:v.length>0?v.join(",")||null:void 0}];else if(gr(u))S=u;else{var C=Object.keys(v);S=l?C.sort(l):C}for(var x=r&&gr(v)&&1===v.length?n+"[]":n,A=0;A<S.length;++A){var k=S[A],I="object"==typeof k&&void 0!==k.value?k.value:v[k];if(!a||null!==I){var D=gr(v)?"function"==typeof i?i(x,k):x:x+(c?"."+k:"["+k+"]");g.set(t,b);var O=dr();O.set(Er,g),vr(T,e(I,D,i,r,o,a,"comma"===i&&f&&gr(v)?null:s,u,l,c,d,p,h,f,m,O))}}return T},Tr=cr,Cr=Object.prototype.hasOwnProperty,xr=Array.isArray,Ar={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Tr.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},kr=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},Ir=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},Dr=function(e,t,n,i){if(e){var r=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/g,a=n.depth>0&&/(\[[^[\]]*])/.exec(r),s=a?r.slice(0,a.index):r,u=[];if(s){if(!n.plainObjects&&Cr.call(Object.prototype,s)&&!n.allowPrototypes)return;u.push(s)}for(var l=0;n.depth>0&&null!==(a=o.exec(r))&&l<n.depth;){if(l+=1,!n.plainObjects&&Cr.call(Object.prototype,a[1].slice(1,-1))&&!n.allowPrototypes)return;u.push(a[1])}return a&&u.push("["+r.slice(a.index)+"]"),function(e,t,n,i){for(var r=i?t:Ir(t,n),o=e.length-1;o>=0;--o){var a,s=e[o];if("[]"===s&&n.parseArrays)a=[].concat(r);else{a=n.plainObjects?Object.create(null):{};var u="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,l=parseInt(u,10);n.parseArrays||""!==u?!isNaN(l)&&s!==u&&String(l)===u&&l>=0&&n.parseArrays&&l<=n.arrayLimit?(a=[])[l]=r:"__proto__"!==u&&(a[u]=r):a={0:r}}r=a}return r}(u,t,n,i)}},Or={formats:rr,parse:function(e,t){var n=function(e){if(!e)return Ar;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?Ar.charset:e.charset;return{allowDots:void 0===e.allowDots?Ar.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:Ar.allowPrototypes,allowSparse:"boolean"==typeof e.allowSparse?e.allowSparse:Ar.allowSparse,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:Ar.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:Ar.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:Ar.comma,decoder:"function"==typeof e.decoder?e.decoder:Ar.decoder,delimiter:"string"==typeof e.delimiter||Tr.isRegExp(e.delimiter)?e.delimiter:Ar.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:Ar.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:Ar.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:Ar.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:Ar.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:Ar.strictNullHandling}}(t);if(""===e||null==e)return n.plainObjects?Object.create(null):{};for(var i="string"==typeof e?function(e,t){var n,i={__proto__:null},r=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,o=t.parameterLimit===1/0?void 0:t.parameterLimit,a=r.split(t.delimiter,o),s=-1,u=t.charset;if(t.charsetSentinel)for(n=0;n<a.length;++n)0===a[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===a[n]?u="utf-8":"utf8=%26%2310003%3B"===a[n]&&(u="iso-8859-1"),s=n,n=a.length);for(n=0;n<a.length;++n)if(n!==s){var l,c,d=a[n],p=d.indexOf("]="),h=-1===p?d.indexOf("="):p+1;-1===h?(l=t.decoder(d,Ar.decoder,u,"key"),c=t.strictNullHandling?null:""):(l=t.decoder(d.slice(0,h),Ar.decoder,u,"key"),c=Tr.maybeMap(Ir(d.slice(h+1),t),(function(e){return t.decoder(e,Ar.decoder,u,"value")}))),c&&t.interpretNumericEntities&&"iso-8859-1"===u&&(c=kr(c)),d.indexOf("[]=")>-1&&(c=xr(c)?[c]:c),Cr.call(i,l)?i[l]=Tr.combine(i[l],c):i[l]=c}return i}(e,n):e,r=n.plainObjects?Object.create(null):{},o=Object.keys(i),a=0;a<o.length;++a){var s=o[a],u=Dr(s,i[s],n,"string"==typeof e);r=Tr.merge(r,u,n)}return!0===n.allowSparse?r:Tr.compact(r)},stringify:function(e,t){var n,i=e,r=function(e){if(!e)return wr;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||wr.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=hr.default;if(void 0!==e.format){if(!fr.call(hr.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=hr.formatters[n],r=wr.filter;return("function"==typeof e.filter||gr(e.filter))&&(r=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:wr.addQueryPrefix,allowDots:void 0===e.allowDots?wr.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:wr.charsetSentinel,delimiter:void 0===e.delimiter?wr.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:wr.encode,encoder:"function"==typeof e.encoder?e.encoder:wr.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:wr.encodeValuesOnly,filter:r,format:n,formatter:i,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:wr.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:wr.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:wr.strictNullHandling}}(t);"function"==typeof r.filter?i=(0,r.filter)("",i):gr(r.filter)&&(n=r.filter);var o,a=[];if("object"!=typeof i||null===i)return"";o=t&&t.arrayFormat in mr?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var s=mr[o];if(t&&"commaRoundTrip"in t&&"boolean"!=typeof t.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var u="comma"===s&&t&&t.commaRoundTrip;n||(n=Object.keys(i)),r.sort&&n.sort(r.sort);for(var l=dr(),c=0;c<n.length;++c){var d=n[c];r.skipNulls&&null===i[d]||vr(a,Sr(i[d],d,s,u,r.strictNullHandling,r.skipNulls,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,l))}var p=a.join(r.delimiter),h=!0===r.addQueryPrefix?"?":"";return r.charsetSentinel&&("iso-8859-1"===r.charset?h+="utf8=%26%2310003%3B&":h+="utf8=%E2%9C%93&"),p.length>0?h+p:""}},Pr={};!function(e){function t(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=function(e,t){if(e){if("string"==typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==i.return||i.return()}finally{if(u)throw a}}}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}e.type=e=>e.split(/ *; */).shift(),e.params=e=>{const n={};var i,r=t(e.split(/ *; */));try{for(r.s();!(i=r.n()).done;){const e=i.value.split(/ *= */),t=e.shift(),r=e.shift();t&&r&&(n[t]=r)}}catch(e){r.e(e)}finally{r.f()}return n},e.parseLinks=e=>{const n={};var i,r=t(e.split(/ *, */));try{for(r.s();!(i=r.n()).done;){const e=i.value.split(/ *; */),t=e[0].slice(1,-1);n[e[1].split(/ *= */)[1].slice(1,-1)]=t}}catch(e){r.e(e)}finally{r.f()}return n},e.cleanHeader=(e,t)=>(delete e["content-type"],delete e["content-length"],delete e["transfer-encoding"],delete e.host,t&&(delete e.authorization,delete e.cookie),e),e.isObject=e=>null!==e&&"object"==typeof e,e.hasOwn=Object.hasOwn||function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(new Object(e),t)},e.mixin=(t,n)=>{for(const i in n)e.hasOwn(n,i)&&(t[i]=n[i])}}(Pr);const Nr=qn,Rr=Pr.isObject,Lr=Pr.hasOwn;var Mr=Fr;function Fr(){}Fr.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),clearTimeout(this._uploadTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,delete this._uploadTimeoutTimer,this},Fr.prototype.parse=function(e){return this._parser=e,this},Fr.prototype.responseType=function(e){return this._responseType=e,this},Fr.prototype.serialize=function(e){return this._serializer=e,this},Fr.prototype.timeout=function(e){if(!e||"object"!=typeof e)return this._timeout=e,this._responseTimeout=0,this._uploadTimeout=0,this;for(const t in e)if(Lr(e,t))switch(t){case"deadline":this._timeout=e.deadline;break;case"response":this._responseTimeout=e.response;break;case"upload":this._uploadTimeout=e.upload;break;default:console.warn("Unknown timeout option",t)}return this},Fr.prototype.retry=function(e,t){return 0!==arguments.length&&!0!==e||(e=1),e<=0&&(e=0),this._maxRetries=e,this._retries=0,this._retryCallback=t,this};const jr=new Set(["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"]),Br=new Set([408,413,429,500,502,503,504,521,522,524]);Fr.prototype._shouldRetry=function(e,t){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{const n=this._retryCallback(e,t);if(!0===n)return!0;if(!1===n)return!1}catch(e){console.error(e)}if(t&&t.status&&Br.has(t.status))return!0;if(e){if(e.code&&jr.has(e.code))return!0;if(e.timeout&&"ECONNABORTED"===e.code)return!0;if(e.crossDomain)return!0}return!1},Fr.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this.timedoutError=null,this._end()},Fr.prototype.then=function(e,t){if(!this._fullfilledPromise){const e=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise(((t,n)=>{e.on("abort",(()=>{if(this._maxRetries&&this._maxRetries>this._retries)return;if(this.timedout&&this.timedoutError)return void n(this.timedoutError);const e=new Error("Aborted");e.code="ABORTED",e.status=this.status,e.method=this.method,e.url=this.url,n(e)})),e.end(((e,i)=>{e?n(e):t(i)}))}))}return this._fullfilledPromise.then(e,t)},Fr.prototype.catch=function(e){return this.then(void 0,e)},Fr.prototype.use=function(e){return e(this),this},Fr.prototype.ok=function(e){if("function"!=typeof e)throw new Error("Callback required");return this._okCallback=e,this},Fr.prototype._isResponseOK=function(e){return!!e&&(this._okCallback?this._okCallback(e):e.status>=200&&e.status<300)},Fr.prototype.get=function(e){return this._header[e.toLowerCase()]},Fr.prototype.getHeader=Fr.prototype.get,Fr.prototype.set=function(e,t){if(Rr(e)){for(const t in e)Lr(e,t)&&this.set(t,e[t]);return this}return this._header[e.toLowerCase()]=t,this.header[e]=t,this},Fr.prototype.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this},Fr.prototype.field=function(e,t,n){if(null==e)throw new Error(".field(name, val) name can not be empty");if(this._data)throw new Error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()");if(Rr(e)){for(const t in e)Lr(e,t)&&this.field(t,e[t]);return this}if(Array.isArray(t)){for(const n in t)Lr(t,n)&&this.field(e,t[n]);return this}if(null==t)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof t&&(t=String(t)),n?this._getFormData().append(e,t,n):this._getFormData().append(e,t),this},Fr.prototype.abort=function(){if(this._aborted)return this;if(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req){if(Nr.gte(e.version,"v13.0.0")&&Nr.lt(e.version,"v14.0.0"))throw new Error("Superagent does not work in v13 properly with abort() due to Node.js core changes");this.req.abort()}return this.clearTimeout(),this.emit("abort"),this},Fr.prototype._auth=function(e,t,n,i){switch(n.type){case"basic":this.set("Authorization",`Basic ${i(`${e}:${t}`)}`);break;case"auto":this.username=e,this.password=t;break;case"bearer":this.set("Authorization",`Bearer ${e}`)}return this},Fr.prototype.withCredentials=function(e){return void 0===e&&(e=!0),this._withCredentials=e,this},Fr.prototype.redirects=function(e){return this._maxRedirects=e,this},Fr.prototype.maxResponseSize=function(e){if("number"!=typeof e)throw new TypeError("Invalid argument");return this._maxResponseSize=e,this},Fr.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},Fr.prototype.send=function(e){const t=Rr(e);let n=this._header["content-type"];if(this._formData)throw new Error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()");if(t&&!this._data)Array.isArray(e)?this._data=[]:this._isHost(e)||(this._data={});else if(e&&this._data&&this._isHost(this._data))throw new Error("Can't merge these send calls");if(t&&Rr(this._data))for(const t in e){if("bigint"==typeof e[t]&&!e[t].toJSON)throw new Error("Cannot serialize BigInt value to json");Lr(e,t)&&(this._data[t]=e[t])}else{if("bigint"==typeof e)throw new Error("Cannot send value of type BigInt");"string"==typeof e?(n||this.type("form"),n=this._header["content-type"],n&&(n=n.toLowerCase().trim()),this._data="application/x-www-form-urlencoded"===n?this._data?`${this._data}&${e}`:e:(this._data||"")+e):this._data=e}return!t||this._isHost(e)||n||this.type("json"),this},Fr.prototype.sortQuery=function(e){return this._sort=void 0===e||e,this},Fr.prototype._finalizeQueryString=function(){const e=this._query.join("&");if(e&&(this.url+=(this.url.includes("?")?"&":"?")+e),this._query.length=0,this._sort){const e=this.url.indexOf("?");if(e>=0){const t=this.url.slice(e+1).split("&");"function"==typeof this._sort?t.sort(this._sort):t.sort(),this.url=this.url.slice(0,e)+"?"+t.join("&")}}},Fr.prototype._appendQueryString=()=>{console.warn("Unsupported")},Fr.prototype._timeoutError=function(e,t,n){if(this._aborted)return;const i=new Error(`${e+t}ms exceeded`);i.timeout=t,i.code="ECONNABORTED",i.errno=n,this.timedout=!0,this.timedoutError=i,this.abort(),this.callback(i)},Fr.prototype._setTimeouts=function(){const e=this;this._timeout&&!this._timer&&(this._timer=setTimeout((()=>{e._timeoutError("Timeout of ",e._timeout,"ETIME")}),this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout((()=>{e._timeoutError("Response timeout of ",e._responseTimeout,"ETIMEDOUT")}),this._responseTimeout))};const Ur=Pr;var Hr=$r;function $r(){}function Gr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function qr(){this._defaults=[]}$r.prototype.get=function(e){return this.header[e.toLowerCase()]},$r.prototype._setHeaderProperties=function(e){const t=e["content-type"]||"";this.type=Ur.type(t);const n=Ur.params(t);for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&(this[e]=n[e]);this.links={};try{e.link&&(this.links=Ur.parseLinks(e.link))}catch(e){}},$r.prototype._setStatusProperties=function(e){const t=Math.trunc(e/100);this.statusCode=e,this.status=this.statusCode,this.statusType=t,this.info=1===t,this.ok=2===t,this.redirect=3===t,this.clientError=4===t,this.serverError=5===t,this.error=(4===t||5===t)&&this.toError(),this.created=201===e,this.accepted=202===e,this.noContent=204===e,this.badRequest=400===e,this.unauthorized=401===e,this.notAcceptable=406===e,this.forbidden=403===e,this.notFound=404===e,this.unprocessableEntity=422===e};for(var Vr=0,zr=["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert","disableTLSCerts"];Vr<zr.length;Vr++){const e=zr[Vr];qr.prototype[e]=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return this._defaults.push({fn:e,args:n}),this}}qr.prototype._setDefaults=function(e){var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Gr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gr(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(this._defaults);try{for(n.s();!(t=n.n()).done;){const n=t.value;e[n.fn](...n.args)}}catch(e){n.e(e)}finally{n.f()}};var Wr=qr;!function(e,t){function n(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}let r;"undefined"!=typeof window?r=window:"undefined"==typeof self?(console.warn("Using browser-only version of superagent in non-browser environment"),r=void 0):r=self;const o=zt.exports,a=Wt,s=Or,u=Mr,l=Pr.isObject,c=Pr.mixin,d=Pr.hasOwn,p=Hr,h=Wr;function f(){}e.exports=function(e,n){return"function"==typeof n?new t.Request("GET",e).end(n):1===arguments.length?new t.Request("GET",e):new t.Request(e,n)};const m=t=e.exports;t.Request=E,m.getXHR=()=>{if(r.XMLHttpRequest)return new r.XMLHttpRequest;throw new Error("Browser-only version of superagent could not find XHR")};const g="".trim?e=>e.trim():e=>e.replace(/(^\s*|\s*$)/g,"");function y(e){if(!l(e))return e;const t=[];for(const n in e)d(e,n)&&v(t,n,e[n]);return t.join("&")}function v(e,t,i){if(void 0!==i)if(null!==i)if(Array.isArray(i)){var r,o=n(i);try{for(o.s();!(r=o.n()).done;)v(e,t,r.value)}catch(e){o.e(e)}finally{o.f()}}else if(l(i))for(const n in i)d(i,n)&&v(e,`${t}[${n}]`,i[n]);else e.push(encodeURI(t)+"="+encodeURIComponent(i));else e.push(encodeURI(t))}function _(e){const t={},n=e.split("&");let i,r;for(let e=0,o=n.length;e<o;++e)i=n[e],r=i.indexOf("="),-1===r?t[decodeURIComponent(i)]="":t[decodeURIComponent(i.slice(0,r))]=decodeURIComponent(i.slice(r+1));return t}function b(e){return/[/+]json($|[^-\w])/i.test(e)}function w(e){this.req=e,this.xhr=this.req.xhr,this.text="HEAD"!==this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;let t=this.xhr.status;1223===t&&(t=204),this._setStatusProperties(t),this.headers=function(e){const t=e.split(/\r?\n/),n={};let i,r,o,a;for(let e=0,s=t.length;e<s;++e)r=t[e],i=r.indexOf(":"),-1!==i&&(o=r.slice(0,i).toLowerCase(),a=g(r.slice(i+1)),n[o]=a);return n}(this.xhr.getAllResponseHeaders()),this.header=this.headers,this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&e._responseType?this.body=this.xhr.response:this.body="HEAD"===this.req.method?null:this._parseBody(this.text?this.text:this.xhr.response)}function E(e,t){const n=this;this._query=this._query||[],this.method=e,this.url=t,this.header={},this._header={},this.on("end",(()=>{let e,t=null,i=null;try{i=new w(n)}catch(e){return t=new Error("Parser is unable to parse the response"),t.parse=!0,t.original=e,n.xhr?(t.rawResponse=void 0===n.xhr.responseType?n.xhr.responseText:n.xhr.response,t.status=n.xhr.status?n.xhr.status:null,t.statusCode=t.status):(t.rawResponse=null,t.status=null),n.callback(t)}n.emit("response",i);try{n._isResponseOK(i)||(e=new Error(i.statusText||i.text||"Unsuccessful HTTP response"))}catch(t){e=t}e?(e.original=t,e.response=i,e.status=e.status||i.status,n.callback(e,i)):n.callback(null,i)}))}m.serializeObject=y,m.parseString=_,m.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},m.serialize={"application/x-www-form-urlencoded":s.stringify,"application/json":a},m.parse={"application/x-www-form-urlencoded":_,"application/json":JSON.parse},c(w.prototype,p.prototype),w.prototype._parseBody=function(e){let t=m.parse[this.type];return this.req._parser?this.req._parser(this,e):(!t&&b(this.type)&&(t=m.parse["application/json"]),t&&e&&(e.length>0||e instanceof Object)?t(e):null)},w.prototype.toError=function(){const e=this.req,t=e.method,n=e.url,i=`cannot ${t} ${n} (${this.status})`,r=new Error(i);return r.status=this.status,r.method=t,r.url=n,r},m.Response=w,o(E.prototype),c(E.prototype,u.prototype),E.prototype.type=function(e){return this.set("Content-Type",m.types[e]||e),this},E.prototype.accept=function(e){return this.set("Accept",m.types[e]||e),this},E.prototype.auth=function(e,t,n){1===arguments.length&&(t=""),"object"==typeof t&&null!==t&&(n=t,t=""),n||(n={type:"function"==typeof btoa?"basic":"auto"});const i=n.encoder?n.encoder:e=>{if("function"==typeof btoa)return btoa(e);throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(e,t,n,i)},E.prototype.query=function(e){return"string"!=typeof e&&(e=y(e)),e&&this._query.push(e),this},E.prototype.attach=function(e,t,n){if(t){if(this._data)throw new Error("superagent can't mix .send() and .attach()");this._getFormData().append(e,t,n||t.name)}return this},E.prototype._getFormData=function(){return this._formData||(this._formData=new r.FormData),this._formData},E.prototype.callback=function(e,t){if(this._shouldRetry(e,t))return this._retry();const n=this._callback;this.clearTimeout(),e&&(this._maxRetries&&(e.retries=this._retries-1),this.emit("error",e)),n(e,t)},E.prototype.crossDomainError=function(){const e=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");e.crossDomain=!0,e.status=this.status,e.method=this.method,e.url=this.url,this.callback(e)},E.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},E.prototype.ca=E.prototype.agent,E.prototype.buffer=E.prototype.ca,E.prototype.write=()=>{throw new Error("Streaming is not supported in browser version of superagent")},E.prototype.pipe=E.prototype.write,E.prototype._isHost=function(e){return e&&"object"==typeof e&&!Array.isArray(e)&&"[object Object]"!==Object.prototype.toString.call(e)},E.prototype.end=function(e){this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=e||f,this._finalizeQueryString(),this._end()},E.prototype._setUploadTimeout=function(){const e=this;this._uploadTimeout&&!this._uploadTimeoutTimer&&(this._uploadTimeoutTimer=setTimeout((()=>{e._timeoutError("Upload timeout of ",e._uploadTimeout,"ETIMEDOUT")}),this._uploadTimeout))},E.prototype._end=function(){if(this._aborted)return this.callback(new Error("The request has been aborted even before .end() was called"));const e=this;this.xhr=m.getXHR();const t=this.xhr;let n=this._formData||this._data;this._setTimeouts(),t.addEventListener("readystatechange",(()=>{const n=t.readyState;if(n>=2&&e._responseTimeoutTimer&&clearTimeout(e._responseTimeoutTimer),4!==n)return;let i;try{i=t.status}catch(e){i=0}if(!i){if(e.timedout||e._aborted)return;return e.crossDomainError()}e.emit("end")}));const i=(t,n)=>{n.total>0&&(n.percent=n.loaded/n.total*100,100===n.percent&&clearTimeout(e._uploadTimeoutTimer)),n.direction=t,e.emit("progress",n)};if(this.hasListeners("progress"))try{t.addEventListener("progress",i.bind(null,"download")),t.upload&&t.upload.addEventListener("progress",i.bind(null,"upload"))}catch(e){}t.upload&&this._setUploadTimeout();try{this.username&&this.password?t.open(this.method,this.url,!0,this.username,this.password):t.open(this.method,this.url,!0)}catch(e){return this.callback(e)}if(this._withCredentials&&(t.withCredentials=!0),!this._formData&&"GET"!==this.method&&"HEAD"!==this.method&&"string"!=typeof n&&!this._isHost(n)){const e=this._header["content-type"];let t=this._serializer||m.serialize[e?e.split(";")[0]:""];!t&&b(e)&&(t=m.serialize["application/json"]),t&&(n=t(n))}for(const e in this.header)null!==this.header[e]&&d(this.header,e)&&t.setRequestHeader(e,this.header[e]);this._responseType&&(t.responseType=this._responseType),this.emit("request",this),t.send(void 0===n?null:n)},m.agent=()=>new h;for(var S=0,T=["GET","POST","OPTIONS","PATCH","PUT","DELETE"];S<T.length;S++){const e=T[S];h.prototype[e.toLowerCase()]=function(t,n){const i=new m.Request(e,t);return this._setDefaults(i),n&&i.end(n),i}}function C(e,t,n){const i=m("DELETE",e);return"function"==typeof t&&(n=t,t=null),t&&i.send(t),n&&i.end(n),i}h.prototype.del=h.prototype.delete,m.get=(e,t,n)=>{const i=m("GET",e);return"function"==typeof t&&(n=t,t=null),t&&i.query(t),n&&i.end(n),i},m.head=(e,t,n)=>{const i=m("HEAD",e);return"function"==typeof t&&(n=t,t=null),t&&i.query(t),n&&i.end(n),i},m.options=(e,t,n)=>{const i=m("OPTIONS",e);return"function"==typeof t&&(n=t,t=null),t&&i.send(t),n&&i.end(n),i},m.del=C,m.delete=C,m.patch=(e,t,n)=>{const i=m("PATCH",e);return"function"==typeof t&&(n=t,t=null),t&&i.send(t),n&&i.end(n),i},m.post=(e,t,n)=>{const i=m("POST",e);return"function"==typeof t&&(n=t,t=null),t&&i.send(t),n&&i.end(n),i},m.put=(e,t,n)=>{const i=m("PUT",e);return"function"==typeof t&&(n=t,t=null),t&&i.send(t),n&&i.end(n),i}}(Vt,Vt.exports);var Kr=Vt.exports;function Yr(e){var t=(new Date).getTime(),n=(new Date).toISOString(),i=console&&console.log?console:window&&window.console&&window.console.log?window.console:console;i.log("<<<<<"),i.log("[".concat(n,"]"),"\n",e.url,"\n",e.qs),i.log("-----"),e.on("response",(function(n){var r=(new Date).getTime()-t,o=(new Date).toISOString();i.log(">>>>>>"),i.log("[".concat(o," / ").concat(r,"]"),"\n",e.url,"\n",e.qs,"\n",n.text),i.log("-----")}))}function Jr(e,t,n){var i=this;this._config.logVerbosity&&(e=e.use(Yr)),this._config.proxy&&this._modules.proxy&&(e=this._modules.proxy.call(this,e)),this._config.keepAlive&&this._modules.keepAlive&&(e=this._modules.keepAlive(e));var r=e;if(t.abortSignal)var o=t.abortSignal.subscribe((function(){r.abort(),o()}));return!0===t.forceBuffered?r="undefined"==typeof Blob?r.buffer().responseType("arraybuffer"):r.responseType("arraybuffer"):!1===t.forceBuffered&&(r=r.buffer(!1)),(r=r.timeout(t.timeout)).on("abort",(function(){return n({category:N.PNUnknownCategory,error:!0,operation:t.operation,errorData:new Error("Aborted")},null)})),r.end((function(e,r){var o,a={};if(a.error=null!==e,a.operation=t.operation,r&&r.status&&(a.statusCode=r.status),e){if(e.response&&e.response.text&&!i._config.logVerbosity)try{a.errorData=JSON.parse(e.response.text)}catch(t){a.errorData=e}else a.errorData=e;return a.category=i._detectErrorCategory(e),n(a,null)}if(t.ignoreBody)o={headers:r.headers,redirects:r.redirects,response:r};else try{o=JSON.parse(r.text)}catch(e){return a.errorData=r,a.error=!0,n(a,null)}return o.error&&1===o.error&&o.status&&o.message&&o.service?(a.errorData=o,a.statusCode=o.status,a.error=!0,a.category=i._detectErrorCategory(a),n(a,null)):(o.error&&o.error.message&&(a.errorData=o.error),n(a,o))})),r}function Xr(e,t,n){return a(this,void 0,void 0,(function(){var i;return s(this,(function(r){switch(r.label){case 0:return i=Kr.post(e),t.forEach((function(e){var t=e.key,n=e.value;i=i.field(t,n)})),i.attach("file",n,{contentType:"application/octet-stream"}),[4,i];case 1:return[2,r.sent()]}}))}))}function Qr(e,t,n){var i=Kr.get(this.getStandardOrigin()+t.url).set(t.headers).query(e);return Jr.call(this,i,t,n)}function Zr(e,t,n){var i=Kr.get(this.getStandardOrigin()+t.url).set(t.headers).query(e);return Jr.call(this,i,t,n)}function eo(e,t,n,i){var r=Kr.post(this.getStandardOrigin()+n.url).query(e).set(n.headers).send(t);return Jr.call(this,r,n,i)}function to(e,t,n,i){var r=Kr.patch(this.getStandardOrigin()+n.url).query(e).set(n.headers).send(t);return Jr.call(this,r,n,i)}function no(e,t,n){var i=Kr.delete(this.getStandardOrigin()+t.url).set(t.headers).query(e);return Jr.call(this,i,t,n)}function io(e,t){var n=new Uint8Array(e.byteLength+t.byteLength);return n.set(new Uint8Array(e),0),n.set(new Uint8Array(t),e.byteLength),n.buffer}var ro,oo=function(){function e(){}return Object.defineProperty(e.prototype,"algo",{get:function(){return"aes-256-cbc"},enumerable:!1,configurable:!0}),e.prototype.encrypt=function(e,t){return a(this,void 0,void 0,(function(){var n;return s(this,(function(i){switch(i.label){case 0:return[4,this.getKey(e)];case 1:if(n=i.sent(),t instanceof ArrayBuffer)return[2,this.encryptArrayBuffer(n,t)];if("string"==typeof t)return[2,this.encryptString(n,t)];throw new Error("Cannot encrypt this file. In browsers file encryption supports only string or ArrayBuffer")}}))}))},e.prototype.decrypt=function(e,t){return a(this,void 0,void 0,(function(){var n;return s(this,(function(i){switch(i.label){case 0:return[4,this.getKey(e)];case 1:if(n=i.sent(),t instanceof ArrayBuffer)return[2,this.decryptArrayBuffer(n,t)];if("string"==typeof t)return[2,this.decryptString(n,t)];throw new Error("Cannot decrypt this file. In browsers file decryption supports only string or ArrayBuffer")}}))}))},e.prototype.encryptFile=function(e,t,n){return a(this,void 0,void 0,(function(){var i,r,o;return s(this,(function(a){switch(a.label){case 0:if(t.data.byteLength<=0)throw new Error("encryption error. empty content");return[4,this.getKey(e)];case 1:return i=a.sent(),[4,t.data.arrayBuffer()];case 2:return r=a.sent(),[4,this.encryptArrayBuffer(i,r)];case 3:return o=a.sent(),[2,n.create({name:t.name,mimeType:"application/octet-stream",data:o})]}}))}))},e.prototype.decryptFile=function(e,t,n){return a(this,void 0,void 0,(function(){var i,r,o;return s(this,(function(a){switch(a.label){case 0:return[4,this.getKey(e)];case 1:return i=a.sent(),[4,t.data.arrayBuffer()];case 2:return r=a.sent(),[4,this.decryptArrayBuffer(i,r)];case 3:return o=a.sent(),[2,n.create({name:t.name,data:o})]}}))}))},e.prototype.getKey=function(t){return a(this,void 0,void 0,(function(){var n,i,r;return s(this,(function(o){switch(o.label){case 0:return[4,crypto.subtle.digest("SHA-256",e.encoder.encode(t))];case 1:return n=o.sent(),i=Array.from(new Uint8Array(n)).map((function(e){return e.toString(16).padStart(2,"0")})).join(""),r=e.encoder.encode(i.slice(0,32)).buffer,[2,crypto.subtle.importKey("raw",r,"AES-CBC",!0,["encrypt","decrypt"])]}}))}))},e.prototype.encryptArrayBuffer=function(e,t){return a(this,void 0,void 0,(function(){var n,i,r;return s(this,(function(o){switch(o.label){case 0:return n=crypto.getRandomValues(new Uint8Array(16)),i=io,r=[n.buffer],[4,crypto.subtle.encrypt({name:"AES-CBC",iv:n},e,t)];case 1:return[2,i.apply(void 0,r.concat([o.sent()]))]}}))}))},e.prototype.decryptArrayBuffer=function(t,n){return a(this,void 0,void 0,(function(){var i;return s(this,(function(r){switch(r.label){case 0:if(i=n.slice(0,16),n.slice(e.IV_LENGTH).byteLength<=0)throw new Error("decryption error: empty content");return[4,crypto.subtle.decrypt({name:"AES-CBC",iv:i},t,n.slice(e.IV_LENGTH))];case 1:return[2,r.sent()]}}))}))},e.prototype.encryptString=function(t,n){return a(this,void 0,void 0,(function(){var i,r,o,a;return s(this,(function(s){switch(s.label){case 0:return i=crypto.getRandomValues(new Uint8Array(16)),r=e.encoder.encode(n).buffer,[4,crypto.subtle.encrypt({name:"AES-CBC",iv:i},t,r)];case 1:return o=s.sent(),a=io(i.buffer,o),[2,e.decoder.decode(a)]}}))}))},e.prototype.decryptString=function(t,n){return a(this,void 0,void 0,(function(){var i,r,o,a;return s(this,(function(s){switch(s.label){case 0:return i=e.encoder.encode(n).buffer,r=i.slice(0,16),o=i.slice(16),[4,crypto.subtle.decrypt({name:"AES-CBC",iv:r},t,o)];case 1:return a=s.sent(),[2,e.decoder.decode(a)]}}))}))},e.IV_LENGTH=16,e.encoder=new TextEncoder,e.decoder=new TextDecoder,e}(),ao=(ro=function(){function e(e){if(e instanceof File)this.data=e,this.name=this.data.name,this.mimeType=this.data.type;else if(e.data){var t=e.data;this.data=new File([t],e.name,{type:e.mimeType}),this.name=e.name,e.mimeType&&(this.mimeType=e.mimeType)}if(void 0===this.data)throw new Error("Couldn't construct a file out of supplied options.");if(void 0===this.name)throw new Error("Couldn't guess filename out of the options. Please provide one.")}return e.create=function(e){return new this(e)},e.prototype.toBuffer=function(){return a(this,void 0,void 0,(function(){return s(this,(function(e){throw new Error("This feature is only supported in Node.js environments.")}))}))},e.prototype.toStream=function(){return a(this,void 0,void 0,(function(){return s(this,(function(e){throw new Error("This feature is only supported in Node.js environments.")}))}))},e.prototype.toFileUri=function(){return a(this,void 0,void 0,(function(){return s(this,(function(e){throw new Error("This feature is only supported in react native environments.")}))}))},e.prototype.toBlob=function(){return a(this,void 0,void 0,(function(){return s(this,(function(e){return[2,this.data]}))}))},e.prototype.toArrayBuffer=function(){return a(this,void 0,void 0,(function(){var e=this;return s(this,(function(t){return[2,new Promise((function(t,n){var i=new FileReader;i.addEventListener("load",(function(){if(i.result instanceof ArrayBuffer)return t(i.result)})),i.addEventListener("error",(function(){n(i.error)})),i.readAsArrayBuffer(e.data)}))]}))}))},e.prototype.toString=function(){return a(this,void 0,void 0,(function(){var e=this;return s(this,(function(t){return[2,new Promise((function(t,n){var i=new FileReader;i.addEventListener("load",(function(){if("string"==typeof i.result)return t(i.result)})),i.addEventListener("error",(function(){n(i.error)})),i.readAsBinaryString(e.data)}))]}))}))},e.prototype.toFile=function(){return a(this,void 0,void 0,(function(){return s(this,(function(e){return[2,this.data]}))}))},e}(),ro.supportsFile="undefined"!=typeof File,ro.supportsBlob="undefined"!=typeof Blob,ro.supportsArrayBuffer="undefined"!=typeof ArrayBuffer,ro.supportsBuffer=!1,ro.supportsStream=!1,ro.supportsString=!0,ro.supportsEncryptFile=!0,ro.supportsFileUri=!1,ro),so=function(){function e(e){this.config=e,this.cryptor=new k({config:e}),this.fileCryptor=new oo}return Object.defineProperty(e.prototype,"identifier",{get:function(){return""},enumerable:!1,configurable:!0}),e.prototype.encrypt=function(e){var t="string"==typeof e?e:(new TextDecoder).decode(e);return{data:this.cryptor.encrypt(t),metadata:null}},e.prototype.decrypt=function(e){var t="string"==typeof e.data?e.data:_(e.data);return this.cryptor.decrypt(t)},e.prototype.encryptFile=function(e,t){var n;return a(this,void 0,void 0,(function(){return s(this,(function(i){return[2,this.fileCryptor.encryptFile(null===(n=this.config)||void 0===n?void 0:n.cipherKey,e,t)]}))}))},e.prototype.decryptFile=function(e,t){return a(this,void 0,void 0,(function(){return s(this,(function(n){return[2,this.fileCryptor.decryptFile(this.config.cipherKey,e,t)]}))}))},e}(),uo=function(){function e(e){this.cipherKey=e.cipherKey,this.CryptoJS=x,this.encryptedKey=this.CryptoJS.SHA256(this.cipherKey)}return Object.defineProperty(e.prototype,"algo",{get:function(){return"AES-CBC"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"identifier",{get:function(){return"ACRH"},enumerable:!1,configurable:!0}),e.prototype.getIv=function(){return crypto.getRandomValues(new Uint8Array(e.BLOCK_SIZE))},e.prototype.getKey=function(){return a(this,void 0,void 0,(function(){var t,n;return s(this,(function(i){switch(i.label){case 0:return t=e.encoder.encode(this.cipherKey),[4,crypto.subtle.digest("SHA-256",t.buffer)];case 1:return n=i.sent(),[2,crypto.subtle.importKey("raw",n,this.algo,!0,["encrypt","decrypt"])]}}))}))},e.prototype.encrypt=function(t){if(0===("string"==typeof t?t:e.decoder.decode(t)).length)throw new Error("encryption error. empty content");var n=this.getIv();return{metadata:n,data:v(this.CryptoJS.AES.encrypt(t,this.encryptedKey,{iv:this.bufferToWordArray(n),mode:this.CryptoJS.mode.CBC}).ciphertext.toString(this.CryptoJS.enc.Base64))}},e.prototype.decrypt=function(t){var n=this.bufferToWordArray(new Uint8ClampedArray(t.metadata)),i=this.bufferToWordArray(new Uint8ClampedArray(t.data));return e.encoder.encode(this.CryptoJS.AES.decrypt({ciphertext:i},this.encryptedKey,{iv:n,mode:this.CryptoJS.mode.CBC}).toString(this.CryptoJS.enc.Utf8)).buffer},e.prototype.encryptFileData=function(e){return a(this,void 0,void 0,(function(){var t,n,i;return s(this,(function(r){switch(r.label){case 0:return[4,this.getKey()];case 1:return t=r.sent(),n=this.getIv(),i={},[4,crypto.subtle.encrypt({name:this.algo,iv:n},t,e)];case 2:return[2,(i.data=r.sent(),i.metadata=n,i)]}}))}))},e.prototype.decryptFileData=function(e){return a(this,void 0,void 0,(function(){var t;return s(this,(function(n){switch(n.label){case 0:return[4,this.getKey()];case 1:return t=n.sent(),[2,crypto.subtle.decrypt({name:this.algo,iv:e.metadata},t,e.data)]}}))}))},e.prototype.bufferToWordArray=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n[t/4|0]|=e[t]<<24-8*t;return this.CryptoJS.lib.WordArray.create(n,e.length)},e.BLOCK_SIZE=16,e.encoder=new TextEncoder,e.decoder=new TextDecoder,e}(),lo=function(){function e(e){var t;this.defaultCryptor=e.default,this.cryptors=null!==(t=e.cryptors)&&void 0!==t?t:[]}return e.legacyCryptoModule=function(e){var t;return new this({default:new so({cipherKey:e.cipherKey,useRandomIVs:null===(t=e.useRandomIVs)||void 0===t||t}),cryptors:[new uo({cipherKey:e.cipherKey})]})},e.aesCbcCryptoModule=function(e){var t;return new this({default:new uo({cipherKey:e.cipherKey}),cryptors:[new so({cipherKey:e.cipherKey,useRandomIVs:null===(t=e.useRandomIVs)||void 0===t||t})]})},e.withDefaultCryptor=function(e){return new this({default:e})},e.prototype.getAllCryptors=function(){return c([this.defaultCryptor],l(this.cryptors),!1)},e.prototype.encrypt=function(e){var t=this.defaultCryptor.encrypt(e);if(!t.metadata)return t.data;var n=this.getHeaderData(t);return this.concatArrayBuffer(n,t.data)},e.prototype.decrypt=function(e){var t="string"==typeof e?v(e):e,n=co.tryParse(t),i=this.getCryptor(n),r=n.length>0?t.slice(n.length-n.metadataLength,n.length):null;if(t.slice(n.length).byteLength<=0)throw new Error("decryption error. empty content");return i.decrypt({data:t.slice(n.length),metadata:r})},e.prototype.encryptFile=function(e,t){return a(this,void 0,void 0,(function(){var n,i;return s(this,(function(r){switch(r.label){case 0:return this.defaultCryptor.identifier===co.LEGACY_IDENTIFIER?[2,this.defaultCryptor.encryptFile(e,t)]:[4,this.getFileData(e.data)];case 1:return n=r.sent(),[4,this.defaultCryptor.encryptFileData(n)];case 2:return i=r.sent(),[2,t.create({name:e.name,mimeType:"application/octet-stream",data:this.concatArrayBuffer(this.getHeaderData(i),i.data)})]}}))}))},e.prototype.decryptFile=function(t,n){return a(this,void 0,void 0,(function(){var i,r,o,a,u,l,c,d;return s(this,(function(s){switch(s.label){case 0:return[4,t.data.arrayBuffer()];case 1:return i=s.sent(),r=co.tryParse(i),(null==(o=this.getCryptor(r))?void 0:o.identifier)===e.LEGACY_IDENTIFIER?[2,o.decryptFile(t,n)]:[4,this.getFileData(i)];case 2:return a=s.sent(),u=a.slice(r.length-r.metadataLength,r.length),c=(l=n).create,d={name:t.name},[4,this.defaultCryptor.decryptFileData({data:i.slice(r.length),metadata:u})];case 3:return[2,c.apply(l,[(d.data=s.sent(),d)])]}}))}))},e.prototype.getCryptor=function(e){if(""===e){var t=this.getAllCryptors().find((function(e){return""===e.identifier}));if(t)return t;throw new Error("unknown cryptor error")}if(e instanceof po)return this.getCryptorFromId(e.identifier)},e.prototype.getCryptorFromId=function(e){var t=this.getAllCryptors().find((function(t){return e===t.identifier}));if(t)return t;throw Error("unknown cryptor error")},e.prototype.concatArrayBuffer=function(e,t){var n=new Uint8Array(e.byteLength+t.byteLength);return n.set(new Uint8Array(e),0),n.set(new Uint8Array(t),e.byteLength),n.buffer},e.prototype.getHeaderData=function(e){if(e.metadata){var t=co.from(this.defaultCryptor.identifier,e.metadata),n=new Uint8Array(t.length),i=0;return n.set(t.data,i),i+=t.length-e.metadata.byteLength,n.set(new Uint8Array(e.metadata),i),n.buffer}},e.prototype.getFileData=function(t){return a(this,void 0,void 0,(function(){return s(this,(function(n){switch(n.label){case 0:return t instanceof Blob?[4,t.arrayBuffer()]:[3,2];case 1:return[2,n.sent()];case 2:if(t instanceof ArrayBuffer)return[2,t];if("string"==typeof t)return[2,e.encoder.encode(t)];throw new Error("Cannot decrypt/encrypt file. In browsers file encrypt/decrypt supported for string, ArrayBuffer or Blob")}}))}))},e.LEGACY_IDENTIFIER="",e.encoder=new TextEncoder,e.decoder=new TextDecoder,e}(),co=function(){function e(){}return e.from=function(t,n){if(t!==e.LEGACY_IDENTIFIER)return new po(t,n.byteLength)},e.tryParse=function(t){var n=new Uint8Array(t),i="";if(n.byteLength>=4&&(i=n.slice(0,4),this.decoder.decode(i)!==e.SENTINEL))return"";if(!(n.byteLength>=5))throw new Error("decryption error. invalid header version");if(n[4]>e.MAX_VERSION)throw new Error("unknown cryptor error");var r,o=5+e.IDENTIFIER_LENGTH;if(!(n.byteLength>=o))throw new Error("decryption error. invalid crypto identifier");r=n.slice(5,o);var a=null;if(!(n.byteLength>=o+1))throw new Error("decryption error. invalid metadata length");return a=n[o],o+=1,255===a&&n.byteLength>=o+2&&(a=new Uint16Array(n.slice(o,o+2)).reduce((function(e,t){return(e<<8)+t}),0),o+=2),new po(this.decoder.decode(r),a)},e.SENTINEL="PNED",e.LEGACY_IDENTIFIER="",e.IDENTIFIER_LENGTH=4,e.VERSION=1,e.MAX_VERSION=1,e.decoder=new TextDecoder,e}(),po=function(){function e(e,t){this._identifier=e,this._metadataLength=t}return Object.defineProperty(e.prototype,"identifier",{get:function(){return this._identifier},set:function(e){this._identifier=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadataLength",{get:function(){return this._metadataLength},set:function(e){this._metadataLength=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return co.VERSION},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return co.SENTINEL.length+1+co.IDENTIFIER_LENGTH+(this.metadataLength<255?1:3)+this.metadataLength},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){var e=0,t=new Uint8Array(this.length),n=new TextEncoder;t.set(n.encode(co.SENTINEL)),t[e+=co.SENTINEL.length]=this.version,e++,this.identifier&&t.set(n.encode(this.identifier),e),e+=co.IDENTIFIER_LENGTH;var i=this.metadataLength;return i<255?t[e]=i:t.set([255,i>>8,255&i],e),t},enumerable:!1,configurable:!0}),e.IDENTIFIER_LENGTH=4,e.SENTINEL="PNED",e}();function ho(e){if(!navigator||!navigator.sendBeacon)return!1;navigator.sendBeacon(e)}var fo=function(e){function t(t){var n=this,i=t.listenToBrowserNetworkEvents,r=void 0===i||i;return t.sdkFamily="Web",t.networking=new $t({del:no,get:Zr,post:eo,patch:to,sendBeacon:ho,getfile:Qr,postfile:Xr}),t.cbor=new qt((function(e){return Gt(h.decode(e))}),v),t.PubNubFile=ao,t.cryptography=new oo,t.initCryptoModule=function(e){return new lo({default:new so({cipherKey:e.cipherKey,useRandomIVs:e.useRandomIVs}),cryptors:[new uo({cipherKey:e.cipherKey})]})},n=e.call(this,t)||this,r&&(window.addEventListener("offline",(function(){n.networkDownDetected()})),window.addEventListener("online",(function(){n.networkUpDetected()}))),n}return n(t,e),t.CryptoModule=lo,t}(Ht);return fo},"object"==typeof n&&void 0!==t?t.exports=o():"function"==typeof define&&define.amd?define(o):(r="undefined"!=typeof globalThis?globalThis:r||self).PubNub=o()}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:519}],521:[function(e,t,n){n.qrcode=function(){var e=function(e,t){var n=e,i=c[t],r=null,o=0,a=null,s=new Array,u={},l=function(e,t){r=function(e){for(var t=new Array(e),n=0;n<e;n+=1){t[n]=new Array(e);for(var i=0;i<e;i+=1)t[n][i]=null}return t}(o=4*n+17),d(0,0),d(o-7,0),d(0,o-7),h(),p(),m(e,t),n>=7&&f(e),null==a&&(a=y(n,i,s)),g(a,t)},d=function(e,t){for(var n=-1;n<=7;n+=1)if(!(e+n<=-1||o<=e+n))for(var i=-1;i<=7;i+=1)t+i<=-1||o<=t+i||(r[e+n][t+i]=0<=n&&n<=6&&(0==i||6==i)||0<=i&&i<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=i&&i<=4)},p=function(){for(var e=8;e<o-8;e+=1)null==r[e][6]&&(r[e][6]=e%2==0);for(var t=8;t<o-8;t+=1)null==r[6][t]&&(r[6][t]=t%2==0)},h=function(){for(var e=_.getPatternPosition(n),t=0;t<e.length;t+=1)for(var i=0;i<e.length;i+=1){var o=e[t],a=e[i];if(null==r[o][a])for(var s=-2;s<=2;s+=1)for(var u=-2;u<=2;u+=1)r[o+s][a+u]=-2==s||2==s||-2==u||2==u||0==s&&0==u}},f=function(e){for(var t=_.getBCHTypeNumber(n),i=0;i<18;i+=1){var a=!e&&1==(t>>i&1);r[Math.floor(i/3)][i%3+o-8-3]=a}for(i=0;i<18;i+=1){a=!e&&1==(t>>i&1);r[i%3+o-8-3][Math.floor(i/3)]=a}},m=function(e,t){for(var n=i<<3|t,a=_.getBCHTypeInfo(n),s=0;s<15;s+=1){var u=!e&&1==(a>>s&1);s<6?r[s][8]=u:s<8?r[s+1][8]=u:r[o-15+s][8]=u}for(s=0;s<15;s+=1){u=!e&&1==(a>>s&1);s<8?r[8][o-s-1]=u:s<9?r[8][15-s-1+1]=u:r[8][15-s-1]=u}r[o-8][8]=!e},g=function(e,t){for(var n=-1,i=o-1,a=7,s=0,u=_.getMaskFunction(t),l=o-1;l>0;l-=2)for(6==l&&(l-=1);;){for(var c=0;c<2;c+=1)if(null==r[i][l-c]){var d=!1;s<e.length&&(d=1==(e[s]>>>a&1)),u(i,l-c)&&(d=!d),r[i][l-c]=d,-1==(a-=1)&&(s+=1,a=7)}if((i+=n)<0||o<=i){i-=n,n=-n;break}}},y=function(e,t,n){for(var i=E.getRSBlocks(e,t),r=S(),o=0;o<n.length;o+=1){var a=n[o];r.put(a.getMode(),4),r.put(a.getLength(),_.getLengthInBits(a.getMode(),e)),a.write(r)}var s=0;for(o=0;o<i.length;o+=1)s+=i[o].dataCount;if(r.getLengthInBits()>8*s)throw new Error("code length overflow. ("+r.getLengthInBits()+">"+8*s+")");for(r.getLengthInBits()+4<=8*s&&r.put(0,4);r.getLengthInBits()%8!=0;)r.putBit(!1);for(;!(r.getLengthInBits()>=8*s||(r.put(236,8),r.getLengthInBits()>=8*s));)r.put(17,8);return function(e,t){for(var n=0,i=0,r=0,o=new Array(t.length),a=new Array(t.length),s=0;s<t.length;s+=1){var u=t[s].dataCount,l=t[s].totalCount-u;i=Math.max(i,u),r=Math.max(r,l),o[s]=new Array(u);for(var c=0;c<o[s].length;c+=1)o[s][c]=255&e.getBuffer()[c+n];n+=u;var d=_.getErrorCorrectPolynomial(l),p=w(o[s],d.getLength()-1).mod(d);for(a[s]=new Array(d.getLength()-1),c=0;c<a[s].length;c+=1){var h=c+p.getLength()-a[s].length;a[s][c]=h>=0?p.get(h):0}}var f=0;for(c=0;c<t.length;c+=1)f+=t[c].totalCount;var m=new Array(f),g=0;for(c=0;c<i;c+=1)for(s=0;s<t.length;s+=1)c<o[s].length&&(m[g]=o[s][c],g+=1);for(c=0;c<r;c+=1)for(s=0;s<t.length;s+=1)c<a[s].length&&(m[g]=a[s][c],g+=1);return m}(r,i)};return u.addData=function(e){var t=T(e);s.push(t),a=null},u.isDark=function(e,t){if(e<0||o<=e||t<0||o<=t)throw new Error(e+","+t);return r[e][t]},u.getModuleCount=function(){return o},u.make=function(){l(!1,function(){for(var e=0,t=0,n=0;n<8;n+=1){l(!0,n);var i=_.getLostPoint(u);(0==n||e>i)&&(e=i,t=n)}return t}())},u.createTableTag=function(e,t){e=e||2;var n="";n+='<table style="',n+=" border-width: 0px; border-style: none;",n+=" border-collapse: collapse;",n+=" padding: 0px; margin: "+(t=void 0===t?4*e:t)+"px;",n+='">',n+="<tbody>";for(var i=0;i<u.getModuleCount();i+=1){n+="<tr>";for(var r=0;r<u.getModuleCount();r+=1)n+='<td style="',n+=" border-width: 0px; border-style: none;",n+=" border-collapse: collapse;",n+=" padding: 0px; margin: 0px;",n+=" width: "+e+"px;",n+=" height: "+e+"px;",n+=" background-color: ",n+=u.isDark(i,r)?"#000000":"#ffffff",n+=";",n+='"/>';n+="</tr>"}return n+="</tbody>",n+="</table>"},u.createImgTag=function(e,t){e=e||2,t=void 0===t?4*e:t;var n=u.getModuleCount()*e+2*t,i=t,r=n-t;return k(n,n,(function(t,n){if(i<=t&&t<r&&i<=n&&n<r){var o=Math.floor((t-i)/e),a=Math.floor((n-i)/e);return u.isDark(a,o)?0:1}return 1}))},u};e.stringToBytes=function(e){for(var t=new Array,n=0;n<e.length;n+=1){var i=e.charCodeAt(n);t.push(255&i)}return t},e.createStringToBytes=function(e,t){var n=function(){for(var n=x(e),i=function(){var e=n.read();if(-1==e)throw new Error;return e},r=0,o={};;){var a=n.read();if(-1==a)break;var s=i(),u=i()<<8|i();o[String.fromCharCode(a<<8|s)]=u,r+=1}if(r!=t)throw new Error(r+" != "+t);return o}(),i="?".charCodeAt(0);return function(e){for(var t=new Array,r=0;r<e.length;r+=1){var o=e.charCodeAt(r);if(o<128)t.push(o);else{var a=n[e.charAt(r)];"number"==typeof a?(255&a)==a?t.push(a):(t.push(a>>>8),t.push(255&a)):t.push(i)}}return t}};var t,n,i,r,o,a=1,s=2,u=4,l=8,c={L:1,M:0,Q:3,H:2},d=0,p=1,h=2,f=3,m=4,g=5,y=6,v=7,_=(t=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],n=1335,i=7973,o=function(e){for(var t=0;0!=e;)t+=1,e>>>=1;return t},(r={}).getBCHTypeInfo=function(e){for(var t=e<<10;o(t)-o(n)>=0;)t^=n<<o(t)-o(n);return 21522^(e<<10|t)},r.getBCHTypeNumber=function(e){for(var t=e<<12;o(t)-o(i)>=0;)t^=i<<o(t)-o(i);return e<<12|t},r.getPatternPosition=function(e){return t[e-1]},r.getMaskFunction=function(e){switch(e){case d:return function(e,t){return(e+t)%2==0};case p:return function(e,t){return e%2==0};case h:return function(e,t){return t%3==0};case f:return function(e,t){return(e+t)%3==0};case m:return function(e,t){return(Math.floor(e/2)+Math.floor(t/3))%2==0};case g:return function(e,t){return e*t%2+e*t%3==0};case y:return function(e,t){return(e*t%2+e*t%3)%2==0};case v:return function(e,t){return(e*t%3+(e+t)%2)%2==0};default:throw new Error("bad maskPattern:"+e)}},r.getErrorCorrectPolynomial=function(e){for(var t=w([1],0),n=0;n<e;n+=1)t=t.multiply(w([1,b.gexp(n)],0));return t},r.getLengthInBits=function(e,t){if(1<=t&&t<10)switch(e){case a:return 10;case s:return 9;case u:case l:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case a:return 12;case s:return 11;case u:return 16;case l:return 10;default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t);switch(e){case a:return 14;case s:return 13;case u:return 16;case l:return 12;default:throw new Error("mode:"+e)}}},r.getLostPoint=function(e){for(var t=e.getModuleCount(),n=0,i=0;i<t;i+=1)for(var r=0;r<t;r+=1){for(var o=0,a=e.isDark(i,r),s=-1;s<=1;s+=1)if(!(i+s<0||t<=i+s))for(var u=-1;u<=1;u+=1)r+u<0||t<=r+u||0==s&&0==u||a==e.isDark(i+s,r+u)&&(o+=1);o>5&&(n+=3+o-5)}for(i=0;i<t-1;i+=1)for(r=0;r<t-1;r+=1){var l=0;e.isDark(i,r)&&(l+=1),e.isDark(i+1,r)&&(l+=1),e.isDark(i,r+1)&&(l+=1),e.isDark(i+1,r+1)&&(l+=1),0!=l&&4!=l||(n+=3)}for(i=0;i<t;i+=1)for(r=0;r<t-6;r+=1)e.isDark(i,r)&&!e.isDark(i,r+1)&&e.isDark(i,r+2)&&e.isDark(i,r+3)&&e.isDark(i,r+4)&&!e.isDark(i,r+5)&&e.isDark(i,r+6)&&(n+=40);for(r=0;r<t;r+=1)for(i=0;i<t-6;i+=1)e.isDark(i,r)&&!e.isDark(i+1,r)&&e.isDark(i+2,r)&&e.isDark(i+3,r)&&e.isDark(i+4,r)&&!e.isDark(i+5,r)&&e.isDark(i+6,r)&&(n+=40);var c=0;for(r=0;r<t;r+=1)for(i=0;i<t;i+=1)e.isDark(i,r)&&(c+=1);return n+=Math.abs(100*c/t/t-50)/5*10},r),b=function(){for(var e=new Array(256),t=new Array(256),n=0;n<8;n+=1)e[n]=1<<n;for(n=8;n<256;n+=1)e[n]=e[n-4]^e[n-5]^e[n-6]^e[n-8];for(n=0;n<255;n+=1)t[e[n]]=n;var i={glog:function(e){if(e<1)throw new Error("glog("+e+")");return t[e]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return e[t]}};return i}();function w(e,t){if(void 0===e.length)throw new Error(e.length+"/"+t);var n=function(){for(var n=0;n<e.length&&0==e[n];)n+=1;for(var i=new Array(e.length-n+t),r=0;r<e.length-n;r+=1)i[r]=e[r+n];return i}(),i={get:function(e){return n[e]},getLength:function(){return n.length},multiply:function(e){for(var t=new Array(i.getLength()+e.getLength()-1),n=0;n<i.getLength();n+=1)for(var r=0;r<e.getLength();r+=1)t[n+r]^=b.gexp(b.glog(i.get(n))+b.glog(e.get(r)));return w(t,0)},mod:function(e){if(i.getLength()-e.getLength()<0)return i;for(var t=b.glog(i.get(0))-b.glog(e.get(0)),n=new Array(i.getLength()),r=0;r<i.getLength();r+=1)n[r]=i.get(r);for(r=0;r<e.getLength();r+=1)n[r]^=b.gexp(b.glog(e.get(r))+t);return w(n,0).mod(e)}};return i}var E=function(){var e=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16]],t=function(e,t){var n={};return n.totalCount=e,n.dataCount=t,n},n={};return n.getRSBlocks=function(n,i){var r=function(t,n){switch(n){case c.L:return e[4*(t-1)+0];case c.M:return e[4*(t-1)+1];case c.Q:return e[4*(t-1)+2];case c.H:return e[4*(t-1)+3];default:return}}(n,i);if(void 0===r)throw new Error("bad rs block @ typeNumber:"+n+"/errorCorrectLevel:"+i);for(var o=r.length/3,a=new Array,s=0;s<o;s+=1)for(var u=r[3*s+0],l=r[3*s+1],d=r[3*s+2],p=0;p<u;p+=1)a.push(t(l,d));return a},n}(),S=function(){var e=new Array,t=0,n={getBuffer:function(){return e},get:function(t){var n=Math.floor(t/8);return 1==(e[n]>>>7-t%8&1)},put:function(e,t){for(var i=0;i<t;i+=1)n.putBit(1==(e>>>t-i-1&1))},getLengthInBits:function(){return t},putBit:function(n){var i=Math.floor(t/8);e.length<=i&&e.push(0),n&&(e[i]|=128>>>t%8),t+=1}};return n},T=function(t){var n=u,i=e.stringToBytes(t),r={getMode:function(){return n},getLength:function(e){return i.length},write:function(e){for(var t=0;t<i.length;t+=1)e.put(i[t],8)}};return r},C=function(){var e=new Array,t={writeByte:function(t){e.push(255&t)},writeShort:function(e){t.writeByte(e),t.writeByte(e>>>8)},writeBytes:function(e,n,i){n=n||0,i=i||e.length;for(var r=0;r<i;r+=1)t.writeByte(e[r+n])},writeString:function(e){for(var n=0;n<e.length;n+=1)t.writeByte(e.charCodeAt(n))},toByteArray:function(){return e},toString:function(){var t="";t+="[";for(var n=0;n<e.length;n+=1)n>0&&(t+=","),t+=e[n];return t+="]"}};return t},x=function(e){var t=e,n=0,i=0,r=0,o={read:function(){for(;r<8;){if(n>=t.length){if(0==r)return-1;throw new Error("unexpected end of file./"+r)}var e=t.charAt(n);if(n+=1,"="==e)return r=0,-1;e.match(/^\s$/)||(i=i<<6|a(e.charCodeAt(0)),r+=6)}var o=i>>>r-8&255;return r-=8,o}},a=function(e){if(65<=e&&e<=90)return e-65;if(97<=e&&e<=122)return e-97+26;if(48<=e&&e<=57)return e-48+52;if(43==e)return 62;if(47==e)return 63;throw new Error("c:"+e)};return o},A=function(e,t){var n=e,i=t,r=new Array(e*t),o={setPixel:function(e,t,i){r[t*n+e]=i},write:function(e){e.writeString("GIF87a"),e.writeShort(n),e.writeShort(i),e.writeByte(128),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(255),e.writeByte(255),e.writeByte(255),e.writeString(","),e.writeShort(0),e.writeShort(0),e.writeShort(n),e.writeShort(i),e.writeByte(0);var t=a(2);e.writeByte(2);for(var r=0;t.length-r>255;)e.writeByte(255),e.writeBytes(t,r,255),r+=255;e.writeByte(t.length-r),e.writeBytes(t,r,t.length-r),e.writeByte(0),e.writeString(";")}},a=function(e){for(var t=1<<e,n=1+(1<<e),i=e+1,o=s(),a=0;a<t;a+=1)o.add(String.fromCharCode(a));o.add(String.fromCharCode(t)),o.add(String.fromCharCode(n));var u,l,c,d=C(),p=(u=d,l=0,c=0,{write:function(e,t){if(e>>>t!=0)throw new Error("length over");for(;l+t>=8;)u.writeByte(255&(e<<l|c)),t-=8-l,e>>>=8-l,c=0,l=0;c|=e<<l,l+=t},flush:function(){l>0&&u.writeByte(c)}});p.write(t,i);var h=0,f=String.fromCharCode(r[h]);for(h+=1;h<r.length;){var m=String.fromCharCode(r[h]);h+=1,o.contains(f+m)?f+=m:(p.write(o.indexOf(f),i),o.size()<4095&&(o.size()==1<<i&&(i+=1),o.add(f+m)),f=m)}return p.write(o.indexOf(f),i),p.write(n,i),p.flush(),d.toByteArray()},s=function(){var e={},t=0,n={add:function(i){if(n.contains(i))throw new Error("dup key:"+i);e[i]=t,t+=1},size:function(){return t},indexOf:function(t){return e[t]},contains:function(t){return void 0!==e[t]}};return n};return o},k=function(e,t,n,i){for(var r=A(e,t),o=0;o<t;o+=1)for(var a=0;a<e;a+=1)r.setPixel(a,o,n(a,o));var s=C();r.write(s);for(var u=function(){var e=0,t=0,n=0,i="",r={},o=function(e){i+=String.fromCharCode(a(63&e))},a=function(e){if(e<0);else{if(e<26)return 65+e;if(e<52)return e-26+97;if(e<62)return e-52+48;if(62==e)return 43;if(63==e)return 47}throw new Error("n:"+e)};return r.writeByte=function(i){for(e=e<<8|255&i,t+=8,n+=1;t>=6;)o(e>>>t-6),t-=6},r.flush=function(){if(t>0&&(o(e<<6-t),e=0,t=0),n%3!=0)for(var r=3-n%3,a=0;a<r;a+=1)i+="="},r.toString=function(){return i},r}(),l=s.toByteArray(),c=0;c<l.length;c+=1)u.writeByte(l[c]);u.flush();var d="";return d+="<img",d+=' src="',d+="data:image/gif;base64,",d+=u,d+='"',d+=' width="',d+=e,d+='"',d+=' height="',d+=t,d+='"',i&&(d+=' alt="',d+=i,d+='"'),d+="/>"};return e}()},{}],522:[function(e,t,n){(function(e){
/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */
var i,r;i="undefined"!=typeof self?self:this,r=function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=109)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(17),r=n(18),o=n(19),a=n(45),s=n(46),u=n(47),l=n(48),c=n(49),d=n(12),p=n(32),h=n(33),f=n(31),m=n(1),g={Scope:m.Scope,create:m.create,find:m.find,query:m.query,register:m.register,Container:i.default,Format:r.default,Leaf:o.default,Embed:l.default,Scroll:a.default,Block:u.default,Inline:s.default,Text:c.default,Attributor:{Attribute:d.default,Class:p.default,Style:h.default,Store:f.default}};t.default=g},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){var n=this;return t="[Parchment] "+t,(n=e.call(this,t)||this).message=t,n.name=n.constructor.name,n}return r(t,e),t}(Error);t.ParchmentError=o;var a,s={},u={},l={},c={};function d(e,t){var n;if(void 0===t&&(t=a.ANY),"string"==typeof e)n=c[e]||s[e];else if(e instanceof Text||e.nodeType===Node.TEXT_NODE)n=c.text;else if("number"==typeof e)e&a.LEVEL&a.BLOCK?n=c.block:e&a.LEVEL&a.INLINE&&(n=c.inline);else if(e instanceof HTMLElement){var i=(e.getAttribute("class")||"").split(/\s+/);for(var r in i)if(n=u[i[r]])break;n=n||l[e.tagName]}return null==n?null:t&a.LEVEL&n.scope&&t&a.TYPE&n.scope?n:null}t.DATA_KEY="__blot",function(e){e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY"}(a=t.Scope||(t.Scope={})),t.create=function(e,t){var n=d(e);if(null==n)throw new o("Unable to create "+e+" blot");var i=n,r=e instanceof Node||e.nodeType===Node.TEXT_NODE?e:i.create(t);return new i(r,t)},t.find=function e(n,i){return void 0===i&&(i=!1),null==n?null:null!=n[t.DATA_KEY]?n[t.DATA_KEY].blot:i?e(n.parentNode,i):null},t.query=d,t.register=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(t.length>1)return t.map((function(t){return e(t)}));var i=t[0];if("string"!=typeof i.blotName&&"string"!=typeof i.attrName)throw new o("Invalid definition");if("abstract"===i.blotName)throw new o("Cannot register abstract class");if(c[i.blotName||i.attrName]=i,"string"==typeof i.keyName)s[i.keyName]=i;else if(null!=i.className&&(u[i.className]=i),null!=i.tagName){Array.isArray(i.tagName)?i.tagName=i.tagName.map((function(e){return e.toUpperCase()})):i.tagName=i.tagName.toUpperCase();var r=Array.isArray(i.tagName)?i.tagName:[i.tagName];r.forEach((function(e){null!=l[e]&&null!=i.className||(l[e]=i)}))}return i}},function(e,t,n){var i=n(51),r=n(11),o=n(3),a=n(20),s=String.fromCharCode(0),u=function(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]};u.prototype.insert=function(e,t){var n={};return 0===e.length?this:(n.insert=e,null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n))},u.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},u.prototype.retain=function(e,t){if(e<=0)return this;var n={retain:e};return null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n)},u.prototype.push=function(e){var t=this.ops.length,n=this.ops[t-1];if(e=o(!0,{},e),"object"==typeof n){if("number"==typeof e.delete&&"number"==typeof n.delete)return this.ops[t-1]={delete:n.delete+e.delete},this;if("number"==typeof n.delete&&null!=e.insert&&(t-=1,"object"!=typeof(n=this.ops[t-1])))return this.ops.unshift(e),this;if(r(e.attributes,n.attributes)){if("string"==typeof e.insert&&"string"==typeof n.insert)return this.ops[t-1]={insert:n.insert+e.insert},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this;if("number"==typeof e.retain&&"number"==typeof n.retain)return this.ops[t-1]={retain:n.retain+e.retain},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this},u.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},u.prototype.filter=function(e){return this.ops.filter(e)},u.prototype.forEach=function(e){this.ops.forEach(e)},u.prototype.map=function(e){return this.ops.map(e)},u.prototype.partition=function(e){var t=[],n=[];return this.forEach((function(i){(e(i)?t:n).push(i)})),[t,n]},u.prototype.reduce=function(e,t){return this.ops.reduce(e,t)},u.prototype.changeLength=function(){return this.reduce((function(e,t){return t.insert?e+a.length(t):t.delete?e-t.delete:e}),0)},u.prototype.length=function(){return this.reduce((function(e,t){return e+a.length(t)}),0)},u.prototype.slice=function(e,t){e=e||0,"number"!=typeof t&&(t=1/0);for(var n=[],i=a.iterator(this.ops),r=0;r<t&&i.hasNext();){var o;r<e?o=i.next(e-r):(o=i.next(t-r),n.push(o)),r+=a.length(o)}return new u(n)},u.prototype.compose=function(e){var t=a.iterator(this.ops),n=a.iterator(e.ops),i=[],o=n.peek();if(null!=o&&"number"==typeof o.retain&&null==o.attributes){for(var s=o.retain;"insert"===t.peekType()&&t.peekLength()<=s;)s-=t.peekLength(),i.push(t.next());o.retain-s>0&&n.next(o.retain-s)}for(var l=new u(i);t.hasNext()||n.hasNext();)if("insert"===n.peekType())l.push(n.next());else if("delete"===t.peekType())l.push(t.next());else{var c=Math.min(t.peekLength(),n.peekLength()),d=t.next(c),p=n.next(c);if("number"==typeof p.retain){var h={};"number"==typeof d.retain?h.retain=c:h.insert=d.insert;var f=a.attributes.compose(d.attributes,p.attributes,"number"==typeof d.retain);if(f&&(h.attributes=f),l.push(h),!n.hasNext()&&r(l.ops[l.ops.length-1],h)){var m=new u(t.rest());return l.concat(m).chop()}}else"number"==typeof p.delete&&"number"==typeof d.retain&&l.push(p)}return l.chop()},u.prototype.concat=function(e){var t=new u(this.ops.slice());return e.ops.length>0&&(t.push(e.ops[0]),t.ops=t.ops.concat(e.ops.slice(1))),t},u.prototype.diff=function(e,t){if(this.ops===e.ops)return new u;var n=[this,e].map((function(t){return t.map((function(n){if(null!=n.insert)return"string"==typeof n.insert?n.insert:s;throw new Error("diff() called "+(t===e?"on":"with")+" non-document")})).join("")})),o=new u,l=i(n[0],n[1],t),c=a.iterator(this.ops),d=a.iterator(e.ops);return l.forEach((function(e){for(var t=e[1].length;t>0;){var n=0;switch(e[0]){case i.INSERT:n=Math.min(d.peekLength(),t),o.push(d.next(n));break;case i.DELETE:n=Math.min(t,c.peekLength()),c.next(n),o.delete(n);break;case i.EQUAL:n=Math.min(c.peekLength(),d.peekLength(),t);var s=c.next(n),u=d.next(n);r(s.insert,u.insert)?o.retain(n,a.attributes.diff(s.attributes,u.attributes)):o.push(u).delete(n)}t-=n}})),o.chop()},u.prototype.eachLine=function(e,t){t=t||"\n";for(var n=a.iterator(this.ops),i=new u,r=0;n.hasNext();){if("insert"!==n.peekType())return;var o=n.peek(),s=a.length(o)-n.peekLength(),l="string"==typeof o.insert?o.insert.indexOf(t,s)-s:-1;if(l<0)i.push(n.next());else if(l>0)i.push(n.next(l));else{if(!1===e(i,n.next(1).attributes||{},r))return;r+=1,i=new u}}i.length()>0&&e(i,{},r)},u.prototype.transform=function(e,t){if(t=!!t,"number"==typeof e)return this.transformPosition(e,t);for(var n=a.iterator(this.ops),i=a.iterator(e.ops),r=new u;n.hasNext()||i.hasNext();)if("insert"!==n.peekType()||!t&&"insert"===i.peekType())if("insert"===i.peekType())r.push(i.next());else{var o=Math.min(n.peekLength(),i.peekLength()),s=n.next(o),l=i.next(o);if(s.delete)continue;l.delete?r.push(l):r.retain(o,a.attributes.transform(s.attributes,l.attributes,t))}else r.retain(a.length(n.next()));return r.chop()},u.prototype.transformPosition=function(e,t){t=!!t;for(var n=a.iterator(this.ops),i=0;n.hasNext()&&i<=e;){var r=n.peekLength(),o=n.peekType();n.next(),"delete"!==o?("insert"===o&&(i<e||!t)&&(e+=r),i+=r):e-=Math.min(r,e-i)}return e},e.exports=u},function(e,t){"use strict";var n=Object.prototype.hasOwnProperty,i=Object.prototype.toString,r=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===i.call(e)},s=function(e){if(!e||"[object Object]"!==i.call(e))return!1;var t,r=n.call(e,"constructor"),o=e.constructor&&e.constructor.prototype&&n.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!r&&!o)return!1;for(t in e);return void 0===t||n.call(e,t)},u=function(e,t){r&&"__proto__"===t.name?r(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},l=function(e,t){if("__proto__"===t){if(!n.call(e,t))return;if(o)return o(e,t).value}return e[t]};e.exports=function e(){var t,n,i,r,o,c,d=arguments[0],p=1,h=arguments.length,f=!1;for("boolean"==typeof d&&(f=d,d=arguments[1]||{},p=2),(null==d||"object"!=typeof d&&"function"!=typeof d)&&(d={});p<h;++p)if(null!=(t=arguments[p]))for(n in t)i=l(d,n),d!==(r=l(t,n))&&(f&&r&&(s(r)||(o=a(r)))?(o?(o=!1,c=i&&a(i)?i:[]):c=i&&s(i)?i:{},u(d,{name:n,newValue:e(f,c,r)})):void 0!==r&&u(d,{name:n,newValue:r}));return d}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BlockEmbed=t.bubbleFormats=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=d(n(3)),a=d(n(2)),s=d(n(0)),u=d(n(16)),l=d(n(6)),c=d(n(7));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=function(e){function t(){return p(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,e),i(t,[{key:"attach",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attach",this).call(this),this.attributes=new s.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new a.default).insert(this.value(),(0,o.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(e,t){var n=s.default.query(e,s.default.Scope.BLOCK_ATTRIBUTE);null!=n&&this.attributes.attribute(n,t)}},{key:"formatAt",value:function(e,t,n,i){this.format(n,i)}},{key:"insertAt",value:function(e,n,i){if("string"==typeof n&&n.endsWith("\n")){var o=s.default.create(g.blotName);this.parent.insertBefore(o,0===e?this:this.next),o.insertAt(0,n.slice(0,-1))}else r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,n,i)}}]),t}(s.default.Embed);m.scope=s.default.Scope.BLOCK_BLOT;var g=function(e){function t(e){p(this,t);var n=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.cache={},n}return f(t,e),i(t,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(s.default.Leaf).reduce((function(e,t){return 0===t.length()?e:e.insert(t.value(),y(t))}),new a.default).insert("\n",y(this))),this.cache.delta}},{key:"deleteAt",value:function(e,n){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,n),this.cache={}}},{key:"formatAt",value:function(e,n,i,o){n<=0||(s.default.query(i,s.default.Scope.BLOCK)?e+n===this.length()&&this.format(i,o):r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,Math.min(n,this.length()-e-1),i,o),this.cache={})}},{key:"insertAt",value:function(e,n,i){if(null!=i)return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,n,i);if(0!==n.length){var o=n.split("\n"),a=o.shift();a.length>0&&(e<this.length()-1||null==this.children.tail?r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,Math.min(e,this.length()-1),a):this.children.tail.insertAt(this.children.tail.length(),a),this.cache={});var s=this;o.reduce((function(e,t){return(s=s.split(e,!0)).insertAt(0,t),t.length}),e+a.length)}}},{key:"insertBefore",value:function(e,n){var i=this.children.head;r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,n),i instanceof u.default&&i.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(e,n){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"moveChildren",this).call(this,e,n),this.cache={}}},{key:"optimize",value:function(e){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.cache={}}},{key:"path",value:function(e){return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e,!0)}},{key:"removeChild",value:function(e){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"removeChild",this).call(this,e),this.cache={}}},{key:"split",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n&&(0===e||e>=this.length()-1)){var i=this.clone();return 0===e?(this.parent.insertBefore(i,this),this):(this.parent.insertBefore(i,this.next),i)}var o=r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"split",this).call(this,e,n);return this.cache={},o}}]),t}(s.default.Block);function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==e?t:("function"==typeof e.formats&&(t=(0,o.default)(t,e.formats())),null==e.parent||"scroll"==e.parent.blotName||e.parent.statics.scope!==e.statics.scope?t:y(e.parent,t))}g.blotName="block",g.tagName="P",g.defaultChild="break",g.allowedChildren=[l.default,s.default.Embed,c.default],t.bubbleFormats=y,t.BlockEmbed=m,t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.overload=t.expandConfig=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(50);var a=g(n(2)),s=g(n(14)),u=g(n(8)),l=g(n(9)),c=g(n(0)),d=n(15),p=g(d),h=g(n(3)),f=g(n(10)),m=g(n(34));function g(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _=(0,f.default)("quill"),b=function(){function e(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(v(this,e),this.options=w(t,i),this.container=this.options.container,null==this.container)return _.error("Invalid Quill container",t);this.options.debug&&e.debug(this.options.debug);var r=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new u.default,this.scroll=c.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new s.default(this.scroll),this.selection=new p.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(u.default.events.EDITOR_CHANGE,(function(e){e===u.default.events.TEXT_CHANGE&&n.root.classList.toggle("ql-blank",n.editor.isBlank())})),this.emitter.on(u.default.events.SCROLL_UPDATE,(function(e,t){var i=n.selection.lastRange,r=i&&0===i.length?i.index:void 0;E.call(n,(function(){return n.editor.update(null,t,r)}),e)}));var o=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+r+"<p><br></p></div>");this.setContents(o),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return o(e,null,[{key:"debug",value:function(e){!0===e&&(e="log"),f.default.level(e)}},{key:"find",value:function(e){return e.__quill||c.default.find(e)}},{key:"import",value:function(e){return null==this.imports[e]&&_.error("Cannot import "+e+". Are you sure it was registered?"),this.imports[e]}},{key:"register",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof e){var r=e.attrName||e.blotName;"string"==typeof r?this.register("formats/"+r,e,t):Object.keys(e).forEach((function(i){n.register(i,e[i],t)}))}else null==this.imports[e]||i||_.warn("Overwriting "+e+" with",t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&"abstract"!==t.blotName?c.default.register(t):e.startsWith("modules")&&"function"==typeof t.register&&t.register()}}]),o(e,[{key:"addContainer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof e){var n=e;(e=document.createElement("div")).classList.add(n)}return this.container.insertBefore(e,t),e}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(e,t,n){var i=this,o=S(e,t,n),a=r(o,4);return e=a[0],t=a[1],n=a[3],E.call(this,(function(){return i.editor.deleteText(e,t)}),n,e,-1*t)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}},{key:"focus",value:function(){var e=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=e,this.scrollIntoView()}},{key:"format",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.default.sources.API;return E.call(this,(function(){var i=n.getSelection(!0),r=new a.default;if(null==i)return r;if(c.default.query(e,c.default.Scope.BLOCK))r=n.editor.formatLine(i.index,i.length,y({},e,t));else{if(0===i.length)return n.selection.format(e,t),r;r=n.editor.formatText(i.index,i.length,y({},e,t))}return n.setSelection(i,u.default.sources.SILENT),r}),i)}},{key:"formatLine",value:function(e,t,n,i,o){var a,s=this,u=S(e,t,n,i,o),l=r(u,4);return e=l[0],t=l[1],a=l[2],o=l[3],E.call(this,(function(){return s.editor.formatLine(e,t,a)}),o,e,0)}},{key:"formatText",value:function(e,t,n,i,o){var a,s=this,u=S(e,t,n,i,o),l=r(u,4);return e=l[0],t=l[1],a=l[2],o=l[3],E.call(this,(function(){return s.editor.formatText(e,t,a)}),o,e,0)}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=void 0;n="number"==typeof e?this.selection.getBounds(e,t):this.selection.getBounds(e.index,e.length);var i=this.container.getBoundingClientRect();return{bottom:n.bottom-i.top,height:n.height,left:n.left-i.left,right:n.right-i.left,top:n.top-i.top,width:n.width}}},{key:"getContents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,n=S(e,t),i=r(n,2);return e=i[0],t=i[1],this.editor.getContents(e,t)}},{key:"getFormat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"==typeof e?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}},{key:"getIndex",value:function(e){return e.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(e){return this.scroll.leaf(e)}},{key:"getLine",value:function(e){return this.scroll.line(e)}},{key:"getLines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof e?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}},{key:"getModule",value:function(e){return this.theme.modules[e]}},{key:"getSelection",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,n=S(e,t),i=r(n,2);return e=i[0],t=i[1],this.editor.getText(e,t)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(t,n,i){var r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.sources.API;return E.call(this,(function(){return r.editor.insertEmbed(t,n,i)}),o,t)}},{key:"insertText",value:function(e,t,n,i,o){var a,s=this,u=S(e,0,n,i,o),l=r(u,4);return e=l[0],a=l[2],o=l[3],E.call(this,(function(){return s.editor.insertText(e,t,a)}),o,e,t.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(e,t,n){this.clipboard.dangerouslyPasteHTML(e,t,n)}},{key:"removeFormat",value:function(e,t,n){var i=this,o=S(e,t,n),a=r(o,4);return e=a[0],t=a[1],n=a[3],E.call(this,(function(){return i.editor.removeFormat(e,t)}),n,e)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.default.sources.API;return E.call(this,(function(){e=new a.default(e);var n=t.getLength(),i=t.editor.deleteText(0,n),r=t.editor.applyDelta(e),o=r.ops[r.ops.length-1];return null!=o&&"string"==typeof o.insert&&"\n"===o.insert[o.insert.length-1]&&(t.editor.deleteText(t.getLength()-1,1),r.delete(1)),i.compose(r)}),n)}},{key:"setSelection",value:function(t,n,i){if(null==t)this.selection.setRange(null,n||e.sources.API);else{var o=S(t,n,i),a=r(o,4);t=a[0],n=a[1],i=a[3],this.selection.setRange(new d.Range(t,n),i),i!==u.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.default.sources.API,n=(new a.default).insert(e);return this.setContents(n,t)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.default.sources.USER,t=this.scroll.update(e);return this.selection.update(e),t}},{key:"updateContents",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.default.sources.API;return E.call(this,(function(){return e=new a.default(e),t.editor.applyDelta(e,n)}),n,!0)}}]),e}();function w(e,t){if((t=(0,h.default)(!0,{container:e,modules:{clipboard:!0,keyboard:!0,history:!0}},t)).theme&&t.theme!==b.DEFAULTS.theme){if(t.theme=b.import("themes/"+t.theme),null==t.theme)throw new Error("Invalid theme "+t.theme+". Did you register it?")}else t.theme=m.default;var n=(0,h.default)(!0,{},t.theme.DEFAULTS);[n,t].forEach((function(e){e.modules=e.modules||{},Object.keys(e.modules).forEach((function(t){!0===e.modules[t]&&(e.modules[t]={})}))}));var i=Object.keys(n.modules).concat(Object.keys(t.modules)).reduce((function(e,t){var n=b.import("modules/"+t);return null==n?_.error("Cannot load "+t+" module. Are you sure you registered it?"):e[t]=n.DEFAULTS||{},e}),{});return null!=t.modules&&t.modules.toolbar&&t.modules.toolbar.constructor!==Object&&(t.modules.toolbar={container:t.modules.toolbar}),t=(0,h.default)(!0,{},b.DEFAULTS,{modules:i},n,t),["bounds","container","scrollingContainer"].forEach((function(e){"string"==typeof t[e]&&(t[e]=document.querySelector(t[e]))})),t.modules=Object.keys(t.modules).reduce((function(e,n){return t.modules[n]&&(e[n]=t.modules[n]),e}),{}),t}function E(e,t,n,i){if(this.options.strict&&!this.isEnabled()&&t===u.default.sources.USER)return new a.default;var r=null==n?null:this.getSelection(),o=this.editor.delta,s=e();if(null!=r&&(!0===n&&(n=r.index),null==i?r=T(r,s,t):0!==i&&(r=T(r,n,i,t)),this.setSelection(r,u.default.sources.SILENT)),s.length()>0){var l,c,d=[u.default.events.TEXT_CHANGE,s,o,t];(l=this.emitter).emit.apply(l,[u.default.events.EDITOR_CHANGE].concat(d)),t!==u.default.sources.SILENT&&(c=this.emitter).emit.apply(c,d)}return s}function S(e,t,n,r,o){var a={};return"number"==typeof e.index&&"number"==typeof e.length?"number"!=typeof t?(o=r,r=n,n=t,t=e.length,e=e.index):(t=e.length,e=e.index):"number"!=typeof t&&(o=r,r=n,n=t,t=0),"object"===(void 0===n?"undefined":i(n))?(a=n,o=r):"string"==typeof n&&(null!=r?a[n]=r:o=n),[e,t,a,o=o||u.default.sources.API]}function T(e,t,n,i){if(null==e)return null;var o=void 0,s=void 0;if(t instanceof a.default){var l=[e.index,e.index+e.length].map((function(e){return t.transformPosition(e,i!==u.default.sources.USER)})),c=r(l,2);o=c[0],s=c[1]}else{var p=[e.index,e.index+e.length].map((function(e){return e<t||e===t&&i===u.default.sources.USER?e:n>=0?e+n:Math.max(t,e+n)})),h=r(p,2);o=h[0],s=h[1]}return new d.Range(o,s-o)}b.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},b.events=u.default.events,b.sources=u.default.sources,b.version="1.3.7",b.imports={delta:a.default,parchment:c.default,"core/module":l.default,"core/theme":m.default},t.expandConfig=w,t.overload=S,t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=s(n(7)),a=s(n(0));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){return u(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"formatAt",value:function(e,n,i,o){if(t.compare(this.statics.blotName,i)<0&&a.default.query(i,a.default.Scope.BLOT)){var s=this.isolate(e,n);o&&s.wrap(i,o)}else r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,n,i,o)}},{key:"optimize",value:function(e){if(r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.parent instanceof t&&t.compare(this.statics.blotName,this.parent.statics.blotName)>0){var n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}}}],[{key:"compare",value:function(e,n){var i=t.order.indexOf(e),r=t.order.indexOf(n);return i>=0||r>=0?i-r:e===n?0:e<n?-1:1}}]),t}(a.default.Inline);c.allowedChildren=[c,a.default.Embed,o.default],c.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(0);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((i=r)&&i.__esModule?i:{default:i}).default.Text);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=a(n(54));function a(e){return e&&e.__esModule?e:{default:e}}var s=(0,a(n(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach((function(e){document.addEventListener(e,(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];[].slice.call(document.querySelectorAll(".ql-container")).forEach((function(e){var n;e.__quill&&e.__quill.emitter&&(n=e.__quill.emitter).handleDOM.apply(n,t)}))}))}));var u=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.listeners={},e.on("error",s.error),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"emit",value:function(){s.log.apply(s,arguments),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];(this.listeners[e.type]||[]).forEach((function(t){var i=t.node,r=t.handler;(e.target===i||i.contains(e.target))&&r.apply(void 0,[e].concat(n))}))}},{key:"listenDOM",value:function(e,t,n){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push({node:t,handler:n})}}]),t}(o.default);u.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},u.sources={API:"api",SILENT:"silent",USER:"user"},t.default=u},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,e),this.quill=t,this.options=n};r.DEFAULTS={},t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=["error","warn","log","info"],r="warn";function o(e){if(i.indexOf(e)<=i.indexOf(r)){for(var t,n=arguments.length,o=Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];(t=console)[e].apply(t,o)}}function a(e){return i.reduce((function(t,n){return t[n]=o.bind(console,n,e),t}),{})}o.level=a.level=function(e){r=e},t.default=a},function(e,t,n){var i=Array.prototype.slice,r=n(52),o=n(53),a=e.exports=function(e,t,n){return n||(n={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?n.strict?e===t:e==t:function(e,t,n){var l,c;if(s(e)||s(t))return!1;if(e.prototype!==t.prototype)return!1;if(o(e))return!!o(t)&&(e=i.call(e),t=i.call(t),a(e,t,n));if(u(e)){if(!u(t))return!1;if(e.length!==t.length)return!1;for(l=0;l<e.length;l++)if(e[l]!==t[l])return!1;return!0}try{var d=r(e),p=r(t)}catch(e){return!1}if(d.length!=p.length)return!1;for(d.sort(),p.sort(),l=d.length-1;l>=0;l--)if(d[l]!=p[l])return!1;for(l=d.length-1;l>=0;l--)if(c=d[l],!a(e[c],t[c],n))return!1;return typeof e==typeof t}(e,t,n))};function s(e){return null==e}function u(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length||"function"!=typeof e.copy||"function"!=typeof e.slice||e.length>0&&"number"!=typeof e[0])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=function(){function e(e,t,n){void 0===n&&(n={}),this.attrName=e,this.keyName=t;var r=i.Scope.TYPE&i.Scope.ATTRIBUTE;null!=n.scope?this.scope=n.scope&i.Scope.LEVEL|r:this.scope=i.Scope.ATTRIBUTE,null!=n.whitelist&&(this.whitelist=n.whitelist)}return e.keys=function(e){return[].map.call(e.attributes,(function(e){return e.name}))},e.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.setAttribute(this.keyName,t),!0)},e.prototype.canAdd=function(e,t){return null!=i.query(e,i.Scope.BLOT&(this.scope|i.Scope.TYPE))&&(null==this.whitelist||("string"==typeof t?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1))},e.prototype.remove=function(e){e.removeAttribute(this.keyName)},e.prototype.value=function(e){var t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Code=void 0;var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=d(n(2)),s=d(n(0)),u=d(n(4)),l=d(n(6)),c=d(n(7));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=function(e){function t(){return p(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,e),t}(l.default);m.blotName="code",m.tagName="CODE";var g=function(e){function t(){return p(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,e),r(t,[{key:"delta",value:function(){var e=this,t=this.domNode.textContent;return t.endsWith("\n")&&(t=t.slice(0,-1)),t.split("\n").reduce((function(t,n){return t.insert(n).insert("\n",e.formats())}),new a.default)}},{key:"format",value:function(e,n){if(e!==this.statics.blotName||!n){var r=this.descendant(c.default,this.length()-1),a=i(r,1)[0];null!=a&&a.deleteAt(a.length()-1,1),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n)}}},{key:"formatAt",value:function(e,n,i,r){if(0!==n&&null!=s.default.query(i,s.default.Scope.BLOCK)&&(i!==this.statics.blotName||r!==this.statics.formats(this.domNode))){var o=this.newlineIndex(e);if(!(o<0||o>=e+n)){var a=this.newlineIndex(e,!0)+1,u=o-a+1,l=this.isolate(a,u),c=l.next;l.format(i,r),c instanceof t&&c.formatAt(0,e-a+n-u,i,r)}}}},{key:"insertAt",value:function(e,t,n){if(null==n){var r=this.descendant(c.default,e),o=i(r,2),a=o[0],s=o[1];a.insertAt(s,t)}}},{key:"length",value:function(){var e=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?e:e+1}},{key:"newlineIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t)return this.domNode.textContent.slice(0,e).lastIndexOf("\n");var n=this.domNode.textContent.slice(e).indexOf("\n");return n>-1?e+n:-1}},{key:"optimize",value:function(e){this.domNode.textContent.endsWith("\n")||this.appendChild(s.default.create("text","\n")),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===n.statics.formats(n.domNode)&&(n.optimize(e),n.moveChildren(this),n.remove())}},{key:"replace",value:function(e){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e),[].slice.call(this.domNode.querySelectorAll("*")).forEach((function(e){var t=s.default.find(e);null==t?e.parentNode.removeChild(e):t instanceof s.default.Embed?t.remove():t.unwrap()}))}}],[{key:"create",value:function(e){var n=o(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return n.setAttribute("spellcheck",!1),n}},{key:"formats",value:function(){return!0}}]),t}(u.default);g.blotName="code-block",g.tagName="PRE",g.TAB="  ",t.Code=m,t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=y(n(2)),s=y(n(20)),u=y(n(0)),l=y(n(13)),c=y(n(24)),d=n(4),p=y(d),h=y(n(16)),f=y(n(21)),m=y(n(11)),g=y(n(3));function y(e){return e&&e.__esModule?e:{default:e}}var v=/^[ -~]*$/,_=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scroll=t,this.delta=this.getDelta()}return o(e,[{key:"applyDelta",value:function(e){var t=this,n=!1;this.scroll.update();var o=this.scroll.length();return this.scroll.batchStart(),(e=function(e){return e.reduce((function(e,t){if(1===t.insert){var n=(0,f.default)(t.attributes);return delete n.image,e.insert({image:t.attributes.image},n)}if(null==t.attributes||!0!==t.attributes.list&&!0!==t.attributes.bullet||((t=(0,f.default)(t)).attributes.list?t.attributes.list="ordered":(t.attributes.list="bullet",delete t.attributes.bullet)),"string"==typeof t.insert){var i=t.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return e.insert(i,t.attributes)}return e.push(t)}),new a.default)}(e)).reduce((function(e,a){var l=a.retain||a.delete||a.insert.length||1,c=a.attributes||{};if(null!=a.insert){if("string"==typeof a.insert){var h=a.insert;h.endsWith("\n")&&n&&(n=!1,h=h.slice(0,-1)),e>=o&&!h.endsWith("\n")&&(n=!0),t.scroll.insertAt(e,h);var f=t.scroll.line(e),m=r(f,2),y=m[0],v=m[1],_=(0,g.default)({},(0,d.bubbleFormats)(y));if(y instanceof p.default){var b=y.descendant(u.default.Leaf,v),w=r(b,1)[0];_=(0,g.default)(_,(0,d.bubbleFormats)(w))}c=s.default.attributes.diff(_,c)||{}}else if("object"===i(a.insert)){var E=Object.keys(a.insert)[0];if(null==E)return e;t.scroll.insertAt(e,E,a.insert[E])}o+=l}return Object.keys(c).forEach((function(n){t.scroll.formatAt(e,l,n,c[n])})),e+l}),0),e.reduce((function(e,n){return"number"==typeof n.delete?(t.scroll.deleteAt(e,n.delete),e):e+(n.retain||n.insert.length||1)}),0),this.scroll.batchEnd(),this.update(e)}},{key:"deleteText",value:function(e,t){return this.scroll.deleteAt(e,t),this.update((new a.default).retain(e).delete(t))}},{key:"formatLine",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(i).forEach((function(r){if(null==n.scroll.whitelist||n.scroll.whitelist[r]){var o=n.scroll.lines(e,Math.max(t,1)),a=t;o.forEach((function(t){var o=t.length();if(t instanceof l.default){var s=e-t.offset(n.scroll),u=t.newlineIndex(s+a)-s+1;t.formatAt(s,u,r,i[r])}else t.format(r,i[r]);a-=o}))}})),this.scroll.optimize(),this.update((new a.default).retain(e).retain(t,(0,f.default)(i)))}},{key:"formatText",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(i).forEach((function(r){n.scroll.formatAt(e,t,r,i[r])})),this.update((new a.default).retain(e).retain(t,(0,f.default)(i)))}},{key:"getContents",value:function(e,t){return this.delta.slice(e,e+t)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce((function(e,t){return e.concat(t.delta())}),new a.default)}},{key:"getFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],i=[];0===t?this.scroll.path(e).forEach((function(e){var t=r(e,1)[0];t instanceof p.default?n.push(t):t instanceof u.default.Leaf&&i.push(t)})):(n=this.scroll.lines(e,t),i=this.scroll.descendants(u.default.Leaf,e,t));var o=[n,i].map((function(e){if(0===e.length)return{};for(var t=(0,d.bubbleFormats)(e.shift());Object.keys(t).length>0;){var n=e.shift();if(null==n)return t;t=b((0,d.bubbleFormats)(n),t)}return t}));return g.default.apply(g.default,o)}},{key:"getText",value:function(e,t){return this.getContents(e,t).filter((function(e){return"string"==typeof e.insert})).map((function(e){return e.insert})).join("")}},{key:"insertEmbed",value:function(e,t,n){return this.scroll.insertAt(e,t,n),this.update((new a.default).retain(e).insert(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,n)))}},{key:"insertText",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(e,t),Object.keys(i).forEach((function(r){n.scroll.formatAt(e,t.length,r,i[r])})),this.update((new a.default).retain(e).insert(t,(0,f.default)(i)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var e=this.scroll.children.head;return e.statics.blotName===p.default.blotName&&!(e.children.length>1)&&e.children.head instanceof h.default}},{key:"removeFormat",value:function(e,t){var n=this.getText(e,t),i=this.scroll.line(e+t),o=r(i,2),s=o[0],u=o[1],c=0,d=new a.default;null!=s&&(c=s instanceof l.default?s.newlineIndex(u)-u+1:s.length()-u,d=s.delta().slice(u,u+c-1).insert("\n"));var p=this.getContents(e,t+c).diff((new a.default).insert(n).concat(d)),h=(new a.default).retain(e).concat(p);return this.applyDelta(h)}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=this.delta;if(1===t.length&&"characterData"===t[0].type&&t[0].target.data.match(v)&&u.default.find(t[0].target)){var r=u.default.find(t[0].target),o=(0,d.bubbleFormats)(r),s=r.offset(this.scroll),l=t[0].oldValue.replace(c.default.CONTENTS,""),p=(new a.default).insert(l),h=(new a.default).insert(r.value()),f=(new a.default).retain(s).concat(p.diff(h,n));e=f.reduce((function(e,t){return t.insert?e.insert(t.insert,o):e.push(t)}),new a.default),this.delta=i.compose(e)}else this.delta=this.getDelta(),e&&(0,m.default)(i.compose(e),this.delta)||(e=i.diff(this.delta,n));return e}}]),e}();function b(e,t){return Object.keys(t).reduce((function(n,i){return null==e[i]||(t[i]===e[i]?n[i]=t[i]:Array.isArray(t[i])?t[i].indexOf(e[i])<0&&(n[i]=t[i].concat([e[i]])):n[i]=[t[i],e[i]]),n}),{})}t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Range=void 0;var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=l(n(0)),a=l(n(21)),s=l(n(11)),u=l(n(8));function l(e){return e&&e.__esModule?e:{default:e}}function c(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var p=(0,l(n(10)).default)("quill:selection"),h=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;d(this,e),this.index=t,this.length=n},f=function(){function e(t,n){var i=this;d(this,e),this.emitter=n,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=o.default.create("cursor",this),this.lastRange=this.savedRange=new h(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,(function(){i.mouseDown||setTimeout(i.update.bind(i,u.default.sources.USER),1)})),this.emitter.on(u.default.events.EDITOR_CHANGE,(function(e,t){e===u.default.events.TEXT_CHANGE&&t.length()>0&&i.update(u.default.sources.SILENT)})),this.emitter.on(u.default.events.SCROLL_BEFORE_UPDATE,(function(){if(i.hasFocus()){var e=i.getNativeRange();null!=e&&e.start.node!==i.cursor.textNode&&i.emitter.once(u.default.events.SCROLL_UPDATE,(function(){try{i.setNativeRange(e.start.node,e.start.offset,e.end.node,e.end.offset)}catch(e){}}))}})),this.emitter.on(u.default.events.SCROLL_OPTIMIZE,(function(e,t){if(t.range){var n=t.range,r=n.startNode,o=n.startOffset,a=n.endNode,s=n.endOffset;i.setNativeRange(r,o,a,s)}})),this.update(u.default.sources.SILENT)}return r(e,[{key:"handleComposition",value:function(){var e=this;this.root.addEventListener("compositionstart",(function(){e.composing=!0})),this.root.addEventListener("compositionend",(function(){if(e.composing=!1,e.cursor.parent){var t=e.cursor.restore();if(!t)return;setTimeout((function(){e.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)}),1)}}))}},{key:"handleDragging",value:function(){var e=this;this.emitter.listenDOM("mousedown",document.body,(function(){e.mouseDown=!0})),this.emitter.listenDOM("mouseup",document.body,(function(){e.mouseDown=!1,e.update(u.default.sources.USER)}))}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(e,t){if(null==this.scroll.whitelist||this.scroll.whitelist[e]){this.scroll.update();var n=this.getNativeRange();if(null!=n&&n.native.collapsed&&!o.default.query(e,o.default.Scope.BLOCK)){if(n.start.node!==this.cursor.textNode){var i=o.default.find(n.start.node,!1);if(null==i)return;if(i instanceof o.default.Leaf){var r=i.split(n.start.offset);i.parent.insertBefore(this.cursor,r)}else i.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.scroll.length();e=Math.min(e,n-1),t=Math.min(e+t,n-1)-e;var r=void 0,o=this.scroll.leaf(e),a=i(o,2),s=a[0],u=a[1];if(null==s)return null;var l=s.position(u,!0),c=i(l,2);r=c[0],u=c[1];var d=document.createRange();if(t>0){d.setStart(r,u);var p=this.scroll.leaf(e+t),h=i(p,2);if(s=h[0],u=h[1],null==s)return null;var f=s.position(u,!0),m=i(f,2);return r=m[0],u=m[1],d.setEnd(r,u),d.getBoundingClientRect()}var g="left",y=void 0;return r instanceof Text?(u<r.data.length?(d.setStart(r,u),d.setEnd(r,u+1)):(d.setStart(r,u-1),d.setEnd(r,u),g="right"),y=d.getBoundingClientRect()):(y=s.domNode.getBoundingClientRect(),u>0&&(g="right")),{bottom:y.top+y.height,height:y.height,left:y[g],right:y[g],top:y.top,width:0}}},{key:"getNativeRange",value:function(){var e=document.getSelection();if(null==e||e.rangeCount<=0)return null;var t=e.getRangeAt(0);if(null==t)return null;var n=this.normalizeNative(t);return p.info("getNativeRange",n),n}},{key:"getRange",value:function(){var e=this.getNativeRange();return null==e?[null,null]:[this.normalizedToRange(e),e]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(e){var t=this,n=[[e.start.node,e.start.offset]];e.native.collapsed||n.push([e.end.node,e.end.offset]);var r=n.map((function(e){var n=i(e,2),r=n[0],a=n[1],s=o.default.find(r,!0),u=s.offset(t.scroll);return 0===a?u:s instanceof o.default.Container?u+s.length():u+s.index(r,a)})),a=Math.min(Math.max.apply(Math,c(r)),this.scroll.length()-1),s=Math.min.apply(Math,[a].concat(c(r)));return new h(s,a-s)}},{key:"normalizeNative",value:function(e){if(!m(this.root,e.startContainer)||!e.collapsed&&!m(this.root,e.endContainer))return null;var t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach((function(e){for(var t=e.node,n=e.offset;!(t instanceof Text)&&t.childNodes.length>0;)if(t.childNodes.length>n)t=t.childNodes[n],n=0;else{if(t.childNodes.length!==n)break;n=(t=t.lastChild)instanceof Text?t.data.length:t.childNodes.length+1}e.node=t,e.offset=n})),t}},{key:"rangeToNative",value:function(e){var t=this,n=e.collapsed?[e.index]:[e.index,e.index+e.length],r=[],o=this.scroll.length();return n.forEach((function(e,n){e=Math.min(o-1,e);var a,s=t.scroll.leaf(e),u=i(s,2),l=u[0],c=u[1],d=l.position(c,0!==n),p=i(d,2);a=p[0],c=p[1],r.push(a,c)})),r.length<2&&(r=r.concat(r)),r}},{key:"scrollIntoView",value:function(e){var t=this.lastRange;if(null!=t){var n=this.getBounds(t.index,t.length);if(null!=n){var r=this.scroll.length()-1,o=this.scroll.line(Math.min(t.index,r)),a=i(o,1)[0],s=a;if(t.length>0){var u=this.scroll.line(Math.min(t.index+t.length,r));s=i(u,1)[0]}if(null!=a&&null!=s){var l=e.getBoundingClientRect();n.top<l.top?e.scrollTop-=l.top-n.top:n.bottom>l.bottom&&(e.scrollTop+=n.bottom-l.bottom)}}}}},{key:"setNativeRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(p.info("setNativeRange",e,t,n,i),null==e||null!=this.root.parentNode&&null!=e.parentNode&&null!=n.parentNode){var o=document.getSelection();if(null!=o)if(null!=e){this.hasFocus()||this.root.focus();var a=(this.getNativeRange()||{}).native;if(null==a||r||e!==a.startContainer||t!==a.startOffset||n!==a.endContainer||i!==a.endOffset){"BR"==e.tagName&&(t=[].indexOf.call(e.parentNode.childNodes,e),e=e.parentNode),"BR"==n.tagName&&(i=[].indexOf.call(n.parentNode.childNodes,n),n=n.parentNode);var s=document.createRange();s.setStart(e,t),s.setEnd(n,i),o.removeAllRanges(),o.addRange(s)}}else o.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.default.sources.API;if("string"==typeof t&&(n=t,t=!1),p.info("setRange",e),null!=e){var i=this.rangeToNative(e);this.setNativeRange.apply(this,c(i).concat([t]))}else this.setNativeRange(null);this.update(n)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.default.sources.USER,t=this.lastRange,n=this.getRange(),r=i(n,2),o=r[0],l=r[1];if(this.lastRange=o,null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,s.default)(t,this.lastRange)){var c;!this.composing&&null!=l&&l.native.collapsed&&l.start.node!==this.cursor.textNode&&this.cursor.restore();var d,p=[u.default.events.SELECTION_CHANGE,(0,a.default)(this.lastRange),(0,a.default)(t),e];(c=this.emitter).emit.apply(c,[u.default.events.EDITOR_CHANGE].concat(p)),e!==u.default.sources.SILENT&&(d=this.emitter).emit.apply(d,p)}}}]),e}();function m(e,t){try{t.parentNode}catch(e){return!1}return t instanceof Text&&(t=t.parentNode),e.contains(t)}t.Range=h,t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=n(0);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function t(){return s(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"insertInto",value:function(e,n){0===e.children.length?o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertInto",this).call(this,e,n):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),t}(((i=a)&&i.__esModule?i:{default:i}).default.Embed);l.blotName="break",l.tagName="BR",t.default=l},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(44),a=n(30),s=n(1),u=function(e){function t(t){var n=e.call(this,t)||this;return n.build(),n}return r(t,e),t.prototype.appendChild=function(e){this.insertBefore(e)},t.prototype.attach=function(){e.prototype.attach.call(this),this.children.forEach((function(e){e.attach()}))},t.prototype.build=function(){var e=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach((function(t){try{var n=l(t);e.insertBefore(n,e.children.head||void 0)}catch(e){if(e instanceof s.ParchmentError)return;throw e}}))},t.prototype.deleteAt=function(e,t){if(0===e&&t===this.length())return this.remove();this.children.forEachAt(e,t,(function(e,t,n){e.deleteAt(t,n)}))},t.prototype.descendant=function(e,n){var i=this.children.find(n),r=i[0],o=i[1];return null==e.blotName&&e(r)||null!=e.blotName&&r instanceof e?[r,o]:r instanceof t?r.descendant(e,o):[null,-1]},t.prototype.descendants=function(e,n,i){void 0===n&&(n=0),void 0===i&&(i=Number.MAX_VALUE);var r=[],o=i;return this.children.forEachAt(n,i,(function(n,i,a){(null==e.blotName&&e(n)||null!=e.blotName&&n instanceof e)&&r.push(n),n instanceof t&&(r=r.concat(n.descendants(e,i,o))),o-=a})),r},t.prototype.detach=function(){this.children.forEach((function(e){e.detach()})),e.prototype.detach.call(this)},t.prototype.formatAt=function(e,t,n,i){this.children.forEachAt(e,t,(function(e,t,r){e.formatAt(t,r,n,i)}))},t.prototype.insertAt=function(e,t,n){var i=this.children.find(e),r=i[0],o=i[1];if(r)r.insertAt(o,t,n);else{var a=null==n?s.create("text",t):s.create(t,n);this.appendChild(a)}},t.prototype.insertBefore=function(e,t){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some((function(t){return e instanceof t})))throw new s.ParchmentError("Cannot insert "+e.statics.blotName+" into "+this.statics.blotName);e.insertInto(this,t)},t.prototype.length=function(){return this.children.reduce((function(e,t){return e+t.length()}),0)},t.prototype.moveChildren=function(e,t){this.children.forEach((function(n){e.insertBefore(n,t)}))},t.prototype.optimize=function(t){if(e.prototype.optimize.call(this,t),0===this.children.length)if(null!=this.statics.defaultChild){var n=s.create(this.statics.defaultChild);this.appendChild(n),n.optimize(t)}else this.remove()},t.prototype.path=function(e,n){void 0===n&&(n=!1);var i=this.children.find(e,n),r=i[0],o=i[1],a=[[this,e]];return r instanceof t?a.concat(r.path(o,n)):(null!=r&&a.push([r,o]),a)},t.prototype.removeChild=function(e){this.children.remove(e)},t.prototype.replace=function(n){n instanceof t&&n.moveChildren(this),e.prototype.replace.call(this,n)},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var n=this.clone();return this.parent.insertBefore(n,this.next),this.children.forEachAt(e,this.length(),(function(e,i,r){e=e.split(i,t),n.appendChild(e)})),n},t.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},t.prototype.update=function(e,t){var n=this,i=[],r=[];e.forEach((function(e){e.target===n.domNode&&"childList"===e.type&&(i.push.apply(i,e.addedNodes),r.push.apply(r,e.removedNodes))})),r.forEach((function(e){if(!(null!=e.parentNode&&"IFRAME"!==e.tagName&&document.body.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var t=s.find(e);null!=t&&(null!=t.domNode.parentNode&&t.domNode.parentNode!==n.domNode||t.detach())}})),i.filter((function(e){return e.parentNode==n.domNode})).sort((function(e,t){return e===t?0:e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1})).forEach((function(e){var t=null;null!=e.nextSibling&&(t=s.find(e.nextSibling));var i=l(e);i.next==t&&null!=i.next||(null!=i.parent&&i.parent.removeChild(n),n.insertBefore(i,t||void 0))}))},t}(a.default);function l(e){var t=s.find(e);if(null==t)try{t=s.create(e)}catch(n){t=s.create(s.Scope.INLINE),[].slice.call(e.childNodes).forEach((function(e){t.domNode.appendChild(e)})),e.parentNode&&e.parentNode.replaceChild(t.domNode,e),t.attach()}return t}t.default=u},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(12),a=n(31),s=n(17),u=n(1),l=function(e){function t(t){var n=e.call(this,t)||this;return n.attributes=new a.default(n.domNode),n}return r(t,e),t.formats=function(e){return"string"==typeof this.tagName||(Array.isArray(this.tagName)?e.tagName.toLowerCase():void 0)},t.prototype.format=function(e,t){var n=u.query(e);n instanceof o.default?this.attributes.attribute(n,t):t&&(null==n||e===this.statics.blotName&&this.formats()[e]===t||this.replaceWith(e,t))},t.prototype.formats=function(){var e=this.attributes.values(),t=this.statics.formats(this.domNode);return null!=t&&(e[this.statics.blotName]=t),e},t.prototype.replaceWith=function(t,n){var i=e.prototype.replaceWith.call(this,t,n);return this.attributes.copy(i),i},t.prototype.update=function(t,n){var i=this;e.prototype.update.call(this,t,n),t.some((function(e){return e.target===i.domNode&&"attributes"===e.type}))&&this.attributes.build()},t.prototype.wrap=function(n,i){var r=e.prototype.wrap.call(this,n,i);return r instanceof t&&r.statics.scope===this.statics.scope&&this.attributes.move(r),r},t}(s.default);t.default=l},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(30),a=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.value=function(e){return!0},t.prototype.index=function(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1},t.prototype.position=function(e,t){var n=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return e>0&&(n+=1),[this.parent.domNode,n]},t.prototype.value=function(){var e;return(e={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,e},t.scope=a.Scope.INLINE_BLOT,t}(o.default);t.default=s},function(e,t,n){var i=n(11),r=n(3),o={attributes:{compose:function(e,t,n){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var i=r(!0,{},t);for(var o in n||(i=Object.keys(i).reduce((function(e,t){return null!=i[t]&&(e[t]=i[t]),e}),{})),e)void 0!==e[o]&&void 0===t[o]&&(i[o]=e[o]);return Object.keys(i).length>0?i:void 0},diff:function(e,t){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var n=Object.keys(e).concat(Object.keys(t)).reduce((function(n,r){return i(e[r],t[r])||(n[r]=void 0===t[r]?null:t[r]),n}),{});return Object.keys(n).length>0?n:void 0},transform:function(e,t,n){if("object"!=typeof e)return t;if("object"==typeof t){if(!n)return t;var i=Object.keys(t).reduce((function(n,i){return void 0===e[i]&&(n[i]=t[i]),n}),{});return Object.keys(i).length>0?i:void 0}}},iterator:function(e){return new a(e)},length:function(e){return"number"==typeof e.delete?e.delete:"number"==typeof e.retain?e.retain:"string"==typeof e.insert?e.insert.length:1}};function a(e){this.ops=e,this.index=0,this.offset=0}a.prototype.hasNext=function(){return this.peekLength()<1/0},a.prototype.next=function(e){e||(e=1/0);var t=this.ops[this.index];if(t){var n=this.offset,i=o.length(t);if(e>=i-n?(e=i-n,this.index+=1,this.offset=0):this.offset+=e,"number"==typeof t.delete)return{delete:e};var r={};return t.attributes&&(r.attributes=t.attributes),"number"==typeof t.retain?r.retain=e:"string"==typeof t.insert?r.insert=t.insert.substr(n,e):r.insert=t.insert,r}return{retain:1/0}},a.prototype.peek=function(){return this.ops[this.index]},a.prototype.peekLength=function(){return this.ops[this.index]?o.length(this.ops[this.index])-this.offset:1/0},a.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},a.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var e=this.offset,t=this.index,n=this.next(),i=this.ops.slice(this.index);return this.offset=e,this.index=t,[n].concat(i)}return[]},e.exports=o},function(t,n){var i=function(){"use strict";function t(e,t){return null!=t&&e instanceof t}var n,i,r;try{n=Map}catch(e){n=function(){}}try{i=Set}catch(e){i=function(){}}try{r=Promise}catch(e){r=function(){}}function o(a,u,l,c,d){"object"==typeof u&&(l=u.depth,c=u.prototype,d=u.includeNonEnumerable,u=u.circular);var p=[],h=[],f=void 0!==e;return void 0===u&&(u=!0),void 0===l&&(l=1/0),function a(l,m){if(null===l)return null;if(0===m)return l;var g,y;if("object"!=typeof l)return l;if(t(l,n))g=new n;else if(t(l,i))g=new i;else if(t(l,r))g=new r((function(e,t){l.then((function(t){e(a(t,m-1))}),(function(e){t(a(e,m-1))}))}));else if(o.__isArray(l))g=[];else if(o.__isRegExp(l))g=new RegExp(l.source,s(l)),l.lastIndex&&(g.lastIndex=l.lastIndex);else if(o.__isDate(l))g=new Date(l.getTime());else{if(f&&e.isBuffer(l))return g=e.allocUnsafe?e.allocUnsafe(l.length):new e(l.length),l.copy(g),g;t(l,Error)?g=Object.create(l):void 0===c?(y=Object.getPrototypeOf(l),g=Object.create(y)):(g=Object.create(c),y=c)}if(u){var v=p.indexOf(l);if(-1!=v)return h[v];p.push(l),h.push(g)}for(var _ in t(l,n)&&l.forEach((function(e,t){var n=a(t,m-1),i=a(e,m-1);g.set(n,i)})),t(l,i)&&l.forEach((function(e){var t=a(e,m-1);g.add(t)})),l){var b;y&&(b=Object.getOwnPropertyDescriptor(y,_)),b&&null==b.set||(g[_]=a(l[_],m-1))}if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(l);for(_=0;_<w.length;_++){var E=w[_];(!(T=Object.getOwnPropertyDescriptor(l,E))||T.enumerable||d)&&(g[E]=a(l[E],m-1),T.enumerable||Object.defineProperty(g,E,{enumerable:!1}))}}if(d){var S=Object.getOwnPropertyNames(l);for(_=0;_<S.length;_++){var T,C=S[_];(T=Object.getOwnPropertyDescriptor(l,C))&&T.enumerable||(g[C]=a(l[C],m-1),Object.defineProperty(g,C,{enumerable:!1}))}}return g}(a,l)}function a(e){return Object.prototype.toString.call(e)}function s(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return o.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},o.__objToStr=a,o.__isDate=function(e){return"object"==typeof e&&"[object Date]"===a(e)},o.__isArray=function(e){return"object"==typeof e&&"[object Array]"===a(e)},o.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===a(e)},o.__getRegExpFlags=s,o}();"object"==typeof t&&t.exports&&(t.exports=i)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=h(n(0)),s=h(n(8)),u=n(4),l=h(u),c=h(n(16)),d=h(n(13)),p=h(n(25));function h(e){return e&&e.__esModule?e:{default:e}}function f(e){return e instanceof l.default||e instanceof u.BlockEmbed}var m=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.emitter=n.emitter,Array.isArray(n.whitelist)&&(i.whitelist=n.whitelist.reduce((function(e,t){return e[t]=!0,e}),{})),i.domNode.addEventListener("DOMNodeInserted",(function(){})),i.optimize(),i.enable(),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(e,n){var r=this.line(e),a=i(r,2),s=a[0],l=a[1],p=this.line(e+n),h=i(p,1)[0];if(o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,n),null!=h&&s!==h&&l>0){if(s instanceof u.BlockEmbed||h instanceof u.BlockEmbed)return void this.optimize();if(s instanceof d.default){var f=s.newlineIndex(s.length(),!0);if(f>-1&&(s=s.split(f+1))===h)return void this.optimize()}else if(h instanceof d.default){var m=h.newlineIndex(0);m>-1&&h.split(m+1)}var g=h.children.head instanceof c.default?null:h.children.head;s.moveChildren(h,g),s.remove()}this.optimize()}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",e)}},{key:"formatAt",value:function(e,n,i,r){(null==this.whitelist||this.whitelist[i])&&(o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,n,i,r),this.optimize())}},{key:"insertAt",value:function(e,n,i){if(null==i||null==this.whitelist||this.whitelist[n]){if(e>=this.length())if(null==i||null==a.default.query(n,a.default.Scope.BLOCK)){var r=a.default.create(this.statics.defaultChild);this.appendChild(r),null==i&&n.endsWith("\n")&&(n=n.slice(0,-1)),r.insertAt(0,n,i)}else{var s=a.default.create(n,i);this.appendChild(s)}else o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,n,i);this.optimize()}}},{key:"insertBefore",value:function(e,n){if(e.statics.scope===a.default.Scope.INLINE_BLOT){var i=a.default.create(this.statics.defaultChild);i.appendChild(e),e=i}o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,n)}},{key:"leaf",value:function(e){return this.path(e).pop()||[null,-1]}},{key:"line",value:function(e){return e===this.length()?this.line(e-1):this.descendant(f,e)}},{key:"lines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,n=function e(t,n,i){var r=[],o=i;return t.children.forEachAt(n,i,(function(t,n,i){f(t)?r.push(t):t instanceof a.default.Container&&(r=r.concat(e(t,n,o))),o-=i})),r};return n(this,e,t)}},{key:"optimize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e,n),e.length>0&&this.emitter.emit(s.default.events.SCROLL_OPTIMIZE,e,n))}},{key:"path",value:function(e){return o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e).slice(1)}},{key:"update",value:function(e){if(!0!==this.batch){var n=s.default.sources.USER;"string"==typeof e&&(n=e),Array.isArray(e)||(e=this.observer.takeRecords()),e.length>0&&this.emitter.emit(s.default.events.SCROLL_BEFORE_UPDATE,n,e),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"update",this).call(this,e.concat([])),e.length>0&&this.emitter.emit(s.default.events.SCROLL_UPDATE,n,e)}}}]),t}(a.default.Scroll);m.blotName="scroll",m.className="ql-editor",m.tagName="DIV",m.defaultChild="block",m.allowedChildren=[l.default,u.BlockEmbed,p.default],t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHORTKEY=t.default=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=m(n(21)),s=m(n(11)),u=m(n(3)),l=m(n(2)),c=m(n(20)),d=m(n(0)),p=m(n(5)),h=m(n(10)),f=m(n(9));function m(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=(0,h.default)("quill:keyboard"),v=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",_=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.bindings={},Object.keys(i.options.bindings).forEach((function(t){("list autofill"!==t||null==e.scroll.whitelist||e.scroll.whitelist.list)&&i.options.bindings[t]&&i.addBinding(i.options.bindings[t])})),i.addBinding({key:t.keys.ENTER,shiftKey:null},T),i.addBinding({key:t.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},(function(){})),/Firefox/i.test(navigator.userAgent)?(i.addBinding({key:t.keys.BACKSPACE},{collapsed:!0},w),i.addBinding({key:t.keys.DELETE},{collapsed:!0},E)):(i.addBinding({key:t.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},w),i.addBinding({key:t.keys.DELETE},{collapsed:!0,suffix:/^.?$/},E)),i.addBinding({key:t.keys.BACKSPACE},{collapsed:!1},S),i.addBinding({key:t.keys.DELETE},{collapsed:!1},S),i.addBinding({key:t.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},w),i.listen(),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,null,[{key:"match",value:function(e,t){return t=A(t),!["altKey","ctrlKey","metaKey","shiftKey"].some((function(n){return!!t[n]!==e[n]&&null!==t[n]}))&&t.key===(e.which||e.keyCode)}}]),o(t,[{key:"addBinding",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=A(e);if(null==i||null==i.key)return y.warn("Attempted to add invalid keyboard binding",i);"function"==typeof t&&(t={handler:t}),"function"==typeof n&&(n={handler:n}),i=(0,u.default)(i,t,n),this.bindings[i.key]=this.bindings[i.key]||[],this.bindings[i.key].push(i)}},{key:"listen",value:function(){var e=this;this.quill.root.addEventListener("keydown",(function(n){if(!n.defaultPrevented){var o=n.which||n.keyCode,a=(e.bindings[o]||[]).filter((function(e){return t.match(n,e)}));if(0!==a.length){var u=e.quill.getSelection();if(null!=u&&e.quill.hasFocus()){var l=e.quill.getLine(u.index),c=r(l,2),p=c[0],h=c[1],f=e.quill.getLeaf(u.index),m=r(f,2),g=m[0],y=m[1],v=0===u.length?[g,y]:e.quill.getLeaf(u.index+u.length),_=r(v,2),b=_[0],w=_[1],E=g instanceof d.default.Text?g.value().slice(0,y):"",S=b instanceof d.default.Text?b.value().slice(w):"",T={collapsed:0===u.length,empty:0===u.length&&p.length()<=1,format:e.quill.getFormat(u),offset:h,prefix:E,suffix:S};a.some((function(t){if(null!=t.collapsed&&t.collapsed!==T.collapsed)return!1;if(null!=t.empty&&t.empty!==T.empty)return!1;if(null!=t.offset&&t.offset!==T.offset)return!1;if(Array.isArray(t.format)){if(t.format.every((function(e){return null==T.format[e]})))return!1}else if("object"===i(t.format)&&!Object.keys(t.format).every((function(e){return!0===t.format[e]?null!=T.format[e]:!1===t.format[e]?null==T.format[e]:(0,s.default)(t.format[e],T.format[e])})))return!1;return!(null!=t.prefix&&!t.prefix.test(T.prefix)||null!=t.suffix&&!t.suffix.test(T.suffix)||!0===t.handler.call(e,u,T))}))&&n.preventDefault()}}}}))}}]),t}(f.default);function b(e,t){var n,i=e===_.keys.LEFT?"prefix":"suffix";return g(n={key:e,shiftKey:t,altKey:null},i,/^$/),g(n,"handler",(function(n){var i=n.index;e===_.keys.RIGHT&&(i+=n.length+1);var o=this.quill.getLeaf(i);return!(r(o,1)[0]instanceof d.default.Embed&&(e===_.keys.LEFT?t?this.quill.setSelection(n.index-1,n.length+1,p.default.sources.USER):this.quill.setSelection(n.index-1,p.default.sources.USER):t?this.quill.setSelection(n.index,n.length+1,p.default.sources.USER):this.quill.setSelection(n.index+n.length+1,p.default.sources.USER),1))})),n}function w(e,t){if(!(0===e.index||this.quill.getLength()<=1)){var n=this.quill.getLine(e.index),i=r(n,1)[0],o={};if(0===t.offset){var a=this.quill.getLine(e.index-1),s=r(a,1)[0];if(null!=s&&s.length()>1){var u=i.formats(),l=this.quill.getFormat(e.index-1,1);o=c.default.attributes.diff(u,l)||{}}}var d=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;this.quill.deleteText(e.index-d,d,p.default.sources.USER),Object.keys(o).length>0&&this.quill.formatLine(e.index-d,d,o,p.default.sources.USER),this.quill.focus()}}function E(e,t){var n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(!(e.index>=this.quill.getLength()-n)){var i={},o=0,a=this.quill.getLine(e.index),s=r(a,1)[0];if(t.offset>=s.length()-1){var u=this.quill.getLine(e.index+1),l=r(u,1)[0];if(l){var d=s.formats(),h=this.quill.getFormat(e.index,1);i=c.default.attributes.diff(d,h)||{},o=l.length()}}this.quill.deleteText(e.index,n,p.default.sources.USER),Object.keys(i).length>0&&this.quill.formatLine(e.index+o-1,n,i,p.default.sources.USER)}}function S(e){var t=this.quill.getLines(e),n={};if(t.length>1){var i=t[0].formats(),r=t[t.length-1].formats();n=c.default.attributes.diff(r,i)||{}}this.quill.deleteText(e,p.default.sources.USER),Object.keys(n).length>0&&this.quill.formatLine(e.index,1,n,p.default.sources.USER),this.quill.setSelection(e.index,p.default.sources.SILENT),this.quill.focus()}function T(e,t){var n=this;e.length>0&&this.quill.scroll.deleteAt(e.index,e.length);var i=Object.keys(t.format).reduce((function(e,n){return d.default.query(n,d.default.Scope.BLOCK)&&!Array.isArray(t.format[n])&&(e[n]=t.format[n]),e}),{});this.quill.insertText(e.index,"\n",i,p.default.sources.USER),this.quill.setSelection(e.index+1,p.default.sources.SILENT),this.quill.focus(),Object.keys(t.format).forEach((function(e){null==i[e]&&(Array.isArray(t.format[e])||"link"!==e&&n.quill.format(e,t.format[e],p.default.sources.USER))}))}function C(e){return{key:_.keys.TAB,shiftKey:!e,format:{"code-block":!0},handler:function(t){var n=d.default.query("code-block"),i=t.index,o=t.length,a=this.quill.scroll.descendant(n,i),s=r(a,2),u=s[0],l=s[1];if(null!=u){var c=this.quill.getIndex(u),h=u.newlineIndex(l,!0)+1,f=u.newlineIndex(c+l+o),m=u.domNode.textContent.slice(h,f).split("\n");l=0,m.forEach((function(t,r){e?(u.insertAt(h+l,n.TAB),l+=n.TAB.length,0===r?i+=n.TAB.length:o+=n.TAB.length):t.startsWith(n.TAB)&&(u.deleteAt(h+l,n.TAB.length),l-=n.TAB.length,0===r?i-=n.TAB.length:o-=n.TAB.length),l+=t.length+1})),this.quill.update(p.default.sources.USER),this.quill.setSelection(i,o,p.default.sources.SILENT)}}}}function x(e){return{key:e[0].toUpperCase(),shortKey:!0,handler:function(t,n){this.quill.format(e,!n.format[e],p.default.sources.USER)}}}function A(e){if("string"==typeof e||"number"==typeof e)return A({key:e});if("object"===(void 0===e?"undefined":i(e))&&(e=(0,a.default)(e,!1)),"string"==typeof e.key)if(null!=_.keys[e.key.toUpperCase()])e.key=_.keys[e.key.toUpperCase()];else{if(1!==e.key.length)return null;e.key=e.key.toUpperCase().charCodeAt(0)}return e.shortKey&&(e[v]=e.shortKey,delete e.shortKey),e}_.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},_.DEFAULTS={bindings:{bold:x("bold"),italic:x("italic"),underline:x("underline"),indent:{key:_.keys.TAB,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","+1",p.default.sources.USER)}},outdent:{key:_.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","-1",p.default.sources.USER)}},"outdent backspace":{key:_.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(e,t){null!=t.format.indent?this.quill.format("indent","-1",p.default.sources.USER):null!=t.format.list&&this.quill.format("list",!1,p.default.sources.USER)}},"indent code-block":C(!0),"outdent code-block":C(!1),"remove tab":{key:_.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(e){this.quill.deleteText(e.index-1,1,p.default.sources.USER)}},tab:{key:_.keys.TAB,handler:function(e){this.quill.history.cutoff();var t=(new l.default).retain(e.index).delete(e.length).insert("\t");this.quill.updateContents(t,p.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,p.default.sources.SILENT)}},"list empty enter":{key:_.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(e,t){this.quill.format("list",!1,p.default.sources.USER),t.format.indent&&this.quill.format("indent",!1,p.default.sources.USER)}},"checklist enter":{key:_.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(e){var t=this.quill.getLine(e.index),n=r(t,2),i=n[0],o=n[1],a=(0,u.default)({},i.formats(),{list:"checked"}),s=(new l.default).retain(e.index).insert("\n",a).retain(i.length()-o-1).retain(1,{list:"unchecked"});this.quill.updateContents(s,p.default.sources.USER),this.quill.setSelection(e.index+1,p.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:_.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(e,t){var n=this.quill.getLine(e.index),i=r(n,2),o=i[0],a=i[1],s=(new l.default).retain(e.index).insert("\n",t.format).retain(o.length()-a-1).retain(1,{header:null});this.quill.updateContents(s,p.default.sources.USER),this.quill.setSelection(e.index+1,p.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(e,t){var n=t.prefix.length,i=this.quill.getLine(e.index),o=r(i,2),a=o[0],s=o[1];if(s>n)return!0;var u=void 0;switch(t.prefix.trim()){case"[]":case"[ ]":u="unchecked";break;case"[x]":u="checked";break;case"-":case"*":u="bullet";break;default:u="ordered"}this.quill.insertText(e.index," ",p.default.sources.USER),this.quill.history.cutoff();var c=(new l.default).retain(e.index-s).delete(n+1).retain(a.length()-2-s).retain(1,{list:u});this.quill.updateContents(c,p.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-n,p.default.sources.SILENT)}},"code exit":{key:_.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(e){var t=this.quill.getLine(e.index),n=r(t,2),i=n[0],o=n[1],a=(new l.default).retain(e.index+i.length()-o-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(a,p.default.sources.USER)}},"embed left":b(_.keys.LEFT,!1),"embed left shift":b(_.keys.LEFT,!0),"embed right":b(_.keys.RIGHT,!1),"embed right shift":b(_.keys.RIGHT,!0)}},t.default=_,t.SHORTKEY=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=u(n(0)),s=u(n(7));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.selection=n,i.textNode=document.createTextNode(t.CONTENTS),i.domNode.appendChild(i.textNode),i._length=0,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,null,[{key:"value",value:function(){}}]),o(t,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(e,n){if(0!==this._length)return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n);for(var i=this,o=0;null!=i&&i.statics.scope!==a.default.Scope.BLOCK_BLOT;)o+=i.offset(i.parent),i=i.parent;null!=i&&(this._length=t.CONTENTS.length,i.optimize(),i.formatAt(o,t.CONTENTS.length,e,n),this._length=0)}},{key:"index",value:function(e,n){return e===this.textNode?0:r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,n)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var e=this.textNode,n=this.selection.getNativeRange(),r=void 0,o=void 0,u=void 0;if(null!=n&&n.start.node===e&&n.end.node===e){var l=[e,n.start.offset,n.end.offset];r=l[0],o=l[1],u=l[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==t.CONTENTS){var c=this.textNode.data.split(t.CONTENTS).join("");this.next instanceof s.default?(r=this.next.domNode,this.next.insertAt(0,c),this.textNode.data=t.CONTENTS):(this.textNode.data=c,this.parent.insertBefore(a.default.create(this.textNode),this),this.textNode=document.createTextNode(t.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=o){var d=[o,u].map((function(e){return Math.max(0,Math.min(r.data.length,e-1))})),p=i(d,2);return o=p[0],u=p[1],{startNode:r,startOffset:o,endNode:r,endOffset:u}}}}},{key:"update",value:function(e,t){var n=this;if(e.some((function(e){return"characterData"===e.type&&e.target===n.textNode}))){var i=this.restore();i&&(t.range=i)}}},{key:"value",value:function(){return""}}]),t}(a.default.Embed);l.blotName="cursor",l.className="ql-cursor",l.tagName="span",l.CONTENTS="\ufeff",t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),r=n(4),o=a(r);function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function t(){return s(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(i.default.Container);l.allowedChildren=[o.default,r.BlockEmbed,l],t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorStyle=t.ColorClass=t.ColorAttributor=void 0;var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=n(0),s=(i=a)&&i.__esModule?i:{default:i};function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){return u(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"value",value:function(e){var n=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e);return n.startsWith("rgb(")?(n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+n.split(",").map((function(e){return("00"+parseInt(e).toString(16)).slice(-2)})).join("")):n}}]),t}(s.default.Attributor.Style),d=new s.default.Attributor.Class("color","ql-color",{scope:s.default.Scope.INLINE}),p=new c("color","color",{scope:s.default.Scope.INLINE});t.ColorAttributor=c,t.ColorClass=d,t.ColorStyle=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sanitize=t.default=void 0;var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=n(6);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function t(){return s(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"format",value:function(e,n){if(e!==this.statics.blotName||!n)return o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n);n=this.constructor.sanitize(n),this.domNode.setAttribute("href",n)}}],[{key:"create",value:function(e){var n=o(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return e=this.sanitize(e),n.setAttribute("href",e),n.setAttribute("rel","noopener noreferrer"),n.setAttribute("target","_blank"),n}},{key:"formats",value:function(e){return e.getAttribute("href")}},{key:"sanitize",value:function(e){return c(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}}]),t}(((i=a)&&i.__esModule?i:{default:i}).default);function c(e,t){var n=document.createElement("a");n.href=e;var i=n.href.slice(0,n.href.indexOf(":"));return t.indexOf(i)>-1}l.blotName="link",l.tagName="A",l.SANITIZED_URL="about:blank",l.PROTOCOL_WHITELIST=["http","https","mailto","tel"],t.default=l,t.sanitize=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=s(n(23)),a=s(n(107));function s(e){return e&&e.__esModule?e:{default:e}}var u=0;function l(e,t){e.setAttribute(t,!("true"===e.getAttribute(t)))}var c=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",(function(){n.togglePicker()})),this.label.addEventListener("keydown",(function(e){switch(e.keyCode){case o.default.keys.ENTER:n.togglePicker();break;case o.default.keys.ESCAPE:n.escape(),e.preventDefault()}})),this.select.addEventListener("change",this.update.bind(this))}return r(e,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),l(this.label,"aria-expanded"),l(this.options,"aria-hidden")}},{key:"buildItem",value:function(e){var t=this,n=document.createElement("span");return n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item"),e.hasAttribute("value")&&n.setAttribute("data-value",e.getAttribute("value")),e.textContent&&n.setAttribute("data-label",e.textContent),n.addEventListener("click",(function(){t.selectItem(n,!0)})),n.addEventListener("keydown",(function(e){switch(e.keyCode){case o.default.keys.ENTER:t.selectItem(n,!0),e.preventDefault();break;case o.default.keys.ESCAPE:t.escape(),e.preventDefault()}})),n}},{key:"buildLabel",value:function(){var e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=a.default,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}},{key:"buildOptions",value:function(){var e=this,t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id="ql-picker-options-"+u,u+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,[].slice.call(this.select.options).forEach((function(n){var i=e.buildItem(n);t.appendChild(i),!0===n.selected&&e.selectItem(i)})),this.container.appendChild(t)}},{key:"buildPicker",value:function(){var e=this;[].slice.call(this.select.attributes).forEach((function(t){e.container.setAttribute(t.name,t.value)})),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var e=this;this.close(),setTimeout((function(){return e.label.focus()}),1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.container.querySelector(".ql-selected");if(e!==n&&(null!=n&&n.classList.remove("ql-selected"),null!=e&&(e.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(e.parentNode.children,e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),t))){if("function"==typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===("undefined"==typeof Event?"undefined":i(Event))){var r=document.createEvent("Event");r.initEvent("change",!0,!0),this.select.dispatchEvent(r)}this.close()}}},{key:"update",value:function(){var e=void 0;if(this.select.selectedIndex>-1){var t=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(t)}else this.selectItem(null);var n=null!=e&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}]),e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=y(n(0)),r=y(n(5)),o=n(4),a=y(o),s=y(n(16)),u=y(n(25)),l=y(n(24)),c=y(n(35)),d=y(n(6)),p=y(n(22)),h=y(n(7)),f=y(n(55)),m=y(n(42)),g=y(n(23));function y(e){return e&&e.__esModule?e:{default:e}}r.default.register({"blots/block":a.default,"blots/block/embed":o.BlockEmbed,"blots/break":s.default,"blots/container":u.default,"blots/cursor":l.default,"blots/embed":c.default,"blots/inline":d.default,"blots/scroll":p.default,"blots/text":h.default,"modules/clipboard":f.default,"modules/history":m.default,"modules/keyboard":g.default}),i.default.register(a.default,s.default,l.default,d.default,p.default,h.default),t.default=r.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=function(){function e(e){this.domNode=e,this.domNode[i.DATA_KEY]={blot:this}}return Object.defineProperty(e.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),e.create=function(e){if(null==this.tagName)throw new i.ParchmentError("Blot definition missing tagName");var t;return Array.isArray(this.tagName)?("string"==typeof e&&(e=e.toUpperCase(),parseInt(e).toString()===e&&(e=parseInt(e))),t="number"==typeof e?document.createElement(this.tagName[e-1]):this.tagName.indexOf(e)>-1?document.createElement(e):document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t},e.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},e.prototype.clone=function(){var e=this.domNode.cloneNode(!1);return i.create(e)},e.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[i.DATA_KEY]},e.prototype.deleteAt=function(e,t){this.isolate(e,t).remove()},e.prototype.formatAt=function(e,t,n,r){var o=this.isolate(e,t);if(null!=i.query(n,i.Scope.BLOT)&&r)o.wrap(n,r);else if(null!=i.query(n,i.Scope.ATTRIBUTE)){var a=i.create(this.statics.scope);o.wrap(a),a.format(n,r)}},e.prototype.insertAt=function(e,t,n){var r=null==n?i.create("text",t):i.create(t,n),o=this.split(e);this.parent.insertBefore(r,o)},e.prototype.insertInto=function(e,t){void 0===t&&(t=null),null!=this.parent&&this.parent.children.remove(this);var n=null;e.children.insertBefore(this,t),null!=t&&(n=t.domNode),this.domNode.parentNode==e.domNode&&this.domNode.nextSibling==n||e.domNode.insertBefore(this.domNode,n),this.parent=e,this.attach()},e.prototype.isolate=function(e,t){var n=this.split(e);return n.split(t),n},e.prototype.length=function(){return 1},e.prototype.offset=function(e){return void 0===e&&(e=this.parent),null==this.parent||this==e?0:this.parent.children.offset(this)+this.parent.offset(e)},e.prototype.optimize=function(e){null!=this.domNode[i.DATA_KEY]&&delete this.domNode[i.DATA_KEY].mutations},e.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},e.prototype.replace=function(e){null!=e.parent&&(e.parent.insertBefore(this,e.next),e.remove())},e.prototype.replaceWith=function(e,t){var n="string"==typeof e?i.create(e,t):e;return n.replace(this),n},e.prototype.split=function(e,t){return 0===e?this:this.next},e.prototype.update=function(e,t){},e.prototype.wrap=function(e,t){var n="string"==typeof e?i.create(e,t):e;return null!=this.parent&&this.parent.insertBefore(n,this.next),n.appendChild(this),n},e.blotName="abstract",e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(12),r=n(32),o=n(33),a=n(1),s=function(){function e(e){this.attributes={},this.domNode=e,this.build()}return e.prototype.attribute=function(e,t){t?e.add(this.domNode,t)&&(null!=e.value(this.domNode)?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])},e.prototype.build=function(){var e=this;this.attributes={};var t=i.default.keys(this.domNode),n=r.default.keys(this.domNode),s=o.default.keys(this.domNode);t.concat(n).concat(s).forEach((function(t){var n=a.query(t,a.Scope.ATTRIBUTE);n instanceof i.default&&(e.attributes[n.attrName]=n)}))},e.prototype.copy=function(e){var t=this;Object.keys(this.attributes).forEach((function(n){var i=t.attributes[n].value(t.domNode);e.format(n,i)}))},e.prototype.move=function(e){var t=this;this.copy(e),Object.keys(this.attributes).forEach((function(e){t.attributes[e].remove(t.domNode)})),this.attributes={}},e.prototype.values=function(){var e=this;return Object.keys(this.attributes).reduce((function(t,n){return t[n]=e.attributes[n].value(e.domNode),t}),{})},e}();t.default=s},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});function o(e,t){return(e.getAttribute("class")||"").split(/\s+/).filter((function(e){return 0===e.indexOf(t+"-")}))}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.keys=function(e){return(e.getAttribute("class")||"").split(/\s+/).map((function(e){return e.split("-").slice(0,-1).join("-")}))},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(this.remove(e),e.classList.add(this.keyName+"-"+t),!0)},t.prototype.remove=function(e){o(e,this.keyName).forEach((function(t){e.classList.remove(t)})),0===e.classList.length&&e.removeAttribute("class")},t.prototype.value=function(e){var t=(o(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""},t}(n(12).default);t.default=a},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});function o(e){var t=e.split("-"),n=t.slice(1).map((function(e){return e[0].toUpperCase()+e.slice(1)})).join("");return t[0]+n}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.keys=function(e){return(e.getAttribute("style")||"").split(";").map((function(e){return e.split(":")[0].trim()}))},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.style[o(this.keyName)]=t,!0)},t.prototype.remove=function(e){e.style[o(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")},t.prototype.value=function(e){var t=e.style[o(this.keyName)];return this.canAdd(e,t)?t:""},t}(n(12).default);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.options=n,this.modules={}}return i(e,[{key:"init",value:function(){var e=this;Object.keys(this.options.modules).forEach((function(t){null==e.modules[t]&&e.addModule(t)}))}},{key:"addModule",value:function(e){var t=this.quill.constructor.import("modules/"+e);return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}}]),e}();r.DEFAULTS={modules:{}},r.themes={default:r},t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=s(n(0)),a=s(n(7));function s(e){return e&&e.__esModule?e:{default:e}}var u="\ufeff",l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.contentNode=document.createElement("span"),n.contentNode.setAttribute("contenteditable",!1),[].slice.call(n.domNode.childNodes).forEach((function(e){n.contentNode.appendChild(e)})),n.leftGuard=document.createTextNode(u),n.rightGuard=document.createTextNode(u),n.domNode.appendChild(n.leftGuard),n.domNode.appendChild(n.contentNode),n.domNode.appendChild(n.rightGuard),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"index",value:function(e,n){return e===this.leftGuard?0:e===this.rightGuard?1:r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,n)}},{key:"restore",value:function(e){var t=void 0,n=void 0,i=e.data.split(u).join("");if(e===this.leftGuard)if(this.prev instanceof a.default){var r=this.prev.length();this.prev.insertAt(r,i),t={startNode:this.prev.domNode,startOffset:r+i.length}}else n=document.createTextNode(i),this.parent.insertBefore(o.default.create(n),this),t={startNode:n,startOffset:i.length};else e===this.rightGuard&&(this.next instanceof a.default?(this.next.insertAt(0,i),t={startNode:this.next.domNode,startOffset:i.length}):(n=document.createTextNode(i),this.parent.insertBefore(o.default.create(n),this.next),t={startNode:n,startOffset:i.length}));return e.data=u,t}},{key:"update",value:function(e,t){var n=this;e.forEach((function(e){if("characterData"===e.type&&(e.target===n.leftGuard||e.target===n.rightGuard)){var i=n.restore(e.target);i&&(t.range=i)}}))}}]),t}(o.default.Embed);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlignStyle=t.AlignClass=t.AlignAttribute=void 0;var i,r=n(0),o=(i=r)&&i.__esModule?i:{default:i},a={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},s=new o.default.Attributor.Attribute("align","align",a),u=new o.default.Attributor.Class("align","ql-align",a),l=new o.default.Attributor.Style("align","text-align",a);t.AlignAttribute=s,t.AlignClass=u,t.AlignStyle=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundStyle=t.BackgroundClass=void 0;var i,r=n(0),o=(i=r)&&i.__esModule?i:{default:i},a=n(26),s=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),u=new a.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});t.BackgroundClass=s,t.BackgroundStyle=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DirectionStyle=t.DirectionClass=t.DirectionAttribute=void 0;var i,r=n(0),o=(i=r)&&i.__esModule?i:{default:i},a={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},s=new o.default.Attributor.Attribute("direction","dir",a),u=new o.default.Attributor.Class("direction","ql-direction",a),l=new o.default.Attributor.Style("direction","direction",a);t.DirectionAttribute=s,t.DirectionClass=u,t.DirectionStyle=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FontClass=t.FontStyle=void 0;var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=n(0),s=(i=a)&&i.__esModule?i:{default:i};function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c={scope:s.default.Scope.INLINE,whitelist:["serif","monospace"]},d=new s.default.Attributor.Class("font","ql-font",c),p=function(e){function t(){return u(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"value",value:function(e){return o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e).replace(/["']/g,"")}}]),t}(s.default.Attributor.Style),h=new p("font","font-family",c);t.FontStyle=h,t.FontClass=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SizeStyle=t.SizeClass=void 0;var i,r=n(0),o=(i=r)&&i.__esModule?i:{default:i},a=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),s=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});t.SizeClass=a,t.SizeStyle=s},function(e,t,n){"use strict";e.exports={align:{"":n(76),center:n(77),right:n(78),justify:n(79)},background:n(80),blockquote:n(81),bold:n(82),clean:n(83),code:n(58),"code-block":n(58),color:n(84),direction:{"":n(85),rtl:n(86)},float:{center:n(87),full:n(88),left:n(89),right:n(90)},formula:n(91),header:{1:n(92),2:n(93)},italic:n(94),image:n(95),indent:{"+1":n(96),"-1":n(97)},link:n(98),list:{ordered:n(99),bullet:n(100),check:n(101)},script:{sub:n(102),super:n(103)},strike:n(104),underline:n(105),video:n(106)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLastChangeIndex=t.default=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=a(n(0)),o=a(n(5));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.lastRecorded=0,i.ignoreChange=!1,i.clear(),i.quill.on(o.default.events.EDITOR_CHANGE,(function(e,t,n,r){e!==o.default.events.TEXT_CHANGE||i.ignoreChange||(i.options.userOnly&&r!==o.default.sources.USER?i.transform(t):i.record(t,n))})),i.quill.keyboard.addBinding({key:"Z",shortKey:!0},i.undo.bind(i)),i.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},i.redo.bind(i)),/Win/i.test(navigator.platform)&&i.quill.keyboard.addBinding({key:"Y",shortKey:!0},i.redo.bind(i)),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"change",value:function(e,t){if(0!==this.stack[e].length){var n=this.stack[e].pop();this.stack[t].push(n),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(n[e],o.default.sources.USER),this.ignoreChange=!1;var i=u(n[e]);this.quill.setSelection(i)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(e,t){if(0!==e.ops.length){this.stack.redo=[];var n=this.quill.getContents().diff(t),i=Date.now();if(this.lastRecorded+this.options.delay>i&&this.stack.undo.length>0){var r=this.stack.undo.pop();n=n.compose(r.undo),e=r.redo.compose(e)}else this.lastRecorded=i;this.stack.undo.push({redo:e,undo:n}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(e){this.stack.undo.forEach((function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)})),this.stack.redo.forEach((function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)}))}},{key:"undo",value:function(){this.change("undo","redo")}}]),t}(a(n(9)).default);function u(e){var t=e.reduce((function(e,t){return e+=t.delete||0}),0),n=e.length()-t;return function(e){var t=e.ops[e.ops.length-1];return null!=t&&(null!=t.insert?"string"==typeof t.insert&&t.insert.endsWith("\n"):null!=t.attributes&&Object.keys(t.attributes).some((function(e){return null!=r.default.query(e,r.default.Scope.BLOCK)})))}(e)&&(n-=1),n}s.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},t.default=s,t.getLastChangeIndex=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BaseTooltip=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=f(n(3)),a=f(n(2)),s=f(n(8)),u=f(n(23)),l=f(n(34)),c=f(n(59)),d=f(n(60)),p=f(n(28)),h=f(n(61));function f(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=[!1,"center","right","justify"],_=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],b=[!1,"serif","monospace"],w=["1","2","3",!1],E=["small",!1,"large","huge"],S=function(e){function t(e,n){m(this,t);var i=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return e.emitter.listenDOM("click",document.body,(function t(n){if(!document.body.contains(e.root))return document.body.removeEventListener("click",t);null==i.tooltip||i.tooltip.root.contains(n.target)||document.activeElement===i.tooltip.textbox||i.quill.hasFocus()||i.tooltip.hide(),null!=i.pickers&&i.pickers.forEach((function(e){e.container.contains(n.target)||e.close()}))})),i}return y(t,e),i(t,[{key:"addModule",value:function(e){var n=r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addModule",this).call(this,e);return"toolbar"===e&&this.extendToolbar(n),n}},{key:"buildButtons",value:function(e,t){e.forEach((function(e){(e.getAttribute("class")||"").split(/\s+/).forEach((function(n){if(n.startsWith("ql-")&&(n=n.slice("ql-".length),null!=t[n]))if("direction"===n)e.innerHTML=t[n][""]+t[n].rtl;else if("string"==typeof t[n])e.innerHTML=t[n];else{var i=e.value||"";null!=i&&t[n][i]&&(e.innerHTML=t[n][i])}}))}))}},{key:"buildPickers",value:function(e,t){var n=this;this.pickers=e.map((function(e){if(e.classList.contains("ql-align"))return null==e.querySelector("option")&&C(e,v),new d.default(e,t.align);if(e.classList.contains("ql-background")||e.classList.contains("ql-color")){var n=e.classList.contains("ql-background")?"background":"color";return null==e.querySelector("option")&&C(e,_,"background"===n?"#ffffff":"#000000"),new c.default(e,t[n])}return null==e.querySelector("option")&&(e.classList.contains("ql-font")?C(e,b):e.classList.contains("ql-header")?C(e,w):e.classList.contains("ql-size")&&C(e,E)),new p.default(e)})),this.quill.on(s.default.events.EDITOR_CHANGE,(function(){n.pickers.forEach((function(e){e.update()}))}))}}]),t}(l.default);S.DEFAULTS=(0,o.default)(!0,{},l.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var e=this,t=this.container.querySelector("input.ql-image[type=file]");null==t&&((t=document.createElement("input")).setAttribute("type","file"),t.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),t.classList.add("ql-image"),t.addEventListener("change",(function(){if(null!=t.files&&null!=t.files[0]){var n=new FileReader;n.onload=function(n){var i=e.quill.getSelection(!0);e.quill.updateContents((new a.default).retain(i.index).delete(i.length).insert({image:n.target.result}),s.default.sources.USER),e.quill.setSelection(i.index+1,s.default.sources.SILENT),t.value=""},n.readAsDataURL(t.files[0])}})),this.container.appendChild(t)),t.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var T=function(e){function t(e,n){m(this,t);var i=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.textbox=i.root.querySelector('input[type="text"]'),i.listen(),i}return y(t,e),i(t,[{key:"listen",value:function(){var e=this;this.textbox.addEventListener("keydown",(function(t){u.default.match(t,"enter")?(e.save(),t.preventDefault()):u.default.match(t,"escape")&&(e.cancel(),t.preventDefault())}))}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=t?this.textbox.value=t:e!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+e)||""),this.root.setAttribute("data-mode",e)}},{key:"restoreFocus",value:function(){var e=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=e}},{key:"save",value:function(){var e,t,n=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var i=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",n,s.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",n,s.default.sources.USER)),this.quill.root.scrollTop=i;break;case"video":t=(e=n).match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/),n=t?(t[1]||"https")+"://www.youtube.com/embed/"+t[2]+"?showinfo=0":(t=e.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(t[1]||"https")+"://player.vimeo.com/video/"+t[2]+"/":e;case"formula":if(!n)break;var r=this.quill.getSelection(!0);if(null!=r){var o=r.index+r.length;this.quill.insertEmbed(o,this.root.getAttribute("data-mode"),n,s.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(o+1," ",s.default.sources.USER),this.quill.setSelection(o+2,s.default.sources.USER)}}this.textbox.value="",this.hide()}}]),t}(h.default);function C(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.forEach((function(t){var i=document.createElement("option");t===n?i.setAttribute("selected","selected"):i.setAttribute("value",t),e.appendChild(i)}))}t.BaseTooltip=T,t.default=S},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this.head=this.tail=null,this.length=0}return e.prototype.append=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.insertBefore(e[0],null),e.length>1&&this.append.apply(this,e.slice(1))},e.prototype.contains=function(e){for(var t,n=this.iterator();t=n();)if(t===e)return!0;return!1},e.prototype.insertBefore=function(e,t){e&&(e.next=t,null!=t?(e.prev=t.prev,null!=t.prev&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):null!=this.tail?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)},e.prototype.offset=function(e){for(var t=0,n=this.head;null!=n;){if(n===e)return t;t+=n.length(),n=n.next}return-1},e.prototype.remove=function(e){this.contains(e)&&(null!=e.prev&&(e.prev.next=e.next),null!=e.next&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)},e.prototype.iterator=function(e){return void 0===e&&(e=this.head),function(){var t=e;return null!=e&&(e=e.next),t}},e.prototype.find=function(e,t){void 0===t&&(t=!1);for(var n,i=this.iterator();n=i();){var r=n.length();if(e<r||t&&e===r&&(null==n.next||0!==n.next.length()))return[n,e];e-=r}return[null,0]},e.prototype.forEach=function(e){for(var t,n=this.iterator();t=n();)e(t)},e.prototype.forEachAt=function(e,t,n){if(!(t<=0))for(var i,r=this.find(e),o=r[0],a=e-r[1],s=this.iterator(o);(i=s())&&a<e+t;){var u=i.length();e>a?n(i,e-a,Math.min(t,a+u-e)):n(i,0,Math.min(u,e+t-a)),a+=u}},e.prototype.map=function(e){return this.reduce((function(t,n){return t.push(e(n)),t}),[])},e.prototype.reduce=function(e,t){for(var n,i=this.iterator();n=i();)t=e(t,n);return t},e}();t.default=i},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(17),a=n(1),s={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},u=function(e){function t(t){var n=e.call(this,t)||this;return n.scroll=n,n.observer=new MutationObserver((function(e){n.update(e)})),n.observer.observe(n.domNode,s),n.attach(),n}return r(t,e),t.prototype.detach=function(){e.prototype.detach.call(this),this.observer.disconnect()},t.prototype.deleteAt=function(t,n){this.update(),0===t&&n===this.length()?this.children.forEach((function(e){e.remove()})):e.prototype.deleteAt.call(this,t,n)},t.prototype.formatAt=function(t,n,i,r){this.update(),e.prototype.formatAt.call(this,t,n,i,r)},t.prototype.insertAt=function(t,n,i){this.update(),e.prototype.insertAt.call(this,t,n,i)},t.prototype.optimize=function(t,n){var i=this;void 0===t&&(t=[]),void 0===n&&(n={}),e.prototype.optimize.call(this,n);for(var r=[].slice.call(this.observer.takeRecords());r.length>0;)t.push(r.pop());for(var s=function(e,t){void 0===t&&(t=!0),null!=e&&e!==i&&null!=e.domNode.parentNode&&(null==e.domNode[a.DATA_KEY].mutations&&(e.domNode[a.DATA_KEY].mutations=[]),t&&s(e.parent))},u=function(e){null!=e.domNode[a.DATA_KEY]&&null!=e.domNode[a.DATA_KEY].mutations&&(e instanceof o.default&&e.children.forEach(u),e.optimize(n))},l=t,c=0;l.length>0;c+=1){if(c>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(l.forEach((function(e){var t=a.find(e.target,!0);null!=t&&(t.domNode===e.target&&("childList"===e.type?(s(a.find(e.previousSibling,!1)),[].forEach.call(e.addedNodes,(function(e){var t=a.find(e,!1);s(t,!1),t instanceof o.default&&t.children.forEach((function(e){s(e,!1)}))}))):"attributes"===e.type&&s(t.prev)),s(t))})),this.children.forEach(u),r=(l=[].slice.call(this.observer.takeRecords())).slice();r.length>0;)t.push(r.pop())}},t.prototype.update=function(t,n){var i=this;void 0===n&&(n={}),(t=t||this.observer.takeRecords()).map((function(e){var t=a.find(e.target,!0);return null==t?null:null==t.domNode[a.DATA_KEY].mutations?(t.domNode[a.DATA_KEY].mutations=[e],t):(t.domNode[a.DATA_KEY].mutations.push(e),null)})).forEach((function(e){null!=e&&e!==i&&null!=e.domNode[a.DATA_KEY]&&e.update(e.domNode[a.DATA_KEY].mutations||[],n)})),null!=this.domNode[a.DATA_KEY].mutations&&e.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,n),this.optimize(t,n)},t.blotName="scroll",t.defaultChild="block",t.scope=a.Scope.BLOCK_BLOT,t.tagName="DIV",t}(o.default);t.default=u},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(18),a=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.formats=function(n){if(n.tagName!==t.tagName)return e.formats.call(this,n)},t.prototype.format=function(n,i){var r=this;n!==this.statics.blotName||i?e.prototype.format.call(this,n,i):(this.children.forEach((function(e){e instanceof o.default||(e=e.wrap(t.blotName,!0)),r.attributes.copy(e)})),this.unwrap())},t.prototype.formatAt=function(t,n,i,r){null!=this.formats()[i]||a.query(i,a.Scope.ATTRIBUTE)?this.isolate(t,n).format(i,r):e.prototype.formatAt.call(this,t,n,i,r)},t.prototype.optimize=function(n){e.prototype.optimize.call(this,n);var i=this.formats();if(0===Object.keys(i).length)return this.unwrap();var r=this.next;r instanceof t&&r.prev===this&&function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(e[n]!==t[n])return!1;return!0}(i,r.formats())&&(r.moveChildren(this),r.remove())},t.blotName="inline",t.scope=a.Scope.INLINE_BLOT,t.tagName="SPAN",t}(o.default);t.default=s},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(18),a=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.formats=function(n){var i=a.query(t.blotName).tagName;if(n.tagName!==i)return e.formats.call(this,n)},t.prototype.format=function(n,i){null!=a.query(n,a.Scope.BLOCK)&&(n!==this.statics.blotName||i?e.prototype.format.call(this,n,i):this.replaceWith(t.blotName))},t.prototype.formatAt=function(t,n,i,r){null!=a.query(i,a.Scope.BLOCK)?this.format(i,r):e.prototype.formatAt.call(this,t,n,i,r)},t.prototype.insertAt=function(t,n,i){if(null==i||null!=a.query(n,a.Scope.INLINE))e.prototype.insertAt.call(this,t,n,i);else{var r=this.split(t),o=a.create(n,i);r.parent.insertBefore(o,r)}},t.prototype.update=function(t,n){navigator.userAgent.match(/Trident/)?this.build():e.prototype.update.call(this,t,n)},t.blotName="block",t.scope=a.Scope.BLOCK_BLOT,t.tagName="P",t}(o.default);t.default=s},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.formats=function(e){},t.prototype.format=function(t,n){e.prototype.formatAt.call(this,0,this.length(),t,n)},t.prototype.formatAt=function(t,n,i,r){0===t&&n===this.length()?this.format(i,r):e.prototype.formatAt.call(this,t,n,i,r)},t.prototype.formats=function(){return this.statics.formats(this.domNode)},t}(n(19).default);t.default=o},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(19),a=n(1),s=function(e){function t(t){var n=e.call(this,t)||this;return n.text=n.statics.value(n.domNode),n}return r(t,e),t.create=function(e){return document.createTextNode(e)},t.value=function(e){var t=e.data;return t.normalize&&(t=t.normalize()),t},t.prototype.deleteAt=function(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)},t.prototype.index=function(e,t){return this.domNode===e?t:-1},t.prototype.insertAt=function(t,n,i){null==i?(this.text=this.text.slice(0,t)+n+this.text.slice(t),this.domNode.data=this.text):e.prototype.insertAt.call(this,t,n,i)},t.prototype.length=function(){return this.text.length},t.prototype.optimize=function(n){e.prototype.optimize.call(this,n),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof t&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},t.prototype.position=function(e,t){return void 0===t&&(t=!1),[this.domNode,e]},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var n=a.create(this.domNode.splitText(e));return this.parent.insertBefore(n,this.next),this.text=this.statics.value(this.domNode),n},t.prototype.update=function(e,t){var n=this;e.some((function(e){return"characterData"===e.type&&e.target===n.domNode}))&&(this.text=this.statics.value(this.domNode))},t.prototype.value=function(){return this.text},t.blotName="text",t.scope=a.Scope.INLINE_BLOT,t}(o.default);t.default=s},function(e,t,n){"use strict";var i=document.createElement("div");if(i.classList.toggle("test-class",!1),i.classList.contains("test-class")){var r=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return arguments.length>1&&!this.contains(e)==!t?t:r.call(this,e)}}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var n=this.toString();("number"!=typeof t||!isFinite(t)||Math.floor(t)!==t||t>n.length)&&(t=n.length),t-=e.length;var i=n.indexOf(e,t);return-1!==i&&i===t}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,n=Object(this),i=n.length>>>0,r=arguments[1],o=0;o<i;o++)if(t=n[o],e.call(r,t,o,n))return t}}),document.addEventListener("DOMContentLoaded",(function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)}))},function(e,t){var n=-1;function i(e,t,u){if(e==t)return e?[[0,e]]:[];(u<0||e.length<u)&&(u=null);var c=o(e,t),d=e.substring(0,c);c=a(e=e.substring(c),t=t.substring(c));var p=e.substring(e.length-c),h=function(e,t){var s;if(!e)return[[1,t]];if(!t)return[[n,e]];var u=e.length>t.length?e:t,l=e.length>t.length?t:e,c=u.indexOf(l);if(-1!=c)return s=[[1,u.substring(0,c)],[0,l],[1,u.substring(c+l.length)]],e.length>t.length&&(s[0][0]=s[2][0]=n),s;if(1==l.length)return[[n,e],[1,t]];var d=function(e,t){var n=e.length>t.length?e:t,i=e.length>t.length?t:e;if(n.length<4||2*i.length<n.length)return null;function r(e,t,n){for(var i,r,s,u,l=e.substring(n,n+Math.floor(e.length/4)),c=-1,d="";-1!=(c=t.indexOf(l,c+1));){var p=o(e.substring(n),t.substring(c)),h=a(e.substring(0,n),t.substring(0,c));d.length<h+p&&(d=t.substring(c-h,c)+t.substring(c,c+p),i=e.substring(0,n-h),r=e.substring(n+p),s=t.substring(0,c-h),u=t.substring(c+p))}return 2*d.length>=e.length?[i,r,s,u,d]:null}var s,u,l,c,d,p=r(n,i,Math.ceil(n.length/4)),h=r(n,i,Math.ceil(n.length/2));if(!p&&!h)return null;s=h?p&&p[4].length>h[4].length?p:h:p,e.length>t.length?(u=s[0],l=s[1],c=s[2],d=s[3]):(c=s[0],d=s[1],u=s[2],l=s[3]);var f=s[4];return[u,l,c,d,f]}(e,t);if(d){var p=d[0],h=d[1],f=d[2],m=d[3],g=d[4],y=i(p,f),v=i(h,m);return y.concat([[0,g]],v)}return function(e,t){for(var i=e.length,o=t.length,a=Math.ceil((i+o)/2),s=a,u=2*a,l=new Array(u),c=new Array(u),d=0;d<u;d++)l[d]=-1,c[d]=-1;l[s+1]=0,c[s+1]=0;for(var p=i-o,h=p%2!=0,f=0,m=0,g=0,y=0,v=0;v<a;v++){for(var _=-v+f;_<=v-m;_+=2){for(var b=s+_,w=(x=_==-v||_!=v&&l[b-1]<l[b+1]?l[b+1]:l[b-1]+1)-_;x<i&&w<o&&e.charAt(x)==t.charAt(w);)x++,w++;if(l[b]=x,x>i)m+=2;else if(w>o)f+=2;else if(h&&(T=s+p-_)>=0&&T<u&&-1!=c[T]&&x>=(S=i-c[T]))return r(e,t,x,w)}for(var E=-v+g;E<=v-y;E+=2){for(var S,T=s+E,C=(S=E==-v||E!=v&&c[T-1]<c[T+1]?c[T+1]:c[T-1]+1)-E;S<i&&C<o&&e.charAt(i-S-1)==t.charAt(o-C-1);)S++,C++;if(c[T]=S,S>i)y+=2;else if(C>o)g+=2;else if(!h){var x;if((b=s+p-E)>=0&&b<u&&-1!=l[b])if(w=s+(x=l[b])-b,x>=(S=i-S))return r(e,t,x,w)}}}return[[n,e],[1,t]]}(e,t)}(e=e.substring(0,e.length-c),t=t.substring(0,t.length-c));return d&&h.unshift([0,d]),p&&h.push([0,p]),s(h),null!=u&&(h=function(e,t){var i=function(e,t){if(0===t)return[0,e];for(var i=0,r=0;r<e.length;r++){var o=e[r];if(o[0]===n||0===o[0]){var a=i+o[1].length;if(t===a)return[r+1,e];if(t<a){e=e.slice();var s=t-i,u=[o[0],o[1].slice(0,s)],l=[o[0],o[1].slice(s)];return e.splice(r,1,u,l),[r+1,e]}i=a}}throw new Error("cursor_pos is out of bounds!")}(e,t),r=i[1],o=i[0],a=r[o],s=r[o+1];if(null==a)return e;if(0!==a[0])return e;if(null!=s&&a[1]+s[1]===s[1]+a[1])return r.splice(o,2,s,a),l(r,o,2);if(null!=s&&0===s[1].indexOf(a[1])){r.splice(o,2,[s[0],a[1]],[0,a[1]]);var u=s[1].slice(a[1].length);return u.length>0&&r.splice(o+2,0,[s[0],u]),l(r,o,3)}return e}(h,u)),h=function(e){for(var t=!1,i=function(e){return e.charCodeAt(0)>=56320&&e.charCodeAt(0)<=57343},r=function(e){return e.charCodeAt(e.length-1)>=55296&&e.charCodeAt(e.length-1)<=56319},o=2;o<e.length;o+=1)0===e[o-2][0]&&r(e[o-2][1])&&e[o-1][0]===n&&i(e[o-1][1])&&1===e[o][0]&&i(e[o][1])&&(t=!0,e[o-1][1]=e[o-2][1].slice(-1)+e[o-1][1],e[o][1]=e[o-2][1].slice(-1)+e[o][1],e[o-2][1]=e[o-2][1].slice(0,-1));if(!t)return e;var a=[];for(o=0;o<e.length;o+=1)e[o][1].length>0&&a.push(e[o]);return a}(h)}function r(e,t,n,r){var o=e.substring(0,n),a=t.substring(0,r),s=e.substring(n),u=t.substring(r),l=i(o,a),c=i(s,u);return l.concat(c)}function o(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var n=0,i=Math.min(e.length,t.length),r=i,o=0;n<r;)e.substring(o,r)==t.substring(o,r)?o=n=r:i=r,r=Math.floor((i-n)/2+n);return r}function a(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var n=0,i=Math.min(e.length,t.length),r=i,o=0;n<r;)e.substring(e.length-r,e.length-o)==t.substring(t.length-r,t.length-o)?o=n=r:i=r,r=Math.floor((i-n)/2+n);return r}function s(e){e.push([0,""]);for(var t,i=0,r=0,u=0,l="",c="";i<e.length;)switch(e[i][0]){case 1:u++,c+=e[i][1],i++;break;case n:r++,l+=e[i][1],i++;break;case 0:r+u>1?(0!==r&&0!==u&&(0!==(t=o(c,l))&&(i-r-u>0&&0==e[i-r-u-1][0]?e[i-r-u-1][1]+=c.substring(0,t):(e.splice(0,0,[0,c.substring(0,t)]),i++),c=c.substring(t),l=l.substring(t)),0!==(t=a(c,l))&&(e[i][1]=c.substring(c.length-t)+e[i][1],c=c.substring(0,c.length-t),l=l.substring(0,l.length-t))),0===r?e.splice(i-u,r+u,[1,c]):0===u?e.splice(i-r,r+u,[n,l]):e.splice(i-r-u,r+u,[n,l],[1,c]),i=i-r-u+(r?1:0)+(u?1:0)+1):0!==i&&0==e[i-1][0]?(e[i-1][1]+=e[i][1],e.splice(i,1)):i++,u=0,r=0,l="",c=""}""===e[e.length-1][1]&&e.pop();var d=!1;for(i=1;i<e.length-1;)0==e[i-1][0]&&0==e[i+1][0]&&(e[i][1].substring(e[i][1].length-e[i-1][1].length)==e[i-1][1]?(e[i][1]=e[i-1][1]+e[i][1].substring(0,e[i][1].length-e[i-1][1].length),e[i+1][1]=e[i-1][1]+e[i+1][1],e.splice(i-1,1),d=!0):e[i][1].substring(0,e[i+1][1].length)==e[i+1][1]&&(e[i-1][1]+=e[i+1][1],e[i][1]=e[i][1].substring(e[i+1][1].length)+e[i+1][1],e.splice(i+1,1),d=!0)),i++;d&&s(e)}var u=i;function l(e,t,n){for(var i=t+n-1;i>=0&&i>=t-1;i--)if(i+1<e.length){var r=e[i],o=e[i+1];r[0]===o[1]&&e.splice(i,2,[r[0],r[1]+o[1]])}return e}u.INSERT=1,u.DELETE=n,u.EQUAL=0,e.exports=u},function(e,t){function n(e){var t=[];for(var n in e)t.push(n);return t}(e.exports="function"==typeof Object.keys?Object.keys:n).shim=n},function(e,t){var n="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function i(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function r(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}(t=e.exports=n?i:r).supported=i,t.unsupported=r},function(e,t){"use strict";var n=Object.prototype.hasOwnProperty,i="~";function r(){}function o(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(i=!1)),a.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)n.call(e,t)&&r.push(i?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},a.prototype.listeners=function(e,t){var n=i?i+e:e,r=this._events[n];if(t)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var o=0,a=r.length,s=new Array(a);o<a;o++)s[o]=r[o].fn;return s},a.prototype.emit=function(e,t,n,r,o,a){var s=i?i+e:e;if(!this._events[s])return!1;var u,l,c=this._events[s],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,n),!0;case 4:return c.fn.call(c.context,t,n,r),!0;case 5:return c.fn.call(c.context,t,n,r,o),!0;case 6:return c.fn.call(c.context,t,n,r,o,a),!0}for(l=1,u=new Array(d-1);l<d;l++)u[l-1]=arguments[l];c.fn.apply(c.context,u)}else{var p,h=c.length;for(l=0;l<h;l++)switch(c[l].once&&this.removeListener(e,c[l].fn,void 0,!0),d){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,t);break;case 3:c[l].fn.call(c[l].context,t,n);break;case 4:c[l].fn.call(c[l].context,t,n,r);break;default:if(!u)for(p=1,u=new Array(d-1);p<d;p++)u[p-1]=arguments[p];c[l].fn.apply(c[l].context,u)}}return!0},a.prototype.on=function(e,t,n){var r=new o(t,n||this),a=i?i+e:e;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],r]:this._events[a].push(r):(this._events[a]=r,this._eventsCount++),this},a.prototype.once=function(e,t,n){var r=new o(t,n||this,!0),a=i?i+e:e;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],r]:this._events[a].push(r):(this._events[a]=r,this._eventsCount++),this},a.prototype.removeListener=function(e,t,n,o){var a=i?i+e:e;if(!this._events[a])return this;if(!t)return 0==--this._eventsCount?this._events=new r:delete this._events[a],this;var s=this._events[a];if(s.fn)s.fn!==t||o&&!s.once||n&&s.context!==n||(0==--this._eventsCount?this._events=new r:delete this._events[a]);else{for(var u=0,l=[],c=s.length;u<c;u++)(s[u].fn!==t||o&&!s[u].once||n&&s[u].context!==n)&&l.push(s[u]);l.length?this._events[a]=1===l.length?l[0]:l:0==--this._eventsCount?this._events=new r:delete this._events[a]}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&(0==--this._eventsCount?this._events=new r:delete this._events[t])):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prototype.setMaxListeners=function(){return this},a.prefixed=i,a.EventEmitter=a,void 0!==e&&(e.exports=a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.matchText=t.matchSpacing=t.matchNewline=t.matchBlot=t.matchAttributor=t.default=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=_(n(3)),s=_(n(2)),u=_(n(0)),l=_(n(5)),c=_(n(10)),d=_(n(9)),p=n(36),h=n(37),f=_(n(13)),m=n(26),g=n(38),y=n(39),v=n(40);function _(e){return e&&e.__esModule?e:{default:e}}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=(0,c.default)("quill:clipboard"),E="__ql-matcher",S=[[Node.TEXT_NODE,F],[Node.TEXT_NODE,L],["br",function(e,t){return I(t,"\n")||t.insert("\n"),t}],[Node.ELEMENT_NODE,L],[Node.ELEMENT_NODE,R],[Node.ELEMENT_NODE,M],[Node.ELEMENT_NODE,N],[Node.ELEMENT_NODE,function(e,t){var n={},i=e.style||{};return i.fontStyle&&"italic"===k(e).fontStyle&&(n.italic=!0),i.fontWeight&&(k(e).fontWeight.startsWith("bold")||parseInt(k(e).fontWeight)>=700)&&(n.bold=!0),Object.keys(n).length>0&&(t=A(t,n)),parseFloat(i.textIndent||0)>0&&(t=(new s.default).insert("\t").concat(t)),t}],["li",function(e,t){var n=u.default.query(e);if(null==n||"list-item"!==n.blotName||!I(t,"\n"))return t;for(var i=-1,r=e.parentNode;!r.classList.contains("ql-clipboard");)"list"===(u.default.query(r)||{}).blotName&&(i+=1),r=r.parentNode;return i<=0?t:t.compose((new s.default).retain(t.length()-1).retain(1,{indent:i}))}],["b",P.bind(P,"bold")],["i",P.bind(P,"italic")],["style",function(){return new s.default}]],T=[p.AlignAttribute,g.DirectionAttribute].reduce((function(e,t){return e[t.keyName]=t,e}),{}),C=[p.AlignStyle,h.BackgroundStyle,m.ColorStyle,g.DirectionStyle,y.FontStyle,v.SizeStyle].reduce((function(e,t){return e[t.keyName]=t,e}),{}),x=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.quill.root.addEventListener("paste",i.onPaste.bind(i)),i.container=i.quill.addContainer("ql-clipboard"),i.container.setAttribute("contenteditable",!0),i.container.setAttribute("tabindex",-1),i.matchers=[],S.concat(i.options.matchers).forEach((function(e){var t=r(e,2),o=t[0],a=t[1];(n.matchVisual||a!==M)&&i.addMatcher(o,a)})),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"addMatcher",value:function(e,t){this.matchers.push([e,t])}},{key:"convert",value:function(e){if("string"==typeof e)return this.container.innerHTML=e.replace(/\>\r?\n +\</g,"><"),this.convert();var t=this.quill.getFormat(this.quill.selection.savedRange.index);if(t[f.default.blotName]){var n=this.container.innerText;return this.container.innerHTML="",(new s.default).insert(n,b({},f.default.blotName,t[f.default.blotName]))}var i=this.prepareMatching(),o=r(i,2),a=o[0],u=o[1],l=O(this.container,a,u);return I(l,"\n")&&null==l.ops[l.ops.length-1].attributes&&(l=l.compose((new s.default).retain(l.length()-1).delete(1))),w.log("convert",this.container.innerHTML,l),this.container.innerHTML="",l}},{key:"dangerouslyPasteHTML",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.sources.API;if("string"==typeof e)this.quill.setContents(this.convert(e),t),this.quill.setSelection(0,l.default.sources.SILENT);else{var i=this.convert(t);this.quill.updateContents((new s.default).retain(e).concat(i),n),this.quill.setSelection(e+i.length(),l.default.sources.SILENT)}}},{key:"onPaste",value:function(e){var t=this;if(!e.defaultPrevented&&this.quill.isEnabled()){var n=this.quill.getSelection(),i=(new s.default).retain(n.index),r=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(l.default.sources.SILENT),setTimeout((function(){i=i.concat(t.convert()).delete(n.length),t.quill.updateContents(i,l.default.sources.USER),t.quill.setSelection(i.length()-n.length,l.default.sources.SILENT),t.quill.scrollingContainer.scrollTop=r,t.quill.focus()}),1)}}},{key:"prepareMatching",value:function(){var e=this,t=[],n=[];return this.matchers.forEach((function(i){var o=r(i,2),a=o[0],s=o[1];switch(a){case Node.TEXT_NODE:n.push(s);break;case Node.ELEMENT_NODE:t.push(s);break;default:[].forEach.call(e.container.querySelectorAll(a),(function(e){e[E]=e[E]||[],e[E].push(s)}))}})),[t,n]}}]),t}(d.default);function A(e,t,n){return"object"===(void 0===t?"undefined":i(t))?Object.keys(t).reduce((function(e,n){return A(e,n,t[n])}),e):e.reduce((function(e,i){return i.attributes&&i.attributes[t]?e.push(i):e.insert(i.insert,(0,a.default)({},b({},t,n),i.attributes))}),new s.default)}function k(e){if(e.nodeType!==Node.ELEMENT_NODE)return{};var t="__ql-computed-style";return e[t]||(e[t]=window.getComputedStyle(e))}function I(e,t){for(var n="",i=e.ops.length-1;i>=0&&n.length<t.length;--i){var r=e.ops[i];if("string"!=typeof r.insert)break;n=r.insert+n}return n.slice(-1*t.length)===t}function D(e){if(0===e.childNodes.length)return!1;var t=k(e);return["block","list-item"].indexOf(t.display)>-1}function O(e,t,n){return e.nodeType===e.TEXT_NODE?n.reduce((function(t,n){return n(e,t)}),new s.default):e.nodeType===e.ELEMENT_NODE?[].reduce.call(e.childNodes||[],(function(i,r){var o=O(r,t,n);return r.nodeType===e.ELEMENT_NODE&&(o=t.reduce((function(e,t){return t(r,e)}),o),o=(r[E]||[]).reduce((function(e,t){return t(r,e)}),o)),i.concat(o)}),new s.default):new s.default}function P(e,t,n){return A(n,e,!0)}function N(e,t){var n=u.default.Attributor.Attribute.keys(e),i=u.default.Attributor.Class.keys(e),r=u.default.Attributor.Style.keys(e),o={};return n.concat(i).concat(r).forEach((function(t){var n=u.default.query(t,u.default.Scope.ATTRIBUTE);null!=n&&(o[n.attrName]=n.value(e),o[n.attrName])||(null==(n=T[t])||n.attrName!==t&&n.keyName!==t||(o[n.attrName]=n.value(e)||void 0),null==(n=C[t])||n.attrName!==t&&n.keyName!==t||(n=C[t],o[n.attrName]=n.value(e)||void 0))})),Object.keys(o).length>0&&(t=A(t,o)),t}function R(e,t){var n=u.default.query(e);if(null==n)return t;if(n.prototype instanceof u.default.Embed){var i={},r=n.value(e);null!=r&&(i[n.blotName]=r,t=(new s.default).insert(i,n.formats(e)))}else"function"==typeof n.formats&&(t=A(t,n.blotName,n.formats(e)));return t}function L(e,t){return I(t,"\n")||(D(e)||t.length()>0&&e.nextSibling&&D(e.nextSibling))&&t.insert("\n"),t}function M(e,t){if(D(e)&&null!=e.nextElementSibling&&!I(t,"\n\n")){var n=e.offsetHeight+parseFloat(k(e).marginTop)+parseFloat(k(e).marginBottom);e.nextElementSibling.offsetTop>e.offsetTop+1.5*n&&t.insert("\n")}return t}function F(e,t){var n=e.data;if("O:P"===e.parentNode.tagName)return t.insert(n.trim());if(0===n.trim().length&&e.parentNode.classList.contains("ql-clipboard"))return t;if(!k(e.parentNode).whiteSpace.startsWith("pre")){var i=function(e,t){return(t=t.replace(/[^\u00a0]/g,"")).length<1&&e?" ":t};n=(n=n.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,i.bind(i,!0)),(null==e.previousSibling&&D(e.parentNode)||null!=e.previousSibling&&D(e.previousSibling))&&(n=n.replace(/^\s+/,i.bind(i,!1))),(null==e.nextSibling&&D(e.parentNode)||null!=e.nextSibling&&D(e.nextSibling))&&(n=n.replace(/\s+$/,i.bind(i,!1)))}return t.insert(n)}x.DEFAULTS={matchers:[],matchVisual:!0},t.default=x,t.matchAttributor=N,t.matchBlot=R,t.matchNewline=L,t.matchSpacing=M,t.matchText=F},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=n(6);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function t(){return s(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"optimize",value:function(e){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return o(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),t}(((i=a)&&i.__esModule?i:{default:i}).default);l.blotName="bold",l.tagName=["STRONG","B"],t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addControls=t.default=void 0;var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=c(n(2)),a=c(n(0)),s=c(n(5)),u=c(n(10)),l=c(n(9));function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=(0,u.default)("quill:toolbar"),h=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r,o=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));if(Array.isArray(o.options.container)){var a=document.createElement("div");m(a,o.options.container),e.container.parentNode.insertBefore(a,e.container),o.container=a}else"string"==typeof o.options.container?o.container=document.querySelector(o.options.container):o.container=o.options.container;return o.container instanceof HTMLElement?(o.container.classList.add("ql-toolbar"),o.controls=[],o.handlers={},Object.keys(o.options.handlers).forEach((function(e){o.addHandler(e,o.options.handlers[e])})),[].forEach.call(o.container.querySelectorAll("button, select"),(function(e){o.attach(e)})),o.quill.on(s.default.events.EDITOR_CHANGE,(function(e,t){e===s.default.events.SELECTION_CHANGE&&o.update(t)})),o.quill.on(s.default.events.SCROLL_OPTIMIZE,(function(){var e=o.quill.selection.getRange(),t=i(e,1)[0];o.update(t)})),o):(r=p.error("Container required for toolbar",o.options),d(o,r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"addHandler",value:function(e,t){this.handlers[e]=t}},{key:"attach",value:function(e){var t=this,n=[].find.call(e.classList,(function(e){return 0===e.indexOf("ql-")}));if(n){if(n=n.slice("ql-".length),"BUTTON"===e.tagName&&e.setAttribute("type","button"),null==this.handlers[n]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[n])return void p.warn("ignoring attaching to disabled format",n,e);if(null==a.default.query(n))return void p.warn("ignoring attaching to nonexistent format",n,e)}var r="SELECT"===e.tagName?"change":"click";e.addEventListener(r,(function(r){var u=void 0;if("SELECT"===e.tagName){if(e.selectedIndex<0)return;var l=e.options[e.selectedIndex];u=!l.hasAttribute("selected")&&(l.value||!1)}else u=!e.classList.contains("ql-active")&&(e.value||!e.hasAttribute("value")),r.preventDefault();t.quill.focus();var c=t.quill.selection.getRange(),d=i(c,1)[0];if(null!=t.handlers[n])t.handlers[n].call(t,u);else if(a.default.query(n).prototype instanceof a.default.Embed){if(!(u=prompt("Enter "+n)))return;t.quill.updateContents((new o.default).retain(d.index).delete(d.length).insert(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},n,u)),s.default.sources.USER)}else t.quill.format(n,u,s.default.sources.USER);t.update(d)})),this.controls.push([n,e])}}},{key:"update",value:function(e){var t=null==e?{}:this.quill.getFormat(e);this.controls.forEach((function(n){var r=i(n,2),o=r[0],a=r[1];if("SELECT"===a.tagName){var s=void 0;if(null==e)s=null;else if(null==t[o])s=a.querySelector("option[selected]");else if(!Array.isArray(t[o])){var u=t[o];"string"==typeof u&&(u=u.replace(/\"/g,'\\"')),s=a.querySelector('option[value="'+u+'"]')}null==s?(a.value="",a.selectedIndex=-1):s.selected=!0}else if(null==e)a.classList.remove("ql-active");else if(a.hasAttribute("value")){var l=t[o]===a.getAttribute("value")||null!=t[o]&&t[o].toString()===a.getAttribute("value")||null==t[o]&&!a.getAttribute("value");a.classList.toggle("ql-active",l)}else a.classList.toggle("ql-active",null!=t[o])}))}}]),t}(l.default);function f(e,t,n){var i=document.createElement("button");i.setAttribute("type","button"),i.classList.add("ql-"+t),null!=n&&(i.value=n),e.appendChild(i)}function m(e,t){Array.isArray(t[0])||(t=[t]),t.forEach((function(t){var n=document.createElement("span");n.classList.add("ql-formats"),t.forEach((function(e){if("string"==typeof e)f(n,e);else{var t=Object.keys(e)[0],i=e[t];Array.isArray(i)?function(e,t,n){var i=document.createElement("select");i.classList.add("ql-"+t),n.forEach((function(e){var t=document.createElement("option");!1!==e?t.setAttribute("value",e):t.setAttribute("selected","selected"),i.appendChild(t)})),e.appendChild(i)}(n,t,i):f(n,t,i)}})),e.appendChild(n)}))}h.DEFAULTS={},h.DEFAULTS={container:null,handlers:{clean:function(){var e=this,t=this.quill.getSelection();if(null!=t)if(0==t.length){var n=this.quill.getFormat();Object.keys(n).forEach((function(t){null!=a.default.query(t,a.default.Scope.INLINE)&&e.quill.format(t,!1)}))}else this.quill.removeFormat(t,s.default.sources.USER)},direction:function(e){var t=this.quill.getFormat().align;"rtl"===e&&null==t?this.quill.format("align","right",s.default.sources.USER):e||"right"!==t||this.quill.format("align",!1,s.default.sources.USER),this.quill.format("direction",e,s.default.sources.USER)},indent:function(e){var t=this.quill.getSelection(),n=this.quill.getFormat(t),i=parseInt(n.indent||0);if("+1"===e||"-1"===e){var r="+1"===e?1:-1;"rtl"===n.direction&&(r*=-1),this.quill.format("indent",i+r,s.default.sources.USER)}},link:function(e){!0===e&&(e=prompt("Enter link URL:")),this.quill.format("link",e,s.default.sources.USER)},list:function(e){var t=this.quill.getSelection(),n=this.quill.getFormat(t);"check"===e?"checked"===n.list||"unchecked"===n.list?this.quill.format("list",!1,s.default.sources.USER):this.quill.format("list","unchecked",s.default.sources.USER):this.quill.format("list",e,s.default.sources.USER)}}},t.default=h,t.addControls=m},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=n(28),s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.label.innerHTML=n,i.container.classList.add("ql-color-picker"),[].slice.call(i.container.querySelectorAll(".ql-picker-item"),0,7).forEach((function(e){e.classList.add("ql-primary")})),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"buildItem",value:function(e){var n=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"buildItem",this).call(this,e);return n.style.backgroundColor=e.getAttribute("value")||"",n}},{key:"selectItem",value:function(e,n){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,n);var i=this.label.querySelector(".ql-color-label"),r=e&&e.getAttribute("data-value")||"";i&&("line"===i.tagName?i.style.stroke=r:i.style.fill=r)}}]),t}(((i=a)&&i.__esModule?i:{default:i}).default);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=n(28),s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.container.classList.add("ql-icon-picker"),[].forEach.call(i.container.querySelectorAll(".ql-picker-item"),(function(e){e.innerHTML=n[e.getAttribute("data-value")||""]})),i.defaultItem=i.container.querySelector(".ql-selected"),i.selectItem(i.defaultItem),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"selectItem",value:function(e,n){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,n),e=e||this.defaultItem,this.label.innerHTML=e.innerHTML}}]),t}(((i=a)&&i.__esModule?i:{default:i}).default);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.boundsContainer=n||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",(function(){i.root.style.marginTop=-1*i.quill.root.scrollTop+"px"})),this.hide()}return i(e,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(e){var t=e.left+e.width/2-this.root.offsetWidth/2,n=e.bottom+this.quill.root.scrollTop;this.root.style.left=t+"px",this.root.style.top=n+"px",this.root.classList.remove("ql-flip");var i=this.boundsContainer.getBoundingClientRect(),r=this.root.getBoundingClientRect(),o=0;if(r.right>i.right&&(o=i.right-r.right,this.root.style.left=t+o+"px"),r.left<i.left&&(o=i.left-r.left,this.root.style.left=t+o+"px"),r.bottom>i.bottom){var a=r.bottom-r.top,s=e.bottom-e.top+a;this.root.style.top=n-s+"px",this.root.classList.add("ql-flip")}return o}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=h(n(3)),s=h(n(8)),u=n(43),l=h(u),c=h(n(27)),d=n(15),p=h(n(41));function h(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],v=function(e){function t(e,n){f(this,t),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=y);var i=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.quill.container.classList.add("ql-snow"),i}return g(t,e),o(t,[{key:"extendToolbar",value:function(e){e.container.classList.add("ql-snow"),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),p.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),p.default),this.tooltip=new _(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},(function(t,n){e.handlers.link.call(e,!n.format.link)}))}}]),t}(l.default);v.DEFAULTS=(0,a.default)(!0,{},l.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){if(e){var t=this.quill.getSelection();if(null==t||0==t.length)return;var n=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(n)&&0!==n.indexOf("mailto:")&&(n="mailto:"+n),this.quill.theme.tooltip.edit("link",n)}else this.quill.format("link",!1)}}}}});var _=function(e){function t(e,n){f(this,t);var i=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.preview=i.root.querySelector("a.ql-preview"),i}return g(t,e),o(t,[{key:"listen",value:function(){var e=this;r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",(function(t){e.root.classList.contains("ql-editing")?e.save():e.edit("link",e.preview.textContent),t.preventDefault()})),this.root.querySelector("a.ql-remove").addEventListener("click",(function(t){if(null!=e.linkRange){var n=e.linkRange;e.restoreFocus(),e.quill.formatText(n,"link",!1,s.default.sources.USER),delete e.linkRange}t.preventDefault(),e.hide()})),this.quill.on(s.default.events.SELECTION_CHANGE,(function(t,n,r){if(null!=t){if(0===t.length&&r===s.default.sources.USER){var o=e.quill.scroll.descendant(c.default,t.index),a=i(o,2),u=a[0],l=a[1];if(null!=u){e.linkRange=new d.Range(t.index-l,u.length());var p=c.default.formats(u.domNode);return e.preview.textContent=p,e.preview.setAttribute("href",p),e.show(),void e.position(e.quill.getBounds(e.linkRange))}}else delete e.linkRange;e.hide()}}))}},{key:"show",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),t}(u.BaseTooltip);_.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=L(n(29)),r=n(36),o=n(38),a=n(64),s=L(n(65)),u=L(n(66)),l=n(67),c=L(l),d=n(37),p=n(26),h=n(39),f=n(40),m=L(n(56)),g=L(n(68)),y=L(n(27)),v=L(n(69)),_=L(n(70)),b=L(n(71)),w=L(n(72)),E=L(n(73)),S=n(13),T=L(S),C=L(n(74)),x=L(n(75)),A=L(n(57)),k=L(n(41)),I=L(n(28)),D=L(n(59)),O=L(n(60)),P=L(n(61)),N=L(n(108)),R=L(n(62));function L(e){return e&&e.__esModule?e:{default:e}}i.default.register({"attributors/attribute/direction":o.DirectionAttribute,"attributors/class/align":r.AlignClass,"attributors/class/background":d.BackgroundClass,"attributors/class/color":p.ColorClass,"attributors/class/direction":o.DirectionClass,"attributors/class/font":h.FontClass,"attributors/class/size":f.SizeClass,"attributors/style/align":r.AlignStyle,"attributors/style/background":d.BackgroundStyle,"attributors/style/color":p.ColorStyle,"attributors/style/direction":o.DirectionStyle,"attributors/style/font":h.FontStyle,"attributors/style/size":f.SizeStyle},!0),i.default.register({"formats/align":r.AlignClass,"formats/direction":o.DirectionClass,"formats/indent":a.IndentClass,"formats/background":d.BackgroundStyle,"formats/color":p.ColorStyle,"formats/font":h.FontClass,"formats/size":f.SizeClass,"formats/blockquote":s.default,"formats/code-block":T.default,"formats/header":u.default,"formats/list":c.default,"formats/bold":m.default,"formats/code":S.Code,"formats/italic":g.default,"formats/link":y.default,"formats/script":v.default,"formats/strike":_.default,"formats/underline":b.default,"formats/image":w.default,"formats/video":E.default,"formats/list/item":l.ListItem,"modules/formula":C.default,"modules/syntax":x.default,"modules/toolbar":A.default,"themes/bubble":N.default,"themes/snow":R.default,"ui/icons":k.default,"ui/picker":I.default,"ui/icon-picker":O.default,"ui/color-picker":D.default,"ui/tooltip":P.default},!0),t.default=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IndentClass=void 0;var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=n(0),s=(i=a)&&i.__esModule?i:{default:i};function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){return u(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"add",value:function(e,n){if("+1"===n||"-1"===n){var i=this.value(e)||0;n="+1"===n?i+1:i-1}return 0===n?(this.remove(e),!0):o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",this).call(this,e,n)}},{key:"canAdd",value:function(e,n){return o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,n)||o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,parseInt(n))}},{key:"value",value:function(e){return parseInt(o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e))||void 0}}]),t}(s.default.Attributor.Class),d=new c("indent","ql-indent",{scope:s.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});t.IndentClass=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(4);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((i=r)&&i.__esModule?i:{default:i}).default);s.blotName="blockquote",s.tagName="blockquote",t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(4);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=function(e){function t(){return a(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,null,[{key:"formats",value:function(e){return this.tagName.indexOf(e.tagName)+1}}]),t}(((i=o)&&i.__esModule?i:{default:i}).default);u.blotName="header",u.tagName=["H1","H2","H3","H4","H5","H6"],t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ListItem=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=u(n(0)),a=u(n(4)),s=u(n(25));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e){function t(){return l(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),i(t,[{key:"format",value:function(e,n){e!==h.blotName||n?r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n):this.replaceWith(o.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(e,n){return this.parent.isolate(this.offset(this.parent),this.length()),e===this.parent.statics.blotName?(this.parent.replaceWith(e,n),this):(this.parent.unwrap(),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e,n))}}],[{key:"formats",value:function(e){return e.tagName===this.tagName?void 0:r(t.__proto__||Object.getPrototypeOf(t),"formats",this).call(this,e)}}]),t}(a.default);p.blotName="list-item",p.tagName="LI";var h=function(e){function t(e){l(this,t);var n=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),i=function(t){if(t.target.parentNode===e){var i=n.statics.formats(e),r=o.default.find(t.target);"checked"===i?r.format("list","unchecked"):"unchecked"===i&&r.format("list","checked")}};return e.addEventListener("touchstart",i),e.addEventListener("mousedown",i),n}return d(t,e),i(t,null,[{key:"create",value:function(e){var n="ordered"===e?"OL":"UL",i=r(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,n);return"checked"!==e&&"unchecked"!==e||i.setAttribute("data-checked","checked"===e),i}},{key:"formats",value:function(e){return"OL"===e.tagName?"ordered":"UL"===e.tagName?e.hasAttribute("data-checked")?"true"===e.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),i(t,[{key:"format",value:function(e,t){this.children.length>0&&this.children.tail.format(e,t)}},{key:"formats",value:function(){return e={},t=this.statics.blotName,n=this.statics.formats(this.domNode),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e;var e,t,n}},{key:"insertBefore",value:function(e,n){if(e instanceof p)r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,n);else{var i=null==n?this.length():n.offset(this),o=this.split(i);o.parent.insertBefore(e,o)}}},{key:"optimize",value:function(e){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&n.domNode.tagName===this.domNode.tagName&&n.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(n.moveChildren(this),n.remove())}},{key:"replace",value:function(e){if(e.statics.blotName!==this.statics.blotName){var n=o.default.create(this.statics.defaultChild);e.moveChildren(n),this.appendChild(n)}r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e)}}]),t}(s.default);h.blotName="list",h.scope=o.default.Scope.BLOCK_BLOT,h.tagName=["OL","UL"],h.defaultChild="list-item",h.allowedChildren=[p],t.ListItem=p,t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(56);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((i=r)&&i.__esModule?i:{default:i}).default);s.blotName="italic",s.tagName=["EM","I"],t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=n(6);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function t(){return s(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,null,[{key:"create",value:function(e){return"super"===e?document.createElement("sup"):"sub"===e?document.createElement("sub"):o(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e)}},{key:"formats",value:function(e){return"SUB"===e.tagName?"sub":"SUP"===e.tagName?"super":void 0}}]),t}(((i=a)&&i.__esModule?i:{default:i}).default);l.blotName="script",l.tagName=["SUB","SUP"],t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(6);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((i=r)&&i.__esModule?i:{default:i}).default);s.blotName="strike",s.tagName="S",t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(6);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((i=r)&&i.__esModule?i:{default:i}).default);s.blotName="underline",s.tagName="U",t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=n(0),s=(i=a)&&i.__esModule?i:{default:i},u=n(27);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=["alt","height","width"],p=function(e){function t(){return l(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"format",value:function(e,n){d.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n)}}],[{key:"create",value:function(e){var n=o(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"==typeof e&&n.setAttribute("src",this.sanitize(e)),n}},{key:"formats",value:function(e){return d.reduce((function(t,n){return e.hasAttribute(n)&&(t[n]=e.getAttribute(n)),t}),{})}},{key:"match",value:function(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}},{key:"sanitize",value:function(e){return(0,u.sanitize)(e,["http","https","data"])?e:"//:0"}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(s.default.Embed);p.blotName="image",p.tagName="IMG",t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=n(4),s=n(27),u=(i=s)&&i.__esModule?i:{default:i};function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=["height","width"],p=function(e){function t(){return l(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"format",value:function(e,n){d.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n)}}],[{key:"create",value:function(e){var n=o(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen",!0),n.setAttribute("src",this.sanitize(e)),n}},{key:"formats",value:function(e){return d.reduce((function(t,n){return e.hasAttribute(n)&&(t[n]=e.getAttribute(n)),t}),{})}},{key:"sanitize",value:function(e){return u.default.sanitize(e)}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(a.BlockEmbed);p.blotName="video",p.className="ql-video",p.tagName="IFRAME",t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FormulaBlot=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=u(n(35)),a=u(n(5)),s=u(n(9));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e){function t(){return l(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),i(t,null,[{key:"create",value:function(e){var n=r(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"==typeof e&&(window.katex.render(e,n,{throwOnError:!1,errorColor:"#f00"}),n.setAttribute("data-value",e)),n}},{key:"value",value:function(e){return e.getAttribute("data-value")}}]),t}(o.default);p.blotName="formula",p.className="ql-formula",p.tagName="SPAN";var h=function(e){function t(){l(this,t);var e=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return e}return d(t,e),i(t,null,[{key:"register",value:function(){a.default.register(p,!0)}}]),t}(s.default);t.FormulaBlot=p,t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CodeToken=t.CodeBlock=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=u(n(0)),a=u(n(5)),s=u(n(9));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e){function t(){return l(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),i(t,[{key:"replaceWith",value:function(e){this.domNode.textContent=this.domNode.textContent,this.attach(),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e)}},{key:"highlight",value:function(e){var t=this.domNode.textContent;this.cachedText!==t&&((t.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=e(t),this.domNode.normalize(),this.attach()),this.cachedText=t)}}]),t}(u(n(13)).default);p.className="ql-syntax";var h=new o.default.Attributor.Class("token","hljs",{scope:o.default.Scope.INLINE}),f=function(e){function t(e,n){l(this,t);var i=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));if("function"!=typeof i.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var r=null;return i.quill.on(a.default.events.SCROLL_OPTIMIZE,(function(){clearTimeout(r),r=setTimeout((function(){i.highlight(),r=null}),i.options.interval)})),i.highlight(),i}return d(t,e),i(t,null,[{key:"register",value:function(){a.default.register(h,!0),a.default.register(p,!0)}}]),i(t,[{key:"highlight",value:function(){var e=this;if(!this.quill.selection.composing){this.quill.update(a.default.sources.USER);var t=this.quill.getSelection();this.quill.scroll.descendants(p).forEach((function(t){t.highlight(e.options.highlight)})),this.quill.update(a.default.sources.SILENT),null!=t&&this.quill.setSelection(t,a.default.sources.SILENT)}}}]),t}(s.default);f.DEFAULTS={highlight:null==window.hljs?null:function(e){return window.hljs.highlightAuto(e).value},interval:1e3},t.CodeBlock=p,t.CodeToken=h,t.default=f},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BubbleTooltip=void 0;var i=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=d(n(3)),a=d(n(8)),s=n(43),u=d(s),l=n(15),c=d(n(41));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],g=function(e){function t(e,n){p(this,t),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=m);var i=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.quill.container.classList.add("ql-bubble"),i}return f(t,e),r(t,[{key:"extendToolbar",value:function(e){this.tooltip=new y(this.quill,this.options.bounds),this.tooltip.root.appendChild(e.container),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),c.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),c.default)}}]),t}(u.default);g.DEFAULTS=(0,o.default)(!0,{},u.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){e?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var y=function(e){function t(e,n){p(this,t);var i=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.quill.on(a.default.events.EDITOR_CHANGE,(function(e,t,n,r){if(e===a.default.events.SELECTION_CHANGE)if(null!=t&&t.length>0&&r===a.default.sources.USER){i.show(),i.root.style.left="0px",i.root.style.width="",i.root.style.width=i.root.offsetWidth+"px";var o=i.quill.getLines(t.index,t.length);if(1===o.length)i.position(i.quill.getBounds(t));else{var s=o[o.length-1],u=i.quill.getIndex(s),c=Math.min(s.length()-1,t.index+t.length-u),d=i.quill.getBounds(new l.Range(u,c));i.position(d)}}else document.activeElement!==i.textbox&&i.quill.hasFocus()&&i.hide()})),i}return f(t,e),r(t,[{key:"listen",value:function(){var e=this;i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",(function(){e.root.classList.remove("ql-editing")})),this.quill.on(a.default.events.SCROLL_OPTIMIZE,(function(){setTimeout((function(){if(!e.root.classList.contains("ql-hidden")){var t=e.quill.getSelection();null!=t&&e.position(e.quill.getBounds(t))}}),1)}))}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(e){var n=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"position",this).call(this,e),r=this.root.querySelector(".ql-tooltip-arrow");if(r.style.marginLeft="",0===n)return n;r.style.marginLeft=-1*n-r.offsetWidth/2+"px"}}]),t}(s.BaseTooltip);y.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),t.BubbleTooltip=y,t.default=g},function(e,t,n){e.exports=n(63)}]).default},"object"==typeof n&&"object"==typeof t?t.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof n?n.Quill=r():i.Quill=r()}).call(this,e("buffer").Buffer)},{buffer:285}],523:[function(e,t,n){var i=e("assert"),r=e("./types"),o=r.namedTypes,a=r.builtInTypes.array,s=r.builtInTypes.object,u=e("./lines"),l=(u.fromString,u.Lines),c=u.concat,d=e("./util"),p=d.comparePos,h=e("private").makeUniqueKey();function f(e,t,n){if(e){if(d.fixFaultyLocations(e,t),n){if(o.Node.check(e)&&o.SourceLocation.check(e.loc)){for(var i=n.length-1;i>=0&&!(p(n[i].loc.end,e.loc.start)<=0);--i);return void n.splice(i+1,0,e)}}else if(e[h])return e[h];var u;if(a.check(e))u=Object.keys(e);else{if(!s.check(e))return;u=r.getFieldNames(e)}n||Object.defineProperty(e,h,{value:n=[],enumerable:!1});i=0;for(var l=u.length;i<l;++i)f(e[u[i]],t,n);return n}}function m(e,t,n){for(var i=f(e,n),r=0,o=i.length;r<o;){var a=r+o>>1,s=i[a];if(p(s.loc.start,t.loc.start)<=0&&p(t.loc.end,s.loc.end)<=0)return void m(t.enclosingNode=s,t,n);if(p(s.loc.end,t.loc.start)<=0){var u=s;r=a+1}else{if(!(p(t.loc.end,s.loc.start)<=0))throw new Error("Comment location overlaps with node location");var l=s;o=a}}u&&(t.precedingNode=u),l&&(t.followingNode=l)}function g(e,t){var n=e.length;if(0!==n){for(var r=e[0].precedingNode,o=e[0].followingNode,a=o.loc.start,s=n;s>0;--s){var u=e[s-1];i.strictEqual(u.precedingNode,r),i.strictEqual(u.followingNode,o);var l=t.sliceString(u.loc.end,a);if(/\S/.test(l))break;a=u.loc.start}for(;s<=n&&(u=e[s])&&("Line"===u.type||"CommentLine"===u.type)&&u.loc.start.column>o.loc.start.column;)++s;e.forEach((function(e,t){t<s?_(r,e):v(o,e)})),e.length=0}}function y(e,t){(e.comments||(e.comments=[])).push(t)}function v(e,t){t.leading=!0,t.trailing=!1,y(e,t)}function _(e,t){t.leading=!1,t.trailing=!0,y(e,t)}n.attach=function(e,t,n){if(a.check(e)){var r=[];e.forEach((function(e){e.loc.lines=n,m(t,e,n);var o=e.precedingNode,a=e.enclosingNode,s=e.followingNode;if(o&&s){var u=r.length;if(u>0){var l=r[u-1];i.strictEqual(l.precedingNode===e.precedingNode,l.followingNode===e.followingNode),l.followingNode!==e.followingNode&&g(r,n)}r.push(e)}else if(o)g(r,n),_(o,e);else if(s)g(r,n),v(s,e);else{if(!a)throw new Error("AST contains no nodes at all?");g(r,n),function(e,t){t.leading=!1,t.trailing=!1,y(e,t)}(a,e)}})),g(r,n),e.forEach((function(e){delete e.precedingNode,delete e.enclosingNode,delete e.followingNode}))}},n.printComments=function(e,t){var n=e.getValue(),i=t(e),a=o.Node.check(n)&&r.getFieldValue(n,"comments");if(!a||0===a.length)return i;var s=[],u=[i];return e.each((function(e){var i=e.getValue(),a=r.getFieldValue(i,"leading"),d=r.getFieldValue(i,"trailing");a||d&&!o.Statement.check(n)&&"Block"!==i.type&&"CommentBlock"!==i.type?s.push(function(e,t){var n=e.getValue();o.Comment.assert(n);var i=n.loc,r=i&&i.lines,a=[t(e)];if(n.trailing)a.push("\n");else if(r instanceof l){var s=r.slice(i.end,r.skipSpaces(i.end));1===s.length?a.push(s):a.push(new Array(s.length).join("\n"))}else a.push("\n");return c(a)}(e,t)):d&&u.push(function(e,t){var n=e.getValue(e);o.Comment.assert(n);var i=n.loc,r=i&&i.lines,a=[];if(r instanceof l){var s=r.skipSpaces(i.start,!0)||r.firstPos(),u=r.slice(s,i.start);1===u.length?a.push(u):a.push(new Array(u.length).join("\n"))}return a.push(t(e)),c(a)}(e,t))}),"comments"),s.push.apply(s,u),c(s)}},{"./lines":525,"./types":531,"./util":532,assert:273,private:518}],524:[function(e,t,n){var i=e("assert"),r=e("./types"),o=r.namedTypes,a=(o.Node,r.builtInTypes.array),s=r.builtInTypes.number;function u(e){i.ok(this instanceof u),this.stack=[e]}var l=u.prototype;function c(e,t){for(var n=e.stack,i=n.length-1;i>=0;i-=2){var r=n[i];if(o.Node.check(r)&&--t<0)return r}return null}function d(e){return o.BinaryExpression.check(e)||o.LogicalExpression.check(e)}t.exports=u,u.from=function(e){if(e instanceof u)return e.copy();if(e instanceof r.NodePath){for(var t,n=Object.create(u.prototype),i=[e.value];t=e.parentPath;e=t)i.push(e.name,t.value);return n.stack=i.reverse(),n}return new u(e)},l.copy=function(){var e=Object.create(u.prototype);return e.stack=this.stack.slice(0),e},l.getName=function(){var e=this.stack,t=e.length;return t>1?e[t-2]:null},l.getValue=function(){var e=this.stack;return e[e.length-1]},l.valueIsDuplicate=function(){var e=this.stack,t=e.length-1;return e.lastIndexOf(e[t],t-1)>=0},l.getNode=function(e){return c(this,~~e)},l.getParentNode=function(e){return c(this,1+~~e)},l.getRootValue=function(){var e=this.stack;return e.length%2==0?e[1]:e[0]},l.call=function(e){for(var t=this.stack,n=t.length,i=t[n-1],r=arguments.length,o=1;o<r;++o){var a=arguments[o];i=i[a],t.push(a,i)}var s=e(this);return t.length=n,s},l.each=function(e){for(var t=this.stack,n=t.length,i=t[n-1],r=arguments.length,o=1;o<r;++o){var a=arguments[o];i=i[a],t.push(a,i)}for(o=0;o<i.length;++o)o in i&&(t.push(o,i[o]),e(this),t.length-=2);t.length=n},l.map=function(e){for(var t=this.stack,n=t.length,i=t[n-1],r=arguments.length,o=1;o<r;++o){var a=arguments[o];i=i[a],t.push(a,i)}var s=new Array(i.length);for(o=0;o<i.length;++o)o in i&&(t.push(o,i[o]),s[o]=e(this,o),t.length-=2);return t.length=n,s},l.needsParens=function(e){var t=this.getNode();if("AssignmentExpression"===t.type&&"ObjectPattern"===t.left.type)return!0;var n=this.getParentNode();if(!n)return!1;var r=this.getName();if(this.getValue()!==t)return!1;if(o.Statement.check(t))return!1;if("Identifier"===t.type)return!1;if("ParenthesizedExpression"===n.type)return!1;switch(t.type){case"UnaryExpression":case"SpreadElement":case"SpreadProperty":return"MemberExpression"===n.type&&"object"===r&&n.object===t;case"BinaryExpression":case"LogicalExpression":switch(n.type){case"CallExpression":return"callee"===r&&n.callee===t;case"UnaryExpression":case"SpreadElement":case"SpreadProperty":return!0;case"MemberExpression":return"object"===r&&n.object===t;case"BinaryExpression":case"LogicalExpression":var a=n.operator,u=p[a],l=t.operator,c=p[l];if(u>c)return!0;if(u===c&&"right"===r)return i.strictEqual(n.right,t),!0;default:return!1}case"SequenceExpression":switch(n.type){case"ReturnStatement":case"ForStatement":return!1;case"ExpressionStatement":return"expression"!==r;default:return!0}case"YieldExpression":switch(n.type){case"BinaryExpression":case"LogicalExpression":case"UnaryExpression":case"SpreadElement":case"SpreadProperty":case"CallExpression":case"MemberExpression":case"NewExpression":case"ConditionalExpression":case"YieldExpression":return!0;default:return!1}case"IntersectionTypeAnnotation":case"UnionTypeAnnotation":return"NullableTypeAnnotation"===n.type;case"Literal":return"MemberExpression"===n.type&&s.check(t.value)&&"object"===r&&n.object===t;case"NumericLiteral":return"MemberExpression"===n.type&&"object"===r&&n.object===t;case"AssignmentExpression":case"ConditionalExpression":switch(n.type){case"UnaryExpression":case"SpreadElement":case"SpreadProperty":case"BinaryExpression":case"LogicalExpression":return!0;case"CallExpression":return"callee"===r&&n.callee===t;case"ConditionalExpression":return"test"===r&&n.test===t;case"MemberExpression":return"object"===r&&n.object===t;default:return!1}case"ArrowFunctionExpression":return!(!o.CallExpression.check(n)||"callee"!==r)||(!(!o.MemberExpression.check(n)||"object"!==r)||d(n));case"ObjectExpression":if("ArrowFunctionExpression"===n.type&&"body"===r)return!0;default:if("NewExpression"===n.type&&"callee"===r&&n.callee===t)return h(t)}return!(!0===e||this.canBeFirstInStatement()||!this.firstInStatement())};var p={};function h(e){return!!o.CallExpression.check(e)||(a.check(e)?e.some(h):!!o.Node.check(e)&&r.someField(e,(function(e,t){return h(t)})))}[["||"],["&&"],["|"],["^"],["&"],["==","===","!=","!=="],["<",">","<=",">=","in","instanceof"],[">>","<<",">>>"],["+","-"],["*","/","%","**"]].forEach((function(e,t){e.forEach((function(e){p[e]=t}))})),l.canBeFirstInStatement=function(){var e=this.getNode();return!o.FunctionExpression.check(e)&&!o.ObjectExpression.check(e)},l.firstInStatement=function(){for(var e,t,n,r,a=this.stack,s=a.length-1;s>=0;s-=2)if(o.Node.check(a[s])&&(n=e,r=t,e=a[s-1],t=a[s]),t&&r){if(o.BlockStatement.check(t)&&"body"===e&&0===n)return i.strictEqual(t.body[0],r),!0;if(o.ExpressionStatement.check(t)&&"expression"===n)return i.strictEqual(t.expression,r),!0;if(o.SequenceExpression.check(t)&&"expressions"===e&&0===n)i.strictEqual(t.expressions[0],r);else if(o.CallExpression.check(t)&&"callee"===n)i.strictEqual(t.callee,r);else if(o.MemberExpression.check(t)&&"object"===n)i.strictEqual(t.object,r);else if(o.ConditionalExpression.check(t)&&"test"===n)i.strictEqual(t.test,r);else if(d(t)&&"left"===n)i.strictEqual(t.left,r);else{if(!o.UnaryExpression.check(t)||t.prefix||"argument"!==n)return!1;i.strictEqual(t.argument,r)}}return!0}},{"./types":531,assert:273}],525:[function(e,t,n){var i=e("assert"),r=e("source-map"),o=e("./options").normalize,a=e("private").makeUniqueKey(),s=e("./types").builtInTypes.string,u=e("./util").comparePos,l=e("./mapping"),c="function"==typeof Symbol;a="recastLinesSecret";function d(e){return e[a]}function p(e,t){i.ok(this instanceof p),i.ok(e.length>0),t?s.assert(t):t=null,function(e,t,n){if(c)return e[t]=n;Object.defineProperty(e,t,{value:n,enumerable:!1,writable:!1,configurable:!0})}(this,a,{infos:e,mappings:[],name:t,cachedSourceMap:null}),this.length=e.length,this.name=t,t&&d(this).mappings.push(new l(this,{start:this.firstPos(),end:this.lastPos()}))}c&&(a=Symbol.for(a)),n.Lines=p;var h=p.prototype;function f(e){return{line:e.line,indent:e.indent,locked:e.locked,sliceStart:e.sliceStart,sliceEnd:e.sliceEnd}}var m={},g=m.hasOwnProperty;function y(e,t){for(var n=0,r=e.length,o=0;o<r;++o)switch(e.charCodeAt(o)){case 9:i.strictEqual(typeof t,"number"),i.ok(t>0);var a=Math.ceil(n/t)*t;a===n?n+=t:n=a;break;case 11:case 12:case 13:case 65279:break;default:n+=1}return n}n.countSpaces=y;var v=/^\s*/,_=/\u000D\u000A|\u000D(?!\u000A)|\u000A|\u2028|\u2029/;function b(e,t){if(e instanceof p)return e;e+="";var n=t&&t.tabWidth,r=e.indexOf("\t")<0,a=!(!t||!t.locked),s=!t&&r&&e.length<=10;if(i.ok(n||r,"No tab width specified but encountered tabs in string\n"+e),s&&g.call(m,e))return m[e];var u=new p(e.split(_).map((function(e){var t=v.exec(e)[0];return{line:e,indent:y(t,n),locked:a,sliceStart:t.length,sliceEnd:e.length}})),o(t).sourceFileName);return s&&(m[e]=u),u}function w(e){return!/\S/.test(e)}function E(e,t,n){var r=e.sliceStart,o=e.sliceEnd,a=Math.max(e.indent,0),s=a+o-r;return void 0===n&&(n=s),t=Math.max(t,0),n=Math.min(n,s),(n=Math.max(n,t))<a?(a=n,o=r):o-=s-n,s=n,s-=t,t<a?a-=t:(t-=a,a=0,r+=t),i.ok(a>=0),i.ok(r<=o),i.strictEqual(s,a+o-r),e.indent===a&&e.sliceStart===r&&e.sliceEnd===o?e:{line:e.line,indent:a,locked:!1,sliceStart:r,sliceEnd:o}}n.fromString=b,h.toString=function(e){return this.sliceString(this.firstPos(),this.lastPos(),e)},h.getSourceMap=function(e,t){if(!e)return null;var n=this;function o(n){return n=n||{},s.assert(e),n.file=e,t&&(s.assert(t),n.sourceRoot=t),n}var a=d(n);if(a.cachedSourceMap)return o(a.cachedSourceMap.toJSON());var l=new r.SourceMapGenerator(o()),c={};return a.mappings.forEach((function(e){for(var t=e.sourceLines.skipSpaces(e.sourceLoc.start)||e.sourceLines.lastPos(),r=n.skipSpaces(e.targetLoc.start)||n.lastPos();u(t,e.sourceLoc.end)<0&&u(r,e.targetLoc.end)<0;){var o=e.sourceLines.charAt(t),a=n.charAt(r);i.strictEqual(o,a);var s=e.sourceLines.name;if(l.addMapping({source:s,original:{line:t.line,column:t.column},generated:{line:r.line,column:r.column}}),!g.call(c,s)){var d=e.sourceLines.toString();l.setSourceContent(s,d),c[s]=d}n.nextPos(r,!0),e.sourceLines.nextPos(t,!0)}})),a.cachedSourceMap=l,l.toJSON()},h.bootstrapCharAt=function(e){i.strictEqual(typeof e,"object"),i.strictEqual(typeof e.line,"number"),i.strictEqual(typeof e.column,"number");var t=e.line,n=e.column,r=this.toString().split(_),o=r[t-1];return void 0===o?"":n===o.length&&t<r.length?"\n":n>=o.length?"":o.charAt(n)},h.charAt=function(e){i.strictEqual(typeof e,"object"),i.strictEqual(typeof e.line,"number"),i.strictEqual(typeof e.column,"number");var t=e.line,n=e.column,r=d(this).infos[t-1],o=n;if(void 0===r||o<0)return"";var a=this.getIndentAt(t);return o<a?" ":(o+=r.sliceStart-a)===r.sliceEnd&&t<this.length?"\n":o>=r.sliceEnd?"":r.line.charAt(o)},h.stripMargin=function(e,t){if(0===e)return this;if(i.ok(e>0,"negative margin: "+e),t&&1===this.length)return this;var n=d(this),r=new p(n.infos.map((function(n,i){return n.line&&(i>0||!t)&&((n=f(n)).indent=Math.max(0,n.indent-e)),n})));if(n.mappings.length>0){var o=d(r).mappings;i.strictEqual(o.length,0),n.mappings.forEach((function(n){o.push(n.indent(e,t,!0))}))}return r},h.indent=function(e){if(0===e)return this;var t=d(this),n=new p(t.infos.map((function(t){return t.line&&!t.locked&&((t=f(t)).indent+=e),t})));if(t.mappings.length>0){var r=d(n).mappings;i.strictEqual(r.length,0),t.mappings.forEach((function(t){r.push(t.indent(e))}))}return n},h.indentTail=function(e){if(0===e)return this;if(this.length<2)return this;var t=d(this),n=new p(t.infos.map((function(t,n){return n>0&&t.line&&!t.locked&&((t=f(t)).indent+=e),t})));if(t.mappings.length>0){var r=d(n).mappings;i.strictEqual(r.length,0),t.mappings.forEach((function(t){r.push(t.indent(e,!0))}))}return n},h.lockIndentTail=function(){return this.length<2?this:new p(d(this).infos.map((function(e,t){return(e=f(e)).locked=t>0,e})))},h.getIndentAt=function(e){i.ok(e>=1,"no line "+e+" (line numbers start from 1)");var t=d(this).infos[e-1];return Math.max(t.indent,0)},h.guessTabWidth=function(){var e=d(this);if(g.call(e,"cachedTabWidth"))return e.cachedTabWidth;for(var t=[],n=0,i=1,r=this.length;i<=r;++i){var o=e.infos[i-1];if(!w(o.line.slice(o.sliceStart,o.sliceEnd))){var a=Math.abs(o.indent-n);t[a]=1+~~t[a],n=o.indent}}for(var s=-1,u=2,l=1;l<t.length;l+=1)g.call(t,l)&&t[l]>s&&(s=t[l],u=l);return e.cachedTabWidth=u},h.startsWithComment=function(){var e=d(this);if(0===e.infos.length)return!1;var t=e.infos[0],n=t.sliceStart,i=t.sliceEnd,r=t.line.slice(n,i).trim();return 0===r.length||"//"===r.slice(0,2)||"/*"===r.slice(0,2)},h.isOnlyWhitespace=function(){return w(this.toString())},h.isPrecededOnlyByWhitespace=function(e){var t=d(this).infos[e.line-1],n=Math.max(t.indent,0),i=e.column-n;if(i<=0)return!0;var r=t.sliceStart,o=Math.min(r+i,t.sliceEnd);return w(t.line.slice(r,o))},h.getLineLength=function(e){var t=d(this).infos[e-1];return this.getIndentAt(e)+t.sliceEnd-t.sliceStart},h.nextPos=function(e,t){var n=Math.max(e.line,0);return Math.max(e.column,0)<this.getLineLength(n)?(e.column+=1,!t||!!this.skipSpaces(e,!1,!0)):n<this.length&&(e.line+=1,e.column=0,!t||!!this.skipSpaces(e,!1,!0))},h.prevPos=function(e,t){var n=e.line,i=e.column;if(i<1){if((n-=1)<1)return!1;i=this.getLineLength(n)}else i=Math.min(i-1,this.getLineLength(n));return e.line=n,e.column=i,!t||!!this.skipSpaces(e,!0,!0)},h.firstPos=function(){return{line:1,column:0}},h.lastPos=function(){return{line:this.length,column:this.getLineLength(this.length)}},h.skipSpaces=function(e,t,n){if(e=e?n?e:{line:e.line,column:e.column}:t?this.lastPos():this.firstPos(),t){for(;this.prevPos(e);)if(!w(this.charAt(e))&&this.nextPos(e))return e;return null}for(;w(this.charAt(e));)if(!this.nextPos(e))return null;return e},h.trimLeft=function(){var e=this.skipSpaces(this.firstPos(),!1,!0);return e?this.slice(e):S},h.trimRight=function(){var e=this.skipSpaces(this.lastPos(),!0,!0);return e?this.slice(this.firstPos(),e):S},h.trim=function(){var e=this.skipSpaces(this.firstPos(),!1,!0);if(null===e)return S;var t=this.skipSpaces(this.lastPos(),!0,!0);return i.notStrictEqual(t,null),this.slice(e,t)},h.eachPos=function(e,t,n){var i=this.firstPos();if(t&&(i.line=t.line,i.column=t.column),!n||this.skipSpaces(i,!1,!0))do{e.call(this,i)}while(this.nextPos(i,n))},h.bootstrapSlice=function(e,t){var n=this.toString().split(_).slice(e.line-1,t.line);return n.push(n.pop().slice(0,t.column)),n[0]=n[0].slice(e.column),b(n.join("\n"))},h.slice=function(e,t){if(!t){if(!e)return this;t=this.lastPos()}var n=d(this),r=n.infos.slice(e.line-1,t.line);e.line===t.line?r[0]=E(r[0],e.column,t.column):(i.ok(e.line<t.line),r[0]=E(r[0],e.column),r.push(E(r.pop(),0,t.column)));var o=new p(r);if(n.mappings.length>0){var a=d(o).mappings;i.strictEqual(a.length,0),n.mappings.forEach((function(n){var i=n.slice(this,e,t);i&&a.push(i)}),this)}return o},h.bootstrapSliceString=function(e,t,n){return this.slice(e,t).toString(n)},h.sliceString=function(e,t,n){if(!t){if(!e)return this;t=this.lastPos()}n=o(n);for(var i=d(this).infos,r=[],a=n.tabWidth,s=e.line;s<=t.line;++s){var u=i[s-1];s===e.line?u=s===t.line?E(u,e.column,t.column):E(u,e.column):s===t.line&&(u=E(u,0,t.column));var l=Math.max(u.indent,0),c=u.line.slice(0,u.sliceStart);if(n.reuseWhitespace&&w(c)&&y(c,n.tabWidth)===l)r.push(u.line.slice(0,u.sliceEnd));else{var p=0,h=l;n.useTabs&&(h-=(p=Math.floor(l/a))*a);var f="";p>0&&(f+=new Array(p+1).join("\t")),h>0&&(f+=new Array(h+1).join(" ")),f+=u.line.slice(u.sliceStart,u.sliceEnd),r.push(f)}}return r.join(n.lineTerminator)},h.isEmpty=function(){return this.length<2&&this.getLineLength(1)<1},h.join=function(e){var t,n=d(this),i=[],r=[];function o(e){if(null!==e){if(t){var n=e.infos[0],o=new Array(n.indent+1).join(" "),a=i.length,s=Math.max(t.indent,0)+t.sliceEnd-t.sliceStart;t.line=t.line.slice(0,t.sliceEnd)+o+n.line.slice(n.sliceStart,n.sliceEnd),t.locked=t.locked||n.locked,t.sliceEnd=t.line.length,e.mappings.length>0&&e.mappings.forEach((function(e){r.push(e.add(a,s))}))}else e.mappings.length>0&&r.push.apply(r,e.mappings);e.infos.forEach((function(e,n){(!t||n>0)&&(t=f(e),i.push(t))}))}}if(e.map((function(e){var t=b(e);return t.isEmpty()?null:d(t)})).forEach(this.isEmpty()?o:function(e,t){t>0&&o(n),o(e)}),i.length<1)return S;var a=new p(i);return d(a).mappings=r,a},n.concat=function(e){return S.join(e)},h.concat=function(e){var t=arguments,n=[this];return n.push.apply(n,t),i.strictEqual(n.length,t.length+1),S.join(n)};var S=b("")},{"./mapping":526,"./options":527,"./types":531,"./util":532,assert:273,private:518,"source-map":856}],526:[function(e,t,n){var i=e("assert"),r=e("./types"),o=(r.builtInTypes.string,r.builtInTypes.number),a=r.namedTypes.SourceLocation,s=r.namedTypes.Position,u=e("./lines"),l=e("./util").comparePos;function c(e,t,n){i.ok(this instanceof c),i.ok(e instanceof u.Lines),a.assert(t),n?i.ok(o.check(n.start.line)&&o.check(n.start.column)&&o.check(n.end.line)&&o.check(n.end.column)):n=t,Object.defineProperties(this,{sourceLines:{value:e},sourceLoc:{value:t},targetLoc:{value:n}})}var d=c.prototype;function p(e,t,n){return{line:e.line+t-1,column:1===e.line?e.column+n:e.column}}function h(e,t,n){return{line:e.line-t+1,column:e.line===t?e.column-n:e.column}}t.exports=c,d.slice=function(e,t,n){i.ok(e instanceof u.Lines),s.assert(t),n?s.assert(n):n=e.lastPos();var r=this.sourceLines,o=this.sourceLoc,a=this.targetLoc;function d(c){var d=o[c],p=a[c],h=t;return"end"===c?h=n:i.strictEqual(c,"start"),function(e,t,n,r,o){i.ok(e instanceof u.Lines),i.ok(n instanceof u.Lines),s.assert(t),s.assert(r),s.assert(o);var a=l(r,o);if(0===a)return t;if(a<0){var c=e.skipSpaces(t),d=n.skipSpaces(r),p=o.line-d.line;for(c.line+=p,d.line+=p,p>0?(c.column=0,d.column=0):i.strictEqual(p,0);l(d,o)<0&&n.nextPos(d,!0);)i.ok(e.nextPos(c,!0)),i.strictEqual(e.charAt(c),n.charAt(d))}else{c=e.skipSpaces(t,!0),d=n.skipSpaces(r,!0),p=o.line-d.line;for(c.line+=p,d.line+=p,p<0?(c.column=e.getLineLength(c.line),d.column=n.getLineLength(d.line)):i.strictEqual(p,0);l(o,d)<0&&n.prevPos(d,!0);)i.ok(e.prevPos(c,!0)),i.strictEqual(e.charAt(c),n.charAt(d))}return c}(r,d,e,p,h)}if(l(t,a.start)<=0)if(l(a.end,n)<=0)a={start:h(a.start,t.line,t.column),end:h(a.end,t.line,t.column)};else{if(l(n,a.start)<=0)return null;o={start:o.start,end:d("end")},a={start:h(a.start,t.line,t.column),end:h(n,t.line,t.column)}}else{if(l(a.end,t)<=0)return null;l(a.end,n)<=0?(o={start:d("start"),end:o.end},a={start:{line:1,column:0},end:h(a.end,t.line,t.column)}):(o={start:d("start"),end:d("end")},a={start:{line:1,column:0},end:h(n,t.line,t.column)})}return new c(this.sourceLines,o,a)},d.add=function(e,t){return new c(this.sourceLines,this.sourceLoc,{start:p(this.targetLoc.start,e,t),end:p(this.targetLoc.end,e,t)})},d.subtract=function(e,t){return new c(this.sourceLines,this.sourceLoc,{start:h(this.targetLoc.start,e,t),end:h(this.targetLoc.end,e,t)})},d.indent=function(e,t,n){if(0===e)return this;var i=this.targetLoc,r=i.start.line,o=i.end.line;if(t&&1===r&&1===o)return this;if(i={start:i.start,end:i.end},!t||r>1){var a=i.start.column+e;i.start={line:r,column:n?Math.max(0,a):a}}if(!t||o>1){var s=i.end.column+e;i.end={line:o,column:n?Math.max(0,s):s}}return new c(this.sourceLines,this.sourceLoc,i)}},{"./lines":525,"./types":531,"./util":532,assert:273}],527:[function(e,t,n){var i={parser:e("esprima"),tabWidth:4,useTabs:!1,reuseWhitespace:!0,lineTerminator:e("os").EOL,wrapColumn:74,sourceFileName:null,sourceMapName:null,sourceRoot:null,inputSourceMap:null,range:!1,tolerant:!0,quote:null,trailingComma:!1,arrayBracketSpacing:!1,objectCurlySpacing:!0,arrowParensAlways:!1,flowObjectCommas:!0},r=i.hasOwnProperty;n.normalize=function(e){function t(t){return r.call(e,t)?e[t]:i[t]}return e=e||i,{tabWidth:+t("tabWidth"),useTabs:!!t("useTabs"),reuseWhitespace:!!t("reuseWhitespace"),lineTerminator:t("lineTerminator"),wrapColumn:Math.max(t("wrapColumn"),0),sourceFileName:t("sourceFileName"),sourceMapName:t("sourceMapName"),sourceRoot:t("sourceRoot"),inputSourceMap:t("inputSourceMap"),parser:t("esprima")||t("parser"),range:t("range"),tolerant:t("tolerant"),quote:t("quote"),trailingComma:t("trailingComma"),arrayBracketSpacing:t("arrayBracketSpacing"),objectCurlySpacing:t("objectCurlySpacing"),arrowParensAlways:t("arrowParensAlways"),flowObjectCommas:t("flowObjectCommas")}}},{esprima:553,os:514}],528:[function(e,t,n){(function(t){var i=e("assert"),r=e("./types"),o=(r.namedTypes,r.builders),a=r.builtInTypes.object,s=r.builtInTypes.array,u=(r.builtInTypes.function,e("./patcher").Patcher,e("./options").normalize),l=e("./lines").fromString,c=e("./comments").attach,d=e("./util"),p=t.Map||e("core-js/es6/map");function h(e){i.ok(this instanceof h),this.lines=e,this.indent=0,this.seen=new p}n.parse=function(e,t){t=u(t);var n=l(e,t),i=n.toString({tabWidth:t.tabWidth,reuseWhitespace:!1,useTabs:!1}),r=[],a=t.parser.parse(i,{jsx:!0,loc:!0,locations:!0,range:t.range,comment:!0,onComment:r,tolerant:t.tolerant,ecmaVersion:6,sourceType:"module"});d.fixFaultyLocations(a,n),a.loc=a.loc||{start:n.firstPos(),end:n.lastPos()},a.loc.lines=n,a.loc.indent=0;var s,p=d.getTrueLoc(a,n);(a.loc.start=p.start,a.loc.end=p.end,a.comments&&(r=a.comments,delete a.comments),"Program"===(s=a).type)?(s=o.file(a,t.sourceFileName||null)).loc={lines:n,indent:0,start:n.firstPos(),end:n.lastPos()}:"File"===s.type&&(a=s.program);return c(r,a.body.length?s.program:s,n),new h(n).copy(s)},h.prototype.copy=function(e){if(this.seen.has(e))return this.seen.get(e);if(s.check(e)){var t=new Array(e.length);return this.seen.set(e,t),e.forEach((function(e,n){t[n]=this.copy(e)}),this),t}if(!a.check(e))return e;d.fixFaultyLocations(e,this.lines);t=Object.create(Object.getPrototypeOf(e),{original:{value:e,configurable:!1,enumerable:!1,writable:!0}});this.seen.set(e,t);var n=e.loc,i=this.indent,r=i;n&&(("Block"===e.type||"Line"===e.type||"CommentBlock"===e.type||"CommentLine"===e.type||this.lines.isPrecededOnlyByWhitespace(n.start))&&(r=this.indent=n.start.column),n.lines=this.lines,n.indent=r);for(var o=Object.keys(e),u=o.length,l=0;l<u;++l){var c=o[l];"loc"===c||"tokens"===c&&"File"===e.type?t[c]=e[c]:t[c]=this.copy(e[c])}return this.indent=i,t}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./comments":523,"./lines":525,"./options":527,"./patcher":529,"./types":531,"./util":532,assert:273,"core-js/es6/map":292}],529:[function(e,t,n){var i=e("assert"),r=e("./lines"),o=e("./types"),a=(o.getFieldValue,o.namedTypes.Node),s=o.namedTypes.Printable,u=o.namedTypes.Expression,l=o.namedTypes.ReturnStatement,c=o.namedTypes.SourceLocation,d=e("./util"),p=d.comparePos,h=e("./fast-path"),f=o.builtInTypes.object,m=o.builtInTypes.array,g=o.builtInTypes.string,y=/[0-9a-z_$]/i;function v(e){i.ok(this instanceof v),i.ok(e instanceof r.Lines);var t=[];this.replace=function(e,n){g.check(n)&&(n=r.fromString(n)),t.push({lines:n,start:e.start,end:e.end})},this.get=function(n){var o=(n=n||{start:{line:1,column:0},end:{line:e.length,column:e.getLineLength(e.length)}}).start,a=[];function s(t,n){i.ok(p(t,n)<=0),a.push(e.slice(t,n))}return t.sort((function(e,t){return p(e.start,t.start)})).forEach((function(e){p(o,e.start)>0||(s(o,e.start),a.push(e.lines),o=e.end)})),s(o,n.end),r.concat(a)}}n.Patcher=v;var _=v.prototype;function b(e){var t=[];return e.comments&&e.comments.length>0&&e.comments.forEach((function(e){(e.leading||e.trailing)&&t.push(e)})),t}function w(e,t,n){var i=e.getValue();return i===t.getValue()||(m.check(i)?E(e,t,n):!!f.check(i)&&function(e,t,n){var i=e.getValue();if(f.assert(i),null===i.original)return!1;var r=t.getValue();if(!f.check(r))return!1;if(i===r||e.valueIsDuplicate()||t.valueIsDuplicate())return!0;if(s.check(i)){if(!s.check(r))return!1;if(i.type===r.type){var o=[];if(A(e,t,o))n.push.apply(n,o);else{if(!r.loc)return!1;n.push({oldPath:t.copy(),newPath:e.copy()})}return!0}return!!(u.check(i)&&u.check(r)&&r.loc)&&(n.push({oldPath:t.copy(),newPath:e.copy()}),!0)}return A(e,t,n)}(e,t,n))}function E(e,t,n){var i=e.getValue(),r=t.getValue();if(i===r||e.valueIsDuplicate()||t.valueIsDuplicate())return!0;m.assert(i);var o=i.length;if(!m.check(r)||r.length!==o)return!1;for(var a=0;a<o;++a){e.stack.push(a,i[a]),t.stack.push(a,r[a]);var s=w(e,t,n);if(e.stack.length-=2,t.stack.length-=2,!s)return!1}return!0}_.tryToReprintComments=function(e,t,n){var r=this;if(!e.comments&&!t.comments)return!0;var o=h.from(e),a=h.from(t);o.stack.push("comments",b(e)),a.stack.push("comments",b(t));var s=[],u=E(o,a,s);return u&&s.length>0&&s.forEach((function(e){var t=e.oldPath.getValue();i.ok(t.leading||t.trailing),r.replace(t.loc,n(e.newPath).indentTail(t.loc.indent))})),u},_.deleteComments=function(e){if(e.comments){var t=this;e.comments.forEach((function(n){n.leading?t.replace({start:n.loc.start,end:e.loc.lines.skipSpaces(n.loc.end,!1,!1)},""):n.trailing&&t.replace({start:e.loc.lines.skipSpaces(n.loc.start,!0,!1),end:n.loc.end},"")}))}},n.getReprinter=function(e){i.ok(e instanceof h);var t=e.getValue();if(s.check(t)){var n=t.original,o=n&&n.loc,a=o&&o.lines,u=[];if(a&&function(e,t){var n=e.getValue();s.assert(n);var r=n.original;if(s.assert(r),i.deepEqual(t,[]),n.type!==r.type)return!1;var o=new h(r),a=A(e,o,t);a||(t.length=0);return a}(e,u))return function(e){var t=new v(a);return u.forEach((function(n){var i=n.newPath.getValue(),o=n.oldPath.getValue();c.assert(o.loc,!0);var s=!t.tryToReprintComments(i,o,e);s&&t.deleteComments(o);var u=e(n.newPath,s).indentTail(o.loc.indent),l=function(e,t,n){var i=d.copyPos(t.start),r=e.prevPos(i)&&e.charAt(i),o=n.charAt(n.firstPos());return r&&y.test(r)&&o&&y.test(o)}(a,o.loc,u),p=function(e,t,n){var i=e.charAt(t.end),r=n.lastPos(),o=n.prevPos(r)&&n.charAt(r);return o&&y.test(o)&&i&&y.test(i)}(a,o.loc,u);if(l||p){var h=[];l&&h.push(" "),h.push(u),p&&h.push(" "),u=r.concat(h)}t.replace(o.loc,u)})),t.get(o).indentTail(-n.loc.indent)}}};var S={line:1,column:0},T=/\S/;function C(e){var t=e.getValue().loc,n=t&&t.lines;if(n){var i=S;for(i.line=t.start.line,i.column=t.start.column;n.prevPos(i);){var r=n.charAt(i);if("("===r)return p(e.getRootValue().loc.start,i)<=0;if(T.test(r))return!1}}return!1}function x(e){return C(e)&&function(e){var t=e.getValue().loc,n=t&&t.lines;if(n){var i=S;i.line=t.end.line,i.column=t.end.column;do{var r=n.charAt(i);if(")"===r)return p(i,e.getRootValue().loc.end)<=0;if(T.test(r))return!1}while(n.nextPos(i))}return!1}(e)}function A(e,t,n){var i=e.getValue(),r=t.getValue();if(f.assert(i),f.assert(r),null===i.original)return!1;if(a.check(i)&&!e.canBeFirstInStatement()&&e.firstInStatement()&&!C(t))return!1;if(e.needsParens(!0)&&!x(t))return!1;var s=d.getUnionOfKeys(r,i);"File"!==r.type&&"File"!==i.type||delete s.tokens,delete s.loc;var u=n.length;for(var c in s)if("_"!==c.charAt(0)){e.stack.push(c,o.getFieldValue(i,c)),t.stack.push(c,o.getFieldValue(r,c));var p=w(e,t,n);if(e.stack.length-=2,t.stack.length-=2,!p)return!1}return!(l.check(e.getNode())&&n.length>u)}},{"./fast-path":524,"./lines":525,"./types":531,"./util":532,assert:273}],530:[function(e,t,n){var i=e("assert"),r=(e("source-map"),e("./comments").printComments),o=e("./lines"),a=o.fromString,s=o.concat,u=e("./options").normalize,l=e("./patcher").getReprinter,c=e("./types"),d=c.namedTypes,h=c.builtInTypes.string,f=c.builtInTypes.object,m=e("./fast-path"),g=e("./util");function y(e,t){i.ok(this instanceof y),h.assert(e),this.code=e,t&&(f.assert(t),this.map=t)}var v=y.prototype,_=!1;v.toString=function(){return _||(console.warn("Deprecation warning: recast.print now returns an object with a .code property. You appear to be treating the object as a string, which might still work but is strongly discouraged."),_=!0),this.code};var b=new y("");function w(e,t,n){i.ok(e instanceof m);var r=e.getValue(),o=[],u=!1,l=function(e,t,n){var r=e.getValue();if(!r)return a("");if("string"==typeof r)return a(r,t);d.Printable.assert(r);var o=[];switch(r.type){case"File":return e.call(n,"program");case"Program":return r.directives&&e.each((function(e){o.push(n(e),";\n")}),"directives"),o.push(e.call((function(e){return E(e,t,n)}),"body")),s(o);case"Noop":case"EmptyStatement":return a("");case"ExpressionStatement":return s([e.call(n,"expression"),";"]);case"ParenthesizedExpression":return s(["(",e.call(n,"expression"),")"]);case"BinaryExpression":case"LogicalExpression":case"AssignmentExpression":return a(" ").join([e.call(n,"left"),r.operator,e.call(n,"right")]);case"AssignmentPattern":return s([e.call(n,"left")," = ",e.call(n,"right")]);case"MemberExpression":o.push(e.call(n,"object"));var u=e.call(n,"property");return r.computed?o.push("[",u,"]"):o.push(".",u),s(o);case"MetaProperty":return s([e.call(n,"meta"),".",e.call(n,"property")]);case"BindExpression":return r.object&&o.push(e.call(n,"object")),o.push("::",e.call(n,"callee")),s(o);case"Path":return a(".").join(r.body);case"Identifier":return s([a(r.name,t),e.call(n,"typeAnnotation")]);case"SpreadElement":case"SpreadElementPattern":case"RestProperty":case"SpreadProperty":case"SpreadPropertyPattern":case"ObjectTypeSpreadProperty":case"RestElement":return s(["...",e.call(n,"argument")]);case"FunctionDeclaration":case"FunctionExpression":return r.async&&o.push("async "),o.push("function"),r.generator&&o.push("*"),r.id&&o.push(" ",e.call(n,"id"),e.call(n,"typeParameters")),o.push("(",C(e,t,n),")",e.call(n,"returnType")," ",e.call(n,"body")),s(o);case"ArrowFunctionExpression":return r.async&&o.push("async "),r.typeParameters&&o.push(e.call(n,"typeParameters")),t.arrowParensAlways||1!==r.params.length||r.rest||"Identifier"!==r.params[0].type||r.params[0].typeAnnotation||r.returnType?o.push("(",C(e,t,n),")",e.call(n,"returnType")):o.push(e.call(n,"params",0)),o.push(" => ",e.call(n,"body")),s(o);case"MethodDefinition":return r.static&&o.push("static "),o.push(S(e,t,n)),s(o);case"YieldExpression":return o.push("yield"),r.delegate&&o.push("*"),r.argument&&o.push(" ",e.call(n,"argument")),s(o);case"AwaitExpression":return o.push("await"),r.all&&o.push("*"),r.argument&&o.push(" ",e.call(n,"argument")),s(o);case"ModuleDeclaration":return o.push("module",e.call(n,"id")),r.source?(i.ok(!r.body),o.push("from",e.call(n,"source"))):o.push(e.call(n,"body")),a(" ").join(o);case"ImportSpecifier":return r.imported?(o.push(e.call(n,"imported")),r.local&&r.local.name!==r.imported.name&&o.push(" as ",e.call(n,"local"))):r.id&&(o.push(e.call(n,"id")),r.name&&o.push(" as ",e.call(n,"name"))),s(o);case"ExportSpecifier":return r.local?(o.push(e.call(n,"local")),r.exported&&r.exported.name!==r.local.name&&o.push(" as ",e.call(n,"exported"))):r.id&&(o.push(e.call(n,"id")),r.name&&o.push(" as ",e.call(n,"name"))),s(o);case"ExportBatchSpecifier":return a("*");case"ImportNamespaceSpecifier":return o.push("* as "),r.local?o.push(e.call(n,"local")):r.id&&o.push(e.call(n,"id")),s(o);case"ImportDefaultSpecifier":return r.local?e.call(n,"local"):e.call(n,"id");case"ExportDeclaration":case"ExportDefaultDeclaration":case"ExportNamedDeclaration":return A(e,t,n);case"ExportAllDeclaration":return o.push("export *"),r.exported&&o.push(" as ",e.call(n,"exported")),o.push(" from ",e.call(n,"source")),s(o);case"ExportNamespaceSpecifier":return s(["* as ",e.call(n,"exported")]);case"ExportDefaultSpecifier":return e.call(n,"exported");case"Import":return a("import",t);case"ImportDeclaration":if(o.push("import "),r.importKind&&"value"!==r.importKind&&o.push(r.importKind+" "),r.specifiers&&r.specifiers.length>0){var l=!1;e.each((function(e){e.getName()>0&&o.push(", ");var r=e.getValue();d.ImportDefaultSpecifier.check(r)||d.ImportNamespaceSpecifier.check(r)?i.strictEqual(l,!1):(d.ImportSpecifier.assert(r),l||(l=!0,o.push(t.objectCurlySpacing?"{ ":"{"))),o.push(n(e))}),"specifiers"),l&&o.push(t.objectCurlySpacing?" }":"}"),o.push(" from ")}return o.push(e.call(n,"source"),";"),s(o);case"BlockStatement":var c=e.call((function(e){return E(e,t,n)}),"body");return!c.isEmpty()||r.directives&&0!==r.directives.length?(o.push("{\n"),r.directives&&e.each((function(e){o.push(n(e).indent(t.tabWidth),";",r.directives.length>1||!c.isEmpty()?"\n":"")}),"directives"),o.push(c.indent(t.tabWidth)),o.push("\n}"),s(o)):a("{}");case"ReturnStatement":if(o.push("return"),r.argument){var h=e.call(n,"argument");h.startsWithComment()||h.length>1&&d.JSXElement&&d.JSXElement.check(r.argument)?o.push(" (\n",h.indent(t.tabWidth),"\n)"):o.push(" ",h)}return o.push(";"),s(o);case"CallExpression":return s([e.call(n,"callee"),T(e,t,n)]);case"ObjectExpression":case"ObjectPattern":case"ObjectTypeAnnotation":var f=!1,m="ObjectTypeAnnotation"===r.type,y=t.flowObjectCommas?",":m?";":",",v=[];m&&v.push("indexers","callProperties"),v.push("properties");var _=0;v.forEach((function(e){_+=r[e].length}));var b=m&&1===_||0===_,w=r.exact?"{|":"{",O=r.exact?"|}":"}";o.push(b?w:w+"\n");var N=o.length-1,L=0;return v.forEach((function(i){e.each((function(e){var i=n(e);b||(i=i.indent(t.tabWidth));var r=!m&&i.length>1;r&&f&&o.push("\n"),o.push(i),L<_-1?(o.push(y+(r?"\n\n":"\n")),f=!r):(1!==_&&m||!b&&g.isTrailingCommaEnabled(t,"objects"))&&o.push(y),L++}),i)})),o.push(b?O:"\n"+O),0!==L&&b&&t.objectCurlySpacing&&(o[N]=w+" ",o[o.length-1]=" "+O),s(o);case"PropertyPattern":return s([e.call(n,"key"),": ",e.call(n,"pattern")]);case"ObjectProperty":case"Property":if(r.method||"get"===r.kind||"set"===r.kind)return S(e,t,n);var M=e.call(n,"key");return r.computed?o.push("[",M,"]"):o.push(M),r.shorthand||o.push(": ",e.call(n,"value")),s(o);case"ClassMethod":return r.static&&o.push("static "),s([o,x(e,t,n)]);case"ObjectMethod":return x(e,t,n);case"Decorator":return s(["@",e.call(n,"expression")]);case"ArrayExpression":case"ArrayPattern":_=r.elements.length;var F=e.map(n,"elements"),j=a(", ").join(F);return(b=j.getLineLength(1)<=t.wrapColumn)?t.arrayBracketSpacing?o.push("[ "):o.push("["):o.push("[\n"),e.each((function(e){var n=e.getName();if(e.getValue()){var i=F[n];b?n>0&&o.push(" "):i=i.indent(t.tabWidth),o.push(i),(n<_-1||!b&&g.isTrailingCommaEnabled(t,"arrays"))&&o.push(","),b||o.push("\n")}else o.push(",")}),"elements"),b&&t.arrayBracketSpacing?o.push(" ]"):o.push("]"),s(o);case"SequenceExpression":return a(", ").join(e.map(n,"expressions"));case"ThisExpression":return a("this");case"Super":return a("super");case"NullLiteral":return a("null");case"RegExpLiteral":return a(r.extra.raw);case"BigIntLiteral":return a(r.value+"n");case"BooleanLiteral":case"NumericLiteral":case"StringLiteral":case"Literal":return"string"!=typeof r.value?a(r.value,t):a(R(r.value,t),t);case"Directive":return e.call(n,"value");case"DirectiveLiteral":return a(R(r.value,t));case"ModuleSpecifier":if(r.local)throw new Error("The ESTree ModuleSpecifier type should be abstract");return a(R(r.value,t),t);case"UnaryExpression":return o.push(r.operator),/[a-z]$/.test(r.operator)&&o.push(" "),o.push(e.call(n,"argument")),s(o);case"UpdateExpression":return o.push(e.call(n,"argument"),r.operator),r.prefix&&o.reverse(),s(o);case"ConditionalExpression":return s(["(",e.call(n,"test")," ? ",e.call(n,"consequent")," : ",e.call(n,"alternate"),")"]);case"NewExpression":return o.push("new ",e.call(n,"callee")),r.arguments&&o.push(T(e,t,n)),s(o);case"VariableDeclaration":o.push(r.kind," ");var B=0;F=e.map((function(e){var t=n(e);return B=Math.max(t.length,B),t}),"declarations");1===B?o.push(a(", ").join(F)):F.length>1?o.push(a(",\n").join(F).indentTail(r.kind.length+1)):o.push(F[0]);var U=e.getParentNode();return d.ForStatement.check(U)||d.ForInStatement.check(U)||d.ForOfStatement&&d.ForOfStatement.check(U)||d.ForAwaitStatement&&d.ForAwaitStatement.check(U)||o.push(";"),s(o);case"VariableDeclarator":return r.init?a(" = ").join([e.call(n,"id"),e.call(n,"init")]):e.call(n,"id");case"WithStatement":return s(["with (",e.call(n,"object"),") ",e.call(n,"body")]);case"IfStatement":var H=D(e.call(n,"consequent"),t);o=["if (",e.call(n,"test"),")",H];return r.alternate&&o.push(P(H)?" else":"\nelse",D(e.call(n,"alternate"),t)),s(o);case"ForStatement":var $=e.call(n,"init"),G=$.length>1?";\n":"; ",q="for (",V=a(G).join([$,e.call(n,"test"),e.call(n,"update")]).indentTail(q.length),z=s([q,V,")"]),W=D(e.call(n,"body"),t);o=[z];return z.length>1&&(o.push("\n"),W=W.trimLeft()),o.push(W),s(o);case"WhileStatement":return s(["while (",e.call(n,"test"),")",D(e.call(n,"body"),t)]);case"ForInStatement":return s([r.each?"for each (":"for (",e.call(n,"left")," in ",e.call(n,"right"),")",D(e.call(n,"body"),t)]);case"ForOfStatement":case"ForAwaitStatement":return o.push("for "),(r.await||"ForAwaitStatement"===r.type)&&o.push("await "),o.push("(",e.call(n,"left")," of ",e.call(n,"right"),")",D(e.call(n,"body"),t)),s(o);case"DoWhileStatement":var K=s(["do",D(e.call(n,"body"),t)]);o=[K];return P(K)?o.push(" while"):o.push("\nwhile"),o.push(" (",e.call(n,"test"),");"),s(o);case"DoExpression":var Y=e.call((function(e){return E(e,t,n)}),"body");return s(["do {\n",Y.indent(t.tabWidth),"\n}"]);case"BreakStatement":return o.push("break"),r.label&&o.push(" ",e.call(n,"label")),o.push(";"),s(o);case"ContinueStatement":return o.push("continue"),r.label&&o.push(" ",e.call(n,"label")),o.push(";"),s(o);case"LabeledStatement":return s([e.call(n,"label"),":\n",e.call(n,"body")]);case"TryStatement":return o.push("try ",e.call(n,"block")),r.handler?o.push(" ",e.call(n,"handler")):r.handlers&&e.each((function(e){o.push(" ",n(e))}),"handlers"),r.finalizer&&o.push(" finally ",e.call(n,"finalizer")),s(o);case"CatchClause":return o.push("catch (",e.call(n,"param")),r.guard&&o.push(" if ",e.call(n,"guard")),o.push(") ",e.call(n,"body")),s(o);case"ThrowStatement":return s(["throw ",e.call(n,"argument"),";"]);case"SwitchStatement":return s(["switch (",e.call(n,"discriminant"),") {\n",a("\n").join(e.map(n,"cases")),"\n}"]);case"SwitchCase":return r.test?o.push("case ",e.call(n,"test"),":"):o.push("default:"),r.consequent.length>0&&o.push("\n",e.call((function(e){return E(e,t,n)}),"consequent").indent(t.tabWidth)),s(o);case"DebuggerStatement":return a("debugger;");case"JSXAttribute":return o.push(e.call(n,"name")),r.value&&o.push("=",e.call(n,"value")),s(o);case"JSXIdentifier":return a(r.name,t);case"JSXNamespacedName":return a(":").join([e.call(n,"namespace"),e.call(n,"name")]);case"JSXMemberExpression":return a(".").join([e.call(n,"object"),e.call(n,"property")]);case"JSXSpreadAttribute":return s(["{...",e.call(n,"argument"),"}"]);case"JSXSpreadChild":return s(["{...",e.call(n,"expression"),"}"]);case"JSXExpressionContainer":return s(["{",e.call(n,"expression"),"}"]);case"JSXElement":var J=e.call(n,"openingElement");if(r.openingElement.selfClosing)return i.ok(!r.closingElement),J;var X=s(e.map((function(e){var t=e.getValue();if(d.Literal.check(t)&&"string"==typeof t.value){if(/\S/.test(t.value))return t.value.replace(/^\s+|\s+$/g,"");if(/\n/.test(t.value))return"\n"}return n(e)}),"children")).indentTail(t.tabWidth),Q=e.call(n,"closingElement");return s([J,X,Q]);case"JSXOpeningElement":o.push("<",e.call(n,"name"));var Z=[];e.each((function(e){Z.push(" ",n(e))}),"attributes");var ee=s(Z);return(ee.length>1||ee.getLineLength(1)>t.wrapColumn)&&(Z.forEach((function(e,t){" "===e&&(i.strictEqual(t%2,0),Z[t]="\n")})),ee=s(Z).indentTail(t.tabWidth)),o.push(ee,r.selfClosing?" />":">"),s(o);case"JSXClosingElement":return s(["</",e.call(n,"name"),">"]);case"JSXText":return a(r.value,t);case"JSXEmptyExpression":return a("");case"TypeAnnotatedIdentifier":return s([e.call(n,"annotation")," ",e.call(n,"identifier")]);case"ClassBody":return 0===r.body.length?a("{}"):s(["{\n",e.call((function(e){return E(e,t,n)}),"body").indent(t.tabWidth),"\n}"]);case"ClassPropertyDefinition":return o.push("static ",e.call(n,"definition")),d.MethodDefinition.check(r.definition)||o.push(";"),s(o);case"ClassProperty":r.static&&o.push("static ");M=e.call(n,"key");return r.computed&&(M=s(["[",M,"]"])),r.variance&&(M=s([I(e,n),M])),o.push(M),r.typeAnnotation&&o.push(e.call(n,"typeAnnotation")),r.value&&o.push(" = ",e.call(n,"value")),o.push(";"),s(o);case"ClassDeclaration":case"ClassExpression":return o.push("class"),r.id&&o.push(" ",e.call(n,"id"),e.call(n,"typeParameters")),r.superClass&&o.push(" extends ",e.call(n,"superClass"),e.call(n,"superTypeParameters")),r.implements&&r.implements.length>0&&o.push(" implements ",a(", ").join(e.map(n,"implements"))),o.push(" ",e.call(n,"body")),s(o);case"TemplateElement":return a(r.value.raw,t).lockIndentTail();case"TemplateLiteral":var te=e.map(n,"expressions");return o.push("`"),e.each((function(e){var t=e.getName();o.push(n(e)),t<te.length&&o.push("${",te[t],"}")}),"quasis"),o.push("`"),s(o).lockIndentTail();case"TaggedTemplateExpression":return s([e.call(n,"tag"),e.call(n,"quasi")]);case"Node":case"Printable":case"SourceLocation":case"Position":case"Statement":case"Function":case"Pattern":case"Expression":case"Declaration":case"Specifier":case"NamedSpecifier":case"Comment":case"MemberTypeAnnotation":case"TupleTypeAnnotation":case"Type":throw new Error("unprintable type: "+JSON.stringify(r.type));case"CommentBlock":case"Block":return s(["/*",a(r.value,t),"*/"]);case"CommentLine":case"Line":return s(["//",a(r.value,t)]);case"TypeAnnotation":return r.typeAnnotation?("FunctionTypeAnnotation"!==r.typeAnnotation.type&&o.push(": "),o.push(e.call(n,"typeAnnotation")),s(o)):a("");case"ExistentialTypeParam":case"ExistsTypeAnnotation":return a("*",t);case"EmptyTypeAnnotation":return a("empty",t);case"AnyTypeAnnotation":return a("any",t);case"MixedTypeAnnotation":return a("mixed",t);case"ArrayTypeAnnotation":return s([e.call(n,"elementType"),"[]"]);case"BooleanTypeAnnotation":return a("boolean",t);case"BooleanLiteralTypeAnnotation":return i.strictEqual(typeof r.value,"boolean"),a(""+r.value,t);case"DeclareClass":return k(e,["class ",e.call(n,"id")," ",e.call(n,"body")]);case"DeclareFunction":return k(e,["function ",e.call(n,"id"),";"]);case"DeclareModule":return k(e,["module ",e.call(n,"id")," ",e.call(n,"body")]);case"DeclareModuleExports":return k(e,["module.exports",e.call(n,"typeAnnotation")]);case"DeclareVariable":return k(e,["var ",e.call(n,"id"),";"]);case"DeclareExportDeclaration":case"DeclareExportAllDeclaration":return s(["declare ",A(e,t,n)]);case"FunctionTypeAnnotation":var ne=e.getParentNode(0),ie=!(d.ObjectTypeCallProperty.check(ne)||d.DeclareFunction.check(e.getParentNode(2)));return ie&&!d.FunctionTypeParam.check(ne)&&o.push(": "),o.push("(",a(", ").join(e.map(n,"params")),")"),r.returnType&&o.push(ie?" => ":": ",e.call(n,"returnType")),s(o);case"FunctionTypeParam":return s([e.call(n,"name"),r.optional?"?":"",": ",e.call(n,"typeAnnotation")]);case"GenericTypeAnnotation":return s([e.call(n,"id"),e.call(n,"typeParameters")]);case"DeclareInterface":o.push("declare ");case"InterfaceDeclaration":return o.push(a("interface ",t),e.call(n,"id"),e.call(n,"typeParameters")," "),r.extends&&o.push("extends ",a(", ").join(e.map(n,"extends"))),o.push(" ",e.call(n,"body")),s(o);case"ClassImplements":case"InterfaceExtends":return s([e.call(n,"id"),e.call(n,"typeParameters")]);case"IntersectionTypeAnnotation":return a(" & ").join(e.map(n,"types"));case"NullableTypeAnnotation":return s(["?",e.call(n,"typeAnnotation")]);case"NullLiteralTypeAnnotation":return a("null",t);case"ThisTypeAnnotation":return a("this",t);case"NumberTypeAnnotation":return a("number",t);case"ObjectTypeCallProperty":return e.call(n,"value");case"ObjectTypeIndexer":return s([I(e,n),"[",e.call(n,"id"),": ",e.call(n,"key"),"]: ",e.call(n,"value")]);case"ObjectTypeProperty":return s([I(e,n),e.call(n,"key"),r.optional?"?":"",": ",e.call(n,"value")]);case"QualifiedTypeIdentifier":return s([e.call(n,"qualification"),".",e.call(n,"id")]);case"StringLiteralTypeAnnotation":return a(R(r.value,t),t);case"NumberLiteralTypeAnnotation":case"NumericLiteralTypeAnnotation":return i.strictEqual(typeof r.value,"number"),a(JSON.stringify(r.value),t);case"StringTypeAnnotation":return a("string",t);case"DeclareTypeAlias":o.push("declare ");case"TypeAlias":return s(["type ",e.call(n,"id"),e.call(n,"typeParameters")," = ",e.call(n,"right"),";"]);case"DeclareOpaqueType":o.push("declare ");case"OpaqueType":return o.push("opaque type ",e.call(n,"id"),e.call(n,"typeParameters")),r.supertype&&o.push(": ",e.call(n,"supertype")),r.impltype&&o.push(" = ",e.call(n,"impltype")),o.push(";"),s(o);case"TypeCastExpression":return s(["(",e.call(n,"expression"),e.call(n,"typeAnnotation"),")"]);case"TypeParameterDeclaration":case"TypeParameterInstantiation":return s(["<",a(", ").join(e.map(n,"params")),">"]);case"Variance":return"plus"===r.kind?a("+"):"minus"===r.kind?a("-"):a("");case"TypeParameter":return r.variance&&o.push(I(e,n)),o.push(e.call(n,"name")),r.bound&&o.push(e.call(n,"bound")),r.default&&o.push("=",e.call(n,"default")),s(o);case"TypeofTypeAnnotation":return s([a("typeof ",t),e.call(n,"argument")]);case"UnionTypeAnnotation":return a(" | ").join(e.map(n,"types"));case"VoidTypeAnnotation":return a("void",t);case"NullTypeAnnotation":return a("null",t);default:throw new Error("unknown type: "+JSON.stringify(r.type))}return p}(e,t,n);return!r||l.isEmpty()?l:(r.decorators&&r.decorators.length>0&&!g.getParentExportDeclaration(e)?e.each((function(e){o.push(n(e),"\n")}),"decorators"):g.isExportDeclaration(r)&&r.declaration&&r.declaration.decorators?e.each((function(e){o.push(n(e),"\n")}),"declaration","decorators"):u=e.needsParens(),u&&o.unshift("("),o.push(l),u&&o.push(")"),s(o))}function E(e,t,n){d.ClassBody&&d.ClassBody.check(e.getParentNode());var r=[],o=!1,u=!1;e.each((function(e){e.getName();var t=e.getValue();t&&"EmptyStatement"!==t.type&&(d.Comment.check(t)?o=!0:d.Statement.check(t)?u=!0:h.assert(t),r.push({node:t,printed:n(e)}))})),o&&i.strictEqual(u,!1,"Comments may appear as statements in otherwise empty statement lists, but may not coexist with non-Comment nodes.");var l=null,c=r.length,p=[];return r.forEach((function(e,n){var i,r,o=e.printed,s=e.node,u=o.length>1,d=n>0,h=n<c-1,f=s&&s.loc&&s.loc.lines,m=f&&t.reuseWhitespace&&g.getTrueLoc(s,f);if(d)if(m){var y=f.skipSpaces(m.start,!0),v=y?y.line:1,_=m.start.line-v;i=Array(_+1).join("\n")}else i=u?"\n\n":"\n";else i="";if(h)if(m){var b=f.skipSpaces(m.end),w=(b?b.line:f.length)-m.end.line;r=Array(w+1).join("\n")}else r=u?"\n\n":"\n";else r="";p.push(function(e,t){if(!e&&!t)return a("");if(!e)return a(t);if(!t)return a(e);var n=a(e),i=a(t);if(i.length>n.length)return i;return n}(l,i),o),h?l=r:r&&p.push(r)})),s(p)}function S(e,t,n){var r=e.getNode(),o=r.kind,a=[];"ObjectMethod"===r.type||"ClassMethod"===r.type?r.value=r:d.FunctionExpression.assert(r.value),r.value.async&&a.push("async "),o&&"init"!==o&&"method"!==o&&"constructor"!==o?(i.ok("get"===o||"set"===o),a.push(o," ")):r.value.generator&&a.push("*");var u=e.call(n,"key");return r.computed&&(u=s(["[",u,"]"])),a.push(u,e.call(n,"value","typeParameters"),"(",e.call((function(e){return C(e,t,n)}),"value"),")",e.call(n,"value","returnType")," ",e.call(n,"value","body")),s(a)}function T(e,t,n){var i=e.map(n,"arguments"),r=g.isTrailingCommaEnabled(t,"parameters"),o=a(", ").join(i);return o.getLineLength(1)>t.wrapColumn?(o=a(",\n").join(i),s(["(\n",o.indent(t.tabWidth),r?",\n)":"\n)"])):s(["(",o,")"])}function C(e,t,n){var i=e.getValue();d.Function.assert(i);var r=e.map(n,"params");i.defaults&&e.each((function(e){var t=e.getName(),i=r[t];i&&e.getValue()&&(r[t]=s([i," = ",n(e)]))}),"defaults"),i.rest&&r.push(s(["...",e.call(n,"rest")]));var o=a(", ").join(r);return o.length>1||o.getLineLength(1)>t.wrapColumn?(o=a(",\n").join(r),o=g.isTrailingCommaEnabled(t,"parameters")&&!i.rest&&"RestElement"!==i.params[i.params.length-1].type?s([o,",\n"]):s([o,"\n"]),s(["\n",o.indent(t.tabWidth)])):o}function x(e,t,n){var i=e.getValue(),r=[];if(i.async&&r.push("async "),i.generator&&r.push("*"),i.method||"get"===i.kind||"set"===i.kind)return S(e,t,n);var o=e.call(n,"key");return i.computed?r.push("[",o,"]"):r.push(o),r.push("(",C(e,t,n),")",e.call(n,"returnType")," ",e.call(n,"body")),s(r)}function A(e,t,n){var i=e.getValue(),r=["export "],o=t.objectCurlySpacing;d.Declaration.assert(i),(i.default||"ExportDefaultDeclaration"===i.type)&&r.push("default "),i.declaration?r.push(e.call(n,"declaration")):i.specifiers&&i.specifiers.length>0&&(1===i.specifiers.length&&"ExportBatchSpecifier"===i.specifiers[0].type?r.push("*"):r.push(o?"{ ":"{",a(", ").join(e.map(n,"specifiers")),o?" }":"}"),i.source&&r.push(" from ",e.call(n,"source")));var u=s(r);return";"===O(u)||i.declaration&&("FunctionDeclaration"===i.declaration.type||"ClassDeclaration"===i.declaration.type)||(u=s([u,";"])),u}function k(e,t){var n=g.getParentExportDeclaration(e);return n?i.strictEqual(n.type,"DeclareExportDeclaration"):t.unshift("declare "),s(t)}function I(e,t){return e.call((function(e){var n=e.getValue();return n?"plus"===n?a("+"):"minus"===n?a("-"):t(e):a("")}),"variance")}function D(e,t){return e.length>1?s([" ",e]):s(["\n",L(e).indent(t.tabWidth)])}function O(e){var t=e.lastPos();do{var n=e.charAt(t);if(/\S/.test(n))return n}while(e.prevPos(t))}function P(e){return"}"===O(e)}function N(e){return e.replace(/['"]/g,(function(e){return'"'===e?"'":'"'}))}function R(e,t){switch(h.assert(e),t.quote){case"auto":var n=JSON.stringify(e),i=N(JSON.stringify(N(e)));return n.length>i.length?i:n;case"single":return N(JSON.stringify(N(e)));default:return JSON.stringify(e)}}function L(e){var t=O(e);return!t||"\n};".indexOf(t)<0?s([e,";"]):e}n.Printer=function e(t){i.ok(this instanceof e);var n=t&&t.tabWidth,o=u(t);function a(e){return i.ok(e instanceof m),r(e,c)}function c(e,t){if(t)return a(e);if(i.ok(e instanceof m),!n){var r=o.tabWidth,s=e.getNode().loc;if(s&&s.lines&&s.lines.guessTabWidth){o.tabWidth=s.lines.guessTabWidth();var u=d(e);return o.tabWidth=r,u}}return d(e)}function d(e){var t=l(e);return t?function(e,t){return e.needsParens()?s(["(",t,")"]):t}(e,t(c)):p(e)}function p(e,t){return t?r(e,p):w(e,o,a)}function h(e){return w(e,o,h)}i.notStrictEqual(o,t),o.sourceFileName=null,this.print=function(e){if(!e)return b;var t=c(m.from(e),!0);return new y(t.toString(o),g.composeSourceMaps(o.inputSourceMap,t.getSourceMap(o.sourceMapName,o.sourceRoot)))},this.printGenerically=function(e){if(!e)return b;var t=m.from(e),n=o.reuseWhitespace;o.reuseWhitespace=!1;var i=new y(h(t).toString(o));return o.reuseWhitespace=n,i}}},{"./comments":523,"./fast-path":524,"./lines":525,"./options":527,"./patcher":529,"./types":531,"./util":532,assert:273,"source-map":856}],531:[function(e,t,n){t.exports=e("ast-types")},{"ast-types":552}],532:[function(e,t,n){var i=e("assert"),r=e("./types"),o=(r.getFieldValue,r.namedTypes),a=e("source-map"),s=a.SourceMapConsumer,u=a.SourceMapGenerator,l=Object.prototype.hasOwnProperty,c=n;function d(e,t){return e.line-t.line||e.column-t.column}function p(e){return{line:e.line,column:e.column}}function h(e,t){e&&t&&(d(t.start,e.start)<0&&(e.start=t.start),d(e.end,t.end)<0&&(e.end=t.end))}c.getUnionOfKeys=function(){for(var e={},t=arguments.length,n=0;n<t;++n)for(var i=Object.keys(arguments[n]),r=i.length,o=0;o<r;++o)e[i[o]]=!0;return e},c.comparePos=d,c.copyPos=p,c.composeSourceMaps=function(e,t){if(!e)return t||null;if(!t)return e;var n=new s(e),i=new s(t),r=new u({file:t.file,sourceRoot:t.sourceRoot}),o={};return i.eachMapping((function(e){var t=n.originalPositionFor({line:e.originalLine,column:e.originalColumn}),i=t.source;if(null!==i){r.addMapping({source:i,original:p(t),generated:{line:e.generatedLine,column:e.generatedColumn},name:e.name});var a=n.sourceContentFor(i);a&&!l.call(o,i)&&(o[i]=a,r.setSourceContent(i,a))}})),r.toJSON()},c.getTrueLoc=function(e,t){if(!e.loc)return null;var n={start:e.loc.start,end:e.loc.end};function i(e){h(n,e.loc)}return e.comments&&e.comments.forEach(i),e.declaration&&c.isExportDeclaration(e)&&e.declaration.decorators&&e.declaration.decorators.forEach(i),d(n.start,n.end)<0&&(n.start=p(n.start),t.skipSpaces(n.start,!1,!0),d(n.start,n.end)<0&&(n.end=p(n.end),t.skipSpaces(n.end,!0,!0))),n},c.fixFaultyLocations=function(e,t){if((r=e.loc)&&(r.start.line<1&&(r.start.line=1),r.end.line<1&&(r.end.line=1)),"File"===e.type&&(r.start=t.firstPos(),r.end=t.lastPos()),function(e,t){if("ForStatement"!==e.type)return;function n(e){for(var n=e&&e.loc,i=n&&n.start,r=n&&p(n.end);i&&r&&d(i,r)<0&&(t.prevPos(r),";"===t.charAt(r));)n.end.line=r.line,n.end.column=r.column}n(e.init),n(e.test),n(e.update)}(e,t),function(e,t){if("TemplateLiteral"!==e.type)return;if(0===e.quasis.length)return;var n=p(e.loc.start);i.strictEqual(t.charAt(n),"`"),i.ok(t.nextPos(n));var r=e.quasis[0];d(r.loc.start,n)<0&&(r.loc.start=n);var o=p(e.loc.end);i.ok(t.prevPos(o)),i.strictEqual(t.charAt(o),"`");var a=e.quasis[e.quasis.length-1];d(o,a.loc.end)<0&&(a.loc.end=o);e.expressions.forEach((function(n,r){var o=t.skipSpaces(n.loc.start,!0,!1);if(t.prevPos(o)&&"{"===t.charAt(o)&&t.prevPos(o)&&"$"===t.charAt(o)){var a=e.quasis[r];d(o,a.loc.end)<0&&(a.loc.end=o)}var s=t.skipSpaces(n.loc.end,!1,!1);if("}"===t.charAt(s)){i.ok(t.nextPos(s));var u=e.quasis[r+1];d(u.loc.start,s)<0&&(u.loc.start=s)}}))}(e,t),r&&e.decorators)e.decorators.forEach((function(e){h(r,e.loc)}));else if(e.declaration&&c.isExportDeclaration(e)){e.declaration.loc=null;var n=e.declaration.decorators;n&&n.forEach((function(e){h(r,e.loc)}))}else if(o.MethodDefinition&&o.MethodDefinition.check(e)||o.Property.check(e)&&(e.method||e.shorthand))e.value.loc=null,o.FunctionExpression.check(e.value)&&(e.value.id=null);else if("ObjectTypeProperty"===e.type){var r,a=(r=e.loc)&&r.end;a&&(a=p(a),t.prevPos(a)&&","===t.charAt(a)&&(a=t.skipSpaces(a,!0,!0))&&(r.end=a))}},c.isExportDeclaration=function(e){if(e)switch(e.type){case"ExportDeclaration":case"ExportDefaultDeclaration":case"ExportDefaultSpecifier":case"DeclareExportDeclaration":case"ExportNamedDeclaration":case"ExportAllDeclaration":return!0}return!1},c.getParentExportDeclaration=function(e){var t=e.getParentNode();return"declaration"===e.getName()&&c.isExportDeclaration(t)?t:null},c.isTrailingCommaEnabled=function(e,t){var n=e.trailingComma;return"object"==typeof n?!!n[t]:!!n}},{"./types":531,assert:273,"source-map":856}],533:[function(e,t,n){(function(t){var i=e("./lib/types"),r=e("./lib/parser").parse,o=e("./lib/printer").Printer;function a(e,t){return new o(t).print(e)}function s(e){t.stdout.write(e)}Object.defineProperties(n,{parse:{enumerable:!0,value:r},visit:{enumerable:!0,value:i.visit},print:{enumerable:!0,value:a},prettyPrint:{enumerable:!1,value:function(e,t){return new o(t).printGenerically(e)}},types:{enumerable:!1,value:i},run:{enumerable:!1,value:function(n,i){return function(t,n,i){e("fs").readFile(t,"utf-8",(function(e,t){e?console.error(e):function(e,t,n){var i=n&&n.writeback||s;t(r(e,n),(function(e){i(a(e,n).code)}))}(t,n,i)}))}(t.argv[2],n,i)}}})}).call(this,e("_process"))},{"./lib/parser":528,"./lib/printer":530,"./lib/types":531,_process:519,fs:282}],534:[function(e,t,n){t.exports=function(t){t.use(e("./es7"));var n=t.use(e("../lib/types")),i=t.use(e("../lib/shared")).defaults,r=n.Type.def,o=n.Type.or;r("Noop").bases("Node").build(),r("DoExpression").bases("Expression").build("body").field("body",[r("Statement")]),r("Super").bases("Expression").build(),r("BindExpression").bases("Expression").build("object","callee").field("object",o(r("Expression"),null)).field("callee",r("Expression")),r("Decorator").bases("Node").build("expression").field("expression",r("Expression")),r("Property").field("decorators",o([r("Decorator")],null),i.null),r("MethodDefinition").field("decorators",o([r("Decorator")],null),i.null),r("MetaProperty").bases("Expression").build("meta","property").field("meta",r("Identifier")).field("property",r("Identifier")),r("ParenthesizedExpression").bases("Expression").build("expression").field("expression",r("Expression")),r("ImportSpecifier").bases("ModuleSpecifier").build("imported","local").field("imported",r("Identifier")),r("ImportDefaultSpecifier").bases("ModuleSpecifier").build("local"),r("ImportNamespaceSpecifier").bases("ModuleSpecifier").build("local"),r("ExportDefaultDeclaration").bases("Declaration").build("declaration").field("declaration",o(r("Declaration"),r("Expression"))),r("ExportNamedDeclaration").bases("Declaration").build("declaration","specifiers","source").field("declaration",o(r("Declaration"),null)).field("specifiers",[r("ExportSpecifier")],i.emptyArray).field("source",o(r("Literal"),null),i.null),r("ExportSpecifier").bases("ModuleSpecifier").build("local","exported").field("exported",r("Identifier")),r("ExportNamespaceSpecifier").bases("Specifier").build("exported").field("exported",r("Identifier")),r("ExportDefaultSpecifier").bases("Specifier").build("exported").field("exported",r("Identifier")),r("ExportAllDeclaration").bases("Declaration").build("exported","source").field("exported",o(r("Identifier"),null)).field("source",r("Literal")),r("CommentBlock").bases("Comment").build("value","leading","trailing"),r("CommentLine").bases("Comment").build("value","leading","trailing"),r("Directive").bases("Node").build("value").field("value",r("DirectiveLiteral")),r("DirectiveLiteral").bases("Node","Expression").build("value").field("value",String,i["use strict"]),r("BlockStatement").bases("Statement").build("body").field("body",[r("Statement")]).field("directives",[r("Directive")],i.emptyArray),r("Program").bases("Node").build("body").field("body",[r("Statement")]).field("directives",[r("Directive")],i.emptyArray),r("StringLiteral").bases("Literal").build("value").field("value",String),r("NumericLiteral").bases("Literal").build("value").field("value",Number),r("BigIntLiteral").bases("Literal").build("value").field("value",o(String,Number)).field("extra",{rawValue:String,raw:String},(function(){return{rawValue:String(this.value),raw:this.value+"n"}})),r("NullLiteral").bases("Literal").build().field("value",null,i.null),r("BooleanLiteral").bases("Literal").build("value").field("value",Boolean),r("RegExpLiteral").bases("Literal").build("pattern","flags").field("pattern",String).field("flags",String).field("value",RegExp,(function(){return new RegExp(this.pattern,this.flags)}));var a=o(r("Property"),r("ObjectMethod"),r("ObjectProperty"),r("SpreadProperty"));r("ObjectExpression").bases("Expression").build("properties").field("properties",[a]),r("ObjectMethod").bases("Node","Function").build("kind","key","params","body","computed").field("kind",o("method","get","set")).field("key",o(r("Literal"),r("Identifier"),r("Expression"))).field("params",[r("Pattern")]).field("body",r("BlockStatement")).field("computed",Boolean,i.false).field("generator",Boolean,i.false).field("async",Boolean,i.false).field("decorators",o([r("Decorator")],null),i.null),r("ObjectProperty").bases("Node").build("key","value").field("key",o(r("Literal"),r("Identifier"),r("Expression"))).field("value",o(r("Expression"),r("Pattern"))).field("computed",Boolean,i.false);var s=o(r("MethodDefinition"),r("VariableDeclarator"),r("ClassPropertyDefinition"),r("ClassProperty"),r("ClassMethod"));r("ClassBody").bases("Declaration").build("body").field("body",[s]),r("ClassMethod").bases("Declaration","Function").build("kind","key","params","body","computed","static").field("kind",o("get","set","method","constructor")).field("key",o(r("Literal"),r("Identifier"),r("Expression"))).field("params",[r("Pattern")]).field("body",r("BlockStatement")).field("computed",Boolean,i.false).field("static",Boolean,i.false).field("generator",Boolean,i.false).field("async",Boolean,i.false).field("decorators",o([r("Decorator")],null),i.null);var u=o(r("Property"),r("PropertyPattern"),r("SpreadPropertyPattern"),r("SpreadProperty"),r("ObjectProperty"),r("RestProperty"));r("ObjectPattern").bases("Pattern").build("properties").field("properties",[u]).field("decorators",o([r("Decorator")],null),i.null),r("SpreadProperty").bases("Node").build("argument").field("argument",r("Expression")),r("RestProperty").bases("Node").build("argument").field("argument",r("Expression")),r("ForAwaitStatement").bases("Statement").build("left","right","body").field("left",o(r("VariableDeclaration"),r("Expression"))).field("right",r("Expression")).field("body",r("Statement")),r("Import").bases("Expression").build()}},{"../lib/shared":550,"../lib/types":551,"./es7":539}],535:[function(e,t,n){t.exports=function(t){t.use(e("./babel-core")),t.use(e("./flow"))}},{"./babel-core":534,"./flow":541}],536:[function(e,t,n){t.exports=function(t){var n=t.use(e("../lib/types")).Type,i=n.def,r=n.or,o=t.use(e("../lib/shared")),a=o.defaults,s=o.geq;i("Printable").field("loc",r(i("SourceLocation"),null),a.null,!0),i("Node").bases("Printable").field("type",String).field("comments",r([i("Comment")],null),a.null,!0),i("SourceLocation").build("start","end","source").field("start",i("Position")).field("end",i("Position")).field("source",r(String,null),a.null),i("Position").build("line","column").field("line",s(1)).field("column",s(0)),i("File").bases("Node").build("program","name").field("program",i("Program")).field("name",r(String,null),a.null),i("Program").bases("Node").build("body").field("body",[i("Statement")]),i("Function").bases("Node").field("id",r(i("Identifier"),null),a.null).field("params",[i("Pattern")]).field("body",i("BlockStatement")),i("Statement").bases("Node"),i("EmptyStatement").bases("Statement").build(),i("BlockStatement").bases("Statement").build("body").field("body",[i("Statement")]),i("ExpressionStatement").bases("Statement").build("expression").field("expression",i("Expression")),i("IfStatement").bases("Statement").build("test","consequent","alternate").field("test",i("Expression")).field("consequent",i("Statement")).field("alternate",r(i("Statement"),null),a.null),i("LabeledStatement").bases("Statement").build("label","body").field("label",i("Identifier")).field("body",i("Statement")),i("BreakStatement").bases("Statement").build("label").field("label",r(i("Identifier"),null),a.null),i("ContinueStatement").bases("Statement").build("label").field("label",r(i("Identifier"),null),a.null),i("WithStatement").bases("Statement").build("object","body").field("object",i("Expression")).field("body",i("Statement")),i("SwitchStatement").bases("Statement").build("discriminant","cases","lexical").field("discriminant",i("Expression")).field("cases",[i("SwitchCase")]).field("lexical",Boolean,a.false),i("ReturnStatement").bases("Statement").build("argument").field("argument",r(i("Expression"),null)),i("ThrowStatement").bases("Statement").build("argument").field("argument",i("Expression")),i("TryStatement").bases("Statement").build("block","handler","finalizer").field("block",i("BlockStatement")).field("handler",r(i("CatchClause"),null),(function(){return this.handlers&&this.handlers[0]||null})).field("handlers",[i("CatchClause")],(function(){return this.handler?[this.handler]:[]}),!0).field("guardedHandlers",[i("CatchClause")],a.emptyArray).field("finalizer",r(i("BlockStatement"),null),a.null),i("CatchClause").bases("Node").build("param","guard","body").field("param",i("Pattern")).field("guard",r(i("Expression"),null),a.null).field("body",i("BlockStatement")),i("WhileStatement").bases("Statement").build("test","body").field("test",i("Expression")).field("body",i("Statement")),i("DoWhileStatement").bases("Statement").build("body","test").field("body",i("Statement")).field("test",i("Expression")),i("ForStatement").bases("Statement").build("init","test","update","body").field("init",r(i("VariableDeclaration"),i("Expression"),null)).field("test",r(i("Expression"),null)).field("update",r(i("Expression"),null)).field("body",i("Statement")),i("ForInStatement").bases("Statement").build("left","right","body").field("left",r(i("VariableDeclaration"),i("Expression"))).field("right",i("Expression")).field("body",i("Statement")),i("DebuggerStatement").bases("Statement").build(),i("Declaration").bases("Statement"),i("FunctionDeclaration").bases("Function","Declaration").build("id","params","body").field("id",i("Identifier")),i("FunctionExpression").bases("Function","Expression").build("id","params","body"),i("VariableDeclaration").bases("Declaration").build("kind","declarations").field("kind",r("var","let","const")).field("declarations",[i("VariableDeclarator")]),i("VariableDeclarator").bases("Node").build("id","init").field("id",i("Pattern")).field("init",r(i("Expression"),null)),i("Expression").bases("Node","Pattern"),i("ThisExpression").bases("Expression").build(),i("ArrayExpression").bases("Expression").build("elements").field("elements",[r(i("Expression"),null)]),i("ObjectExpression").bases("Expression").build("properties").field("properties",[i("Property")]),i("Property").bases("Node").build("kind","key","value").field("kind",r("init","get","set")).field("key",r(i("Literal"),i("Identifier"))).field("value",i("Expression")),i("SequenceExpression").bases("Expression").build("expressions").field("expressions",[i("Expression")]);var u=r("-","+","!","~","typeof","void","delete");i("UnaryExpression").bases("Expression").build("operator","argument","prefix").field("operator",u).field("argument",i("Expression")).field("prefix",Boolean,a.true);var l=r("==","!=","===","!==","<","<=",">",">=","<<",">>",">>>","+","-","*","/","%","&","|","^","in","instanceof","..");i("BinaryExpression").bases("Expression").build("operator","left","right").field("operator",l).field("left",i("Expression")).field("right",i("Expression"));var c=r("=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","|=","^=","&=");i("AssignmentExpression").bases("Expression").build("operator","left","right").field("operator",c).field("left",i("Pattern")).field("right",i("Expression"));var d=r("++","--");i("UpdateExpression").bases("Expression").build("operator","argument","prefix").field("operator",d).field("argument",i("Expression")).field("prefix",Boolean);var p=r("||","&&");i("LogicalExpression").bases("Expression").build("operator","left","right").field("operator",p).field("left",i("Expression")).field("right",i("Expression")),i("ConditionalExpression").bases("Expression").build("test","consequent","alternate").field("test",i("Expression")).field("consequent",i("Expression")).field("alternate",i("Expression")),i("NewExpression").bases("Expression").build("callee","arguments").field("callee",i("Expression")).field("arguments",[i("Expression")]),i("CallExpression").bases("Expression").build("callee","arguments").field("callee",i("Expression")).field("arguments",[i("Expression")]),i("MemberExpression").bases("Expression").build("object","property","computed").field("object",i("Expression")).field("property",r(i("Identifier"),i("Expression"))).field("computed",Boolean,(function(){var e=this.property.type;return"Literal"===e||"MemberExpression"===e||"BinaryExpression"===e})),i("Pattern").bases("Node"),i("SwitchCase").bases("Node").build("test","consequent").field("test",r(i("Expression"),null)).field("consequent",[i("Statement")]),i("Identifier").bases("Node","Expression","Pattern").build("name").field("name",String),i("Literal").bases("Node","Expression").build("value").field("value",r(String,Boolean,null,Number,RegExp)).field("regex",r({pattern:String,flags:String},null),(function(){if(this.value instanceof RegExp){var e="";return this.value.ignoreCase&&(e+="i"),this.value.multiline&&(e+="m"),this.value.global&&(e+="g"),{pattern:this.value.source,flags:e}}return null})),i("Comment").bases("Printable").field("value",String).field("leading",Boolean,a.true).field("trailing",Boolean,a.false)}},{"../lib/shared":550,"../lib/types":551}],537:[function(e,t,n){t.exports=function(t){t.use(e("./core"));var n=t.use(e("../lib/types")),i=n.Type.def,r=n.Type.or;i("XMLDefaultDeclaration").bases("Declaration").field("namespace",i("Expression")),i("XMLAnyName").bases("Expression"),i("XMLQualifiedIdentifier").bases("Expression").field("left",r(i("Identifier"),i("XMLAnyName"))).field("right",r(i("Identifier"),i("Expression"))).field("computed",Boolean),i("XMLFunctionQualifiedIdentifier").bases("Expression").field("right",r(i("Identifier"),i("Expression"))).field("computed",Boolean),i("XMLAttributeSelector").bases("Expression").field("attribute",i("Expression")),i("XMLFilterExpression").bases("Expression").field("left",i("Expression")).field("right",i("Expression")),i("XMLElement").bases("XML","Expression").field("contents",[i("XML")]),i("XMLList").bases("XML","Expression").field("contents",[i("XML")]),i("XML").bases("Node"),i("XMLEscape").bases("XML").field("expression",i("Expression")),i("XMLText").bases("XML").field("text",String),i("XMLStartTag").bases("XML").field("contents",[i("XML")]),i("XMLEndTag").bases("XML").field("contents",[i("XML")]),i("XMLPointTag").bases("XML").field("contents",[i("XML")]),i("XMLName").bases("XML").field("contents",r(String,[i("XML")])),i("XMLAttribute").bases("XML").field("value",String),i("XMLCdata").bases("XML").field("contents",String),i("XMLComment").bases("XML").field("contents",String),i("XMLProcessingInstruction").bases("XML").field("target",String).field("contents",r(String,null))}},{"../lib/types":551,"./core":536}],538:[function(e,t,n){t.exports=function(t){t.use(e("./core"));var n=t.use(e("../lib/types")),i=n.Type.def,r=n.Type.or,o=t.use(e("../lib/shared")).defaults;i("Function").field("generator",Boolean,o.false).field("expression",Boolean,o.false).field("defaults",[r(i("Expression"),null)],o.emptyArray).field("rest",r(i("Identifier"),null),o.null),i("RestElement").bases("Pattern").build("argument").field("argument",i("Pattern")),i("SpreadElementPattern").bases("Pattern").build("argument").field("argument",i("Pattern")),i("FunctionDeclaration").build("id","params","body","generator","expression"),i("FunctionExpression").build("id","params","body","generator","expression"),i("ArrowFunctionExpression").bases("Function","Expression").build("params","body","expression").field("id",null,o.null).field("body",r(i("BlockStatement"),i("Expression"))).field("generator",!1,o.false),i("ForOfStatement").bases("Statement").build("left","right","body").field("left",r(i("VariableDeclaration"),i("Pattern"))).field("right",i("Expression")).field("body",i("Statement")),i("YieldExpression").bases("Expression").build("argument","delegate").field("argument",r(i("Expression"),null)).field("delegate",Boolean,o.false),i("GeneratorExpression").bases("Expression").build("body","blocks","filter").field("body",i("Expression")).field("blocks",[i("ComprehensionBlock")]).field("filter",r(i("Expression"),null)),i("ComprehensionExpression").bases("Expression").build("body","blocks","filter").field("body",i("Expression")).field("blocks",[i("ComprehensionBlock")]).field("filter",r(i("Expression"),null)),i("ComprehensionBlock").bases("Node").build("left","right","each").field("left",i("Pattern")).field("right",i("Expression")).field("each",Boolean),i("Property").field("key",r(i("Literal"),i("Identifier"),i("Expression"))).field("value",r(i("Expression"),i("Pattern"))).field("method",Boolean,o.false).field("shorthand",Boolean,o.false).field("computed",Boolean,o.false),i("PropertyPattern").bases("Pattern").build("key","pattern").field("key",r(i("Literal"),i("Identifier"),i("Expression"))).field("pattern",i("Pattern")).field("computed",Boolean,o.false),i("ObjectPattern").bases("Pattern").build("properties").field("properties",[r(i("PropertyPattern"),i("Property"))]),i("ArrayPattern").bases("Pattern").build("elements").field("elements",[r(i("Pattern"),null)]),i("MethodDefinition").bases("Declaration").build("kind","key","value","static").field("kind",r("constructor","method","get","set")).field("key",r(i("Literal"),i("Identifier"),i("Expression"))).field("value",i("Function")).field("computed",Boolean,o.false).field("static",Boolean,o.false),i("SpreadElement").bases("Node").build("argument").field("argument",i("Expression")),i("ArrayExpression").field("elements",[r(i("Expression"),i("SpreadElement"),i("RestElement"),null)]),i("NewExpression").field("arguments",[r(i("Expression"),i("SpreadElement"))]),i("CallExpression").field("arguments",[r(i("Expression"),i("SpreadElement"))]),i("AssignmentPattern").bases("Pattern").build("left","right").field("left",i("Pattern")).field("right",i("Expression"));var a=r(i("MethodDefinition"),i("VariableDeclarator"),i("ClassPropertyDefinition"),i("ClassProperty"));i("ClassProperty").bases("Declaration").build("key").field("key",r(i("Literal"),i("Identifier"),i("Expression"))).field("computed",Boolean,o.false),i("ClassPropertyDefinition").bases("Declaration").build("definition").field("definition",a),i("ClassBody").bases("Declaration").build("body").field("body",[a]),i("ClassDeclaration").bases("Declaration").build("id","body","superClass").field("id",r(i("Identifier"),null)).field("body",i("ClassBody")).field("superClass",r(i("Expression"),null),o.null),i("ClassExpression").bases("Expression").build("id","body","superClass").field("id",r(i("Identifier"),null),o.null).field("body",i("ClassBody")).field("superClass",r(i("Expression"),null),o.null).field("implements",[i("ClassImplements")],o.emptyArray),i("ClassImplements").bases("Node").build("id").field("id",i("Identifier")).field("superClass",r(i("Expression"),null),o.null),i("Specifier").bases("Node"),i("ModuleSpecifier").bases("Specifier").field("local",r(i("Identifier"),null),o.null).field("id",r(i("Identifier"),null),o.null).field("name",r(i("Identifier"),null),o.null),i("TaggedTemplateExpression").bases("Expression").build("tag","quasi").field("tag",i("Expression")).field("quasi",i("TemplateLiteral")),i("TemplateLiteral").bases("Expression").build("quasis","expressions").field("quasis",[i("TemplateElement")]).field("expressions",[i("Expression")]),i("TemplateElement").bases("Node").build("value","tail").field("value",{cooked:String,raw:String}).field("tail",Boolean)}},{"../lib/shared":550,"../lib/types":551,"./core":536}],539:[function(e,t,n){t.exports=function(t){t.use(e("./es6"));var n=t.use(e("../lib/types")),i=n.Type.def,r=n.Type.or,o=(n.builtInTypes,t.use(e("../lib/shared")).defaults);i("Function").field("async",Boolean,o.false),i("SpreadProperty").bases("Node").build("argument").field("argument",i("Expression")),i("ObjectExpression").field("properties",[r(i("Property"),i("SpreadProperty"))]),i("SpreadPropertyPattern").bases("Pattern").build("argument").field("argument",i("Pattern")),i("ObjectPattern").field("properties",[r(i("Property"),i("PropertyPattern"),i("SpreadPropertyPattern"))]),i("AwaitExpression").bases("Expression").build("argument","all").field("argument",r(i("Expression"),null)).field("all",Boolean,o.false)}},{"../lib/shared":550,"../lib/types":551,"./es6":538}],540:[function(e,t,n){t.exports=function(t){t.use(e("./es7"));var n=t.use(e("../lib/types")),i=t.use(e("../lib/shared")).defaults,r=n.Type.def,o=n.Type.or;r("VariableDeclaration").field("declarations",[o(r("VariableDeclarator"),r("Identifier"))]),r("Property").field("value",o(r("Expression"),r("Pattern"))),r("ArrayPattern").field("elements",[o(r("Pattern"),r("SpreadElement"),null)]),r("ObjectPattern").field("properties",[o(r("Property"),r("PropertyPattern"),r("SpreadPropertyPattern"),r("SpreadProperty"))]),r("ExportSpecifier").bases("ModuleSpecifier").build("id","name"),r("ExportBatchSpecifier").bases("Specifier").build(),r("ImportSpecifier").bases("ModuleSpecifier").build("id","name"),r("ImportNamespaceSpecifier").bases("ModuleSpecifier").build("id"),r("ImportDefaultSpecifier").bases("ModuleSpecifier").build("id"),r("ExportDeclaration").bases("Declaration").build("default","declaration","specifiers","source").field("default",Boolean).field("declaration",o(r("Declaration"),r("Expression"),null)).field("specifiers",[o(r("ExportSpecifier"),r("ExportBatchSpecifier"))],i.emptyArray).field("source",o(r("Literal"),null),i.null),r("ImportDeclaration").bases("Declaration").build("specifiers","source","importKind").field("specifiers",[o(r("ImportSpecifier"),r("ImportNamespaceSpecifier"),r("ImportDefaultSpecifier"))],i.emptyArray).field("source",r("Literal")).field("importKind",o("value","type"),(function(){return"value"})),r("Block").bases("Comment").build("value","leading","trailing"),r("Line").bases("Comment").build("value","leading","trailing")}},{"../lib/shared":550,"../lib/types":551,"./es7":539}],541:[function(e,t,n){t.exports=function(t){t.use(e("./es7"));var n=t.use(e("../lib/types")),i=n.Type.def,r=n.Type.or,o=t.use(e("../lib/shared")).defaults;i("Type").bases("Node"),i("AnyTypeAnnotation").bases("Type").build(),i("EmptyTypeAnnotation").bases("Type").build(),i("MixedTypeAnnotation").bases("Type").build(),i("VoidTypeAnnotation").bases("Type").build(),i("NumberTypeAnnotation").bases("Type").build(),i("NumberLiteralTypeAnnotation").bases("Type").build("value","raw").field("value",Number).field("raw",String),i("NumericLiteralTypeAnnotation").bases("Type").build("value","raw").field("value",Number).field("raw",String),i("StringTypeAnnotation").bases("Type").build(),i("StringLiteralTypeAnnotation").bases("Type").build("value","raw").field("value",String).field("raw",String),i("BooleanTypeAnnotation").bases("Type").build(),i("BooleanLiteralTypeAnnotation").bases("Type").build("value","raw").field("value",Boolean).field("raw",String),i("TypeAnnotation").bases("Node").build("typeAnnotation").field("typeAnnotation",i("Type")),i("NullableTypeAnnotation").bases("Type").build("typeAnnotation").field("typeAnnotation",i("Type")),i("NullLiteralTypeAnnotation").bases("Type").build(),i("NullTypeAnnotation").bases("Type").build(),i("ThisTypeAnnotation").bases("Type").build(),i("ExistsTypeAnnotation").bases("Type").build(),i("ExistentialTypeParam").bases("Type").build(),i("FunctionTypeAnnotation").bases("Type").build("params","returnType","rest","typeParameters").field("params",[i("FunctionTypeParam")]).field("returnType",i("Type")).field("rest",r(i("FunctionTypeParam"),null)).field("typeParameters",r(i("TypeParameterDeclaration"),null)),i("FunctionTypeParam").bases("Node").build("name","typeAnnotation","optional").field("name",i("Identifier")).field("typeAnnotation",i("Type")).field("optional",Boolean),i("ArrayTypeAnnotation").bases("Type").build("elementType").field("elementType",i("Type")),i("ObjectTypeAnnotation").bases("Type").build("properties","indexers","callProperties").field("properties",[r(i("ObjectTypeProperty"),i("ObjectTypeSpreadProperty"))]).field("indexers",[i("ObjectTypeIndexer")],o.emptyArray).field("callProperties",[i("ObjectTypeCallProperty")],o.emptyArray).field("exact",Boolean,o.false),i("Variance").bases("Node").build("kind").field("kind",r("plus","minus"));var a=r(i("Variance"),"plus","minus",null);i("ObjectTypeProperty").bases("Node").build("key","value","optional").field("key",r(i("Literal"),i("Identifier"))).field("value",i("Type")).field("optional",Boolean).field("variance",a,o.null),i("ObjectTypeIndexer").bases("Node").build("id","key","value").field("id",i("Identifier")).field("key",i("Type")).field("value",i("Type")).field("variance",a,o.null),i("ObjectTypeCallProperty").bases("Node").build("value").field("value",i("FunctionTypeAnnotation")).field("static",Boolean,o.false),i("QualifiedTypeIdentifier").bases("Node").build("qualification","id").field("qualification",r(i("Identifier"),i("QualifiedTypeIdentifier"))).field("id",i("Identifier")),i("GenericTypeAnnotation").bases("Type").build("id","typeParameters").field("id",r(i("Identifier"),i("QualifiedTypeIdentifier"))).field("typeParameters",r(i("TypeParameterInstantiation"),null)),i("MemberTypeAnnotation").bases("Type").build("object","property").field("object",i("Identifier")).field("property",r(i("MemberTypeAnnotation"),i("GenericTypeAnnotation"))),i("UnionTypeAnnotation").bases("Type").build("types").field("types",[i("Type")]),i("IntersectionTypeAnnotation").bases("Type").build("types").field("types",[i("Type")]),i("TypeofTypeAnnotation").bases("Type").build("argument").field("argument",i("Type")),i("ObjectTypeSpreadProperty").bases("Node").build("argument").field("argument",i("Type")),i("Identifier").field("typeAnnotation",r(i("TypeAnnotation"),null),o.null),i("ObjectPattern").field("typeAnnotation",r(i("TypeAnnotation"),null),o.null),i("TypeParameterDeclaration").bases("Node").build("params").field("params",[i("TypeParameter")]),i("TypeParameterInstantiation").bases("Node").build("params").field("params",[i("Type")]),i("TypeParameter").bases("Type").build("name","variance","bound").field("name",String).field("variance",a,o.null).field("bound",r(i("TypeAnnotation"),null),o.null),i("Function").field("returnType",r(i("TypeAnnotation"),null),o.null).field("typeParameters",r(i("TypeParameterDeclaration"),null),o.null),i("ClassProperty").build("key","value","typeAnnotation","static").field("value",r(i("Expression"),null)).field("typeAnnotation",r(i("TypeAnnotation"),null)).field("static",Boolean,o.false).field("variance",a,o.null),i("ClassImplements").field("typeParameters",r(i("TypeParameterInstantiation"),null),o.null),i("InterfaceDeclaration").bases("Declaration").build("id","body","extends").field("id",i("Identifier")).field("typeParameters",r(i("TypeParameterDeclaration"),null),o.null).field("body",i("ObjectTypeAnnotation")).field("extends",[i("InterfaceExtends")]),i("DeclareInterface").bases("InterfaceDeclaration").build("id","body","extends"),i("InterfaceExtends").bases("Node").build("id").field("id",i("Identifier")).field("typeParameters",r(i("TypeParameterInstantiation"),null)),i("TypeAlias").bases("Declaration").build("id","typeParameters","right").field("id",i("Identifier")).field("typeParameters",r(i("TypeParameterDeclaration"),null)).field("right",i("Type")),i("OpaqueType").bases("Declaration").build("id","typeParameters","impltype","supertype").field("id",i("Identifier")).field("typeParameters",r(i("TypeParameterDeclaration"),null)).field("implType",i("Type")).field("superType",i("Type")),i("DeclareTypeAlias").bases("TypeAlias").build("id","typeParameters","right"),i("DeclareOpaqueType").bases("TypeAlias").build("id","typeParameters","supertype"),i("TypeCastExpression").bases("Expression").build("expression","typeAnnotation").field("expression",i("Expression")).field("typeAnnotation",i("TypeAnnotation")),i("TupleTypeAnnotation").bases("Type").build("types").field("types",[i("Type")]),i("DeclareVariable").bases("Statement").build("id").field("id",i("Identifier")),i("DeclareFunction").bases("Statement").build("id").field("id",i("Identifier")),i("DeclareClass").bases("InterfaceDeclaration").build("id"),i("DeclareModule").bases("Statement").build("id","body").field("id",r(i("Identifier"),i("Literal"))).field("body",i("BlockStatement")),i("DeclareModuleExports").bases("Statement").build("typeAnnotation").field("typeAnnotation",i("Type")),i("DeclareExportDeclaration").bases("Declaration").build("default","declaration","specifiers","source").field("default",Boolean).field("declaration",r(i("DeclareVariable"),i("DeclareFunction"),i("DeclareClass"),i("Type"),null)).field("specifiers",[r(i("ExportSpecifier"),i("ExportBatchSpecifier"))],o.emptyArray).field("source",r(i("Literal"),null),o.null),i("DeclareExportAllDeclaration").bases("Declaration").build("source").field("source",r(i("Literal"),null),o.null)}},{"../lib/shared":550,"../lib/types":551,"./es7":539}],542:[function(e,t,n){t.exports=function(t){t.use(e("./es7"));var n=t.use(e("../lib/types")),i=n.Type.def,r=n.Type.or,o=t.use(e("../lib/shared")).defaults;i("JSXAttribute").bases("Node").build("name","value").field("name",r(i("JSXIdentifier"),i("JSXNamespacedName"))).field("value",r(i("Literal"),i("JSXExpressionContainer"),null),o.null),i("JSXIdentifier").bases("Identifier").build("name").field("name",String),i("JSXNamespacedName").bases("Node").build("namespace","name").field("namespace",i("JSXIdentifier")).field("name",i("JSXIdentifier")),i("JSXMemberExpression").bases("MemberExpression").build("object","property").field("object",r(i("JSXIdentifier"),i("JSXMemberExpression"))).field("property",i("JSXIdentifier")).field("computed",Boolean,o.false);var a=r(i("JSXIdentifier"),i("JSXNamespacedName"),i("JSXMemberExpression"));i("JSXSpreadAttribute").bases("Node").build("argument").field("argument",i("Expression"));var s=[r(i("JSXAttribute"),i("JSXSpreadAttribute"))];i("JSXExpressionContainer").bases("Expression").build("expression").field("expression",i("Expression")),i("JSXElement").bases("Expression").build("openingElement","closingElement","children").field("openingElement",i("JSXOpeningElement")).field("closingElement",r(i("JSXClosingElement"),null),o.null).field("children",[r(i("JSXElement"),i("JSXExpressionContainer"),i("JSXText"),i("Literal"))],o.emptyArray).field("name",a,(function(){return this.openingElement.name}),!0).field("selfClosing",Boolean,(function(){return this.openingElement.selfClosing}),!0).field("attributes",s,(function(){return this.openingElement.attributes}),!0),i("JSXOpeningElement").bases("Node").build("name","attributes","selfClosing").field("name",a).field("attributes",s,o.emptyArray).field("selfClosing",Boolean,o.false),i("JSXClosingElement").bases("Node").build("name").field("name",a),i("JSXText").bases("Literal").build("value").field("value",String),i("JSXEmptyExpression").bases("Expression").build(),i("JSXSpreadChild").bases("Expression").build("expression").field("expression",i("Expression"))}},{"../lib/shared":550,"../lib/types":551,"./es7":539}],543:[function(e,t,n){t.exports=function(t){t.use(e("./core"));var n=t.use(e("../lib/types")),i=n.Type.def,r=n.Type.or,o=t.use(e("../lib/shared")),a=o.geq,s=o.defaults;i("Function").field("body",r(i("BlockStatement"),i("Expression"))),i("ForInStatement").build("left","right","body","each").field("each",Boolean,s.false),i("LetStatement").bases("Statement").build("head","body").field("head",[i("VariableDeclarator")]).field("body",i("Statement")),i("LetExpression").bases("Expression").build("head","body").field("head",[i("VariableDeclarator")]).field("body",i("Expression")),i("GraphExpression").bases("Expression").build("index","expression").field("index",a(0)).field("expression",i("Literal")),i("GraphIndexExpression").bases("Expression").build("index").field("index",a(0))}},{"../lib/shared":550,"../lib/types":551,"./core":536}],544:[function(e,t,n){t.exports=function(t){var n=[],i=[],r={};function o(e){var t=n.indexOf(e);return-1===t&&(t=n.length,n.push(e),i[t]=e(r)),i[t]}r.use=o;var a=o(e("./lib/types"));t.forEach(o),a.finalize();var s={Type:a.Type,builtInTypes:a.builtInTypes,namedTypes:a.namedTypes,builders:a.builders,defineMethod:a.defineMethod,getFieldNames:a.getFieldNames,getFieldValue:a.getFieldValue,eachField:a.eachField,someField:a.someField,getSupertypeNames:a.getSupertypeNames,astNodesAreEquivalent:o(e("./lib/equiv")),finalize:a.finalize,Path:o(e("./lib/path")),NodePath:o(e("./lib/node-path")),PathVisitor:o(e("./lib/path-visitor")),use:o};return s.visit=s.PathVisitor.visit,s}},{"./lib/equiv":545,"./lib/node-path":546,"./lib/path":548,"./lib/path-visitor":547,"./lib/types":551}],545:[function(e,t,n){t.exports=function(t){var n=t.use(e("../lib/types")),i=n.getFieldNames,r=n.getFieldValue,o=n.builtInTypes.array,a=n.builtInTypes.object,s=n.builtInTypes.Date,u=n.builtInTypes.RegExp,l=Object.prototype.hasOwnProperty;function c(e,t,n){return o.check(n)?n.length=0:n=null,p(e,t,n)}function d(e){return/[_$a-z][_$a-z0-9]*/i.test(e)?"."+e:"["+JSON.stringify(e)+"]"}function p(e,t,n){return e===t||(o.check(e)?function(e,t,n){o.assert(e);var i=e.length;if(!o.check(t)||t.length!==i)return n&&n.push("length"),!1;for(var r=0;r<i;++r){if(n&&n.push(r),r in e!=r in t)return!1;if(!p(e[r],t[r],n))return!1;if(n){var a=n.pop();if(a!==r)throw new Error(""+a)}}return!0}(e,t,n):a.check(e)?function(e,t,n){if(a.assert(e),!a.check(t))return!1;if(e.type!==t.type)return n&&n.push("type"),!1;var o=i(e),s=o.length,u=i(t),c=u.length;if(s===c){for(var d=0;d<s;++d){var h=o[d],f=r(e,h),m=r(t,h);if(n&&n.push(h),!p(f,m,n))return!1;if(n){var g=n.pop();if(g!==h)throw new Error(""+g)}}return!0}if(!n)return!1;var y=Object.create(null);for(d=0;d<s;++d)y[o[d]]=!0;for(d=0;d<c;++d){if(h=u[d],!l.call(y,h))return n.push(h),!1;delete y[h]}for(h in y){n.push(h);break}return!1}(e,t,n):s.check(e)?s.check(t)&&+e==+t:u.check(e)?u.check(t)&&e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.ignoreCase===t.ignoreCase:e==t)}return c.assert=function(e,t){var n=[];if(!c(e,t,n)){if(0!==n.length)throw new Error("Nodes differ in the following path: "+n.map(d).join(""));if(e!==t)throw new Error("Nodes must be equal")}},c}},{"../lib/types":551}],546:[function(e,t,n){t.exports=function(t){var n=t.use(e("./types")),i=n.namedTypes,r=n.builders,o=n.builtInTypes.number,a=n.builtInTypes.array,s=t.use(e("./path")),u=t.use(e("./scope"));function l(e,t,n){if(!(this instanceof l))throw new Error("NodePath constructor cannot be invoked without 'new'");s.call(this,e,t,n)}var c=l.prototype=Object.create(s.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}});function d(e){return i.BinaryExpression.check(e)||i.LogicalExpression.check(e)}Object.defineProperties(c,{node:{get:function(){return Object.defineProperty(this,"node",{configurable:!0,value:this._computeNode()}),this.node}},parent:{get:function(){return Object.defineProperty(this,"parent",{configurable:!0,value:this._computeParent()}),this.parent}},scope:{get:function(){return Object.defineProperty(this,"scope",{configurable:!0,value:this._computeScope()}),this.scope}}}),c.replace=function(){return delete this.node,delete this.parent,delete this.scope,s.prototype.replace.apply(this,arguments)},c.prune=function(){var e=this.parent;return this.replace(),function(e){if(i.VariableDeclaration.check(e.node)){var t=e.get("declarations").value;if(!t||0===t.length)return e.prune()}else if(i.ExpressionStatement.check(e.node)){if(!e.get("expression").value)return e.prune()}else i.IfStatement.check(e.node)&&function(e){var t=e.get("test").value,n=e.get("alternate").value,o=e.get("consequent").value;if(o||n){if(!o&&n){var a=r.unaryExpression("!",t,!0);i.UnaryExpression.check(t)&&"!"===t.operator&&(a=t.argument),e.get("test").replace(a),e.get("consequent").replace(n),e.get("alternate").replace()}}else{var s=r.expressionStatement(t);e.replace(s)}}(e);return e}(e)},c._computeNode=function(){var e=this.value;if(i.Node.check(e))return e;var t=this.parentPath;return t&&t.node||null},c._computeParent=function(){var e=this.value,t=this.parentPath;if(!i.Node.check(e)){for(;t&&!i.Node.check(t.value);)t=t.parentPath;t&&(t=t.parentPath)}for(;t&&!i.Node.check(t.value);)t=t.parentPath;return t||null},c._computeScope=function(){var e=this.value,t=this.parentPath,n=t&&t.scope;return i.Node.check(e)&&u.isEstablishedBy(e)&&(n=new u(this,n)),n||null},c.getValueProperty=function(e){return n.getFieldValue(this.value,e)},c.needsParens=function(e){if(!(a=this.parentPath))return!1;var t=this.value;if(!i.Expression.check(t))return!1;if("Identifier"===t.type)return!1;for(;!i.Node.check(a.value);)if(!(a=a.parentPath))return!1;var n=a.value;switch(t.type){case"UnaryExpression":case"SpreadElement":case"SpreadProperty":return"MemberExpression"===n.type&&"object"===this.name&&n.object===t;case"BinaryExpression":case"LogicalExpression":switch(n.type){case"CallExpression":return"callee"===this.name&&n.callee===t;case"UnaryExpression":case"SpreadElement":case"SpreadProperty":return!0;case"MemberExpression":return"object"===this.name&&n.object===t;case"BinaryExpression":case"LogicalExpression":var r=n.operator,a=p[r],s=t.operator,u=p[s];if(a>u)return!0;if(a===u&&"right"===this.name){if(n.right!==t)throw new Error("Nodes must be equal");return!0}default:return!1}case"SequenceExpression":switch(n.type){case"ForStatement":return!1;case"ExpressionStatement":return"expression"!==this.name;default:return!0}case"YieldExpression":switch(n.type){case"BinaryExpression":case"LogicalExpression":case"UnaryExpression":case"SpreadElement":case"SpreadProperty":case"CallExpression":case"MemberExpression":case"NewExpression":case"ConditionalExpression":case"YieldExpression":return!0;default:return!1}case"Literal":return"MemberExpression"===n.type&&o.check(t.value)&&"object"===this.name&&n.object===t;case"AssignmentExpression":case"ConditionalExpression":switch(n.type){case"UnaryExpression":case"SpreadElement":case"SpreadProperty":case"BinaryExpression":case"LogicalExpression":return!0;case"CallExpression":return"callee"===this.name&&n.callee===t;case"ConditionalExpression":return"test"===this.name&&n.test===t;case"MemberExpression":return"object"===this.name&&n.object===t;default:return!1}default:if("NewExpression"===n.type&&"callee"===this.name&&n.callee===t)return h(t)}return!(!0===e||this.canBeFirstInStatement()||!this.firstInStatement())};var p={};function h(e){return!!i.CallExpression.check(e)||(a.check(e)?e.some(h):!!i.Node.check(e)&&n.someField(e,(function(e,t){return h(t)})))}return[["||"],["&&"],["|"],["^"],["&"],["==","===","!=","!=="],["<",">","<=",">=","in","instanceof"],[">>","<<",">>>"],["+","-"],["*","/","%"]].forEach((function(e,t){e.forEach((function(e){p[e]=t}))})),c.canBeFirstInStatement=function(){var e=this.node;return!i.FunctionExpression.check(e)&&!i.ObjectExpression.check(e)},c.firstInStatement=function(){return function(e){for(var t,n;e.parent;e=e.parent){if(t=e.node,n=e.parent.node,i.BlockStatement.check(n)&&"body"===e.parent.name&&0===e.name){if(n.body[0]!==t)throw new Error("Nodes must be equal");return!0}if(i.ExpressionStatement.check(n)&&"expression"===e.name){if(n.expression!==t)throw new Error("Nodes must be equal");return!0}if(i.SequenceExpression.check(n)&&"expressions"===e.parent.name&&0===e.name){if(n.expressions[0]!==t)throw new Error("Nodes must be equal")}else if(i.CallExpression.check(n)&&"callee"===e.name){if(n.callee!==t)throw new Error("Nodes must be equal")}else if(i.MemberExpression.check(n)&&"object"===e.name){if(n.object!==t)throw new Error("Nodes must be equal")}else if(i.ConditionalExpression.check(n)&&"test"===e.name){if(n.test!==t)throw new Error("Nodes must be equal")}else if(d(n)&&"left"===e.name){if(n.left!==t)throw new Error("Nodes must be equal")}else{if(!i.UnaryExpression.check(n)||n.prefix||"argument"!==e.name)return!1;if(n.argument!==t)throw new Error("Nodes must be equal")}}return!0}(this)},l}},{"./path":548,"./scope":549,"./types":551}],547:[function(e,t,n){var i=Object.prototype.hasOwnProperty;t.exports=function(t){var n=t.use(e("./types")),r=t.use(e("./node-path")),o=(n.namedTypes.Printable,n.builtInTypes.array),a=n.builtInTypes.object,s=n.builtInTypes.function;function u(){if(!(this instanceof u))throw new Error("PathVisitor constructor cannot be invoked without 'new'");this._reusableContextStack=[],this._methodNameTable=function(e){var t=Object.create(null);for(var i in e)/^visit[A-Z]/.test(i)&&(t[i.slice("visit".length)]=!0);for(var r=n.computeSupertypeLookupTable(t),o=Object.create(null),a=(t=Object.keys(r)).length,u=0;u<a;++u){var l=t[u];i="visit"+r[l],s.check(e[i])&&(o[l]=i)}return o}(this),this._shouldVisitComments=i.call(this._methodNameTable,"Block")||i.call(this._methodNameTable,"Line"),this.Context=function(e){function t(n){if(!(this instanceof t))throw new Error("");if(!(this instanceof u))throw new Error("");if(!(n instanceof r))throw new Error("");Object.defineProperty(this,"visitor",{value:e,writable:!1,enumerable:!0,configurable:!1}),this.currentPath=n,this.needToCallTraverse=!0,Object.seal(this)}if(!(e instanceof u))throw new Error("");var n=t.prototype=Object.create(e);return n.constructor=t,l(n,p),t}(this),this._visiting=!1,this._changeReported=!1}function l(e,t){for(var n in t)i.call(t,n)&&(e[n]=t[n]);return e}u.fromMethodsObject=function(e){if(e instanceof u)return e;if(!a.check(e))return new u;function t(){if(!(this instanceof t))throw new Error("Visitor constructor cannot be invoked without 'new'");u.call(this)}var n=t.prototype=Object.create(c);return n.constructor=t,l(n,e),l(t,u),s.assert(t.fromMethodsObject),s.assert(t.visit),new t},u.visit=function(e,t){return u.fromMethodsObject(t).visit(e)};var c=u.prototype;function d(e,t){if(!(e instanceof r))throw new Error("");if(!(t instanceof u))throw new Error("");var s=e.value;if(o.check(s))e.each(t.visitWithoutReset,t);else if(a.check(s)){var l=n.getFieldNames(s);t._shouldVisitComments&&s.comments&&l.indexOf("comments")<0&&l.push("comments");for(var c=l.length,d=[],p=0;p<c;++p){var h=l[p];i.call(s,h)||(s[h]=n.getFieldValue(s,h)),d.push(e.get(h))}for(p=0;p<c;++p)t.visitWithoutReset(d[p])}else;return e.value}c.visit=function(){if(this._visiting)throw new Error("Recursively calling visitor.visit(path) resets visitor state. Try this.visit(path) or this.traverse(path) instead.");this._visiting=!0,this._changeReported=!1,this._abortRequested=!1;for(var e=arguments.length,t=new Array(e),n=0;n<e;++n)t[n]=arguments[n];t[0]instanceof r||(t[0]=new r({root:t[0]}).get("root")),this.reset.apply(this,t);try{var i=this.visitWithoutReset(t[0]),o=!0}finally{if(this._visiting=!1,!o&&this._abortRequested)return t[0].value}return i},c.AbortRequest=function(){},c.abort=function(){var e=this;e._abortRequested=!0;var t=new e.AbortRequest;throw t.cancel=function(){e._abortRequested=!1},t},c.reset=function(e){},c.visitWithoutReset=function(e){if(this instanceof this.Context)return this.visitor.visitWithoutReset(e);if(!(e instanceof r))throw new Error("");var t=e.value,n=t&&"object"==typeof t&&"string"==typeof t.type&&this._methodNameTable[t.type];if(!n)return d(e,this);var i=this.acquireContext(e);try{return i.invokeVisitorMethod(n)}finally{this.releaseContext(i)}},c.acquireContext=function(e){return 0===this._reusableContextStack.length?new this.Context(e):this._reusableContextStack.pop().reset(e)},c.releaseContext=function(e){if(!(e instanceof this.Context))throw new Error("");this._reusableContextStack.push(e),e.currentPath=null},c.reportChanged=function(){this._changeReported=!0},c.wasChangeReported=function(){return this._changeReported};var p=Object.create(null);return p.reset=function(e){if(!(this instanceof this.Context))throw new Error("");if(!(e instanceof r))throw new Error("");return this.currentPath=e,this.needToCallTraverse=!0,this},p.invokeVisitorMethod=function(e){if(!(this instanceof this.Context))throw new Error("");if(!(this.currentPath instanceof r))throw new Error("");var t=this.visitor[e].call(this,this.currentPath);if(!1===t?this.needToCallTraverse=!1:undefined!==t&&(this.currentPath=this.currentPath.replace(t)[0],this.needToCallTraverse&&this.traverse(this.currentPath)),!1!==this.needToCallTraverse)throw new Error("Must either call this.traverse or return false in "+e);var n=this.currentPath;return n&&n.value},p.traverse=function(e,t){if(!(this instanceof this.Context))throw new Error("");if(!(e instanceof r))throw new Error("");if(!(this.currentPath instanceof r))throw new Error("");return this.needToCallTraverse=!1,d(e,u.fromMethodsObject(t||this.visitor))},p.visit=function(e,t){if(!(this instanceof this.Context))throw new Error("");if(!(e instanceof r))throw new Error("");if(!(this.currentPath instanceof r))throw new Error("");return this.needToCallTraverse=!1,u.fromMethodsObject(t||this.visitor).visitWithoutReset(e)},p.reportChanged=function(){this.visitor.reportChanged()},p.abort=function(){this.needToCallTraverse=!1,this.visitor.abort()},u}},{"./node-path":546,"./types":551}],548:[function(e,t,n){var i=Array.prototype,r=(i.slice,i.map,Object.prototype.hasOwnProperty);t.exports=function(t){var n=t.use(e("./types")),i=n.builtInTypes.array,o=n.builtInTypes.number;function a(e,t,n){if(!(this instanceof a))throw new Error("Path constructor cannot be invoked without 'new'");if(t){if(!(t instanceof a))throw new Error("")}else t=null,n=null;this.value=e,this.parentPath=t,this.name=n,this.__childCache=null}var s=a.prototype;function u(e){return e.__childCache||(e.__childCache=Object.create(null))}function l(e,t){var n=u(e),i=e.getValueProperty(t),o=n[t];return r.call(n,t)&&o.value===i||(o=n[t]=new e.constructor(i,e,t)),o}function c(){}function d(e,t,n,a){if(i.assert(e.value),0===t)return c;var s=e.value.length;if(s<1)return c;var l=arguments.length;2===l?(n=0,a=s):3===l?(n=Math.max(n,0),a=s):(n=Math.max(n,0),a=Math.min(a,s)),o.assert(n),o.assert(a);for(var d=Object.create(null),p=u(e),h=n;h<a;++h)if(r.call(e.value,h)){var f=e.get(h);if(f.name!==h)throw new Error("");var m=h+t;f.name=m,d[m]=f,delete p[h]}return delete p.length,function(){for(var t in d){var n=d[t];if(n.name!==+t)throw new Error("");p[t]=n,e.value[t]=n.value}}}function p(e){if(!(e instanceof a))throw new Error("");var t=e.parentPath;if(!t)return e;var n=t.value,r=u(t);if(n[e.name]===e.value)r[e.name]=e;else if(i.check(n)){var o=n.indexOf(e.value);o>=0&&(r[e.name=o]=e)}else n[e.name]=e.value,r[e.name]=e;if(n[e.name]!==e.value)throw new Error("");if(e.parentPath.get(e.name)!==e)throw new Error("");return e}return s.getValueProperty=function(e){return this.value[e]},s.get=function(e){for(var t=this,n=arguments,i=n.length,r=0;r<i;++r)t=l(t,n[r]);return t},s.each=function(e,t){var n=[],i=this.value.length,o=0;for(o=0;o<i;++o)r.call(this.value,o)&&(n[o]=this.get(o));for(t=t||this,o=0;o<i;++o)r.call(n,o)&&e.call(t,n[o])},s.map=function(e,t){var n=[];return this.each((function(t){n.push(e.call(this,t))}),t),n},s.filter=function(e,t){var n=[];return this.each((function(t){e.call(this,t)&&n.push(t)}),t),n},s.shift=function(){var e=d(this,-1),t=this.value.shift();return e(),t},s.unshift=function(e){var t=d(this,arguments.length),n=this.value.unshift.apply(this.value,arguments);return t(),n},s.push=function(e){return i.assert(this.value),delete u(this).length,this.value.push.apply(this.value,arguments)},s.pop=function(){i.assert(this.value);var e=u(this);return delete e[this.value.length-1],delete e.length,this.value.pop()},s.insertAt=function(e,t){var n=arguments.length,i=d(this,n-1,e);if(i===c)return this;e=Math.max(e,0);for(var r=1;r<n;++r)this.value[e+r-1]=arguments[r];return i(),this},s.insertBefore=function(e){for(var t=this.parentPath,n=arguments.length,i=[this.name],r=0;r<n;++r)i.push(arguments[r]);return t.insertAt.apply(t,i)},s.insertAfter=function(e){for(var t=this.parentPath,n=arguments.length,i=[this.name+1],r=0;r<n;++r)i.push(arguments[r]);return t.insertAt.apply(t,i)},s.replace=function(e){var t=[],n=this.parentPath.value,r=u(this.parentPath),o=arguments.length;if(p(this),i.check(n)){for(var a=n.length,s=d(this.parentPath,o-1,this.name+1),l=[this.name,1],c=0;c<o;++c)l.push(arguments[c]);var h=n.splice.apply(n,l);if(h[0]!==this.value)throw new Error("");if(n.length!==a-1+o)throw new Error("");if(s(),0===o)delete this.value,delete r[this.name],this.__childCache=null;else{if(n[this.name]!==e)throw new Error("");for(this.value!==e&&(this.value=e,this.__childCache=null),c=0;c<o;++c)t.push(this.parentPath.get(this.name+c));if(t[0]!==this)throw new Error("")}}else if(1===o)this.value!==e&&(this.__childCache=null),this.value=n[this.name]=e,t.push(this);else{if(0!==o)throw new Error("Could not replace path");delete n[this.name],delete this.value,this.__childCache=null}return t},a}},{"./types":551}],549:[function(e,t,n){var i=Object.prototype.hasOwnProperty;t.exports=function(t){var n=t.use(e("./types")),r=n.Type,o=n.namedTypes,a=o.Node,s=o.Expression,u=n.builtInTypes.array,l=n.builders;function c(n,i){if(!(this instanceof c))throw new Error("Scope constructor cannot be invoked without 'new'");if(!(n instanceof t.use(e("./node-path"))))throw new Error("");var r;if(p.assert(n.value),i){if(!(i instanceof c))throw new Error("");r=i.depth+1}else i=null,r=0;Object.defineProperties(this,{path:{value:n},node:{value:n.value},isGlobal:{value:!i,enumerable:!0},depth:{value:r},parent:{value:i},bindings:{value:{}},types:{value:{}}})}var d=[o.Program,o.Function,o.CatchClause],p=r.or.apply(r,d);c.isEstablishedBy=function(e){return p.check(e)};var h=c.prototype;function f(e,t,r){var l=e.value;e.parent&&o.FunctionExpression.check(e.parent.node)&&e.parent.node.id&&g(e.parent.get("id"),t),l&&(u.check(l)?e.each((function(e){m(e,t,r)})):o.Function.check(l)?(e.get("params").each((function(e){g(e,t)})),m(e.get("body"),t,r)):o.TypeAlias&&o.TypeAlias.check(l)?function(e,t){var n=e.value;o.Pattern.assert(n),o.Identifier.check(n)&&(i.call(t,n.name)?t[n.name].push(e):t[n.name]=[e])}(e.get("id"),r):o.VariableDeclarator.check(l)?(g(e.get("id"),t),m(e.get("init"),t,r)):"ImportSpecifier"===l.type||"ImportNamespaceSpecifier"===l.type||"ImportDefaultSpecifier"===l.type?g(e.get(l.local?"local":l.name?"name":"id"),t):a.check(l)&&!s.check(l)&&n.eachField(l,(function(n,i){var o=e.get(n);if(!function(e,t){if(e.value===t)return!0;if(Array.isArray(e.value)&&0===e.value.length&&Array.isArray(t)&&0===t.length)return!0;return!1}(o,i))throw new Error("");m(o,t,r)})))}function m(e,t,n){var r=e.value;if(!r||s.check(r));else if(o.FunctionDeclaration.check(r)&&null!==r.id)g(e.get("id"),t);else if(o.ClassDeclaration&&o.ClassDeclaration.check(r))g(e.get("id"),t);else if(p.check(r)){if(o.CatchClause.check(r)){var a=r.param.name,u=i.call(t,a);f(e.get("body"),t,n),u||delete t[a]}}else f(e,t,n)}function g(e,t){var n=e.value;o.Pattern.assert(n),o.Identifier.check(n)?i.call(t,n.name)?t[n.name].push(e):t[n.name]=[e]:o.ObjectPattern&&o.ObjectPattern.check(n)?e.get("properties").each((function(e){var n=e.value;o.Pattern.check(n)?g(e,t):o.Property.check(n)?g(e.get("value"),t):o.SpreadProperty&&o.SpreadProperty.check(n)&&g(e.get("argument"),t)})):o.ArrayPattern&&o.ArrayPattern.check(n)?e.get("elements").each((function(e){var n=e.value;o.Pattern.check(n)?g(e,t):o.SpreadElement&&o.SpreadElement.check(n)&&g(e.get("argument"),t)})):o.PropertyPattern&&o.PropertyPattern.check(n)?g(e.get("pattern"),t):(o.SpreadElementPattern&&o.SpreadElementPattern.check(n)||o.SpreadPropertyPattern&&o.SpreadPropertyPattern.check(n))&&g(e.get("argument"),t)}return h.didScan=!1,h.declares=function(e){return this.scan(),i.call(this.bindings,e)},h.declaresType=function(e){return this.scan(),i.call(this.types,e)},h.declareTemporary=function(e){if(e){if(!/^[a-z$_]/i.test(e))throw new Error("")}else e="t$";e+=this.depth.toString(36)+"$",this.scan();for(var t=0;this.declares(e+t);)++t;var i=e+t;return this.bindings[i]=n.builders.identifier(i)},h.injectTemporary=function(e,t){e||(e=this.declareTemporary());var n=this.path.get("body");return o.BlockStatement.check(n.value)&&(n=n.get("body")),n.unshift(l.variableDeclaration("var",[l.variableDeclarator(e,t||null)])),e},h.scan=function(e){if(e||!this.didScan){for(var t in this.bindings)delete this.bindings[t];!function(e,t,n){var i=e.value;p.assert(i),o.CatchClause.check(i)?g(e.get("param"),t):f(e,t,n)}(this.path,this.bindings,this.types),this.didScan=!0}},h.getBindings=function(){return this.scan(),this.bindings},h.getTypes=function(){return this.scan(),this.types},h.lookup=function(e){for(var t=this;t&&!t.declares(e);t=t.parent);return t},h.lookupType=function(e){for(var t=this;t&&!t.declaresType(e);t=t.parent);return t},h.getGlobalScope=function(){for(var e=this;!e.isGlobal;)e=e.parent;return e},c}},{"./node-path":546,"./types":551}],550:[function(e,t,n){t.exports=function(t){var n={},i=t.use(e("../lib/types")),r=i.Type,o=i.builtInTypes,a=o.number;n.geq=function(e){return new r((function(t){return a.check(t)&&t>=e}),a+" >= "+e)},n.defaults={null:function(){return null},emptyArray:function(){return[]},false:function(){return!1},true:function(){return!0},undefined:function(){}};var s=r.or(o.string,o.number,o.boolean,o.null,o.undefined);return n.isPrimitive=new r((function(e){if(null===e)return!0;var t=typeof e;return!("object"===t||"function"===t)}),s.toString()),n}},{"../lib/types":551}],551:[function(e,t,n){var i=Array.prototype,r=i.slice,o=(i.map,i.forEach,Object.prototype),a=o.toString,s=a.call((function(){})),u=a.call(""),l=o.hasOwnProperty;t.exports=function(){var e={};function t(e,n){var i=this;if(!(i instanceof t))throw new Error("Type constructor cannot be invoked without 'new'");if(a.call(e)!==s)throw new Error(e+" is not a function");var r=a.call(n);if(r!==s&&r!==u)throw new Error(n+" is neither a function nor a string");Object.defineProperties(i,{name:{value:n},check:{value:function(t,n){var r=e.call(i,t,n);return!r&&n&&a.call(n)===s&&n(i,t),r}}})}var n=t.prototype;function i(e){return g.check(e)?"{"+Object.keys(e).map((function(t){return t+": "+e[t]})).join(", ")+"}":m.check(e)?"["+e.map(i).join(", ")+"]":JSON.stringify(e)}e.Type=t,n.assert=function(e,t){if(!this.check(e,t)){var n=i(e);throw new Error(n+" does not match type "+this)}return!0},n.toString=function(){var e=this.name;return h.check(e)?e:f.check(e)?e.call(this)+"":e+" type"};var o=[],c=[],d={};function p(e,n){var i=a.call(e),r=new t((function(e){return a.call(e)===i}),n);return d[n]=r,e&&"function"==typeof e.constructor&&(o.push(e.constructor),c.push(r)),r}e.builtInTypes=d;var h=p("truthy","string"),f=p((function(){}),"function"),m=p([],"array"),g=p({},"object"),y=(p(/./,"RegExp"),p(new Date,"Date"),p(3,"number")),v=(p(!0,"boolean"),p(null,"null"),p(void 0,"undefined"));function _(e,n){if(e instanceof t)return e;if(e instanceof S)return e.type;if(m.check(e))return t.fromArray(e);if(g.check(e))return t.fromObject(e);if(f.check(e)){var i=o.indexOf(e);return i>=0?c[i]:new t(e,n)}return new t((function(t){return t===e}),v.check(n)?function(){return e+""}:n)}function b(e,t,n,i){if(!(this instanceof b))throw new Error("Field constructor cannot be invoked without 'new'");h.assert(e);var r={name:{value:e},type:{value:t=_(t)},hidden:{value:!!i}};f.check(n)&&(r.defaultFn={value:n}),Object.defineProperties(this,r)}t.or=function(){for(var e=[],n=arguments.length,i=0;i<n;++i)e.push(_(arguments[i]));return new t((function(t,i){for(var r=0;r<n;++r)if(e[r].check(t,i))return!0;return!1}),(function(){return e.join(" | ")}))},t.fromArray=function(e){if(!m.check(e))throw new Error("");if(1!==e.length)throw new Error("only one element type is permitted for typed arrays");return _(e[0]).arrayOf()},n.arrayOf=function(){var e=this;return new t((function(t,n){return m.check(t)&&t.every((function(t){return e.check(t,n)}))}),(function(){return"["+e+"]"}))},t.fromObject=function(e){var n=Object.keys(e).map((function(t){return new b(t,e[t])}));return new t((function(e,t){return g.check(e)&&n.every((function(n){return n.type.check(e[n.name],t)}))}),(function(){return"{ "+n.join(", ")+" }"}))};var w=b.prototype;w.toString=function(){return JSON.stringify(this.name)+": "+this.type},w.getValue=function(e){var t=e[this.name];return v.check(t)?(this.defaultFn&&(t=this.defaultFn.call(e)),t):t},t.def=function(e){return h.assert(e),l.call(E,e)?E[e]:E[e]=new S(e)};var E=Object.create(null);function S(e){var n=this;if(!(n instanceof S))throw new Error("Def constructor cannot be invoked without 'new'");Object.defineProperties(n,{typeName:{value:e},baseNames:{value:[]},ownFields:{value:Object.create(null)},allSupertypes:{value:Object.create(null)},supertypeList:{value:[]},allFields:{value:Object.create(null)},fieldNames:{value:[]},type:{value:new t((function(e,t){return n.check(e,t)}),e)}})}S.fromValue=function(e){if(e&&"object"==typeof e){var t=e.type;if("string"==typeof t&&l.call(E,t)){var n=E[t];if(n.finalized)return n}}return null};var T=S.prototype;T.isSupertypeOf=function(e){if(e instanceof S){if(!0!==this.finalized||!0!==e.finalized)throw new Error("");return l.call(e.allSupertypes,this.typeName)}throw new Error(e+" is not a Def")},e.getSupertypeNames=function(e){if(!l.call(E,e))throw new Error("");var t=E[e];if(!0!==t.finalized)throw new Error("");return t.supertypeList.slice(1)},e.computeSupertypeLookupTable=function(e){for(var t={},n=Object.keys(E),i=n.length,r=0;r<i;++r){var o=n[r],a=E[o];if(!0!==a.finalized)throw new Error(""+o);for(var s=0;s<a.supertypeList.length;++s){var u=a.supertypeList[s];if(l.call(e,u)){t[o]=u;break}}}return t},T.checkAllFields=function(e,t){var n=this.allFields;if(!0!==this.finalized)throw new Error(""+this.typeName);return g.check(e)&&Object.keys(n).every((function(i){var r=n[i],o=r.type,a=r.getValue(e);return o.check(a,t)}))},T.check=function(e,t){if(!0!==this.finalized)throw new Error("prematurely checking unfinalized type "+this.typeName);if(!g.check(e))return!1;var n=S.fromValue(e);return n?t&&n===this?this.checkAllFields(e,t):!!this.isSupertypeOf(n)&&(!t||n.checkAllFields(e,t)&&this.checkAllFields(e,!1)):("SourceLocation"===this.typeName||"Position"===this.typeName)&&this.checkAllFields(e,t)},T.bases=function(){var e=r.call(arguments),t=this.baseNames;if(this.finalized){if(e.length!==t.length)throw new Error("");for(var n=0;n<e.length;n++)if(e[n]!==t[n])throw new Error("");return this}return e.forEach((function(e){h.assert(e),t.indexOf(e)<0&&t.push(e)})),this},Object.defineProperty(T,"buildable",{value:!1});var C={};e.builders=C;var x={};e.defineMethod=function(e,t){var n=x[e];return v.check(t)?delete x[e]:(f.assert(t),Object.defineProperty(x,e,{enumerable:!0,configurable:!0,value:t})),n};var A=h.arrayOf();function k(e){return e.replace(/^[A-Z]+/,(function(e){var t=e.length;switch(t){case 0:return"";case 1:return e.toLowerCase();default:return e.slice(0,t-1).toLowerCase()+e.charAt(t-1)}}))}function I(e){return(e=k(e)).replace(/(Expression)?$/,"Statement")}T.build=function(){var e=this,t=r.call(arguments);return A.assert(t),Object.defineProperty(e,"buildParams",{value:t,writable:!1,enumerable:!1,configurable:!0}),e.buildable||(e.field("type",String,(function(){return e.typeName})),Object.defineProperty(e,"buildable",{value:!0}),Object.defineProperty(C,k(e.typeName),{enumerable:!0,value:function(){var t=arguments,n=t.length,r=Object.create(x);if(!e.finalized)throw new Error("attempting to instantiate unfinalized type "+e.typeName);function o(o,a){if(!l.call(r,o)){var s=e.allFields;if(!l.call(s,o))throw new Error(""+o);var u,c=s[o],d=c.type;if(y.check(a)&&a<n)u=t[a];else{if(!c.defaultFn){var p="no value or default function given for field "+JSON.stringify(o)+" of "+e.typeName+"("+e.buildParams.map((function(e){return s[e]})).join(", ")+")";throw new Error(p)}u=c.defaultFn.call(r)}if(!d.check(u))throw new Error(i(u)+" does not match field "+c+" of type "+e.typeName);r[o]=u}}if(e.buildParams.forEach((function(e,t){o(e,t)})),Object.keys(e.allFields).forEach((function(e){o(e)})),r.type!==e.typeName)throw new Error("");return r}})),e},e.getBuilderName=k,e.getStatementBuilderName=I,T.field=function(e,t,n,i){return this.finalized?(console.error("Ignoring attempt to redefine field "+JSON.stringify(e)+" of finalized type "+JSON.stringify(this.typeName)),this):(this.ownFields[e]=new b(e,t,n,i),this)};var D={};function O(e){var t=S.fromValue(e);if(t)return t.fieldNames.slice(0);if("type"in e)throw new Error("did not recognize object of type "+JSON.stringify(e.type));return Object.keys(e)}function P(e,t){var n=S.fromValue(e);if(n){var i=n.allFields[t];if(i)return i.getValue(e)}return e&&e[t]}function N(e,t){return Object.keys(t).forEach((function(n){e[n]=t[n]})),e}return e.namedTypes=D,e.getFieldNames=O,e.getFieldValue=P,e.eachField=function(e,t,n){O(e).forEach((function(n){t.call(this,n,P(e,n))}),n)},e.someField=function(e,t,n){return O(e).some((function(n){return t.call(this,n,P(e,n))}),n)},Object.defineProperty(T,"finalized",{value:!1}),T.finalize=function(){var e=this;if(!e.finalized){var t=e.allFields,n=e.allSupertypes;for(var i in e.baseNames.forEach((function(i){var r=E[i];if(!(r instanceof S)){var o="unknown supertype name "+JSON.stringify(i)+" for subtype "+JSON.stringify(e.typeName);throw new Error(o)}r.finalize(),N(t,r.allFields),N(n,r.allSupertypes)})),N(t,e.ownFields),n[e.typeName]=e,e.fieldNames.length=0,t)l.call(t,i)&&!t[i].hidden&&e.fieldNames.push(i);Object.defineProperty(D,e.typeName,{enumerable:!0,value:e.type}),Object.defineProperty(e,"finalized",{value:!0}),function(e,t){t.length=0,t.push(e);for(var n=Object.create(null),i=0;i<t.length;++i){e=t[i];var r=E[e];if(!0!==r.finalized)throw new Error("");l.call(n,e)&&delete t[n[e]],n[e]=i,t.push.apply(t,r.baseNames)}for(var o=0,a=o,s=t.length;a<s;++a)l.call(t,a)&&(t[o++]=t[a]);t.length=o}(e.typeName,e.supertypeList),e.buildable&&e.supertypeList.lastIndexOf("Expression")>=0&&function(e){var t=I(e);if(C[t])return;var n=C[k(e)];if(!n)return;C[t]=function(){return C.expressionStatement(n.apply(C,arguments))}}(e.typeName)}},e.finalize=function(){Object.keys(E).forEach((function(e){E[e].finalize()}))},e}},{}],552:[function(e,t,n){t.exports=e("./fork")([e("./def/core"),e("./def/es6"),e("./def/es7"),e("./def/mozilla"),e("./def/e4x"),e("./def/jsx"),e("./def/flow"),e("./def/esprima"),e("./def/babel")])},{"./def/babel":535,"./def/core":536,"./def/e4x":537,"./def/es6":538,"./def/es7":539,"./def/esprima":540,"./def/flow":541,"./def/jsx":542,"./def/mozilla":543,"./fork":544}],553:[function(e,t,n){var i,r;i=this,r=function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(3),o=n(8),a=n(15);function s(e,t,n){var a=null,s=function(e,t){n&&n(e,t),a&&a.visit(e,t)},u="function"==typeof n?s:null,l=!1;if(t){l="boolean"==typeof t.comment&&t.comment;var c="boolean"==typeof t.attachComment&&t.attachComment;(l||c)&&((a=new i.CommentHandler).attach=c,t.comment=!0,u=s)}var d,p=!1;t&&"string"==typeof t.sourceType&&(p="module"===t.sourceType),d=t&&"boolean"==typeof t.jsx&&t.jsx?new r.JSXParser(e,t,u):new o.Parser(e,t,u);var h=p?d.parseModule():d.parseScript();return l&&a&&(h.comments=a.comments),d.config.tokens&&(h.tokens=d.tokens),d.config.tolerant&&(h.errors=d.errorHandler.errors),h}t.parse=s,t.parseModule=function(e,t,n){var i=t||{};return i.sourceType="module",s(e,i,n)},t.parseScript=function(e,t,n){var i=t||{};return i.sourceType="script",s(e,i,n)},t.tokenize=function(e,t,n){var i,r=new a.Tokenizer(e,t);i=[];try{for(;;){var o=r.getNextToken();if(!o)break;n&&(o=n(o)),i.push(o)}}catch(e){r.errorHandler.tolerate(e)}return r.errorHandler.tolerant&&(i.errors=r.errors()),i};var u=n(2);t.Syntax=u.Syntax,t.version="4.0.1"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),r=function(){function e(){this.attach=!1,this.comments=[],this.stack=[],this.leading=[],this.trailing=[]}return e.prototype.insertInnerComments=function(e,t){if(e.type===i.Syntax.BlockStatement&&0===e.body.length){for(var n=[],r=this.leading.length-1;r>=0;--r){var o=this.leading[r];t.end.offset>=o.start&&(n.unshift(o.comment),this.leading.splice(r,1),this.trailing.splice(r,1))}n.length&&(e.innerComments=n)}},e.prototype.findTrailingComments=function(e){var t=[];if(this.trailing.length>0){for(var n=this.trailing.length-1;n>=0;--n){var i=this.trailing[n];i.start>=e.end.offset&&t.unshift(i.comment)}return this.trailing.length=0,t}var r=this.stack[this.stack.length-1];if(r&&r.node.trailingComments){var o=r.node.trailingComments[0];o&&o.range[0]>=e.end.offset&&(t=r.node.trailingComments,delete r.node.trailingComments)}return t},e.prototype.findLeadingComments=function(e){for(var t,n=[];this.stack.length>0&&((o=this.stack[this.stack.length-1])&&o.start>=e.start.offset);)t=o.node,this.stack.pop();if(t){for(var i=(t.leadingComments?t.leadingComments.length:0)-1;i>=0;--i){var r=t.leadingComments[i];r.range[1]<=e.start.offset&&(n.unshift(r),t.leadingComments.splice(i,1))}return t.leadingComments&&0===t.leadingComments.length&&delete t.leadingComments,n}for(i=this.leading.length-1;i>=0;--i){var o;(o=this.leading[i]).start<=e.start.offset&&(n.unshift(o.comment),this.leading.splice(i,1))}return n},e.prototype.visitNode=function(e,t){if(!(e.type===i.Syntax.Program&&e.body.length>0)){this.insertInnerComments(e,t);var n=this.findTrailingComments(t),r=this.findLeadingComments(t);r.length>0&&(e.leadingComments=r),n.length>0&&(e.trailingComments=n),this.stack.push({node:e,start:t.start.offset})}},e.prototype.visitComment=function(e,t){var n="L"===e.type[0]?"Line":"Block",i={type:n,value:e.value};if(e.range&&(i.range=e.range),e.loc&&(i.loc=e.loc),this.comments.push(i),this.attach){var r={comment:{type:n,value:e.value,range:[t.start.offset,t.end.offset]},start:t.start.offset};e.loc&&(r.comment.loc=e.loc),e.type=n,this.leading.push(r),this.trailing.push(r)}},e.prototype.visit=function(e,t){"LineComment"===e.type||"BlockComment"===e.type?this.visitComment(e,t):this.attach&&this.visitNode(e,t)},e}();t.CommentHandler=r},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Syntax={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForOfStatement:"ForOfStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchCase:"SwitchCase",SwitchStatement:"SwitchStatement",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"}},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),a=n(5),s=n(6),u=n(7),l=n(8),c=n(13),d=n(14);function p(e){var t;switch(e.type){case s.JSXSyntax.JSXIdentifier:t=e.name;break;case s.JSXSyntax.JSXNamespacedName:var n=e;t=p(n.namespace)+":"+p(n.name);break;case s.JSXSyntax.JSXMemberExpression:var i=e;t=p(i.object)+"."+p(i.property)}return t}c.TokenName[100]="JSXIdentifier",c.TokenName[101]="JSXText";var h=function(e){function t(t,n,i){return e.call(this,t,n,i)||this}return r(t,e),t.prototype.parsePrimaryExpression=function(){return this.match("<")?this.parseJSXRoot():e.prototype.parsePrimaryExpression.call(this)},t.prototype.startJSX=function(){this.scanner.index=this.startMarker.index,this.scanner.lineNumber=this.startMarker.line,this.scanner.lineStart=this.startMarker.index-this.startMarker.column},t.prototype.finishJSX=function(){this.nextToken()},t.prototype.reenterJSX=function(){this.startJSX(),this.expectJSX("}"),this.config.tokens&&this.tokens.pop()},t.prototype.createJSXNode=function(){return this.collectComments(),{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},t.prototype.createJSXChildNode=function(){return{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},t.prototype.scanXHTMLEntity=function(e){for(var t="&",n=!0,i=!1,r=!1,a=!1;!this.scanner.eof()&&n&&!i;){var s=this.scanner.source[this.scanner.index];if(s===e)break;if(i=";"===s,t+=s,++this.scanner.index,!i)switch(t.length){case 2:r="#"===s;break;case 3:r&&(n=(a="x"===s)||o.Character.isDecimalDigit(s.charCodeAt(0)),r=r&&!a);break;default:n=(n=n&&!(r&&!o.Character.isDecimalDigit(s.charCodeAt(0))))&&!(a&&!o.Character.isHexDigit(s.charCodeAt(0)))}}if(n&&i&&t.length>2){var u=t.substr(1,t.length-2);r&&u.length>1?t=String.fromCharCode(parseInt(u.substr(1),10)):a&&u.length>2?t=String.fromCharCode(parseInt("0"+u.substr(1),16)):r||a||!d.XHTMLEntities[u]||(t=d.XHTMLEntities[u])}return t},t.prototype.lexJSX=function(){var e=this.scanner.source.charCodeAt(this.scanner.index);if(60===e||62===e||47===e||58===e||61===e||123===e||125===e)return{type:7,value:s=this.scanner.source[this.scanner.index++],lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index-1,end:this.scanner.index};if(34===e||39===e){for(var t=this.scanner.index,n=this.scanner.source[this.scanner.index++],i="";!this.scanner.eof()&&(u=this.scanner.source[this.scanner.index++])!==n;)i+="&"===u?this.scanXHTMLEntity(n):u;return{type:8,value:i,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:t,end:this.scanner.index}}if(46===e){var r=this.scanner.source.charCodeAt(this.scanner.index+1),a=this.scanner.source.charCodeAt(this.scanner.index+2),s=46===r&&46===a?"...":".";return t=this.scanner.index,this.scanner.index+=s.length,{type:7,value:s,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:t,end:this.scanner.index}}if(96===e)return{type:10,value:"",lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index,end:this.scanner.index};if(o.Character.isIdentifierStart(e)&&92!==e){for(t=this.scanner.index,++this.scanner.index;!this.scanner.eof();){var u=this.scanner.source.charCodeAt(this.scanner.index);if(o.Character.isIdentifierPart(u)&&92!==u)++this.scanner.index;else{if(45!==u)break;++this.scanner.index}}return{type:100,value:this.scanner.source.slice(t,this.scanner.index),lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:t,end:this.scanner.index}}return this.scanner.lex()},t.prototype.nextJSXToken=function(){this.collectComments(),this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;var e=this.lexJSX();return this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.config.tokens&&this.tokens.push(this.convertToken(e)),e},t.prototype.nextJSXText=function(){this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;for(var e=this.scanner.index,t="";!this.scanner.eof();){var n=this.scanner.source[this.scanner.index];if("{"===n||"<"===n)break;++this.scanner.index,t+=n,o.Character.isLineTerminator(n.charCodeAt(0))&&(++this.scanner.lineNumber,"\r"===n&&"\n"===this.scanner.source[this.scanner.index]&&++this.scanner.index,this.scanner.lineStart=this.scanner.index)}this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart;var i={type:101,value:t,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:e,end:this.scanner.index};return t.length>0&&this.config.tokens&&this.tokens.push(this.convertToken(i)),i},t.prototype.peekJSXToken=function(){var e=this.scanner.saveState();this.scanner.scanComments();var t=this.lexJSX();return this.scanner.restoreState(e),t},t.prototype.expectJSX=function(e){var t=this.nextJSXToken();7===t.type&&t.value===e||this.throwUnexpectedToken(t)},t.prototype.matchJSX=function(e){var t=this.peekJSXToken();return 7===t.type&&t.value===e},t.prototype.parseJSXIdentifier=function(){var e=this.createJSXNode(),t=this.nextJSXToken();return 100!==t.type&&this.throwUnexpectedToken(t),this.finalize(e,new a.JSXIdentifier(t.value))},t.prototype.parseJSXElementName=function(){var e=this.createJSXNode(),t=this.parseJSXIdentifier();if(this.matchJSX(":")){var n=t;this.expectJSX(":");var i=this.parseJSXIdentifier();t=this.finalize(e,new a.JSXNamespacedName(n,i))}else if(this.matchJSX("."))for(;this.matchJSX(".");){var r=t;this.expectJSX(".");var o=this.parseJSXIdentifier();t=this.finalize(e,new a.JSXMemberExpression(r,o))}return t},t.prototype.parseJSXAttributeName=function(){var e,t=this.createJSXNode(),n=this.parseJSXIdentifier();if(this.matchJSX(":")){var i=n;this.expectJSX(":");var r=this.parseJSXIdentifier();e=this.finalize(t,new a.JSXNamespacedName(i,r))}else e=n;return e},t.prototype.parseJSXStringLiteralAttribute=function(){var e=this.createJSXNode(),t=this.nextJSXToken();8!==t.type&&this.throwUnexpectedToken(t);var n=this.getTokenRaw(t);return this.finalize(e,new u.Literal(t.value,n))},t.prototype.parseJSXExpressionAttribute=function(){var e=this.createJSXNode();this.expectJSX("{"),this.finishJSX(),this.match("}")&&this.tolerateError("JSX attributes must only be assigned a non-empty expression");var t=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(e,new a.JSXExpressionContainer(t))},t.prototype.parseJSXAttributeValue=function(){return this.matchJSX("{")?this.parseJSXExpressionAttribute():this.matchJSX("<")?this.parseJSXElement():this.parseJSXStringLiteralAttribute()},t.prototype.parseJSXNameValueAttribute=function(){var e=this.createJSXNode(),t=this.parseJSXAttributeName(),n=null;return this.matchJSX("=")&&(this.expectJSX("="),n=this.parseJSXAttributeValue()),this.finalize(e,new a.JSXAttribute(t,n))},t.prototype.parseJSXSpreadAttribute=function(){var e=this.createJSXNode();this.expectJSX("{"),this.expectJSX("..."),this.finishJSX();var t=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(e,new a.JSXSpreadAttribute(t))},t.prototype.parseJSXAttributes=function(){for(var e=[];!this.matchJSX("/")&&!this.matchJSX(">");){var t=this.matchJSX("{")?this.parseJSXSpreadAttribute():this.parseJSXNameValueAttribute();e.push(t)}return e},t.prototype.parseJSXOpeningElement=function(){var e=this.createJSXNode();this.expectJSX("<");var t=this.parseJSXElementName(),n=this.parseJSXAttributes(),i=this.matchJSX("/");return i&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(e,new a.JSXOpeningElement(t,i,n))},t.prototype.parseJSXBoundaryElement=function(){var e=this.createJSXNode();if(this.expectJSX("<"),this.matchJSX("/")){this.expectJSX("/");var t=this.parseJSXElementName();return this.expectJSX(">"),this.finalize(e,new a.JSXClosingElement(t))}var n=this.parseJSXElementName(),i=this.parseJSXAttributes(),r=this.matchJSX("/");return r&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(e,new a.JSXOpeningElement(n,r,i))},t.prototype.parseJSXEmptyExpression=function(){var e=this.createJSXChildNode();return this.collectComments(),this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.finalize(e,new a.JSXEmptyExpression)},t.prototype.parseJSXExpressionContainer=function(){var e,t=this.createJSXNode();return this.expectJSX("{"),this.matchJSX("}")?(e=this.parseJSXEmptyExpression(),this.expectJSX("}")):(this.finishJSX(),e=this.parseAssignmentExpression(),this.reenterJSX()),this.finalize(t,new a.JSXExpressionContainer(e))},t.prototype.parseJSXChildren=function(){for(var e=[];!this.scanner.eof();){var t=this.createJSXChildNode(),n=this.nextJSXText();if(n.start<n.end){var i=this.getTokenRaw(n),r=this.finalize(t,new a.JSXText(n.value,i));e.push(r)}if("{"!==this.scanner.source[this.scanner.index])break;var o=this.parseJSXExpressionContainer();e.push(o)}return e},t.prototype.parseComplexJSXElement=function(e){for(var t=[];!this.scanner.eof();){e.children=e.children.concat(this.parseJSXChildren());var n=this.createJSXChildNode(),i=this.parseJSXBoundaryElement();if(i.type===s.JSXSyntax.JSXOpeningElement){var r=i;if(r.selfClosing){var o=this.finalize(n,new a.JSXElement(r,[],null));e.children.push(o)}else t.push(e),e={node:n,opening:r,closing:null,children:[]}}if(i.type===s.JSXSyntax.JSXClosingElement){e.closing=i;var u=p(e.opening.name);if(u!==p(e.closing.name)&&this.tolerateError("Expected corresponding JSX closing tag for %0",u),!(t.length>0))break;o=this.finalize(e.node,new a.JSXElement(e.opening,e.children,e.closing)),(e=t[t.length-1]).children.push(o),t.pop()}}return e},t.prototype.parseJSXElement=function(){var e=this.createJSXNode(),t=this.parseJSXOpeningElement(),n=[],i=null;if(!t.selfClosing){var r=this.parseComplexJSXElement({node:e,opening:t,closing:i,children:n});n=r.children,i=r.closing}return this.finalize(e,new a.JSXElement(t,n,i))},t.prototype.parseJSXRoot=function(){this.config.tokens&&this.tokens.pop(),this.startJSX();var e=this.parseJSXElement();return this.finishJSX(),e},t.prototype.isStartOfExpression=function(){return e.prototype.isStartOfExpression.call(this)||this.match("<")},t}(l.Parser);t.JSXParser=h},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};t.Character={fromCodePoint:function(e){return e<65536?String.fromCharCode(e):String.fromCharCode(55296+(e-65536>>10))+String.fromCharCode(56320+(e-65536&1023))},isWhiteSpace:function(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0},isLineTerminator:function(e){return 10===e||13===e||8232===e||8233===e},isIdentifierStart:function(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&n.NonAsciiIdentifierStart.test(t.Character.fromCodePoint(e))},isIdentifierPart:function(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&n.NonAsciiIdentifierPart.test(t.Character.fromCodePoint(e))},isDecimalDigit:function(e){return e>=48&&e<=57},isHexDigit:function(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102},isOctalDigit:function(e){return e>=48&&e<=55}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(6),r=function(e){this.type=i.JSXSyntax.JSXClosingElement,this.name=e};t.JSXClosingElement=r;var o=function(e,t,n){this.type=i.JSXSyntax.JSXElement,this.openingElement=e,this.children=t,this.closingElement=n};t.JSXElement=o;var a=function(){this.type=i.JSXSyntax.JSXEmptyExpression};t.JSXEmptyExpression=a;var s=function(e){this.type=i.JSXSyntax.JSXExpressionContainer,this.expression=e};t.JSXExpressionContainer=s;var u=function(e){this.type=i.JSXSyntax.JSXIdentifier,this.name=e};t.JSXIdentifier=u;var l=function(e,t){this.type=i.JSXSyntax.JSXMemberExpression,this.object=e,this.property=t};t.JSXMemberExpression=l;var c=function(e,t){this.type=i.JSXSyntax.JSXAttribute,this.name=e,this.value=t};t.JSXAttribute=c;var d=function(e,t){this.type=i.JSXSyntax.JSXNamespacedName,this.namespace=e,this.name=t};t.JSXNamespacedName=d;var p=function(e,t,n){this.type=i.JSXSyntax.JSXOpeningElement,this.name=e,this.selfClosing=t,this.attributes=n};t.JSXOpeningElement=p;var h=function(e){this.type=i.JSXSyntax.JSXSpreadAttribute,this.argument=e};t.JSXSpreadAttribute=h;var f=function(e,t){this.type=i.JSXSyntax.JSXText,this.value=e,this.raw=t};t.JSXText=f},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JSXSyntax={JSXAttribute:"JSXAttribute",JSXClosingElement:"JSXClosingElement",JSXElement:"JSXElement",JSXEmptyExpression:"JSXEmptyExpression",JSXExpressionContainer:"JSXExpressionContainer",JSXIdentifier:"JSXIdentifier",JSXMemberExpression:"JSXMemberExpression",JSXNamespacedName:"JSXNamespacedName",JSXOpeningElement:"JSXOpeningElement",JSXSpreadAttribute:"JSXSpreadAttribute",JSXText:"JSXText"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),r=function(e){this.type=i.Syntax.ArrayExpression,this.elements=e};t.ArrayExpression=r;var o=function(e){this.type=i.Syntax.ArrayPattern,this.elements=e};t.ArrayPattern=o;var a=function(e,t,n){this.type=i.Syntax.ArrowFunctionExpression,this.id=null,this.params=e,this.body=t,this.generator=!1,this.expression=n,this.async=!1};t.ArrowFunctionExpression=a;var s=function(e,t,n){this.type=i.Syntax.AssignmentExpression,this.operator=e,this.left=t,this.right=n};t.AssignmentExpression=s;var u=function(e,t){this.type=i.Syntax.AssignmentPattern,this.left=e,this.right=t};t.AssignmentPattern=u;var l=function(e,t,n){this.type=i.Syntax.ArrowFunctionExpression,this.id=null,this.params=e,this.body=t,this.generator=!1,this.expression=n,this.async=!0};t.AsyncArrowFunctionExpression=l;var c=function(e,t,n){this.type=i.Syntax.FunctionDeclaration,this.id=e,this.params=t,this.body=n,this.generator=!1,this.expression=!1,this.async=!0};t.AsyncFunctionDeclaration=c;var d=function(e,t,n){this.type=i.Syntax.FunctionExpression,this.id=e,this.params=t,this.body=n,this.generator=!1,this.expression=!1,this.async=!0};t.AsyncFunctionExpression=d;var p=function(e){this.type=i.Syntax.AwaitExpression,this.argument=e};t.AwaitExpression=p;var h=function(e,t,n){var r="||"===e||"&&"===e;this.type=r?i.Syntax.LogicalExpression:i.Syntax.BinaryExpression,this.operator=e,this.left=t,this.right=n};t.BinaryExpression=h;var f=function(e){this.type=i.Syntax.BlockStatement,this.body=e};t.BlockStatement=f;var m=function(e){this.type=i.Syntax.BreakStatement,this.label=e};t.BreakStatement=m;var g=function(e,t){this.type=i.Syntax.CallExpression,this.callee=e,this.arguments=t};t.CallExpression=g;var y=function(e,t){this.type=i.Syntax.CatchClause,this.param=e,this.body=t};t.CatchClause=y;var v=function(e){this.type=i.Syntax.ClassBody,this.body=e};t.ClassBody=v;var _=function(e,t,n){this.type=i.Syntax.ClassDeclaration,this.id=e,this.superClass=t,this.body=n};t.ClassDeclaration=_;var b=function(e,t,n){this.type=i.Syntax.ClassExpression,this.id=e,this.superClass=t,this.body=n};t.ClassExpression=b;var w=function(e,t){this.type=i.Syntax.MemberExpression,this.computed=!0,this.object=e,this.property=t};t.ComputedMemberExpression=w;var E=function(e,t,n){this.type=i.Syntax.ConditionalExpression,this.test=e,this.consequent=t,this.alternate=n};t.ConditionalExpression=E;var S=function(e){this.type=i.Syntax.ContinueStatement,this.label=e};t.ContinueStatement=S;var T=function(){this.type=i.Syntax.DebuggerStatement};t.DebuggerStatement=T;var C=function(e,t){this.type=i.Syntax.ExpressionStatement,this.expression=e,this.directive=t};t.Directive=C;var x=function(e,t){this.type=i.Syntax.DoWhileStatement,this.body=e,this.test=t};t.DoWhileStatement=x;var A=function(){this.type=i.Syntax.EmptyStatement};t.EmptyStatement=A;var k=function(e){this.type=i.Syntax.ExportAllDeclaration,this.source=e};t.ExportAllDeclaration=k;var I=function(e){this.type=i.Syntax.ExportDefaultDeclaration,this.declaration=e};t.ExportDefaultDeclaration=I;var D=function(e,t,n){this.type=i.Syntax.ExportNamedDeclaration,this.declaration=e,this.specifiers=t,this.source=n};t.ExportNamedDeclaration=D;var O=function(e,t){this.type=i.Syntax.ExportSpecifier,this.exported=t,this.local=e};t.ExportSpecifier=O;var P=function(e){this.type=i.Syntax.ExpressionStatement,this.expression=e};t.ExpressionStatement=P;var N=function(e,t,n){this.type=i.Syntax.ForInStatement,this.left=e,this.right=t,this.body=n,this.each=!1};t.ForInStatement=N;var R=function(e,t,n){this.type=i.Syntax.ForOfStatement,this.left=e,this.right=t,this.body=n};t.ForOfStatement=R;var L=function(e,t,n,r){this.type=i.Syntax.ForStatement,this.init=e,this.test=t,this.update=n,this.body=r};t.ForStatement=L;var M=function(e,t,n,r){this.type=i.Syntax.FunctionDeclaration,this.id=e,this.params=t,this.body=n,this.generator=r,this.expression=!1,this.async=!1};t.FunctionDeclaration=M;var F=function(e,t,n,r){this.type=i.Syntax.FunctionExpression,this.id=e,this.params=t,this.body=n,this.generator=r,this.expression=!1,this.async=!1};t.FunctionExpression=F;var j=function(e){this.type=i.Syntax.Identifier,this.name=e};t.Identifier=j;var B=function(e,t,n){this.type=i.Syntax.IfStatement,this.test=e,this.consequent=t,this.alternate=n};t.IfStatement=B;var U=function(e,t){this.type=i.Syntax.ImportDeclaration,this.specifiers=e,this.source=t};t.ImportDeclaration=U;var H=function(e){this.type=i.Syntax.ImportDefaultSpecifier,this.local=e};t.ImportDefaultSpecifier=H;var $=function(e){this.type=i.Syntax.ImportNamespaceSpecifier,this.local=e};t.ImportNamespaceSpecifier=$;var G=function(e,t){this.type=i.Syntax.ImportSpecifier,this.local=e,this.imported=t};t.ImportSpecifier=G;var q=function(e,t){this.type=i.Syntax.LabeledStatement,this.label=e,this.body=t};t.LabeledStatement=q;var V=function(e,t){this.type=i.Syntax.Literal,this.value=e,this.raw=t};t.Literal=V;var z=function(e,t){this.type=i.Syntax.MetaProperty,this.meta=e,this.property=t};t.MetaProperty=z;var W=function(e,t,n,r,o){this.type=i.Syntax.MethodDefinition,this.key=e,this.computed=t,this.value=n,this.kind=r,this.static=o};t.MethodDefinition=W;var K=function(e){this.type=i.Syntax.Program,this.body=e,this.sourceType="module"};t.Module=K;var Y=function(e,t){this.type=i.Syntax.NewExpression,this.callee=e,this.arguments=t};t.NewExpression=Y;var J=function(e){this.type=i.Syntax.ObjectExpression,this.properties=e};t.ObjectExpression=J;var X=function(e){this.type=i.Syntax.ObjectPattern,this.properties=e};t.ObjectPattern=X;var Q=function(e,t,n,r,o,a){this.type=i.Syntax.Property,this.key=t,this.computed=n,this.value=r,this.kind=e,this.method=o,this.shorthand=a};t.Property=Q;var Z=function(e,t,n,r){this.type=i.Syntax.Literal,this.value=e,this.raw=t,this.regex={pattern:n,flags:r}};t.RegexLiteral=Z;var ee=function(e){this.type=i.Syntax.RestElement,this.argument=e};t.RestElement=ee;var te=function(e){this.type=i.Syntax.ReturnStatement,this.argument=e};t.ReturnStatement=te;var ne=function(e){this.type=i.Syntax.Program,this.body=e,this.sourceType="script"};t.Script=ne;var ie=function(e){this.type=i.Syntax.SequenceExpression,this.expressions=e};t.SequenceExpression=ie;var re=function(e){this.type=i.Syntax.SpreadElement,this.argument=e};t.SpreadElement=re;var oe=function(e,t){this.type=i.Syntax.MemberExpression,this.computed=!1,this.object=e,this.property=t};t.StaticMemberExpression=oe;var ae=function(){this.type=i.Syntax.Super};t.Super=ae;var se=function(e,t){this.type=i.Syntax.SwitchCase,this.test=e,this.consequent=t};t.SwitchCase=se;var ue=function(e,t){this.type=i.Syntax.SwitchStatement,this.discriminant=e,this.cases=t};t.SwitchStatement=ue;var le=function(e,t){this.type=i.Syntax.TaggedTemplateExpression,this.tag=e,this.quasi=t};t.TaggedTemplateExpression=le;var ce=function(e,t){this.type=i.Syntax.TemplateElement,this.value=e,this.tail=t};t.TemplateElement=ce;var de=function(e,t){this.type=i.Syntax.TemplateLiteral,this.quasis=e,this.expressions=t};t.TemplateLiteral=de;var pe=function(){this.type=i.Syntax.ThisExpression};t.ThisExpression=pe;var he=function(e){this.type=i.Syntax.ThrowStatement,this.argument=e};t.ThrowStatement=he;var fe=function(e,t,n){this.type=i.Syntax.TryStatement,this.block=e,this.handler=t,this.finalizer=n};t.TryStatement=fe;var me=function(e,t){this.type=i.Syntax.UnaryExpression,this.operator=e,this.argument=t,this.prefix=!0};t.UnaryExpression=me;var ge=function(e,t,n){this.type=i.Syntax.UpdateExpression,this.operator=e,this.argument=t,this.prefix=n};t.UpdateExpression=ge;var ye=function(e,t){this.type=i.Syntax.VariableDeclaration,this.declarations=e,this.kind=t};t.VariableDeclaration=ye;var ve=function(e,t){this.type=i.Syntax.VariableDeclarator,this.id=e,this.init=t};t.VariableDeclarator=ve;var _e=function(e,t){this.type=i.Syntax.WhileStatement,this.test=e,this.body=t};t.WhileStatement=_e;var be=function(e,t){this.type=i.Syntax.WithStatement,this.object=e,this.body=t};t.WithStatement=be;var we=function(e,t){this.type=i.Syntax.YieldExpression,this.argument=e,this.delegate=t};t.YieldExpression=we},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),r=n(10),o=n(11),a=n(7),s=n(12),u=n(2),l=n(13),c="ArrowParameterPlaceHolder",d=function(){function e(e,t,n){void 0===t&&(t={}),this.config={range:"boolean"==typeof t.range&&t.range,loc:"boolean"==typeof t.loc&&t.loc,source:null,tokens:"boolean"==typeof t.tokens&&t.tokens,comment:"boolean"==typeof t.comment&&t.comment,tolerant:"boolean"==typeof t.tolerant&&t.tolerant},this.config.loc&&t.source&&null!==t.source&&(this.config.source=String(t.source)),this.delegate=n,this.errorHandler=new r.ErrorHandler,this.errorHandler.tolerant=this.config.tolerant,this.scanner=new s.Scanner(e,this.errorHandler),this.scanner.trackComment=this.config.comment,this.operatorPrecedence={")":0,";":0,",":0,"=":0,"]":0,"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":11,"/":11,"%":11},this.lookahead={type:2,value:"",lineNumber:this.scanner.lineNumber,lineStart:0,start:0,end:0},this.hasLineTerminator=!1,this.context={isModule:!1,await:!1,allowIn:!0,allowStrictDirective:!0,allowYield:!0,firstCoverInitializedNameError:null,isAssignmentTarget:!1,isBindingElement:!1,inFunctionBody:!1,inIteration:!1,inSwitch:!1,labelSet:{},strict:!1},this.tokens=[],this.startMarker={index:0,line:this.scanner.lineNumber,column:0},this.lastMarker={index:0,line:this.scanner.lineNumber,column:0},this.nextToken(),this.lastMarker={index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}return e.prototype.throwError=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=Array.prototype.slice.call(arguments,1),o=e.replace(/%(\d)/g,(function(e,t){return i.assert(t<r.length,"Message reference must be in range"),r[t]})),a=this.lastMarker.index,s=this.lastMarker.line,u=this.lastMarker.column+1;throw this.errorHandler.createError(a,s,u,o)},e.prototype.tolerateError=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=Array.prototype.slice.call(arguments,1),o=e.replace(/%(\d)/g,(function(e,t){return i.assert(t<r.length,"Message reference must be in range"),r[t]})),a=this.lastMarker.index,s=this.scanner.lineNumber,u=this.lastMarker.column+1;this.errorHandler.tolerateError(a,s,u,o)},e.prototype.unexpectedTokenError=function(e,t){var n,i=t||o.Messages.UnexpectedToken;if(e?(t||(i=2===e.type?o.Messages.UnexpectedEOS:3===e.type?o.Messages.UnexpectedIdentifier:6===e.type?o.Messages.UnexpectedNumber:8===e.type?o.Messages.UnexpectedString:10===e.type?o.Messages.UnexpectedTemplate:o.Messages.UnexpectedToken,4===e.type&&(this.scanner.isFutureReservedWord(e.value)?i=o.Messages.UnexpectedReserved:this.context.strict&&this.scanner.isStrictModeReservedWord(e.value)&&(i=o.Messages.StrictReservedWord))),n=e.value):n="ILLEGAL",i=i.replace("%0",n),e&&"number"==typeof e.lineNumber){var r=e.start,a=e.lineNumber,s=this.lastMarker.index-this.lastMarker.column,u=e.start-s+1;return this.errorHandler.createError(r,a,u,i)}return r=this.lastMarker.index,a=this.lastMarker.line,u=this.lastMarker.column+1,this.errorHandler.createError(r,a,u,i)},e.prototype.throwUnexpectedToken=function(e,t){throw this.unexpectedTokenError(e,t)},e.prototype.tolerateUnexpectedToken=function(e,t){this.errorHandler.tolerate(this.unexpectedTokenError(e,t))},e.prototype.collectComments=function(){if(this.config.comment){var e=this.scanner.scanComments();if(e.length>0&&this.delegate)for(var t=0;t<e.length;++t){var n=e[t],i=void 0;i={type:n.multiLine?"BlockComment":"LineComment",value:this.scanner.source.slice(n.slice[0],n.slice[1])},this.config.range&&(i.range=n.range),this.config.loc&&(i.loc=n.loc);var r={start:{line:n.loc.start.line,column:n.loc.start.column,offset:n.range[0]},end:{line:n.loc.end.line,column:n.loc.end.column,offset:n.range[1]}};this.delegate(i,r)}}else this.scanner.scanComments()},e.prototype.getTokenRaw=function(e){return this.scanner.source.slice(e.start,e.end)},e.prototype.convertToken=function(e){var t={type:l.TokenName[e.type],value:this.getTokenRaw(e)};if(this.config.range&&(t.range=[e.start,e.end]),this.config.loc&&(t.loc={start:{line:this.startMarker.line,column:this.startMarker.column},end:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}),9===e.type){var n=e.pattern,i=e.flags;t.regex={pattern:n,flags:i}}return t},e.prototype.nextToken=function(){var e=this.lookahead;this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.collectComments(),this.scanner.index!==this.startMarker.index&&(this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart);var t=this.scanner.lex();return this.hasLineTerminator=e.lineNumber!==t.lineNumber,t&&this.context.strict&&3===t.type&&this.scanner.isStrictModeReservedWord(t.value)&&(t.type=4),this.lookahead=t,this.config.tokens&&2!==t.type&&this.tokens.push(this.convertToken(t)),e},e.prototype.nextRegexToken=function(){this.collectComments();var e=this.scanner.scanRegExp();return this.config.tokens&&(this.tokens.pop(),this.tokens.push(this.convertToken(e))),this.lookahead=e,this.nextToken(),e},e.prototype.createNode=function(){return{index:this.startMarker.index,line:this.startMarker.line,column:this.startMarker.column}},e.prototype.startNode=function(e,t){void 0===t&&(t=0);var n=e.start-e.lineStart,i=e.lineNumber;return n<0&&(n+=t,i--),{index:e.start,line:i,column:n}},e.prototype.finalize=function(e,t){if(this.config.range&&(t.range=[e.index,this.lastMarker.index]),this.config.loc&&(t.loc={start:{line:e.line,column:e.column},end:{line:this.lastMarker.line,column:this.lastMarker.column}},this.config.source&&(t.loc.source=this.config.source)),this.delegate){var n={start:{line:e.line,column:e.column,offset:e.index},end:{line:this.lastMarker.line,column:this.lastMarker.column,offset:this.lastMarker.index}};this.delegate(t,n)}return t},e.prototype.expect=function(e){var t=this.nextToken();7===t.type&&t.value===e||this.throwUnexpectedToken(t)},e.prototype.expectCommaSeparator=function(){if(this.config.tolerant){var e=this.lookahead;7===e.type&&","===e.value?this.nextToken():7===e.type&&";"===e.value?(this.nextToken(),this.tolerateUnexpectedToken(e)):this.tolerateUnexpectedToken(e,o.Messages.UnexpectedToken)}else this.expect(",")},e.prototype.expectKeyword=function(e){var t=this.nextToken();4===t.type&&t.value===e||this.throwUnexpectedToken(t)},e.prototype.match=function(e){return 7===this.lookahead.type&&this.lookahead.value===e},e.prototype.matchKeyword=function(e){return 4===this.lookahead.type&&this.lookahead.value===e},e.prototype.matchContextualKeyword=function(e){return 3===this.lookahead.type&&this.lookahead.value===e},e.prototype.matchAssign=function(){if(7!==this.lookahead.type)return!1;var e=this.lookahead.value;return"="===e||"*="===e||"**="===e||"/="===e||"%="===e||"+="===e||"-="===e||"<<="===e||">>="===e||">>>="===e||"&="===e||"^="===e||"|="===e},e.prototype.isolateCoverGrammar=function(e){var t=this.context.isBindingElement,n=this.context.isAssignmentTarget,i=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var r=e.call(this);return null!==this.context.firstCoverInitializedNameError&&this.throwUnexpectedToken(this.context.firstCoverInitializedNameError),this.context.isBindingElement=t,this.context.isAssignmentTarget=n,this.context.firstCoverInitializedNameError=i,r},e.prototype.inheritCoverGrammar=function(e){var t=this.context.isBindingElement,n=this.context.isAssignmentTarget,i=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var r=e.call(this);return this.context.isBindingElement=this.context.isBindingElement&&t,this.context.isAssignmentTarget=this.context.isAssignmentTarget&&n,this.context.firstCoverInitializedNameError=i||this.context.firstCoverInitializedNameError,r},e.prototype.consumeSemicolon=function(){this.match(";")?this.nextToken():this.hasLineTerminator||(2===this.lookahead.type||this.match("}")||this.throwUnexpectedToken(this.lookahead),this.lastMarker.index=this.startMarker.index,this.lastMarker.line=this.startMarker.line,this.lastMarker.column=this.startMarker.column)},e.prototype.parsePrimaryExpression=function(){var e,t,n,i=this.createNode();switch(this.lookahead.type){case 3:(this.context.isModule||this.context.await)&&"await"===this.lookahead.value&&this.tolerateUnexpectedToken(this.lookahead),e=this.matchAsyncFunction()?this.parseFunctionExpression():this.finalize(i,new a.Identifier(this.nextToken().value));break;case 6:case 8:this.context.strict&&this.lookahead.octal&&this.tolerateUnexpectedToken(this.lookahead,o.Messages.StrictOctalLiteral),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,t=this.nextToken(),n=this.getTokenRaw(t),e=this.finalize(i,new a.Literal(t.value,n));break;case 1:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,t=this.nextToken(),n=this.getTokenRaw(t),e=this.finalize(i,new a.Literal("true"===t.value,n));break;case 5:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,t=this.nextToken(),n=this.getTokenRaw(t),e=this.finalize(i,new a.Literal(null,n));break;case 10:e=this.parseTemplateLiteral();break;case 7:switch(this.lookahead.value){case"(":this.context.isBindingElement=!1,e=this.inheritCoverGrammar(this.parseGroupExpression);break;case"[":e=this.inheritCoverGrammar(this.parseArrayInitializer);break;case"{":e=this.inheritCoverGrammar(this.parseObjectInitializer);break;case"/":case"/=":this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.scanner.index=this.startMarker.index,t=this.nextRegexToken(),n=this.getTokenRaw(t),e=this.finalize(i,new a.RegexLiteral(t.regex,n,t.pattern,t.flags));break;default:e=this.throwUnexpectedToken(this.nextToken())}break;case 4:!this.context.strict&&this.context.allowYield&&this.matchKeyword("yield")?e=this.parseIdentifierName():!this.context.strict&&this.matchKeyword("let")?e=this.finalize(i,new a.Identifier(this.nextToken().value)):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.matchKeyword("function")?e=this.parseFunctionExpression():this.matchKeyword("this")?(this.nextToken(),e=this.finalize(i,new a.ThisExpression)):e=this.matchKeyword("class")?this.parseClassExpression():this.throwUnexpectedToken(this.nextToken()));break;default:e=this.throwUnexpectedToken(this.nextToken())}return e},e.prototype.parseSpreadElement=function(){var e=this.createNode();this.expect("...");var t=this.inheritCoverGrammar(this.parseAssignmentExpression);return this.finalize(e,new a.SpreadElement(t))},e.prototype.parseArrayInitializer=function(){var e=this.createNode(),t=[];for(this.expect("[");!this.match("]");)if(this.match(","))this.nextToken(),t.push(null);else if(this.match("...")){var n=this.parseSpreadElement();this.match("]")||(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.expect(",")),t.push(n)}else t.push(this.inheritCoverGrammar(this.parseAssignmentExpression)),this.match("]")||this.expect(",");return this.expect("]"),this.finalize(e,new a.ArrayExpression(t))},e.prototype.parsePropertyMethod=function(e){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var t=this.context.strict,n=this.context.allowStrictDirective;this.context.allowStrictDirective=e.simple;var i=this.isolateCoverGrammar(this.parseFunctionSourceElements);return this.context.strict&&e.firstRestricted&&this.tolerateUnexpectedToken(e.firstRestricted,e.message),this.context.strict&&e.stricted&&this.tolerateUnexpectedToken(e.stricted,e.message),this.context.strict=t,this.context.allowStrictDirective=n,i},e.prototype.parsePropertyMethodFunction=function(){var e=this.createNode(),t=this.context.allowYield;this.context.allowYield=!0;var n=this.parseFormalParameters(),i=this.parsePropertyMethod(n);return this.context.allowYield=t,this.finalize(e,new a.FunctionExpression(null,n.params,i,!1))},e.prototype.parsePropertyMethodAsyncFunction=function(){var e=this.createNode(),t=this.context.allowYield,n=this.context.await;this.context.allowYield=!1,this.context.await=!0;var i=this.parseFormalParameters(),r=this.parsePropertyMethod(i);return this.context.allowYield=t,this.context.await=n,this.finalize(e,new a.AsyncFunctionExpression(null,i.params,r))},e.prototype.parseObjectPropertyKey=function(){var e,t=this.createNode(),n=this.nextToken();switch(n.type){case 8:case 6:this.context.strict&&n.octal&&this.tolerateUnexpectedToken(n,o.Messages.StrictOctalLiteral);var i=this.getTokenRaw(n);e=this.finalize(t,new a.Literal(n.value,i));break;case 3:case 1:case 5:case 4:e=this.finalize(t,new a.Identifier(n.value));break;case 7:"["===n.value?(e=this.isolateCoverGrammar(this.parseAssignmentExpression),this.expect("]")):e=this.throwUnexpectedToken(n);break;default:e=this.throwUnexpectedToken(n)}return e},e.prototype.isPropertyKey=function(e,t){return e.type===u.Syntax.Identifier&&e.name===t||e.type===u.Syntax.Literal&&e.value===t},e.prototype.parseObjectProperty=function(e){var t,n=this.createNode(),i=this.lookahead,r=null,s=null,u=!1,l=!1,c=!1,d=!1;if(3===i.type){var p=i.value;this.nextToken(),u=this.match("["),r=(d=!(this.hasLineTerminator||"async"!==p||this.match(":")||this.match("(")||this.match("*")||this.match(",")))?this.parseObjectPropertyKey():this.finalize(n,new a.Identifier(p))}else this.match("*")?this.nextToken():(u=this.match("["),r=this.parseObjectPropertyKey());var h=this.qualifiedPropertyName(this.lookahead);if(3===i.type&&!d&&"get"===i.value&&h)t="get",u=this.match("["),r=this.parseObjectPropertyKey(),this.context.allowYield=!1,s=this.parseGetterMethod();else if(3===i.type&&!d&&"set"===i.value&&h)t="set",u=this.match("["),r=this.parseObjectPropertyKey(),s=this.parseSetterMethod();else if(7===i.type&&"*"===i.value&&h)t="init",u=this.match("["),r=this.parseObjectPropertyKey(),s=this.parseGeneratorMethod(),l=!0;else if(r||this.throwUnexpectedToken(this.lookahead),t="init",this.match(":")&&!d)!u&&this.isPropertyKey(r,"__proto__")&&(e.value&&this.tolerateError(o.Messages.DuplicateProtoProperty),e.value=!0),this.nextToken(),s=this.inheritCoverGrammar(this.parseAssignmentExpression);else if(this.match("("))s=d?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),l=!0;else if(3===i.type)if(p=this.finalize(n,new a.Identifier(i.value)),this.match("=")){this.context.firstCoverInitializedNameError=this.lookahead,this.nextToken(),c=!0;var f=this.isolateCoverGrammar(this.parseAssignmentExpression);s=this.finalize(n,new a.AssignmentPattern(p,f))}else c=!0,s=p;else this.throwUnexpectedToken(this.nextToken());return this.finalize(n,new a.Property(t,r,u,s,l,c))},e.prototype.parseObjectInitializer=function(){var e=this.createNode();this.expect("{");for(var t=[],n={value:!1};!this.match("}");)t.push(this.parseObjectProperty(n)),this.match("}")||this.expectCommaSeparator();return this.expect("}"),this.finalize(e,new a.ObjectExpression(t))},e.prototype.parseTemplateHead=function(){i.assert(this.lookahead.head,"Template literal must start with a template head");var e=this.createNode(),t=this.nextToken(),n=t.value,r=t.cooked;return this.finalize(e,new a.TemplateElement({raw:n,cooked:r},t.tail))},e.prototype.parseTemplateElement=function(){10!==this.lookahead.type&&this.throwUnexpectedToken();var e=this.createNode(),t=this.nextToken(),n=t.value,i=t.cooked;return this.finalize(e,new a.TemplateElement({raw:n,cooked:i},t.tail))},e.prototype.parseTemplateLiteral=function(){var e=this.createNode(),t=[],n=[],i=this.parseTemplateHead();for(n.push(i);!i.tail;)t.push(this.parseExpression()),i=this.parseTemplateElement(),n.push(i);return this.finalize(e,new a.TemplateLiteral(n,t))},e.prototype.reinterpretExpressionAsPattern=function(e){switch(e.type){case u.Syntax.Identifier:case u.Syntax.MemberExpression:case u.Syntax.RestElement:case u.Syntax.AssignmentPattern:break;case u.Syntax.SpreadElement:e.type=u.Syntax.RestElement,this.reinterpretExpressionAsPattern(e.argument);break;case u.Syntax.ArrayExpression:e.type=u.Syntax.ArrayPattern;for(var t=0;t<e.elements.length;t++)null!==e.elements[t]&&this.reinterpretExpressionAsPattern(e.elements[t]);break;case u.Syntax.ObjectExpression:for(e.type=u.Syntax.ObjectPattern,t=0;t<e.properties.length;t++)this.reinterpretExpressionAsPattern(e.properties[t].value);break;case u.Syntax.AssignmentExpression:e.type=u.Syntax.AssignmentPattern,delete e.operator,this.reinterpretExpressionAsPattern(e.left)}},e.prototype.parseGroupExpression=function(){var e;if(this.expect("("),this.match(")"))this.nextToken(),this.match("=>")||this.expect("=>"),e={type:c,params:[],async:!1};else{var t=this.lookahead,n=[];if(this.match("..."))e=this.parseRestElement(n),this.expect(")"),this.match("=>")||this.expect("=>"),e={type:c,params:[e],async:!1};else{var i=!1;if(this.context.isBindingElement=!0,e=this.inheritCoverGrammar(this.parseAssignmentExpression),this.match(",")){var r=[];for(this.context.isAssignmentTarget=!1,r.push(e);2!==this.lookahead.type&&this.match(",");){if(this.nextToken(),this.match(")")){this.nextToken();for(var o=0;o<r.length;o++)this.reinterpretExpressionAsPattern(r[o]);i=!0,e={type:c,params:r,async:!1}}else if(this.match("...")){for(this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),r.push(this.parseRestElement(n)),this.expect(")"),this.match("=>")||this.expect("=>"),this.context.isBindingElement=!1,o=0;o<r.length;o++)this.reinterpretExpressionAsPattern(r[o]);i=!0,e={type:c,params:r,async:!1}}else r.push(this.inheritCoverGrammar(this.parseAssignmentExpression));if(i)break}i||(e=this.finalize(this.startNode(t),new a.SequenceExpression(r)))}if(!i){if(this.expect(")"),this.match("=>")&&(e.type===u.Syntax.Identifier&&"yield"===e.name&&(i=!0,e={type:c,params:[e],async:!1}),!i)){if(this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),e.type===u.Syntax.SequenceExpression)for(o=0;o<e.expressions.length;o++)this.reinterpretExpressionAsPattern(e.expressions[o]);else this.reinterpretExpressionAsPattern(e);var s=e.type===u.Syntax.SequenceExpression?e.expressions:[e];e={type:c,params:s,async:!1}}this.context.isBindingElement=!1}}}return e},e.prototype.parseArguments=function(){this.expect("(");var e=[];if(!this.match(")"))for(;;){var t=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAssignmentExpression);if(e.push(t),this.match(")"))break;if(this.expectCommaSeparator(),this.match(")"))break}return this.expect(")"),e},e.prototype.isIdentifierName=function(e){return 3===e.type||4===e.type||1===e.type||5===e.type},e.prototype.parseIdentifierName=function(){var e=this.createNode(),t=this.nextToken();return this.isIdentifierName(t)||this.throwUnexpectedToken(t),this.finalize(e,new a.Identifier(t.value))},e.prototype.parseNewExpression=function(){var e,t=this.createNode(),n=this.parseIdentifierName();if(i.assert("new"===n.name,"New expression must start with `new`"),this.match("."))if(this.nextToken(),3===this.lookahead.type&&this.context.inFunctionBody&&"target"===this.lookahead.value){var r=this.parseIdentifierName();e=new a.MetaProperty(n,r)}else this.throwUnexpectedToken(this.lookahead);else{var o=this.isolateCoverGrammar(this.parseLeftHandSideExpression),s=this.match("(")?this.parseArguments():[];e=new a.NewExpression(o,s),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return this.finalize(t,e)},e.prototype.parseAsyncArgument=function(){var e=this.parseAssignmentExpression();return this.context.firstCoverInitializedNameError=null,e},e.prototype.parseAsyncArguments=function(){this.expect("(");var e=[];if(!this.match(")"))for(;;){var t=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAsyncArgument);if(e.push(t),this.match(")"))break;if(this.expectCommaSeparator(),this.match(")"))break}return this.expect(")"),e},e.prototype.parseLeftHandSideExpressionAllowCall=function(){var e,t=this.lookahead,n=this.matchContextualKeyword("async"),i=this.context.allowIn;for(this.context.allowIn=!0,this.matchKeyword("super")&&this.context.inFunctionBody?(e=this.createNode(),this.nextToken(),e=this.finalize(e,new a.Super),this.match("(")||this.match(".")||this.match("[")||this.throwUnexpectedToken(this.lookahead)):e=this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match(".")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(".");var r=this.parseIdentifierName();e=this.finalize(this.startNode(t),new a.StaticMemberExpression(e,r))}else if(this.match("(")){var o=n&&t.lineNumber===this.lookahead.lineNumber;this.context.isBindingElement=!1,this.context.isAssignmentTarget=!1;var s=o?this.parseAsyncArguments():this.parseArguments();if(e=this.finalize(this.startNode(t),new a.CallExpression(e,s)),o&&this.match("=>")){for(var u=0;u<s.length;++u)this.reinterpretExpressionAsPattern(s[u]);e={type:c,params:s,async:!0}}}else if(this.match("["))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("["),r=this.isolateCoverGrammar(this.parseExpression),this.expect("]"),e=this.finalize(this.startNode(t),new a.ComputedMemberExpression(e,r));else{if(10!==this.lookahead.type||!this.lookahead.head)break;var l=this.parseTemplateLiteral();e=this.finalize(this.startNode(t),new a.TaggedTemplateExpression(e,l))}return this.context.allowIn=i,e},e.prototype.parseSuper=function(){var e=this.createNode();return this.expectKeyword("super"),this.match("[")||this.match(".")||this.throwUnexpectedToken(this.lookahead),this.finalize(e,new a.Super)},e.prototype.parseLeftHandSideExpression=function(){i.assert(this.context.allowIn,"callee of new expression always allow in keyword.");for(var e=this.startNode(this.lookahead),t=this.matchKeyword("super")&&this.context.inFunctionBody?this.parseSuper():this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match("[")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("[");var n=this.isolateCoverGrammar(this.parseExpression);this.expect("]"),t=this.finalize(e,new a.ComputedMemberExpression(t,n))}else if(this.match("."))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("."),n=this.parseIdentifierName(),t=this.finalize(e,new a.StaticMemberExpression(t,n));else{if(10!==this.lookahead.type||!this.lookahead.head)break;var r=this.parseTemplateLiteral();t=this.finalize(e,new a.TaggedTemplateExpression(t,r))}return t},e.prototype.parseUpdateExpression=function(){var e,t=this.lookahead;if(this.match("++")||this.match("--")){var n=this.startNode(t),i=this.nextToken();e=this.inheritCoverGrammar(this.parseUnaryExpression),this.context.strict&&e.type===u.Syntax.Identifier&&this.scanner.isRestrictedWord(e.name)&&this.tolerateError(o.Messages.StrictLHSPrefix),this.context.isAssignmentTarget||this.tolerateError(o.Messages.InvalidLHSInAssignment);var r=!0;e=this.finalize(n,new a.UpdateExpression(i.value,e,r)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else if(e=this.inheritCoverGrammar(this.parseLeftHandSideExpressionAllowCall),!this.hasLineTerminator&&7===this.lookahead.type&&(this.match("++")||this.match("--"))){this.context.strict&&e.type===u.Syntax.Identifier&&this.scanner.isRestrictedWord(e.name)&&this.tolerateError(o.Messages.StrictLHSPostfix),this.context.isAssignmentTarget||this.tolerateError(o.Messages.InvalidLHSInAssignment),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var s=this.nextToken().value;r=!1,e=this.finalize(this.startNode(t),new a.UpdateExpression(s,e,r))}return e},e.prototype.parseAwaitExpression=function(){var e=this.createNode();this.nextToken();var t=this.parseUnaryExpression();return this.finalize(e,new a.AwaitExpression(t))},e.prototype.parseUnaryExpression=function(){var e;if(this.match("+")||this.match("-")||this.match("~")||this.match("!")||this.matchKeyword("delete")||this.matchKeyword("void")||this.matchKeyword("typeof")){var t=this.startNode(this.lookahead),n=this.nextToken();e=this.inheritCoverGrammar(this.parseUnaryExpression),e=this.finalize(t,new a.UnaryExpression(n.value,e)),this.context.strict&&"delete"===e.operator&&e.argument.type===u.Syntax.Identifier&&this.tolerateError(o.Messages.StrictDelete),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else e=this.context.await&&this.matchContextualKeyword("await")?this.parseAwaitExpression():this.parseUpdateExpression();return e},e.prototype.parseExponentiationExpression=function(){var e=this.lookahead,t=this.inheritCoverGrammar(this.parseUnaryExpression);if(t.type!==u.Syntax.UnaryExpression&&this.match("**")){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var n=t,i=this.isolateCoverGrammar(this.parseExponentiationExpression);t=this.finalize(this.startNode(e),new a.BinaryExpression("**",n,i))}return t},e.prototype.binaryPrecedence=function(e){var t=e.value;return 7===e.type?this.operatorPrecedence[t]||0:4===e.type&&("instanceof"===t||this.context.allowIn&&"in"===t)?7:0},e.prototype.parseBinaryExpression=function(){var e=this.lookahead,t=this.inheritCoverGrammar(this.parseExponentiationExpression),n=this.lookahead,i=this.binaryPrecedence(n);if(i>0){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;for(var r=[e,this.lookahead],o=t,s=this.isolateCoverGrammar(this.parseExponentiationExpression),u=[o,n.value,s],l=[i];!((i=this.binaryPrecedence(this.lookahead))<=0);){for(;u.length>2&&i<=l[l.length-1];){s=u.pop();var c=u.pop();l.pop(),o=u.pop(),r.pop();var d=this.startNode(r[r.length-1]);u.push(this.finalize(d,new a.BinaryExpression(c,o,s)))}u.push(this.nextToken().value),l.push(i),r.push(this.lookahead),u.push(this.isolateCoverGrammar(this.parseExponentiationExpression))}var p=u.length-1;t=u[p];for(var h=r.pop();p>1;){var f=r.pop(),m=h&&h.lineStart;d=this.startNode(f,m),c=u[p-1],t=this.finalize(d,new a.BinaryExpression(c,u[p-2],t)),p-=2,h=f}}return t},e.prototype.parseConditionalExpression=function(){var e=this.lookahead,t=this.inheritCoverGrammar(this.parseBinaryExpression);if(this.match("?")){this.nextToken();var n=this.context.allowIn;this.context.allowIn=!0;var i=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowIn=n,this.expect(":");var r=this.isolateCoverGrammar(this.parseAssignmentExpression);t=this.finalize(this.startNode(e),new a.ConditionalExpression(t,i,r)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return t},e.prototype.checkPatternParam=function(e,t){switch(t.type){case u.Syntax.Identifier:this.validateParam(e,t,t.name);break;case u.Syntax.RestElement:this.checkPatternParam(e,t.argument);break;case u.Syntax.AssignmentPattern:this.checkPatternParam(e,t.left);break;case u.Syntax.ArrayPattern:for(var n=0;n<t.elements.length;n++)null!==t.elements[n]&&this.checkPatternParam(e,t.elements[n]);break;case u.Syntax.ObjectPattern:for(n=0;n<t.properties.length;n++)this.checkPatternParam(e,t.properties[n].value)}e.simple=e.simple&&t instanceof a.Identifier},e.prototype.reinterpretAsCoverFormalsList=function(e){var t,n=[e],i=!1;switch(e.type){case u.Syntax.Identifier:break;case c:n=e.params,i=e.async;break;default:return null}t={simple:!0,paramSet:{}};for(var r=0;r<n.length;++r)(a=n[r]).type===u.Syntax.AssignmentPattern?a.right.type===u.Syntax.YieldExpression&&(a.right.argument&&this.throwUnexpectedToken(this.lookahead),a.right.type=u.Syntax.Identifier,a.right.name="yield",delete a.right.argument,delete a.right.delegate):i&&a.type===u.Syntax.Identifier&&"await"===a.name&&this.throwUnexpectedToken(this.lookahead),this.checkPatternParam(t,a),n[r]=a;if(this.context.strict||!this.context.allowYield)for(r=0;r<n.length;++r){var a;(a=n[r]).type===u.Syntax.YieldExpression&&this.throwUnexpectedToken(this.lookahead)}if(t.message===o.Messages.StrictParamDupe){var s=this.context.strict?t.stricted:t.firstRestricted;this.throwUnexpectedToken(s,t.message)}return{simple:t.simple,params:n,stricted:t.stricted,firstRestricted:t.firstRestricted,message:t.message}},e.prototype.parseAssignmentExpression=function(){var e;if(!this.context.allowYield&&this.matchKeyword("yield"))e=this.parseYieldExpression();else{var t=this.lookahead,n=t;if(e=this.parseConditionalExpression(),3===n.type&&n.lineNumber===this.lookahead.lineNumber&&"async"===n.value&&(3===this.lookahead.type||this.matchKeyword("yield"))){var i=this.parsePrimaryExpression();this.reinterpretExpressionAsPattern(i),e={type:c,params:[i],async:!0}}if(e.type===c||this.match("=>")){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var r=e.async,s=this.reinterpretAsCoverFormalsList(e);if(s){this.hasLineTerminator&&this.tolerateUnexpectedToken(this.lookahead),this.context.firstCoverInitializedNameError=null;var l=this.context.strict,d=this.context.allowStrictDirective;this.context.allowStrictDirective=s.simple;var p=this.context.allowYield,h=this.context.await;this.context.allowYield=!0,this.context.await=r;var f=this.startNode(t);this.expect("=>");var m=void 0;if(this.match("{")){var g=this.context.allowIn;this.context.allowIn=!0,m=this.parseFunctionSourceElements(),this.context.allowIn=g}else m=this.isolateCoverGrammar(this.parseAssignmentExpression);var y=m.type!==u.Syntax.BlockStatement;this.context.strict&&s.firstRestricted&&this.throwUnexpectedToken(s.firstRestricted,s.message),this.context.strict&&s.stricted&&this.tolerateUnexpectedToken(s.stricted,s.message),e=r?this.finalize(f,new a.AsyncArrowFunctionExpression(s.params,m,y)):this.finalize(f,new a.ArrowFunctionExpression(s.params,m,y)),this.context.strict=l,this.context.allowStrictDirective=d,this.context.allowYield=p,this.context.await=h}}else if(this.matchAssign()){if(this.context.isAssignmentTarget||this.tolerateError(o.Messages.InvalidLHSInAssignment),this.context.strict&&e.type===u.Syntax.Identifier){var v=e;this.scanner.isRestrictedWord(v.name)&&this.tolerateUnexpectedToken(n,o.Messages.StrictLHSAssignment),this.scanner.isStrictModeReservedWord(v.name)&&this.tolerateUnexpectedToken(n,o.Messages.StrictReservedWord)}this.match("=")?this.reinterpretExpressionAsPattern(e):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1);var _=(n=this.nextToken()).value,b=this.isolateCoverGrammar(this.parseAssignmentExpression);e=this.finalize(this.startNode(t),new a.AssignmentExpression(_,e,b)),this.context.firstCoverInitializedNameError=null}}return e},e.prototype.parseExpression=function(){var e=this.lookahead,t=this.isolateCoverGrammar(this.parseAssignmentExpression);if(this.match(",")){var n=[];for(n.push(t);2!==this.lookahead.type&&this.match(",");)this.nextToken(),n.push(this.isolateCoverGrammar(this.parseAssignmentExpression));t=this.finalize(this.startNode(e),new a.SequenceExpression(n))}return t},e.prototype.parseStatementListItem=function(){var e;if(this.context.isAssignmentTarget=!0,this.context.isBindingElement=!0,4===this.lookahead.type)switch(this.lookahead.value){case"export":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,o.Messages.IllegalExportDeclaration),e=this.parseExportDeclaration();break;case"import":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,o.Messages.IllegalImportDeclaration),e=this.parseImportDeclaration();break;case"const":e=this.parseLexicalDeclaration({inFor:!1});break;case"function":e=this.parseFunctionDeclaration();break;case"class":e=this.parseClassDeclaration();break;case"let":e=this.isLexicalDeclaration()?this.parseLexicalDeclaration({inFor:!1}):this.parseStatement();break;default:e=this.parseStatement()}else e=this.parseStatement();return e},e.prototype.parseBlock=function(){var e=this.createNode();this.expect("{");for(var t=[];!this.match("}");)t.push(this.parseStatementListItem());return this.expect("}"),this.finalize(e,new a.BlockStatement(t))},e.prototype.parseLexicalBinding=function(e,t){var n=this.createNode(),i=this.parsePattern([],e);this.context.strict&&i.type===u.Syntax.Identifier&&this.scanner.isRestrictedWord(i.name)&&this.tolerateError(o.Messages.StrictVarName);var r=null;return"const"===e?this.matchKeyword("in")||this.matchContextualKeyword("of")||(this.match("=")?(this.nextToken(),r=this.isolateCoverGrammar(this.parseAssignmentExpression)):this.throwError(o.Messages.DeclarationMissingInitializer,"const")):(!t.inFor&&i.type!==u.Syntax.Identifier||this.match("="))&&(this.expect("="),r=this.isolateCoverGrammar(this.parseAssignmentExpression)),this.finalize(n,new a.VariableDeclarator(i,r))},e.prototype.parseBindingList=function(e,t){for(var n=[this.parseLexicalBinding(e,t)];this.match(",");)this.nextToken(),n.push(this.parseLexicalBinding(e,t));return n},e.prototype.isLexicalDeclaration=function(){var e=this.scanner.saveState();this.scanner.scanComments();var t=this.scanner.lex();return this.scanner.restoreState(e),3===t.type||7===t.type&&"["===t.value||7===t.type&&"{"===t.value||4===t.type&&"let"===t.value||4===t.type&&"yield"===t.value},e.prototype.parseLexicalDeclaration=function(e){var t=this.createNode(),n=this.nextToken().value;i.assert("let"===n||"const"===n,"Lexical declaration must be either let or const");var r=this.parseBindingList(n,e);return this.consumeSemicolon(),this.finalize(t,new a.VariableDeclaration(r,n))},e.prototype.parseBindingRestElement=function(e,t){var n=this.createNode();this.expect("...");var i=this.parsePattern(e,t);return this.finalize(n,new a.RestElement(i))},e.prototype.parseArrayPattern=function(e,t){var n=this.createNode();this.expect("[");for(var i=[];!this.match("]");)if(this.match(","))this.nextToken(),i.push(null);else{if(this.match("...")){i.push(this.parseBindingRestElement(e,t));break}i.push(this.parsePatternWithDefault(e,t)),this.match("]")||this.expect(",")}return this.expect("]"),this.finalize(n,new a.ArrayPattern(i))},e.prototype.parsePropertyPattern=function(e,t){var n,i,r=this.createNode(),o=!1,s=!1;if(3===this.lookahead.type){var u=this.lookahead;n=this.parseVariableIdentifier();var l=this.finalize(r,new a.Identifier(u.value));if(this.match("=")){e.push(u),s=!0,this.nextToken();var c=this.parseAssignmentExpression();i=this.finalize(this.startNode(u),new a.AssignmentPattern(l,c))}else this.match(":")?(this.expect(":"),i=this.parsePatternWithDefault(e,t)):(e.push(u),s=!0,i=l)}else o=this.match("["),n=this.parseObjectPropertyKey(),this.expect(":"),i=this.parsePatternWithDefault(e,t);return this.finalize(r,new a.Property("init",n,o,i,!1,s))},e.prototype.parseObjectPattern=function(e,t){var n=this.createNode(),i=[];for(this.expect("{");!this.match("}");)i.push(this.parsePropertyPattern(e,t)),this.match("}")||this.expect(",");return this.expect("}"),this.finalize(n,new a.ObjectPattern(i))},e.prototype.parsePattern=function(e,t){var n;return this.match("[")?n=this.parseArrayPattern(e,t):this.match("{")?n=this.parseObjectPattern(e,t):(!this.matchKeyword("let")||"const"!==t&&"let"!==t||this.tolerateUnexpectedToken(this.lookahead,o.Messages.LetInLexicalBinding),e.push(this.lookahead),n=this.parseVariableIdentifier(t)),n},e.prototype.parsePatternWithDefault=function(e,t){var n=this.lookahead,i=this.parsePattern(e,t);if(this.match("=")){this.nextToken();var r=this.context.allowYield;this.context.allowYield=!0;var o=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowYield=r,i=this.finalize(this.startNode(n),new a.AssignmentPattern(i,o))}return i},e.prototype.parseVariableIdentifier=function(e){var t=this.createNode(),n=this.nextToken();return 4===n.type&&"yield"===n.value?this.context.strict?this.tolerateUnexpectedToken(n,o.Messages.StrictReservedWord):this.context.allowYield||this.throwUnexpectedToken(n):3!==n.type?this.context.strict&&4===n.type&&this.scanner.isStrictModeReservedWord(n.value)?this.tolerateUnexpectedToken(n,o.Messages.StrictReservedWord):(this.context.strict||"let"!==n.value||"var"!==e)&&this.throwUnexpectedToken(n):(this.context.isModule||this.context.await)&&3===n.type&&"await"===n.value&&this.tolerateUnexpectedToken(n),this.finalize(t,new a.Identifier(n.value))},e.prototype.parseVariableDeclaration=function(e){var t=this.createNode(),n=this.parsePattern([],"var");this.context.strict&&n.type===u.Syntax.Identifier&&this.scanner.isRestrictedWord(n.name)&&this.tolerateError(o.Messages.StrictVarName);var i=null;return this.match("=")?(this.nextToken(),i=this.isolateCoverGrammar(this.parseAssignmentExpression)):n.type===u.Syntax.Identifier||e.inFor||this.expect("="),this.finalize(t,new a.VariableDeclarator(n,i))},e.prototype.parseVariableDeclarationList=function(e){var t={inFor:e.inFor},n=[];for(n.push(this.parseVariableDeclaration(t));this.match(",");)this.nextToken(),n.push(this.parseVariableDeclaration(t));return n},e.prototype.parseVariableStatement=function(){var e=this.createNode();this.expectKeyword("var");var t=this.parseVariableDeclarationList({inFor:!1});return this.consumeSemicolon(),this.finalize(e,new a.VariableDeclaration(t,"var"))},e.prototype.parseEmptyStatement=function(){var e=this.createNode();return this.expect(";"),this.finalize(e,new a.EmptyStatement)},e.prototype.parseExpressionStatement=function(){var e=this.createNode(),t=this.parseExpression();return this.consumeSemicolon(),this.finalize(e,new a.ExpressionStatement(t))},e.prototype.parseIfClause=function(){return this.context.strict&&this.matchKeyword("function")&&this.tolerateError(o.Messages.StrictFunction),this.parseStatement()},e.prototype.parseIfStatement=function(){var e,t=this.createNode(),n=null;this.expectKeyword("if"),this.expect("(");var i=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),e=this.finalize(this.createNode(),new a.EmptyStatement)):(this.expect(")"),e=this.parseIfClause(),this.matchKeyword("else")&&(this.nextToken(),n=this.parseIfClause())),this.finalize(t,new a.IfStatement(i,e,n))},e.prototype.parseDoWhileStatement=function(){var e=this.createNode();this.expectKeyword("do");var t=this.context.inIteration;this.context.inIteration=!0;var n=this.parseStatement();this.context.inIteration=t,this.expectKeyword("while"),this.expect("(");var i=this.parseExpression();return!this.match(")")&&this.config.tolerant?this.tolerateUnexpectedToken(this.nextToken()):(this.expect(")"),this.match(";")&&this.nextToken()),this.finalize(e,new a.DoWhileStatement(n,i))},e.prototype.parseWhileStatement=function(){var e,t=this.createNode();this.expectKeyword("while"),this.expect("(");var n=this.parseExpression();if(!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),e=this.finalize(this.createNode(),new a.EmptyStatement);else{this.expect(")");var i=this.context.inIteration;this.context.inIteration=!0,e=this.parseStatement(),this.context.inIteration=i}return this.finalize(t,new a.WhileStatement(n,e))},e.prototype.parseForStatement=function(){var e,t,n,i=null,r=null,s=null,l=!0,c=this.createNode();if(this.expectKeyword("for"),this.expect("("),this.match(";"))this.nextToken();else if(this.matchKeyword("var")){i=this.createNode(),this.nextToken();var d=this.context.allowIn;this.context.allowIn=!1;var p=this.parseVariableDeclarationList({inFor:!0});if(this.context.allowIn=d,1===p.length&&this.matchKeyword("in")){var h=p[0];h.init&&(h.id.type===u.Syntax.ArrayPattern||h.id.type===u.Syntax.ObjectPattern||this.context.strict)&&this.tolerateError(o.Messages.ForInOfLoopInitializer,"for-in"),i=this.finalize(i,new a.VariableDeclaration(p,"var")),this.nextToken(),e=i,t=this.parseExpression(),i=null}else 1===p.length&&null===p[0].init&&this.matchContextualKeyword("of")?(i=this.finalize(i,new a.VariableDeclaration(p,"var")),this.nextToken(),e=i,t=this.parseAssignmentExpression(),i=null,l=!1):(i=this.finalize(i,new a.VariableDeclaration(p,"var")),this.expect(";"))}else if(this.matchKeyword("const")||this.matchKeyword("let")){i=this.createNode();var f=this.nextToken().value;this.context.strict||"in"!==this.lookahead.value?(d=this.context.allowIn,this.context.allowIn=!1,p=this.parseBindingList(f,{inFor:!0}),this.context.allowIn=d,1===p.length&&null===p[0].init&&this.matchKeyword("in")?(i=this.finalize(i,new a.VariableDeclaration(p,f)),this.nextToken(),e=i,t=this.parseExpression(),i=null):1===p.length&&null===p[0].init&&this.matchContextualKeyword("of")?(i=this.finalize(i,new a.VariableDeclaration(p,f)),this.nextToken(),e=i,t=this.parseAssignmentExpression(),i=null,l=!1):(this.consumeSemicolon(),i=this.finalize(i,new a.VariableDeclaration(p,f)))):(i=this.finalize(i,new a.Identifier(f)),this.nextToken(),e=i,t=this.parseExpression(),i=null)}else{var m=this.lookahead;if(d=this.context.allowIn,this.context.allowIn=!1,i=this.inheritCoverGrammar(this.parseAssignmentExpression),this.context.allowIn=d,this.matchKeyword("in"))this.context.isAssignmentTarget&&i.type!==u.Syntax.AssignmentExpression||this.tolerateError(o.Messages.InvalidLHSInForIn),this.nextToken(),this.reinterpretExpressionAsPattern(i),e=i,t=this.parseExpression(),i=null;else if(this.matchContextualKeyword("of"))this.context.isAssignmentTarget&&i.type!==u.Syntax.AssignmentExpression||this.tolerateError(o.Messages.InvalidLHSInForLoop),this.nextToken(),this.reinterpretExpressionAsPattern(i),e=i,t=this.parseAssignmentExpression(),i=null,l=!1;else{if(this.match(",")){for(var g=[i];this.match(",");)this.nextToken(),g.push(this.isolateCoverGrammar(this.parseAssignmentExpression));i=this.finalize(this.startNode(m),new a.SequenceExpression(g))}this.expect(";")}}if(void 0===e&&(this.match(";")||(r=this.parseExpression()),this.expect(";"),this.match(")")||(s=this.parseExpression())),!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),n=this.finalize(this.createNode(),new a.EmptyStatement);else{this.expect(")");var y=this.context.inIteration;this.context.inIteration=!0,n=this.isolateCoverGrammar(this.parseStatement),this.context.inIteration=y}return void 0===e?this.finalize(c,new a.ForStatement(i,r,s,n)):l?this.finalize(c,new a.ForInStatement(e,t,n)):this.finalize(c,new a.ForOfStatement(e,t,n))},e.prototype.parseContinueStatement=function(){var e=this.createNode();this.expectKeyword("continue");var t=null;if(3===this.lookahead.type&&!this.hasLineTerminator){var n=this.parseVariableIdentifier();t=n;var i="$"+n.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,i)||this.throwError(o.Messages.UnknownLabel,n.name)}return this.consumeSemicolon(),null!==t||this.context.inIteration||this.throwError(o.Messages.IllegalContinue),this.finalize(e,new a.ContinueStatement(t))},e.prototype.parseBreakStatement=function(){var e=this.createNode();this.expectKeyword("break");var t=null;if(3===this.lookahead.type&&!this.hasLineTerminator){var n=this.parseVariableIdentifier(),i="$"+n.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,i)||this.throwError(o.Messages.UnknownLabel,n.name),t=n}return this.consumeSemicolon(),null!==t||this.context.inIteration||this.context.inSwitch||this.throwError(o.Messages.IllegalBreak),this.finalize(e,new a.BreakStatement(t))},e.prototype.parseReturnStatement=function(){this.context.inFunctionBody||this.tolerateError(o.Messages.IllegalReturn);var e=this.createNode();this.expectKeyword("return");var t=(this.match(";")||this.match("}")||this.hasLineTerminator||2===this.lookahead.type)&&8!==this.lookahead.type&&10!==this.lookahead.type?null:this.parseExpression();return this.consumeSemicolon(),this.finalize(e,new a.ReturnStatement(t))},e.prototype.parseWithStatement=function(){this.context.strict&&this.tolerateError(o.Messages.StrictModeWith);var e,t=this.createNode();this.expectKeyword("with"),this.expect("(");var n=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),e=this.finalize(this.createNode(),new a.EmptyStatement)):(this.expect(")"),e=this.parseStatement()),this.finalize(t,new a.WithStatement(n,e))},e.prototype.parseSwitchCase=function(){var e,t=this.createNode();this.matchKeyword("default")?(this.nextToken(),e=null):(this.expectKeyword("case"),e=this.parseExpression()),this.expect(":");for(var n=[];!(this.match("}")||this.matchKeyword("default")||this.matchKeyword("case"));)n.push(this.parseStatementListItem());return this.finalize(t,new a.SwitchCase(e,n))},e.prototype.parseSwitchStatement=function(){var e=this.createNode();this.expectKeyword("switch"),this.expect("(");var t=this.parseExpression();this.expect(")");var n=this.context.inSwitch;this.context.inSwitch=!0;var i=[],r=!1;for(this.expect("{");!this.match("}");){var s=this.parseSwitchCase();null===s.test&&(r&&this.throwError(o.Messages.MultipleDefaultsInSwitch),r=!0),i.push(s)}return this.expect("}"),this.context.inSwitch=n,this.finalize(e,new a.SwitchStatement(t,i))},e.prototype.parseLabelledStatement=function(){var e,t=this.createNode(),n=this.parseExpression();if(n.type===u.Syntax.Identifier&&this.match(":")){this.nextToken();var i=n,r="$"+i.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,r)&&this.throwError(o.Messages.Redeclaration,"Label",i.name),this.context.labelSet[r]=!0;var s=void 0;if(this.matchKeyword("class"))this.tolerateUnexpectedToken(this.lookahead),s=this.parseClassDeclaration();else if(this.matchKeyword("function")){var l=this.lookahead,c=this.parseFunctionDeclaration();this.context.strict?this.tolerateUnexpectedToken(l,o.Messages.StrictFunction):c.generator&&this.tolerateUnexpectedToken(l,o.Messages.GeneratorInLegacyContext),s=c}else s=this.parseStatement();delete this.context.labelSet[r],e=new a.LabeledStatement(i,s)}else this.consumeSemicolon(),e=new a.ExpressionStatement(n);return this.finalize(t,e)},e.prototype.parseThrowStatement=function(){var e=this.createNode();this.expectKeyword("throw"),this.hasLineTerminator&&this.throwError(o.Messages.NewlineAfterThrow);var t=this.parseExpression();return this.consumeSemicolon(),this.finalize(e,new a.ThrowStatement(t))},e.prototype.parseCatchClause=function(){var e=this.createNode();this.expectKeyword("catch"),this.expect("("),this.match(")")&&this.throwUnexpectedToken(this.lookahead);for(var t=[],n=this.parsePattern(t),i={},r=0;r<t.length;r++){var s="$"+t[r].value;Object.prototype.hasOwnProperty.call(i,s)&&this.tolerateError(o.Messages.DuplicateBinding,t[r].value),i[s]=!0}this.context.strict&&n.type===u.Syntax.Identifier&&this.scanner.isRestrictedWord(n.name)&&this.tolerateError(o.Messages.StrictCatchVariable),this.expect(")");var l=this.parseBlock();return this.finalize(e,new a.CatchClause(n,l))},e.prototype.parseFinallyClause=function(){return this.expectKeyword("finally"),this.parseBlock()},e.prototype.parseTryStatement=function(){var e=this.createNode();this.expectKeyword("try");var t=this.parseBlock(),n=this.matchKeyword("catch")?this.parseCatchClause():null,i=this.matchKeyword("finally")?this.parseFinallyClause():null;return n||i||this.throwError(o.Messages.NoCatchOrFinally),this.finalize(e,new a.TryStatement(t,n,i))},e.prototype.parseDebuggerStatement=function(){var e=this.createNode();return this.expectKeyword("debugger"),this.consumeSemicolon(),this.finalize(e,new a.DebuggerStatement)},e.prototype.parseStatement=function(){var e;switch(this.lookahead.type){case 1:case 5:case 6:case 8:case 10:case 9:e=this.parseExpressionStatement();break;case 7:var t=this.lookahead.value;e="{"===t?this.parseBlock():"("===t?this.parseExpressionStatement():";"===t?this.parseEmptyStatement():this.parseExpressionStatement();break;case 3:e=this.matchAsyncFunction()?this.parseFunctionDeclaration():this.parseLabelledStatement();break;case 4:switch(this.lookahead.value){case"break":e=this.parseBreakStatement();break;case"continue":e=this.parseContinueStatement();break;case"debugger":e=this.parseDebuggerStatement();break;case"do":e=this.parseDoWhileStatement();break;case"for":e=this.parseForStatement();break;case"function":e=this.parseFunctionDeclaration();break;case"if":e=this.parseIfStatement();break;case"return":e=this.parseReturnStatement();break;case"switch":e=this.parseSwitchStatement();break;case"throw":e=this.parseThrowStatement();break;case"try":e=this.parseTryStatement();break;case"var":e=this.parseVariableStatement();break;case"while":e=this.parseWhileStatement();break;case"with":e=this.parseWithStatement();break;default:e=this.parseExpressionStatement()}break;default:e=this.throwUnexpectedToken(this.lookahead)}return e},e.prototype.parseFunctionSourceElements=function(){var e=this.createNode();this.expect("{");var t=this.parseDirectivePrologues(),n=this.context.labelSet,i=this.context.inIteration,r=this.context.inSwitch,o=this.context.inFunctionBody;for(this.context.labelSet={},this.context.inIteration=!1,this.context.inSwitch=!1,this.context.inFunctionBody=!0;2!==this.lookahead.type&&!this.match("}");)t.push(this.parseStatementListItem());return this.expect("}"),this.context.labelSet=n,this.context.inIteration=i,this.context.inSwitch=r,this.context.inFunctionBody=o,this.finalize(e,new a.BlockStatement(t))},e.prototype.validateParam=function(e,t,n){var i="$"+n;this.context.strict?(this.scanner.isRestrictedWord(n)&&(e.stricted=t,e.message=o.Messages.StrictParamName),Object.prototype.hasOwnProperty.call(e.paramSet,i)&&(e.stricted=t,e.message=o.Messages.StrictParamDupe)):e.firstRestricted||(this.scanner.isRestrictedWord(n)?(e.firstRestricted=t,e.message=o.Messages.StrictParamName):this.scanner.isStrictModeReservedWord(n)?(e.firstRestricted=t,e.message=o.Messages.StrictReservedWord):Object.prototype.hasOwnProperty.call(e.paramSet,i)&&(e.stricted=t,e.message=o.Messages.StrictParamDupe)),"function"==typeof Object.defineProperty?Object.defineProperty(e.paramSet,i,{value:!0,enumerable:!0,writable:!0,configurable:!0}):e.paramSet[i]=!0},e.prototype.parseRestElement=function(e){var t=this.createNode();this.expect("...");var n=this.parsePattern(e);return this.match("=")&&this.throwError(o.Messages.DefaultRestParameter),this.match(")")||this.throwError(o.Messages.ParameterAfterRestParameter),this.finalize(t,new a.RestElement(n))},e.prototype.parseFormalParameter=function(e){for(var t=[],n=this.match("...")?this.parseRestElement(t):this.parsePatternWithDefault(t),i=0;i<t.length;i++)this.validateParam(e,t[i],t[i].value);e.simple=e.simple&&n instanceof a.Identifier,e.params.push(n)},e.prototype.parseFormalParameters=function(e){var t;if(t={simple:!0,params:[],firstRestricted:e},this.expect("("),!this.match(")"))for(t.paramSet={};2!==this.lookahead.type&&(this.parseFormalParameter(t),!this.match(")"))&&(this.expect(","),!this.match(")")););return this.expect(")"),{simple:t.simple,params:t.params,stricted:t.stricted,firstRestricted:t.firstRestricted,message:t.message}},e.prototype.matchAsyncFunction=function(){var e=this.matchContextualKeyword("async");if(e){var t=this.scanner.saveState();this.scanner.scanComments();var n=this.scanner.lex();this.scanner.restoreState(t),e=t.lineNumber===n.lineNumber&&4===n.type&&"function"===n.value}return e},e.prototype.parseFunctionDeclaration=function(e){var t=this.createNode(),n=this.matchContextualKeyword("async");n&&this.nextToken(),this.expectKeyword("function");var i,r=!n&&this.match("*");r&&this.nextToken();var s=null,u=null;if(!e||!this.match("(")){var l=this.lookahead;s=this.parseVariableIdentifier(),this.context.strict?this.scanner.isRestrictedWord(l.value)&&this.tolerateUnexpectedToken(l,o.Messages.StrictFunctionName):this.scanner.isRestrictedWord(l.value)?(u=l,i=o.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(l.value)&&(u=l,i=o.Messages.StrictReservedWord)}var c=this.context.await,d=this.context.allowYield;this.context.await=n,this.context.allowYield=!r;var p=this.parseFormalParameters(u),h=p.params,f=p.stricted;u=p.firstRestricted,p.message&&(i=p.message);var m=this.context.strict,g=this.context.allowStrictDirective;this.context.allowStrictDirective=p.simple;var y=this.parseFunctionSourceElements();return this.context.strict&&u&&this.throwUnexpectedToken(u,i),this.context.strict&&f&&this.tolerateUnexpectedToken(f,i),this.context.strict=m,this.context.allowStrictDirective=g,this.context.await=c,this.context.allowYield=d,n?this.finalize(t,new a.AsyncFunctionDeclaration(s,h,y)):this.finalize(t,new a.FunctionDeclaration(s,h,y,r))},e.prototype.parseFunctionExpression=function(){var e=this.createNode(),t=this.matchContextualKeyword("async");t&&this.nextToken(),this.expectKeyword("function");var n,i=!t&&this.match("*");i&&this.nextToken();var r,s=null,u=this.context.await,l=this.context.allowYield;if(this.context.await=t,this.context.allowYield=!i,!this.match("(")){var c=this.lookahead;s=this.context.strict||i||!this.matchKeyword("yield")?this.parseVariableIdentifier():this.parseIdentifierName(),this.context.strict?this.scanner.isRestrictedWord(c.value)&&this.tolerateUnexpectedToken(c,o.Messages.StrictFunctionName):this.scanner.isRestrictedWord(c.value)?(r=c,n=o.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(c.value)&&(r=c,n=o.Messages.StrictReservedWord)}var d=this.parseFormalParameters(r),p=d.params,h=d.stricted;r=d.firstRestricted,d.message&&(n=d.message);var f=this.context.strict,m=this.context.allowStrictDirective;this.context.allowStrictDirective=d.simple;var g=this.parseFunctionSourceElements();return this.context.strict&&r&&this.throwUnexpectedToken(r,n),this.context.strict&&h&&this.tolerateUnexpectedToken(h,n),this.context.strict=f,this.context.allowStrictDirective=m,this.context.await=u,this.context.allowYield=l,t?this.finalize(e,new a.AsyncFunctionExpression(s,p,g)):this.finalize(e,new a.FunctionExpression(s,p,g,i))},e.prototype.parseDirective=function(){var e=this.lookahead,t=this.createNode(),n=this.parseExpression(),i=n.type===u.Syntax.Literal?this.getTokenRaw(e).slice(1,-1):null;return this.consumeSemicolon(),this.finalize(t,i?new a.Directive(n,i):new a.ExpressionStatement(n))},e.prototype.parseDirectivePrologues=function(){for(var e=null,t=[];;){var n=this.lookahead;if(8!==n.type)break;var i=this.parseDirective();t.push(i);var r=i.directive;if("string"!=typeof r)break;"use strict"===r?(this.context.strict=!0,e&&this.tolerateUnexpectedToken(e,o.Messages.StrictOctalLiteral),this.context.allowStrictDirective||this.tolerateUnexpectedToken(n,o.Messages.IllegalLanguageModeDirective)):!e&&n.octal&&(e=n)}return t},e.prototype.qualifiedPropertyName=function(e){switch(e.type){case 3:case 8:case 1:case 5:case 6:case 4:return!0;case 7:return"["===e.value}return!1},e.prototype.parseGetterMethod=function(){var e=this.createNode(),t=this.context.allowYield;this.context.allowYield=!0;var n=this.parseFormalParameters();n.params.length>0&&this.tolerateError(o.Messages.BadGetterArity);var i=this.parsePropertyMethod(n);return this.context.allowYield=t,this.finalize(e,new a.FunctionExpression(null,n.params,i,!1))},e.prototype.parseSetterMethod=function(){var e=this.createNode(),t=this.context.allowYield;this.context.allowYield=!0;var n=this.parseFormalParameters();1!==n.params.length?this.tolerateError(o.Messages.BadSetterArity):n.params[0]instanceof a.RestElement&&this.tolerateError(o.Messages.BadSetterRestParameter);var i=this.parsePropertyMethod(n);return this.context.allowYield=t,this.finalize(e,new a.FunctionExpression(null,n.params,i,!1))},e.prototype.parseGeneratorMethod=function(){var e=this.createNode(),t=this.context.allowYield;this.context.allowYield=!0;var n=this.parseFormalParameters();this.context.allowYield=!1;var i=this.parsePropertyMethod(n);return this.context.allowYield=t,this.finalize(e,new a.FunctionExpression(null,n.params,i,!0))},e.prototype.isStartOfExpression=function(){var e=!0,t=this.lookahead.value;switch(this.lookahead.type){case 7:e="["===t||"("===t||"{"===t||"+"===t||"-"===t||"!"===t||"~"===t||"++"===t||"--"===t||"/"===t||"/="===t;break;case 4:e="class"===t||"delete"===t||"function"===t||"let"===t||"new"===t||"super"===t||"this"===t||"typeof"===t||"void"===t||"yield"===t}return e},e.prototype.parseYieldExpression=function(){var e=this.createNode();this.expectKeyword("yield");var t=null,n=!1;if(!this.hasLineTerminator){var i=this.context.allowYield;this.context.allowYield=!1,(n=this.match("*"))?(this.nextToken(),t=this.parseAssignmentExpression()):this.isStartOfExpression()&&(t=this.parseAssignmentExpression()),this.context.allowYield=i}return this.finalize(e,new a.YieldExpression(t,n))},e.prototype.parseClassElement=function(e){var t=this.lookahead,n=this.createNode(),i="",r=null,s=null,u=!1,l=!1,c=!1,d=!1;if(this.match("*"))this.nextToken();else if(u=this.match("["),"static"===(r=this.parseObjectPropertyKey()).name&&(this.qualifiedPropertyName(this.lookahead)||this.match("*"))&&(t=this.lookahead,c=!0,u=this.match("["),this.match("*")?this.nextToken():r=this.parseObjectPropertyKey()),3===t.type&&!this.hasLineTerminator&&"async"===t.value){var p=this.lookahead.value;":"!==p&&"("!==p&&"*"!==p&&(d=!0,t=this.lookahead,r=this.parseObjectPropertyKey(),3===t.type&&"constructor"===t.value&&this.tolerateUnexpectedToken(t,o.Messages.ConstructorIsAsync))}var h=this.qualifiedPropertyName(this.lookahead);return 3===t.type?"get"===t.value&&h?(i="get",u=this.match("["),r=this.parseObjectPropertyKey(),this.context.allowYield=!1,s=this.parseGetterMethod()):"set"===t.value&&h&&(i="set",u=this.match("["),r=this.parseObjectPropertyKey(),s=this.parseSetterMethod()):7===t.type&&"*"===t.value&&h&&(i="init",u=this.match("["),r=this.parseObjectPropertyKey(),s=this.parseGeneratorMethod(),l=!0),!i&&r&&this.match("(")&&(i="init",s=d?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),l=!0),i||this.throwUnexpectedToken(this.lookahead),"init"===i&&(i="method"),u||(c&&this.isPropertyKey(r,"prototype")&&this.throwUnexpectedToken(t,o.Messages.StaticPrototype),!c&&this.isPropertyKey(r,"constructor")&&(("method"!==i||!l||s&&s.generator)&&this.throwUnexpectedToken(t,o.Messages.ConstructorSpecialMethod),e.value?this.throwUnexpectedToken(t,o.Messages.DuplicateConstructor):e.value=!0,i="constructor")),this.finalize(n,new a.MethodDefinition(r,u,s,i,c))},e.prototype.parseClassElementList=function(){var e=[],t={value:!1};for(this.expect("{");!this.match("}");)this.match(";")?this.nextToken():e.push(this.parseClassElement(t));return this.expect("}"),e},e.prototype.parseClassBody=function(){var e=this.createNode(),t=this.parseClassElementList();return this.finalize(e,new a.ClassBody(t))},e.prototype.parseClassDeclaration=function(e){var t=this.createNode(),n=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var i=e&&3!==this.lookahead.type?null:this.parseVariableIdentifier(),r=null;this.matchKeyword("extends")&&(this.nextToken(),r=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var o=this.parseClassBody();return this.context.strict=n,this.finalize(t,new a.ClassDeclaration(i,r,o))},e.prototype.parseClassExpression=function(){var e=this.createNode(),t=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var n=3===this.lookahead.type?this.parseVariableIdentifier():null,i=null;this.matchKeyword("extends")&&(this.nextToken(),i=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var r=this.parseClassBody();return this.context.strict=t,this.finalize(e,new a.ClassExpression(n,i,r))},e.prototype.parseModule=function(){this.context.strict=!0,this.context.isModule=!0,this.scanner.isModule=!0;for(var e=this.createNode(),t=this.parseDirectivePrologues();2!==this.lookahead.type;)t.push(this.parseStatementListItem());return this.finalize(e,new a.Module(t))},e.prototype.parseScript=function(){for(var e=this.createNode(),t=this.parseDirectivePrologues();2!==this.lookahead.type;)t.push(this.parseStatementListItem());return this.finalize(e,new a.Script(t))},e.prototype.parseModuleSpecifier=function(){var e=this.createNode();8!==this.lookahead.type&&this.throwError(o.Messages.InvalidModuleSpecifier);var t=this.nextToken(),n=this.getTokenRaw(t);return this.finalize(e,new a.Literal(t.value,n))},e.prototype.parseImportSpecifier=function(){var e,t,n=this.createNode();return 3===this.lookahead.type?(t=e=this.parseVariableIdentifier(),this.matchContextualKeyword("as")&&(this.nextToken(),t=this.parseVariableIdentifier())):(t=e=this.parseIdentifierName(),this.matchContextualKeyword("as")?(this.nextToken(),t=this.parseVariableIdentifier()):this.throwUnexpectedToken(this.nextToken())),this.finalize(n,new a.ImportSpecifier(t,e))},e.prototype.parseNamedImports=function(){this.expect("{");for(var e=[];!this.match("}");)e.push(this.parseImportSpecifier()),this.match("}")||this.expect(",");return this.expect("}"),e},e.prototype.parseImportDefaultSpecifier=function(){var e=this.createNode(),t=this.parseIdentifierName();return this.finalize(e,new a.ImportDefaultSpecifier(t))},e.prototype.parseImportNamespaceSpecifier=function(){var e=this.createNode();this.expect("*"),this.matchContextualKeyword("as")||this.throwError(o.Messages.NoAsAfterImportNamespace),this.nextToken();var t=this.parseIdentifierName();return this.finalize(e,new a.ImportNamespaceSpecifier(t))},e.prototype.parseImportDeclaration=function(){this.context.inFunctionBody&&this.throwError(o.Messages.IllegalImportDeclaration);var e,t=this.createNode();this.expectKeyword("import");var n=[];if(8===this.lookahead.type)e=this.parseModuleSpecifier();else{if(this.match("{")?n=n.concat(this.parseNamedImports()):this.match("*")?n.push(this.parseImportNamespaceSpecifier()):this.isIdentifierName(this.lookahead)&&!this.matchKeyword("default")?(n.push(this.parseImportDefaultSpecifier()),this.match(",")&&(this.nextToken(),this.match("*")?n.push(this.parseImportNamespaceSpecifier()):this.match("{")?n=n.concat(this.parseNamedImports()):this.throwUnexpectedToken(this.lookahead))):this.throwUnexpectedToken(this.nextToken()),!this.matchContextualKeyword("from")){var i=this.lookahead.value?o.Messages.UnexpectedToken:o.Messages.MissingFromClause;this.throwError(i,this.lookahead.value)}this.nextToken(),e=this.parseModuleSpecifier()}return this.consumeSemicolon(),this.finalize(t,new a.ImportDeclaration(n,e))},e.prototype.parseExportSpecifier=function(){var e=this.createNode(),t=this.parseIdentifierName(),n=t;return this.matchContextualKeyword("as")&&(this.nextToken(),n=this.parseIdentifierName()),this.finalize(e,new a.ExportSpecifier(t,n))},e.prototype.parseExportDeclaration=function(){this.context.inFunctionBody&&this.throwError(o.Messages.IllegalExportDeclaration);var e,t=this.createNode();if(this.expectKeyword("export"),this.matchKeyword("default"))if(this.nextToken(),this.matchKeyword("function")){var n=this.parseFunctionDeclaration(!0);e=this.finalize(t,new a.ExportDefaultDeclaration(n))}else this.matchKeyword("class")?(n=this.parseClassDeclaration(!0),e=this.finalize(t,new a.ExportDefaultDeclaration(n))):this.matchContextualKeyword("async")?(n=this.matchAsyncFunction()?this.parseFunctionDeclaration(!0):this.parseAssignmentExpression(),e=this.finalize(t,new a.ExportDefaultDeclaration(n))):(this.matchContextualKeyword("from")&&this.throwError(o.Messages.UnexpectedToken,this.lookahead.value),n=this.match("{")?this.parseObjectInitializer():this.match("[")?this.parseArrayInitializer():this.parseAssignmentExpression(),this.consumeSemicolon(),e=this.finalize(t,new a.ExportDefaultDeclaration(n)));else if(this.match("*")){if(this.nextToken(),!this.matchContextualKeyword("from")){var i=this.lookahead.value?o.Messages.UnexpectedToken:o.Messages.MissingFromClause;this.throwError(i,this.lookahead.value)}this.nextToken();var r=this.parseModuleSpecifier();this.consumeSemicolon(),e=this.finalize(t,new a.ExportAllDeclaration(r))}else if(4===this.lookahead.type){switch(n=void 0,this.lookahead.value){case"let":case"const":n=this.parseLexicalDeclaration({inFor:!1});break;case"var":case"class":case"function":n=this.parseStatementListItem();break;default:this.throwUnexpectedToken(this.lookahead)}e=this.finalize(t,new a.ExportNamedDeclaration(n,[],null))}else if(this.matchAsyncFunction())n=this.parseFunctionDeclaration(),e=this.finalize(t,new a.ExportNamedDeclaration(n,[],null));else{var s=[],u=null,l=!1;for(this.expect("{");!this.match("}");)l=l||this.matchKeyword("default"),s.push(this.parseExportSpecifier()),this.match("}")||this.expect(",");this.expect("}"),this.matchContextualKeyword("from")?(this.nextToken(),u=this.parseModuleSpecifier(),this.consumeSemicolon()):l?(i=this.lookahead.value?o.Messages.UnexpectedToken:o.Messages.MissingFromClause,this.throwError(i,this.lookahead.value)):this.consumeSemicolon(),e=this.finalize(t,new a.ExportNamedDeclaration(null,s,u))}return e},e}();t.Parser=d},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assert=function(e,t){if(!e)throw new Error("ASSERT: "+t)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.errors=[],this.tolerant=!1}return e.prototype.recordError=function(e){this.errors.push(e)},e.prototype.tolerate=function(e){if(!this.tolerant)throw e;this.recordError(e)},e.prototype.constructError=function(e,t){var n=new Error(e);try{throw n}catch(e){Object.create&&Object.defineProperty&&(n=Object.create(e),Object.defineProperty(n,"column",{value:t}))}return n},e.prototype.createError=function(e,t,n,i){var r="Line "+t+": "+i,o=this.constructError(r,n);return o.index=e,o.lineNumber=t,o.description=i,o},e.prototype.throwError=function(e,t,n,i){throw this.createError(e,t,n,i)},e.prototype.tolerateError=function(e,t,n,i){var r=this.createError(e,t,n,i);if(!this.tolerant)throw r;this.recordError(r)},e}();t.ErrorHandler=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Messages={BadGetterArity:"Getter must not have any formal parameters",BadSetterArity:"Setter must have exactly one formal parameter",BadSetterRestParameter:"Setter function argument must not be a rest parameter",ConstructorIsAsync:"Class constructor may not be an async method",ConstructorSpecialMethod:"Class constructor may not be an accessor",DeclarationMissingInitializer:"Missing initializer in %0 declaration",DefaultRestParameter:"Unexpected token =",DuplicateBinding:"Duplicate binding %0",DuplicateConstructor:"A class may only have one constructor",DuplicateProtoProperty:"Duplicate __proto__ fields are not allowed in object literals",ForInOfLoopInitializer:"%0 loop variable declaration may not have an initializer",GeneratorInLegacyContext:"Generator declarations are not allowed in legacy contexts",IllegalBreak:"Illegal break statement",IllegalContinue:"Illegal continue statement",IllegalExportDeclaration:"Unexpected token",IllegalImportDeclaration:"Unexpected token",IllegalLanguageModeDirective:"Illegal 'use strict' directive in function with non-simple parameter list",IllegalReturn:"Illegal return statement",InvalidEscapedReservedWord:"Keyword must not contain escaped characters",InvalidHexEscapeSequence:"Invalid hexadecimal escape sequence",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",InvalidLHSInForLoop:"Invalid left-hand side in for-loop",InvalidModuleSpecifier:"Unexpected token",InvalidRegExp:"Invalid regular expression",LetInLexicalBinding:"let is disallowed as a lexically bound name",MissingFromClause:"Unexpected token",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NewlineAfterThrow:"Illegal newline after throw",NoAsAfterImportNamespace:"Unexpected token",NoCatchOrFinally:"Missing catch or finally after try",ParameterAfterRestParameter:"Rest parameter must be last formal parameter",Redeclaration:"%0 '%1' has already been declared",StaticPrototype:"Classes may not have static property named prototype",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictFunction:"In strict mode code, functions can only be declared at top level or inside a block",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictModeWith:"Strict mode code may not include a with statement",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictReservedWord:"Use of future reserved word in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",TemplateOctalLiteral:"Octal literals are not allowed in template strings.",UnexpectedEOS:"Unexpected end of input",UnexpectedIdentifier:"Unexpected identifier",UnexpectedNumber:"Unexpected number",UnexpectedReserved:"Unexpected reserved word",UnexpectedString:"Unexpected string",UnexpectedTemplate:"Unexpected quasi %0",UnexpectedToken:"Unexpected token %0",UnexpectedTokenIllegal:"Unexpected token ILLEGAL",UnknownLabel:"Undefined label '%0'",UnterminatedRegExp:"Invalid regular expression: missing /"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),r=n(4),o=n(11);function a(e){return"0123456789abcdef".indexOf(e.toLowerCase())}function s(e){return"01234567".indexOf(e)}var u=function(){function e(e,t){this.source=e,this.errorHandler=t,this.trackComment=!1,this.isModule=!1,this.length=e.length,this.index=0,this.lineNumber=e.length>0?1:0,this.lineStart=0,this.curlyStack=[]}return e.prototype.saveState=function(){return{index:this.index,lineNumber:this.lineNumber,lineStart:this.lineStart}},e.prototype.restoreState=function(e){this.index=e.index,this.lineNumber=e.lineNumber,this.lineStart=e.lineStart},e.prototype.eof=function(){return this.index>=this.length},e.prototype.throwUnexpectedToken=function(e){return void 0===e&&(e=o.Messages.UnexpectedTokenIllegal),this.errorHandler.throwError(this.index,this.lineNumber,this.index-this.lineStart+1,e)},e.prototype.tolerateUnexpectedToken=function(e){void 0===e&&(e=o.Messages.UnexpectedTokenIllegal),this.errorHandler.tolerateError(this.index,this.lineNumber,this.index-this.lineStart+1,e)},e.prototype.skipSingleLineComment=function(e){var t,n,i=[];for(this.trackComment&&(i=[],t=this.index-e,n={start:{line:this.lineNumber,column:this.index-this.lineStart-e},end:{}});!this.eof();){var o=this.source.charCodeAt(this.index);if(++this.index,r.Character.isLineTerminator(o)){if(this.trackComment){n.end={line:this.lineNumber,column:this.index-this.lineStart-1};var a={multiLine:!1,slice:[t+e,this.index-1],range:[t,this.index-1],loc:n};i.push(a)}return 13===o&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index,i}}return this.trackComment&&(n.end={line:this.lineNumber,column:this.index-this.lineStart},a={multiLine:!1,slice:[t+e,this.index],range:[t,this.index],loc:n},i.push(a)),i},e.prototype.skipMultiLineComment=function(){var e,t,n=[];for(this.trackComment&&(n=[],e=this.index-2,t={start:{line:this.lineNumber,column:this.index-this.lineStart-2},end:{}});!this.eof();){var i=this.source.charCodeAt(this.index);if(r.Character.isLineTerminator(i))13===i&&10===this.source.charCodeAt(this.index+1)&&++this.index,++this.lineNumber,++this.index,this.lineStart=this.index;else if(42===i){if(47===this.source.charCodeAt(this.index+1)){if(this.index+=2,this.trackComment){t.end={line:this.lineNumber,column:this.index-this.lineStart};var o={multiLine:!0,slice:[e+2,this.index-2],range:[e,this.index],loc:t};n.push(o)}return n}++this.index}else++this.index}return this.trackComment&&(t.end={line:this.lineNumber,column:this.index-this.lineStart},o={multiLine:!0,slice:[e+2,this.index],range:[e,this.index],loc:t},n.push(o)),this.tolerateUnexpectedToken(),n},e.prototype.scanComments=function(){var e;this.trackComment&&(e=[]);for(var t=0===this.index;!this.eof();){var n=this.source.charCodeAt(this.index);if(r.Character.isWhiteSpace(n))++this.index;else if(r.Character.isLineTerminator(n))++this.index,13===n&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index,t=!0;else if(47===n)if(47===(n=this.source.charCodeAt(this.index+1))){this.index+=2;var i=this.skipSingleLineComment(2);this.trackComment&&(e=e.concat(i)),t=!0}else{if(42!==n)break;this.index+=2,i=this.skipMultiLineComment(),this.trackComment&&(e=e.concat(i))}else if(t&&45===n){if(45!==this.source.charCodeAt(this.index+1)||62!==this.source.charCodeAt(this.index+2))break;this.index+=3,i=this.skipSingleLineComment(3),this.trackComment&&(e=e.concat(i))}else{if(60!==n||this.isModule)break;if("!--"!==this.source.slice(this.index+1,this.index+4))break;this.index+=4,i=this.skipSingleLineComment(4),this.trackComment&&(e=e.concat(i))}}return e},e.prototype.isFutureReservedWord=function(e){switch(e){case"enum":case"export":case"import":case"super":return!0;default:return!1}},e.prototype.isStrictModeReservedWord=function(e){switch(e){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}},e.prototype.isRestrictedWord=function(e){return"eval"===e||"arguments"===e},e.prototype.isKeyword=function(e){switch(e.length){case 2:return"if"===e||"in"===e||"do"===e;case 3:return"var"===e||"for"===e||"new"===e||"try"===e||"let"===e;case 4:return"this"===e||"else"===e||"case"===e||"void"===e||"with"===e||"enum"===e;case 5:return"while"===e||"break"===e||"catch"===e||"throw"===e||"const"===e||"yield"===e||"class"===e||"super"===e;case 6:return"return"===e||"typeof"===e||"delete"===e||"switch"===e||"export"===e||"import"===e;case 7:return"default"===e||"finally"===e||"extends"===e;case 8:return"function"===e||"continue"===e||"debugger"===e;case 10:return"instanceof"===e;default:return!1}},e.prototype.codePointAt=function(e){var t=this.source.charCodeAt(e);if(t>=55296&&t<=56319){var n=this.source.charCodeAt(e+1);n>=56320&&n<=57343&&(t=1024*(t-55296)+n-56320+65536)}return t},e.prototype.scanHexEscape=function(e){for(var t="u"===e?4:2,n=0,i=0;i<t;++i){if(this.eof()||!r.Character.isHexDigit(this.source.charCodeAt(this.index)))return null;n=16*n+a(this.source[this.index++])}return String.fromCharCode(n)},e.prototype.scanUnicodeCodePointEscape=function(){var e=this.source[this.index],t=0;for("}"===e&&this.throwUnexpectedToken();!this.eof()&&(e=this.source[this.index++],r.Character.isHexDigit(e.charCodeAt(0)));)t=16*t+a(e);return(t>1114111||"}"!==e)&&this.throwUnexpectedToken(),r.Character.fromCodePoint(t)},e.prototype.getIdentifier=function(){for(var e=this.index++;!this.eof();){var t=this.source.charCodeAt(this.index);if(92===t)return this.index=e,this.getComplexIdentifier();if(t>=55296&&t<57343)return this.index=e,this.getComplexIdentifier();if(!r.Character.isIdentifierPart(t))break;++this.index}return this.source.slice(e,this.index)},e.prototype.getComplexIdentifier=function(){var e,t=this.codePointAt(this.index),n=r.Character.fromCodePoint(t);for(this.index+=n.length,92===t&&(117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),++this.index,"{"===this.source[this.index]?(++this.index,e=this.scanUnicodeCodePointEscape()):null!==(e=this.scanHexEscape("u"))&&"\\"!==e&&r.Character.isIdentifierStart(e.charCodeAt(0))||this.throwUnexpectedToken(),n=e);!this.eof()&&(t=this.codePointAt(this.index),r.Character.isIdentifierPart(t));)n+=e=r.Character.fromCodePoint(t),this.index+=e.length,92===t&&(n=n.substr(0,n.length-1),117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),++this.index,"{"===this.source[this.index]?(++this.index,e=this.scanUnicodeCodePointEscape()):null!==(e=this.scanHexEscape("u"))&&"\\"!==e&&r.Character.isIdentifierPart(e.charCodeAt(0))||this.throwUnexpectedToken(),n+=e);return n},e.prototype.octalToDecimal=function(e){var t="0"!==e,n=s(e);return!this.eof()&&r.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(t=!0,n=8*n+s(this.source[this.index++]),"0123".indexOf(e)>=0&&!this.eof()&&r.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(n=8*n+s(this.source[this.index++]))),{code:n,octal:t}},e.prototype.scanIdentifier=function(){var e,t=this.index,n=92===this.source.charCodeAt(t)?this.getComplexIdentifier():this.getIdentifier();if(3!=(e=1===n.length?3:this.isKeyword(n)?4:"null"===n?5:"true"===n||"false"===n?1:3)&&t+n.length!==this.index){var i=this.index;this.index=t,this.tolerateUnexpectedToken(o.Messages.InvalidEscapedReservedWord),this.index=i}return{type:e,value:n,lineNumber:this.lineNumber,lineStart:this.lineStart,start:t,end:this.index}},e.prototype.scanPunctuator=function(){var e=this.index,t=this.source[this.index];switch(t){case"(":case"{":"{"===t&&this.curlyStack.push("{"),++this.index;break;case".":++this.index,"."===this.source[this.index]&&"."===this.source[this.index+1]&&(this.index+=2,t="...");break;case"}":++this.index,this.curlyStack.pop();break;case")":case";":case",":case"[":case"]":case":":case"?":case"~":++this.index;break;default:">>>="===(t=this.source.substr(this.index,4))?this.index+=4:"==="===(t=t.substr(0,3))||"!=="===t||">>>"===t||"<<="===t||">>="===t||"**="===t?this.index+=3:"&&"===(t=t.substr(0,2))||"||"===t||"=="===t||"!="===t||"+="===t||"-="===t||"*="===t||"/="===t||"++"===t||"--"===t||"<<"===t||">>"===t||"&="===t||"|="===t||"^="===t||"%="===t||"<="===t||">="===t||"=>"===t||"**"===t?this.index+=2:(t=this.source[this.index],"<>=!+-*%&|^/".indexOf(t)>=0&&++this.index)}return this.index===e&&this.throwUnexpectedToken(),{type:7,value:t,lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.scanHexLiteral=function(e){for(var t="";!this.eof()&&r.Character.isHexDigit(this.source.charCodeAt(this.index));)t+=this.source[this.index++];return 0===t.length&&this.throwUnexpectedToken(),r.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseInt("0x"+t,16),lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.scanBinaryLiteral=function(e){for(var t,n="";!this.eof()&&("0"===(t=this.source[this.index])||"1"===t);)n+=this.source[this.index++];return 0===n.length&&this.throwUnexpectedToken(),this.eof()||(t=this.source.charCodeAt(this.index),(r.Character.isIdentifierStart(t)||r.Character.isDecimalDigit(t))&&this.throwUnexpectedToken()),{type:6,value:parseInt(n,2),lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.scanOctalLiteral=function(e,t){var n="",i=!1;for(r.Character.isOctalDigit(e.charCodeAt(0))?(i=!0,n="0"+this.source[this.index++]):++this.index;!this.eof()&&r.Character.isOctalDigit(this.source.charCodeAt(this.index));)n+=this.source[this.index++];return i||0!==n.length||this.throwUnexpectedToken(),(r.Character.isIdentifierStart(this.source.charCodeAt(this.index))||r.Character.isDecimalDigit(this.source.charCodeAt(this.index)))&&this.throwUnexpectedToken(),{type:6,value:parseInt(n,8),octal:i,lineNumber:this.lineNumber,lineStart:this.lineStart,start:t,end:this.index}},e.prototype.isImplicitOctalLiteral=function(){for(var e=this.index+1;e<this.length;++e){var t=this.source[e];if("8"===t||"9"===t)return!1;if(!r.Character.isOctalDigit(t.charCodeAt(0)))return!0}return!0},e.prototype.scanNumericLiteral=function(){var e=this.index,t=this.source[e];i.assert(r.Character.isDecimalDigit(t.charCodeAt(0))||"."===t,"Numeric literal must start with a decimal digit or a decimal point");var n="";if("."!==t){if(n=this.source[this.index++],t=this.source[this.index],"0"===n){if("x"===t||"X"===t)return++this.index,this.scanHexLiteral(e);if("b"===t||"B"===t)return++this.index,this.scanBinaryLiteral(e);if("o"===t||"O"===t)return this.scanOctalLiteral(t,e);if(t&&r.Character.isOctalDigit(t.charCodeAt(0))&&this.isImplicitOctalLiteral())return this.scanOctalLiteral(t,e)}for(;r.Character.isDecimalDigit(this.source.charCodeAt(this.index));)n+=this.source[this.index++];t=this.source[this.index]}if("."===t){for(n+=this.source[this.index++];r.Character.isDecimalDigit(this.source.charCodeAt(this.index));)n+=this.source[this.index++];t=this.source[this.index]}if("e"===t||"E"===t)if(n+=this.source[this.index++],"+"!==(t=this.source[this.index])&&"-"!==t||(n+=this.source[this.index++]),r.Character.isDecimalDigit(this.source.charCodeAt(this.index)))for(;r.Character.isDecimalDigit(this.source.charCodeAt(this.index));)n+=this.source[this.index++];else this.throwUnexpectedToken();return r.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseFloat(n),lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.scanStringLiteral=function(){var e=this.index,t=this.source[e];i.assert("'"===t||'"'===t,"String literal must starts with a quote"),++this.index;for(var n=!1,a="";!this.eof();){var s=this.source[this.index++];if(s===t){t="";break}if("\\"===s)if((s=this.source[this.index++])&&r.Character.isLineTerminator(s.charCodeAt(0)))++this.lineNumber,"\r"===s&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(s){case"u":if("{"===this.source[this.index])++this.index,a+=this.scanUnicodeCodePointEscape();else{var u=this.scanHexEscape(s);null===u&&this.throwUnexpectedToken(),a+=u}break;case"x":var l=this.scanHexEscape(s);null===l&&this.throwUnexpectedToken(o.Messages.InvalidHexEscapeSequence),a+=l;break;case"n":a+="\n";break;case"r":a+="\r";break;case"t":a+="\t";break;case"b":a+="\b";break;case"f":a+="\f";break;case"v":a+="\v";break;case"8":case"9":a+=s,this.tolerateUnexpectedToken();break;default:if(s&&r.Character.isOctalDigit(s.charCodeAt(0))){var c=this.octalToDecimal(s);n=c.octal||n,a+=String.fromCharCode(c.code)}else a+=s}else{if(r.Character.isLineTerminator(s.charCodeAt(0)))break;a+=s}}return""!==t&&(this.index=e,this.throwUnexpectedToken()),{type:8,value:a,octal:n,lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.scanTemplate=function(){var e="",t=!1,n=this.index,i="`"===this.source[n],a=!1,s=2;for(++this.index;!this.eof();){var u=this.source[this.index++];if("`"===u){s=1,a=!0,t=!0;break}if("$"===u){if("{"===this.source[this.index]){this.curlyStack.push("${"),++this.index,t=!0;break}e+=u}else if("\\"===u)if(u=this.source[this.index++],r.Character.isLineTerminator(u.charCodeAt(0)))++this.lineNumber,"\r"===u&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(u){case"n":e+="\n";break;case"r":e+="\r";break;case"t":e+="\t";break;case"u":if("{"===this.source[this.index])++this.index,e+=this.scanUnicodeCodePointEscape();else{var l=this.index,c=this.scanHexEscape(u);null!==c?e+=c:(this.index=l,e+=u)}break;case"x":var d=this.scanHexEscape(u);null===d&&this.throwUnexpectedToken(o.Messages.InvalidHexEscapeSequence),e+=d;break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:"0"===u?(r.Character.isDecimalDigit(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(o.Messages.TemplateOctalLiteral),e+="\0"):r.Character.isOctalDigit(u.charCodeAt(0))?this.throwUnexpectedToken(o.Messages.TemplateOctalLiteral):e+=u}else r.Character.isLineTerminator(u.charCodeAt(0))?(++this.lineNumber,"\r"===u&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index,e+="\n"):e+=u}return t||this.throwUnexpectedToken(),i||this.curlyStack.pop(),{type:10,value:this.source.slice(n+1,this.index-s),cooked:e,head:i,tail:a,lineNumber:this.lineNumber,lineStart:this.lineStart,start:n,end:this.index}},e.prototype.testRegExp=function(e,t){var n=e,i=this;t.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}|\\u([a-fA-F0-9]{4})/g,(function(e,t,n){var r=parseInt(t||n,16);return r>1114111&&i.throwUnexpectedToken(o.Messages.InvalidRegExp),r<=65535?String.fromCharCode(r):""})).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,""));try{RegExp(n)}catch(e){this.throwUnexpectedToken(o.Messages.InvalidRegExp)}try{return new RegExp(e,t)}catch(e){return null}},e.prototype.scanRegExpBody=function(){var e=this.source[this.index];i.assert("/"===e,"Regular expression literal must start with a slash");for(var t=this.source[this.index++],n=!1,a=!1;!this.eof();)if(t+=e=this.source[this.index++],"\\"===e)e=this.source[this.index++],r.Character.isLineTerminator(e.charCodeAt(0))&&this.throwUnexpectedToken(o.Messages.UnterminatedRegExp),t+=e;else if(r.Character.isLineTerminator(e.charCodeAt(0)))this.throwUnexpectedToken(o.Messages.UnterminatedRegExp);else if(n)"]"===e&&(n=!1);else{if("/"===e){a=!0;break}"["===e&&(n=!0)}return a||this.throwUnexpectedToken(o.Messages.UnterminatedRegExp),t.substr(1,t.length-2)},e.prototype.scanRegExpFlags=function(){for(var e="";!this.eof();){var t=this.source[this.index];if(!r.Character.isIdentifierPart(t.charCodeAt(0)))break;if(++this.index,"\\"!==t||this.eof())e+=t;else if("u"===(t=this.source[this.index])){++this.index;var n=this.index,i=this.scanHexEscape("u");if(null!==i)for(e+=i;n<this.index;++n)this.source[n];else this.index=n,e+="u";this.tolerateUnexpectedToken()}else this.tolerateUnexpectedToken()}return e},e.prototype.scanRegExp=function(){var e=this.index,t=this.scanRegExpBody(),n=this.scanRegExpFlags();return{type:9,value:"",pattern:t,flags:n,regex:this.testRegExp(t,n),lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.lex=function(){if(this.eof())return{type:2,value:"",lineNumber:this.lineNumber,lineStart:this.lineStart,start:this.index,end:this.index};var e=this.source.charCodeAt(this.index);return r.Character.isIdentifierStart(e)?this.scanIdentifier():40===e||41===e||59===e?this.scanPunctuator():39===e||34===e?this.scanStringLiteral():46===e?r.Character.isDecimalDigit(this.source.charCodeAt(this.index+1))?this.scanNumericLiteral():this.scanPunctuator():r.Character.isDecimalDigit(e)?this.scanNumericLiteral():96===e||125===e&&"${"===this.curlyStack[this.curlyStack.length-1]?this.scanTemplate():e>=55296&&e<57343&&r.Character.isIdentifierStart(this.codePointAt(this.index))?this.scanIdentifier():this.scanPunctuator()},e}();t.Scanner=u},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TokenName={},t.TokenName[1]="Boolean",t.TokenName[2]="<end>",t.TokenName[3]="Identifier",t.TokenName[4]="Keyword",t.TokenName[5]="Null",t.TokenName[6]="Numeric",t.TokenName[7]="Punctuator",t.TokenName[8]="String",t.TokenName[9]="RegularExpression",t.TokenName[10]="Template"},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.XHTMLEntities={quot:'"',amp:"&",apos:"'",gt:">",nbsp:"",iexcl:"",cent:"",pound:"",curren:"",yen:"",brvbar:"",sect:"",uml:"",copy:"",ordf:"",laquo:"",not:"",shy:"",reg:"",macr:"",deg:"",plusmn:"",sup2:"",sup3:"",acute:"",micro:"",para:"",middot:"",cedil:"",sup1:"",ordm:"",raquo:"",frac14:"",frac12:"",frac34:"",iquest:"",Agrave:"",Aacute:"",Acirc:"",Atilde:"",Auml:"",Aring:"",AElig:"",Ccedil:"",Egrave:"",Eacute:"",Ecirc:"",Euml:"",Igrave:"",Iacute:"",Icirc:"",Iuml:"",ETH:"",Ntilde:"",Ograve:"",Oacute:"",Ocirc:"",Otilde:"",Ouml:"",times:"",Oslash:"",Ugrave:"",Uacute:"",Ucirc:"",Uuml:"",Yacute:"",THORN:"",szlig:"",agrave:"",aacute:"",acirc:"",atilde:"",auml:"",aring:"",aelig:"",ccedil:"",egrave:"",eacute:"",ecirc:"",euml:"",igrave:"",iacute:"",icirc:"",iuml:"",eth:"",ntilde:"",ograve:"",oacute:"",ocirc:"",otilde:"",ouml:"",divide:"",oslash:"",ugrave:"",uacute:"",ucirc:"",uuml:"",yacute:"",thorn:"",yuml:"",OElig:"",oelig:"",Scaron:"",scaron:"",Yuml:"",fnof:"",circ:"",tilde:"",Alpha:"",Beta:"",Gamma:"",Delta:"",Epsilon:"",Zeta:"",Eta:"",Theta:"",Iota:"",Kappa:"",Lambda:"",Mu:"",Nu:"",Xi:"",Omicron:"",Pi:"",Rho:"",Sigma:"",Tau:"",Upsilon:"",Phi:"",Chi:"",Psi:"",Omega:"",alpha:"",beta:"",gamma:"",delta:"",epsilon:"",zeta:"",eta:"",theta:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",xi:"",omicron:"",pi:"",rho:"",sigmaf:"",sigma:"",tau:"",upsilon:"",phi:"",chi:"",psi:"",omega:"",thetasym:"",upsih:"",piv:"",ensp:"",emsp:"",thinsp:"",zwnj:"",zwj:"",lrm:"",rlm:"",ndash:"",mdash:"",lsquo:"",rsquo:"",sbquo:"",ldquo:"",rdquo:"",bdquo:"",dagger:"",Dagger:"",bull:"",hellip:"",permil:"",prime:"",Prime:"",lsaquo:"",rsaquo:"",oline:"",frasl:"",euro:"",image:"",weierp:"",real:"",trade:"",alefsym:"",larr:"",uarr:"",rarr:"",darr:"",harr:"",crarr:"",lArr:"",uArr:"",rArr:"",dArr:"",hArr:"",forall:"",part:"",exist:"",empty:"",nabla:"",isin:"",notin:"",ni:"",prod:"",sum:"",minus:"",lowast:"",radic:"",prop:"",infin:"",ang:"",and:"",or:"",cap:"",cup:"",int:"",there4:"",sim:"",cong:"",asymp:"",ne:"",equiv:"",le:"",ge:"",sub:"",sup:"",nsub:"",sube:"",supe:"",oplus:"",otimes:"",perp:"",sdot:"",lceil:"",rceil:"",lfloor:"",rfloor:"",loz:"",spades:"",clubs:"",hearts:"",diams:"",lang:"",rang:""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(10),r=n(12),o=n(13),a=function(){function e(){this.values=[],this.curly=this.paren=-1}return e.prototype.beforeFunctionExpression=function(e){return["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","**=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","**","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="].indexOf(e)>=0},e.prototype.isRegexStart=function(){var e=this.values[this.values.length-1],t=null!==e;switch(e){case"this":case"]":t=!1;break;case")":var n=this.values[this.paren-1];t="if"===n||"while"===n||"for"===n||"with"===n;break;case"}":if(t=!1,"function"===this.values[this.curly-3])t=!!(i=this.values[this.curly-4])&&!this.beforeFunctionExpression(i);else if("function"===this.values[this.curly-4]){var i;t=!(i=this.values[this.curly-5])||!this.beforeFunctionExpression(i)}}return t},e.prototype.push=function(e){7===e.type||4===e.type?("{"===e.value?this.curly=this.values.length:"("===e.value&&(this.paren=this.values.length),this.values.push(e.value)):this.values.push(null)},e}(),s=function(){function e(e,t){this.errorHandler=new i.ErrorHandler,this.errorHandler.tolerant=!!t&&"boolean"==typeof t.tolerant&&t.tolerant,this.scanner=new r.Scanner(e,this.errorHandler),this.scanner.trackComment=!!t&&"boolean"==typeof t.comment&&t.comment,this.trackRange=!!t&&"boolean"==typeof t.range&&t.range,this.trackLoc=!!t&&"boolean"==typeof t.loc&&t.loc,this.buffer=[],this.reader=new a}return e.prototype.errors=function(){return this.errorHandler.errors},e.prototype.getNextToken=function(){if(0===this.buffer.length){var e=this.scanner.scanComments();if(this.scanner.trackComment)for(var t=0;t<e.length;++t){var n=e[t],i=this.scanner.source.slice(n.slice[0],n.slice[1]),r={type:n.multiLine?"BlockComment":"LineComment",value:i};this.trackRange&&(r.range=n.range),this.trackLoc&&(r.loc=n.loc),this.buffer.push(r)}if(!this.scanner.eof()){var a=void 0;this.trackLoc&&(a={start:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},end:{}});var s="/"===this.scanner.source[this.scanner.index]&&this.reader.isRegexStart()?this.scanner.scanRegExp():this.scanner.lex();this.reader.push(s);var u={type:o.TokenName[s.type],value:this.scanner.source.slice(s.start,s.end)};if(this.trackRange&&(u.range=[s.start,s.end]),this.trackLoc&&(a.end={line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},u.loc=a),9===s.type){var l=s.pattern,c=s.flags;u.regex={pattern:l,flags:c}}this.buffer.push(u)}}return this.buffer.shift()},e}();t.Tokenizer=s}])},"object"==typeof n&&"object"==typeof t?t.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof n?n.esprima=r():i.esprima=r()},{}],554:[function(e,t,n){t.exports=function(e,t){var n,i=null;try{n=JSON.parse(e,t)}catch(e){i=e}return[i,n]}},{}],555:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.newestSdkVersion=n.oldestSdkVersion=n.defaultSdkVersion=void 0,n.defaultSdkVersion="48.0.0",n.oldestSdkVersion="47.0.0",n.newestSdkVersion="49.0.0"},{}],556:[function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.sdks=void 0,r(e("./defaults"),n),r(e("./sdk"),n);var a=e("./sdks");Object.defineProperty(n,"sdks",{enumerable:!0,get:function(){return o(a).default}}),r(e("./types"),n)},{"./defaults":555,"./sdk":557,"./sdks":559,"./types":560}],557:[function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.standardizeDependencies=n.isFeatureSupported=n.isValidSemver=n.getSupportedSDKVersions=n.getDeprecatedModule=n.validateSDKVersion=n.getPreloadedModules=n.isModulePreloaded=void 0;const r=i(e("semver")),o=i(e("./sdks")),a=i(e("./sdks/features"));function s(e){if(!e)return e;let t=e;for(const n in e){const i=e[n];"string"==typeof i||null===i||("object"==typeof i&&"string"==typeof i.version?(t=t===e?{...e}:t,t[n]=i.version):(t=t===e?{...e}:t,delete t[n]))}return t}n.isModulePreloaded=function(e,t,n){const i=o.default[t];return!!i&&!!(i.coreModules[e]||!n&&i.bundledModules[e])},n.getPreloadedModules=function(e,t){const n=o.default[e];return n?t?n.coreModules:{...n.coreModules,...n.bundledModules}:{}},n.validateSDKVersion=function(e){if(Object.keys(o.default).indexOf(e)<0)throw new Error(`Invalid SDKVersion, the following versions are supported: ${Object.keys(o.default)}`);return e},n.getDeprecatedModule=function(e,t){var n,i;return null===(i=null===(n=o.default[t])||void 0===n?void 0:n.deprecatedModules)||void 0===i?void 0:i[e]},n.getSupportedSDKVersions=function(){return Object.keys(o.default)},n.isValidSemver=function(e){return"latest"===e||!!r.default.validRange(e)},n.isFeatureSupported=function(e,t){const n=a.default[e];if(!n)throw new Error(`Invalid SDKFeature, the following versions are supported: ${Object.keys(a.default)}`);return r.default.gte(t,n)},n.standardizeDependencies=function(e){let t=e;for(const n in e){const i=e[n];if("string"==typeof i)t=t===e?{...e}:t,t[n]={version:i};else if("object"==typeof i){const r=s(i.peerDependencies);i.peerDependencies!==r&&(t=t===e?{...e}:t,t[n]={...i,peerDependencies:r})}else t=t===e?{...e}:t,delete t[n]}return t}},{"./sdks":559,"./sdks/features":558,semver:589}],558:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.default={MULTIPLE_FILES:"21.0.0",PROJECT_DEPENDENCIES:"25.0.0",TYPESCRIPT:"31.0.0",UNIMODULE_IMPORTS:"33.0.0",POSTMESSAGE_TRANSPORT:"35.0.0",VERSIONED_SNACKAGER:"37.0.0"}},{}],559:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const i={"@expo/snack-static/react-native-logo.png":"*"},r={"47.0.0":{version:"^47.0.0",coreModules:{...i,expo:"~47.0.0-beta.3",react:"18.1.0","react-dom":"*","react-native":"0.70.4","react-native-web":"*","@shopify/react-native-skia/lib/module/web":"*"},bundledModules:{"expo-asset":"*","expo-font":"*","react-native-gesture-handler":"*","react-native-safe-area-context":"*","@expo/vector-icons":"*","expo-constants":"*","expo-file-system":"*","expo-updates":"*","@react-native-async-storage/async-storage":"*"},deprecatedModules:{}},"48.0.0":{version:"^48.0.0",coreModules:{...i,expo:"~48.0.17",react:"18.2.0","react-dom":"*","react-native":"0.71.8","react-native-web":"*","@shopify/react-native-skia/lib/module/web":"*"},bundledModules:{"expo-asset":"*","expo-font":"*","react-native-gesture-handler":"*","react-native-safe-area-context":"*","@expo/vector-icons":"*","expo-constants":"*","expo-file-system":"*","expo-updates":"*","@react-native-async-storage/async-storage":"*","react-native-reanimated":"*","expo-router":"*","expo-router/stack":"*","expo-router/tabs":"*","expo-router/drawer":"*","expo-router/html":"*","expo-router/head":"*","expo-router/entry":"*","react-native-pager-view":"*"},deprecatedModules:{}},"49.0.0":{version:"^49.0.0",coreModules:{...i,expo:"~49.0.10",react:"18.2.0","react-dom":"*","react-native":"0.72.4","react-native-web":"*","@shopify/react-native-skia/lib/module/web":"*"},bundledModules:{"expo-asset":"*","expo-font":"*","react-native-gesture-handler":"*","react-native-safe-area-context":"*","@expo/vector-icons":"*","expo-constants":"*","expo-file-system":"*","expo-updates":"*","@react-native-async-storage/async-storage":"*","react-native-reanimated":"*","expo-router":"*","expo-router/stack":"*","expo-router/tabs":"*","expo-router/drawer":"*","expo-router/html":"*","expo-router/head":"*","expo-router/entry":"*","react-native-pager-view":"*"},deprecatedModules:{}}};n.default=r},{}],560:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0})},{}],561:[function(e,t,n){"use strict";const i=e("yallist"),r=Symbol("max"),o=Symbol("length"),a=Symbol("lengthCalculator"),s=Symbol("allowStale"),u=Symbol("maxAge"),l=Symbol("dispose"),c=Symbol("noDisposeOnSet"),d=Symbol("lruList"),p=Symbol("cache"),h=Symbol("updateAgeOnGet"),f=()=>1;const m=(e,t,n)=>{const i=e[p].get(t);if(i){const t=i.value;if(g(e,t)){if(v(e,i),!e[s])return}else n&&(e[h]&&(i.value.now=Date.now()),e[d].unshiftNode(i));return t.value}},g=(e,t)=>{if(!t||!t.maxAge&&!e[u])return!1;const n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[u]&&n>e[u]},y=e=>{if(e[o]>e[r])for(let t=e[d].tail;e[o]>e[r]&&null!==t;){const n=t.prev;v(e,t),t=n}},v=(e,t)=>{if(t){const n=t.value;e[l]&&e[l](n.key,n.value),e[o]-=n.length,e[p].delete(n.key),e[d].removeNode(t)}};class _{constructor(e,t,n,i,r){this.key=e,this.value=t,this.length=n,this.now=i,this.maxAge=r||0}}const b=(e,t,n,i)=>{let r=n.value;g(e,r)&&(v(e,n),e[s]||(r=void 0)),r&&t.call(i,r.value,r.key,e)};t.exports=class{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[r]=e.max||1/0;const t=e.length||f;if(this[a]="function"!=typeof t?f:t,this[s]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[u]=e.maxAge||0,this[l]=e.dispose,this[c]=e.noDisposeOnSet||!1,this[h]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[r]=e||1/0,y(this)}get max(){return this[r]}set allowStale(e){this[s]=!!e}get allowStale(){return this[s]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[u]=e,y(this)}get maxAge(){return this[u]}set lengthCalculator(e){"function"!=typeof e&&(e=f),e!==this[a]&&(this[a]=e,this[o]=0,this[d].forEach((e=>{e.length=this[a](e.value,e.key),this[o]+=e.length}))),y(this)}get lengthCalculator(){return this[a]}get length(){return this[o]}get itemCount(){return this[d].length}rforEach(e,t){t=t||this;for(let n=this[d].tail;null!==n;){const i=n.prev;b(this,e,n,t),n=i}}forEach(e,t){t=t||this;for(let n=this[d].head;null!==n;){const i=n.next;b(this,e,n,t),n=i}}keys(){return this[d].toArray().map((e=>e.key))}values(){return this[d].toArray().map((e=>e.value))}reset(){this[l]&&this[d]&&this[d].length&&this[d].forEach((e=>this[l](e.key,e.value))),this[p]=new Map,this[d]=new i,this[o]=0}dump(){return this[d].map((e=>!g(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)})).toArray().filter((e=>e))}dumpLru(){return this[d]}set(e,t,n){if((n=n||this[u])&&"number"!=typeof n)throw new TypeError("maxAge must be a number");const i=n?Date.now():0,s=this[a](t,e);if(this[p].has(e)){if(s>this[r])return v(this,this[p].get(e)),!1;const a=this[p].get(e).value;return this[l]&&(this[c]||this[l](e,a.value)),a.now=i,a.maxAge=n,a.value=t,this[o]+=s-a.length,a.length=s,this.get(e),y(this),!0}const h=new _(e,t,s,i,n);return h.length>this[r]?(this[l]&&this[l](e,t),!1):(this[o]+=h.length,this[d].unshift(h),this[p].set(e,this[d].head),y(this),!0)}has(e){if(!this[p].has(e))return!1;const t=this[p].get(e).value;return!g(this,t)}get(e){return m(this,e,!0)}peek(e){return m(this,e,!1)}pop(){const e=this[d].tail;return e?(v(this,e),e.value):null}del(e){v(this,this[p].get(e))}load(e){this.reset();const t=Date.now();for(let n=e.length-1;n>=0;n--){const i=e[n],r=i.e||0;if(0===r)this.set(i.k,i.v);else{const e=r-t;e>0&&this.set(i.k,i.v,e)}}}prune(){this[p].forEach(((e,t)=>m(this,t,!1)))}}},{yallist:607}],562:[function(e,t,n){const i=Symbol("SemVer ANY");class r{static get ANY(){return i}constructor(e,t){if(t=o(t),e instanceof r){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),l("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===i?this.value="":this.value=this.operator+this.semver.version,l("comp",this)}parse(e){const t=this.options.loose?a[s.COMPARATORLOOSE]:a[s.COMPARATOR],n=e.match(t);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new c(n[2],this.options.loose):this.semver=i}toString(){return this.value}test(e){if(l("Comparator.test",e,this.options.loose),this.semver===i||e===i)return!0;if("string"==typeof e)try{e=new c(e,this.options)}catch(e){return!1}return u(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof r))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new d(e.value,t).test(this.value):""===e.operator?""===e.value||new d(this.value,t).test(e.semver):(!(t=o(t)).includePrerelease||"<0.0.0-0"!==this.value&&"<0.0.0-0"!==e.value)&&(!(!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0")))&&(!(!this.operator.startsWith(">")||!e.operator.startsWith(">"))||(!(!this.operator.startsWith("<")||!e.operator.startsWith("<"))||(!(this.semver.version!==e.semver.version||!this.operator.includes("=")||!e.operator.includes("="))||(!!(u(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<"))||!!(u(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))))))}}t.exports=r;const o=e("../internal/parse-options"),{safeRe:a,t:s}=e("../internal/re"),u=e("../functions/cmp"),l=e("../internal/debug"),c=e("./semver"),d=e("./range")},{"../functions/cmp":566,"../internal/debug":591,"../internal/parse-options":593,"../internal/re":594,"./range":563,"./semver":564}],563:[function(e,t,n){class i{constructor(e,t){if(t=o(t),e instanceof i)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new i(e.raw,t);if(e instanceof a)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!g(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&y(e[0])){this.set=[e];break}}this.format()}format(){return this.range=this.set.map((e=>e.join(" ").trim())).join("||").trim(),this.range}toString(){return this.range}parseRange(e){const t=((this.options.includePrerelease&&f)|(this.options.loose&&m))+":"+e,n=r.get(t);if(n)return n;const i=this.options.loose,o=i?l[c.HYPHENRANGELOOSE]:l[c.HYPHENRANGE];e=e.replace(o,I(this.options.includePrerelease)),s("hyphen replace",e),e=e.replace(l[c.COMPARATORTRIM],d),s("comparator trim",e),e=e.replace(l[c.TILDETRIM],p),s("tilde trim",e),e=e.replace(l[c.CARETTRIM],h),s("caret trim",e);let u=e.split(" ").map((e=>_(e,this.options))).join(" ").split(/\s+/).map((e=>k(e,this.options)));i&&(u=u.filter((e=>(s("loose invalid filter",e,this.options),!!e.match(l[c.COMPARATORLOOSE]))))),s("range list",u);const y=new Map,v=u.map((e=>new a(e,this.options)));for(const e of v){if(g(e))return[e];y.set(e.value,e)}y.size>1&&y.has("")&&y.delete("");const b=[...y.values()];return r.set(t,b),b}intersects(e,t){if(!(e instanceof i))throw new TypeError("a Range is required");return this.set.some((n=>v(n,t)&&e.set.some((e=>v(e,t)&&n.every((n=>e.every((e=>n.intersects(e,t)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(D(this.set[t],e,this.options))return!0;return!1}}t.exports=i;const r=new(e("lru-cache"))({max:1e3}),o=e("../internal/parse-options"),a=e("./comparator"),s=e("../internal/debug"),u=e("./semver"),{safeRe:l,t:c,comparatorTrimReplace:d,tildeTrimReplace:p,caretTrimReplace:h}=e("../internal/re"),{FLAG_INCLUDE_PRERELEASE:f,FLAG_LOOSE:m}=e("../internal/constants"),g=e=>"<0.0.0-0"===e.value,y=e=>""===e.value,v=(e,t)=>{let n=!0;const i=e.slice();let r=i.pop();for(;n&&i.length;)n=i.every((e=>r.intersects(e,t))),r=i.pop();return n},_=(e,t)=>(s("comp",e,t),e=S(e,t),s("caret",e),e=w(e,t),s("tildes",e),e=C(e,t),s("xrange",e),e=A(e,t),s("stars",e),e),b=e=>!e||"x"===e.toLowerCase()||"*"===e,w=(e,t)=>e.trim().split(/\s+/).map((e=>E(e,t))).join(" "),E=(e,t)=>{const n=t.loose?l[c.TILDELOOSE]:l[c.TILDE];return e.replace(n,((t,n,i,r,o)=>{let a;return s("tilde",e,t,n,i,r,o),b(n)?a="":b(i)?a=`>=${n}.0.0 <${+n+1}.0.0-0`:b(r)?a=`>=${n}.${i}.0 <${n}.${+i+1}.0-0`:o?(s("replaceTilde pr",o),a=`>=${n}.${i}.${r}-${o} <${n}.${+i+1}.0-0`):a=`>=${n}.${i}.${r} <${n}.${+i+1}.0-0`,s("tilde return",a),a}))},S=(e,t)=>e.trim().split(/\s+/).map((e=>T(e,t))).join(" "),T=(e,t)=>{s("caret",e,t);const n=t.loose?l[c.CARETLOOSE]:l[c.CARET],i=t.includePrerelease?"-0":"";return e.replace(n,((t,n,r,o,a)=>{let u;return s("caret",e,t,n,r,o,a),b(n)?u="":b(r)?u=`>=${n}.0.0${i} <${+n+1}.0.0-0`:b(o)?u="0"===n?`>=${n}.${r}.0${i} <${n}.${+r+1}.0-0`:`>=${n}.${r}.0${i} <${+n+1}.0.0-0`:a?(s("replaceCaret pr",a),u="0"===n?"0"===r?`>=${n}.${r}.${o}-${a} <${n}.${r}.${+o+1}-0`:`>=${n}.${r}.${o}-${a} <${n}.${+r+1}.0-0`:`>=${n}.${r}.${o}-${a} <${+n+1}.0.0-0`):(s("no pr"),u="0"===n?"0"===r?`>=${n}.${r}.${o}${i} <${n}.${r}.${+o+1}-0`:`>=${n}.${r}.${o}${i} <${n}.${+r+1}.0-0`:`>=${n}.${r}.${o} <${+n+1}.0.0-0`),s("caret return",u),u}))},C=(e,t)=>(s("replaceXRanges",e,t),e.split(/\s+/).map((e=>x(e,t))).join(" ")),x=(e,t)=>{e=e.trim();const n=t.loose?l[c.XRANGELOOSE]:l[c.XRANGE];return e.replace(n,((n,i,r,o,a,u)=>{s("xRange",e,n,i,r,o,a,u);const l=b(r),c=l||b(o),d=c||b(a),p=d;return"="===i&&p&&(i=""),u=t.includePrerelease?"-0":"",l?n=">"===i||"<"===i?"<0.0.0-0":"*":i&&p?(c&&(o=0),a=0,">"===i?(i=">=",c?(r=+r+1,o=0,a=0):(o=+o+1,a=0)):"<="===i&&(i="<",c?r=+r+1:o=+o+1),"<"===i&&(u="-0"),n=`${i+r}.${o}.${a}${u}`):c?n=`>=${r}.0.0${u} <${+r+1}.0.0-0`:d&&(n=`>=${r}.${o}.0${u} <${r}.${+o+1}.0-0`),s("xRange return",n),n}))},A=(e,t)=>(s("replaceStars",e,t),e.trim().replace(l[c.STAR],"")),k=(e,t)=>(s("replaceGTE0",e,t),e.trim().replace(l[t.includePrerelease?c.GTE0PRE:c.GTE0],"")),I=e=>(t,n,i,r,o,a,s,u,l,c,d,p,h)=>`${n=b(i)?"":b(r)?`>=${i}.0.0${e?"-0":""}`:b(o)?`>=${i}.${r}.0${e?"-0":""}`:a?`>=${n}`:`>=${n}${e?"-0":""}`} ${u=b(l)?"":b(c)?`<${+l+1}.0.0-0`:b(d)?`<${l}.${+c+1}.0-0`:p?`<=${l}.${c}.${d}-${p}`:e?`<${l}.${c}.${+d+1}-0`:`<=${u}`}`.trim(),D=(e,t,n)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(let n=0;n<e.length;n++)if(s(e[n].semver),e[n].semver!==a.ANY&&e[n].semver.prerelease.length>0){const i=e[n].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}},{"../internal/constants":590,"../internal/debug":591,"../internal/parse-options":593,"../internal/re":594,"./comparator":562,"./semver":564,"lru-cache":561}],564:[function(e,t,n){const i=e("../internal/debug"),{MAX_LENGTH:r,MAX_SAFE_INTEGER:o}=e("../internal/constants"),{safeRe:a,t:s}=e("../internal/re"),u=e("../internal/parse-options"),{compareIdentifiers:l}=e("../internal/identifiers");class c{constructor(e,t){if(t=u(t),e instanceof c){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>r)throw new TypeError(`version is longer than ${r} characters`);i("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const n=e.trim().match(t.loose?a[s.LOOSE]:a[s.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>o||this.major<0)throw new TypeError("Invalid major version");if(this.minor>o||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>o||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<o)return t}return e})):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(i("SemVer.compare",this.version,this.options,e),!(e instanceof c)){if("string"==typeof e&&e===this.version)return 0;e=new c(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof c||(e=new c(e,this.options)),l(this.major,e.major)||l(this.minor,e.minor)||l(this.patch,e.patch)}comparePre(e){if(e instanceof c||(e=new c(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const n=this.prerelease[t],r=e.prerelease[t];if(i("prerelease compare",t,n,r),void 0===n&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===n)return-1;if(n!==r)return l(n,r)}while(++t)}compareBuild(e){e instanceof c||(e=new c(e,this.options));let t=0;do{const n=this.build[t],r=e.build[t];if(i("prerelease compare",t,n,r),void 0===n&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===n)return-1;if(n!==r)return l(n,r)}while(++t)}inc(e,t,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(n)?1:0;if(!t&&!1===n)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let i=this.prerelease.length;for(;--i>=0;)"number"==typeof this.prerelease[i]&&(this.prerelease[i]++,i=-2);if(-1===i){if(t===this.prerelease.join(".")&&!1===n)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let i=[t,e];!1===n&&(i=[t]),0===l(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}t.exports=c},{"../internal/constants":590,"../internal/debug":591,"../internal/identifiers":592,"../internal/parse-options":593,"../internal/re":594}],565:[function(e,t,n){const i=e("./parse");t.exports=(e,t)=>{const n=i(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null}},{"./parse":581}],566:[function(e,t,n){const i=e("./eq"),r=e("./neq"),o=e("./gt"),a=e("./gte"),s=e("./lt"),u=e("./lte");t.exports=(e,t,n,l)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e===n;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return i(e,n,l);case"!=":return r(e,n,l);case">":return o(e,n,l);case">=":return a(e,n,l);case"<":return s(e,n,l);case"<=":return u(e,n,l);default:throw new TypeError(`Invalid operator: ${t}`)}}},{"./eq":572,"./gt":573,"./gte":574,"./lt":576,"./lte":577,"./neq":580}],567:[function(e,t,n){const i=e("../classes/semver"),r=e("./parse"),{safeRe:o,t:a}=e("../internal/re");t.exports=(e,t)=>{if(e instanceof i)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let n=null;if((t=t||{}).rtl){let t;for(;(t=o[a.COERCERTL].exec(e))&&(!n||n.index+n[0].length!==e.length);)n&&t.index+t[0].length===n.index+n[0].length||(n=t),o[a.COERCERTL].lastIndex=t.index+t[1].length+t[2].length;o[a.COERCERTL].lastIndex=-1}else n=e.match(o[a.COERCE]);return null===n?null:r(`${n[2]}.${n[3]||"0"}.${n[4]||"0"}`,t)}},{"../classes/semver":564,"../internal/re":594,"./parse":581}],568:[function(e,t,n){const i=e("../classes/semver");t.exports=(e,t,n)=>{const r=new i(e,n),o=new i(t,n);return r.compare(o)||r.compareBuild(o)}},{"../classes/semver":564}],569:[function(e,t,n){const i=e("./compare");t.exports=(e,t)=>i(e,t,!0)},{"./compare":570}],570:[function(e,t,n){const i=e("../classes/semver");t.exports=(e,t,n)=>new i(e,n).compare(new i(t,n))},{"../classes/semver":564}],571:[function(e,t,n){const i=e("./parse.js");t.exports=(e,t)=>{const n=i(e,null,!0),r=i(t,null,!0),o=n.compare(r);if(0===o)return null;const a=o>0,s=a?n:r,u=a?r:n,l=!!s.prerelease.length;if(!!u.prerelease.length&&!l)return u.patch||u.minor?s.patch?"patch":s.minor?"minor":"major":"major";const c=l?"pre":"";return n.major!==r.major?c+"major":n.minor!==r.minor?c+"minor":n.patch!==r.patch?c+"patch":"prerelease"}},{"./parse.js":581}],572:[function(e,t,n){const i=e("./compare");t.exports=(e,t,n)=>0===i(e,t,n)},{"./compare":570}],573:[function(e,t,n){const i=e("./compare");t.exports=(e,t,n)=>i(e,t,n)>0},{"./compare":570}],574:[function(e,t,n){const i=e("./compare");t.exports=(e,t,n)=>i(e,t,n)>=0},{"./compare":570}],575:[function(e,t,n){const i=e("../classes/semver");t.exports=(e,t,n,r,o)=>{"string"==typeof n&&(o=r,r=n,n=void 0);try{return new i(e instanceof i?e.version:e,n).inc(t,r,o).version}catch(e){return null}}},{"../classes/semver":564}],576:[function(e,t,n){const i=e("./compare");t.exports=(e,t,n)=>i(e,t,n)<0},{"./compare":570}],577:[function(e,t,n){const i=e("./compare");t.exports=(e,t,n)=>i(e,t,n)<=0},{"./compare":570}],578:[function(e,t,n){const i=e("../classes/semver");t.exports=(e,t)=>new i(e,t).major},{"../classes/semver":564}],579:[function(e,t,n){const i=e("../classes/semver");t.exports=(e,t)=>new i(e,t).minor},{"../classes/semver":564}],580:[function(e,t,n){const i=e("./compare");t.exports=(e,t,n)=>0!==i(e,t,n)},{"./compare":570}],581:[function(e,t,n){const i=e("../classes/semver");t.exports=(e,t,n=!1)=>{if(e instanceof i)return e;try{return new i(e,t)}catch(e){if(!n)return null;throw e}}},{"../classes/semver":564}],582:[function(e,t,n){const i=e("../classes/semver");t.exports=(e,t)=>new i(e,t).patch},{"../classes/semver":564}],583:[function(e,t,n){const i=e("./parse");t.exports=(e,t)=>{const n=i(e,t);return n&&n.prerelease.length?n.prerelease:null}},{"./parse":581}],584:[function(e,t,n){const i=e("./compare");t.exports=(e,t,n)=>i(t,e,n)},{"./compare":570}],585:[function(e,t,n){const i=e("./compare-build");t.exports=(e,t)=>e.sort(((e,n)=>i(n,e,t)))},{"./compare-build":568}],586:[function(e,t,n){const i=e("../classes/range");t.exports=(e,t,n)=>{try{t=new i(t,n)}catch(e){return!1}return t.test(e)}},{"../classes/range":563}],587:[function(e,t,n){const i=e("./compare-build");t.exports=(e,t)=>e.sort(((e,n)=>i(e,n,t)))},{"./compare-build":568}],588:[function(e,t,n){const i=e("./parse");t.exports=(e,t)=>{const n=i(e,t);return n?n.version:null}},{"./parse":581}],589:[function(e,t,n){const i=e("./internal/re"),r=e("./internal/constants"),o=e("./classes/semver"),a=e("./internal/identifiers"),s=e("./functions/parse"),u=e("./functions/valid"),l=e("./functions/clean"),c=e("./functions/inc"),d=e("./functions/diff"),p=e("./functions/major"),h=e("./functions/minor"),f=e("./functions/patch"),m=e("./functions/prerelease"),g=e("./functions/compare"),y=e("./functions/rcompare"),v=e("./functions/compare-loose"),_=e("./functions/compare-build"),b=e("./functions/sort"),w=e("./functions/rsort"),E=e("./functions/gt"),S=e("./functions/lt"),T=e("./functions/eq"),C=e("./functions/neq"),x=e("./functions/gte"),A=e("./functions/lte"),k=e("./functions/cmp"),I=e("./functions/coerce"),D=e("./classes/comparator"),O=e("./classes/range"),P=e("./functions/satisfies"),N=e("./ranges/to-comparators"),R=e("./ranges/max-satisfying"),L=e("./ranges/min-satisfying"),M=e("./ranges/min-version"),F=e("./ranges/valid"),j=e("./ranges/outside"),B=e("./ranges/gtr"),U=e("./ranges/ltr"),H=e("./ranges/intersects"),$=e("./ranges/simplify"),G=e("./ranges/subset");t.exports={parse:s,valid:u,clean:l,inc:c,diff:d,major:p,minor:h,patch:f,prerelease:m,compare:g,rcompare:y,compareLoose:v,compareBuild:_,sort:b,rsort:w,gt:E,lt:S,eq:T,neq:C,gte:x,lte:A,cmp:k,coerce:I,Comparator:D,Range:O,satisfies:P,toComparators:N,maxSatisfying:R,minSatisfying:L,minVersion:M,validRange:F,outside:j,gtr:B,ltr:U,intersects:H,simplifyRange:$,subset:G,SemVer:o,re:i.re,src:i.src,tokens:i.t,SEMVER_SPEC_VERSION:r.SEMVER_SPEC_VERSION,RELEASE_TYPES:r.RELEASE_TYPES,compareIdentifiers:a.compareIdentifiers,rcompareIdentifiers:a.rcompareIdentifiers}},{"./classes/comparator":562,"./classes/range":563,"./classes/semver":564,"./functions/clean":565,"./functions/cmp":566,"./functions/coerce":567,"./functions/compare":570,"./functions/compare-build":568,"./functions/compare-loose":569,"./functions/diff":571,"./functions/eq":572,"./functions/gt":573,"./functions/gte":574,"./functions/inc":575,"./functions/lt":576,"./functions/lte":577,"./functions/major":578,"./functions/minor":579,"./functions/neq":580,"./functions/parse":581,"./functions/patch":582,"./functions/prerelease":583,"./functions/rcompare":584,"./functions/rsort":585,"./functions/satisfies":586,"./functions/sort":587,"./functions/valid":588,"./internal/constants":590,"./internal/identifiers":592,"./internal/re":594,"./ranges/gtr":595,"./ranges/intersects":596,"./ranges/ltr":597,"./ranges/max-satisfying":598,"./ranges/min-satisfying":599,"./ranges/min-version":600,"./ranges/outside":601,"./ranges/simplify":602,"./ranges/subset":603,"./ranges/to-comparators":604,"./ranges/valid":605}],590:[function(e,t,n){const i=Number.MAX_SAFE_INTEGER||9007199254740991;t.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:i,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},{}],591:[function(e,t,n){(function(e){const n="object"==typeof e&&e.env&&e.env.NODE_DEBUG&&/\bsemver\b/i.test(e.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};t.exports=n}).call(this,e("_process"))},{_process:519}],592:[function(e,t,n){const i=/^[0-9]+$/,r=(e,t)=>{const n=i.test(e),r=i.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1};t.exports={compareIdentifiers:r,rcompareIdentifiers:(e,t)=>r(t,e)}},{}],593:[function(e,t,n){const i=Object.freeze({loose:!0}),r=Object.freeze({});t.exports=e=>e?"object"!=typeof e?i:e:r},{}],594:[function(e,t,n){const{MAX_SAFE_COMPONENT_LENGTH:i,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:o}=e("./constants"),a=e("./debug"),s=(n=t.exports={}).re=[],u=n.safeRe=[],l=n.src=[],c=n.t={};let d=0;const p="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",o],[p,r]],f=(e,t,n)=>{const i=(e=>{for(const[t,n]of h)e=e.split(`${t}*`).join(`${t}{0,${n}}`).split(`${t}+`).join(`${t}{1,${n}}`);return e})(t),r=d++;a(e,r,t),c[e]=r,l[r]=t,s[r]=new RegExp(t,n?"g":void 0),u[r]=new RegExp(i,n?"g":void 0)};f("NUMERICIDENTIFIER","0|[1-9]\\d*"),f("NUMERICIDENTIFIERLOOSE","\\d+"),f("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),f("MAINVERSION",`(${l[c.NUMERICIDENTIFIER]})\\.(${l[c.NUMERICIDENTIFIER]})\\.(${l[c.NUMERICIDENTIFIER]})`),f("MAINVERSIONLOOSE",`(${l[c.NUMERICIDENTIFIERLOOSE]})\\.(${l[c.NUMERICIDENTIFIERLOOSE]})\\.(${l[c.NUMERICIDENTIFIERLOOSE]})`),f("PRERELEASEIDENTIFIER",`(?:${l[c.NUMERICIDENTIFIER]}|${l[c.NONNUMERICIDENTIFIER]})`),f("PRERELEASEIDENTIFIERLOOSE",`(?:${l[c.NUMERICIDENTIFIERLOOSE]}|${l[c.NONNUMERICIDENTIFIER]})`),f("PRERELEASE",`(?:-(${l[c.PRERELEASEIDENTIFIER]}(?:\\.${l[c.PRERELEASEIDENTIFIER]})*))`),f("PRERELEASELOOSE",`(?:-?(${l[c.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[c.PRERELEASEIDENTIFIERLOOSE]})*))`),f("BUILDIDENTIFIER","[a-zA-Z0-9-]+"),f("BUILD",`(?:\\+(${l[c.BUILDIDENTIFIER]}(?:\\.${l[c.BUILDIDENTIFIER]})*))`),f("FULLPLAIN",`v?${l[c.MAINVERSION]}${l[c.PRERELEASE]}?${l[c.BUILD]}?`),f("FULL",`^${l[c.FULLPLAIN]}$`),f("LOOSEPLAIN",`[v=\\s]*${l[c.MAINVERSIONLOOSE]}${l[c.PRERELEASELOOSE]}?${l[c.BUILD]}?`),f("LOOSE",`^${l[c.LOOSEPLAIN]}$`),f("GTLT","((?:<|>)?=?)"),f("XRANGEIDENTIFIERLOOSE",`${l[c.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),f("XRANGEIDENTIFIER",`${l[c.NUMERICIDENTIFIER]}|x|X|\\*`),f("XRANGEPLAIN",`[v=\\s]*(${l[c.XRANGEIDENTIFIER]})(?:\\.(${l[c.XRANGEIDENTIFIER]})(?:\\.(${l[c.XRANGEIDENTIFIER]})(?:${l[c.PRERELEASE]})?${l[c.BUILD]}?)?)?`),f("XRANGEPLAINLOOSE",`[v=\\s]*(${l[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[c.XRANGEIDENTIFIERLOOSE]})(?:${l[c.PRERELEASELOOSE]})?${l[c.BUILD]}?)?)?`),f("XRANGE",`^${l[c.GTLT]}\\s*${l[c.XRANGEPLAIN]}$`),f("XRANGELOOSE",`^${l[c.GTLT]}\\s*${l[c.XRANGEPLAINLOOSE]}$`),f("COERCE",`(^|[^\\d])(\\d{1,${i}})(?:\\.(\\d{1,${i}}))?(?:\\.(\\d{1,${i}}))?(?:$|[^\\d])`),f("COERCERTL",l[c.COERCE],!0),f("LONETILDE","(?:~>?)"),f("TILDETRIM",`(\\s*)${l[c.LONETILDE]}\\s+`,!0),n.tildeTrimReplace="$1~",f("TILDE",`^${l[c.LONETILDE]}${l[c.XRANGEPLAIN]}$`),f("TILDELOOSE",`^${l[c.LONETILDE]}${l[c.XRANGEPLAINLOOSE]}$`),f("LONECARET","(?:\\^)"),f("CARETTRIM",`(\\s*)${l[c.LONECARET]}\\s+`,!0),n.caretTrimReplace="$1^",f("CARET",`^${l[c.LONECARET]}${l[c.XRANGEPLAIN]}$`),f("CARETLOOSE",`^${l[c.LONECARET]}${l[c.XRANGEPLAINLOOSE]}$`),f("COMPARATORLOOSE",`^${l[c.GTLT]}\\s*(${l[c.LOOSEPLAIN]})$|^$`),f("COMPARATOR",`^${l[c.GTLT]}\\s*(${l[c.FULLPLAIN]})$|^$`),f("COMPARATORTRIM",`(\\s*)${l[c.GTLT]}\\s*(${l[c.LOOSEPLAIN]}|${l[c.XRANGEPLAIN]})`,!0),n.comparatorTrimReplace="$1$2$3",f("HYPHENRANGE",`^\\s*(${l[c.XRANGEPLAIN]})\\s+-\\s+(${l[c.XRANGEPLAIN]})\\s*$`),f("HYPHENRANGELOOSE",`^\\s*(${l[c.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[c.XRANGEPLAINLOOSE]})\\s*$`),f("STAR","(<|>)?=?\\s*\\*"),f("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),f("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},{"./constants":590,"./debug":591}],595:[function(e,t,n){const i=e("./outside");t.exports=(e,t,n)=>i(e,t,">",n)},{"./outside":601}],596:[function(e,t,n){const i=e("../classes/range");t.exports=(e,t,n)=>(e=new i(e,n),t=new i(t,n),e.intersects(t,n))},{"../classes/range":563}],597:[function(e,t,n){const i=e("./outside");t.exports=(e,t,n)=>i(e,t,"<",n)},{"./outside":601}],598:[function(e,t,n){const i=e("../classes/semver"),r=e("../classes/range");t.exports=(e,t,n)=>{let o=null,a=null,s=null;try{s=new r(t,n)}catch(e){return null}return e.forEach((e=>{s.test(e)&&(o&&-1!==a.compare(e)||(o=e,a=new i(o,n)))})),o}},{"../classes/range":563,"../classes/semver":564}],599:[function(e,t,n){const i=e("../classes/semver"),r=e("../classes/range");t.exports=(e,t,n)=>{let o=null,a=null,s=null;try{s=new r(t,n)}catch(e){return null}return e.forEach((e=>{s.test(e)&&(o&&1!==a.compare(e)||(o=e,a=new i(o,n)))})),o}},{"../classes/range":563,"../classes/semver":564}],600:[function(e,t,n){const i=e("../classes/semver"),r=e("../classes/range"),o=e("../functions/gt");t.exports=(e,t)=>{e=new r(e,t);let n=new i("0.0.0");if(e.test(n))return n;if(n=new i("0.0.0-0"),e.test(n))return n;n=null;for(let t=0;t<e.set.length;++t){const r=e.set[t];let a=null;r.forEach((e=>{const t=new i(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":a&&!o(t,a)||(a=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}})),!a||n&&!o(n,a)||(n=a)}return n&&e.test(n)?n:null}},{"../classes/range":563,"../classes/semver":564,"../functions/gt":573}],601:[function(e,t,n){const i=e("../classes/semver"),r=e("../classes/comparator"),{ANY:o}=r,a=e("../classes/range"),s=e("../functions/satisfies"),u=e("../functions/gt"),l=e("../functions/lt"),c=e("../functions/lte"),d=e("../functions/gte");t.exports=(e,t,n,p)=>{let h,f,m,g,y;switch(e=new i(e,p),t=new a(t,p),n){case">":h=u,f=c,m=l,g=">",y=">=";break;case"<":h=l,f=d,m=u,g="<",y="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(s(e,t,p))return!1;for(let n=0;n<t.set.length;++n){const i=t.set[n];let a=null,s=null;if(i.forEach((e=>{e.semver===o&&(e=new r(">=0.0.0")),a=a||e,s=s||e,h(e.semver,a.semver,p)?a=e:m(e.semver,s.semver,p)&&(s=e)})),a.operator===g||a.operator===y)return!1;if((!s.operator||s.operator===g)&&f(e,s.semver))return!1;if(s.operator===y&&m(e,s.semver))return!1}return!0}},{"../classes/comparator":562,"../classes/range":563,"../classes/semver":564,"../functions/gt":573,"../functions/gte":574,"../functions/lt":576,"../functions/lte":577,"../functions/satisfies":586}],602:[function(e,t,n){const i=e("../functions/satisfies.js"),r=e("../functions/compare.js");t.exports=(e,t,n)=>{const o=[];let a=null,s=null;const u=e.sort(((e,t)=>r(e,t,n)));for(const e of u){i(e,t,n)?(s=e,a||(a=e)):(s&&o.push([a,s]),s=null,a=null)}a&&o.push([a,null]);const l=[];for(const[e,t]of o)e===t?l.push(e):t||e!==u[0]?t?e===u[0]?l.push(`<=${t}`):l.push(`${e} - ${t}`):l.push(`>=${e}`):l.push("*");const c=l.join(" || "),d="string"==typeof t.raw?t.raw:String(t);return c.length<d.length?c:t}},{"../functions/compare.js":570,"../functions/satisfies.js":586}],603:[function(e,t,n){const i=e("../classes/range.js"),r=e("../classes/comparator.js"),{ANY:o}=r,a=e("../functions/satisfies.js"),s=e("../functions/compare.js"),u=[new r(">=0.0.0-0")],l=[new r(">=0.0.0")],c=(e,t,n)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===o){if(1===t.length&&t[0].semver===o)return!0;e=n.includePrerelease?u:l}if(1===t.length&&t[0].semver===o){if(n.includePrerelease)return!0;t=l}const i=new Set;let r,c,h,f,m,g,y;for(const t of e)">"===t.operator||">="===t.operator?r=d(r,t,n):"<"===t.operator||"<="===t.operator?c=p(c,t,n):i.add(t.semver);if(i.size>1)return null;if(r&&c){if(h=s(r.semver,c.semver,n),h>0)return null;if(0===h&&(">="!==r.operator||"<="!==c.operator))return null}for(const e of i){if(r&&!a(e,String(r),n))return null;if(c&&!a(e,String(c),n))return null;for(const i of t)if(!a(e,String(i),n))return!1;return!0}let v=!(!c||n.includePrerelease||!c.semver.prerelease.length)&&c.semver,_=!(!r||n.includePrerelease||!r.semver.prerelease.length)&&r.semver;v&&1===v.prerelease.length&&"<"===c.operator&&0===v.prerelease[0]&&(v=!1);for(const e of t){if(y=y||">"===e.operator||">="===e.operator,g=g||"<"===e.operator||"<="===e.operator,r)if(_&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===_.major&&e.semver.minor===_.minor&&e.semver.patch===_.patch&&(_=!1),">"===e.operator||">="===e.operator){if(f=d(r,e,n),f===e&&f!==r)return!1}else if(">="===r.operator&&!a(r.semver,String(e),n))return!1;if(c)if(v&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===v.major&&e.semver.minor===v.minor&&e.semver.patch===v.patch&&(v=!1),"<"===e.operator||"<="===e.operator){if(m=p(c,e,n),m===e&&m!==c)return!1}else if("<="===c.operator&&!a(c.semver,String(e),n))return!1;if(!e.operator&&(c||r)&&0!==h)return!1}return!(r&&g&&!c&&0!==h)&&(!(c&&y&&!r&&0!==h)&&(!_&&!v))},d=(e,t,n)=>{if(!e)return t;const i=s(e.semver,t.semver,n);return i>0?e:i<0||">"===t.operator&&">="===e.operator?t:e},p=(e,t,n)=>{if(!e)return t;const i=s(e.semver,t.semver,n);return i<0?e:i>0||"<"===t.operator&&"<="===e.operator?t:e};t.exports=(e,t,n={})=>{if(e===t)return!0;e=new i(e,n),t=new i(t,n);let r=!1;e:for(const i of e.set){for(const e of t.set){const t=c(i,e,n);if(r=r||null!==t,t)continue e}if(r)return!1}return!0}},{"../classes/comparator.js":562,"../classes/range.js":563,"../functions/compare.js":570,"../functions/satisfies.js":586}],604:[function(e,t,n){const i=e("../classes/range");t.exports=(e,t)=>new i(e,t).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" ")))},{"../classes/range":563}],605:[function(e,t,n){const i=e("../classes/range");t.exports=(e,t)=>{try{return new i(e,t).range||"*"}catch(e){return null}}},{"../classes/range":563}],606:[function(e,t,n){"use strict";t.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},{}],607:[function(e,t,n){"use strict";function i(e){var t=this;if(t instanceof i||(t=new i),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var n=0,r=arguments.length;n<r;n++)t.push(arguments[n]);return t}function r(e,t,n){var i=t===e.head?new s(n,null,t,e):new s(n,t,t.next,e);return null===i.next&&(e.tail=i),null===i.prev&&(e.head=i),e.length++,i}function o(e,t){e.tail=new s(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function a(e,t){e.head=new s(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function s(e,t,n,i){if(!(this instanceof s))return new s(e,t,n,i);this.list=i,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}t.exports=i,i.Node=s,i.create=i,i.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t},i.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},i.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},i.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)o(this,arguments[e]);return this.length},i.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)a(this,arguments[e]);return this.length},i.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},i.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},i.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,i=0;null!==n;i++)e.call(t,n.value,i,this),n=n.next},i.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,i=this.length-1;null!==n;i--)e.call(t,n.value,i,this),n=n.prev},i.prototype.get=function(e){for(var t=0,n=this.head;null!==n&&t<e;t++)n=n.next;if(t===e&&null!==n)return n.value},i.prototype.getReverse=function(e){for(var t=0,n=this.tail;null!==n&&t<e;t++)n=n.prev;if(t===e&&null!==n)return n.value},i.prototype.map=function(e,t){t=t||this;for(var n=new i,r=this.head;null!==r;)n.push(e.call(t,r.value,this)),r=r.next;return n},i.prototype.mapReverse=function(e,t){t=t||this;for(var n=new i,r=this.tail;null!==r;)n.push(e.call(t,r.value,this)),r=r.prev;return n},i.prototype.reduce=function(e,t){var n,i=this.head;if(arguments.length>1)n=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");i=this.head.next,n=this.head.value}for(var r=0;null!==i;r++)n=e(n,i.value,r),i=i.next;return n},i.prototype.reduceReverse=function(e,t){var n,i=this.tail;if(arguments.length>1)n=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");i=this.tail.prev,n=this.tail.value}for(var r=this.length-1;null!==i;r--)n=e(n,i.value,r),i=i.prev;return n},i.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;null!==n;t++)e[t]=n.value,n=n.next;return e},i.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;null!==n;t++)e[t]=n.value,n=n.prev;return e},i.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new i;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=0,o=this.head;null!==o&&r<e;r++)o=o.next;for(;null!==o&&r<t;r++,o=o.next)n.push(o.value);return n},i.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new i;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=this.length,o=this.tail;null!==o&&r>t;r--)o=o.prev;for(;null!==o&&r>e;r--,o=o.prev)n.push(o.value);return n},i.prototype.splice=function(e,t,...n){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var i=0,o=this.head;null!==o&&i<e;i++)o=o.next;var a=[];for(i=0;o&&i<t;i++)a.push(o.value),o=this.removeNode(o);null===o&&(o=this.tail),o!==this.head&&o!==this.tail&&(o=o.prev);for(i=0;i<n.length;i++)o=r(this,o,n[i]);return a},i.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;null!==n;n=n.prev){var i=n.prev;n.prev=n.next,n.next=i}return this.head=t,this.tail=e,this};try{e("./iterator.js")(i)}catch(e){}},{"./iterator.js":606}],608:[function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((i=i.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.getPackageName=n.verifyDependency=n.getMissingDependencies=void 0;var s=a(e("semver")),u=e("snack-content"),l=a(e("validate-npm-package-name")),c=e("./utils");function d(e,t){return t?e+"@"+t:e}var p=function(){function e(e){this.status={},this.snackagerURL=e.snackagerURL,this.logger=e.logger,this.callback=e.callback}return e.prototype.add=function(e,t,n){var i=d(e,t);return this.status[i]=this.status[i]||this.resolve(i,e,t,n),this.status[i]},e.prototype.remove=function(e,t,n){delete this.status[d(e,t)]},e.prototype.waitForCompletion=function(){return i(this,void 0,void 0,(function(){var e;return r(this,(function(t){switch(t.label){case 0:e=Object.values(this.status),t.label=1;case 1:return e.length?[4,Promise.all(e)]:[3,3];case 2:return t.sent(),e=Object.values(this.status),[3,1];case 3:return[2]}}))}))},e.prototype.resolve=function(e,t,n,o){var a,s,u,l;return i(this,void 0,void 0,(function(){var i,d,p,h,f,m,g;return r(this,(function(r){switch(r.label){case 0:i=o>="37.0.0"?"version_snackager=true&":"",d=this.snackagerURL+"/bundle/"+e+"?"+i+"platforms=ios,android,web",null===(a=this.logger)||void 0===a||a.module("Resolving dependency",e,"..."),r.label=1;case 1:r.trys.push([1,12,,13]),p=0,r.label=2;case 2:return p<30?[4,c.fetch(d)]:[3,11];case 3:return h=r.sent(),this.status[e]?200!==h.status?[3,8]:[4,h.json()]:[2];case 4:return(f=r.sent()).pending?(null===(s=this.logger)||void 0===s||s.module("Dependency is still being bundled",e,"trying again shortly"),[4,new Promise((function(e){return setTimeout(e,5e3)}))]):[3,6];case 5:return r.sent(),this.status[e]?[3,7]:[2];case 6:null===(u=this.logger)||void 0===u||u.module("Resolved dependency",e,f),delete this.status[e];try{return this.callback({name:t,version:n,sdkVersion:o},f),[2]}catch(e){return[2,Promise.reject(e)]}r.label=7;case 7:return[3,10];case 8:return[4,h.text()];case 9:throw g=r.sent(),new Error(g);case 10:return p++,[3,2];case 11:return[3,13];case 12:return m=r.sent(),g=c.createError({message:"Failed to resolve dependency '"+e+"' ("+m.message+")",fileName:e}),null===(l=this.logger)||void 0===l||l.error(g),!!this.status[e]&&(delete this.status[e],this.callback({name:t,version:n,sdkVersion:o},void 0,g)),[3,13];case 13:return[2]}}))}))},e}();n.default=p,n.getMissingDependencies=function(e,t,n){var i,r,a={};for(var l in e){var c=e[l];if(c.peerDependencies)for(var d in c.peerDependencies)if(!u.isModulePreloaded(d,t,!0)&&!e[d])if(a[d]){var p=null==n?void 0:n[d];if(!p){p=a[d].wantedVersion;var h=c.peerDependencies[d]||"*";("*"===p||"latest"===h&&"latest"===p||"*"!==h&&"latest"!==h&&("latest"===p||s.default.gt(s.default.coerce(h),s.default.coerce(p))))&&(p=h)}a[d]={dependents:o(a[d].dependents,[l]),wantedVersion:p}}else a[d]={dependents:[l],wantedVersion:null!==(r=null!==(i=null==n?void 0:n[d])&&void 0!==i?i:c.peerDependencies[d])&&void 0!==r?r:"*"}}return a},n.verifyDependency=function(e,t){var n=l.default(e),i=n.validForOldPackages,r=n.errors;if(!i){var o=e.split("/");if(o.length>=2&&!e.startsWith("@"))i=(a=l.default(o[0])).validForNewPackages,r=a.errors;else if(o.length>=2&&e.startsWith("@")){var a;i=(a=l.default(o[0]+"/"+o[1])).validForNewPackages,r=a.errors}if(!i)return c.createError({message:"Invalid dependency '"+e+"' "+((null==r?void 0:r.length)?"("+r[0]+")":""),fileName:e})}if(!u.isValidSemver(t))return c.createError({message:"Invalid dependency '"+e+"' (version '"+t+"' is not a valid semver)",fileName:e})},n.getPackageName=function(e){var t=e.split("/");return t[0].startsWith("@")&&t.length>=2?t[0]+"/"+t[1]:t[0]}},{"./utils":628,semver:801,"snack-content":556,"validate-npm-package-name":867}],609:[function(e,t,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((i=i.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},a=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};Object.defineProperty(n,"__esModule",{value:!0});var s=e("./utils"),u=function(){function e(e){this.notifyInterval=4e4,this.apiURL=e.apiURL,this.logger=e.logger,this.onSendBeaconCloseRequest=e.onSendBeaconCloseRequest}return e.prototype.setState=function(e,t){var n=t.user&&(!e.online||e.url!==t.url||e.user!==t.user),i=t.deviceId&&(!e.online||e.url!==t.url||e.deviceId!==t.deviceId);t.online&&(n||i)&&this.close(t.url,n?t.user:void 0,i?t.deviceId:void 0),e.user===t.user&&e.online===t.online&&e.url===t.url&&e.deviceId===t.deviceId&&e.onlineName===t.onlineName||this.notify(e)},e.prototype.setFocus=function(e){this.notify(e,!0)},e.prototype.getRequest=function(e,t,n){var r=n?"?deviceId="+n:"",o=e?"notify-close":"notify-alive";return{url:this.apiURL+"/--/api/v2/development-sessions/"+o+r,method:"post",headers:i({"Content-Type":"application/json"},s.createUserHeader(t))}},e.prototype.notify=function(e,t){var n,u;return r(this,void 0,void 0,(function(){var r,l,c,d,p,h,f,m,g,y,v,_=this;return o(this,(function(o){switch(o.label){case 0:if(r=e.user,l=e.online,c=e.url,d=e.deviceId,p=e.onlineName,this.notifyTimer&&(clearTimeout(this.notifyTimer),this.notifyTimer=void 0),!l||!r&&!d)return this.focusedAt=void 0,[2];this.focusedAt&&!t||(this.focusedAt=Date.now()),this.notifyTimer||(this.notifyTimer=setTimeout((function(){return _.notify(e)}),this.notifyInterval)),o.label=1;case 1:return o.trys.push([1,4,,5]),h=this.getRequest(!1,r,d),f=h.url,m=a(h,["url"]),[4,s.fetch(f,i(i({},m),{body:JSON.stringify({data:{session:{description:p,hostname:"snack",config:{},url:c,source:"snack",openedAt:this.focusedAt}}})}))];case 2:if(!(g=o.sent()).ok)throw Error(g.statusText);return[4,g.json()];case 3:return y=o.sent(),this.onSendBeaconCloseRequest({url:this.getRequest(!0,void 0,d).url,data:new Blob([JSON.stringify(i({session:{url:c}},(null===(n=y.data)||void 0===n?void 0:n.auth)?{auth:y.data.auth}:{}))],{type:"text/plain"})}),[3,5];case 4:return v=o.sent(),null===(u=this.logger)||void 0===u||u.error("Failed to advertise",v),[3,5];case 5:return[2]}}))}))},e.prototype.close=function(e,t,n){var u;return r(this,void 0,void 0,(function(){var r,l,c,d,p;return o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),r=this.getRequest(!0,t,n),l=r.url,c=a(r,["url"]),[4,s.fetch(l,i(i({},c),{body:JSON.stringify({session:{url:e}})}))];case 1:if(!(d=o.sent()).ok)throw Error(d.statusText);return[3,3];case 2:return p=o.sent(),null===(u=this.logger)||void 0===u||u.error("Failed to advertise close",p),[3,3];case 3:return[2]}}))}))},e}();n.default=u},{"./utils":628}],610:[function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((i=i.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(n,"__esModule",{value:!0});var o=e("./utils"),a=function(){function e(e){this.status={},this.apiURL=e.apiURL,this.callback=e.callback,this.logger=e.logger}return e.prototype.add=function(e,t){var n=this.status[e];return n&&n.file===t?n.promise:(this.status[e]={file:t,promise:this.upload(e,t)},this.status[e].promise)},e.prototype.remove=function(e,t){var n;t&&(null===(n=this.status[e])||void 0===n?void 0:n.file)!==t||delete this.status[e]},e.prototype.waitForCompletion=function(){return i(this,void 0,void 0,(function(){var e;return r(this,(function(t){switch(t.label){case 0:e=Object.values(this.status).map((function(e){return e.promise})),t.label=1;case 1:return e.length?[4,Promise.all(e)]:[3,3];case 2:return t.sent(),e=Object.values(this.status).map((function(e){return e.promise})),[3,1];case 3:return[2]}}))}))},e.prototype.upload=function(e,t){var n,a,s,u,l,c,d;return i(this,void 0,void 0,(function(){var i,p,h,f,m,g,y,v,_;return r(this,(function(r){switch(r.label){case 0:switch(r.trys.push([0,5,,6]),null===(n=this.logger)||void 0===n||n.module("Uploading file",e,"..."),i=void 0,p=void 0,t.type){case"CODE":i=this.apiURL+"/--/api/v2/snack/uploadCode",p={method:"POST",body:JSON.stringify({code:t.contents}),headers:{"Content-Type":"application/json"}};break;case"ASSET":if(i=this.apiURL+"/--/api/v2/snack/uploadAsset","undefined"!=typeof FormData&&t.contents instanceof FormData||"object"==typeof t.contents&&"FormData"===(null===(a=t.contents.constructor)||void 0===a?void 0:a.name))p={method:"POST",body:t.contents};else{if("undefined"==typeof FormData)throw new Error("Uploading assets is not supported in this environment. Make sure FormData is polyfilled or provide the data as a FormData object");(h=new FormData).append("asset",t.contents,(null===(s=t.contents)||void 0===s?void 0:s.name)||e),p={method:"POST",body:h}}break;default:throw new Error("Invalid file type "+t.type)}return[4,o.fetch(i,p)];case 1:return(f=r.sent()).ok?[3,3]:[4,f.text()];case 2:throw m=r.sent(),new Error(m);case 3:return[4,f.json()];case 4:if(g=r.sent(),y=g.url,(null===(u=this.status[e])||void 0===u?void 0:u.file)===t){null===(l=this.logger)||void 0===l||l.module("Uploaded file",e,y),delete this.status[e];try{this.callback({path:e,file:t},y)}catch(e){return[2,Promise.reject(e)]}}return[3,6];case 5:return v=r.sent(),_=o.createError({message:"Failed to upload file "+e+" ("+v.message+")",fileName:e}),null===(c=this.logger)||void 0===c||c.error(_),(null===(d=this.status[e])||void 0===d?void 0:d.file)===t&&(delete this.status[e],this.callback({path:e,file:t},void 0,_)),[3,6];case 6:return[2]}}))}))},e}();n.default=a},{"./utils":628}],611:[function(e,t,n){"use strict";var i=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i};function r(e,t,n,r){return function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];e&&console.log.apply(console,i(["%c "+t.toUpperCase()+" ","background: "+n+"; color: "+(null!=r?r:"#fff")],o))}}Object.defineProperty(n,"__esModule",{value:!0}),n.createLogger=void 0,n.createLogger=function(e){return{info:r(e,"info","#2196f3"),warn:r(e,"warn","#FF9800"),error:r(e,"error","#f44336"),comm:r(e,"comm","#DBD64E"),comm_recv:r(e,"comm","#DBD64E","#000"),module:r(e,"module","#DB14C7")}}},{}],612:[function(e,t,n){(function(t){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},s=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((i=i.apply(e,t||[])).next())}))},u=this&&this.__generator||function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var c=l(e("lodash/mapValues")),d=l(e("nullthrows")),p=e("snack-content"),h=a(e("./DependencyResolver")),f=l(e("./DevSession")),m=l(e("./FileUploader")),g=e("./Logger"),y=a(e("./State")),v=e("./WantedVersions"),_=a(e("./defaultConfig")),b=e("./transports"),w=e("./transports/webPlayer"),E=e("./utils"),S=function(){function e(e){var n,r,o,a,l,c,S,T,C,x,A,k,I,D,O,P=this;this.stateListeners=new Set,this.logListeners=new Set,this.transportListeners={},this.uploadAssetAsync=function(e){return s(P,void 0,void 0,(function(){var t,n;return u(this,(function(i){switch(i.label){case 0:return t="",(n=new m.default({apiURL:this.apiURL,logger:this.logger,callback:function(e,n,i){if(i)throw i;n&&(t=n)}})).add("asset",{type:"ASSET",contents:e}),[4,n.waitForCompletion()];case 1:return i.sent(),[2,t]}}))}))},this.onFileUploaded=function(e,t,n){P.setState((function(r){var o=r.files;return{files:y.addObject(o,e.path,i(i(i({},e.file),t?{contents:t}:{}),n?{error:n}:{}))}}))},this.onWantedDependencyVersions=function(e,t,n){var i=n?{}:t;P.setState((function(e){var t=e.dependencies,n=e.sdkVersion;return{wantedDependencyVersions:i,missingDependencies:h.getMissingDependencies(t,n,i)}}))},this.onDependencyResolved=function(e,t,n){P.setState((function(r){var o=r.dependencies,a=r.sdkVersion,s=r.wantedDependencyVersions,u=y.addObject(o,e.name,i(i(i(i({},o[e.name]),{version:e.version}),t?{handle:t.handle,peerDependencies:t.dependencies}:{}),n?{error:n}:{}));return u!==o?{dependencies:u,missingDependencies:h.getMissingDependencies(u,a,s)}:null}))},this.onDevSessionSendBeaconCloseRequest=function(e){P.setState((function(t){return{sendBeaconCloseRequest:e}}))},this.onTransportEvent=function(e,t){var n,i,r,o=t.type,a=t.data,s=t.connectionId;switch(o){case"connect":null===(n=P.logger)||void 0===n||n.comm("Client connected ("+e+")",s),P.onClientConnected(e,s,a);break;case"disconnect":null===(i=P.logger)||void 0===i||i.comm("Client disconnected ("+e+")",s,a),P.onClientDisconnected(e,s,a);break;case"protocol_message":null===(r=P.logger)||void 0===r||r.comm_recv("Message received ("+e+")",s,a),P.onProtocolMessageReceived(e,s,t.data);break;case"send_message":P.onProtocolMessageSent(e,t.data)}};var N=E.createChannel(e.channel),R=p.validateSDKVersion(null!==(n=e.sdkVersion)&&void 0!==n?n:_.default.sdkVersion),L=e.dependencies?i({},e.dependencies):{};this.options=e,this.apiURL=null!==(r=e.apiURL)&&void 0!==r?r:_.default.apiURL,this.snackpubURL=null!==(o=e.snackpubURL)&&void 0!==o?o:_.default.snackpubURL,this.host=null!==(a=e.host)&&void 0!==a?a:new URL(this.apiURL).host,this.logger=e.verbose?g.createLogger(!0):void 0,this.codeChangesDelay=null!==(l=e.codeChangesDelay)&&void 0!==l?l:0,this.reloadTimeout=null!==(c=e.reloadTimeout)&&void 0!==c?c:0,this.previewTimeout=null!==(S=e.previewTimeout)&&void 0!==S?S:1e4,this.createTransport=null!==(T=e.createTransport)&&void 0!==T?T:b.createTransport;var M=null!==(C=e.webPlayerURL)&&void 0!==C?C:_.default.webPlayerURL,F=null!==(x=e.transports)&&void 0!==x?x:{};e.online&&(F=y.addObject(F,"pubsub",this.createTransport({name:"pubsub",channel:N,verbose:e.verbose,apiURL:this.apiURL,snackpubURL:this.snackpubURL}))),e.webPreviewRef&&(F=y.addObject(F,"webplayer",w.createWebPlayerTransport({ref:e.webPreviewRef,verbose:e.verbose,window:d.default("undefined"!=typeof window?window:t),webPlayerURL:M}))),this.state=this.updateDerivedState({disabled:!!e.disabled,unsaved:!1,name:null!==(A=e.name)&&void 0!==A?A:"",description:null!==(k=e.description)&&void 0!==k?k:"",sdkVersion:R,files:null!==(I=e.files)&&void 0!==I?I:{},dependencies:L,missingDependencies:h.getMissingDependencies(L,R),connectedClients:{},transports:F,user:e.user,id:e.id,saveURL:e.id?E.createURL(this.host,R,void 0,e.id):void 0,savedSDKVersion:e.id?R:void 0,online:!1,url:E.createURL(this.host,R,N,e.id),channel:N,deviceId:e.deviceId,snackId:e.snackId,accountSnackId:e.accountSnackId,webPlayerURL:M},_.SnackIdentityState),this.state.unsaved=!1,this.wantedDependencyVersions=new v.WantedDependencyVersions({apiUrl:this.apiURL,logger:this.logger,callback:this.onWantedDependencyVersions}),this.dependencyResolver=new h.default({snackagerURL:null!==(D=e.snackagerURL)&&void 0!==D?D:_.default.snackagerURL,logger:this.logger,callback:this.onDependencyResolved}),this.fileUploader=new m.default({apiURL:this.apiURL,logger:this.logger,callback:this.onFileUploaded}),this.DevSession=new f.default({apiURL:this.apiURL,logger:this.logger,onSendBeaconCloseRequest:this.onDevSessionSendBeaconCloseRequest}),null===(O=this.logger)||void 0===O||O.info("Snack created",this.getState()),this.onStateChanged(this.state,_.SnackIdentityState)}return e.prototype.setSDKVersion=function(e){return p.validateSDKVersion(e),this.setState((function(t){return t.sdkVersion!==e?{sdkVersion:e,missingDependencies:h.getMissingDependencies(t.dependencies,e,t.wantedDependencyVersions)}:null}))},e.prototype.setName=function(e){return this.setState((function(t){return t.name!==e?{name:e}:null}))},e.prototype.setDescription=function(e){return this.setState((function(t){return t.description!==e?{description:e}:null}))},e.prototype.setUser=function(e){return this.setState((function(t){return t.user!==e?{user:e}:null}))},e.prototype.setDeviceId=function(e){return this.setState((function(t){return t.deviceId!==e?{deviceId:e}:null}))},e.prototype.setFocus=function(){this.DevSession.setFocus(this.state)},e.prototype.setCodeChangesDelay=function(e){this.codeChangesDelay!==e&&(this.codeChangesDelay=e,this._sendCodeChangesDebounced(this.state))},e.prototype.setWebPlayerURL=function(e){var n=this;this.setState((function(i){var r=null!=e?e:_.default.webPlayerURL;if(i.webPlayerURL!==r&&n.options.webPreviewRef){var o=i.transports;return{webPlayerURL:r,transports:o=y.addObject(o,"webplayer",w.createWebPlayerTransport({ref:n.options.webPreviewRef,verbose:n.options.verbose,window:d.default("undefined"!=typeof window?window:t),webPlayerURL:r}))}}return null}))},e.prototype.sendCodeChanges=function(){this._sendCodeChangesDebounced(this.state,!0)},e.prototype._sendCodeChangesDebounced=function(e,t){var n=this;if(this.codeChangesTimer&&(clearTimeout(this.codeChangesTimer),this.codeChangesTimer=void 0),!t&&this.codeChangesDelay>0)this.codeChangesTimer=setTimeout((function(){return n._sendCodeChangesDebounced(e,!0)}),this.codeChangesDelay);else if(t||!(this.codeChangesDelay<0)){var i=e.transports,r=e.files,o=e.dependencies,a=e.sdkVersion;for(var s in i)i[s].postMessage({type:"update_code",data:{files:r,dependencies:o,sdkVersion:a}})}},e.prototype.saveAsync=function(e){var t,n,r,o,a,l;return s(this,void 0,void 0,(function(){var s,d,p,h,f,m,g,v,_,b,w,S,T,C,x,A,k,I,D=this;return u(this,(function(u){switch(u.label){case 0:return s=this.state,[4,this.fileUploader.waitForCompletion()];case 1:u.sent(),d=this.state,p=d.name,h=d.description,f=d.sdkVersion,m=d.files,g=d.dependencies,v=d.user,u.label=2;case 2:return u.trys.push([2,5,,6]),_={manifest:{sdkVersion:f,name:p,description:h,dependencies:c.default(g,(function(e){return e.version}))},code:c.default(m,(function(e){return delete(e=i({},e)).error,e})),dependencies:c.default(g,(function(e){return delete(e=i({},e)).error,e})),isDraft:null!==(t=null==e?void 0:e.isDraft)&&void 0!==t&&t},null===(n=this.logger)||void 0===n||n.info("Saving...",_),b=this.getPreviewAsync(),w=this.apiURL+"/--/api/v2/snack/save",[4,E.fetch(w,{method:"POST",body:JSON.stringify(_),headers:i({"Content-Type":"application/json"},(null==e?void 0:e.ignoreUser)?{}:E.createUserHeader(v))})];case 3:return[4,u.sent().json()];case 4:if(!(null==(S=u.sent())?void 0:S.id))throw new Error((null===(o=null===(r=S.errors)||void 0===r?void 0:r[0])||void 0===o?void 0:o.message)||"Failed to save");return null===(a=this.logger)||void 0===a||a.info("Saved",S),T=S.id,C=E.createURL(this.host,f,void 0,T),x=S.hashId,A=S.accountSnackId,k=S.snackId,this.setState((function(t){return{id:T,saveURL:C,unsaved:y.isUnsaved(t,s),savedSDKVersion:(null==e?void 0:e.isDraft)&&t.savedSDKVersion?t.savedSDKVersion:f,accountSnackId:A,snackId:k}})),b.then((function(e){var t=Object.values(e).filter((function(e){return e.previewURL})).sort((function(e,t){var n,i;return(null!==(n=e.previewTimestamp)&&void 0!==n?n:0)-(null!==(i=t.previewTimestamp)&&void 0!==i?i:0)}));t.length&&D.uploadPreview(T,t[0].previewURL,"error"!==t[0].status)})),[2,{id:T,url:C,hashId:x,accountSnackId:A,snackId:k}];case 5:throw I=u.sent(),null===(l=this.logger)||void 0===l||l.error(I),I;case 6:return[2]}}))}))},e.prototype.getDownloadURLAsync=function(e){return s(this,void 0,void 0,(function(){var t;return u(this,(function(n){switch(n.label){case 0:return[4,this.fileUploader.waitForCompletion()];case 1:return n.sent(),(t=this.getState()).id&&!t.unsaved?[3,3]:[4,this.saveAsync(e)];case 2:n.sent(),t=this.getState(),n.label=3;case 3:return[2,this.apiURL+"/--/api/v2/snack/download/"+t.id]}}))}))},e.prototype.uploadPreview=function(e,t,n){var i,r,o,a,l,c;return s(this,void 0,void 0,(function(){var s,d,p,h;return u(this,(function(u){switch(u.label){case 0:s=this.apiURL+"/--/api/v2/snack/updateMetadata",d={id:e,previewLocation:t,status:n?"SUCCESS":"FAILURE"},null===(i=this.logger)||void 0===i||i.info("Uploading preview...",d),u.label=1;case 1:return u.trys.push([1,4,,5]),[4,E.fetch(s,{method:"POST",body:JSON.stringify(d),headers:{"Content-Type":"application/json"}})];case 2:return[4,u.sent().json()];case 3:if(!(p=u.sent()).id)throw new Error(null!==(l=null===(a=null===(o=p.errors)||void 0===o?void 0:o[0])||void 0===a?void 0:a.message)&&void 0!==l?l:"Unknown error");return null===(r=this.logger)||void 0===r||r.info("Uploaded preview",p),[3,5];case 4:return h=u.sent(),null===(c=this.logger)||void 0===c||c.error("Failed to upload preview",h),[3,5];case 5:return[2]}}))}))},e.prototype.getState=function(){return this.state},e.prototype.getStateAsync=function(){return s(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return[4,this.wantedDependencyVersions.waitForCompletion()];case 1:return e.sent(),[4,this.dependencyResolver.waitForCompletion()];case 2:return e.sent(),[4,this.fileUploader.waitForCompletion()];case 3:return e.sent(),[2,this.getState()]}}))}))},e.prototype.addStateListener=function(e){var t=this;return this.stateListeners.add(e),function(){return t.stateListeners.delete(e)}},e.prototype.setState=function(e){var t=e(this.state);if(t){var n=this.state,r=i(i({},n),t);this.state=this.updateDerivedState(r,n),this.onStateChanged(r,n),this.stateListeners.forEach((function(e){return e(r,n)}))}},e.prototype.updateDerivedState=function(e,t){return e.unsaved=e.unsaved||y.isUnsaved(e,t),this.updateDerivedOnlineState(e,t),this.updateDerivedDependenciesState(e,t),this.updateDerivedWebPreviewState(e,t),e},e.prototype.onStateChanged=function(e,t){this.updateWantedDependencyVersions(e,t),this.updateDependencyResolver(e,t),this.updateFileUploader(e,t),this.updateTransports(e,t),this.DevSession.setState(e,t)},e.prototype.updateFiles=function(e){return this.setState((function(t){var n=y.updateObjects(t.files,e);return n!==t.files?{files:n}:null}))},e.prototype.updateFileUploader=function(e,t){var n,i=e.files,r=t.files;if(!t.disabled&&(!e.disabled&&i!==r||e.disabled))for(var o in r)i[o]&&i[o].contents===r[o].contents&&!e.disabled||this.fileUploader.remove(o,r[o]);if(!e.disabled&&(i!==r||t.disabled))for(var o in i){var a=i[o];"ASSET"!==a.type||"object"!=typeof a.contents||a.error||(null===(n=r[o])||void 0===n?void 0:n.contents)===a.contents&&!t.disabled||this.fileUploader.add(o,a)}},e.prototype.updateDependencies=function(e){return this.setState((function(t){var n=y.updateObjects(t.dependencies,e);return n!==t.dependencies?{dependencies:n,missingDependencies:h.getMissingDependencies(n,t.sdkVersion,t.wantedDependencyVersions)}:null}))},e.prototype.updateDerivedDependenciesState=function(e,t){var n,r,o,a;if(e.wantedDependencyVersions!==t.wantedDependencyVersions||e.dependencies!==t.dependencies)for(var s in e.dependencies){var u=e.dependencies[s],l=null!==(a=null!==(r=null===(n=e.wantedDependencyVersions)||void 0===n?void 0:n[s])&&void 0!==r?r:null===(o=e.wantedDependencyVersions)||void 0===o?void 0:o[h.getPackageName(s)])&&void 0!==a?a:void 0;if(u.wantedVersion!==l){e.dependencies=e.dependencies===t.dependencies?i({},e.dependencies):e.dependencies;var c=("*"===u.version||u.wantedVersion&&u.version===u.wantedVersion)&&l?l:u.version;e.dependencies[s]=i(i({},u),{version:c,wantedVersion:l}),u.handle&&u.version!==c&&delete e.dependencies[s].handle}}if(e.dependencies!==t.dependencies)for(var d in e.dependencies){if((u=e.dependencies[d])!==t.dependencies[d]){var p=h.verifyDependency(d,u.version);p&&(e.dependencies[d]=i(i({},u),{error:p}))}}},e.prototype.updateWantedDependencyVersions=function(e,t){!e.disabled&&Object.keys(e.dependencies).length&&this.wantedDependencyVersions.setSDKVersion(e.sdkVersion)},e.prototype.updateDependencyResolver=function(e,t){var n,i,r,o=e.dependencies,a=t.dependencies;if(!t.disabled&&(o!==a||e.disabled||e.sdkVersion!==t.sdkVersion))for(var s in a)(!o[s]||o[s].version!==a[s].version||e.disabled||p.isModulePreloaded(s,e.sdkVersion)&&!p.isModulePreloaded(s,t.sdkVersion))&&this.dependencyResolver.remove(s,a[s].version,t.sdkVersion);if(!e.disabled&&(o!==a||t.disabled||e.sdkVersion!==t.sdkVersion||e.wantedDependencyVersions!==t.wantedDependencyVersions))for(var u in o){var l=o[u];l.handle||l.error||p.isModulePreloaded(u,e.sdkVersion)||"*"===l.version&&!e.wantedDependencyVersions||!((null===(n=a[u])||void 0===n?void 0:n.version)!==l.version||"*"===l.version&&!t.wantedDependencyVersions||(null===(i=a[u])||void 0===i?void 0:i.handle)||(null===(r=a[u])||void 0===r?void 0:r.error)||t.disabled)||this.dependencyResolver.add(u,l.version,e.sdkVersion)}},e.prototype.setDisabled=function(e){return this.setState((function(t){return e!==t.disabled?{disabled:e}:null}))},e.prototype.setOnline=function(e){var t=this;return this.setState((function(n){if(e&&!n.transports.pubsub)return{transports:y.addObject(n.transports,"pubsub",t.createTransport({name:"pubsub",apiURL:t.apiURL,snackpubURL:t.snackpubURL,channel:n.channel,verbose:!!t.logger}))};if(!e&&n.transports.pubsub){var i=n.connectedClients;for(var r in n.connectedClients)"pubsub"===n.connectedClients[r].transport&&(i=y.removeObject(i,r));return{transports:y.removeObject(n.transports,"pubsub"),connectedClients:i}}return null}))},e.prototype.updateDerivedOnlineState=function(e,t){var n=e.transports,i=e.sdkVersion,r=e.channel,o=e.id,a=e.name,s=e.disabled,u=e.savedSDKVersion;n===t.transports&&i===t.sdkVersion&&r===t.channel&&o===t.id&&a===t.name&&u===t.savedSDKVersion||(e.online=!!n.pubsub&&!s,e.url=E.createURL(this.host,i,r,u&&u!==i?void 0:o),e.onlineName=""+(a||"Unnamed Snack"))},e.prototype.updateDerivedWebPreviewState=function(e,t){var n=e.transports,i=e.sdkVersion,r=e.url,o=e.webPlayerURL;(r&&!t.url||i!==t.sdkVersion||o!==t.webPlayerURL)&&(e.webPreviewURL=n.webplayer&&o?w.getWebPlayerIFrameURL(o,i,r,!!this.logger):void 0)},e.prototype.reloadConnectedClients=function(){var e,t=new Set;this.setState((function(e){var n=e.connectedClients;for(var r in e.connectedClients){var o=e.connectedClients[r];t.add(e.transports[o.transport]),n=y.addObject(n,r,i(i({},o),{status:"reloading"}))}return n!==e.connectedClients?{connectedClients:n}:null}));var n={type:"RELOAD_SNACK"};t.size&&(null===(e=this.logger)||void 0===e||e.comm("Reloading..."),t.forEach((function(e){e.postMessage({type:"protocol_message",data:n})})))},e.prototype.getPreviewAsync=function(){var e,t=this,n=this.state,i=n.connectedClients,r=n.transports,o=new Set;if(Object.values(i).forEach((function(e){var t=e.transport;return o.add(r[t])})),!o.size)return Promise.resolve(i);var a={type:"REQUEST_STATUS"};return o.size&&(null===(e=this.logger)||void 0===e||e.comm("Requesting preview..."),o.forEach((function(e){e.postMessage({type:"protocol_message",data:a})}))),new Promise((function(e,n){var r,o=new Set,a=t.addStateListener((function(t,n){var s;if(t.connectedClients!==n.connectedClients)for(var u in i)if((i[u].previewTimestamp!==(null===(s=t.connectedClients[u])||void 0===s?void 0:s.previewTimestamp)||!t.connectedClients[u])&&(o.add(u),o.size===Object.values(i).length))return a(),clearTimeout(r),void e(t.connectedClients)}));r=setTimeout((function(){a(),n(new Error("Operation timed out"))}),t.previewTimeout)}))},e.prototype.updateTransports=function(e,t){var n=this,i=e.transports,r=t.transports;if(!t.disabled&&(i!==r||e.disabled))for(var o in r)this.transportListeners[o]&&(i[o]!==r[o]||e.disabled)&&(r[o].removeEventListener("message",this.transportListeners[o]),delete this.transportListeners[o],r[o].postMessage({type:"stop"}));if(!e.disabled&&(i!==r||t.disabled)){var a=function(e){s.transportListeners[e]||i[e]===r[e]&&!t.disabled||(s.transportListeners[e]=function(t){return n.onTransportEvent(e,t)},i[e].addEventListener("message",s.transportListeners[e]),i[e].postMessage({type:"start"}))},s=this;for(var o in i)a(o)}e.disabled||y.isBusy(e)||i===r&&!y.isCodeChanged(e,t)&&!t.disabled||this._sendCodeChangesDebounced(e,r!==i||!y.isBusy(e)&&y.isBusy(t))},e.prototype.onClientConnected=function(e,t,n){this.setState((function(i){return{connectedClients:y.addObject(i.connectedClients,t,{transport:e,id:n.id,name:n.name,platform:n.platform,status:"ok"})}}))},e.prototype.onClientDisconnected=function(e,t,n){var i=this;this.setState((function(e){var n=e.connectedClients[t];if("reloading"===(null==n?void 0:n.status)&&i.reloadTimeout>=0)return i.pruneConnectionsTimer&&(clearTimeout(i.pruneConnectionsTimer),i.pruneConnectionsTimer=void 0),i.pruneConnectionsTimer=setTimeout((function(){i.pruneConnectionsTimer=void 0,i.setState((function(e){var t=e.connectedClients;for(var n in e.connectedClients)"reloading"===e.connectedClients[n].status&&(t=y.removeObject(t,n));return t!==e.connectedClients?{connectedClients:t}:null}))}),i.reloadTimeout),null;var r=y.removeObject(e.connectedClients,t);return r!==e.connectedClients?{connectedClients:r}:null}))},e.prototype.addLogListener=function(e){var t=this;return this.logListeners.add(e),function(){return t.logListeners.delete(e)}},e.prototype.onProtocolMessageReceived=function(e,t,n){var i;if(this.state.connectedClients[t])switch(n.type){case"CONSOLE":this.onConsoleMessageReceived(t,n);break;case"ERROR":this.onErrorMessageReceived(t,n);break;case"STATUS_REPORT":this.onStatusReportMessageReceived(t,n);break;case"CODE":case"RELOAD_SNACK":case"REQUEST_STATUS":break;default:null===(i=this.logger)||void 0===i||i.error("Invalid message received",e,n)}},e.prototype.onProtocolMessageSent=function(e,t){if("CODE"===t.type)this.setState((function(t){var n=t.connectedClients;for(var r in n){var o=n[r];o.transport===e&&(n=y.addObject(n,r,i(i({},o),{error:void 0,status:"error"===o.status?"ok":o.status})))}return n!==t.connectedClients?{connectedClients:n}:null}))},e.prototype.onConsoleMessageReceived=function(e,t){var n=t.payload||[],i={type:t.method,connectedClient:this.state.connectedClients[e],message:n.join(" ")};this.logListeners.forEach((function(e){return e(i)}))},e.prototype.onErrorMessageReceived=function(e,t){var n,r,o;try{var a=JSON.parse(t.error),s=E.createError({name:a.name||"Error",message:a.message||"",fileName:a.fileName,lineNumber:a.lineNumber||(null===(n=a.loc)||void 0===n?void 0:n.line)||a.line,columnNumber:a.columnNumber||(null===(r=a.loc)||void 0===r?void 0:r.column)||a.column,stack:a.stack});this.setState((function(t){return{connectedClients:y.addObject(t.connectedClients,e,i(i({},t.connectedClients[e]),{error:s,status:"error"}))}}))}catch(e){null===(o=this.logger)||void 0===o||o.error("Failed to parse received error message",t)}},e.prototype.onStatusReportMessageReceived=function(e,t){var n=t.previewLocation;this.setState((function(t){return{connectedClients:y.addObject(t.connectedClients,e,i(i({},t.connectedClients[e]),{previewURL:n,previewTimestamp:Date.now()}))}}))},e}();n.default=S}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./DependencyResolver":608,"./DevSession":609,"./FileUploader":610,"./Logger":611,"./State":613,"./WantedVersions":614,"./defaultConfig":615,"./transports":624,"./transports/webPlayer":626,"./utils":628,"lodash/mapValues":766,nullthrows:513,"snack-content":556}],613:[function(e,t,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.isUnsaved=n.isCodeChanged=n.isBusy=n.updateObjects=n.removeObject=n.removeObjects=n.addObject=n.addObjects=void 0;var o=r(e("lodash/isEqual")),a=e("snack-content");function s(e,t,n){var r=null;for(var a in t)(n?n(t[a],e[a]):!o.default(t[a],e[a]))&&((r=null!=r?r:i({},e))[a]=t[a]);return null!=r?r:e}function u(e,t){if(!t.length)return e;var n=null;return t.forEach((function(t){e[t]&&delete(n=null!=n?n:i({},e))[t]})),null!=n?n:e}n.addObjects=s,n.addObject=function(e,t,n,i){var r;return s(e,((r={})[t]=n,r),i)},n.removeObjects=u,n.removeObject=function(e,t){return u(e,[t])},n.updateObjects=function(e,t,n){void 0===n&&(n=o.default);var r=null;for(var a in t){var s=t[a];null===s?e[a]&&delete(r=null!=r?r:i({},e))[a]:n(s,e[a])||((r=null!=r?r:i({},e))[a]=s)}return null!=r?r:e},n.isBusy=function(e){return!!Object.keys(e.dependencies).find((function(t){return!e.dependencies[t].handle&&!a.isModulePreloaded(t,e.sdkVersion)}))||!!Object.values(e.files).find((function(e){return"ASSET"===e.type&&"string"!=typeof e.contents}))},n.isCodeChanged=function(e,t){return e.dependencies!==t.dependencies||e.files!==t.files||e.sdkVersion!==t.sdkVersion},n.isUnsaved=function(e,t){return e.dependencies!==t.dependencies||e.files!==t.files||e.sdkVersion!==t.sdkVersion||e.name!==t.name||e.description!==t.description}},{"lodash/isEqual":758,"snack-content":556}],614:[function(e,t,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((i=i.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(n,"__esModule",{value:!0}),n.WantedDependencyVersions=void 0;var a=e("snack-content"),s=e("./utils"),u=function(){function e(e){this.apiUrl=e.apiUrl,this.logger=e.logger,this.callback=e.callback,this.promise=Promise.resolve()}return e.prototype.setSDKVersion=function(e){this.sdkVersion!==e&&(this.sdkVersion=e,this.promise=this.fetchModules(e))},e.prototype.waitForCompletion=function(){return this.promise},e.prototype.fetchModules=function(e){var t,n,s,u;return r(this,void 0,void 0,(function(){var r,l,c,d,p,h;return o(this,(function(o){switch(o.label){case 0:if(this.sdkVersion!==e)return[2];o.label=1;case 1:return o.trys.push([1,3,,4]),null===(t=this.logger)||void 0===t||t.module("fetching versioned modules for SDK",e,"..."),r=(null===(n=a.sdks[e])||void 0===n?void 0:n.version)||e,[4,Promise.all([this.fetchRemoteVersionedModules(r),this.fetchBundledNativeModules(r)])];case 2:return l=o.sent(),c=l[0],d=l[1],p=i(i({},c),d),this.sdkVersion===e&&(null===(s=this.logger)||void 0===s||s.module("fetched versioned modules for SDK",e,p),this.callback(e,p)),[3,4];case 3:return h=o.sent(),this.sdkVersion===e&&(null===(u=this.logger)||void 0===u||u.error(h),this.callback(e,void 0,h)),[3,4];case 4:return[2]}}))}))},e.prototype.fetchBundledNativeModules=function(e){var t=encodeURIComponent(e);return s.fetch("https://cdn.jsdelivr.net/npm/expo@"+t+"/bundledNativeModules.json").then((function(e){return e.json()})).then((function(e){return e||{}}))},e.prototype.fetchRemoteVersionedModules=function(e){var t=this;return s.fetch(this.apiUrl+"/--/api/v2/versions/latest").then((function(e){return e.json()})).then((function(n){return t.normalizeRemoteVersionResponse(e,n)}))},e.prototype.normalizeRemoteVersionResponse=function(e,t){var n,r;void 0===t&&(t={});var o=null===(r=null===(n=null==t?void 0:t.data)||void 0===n?void 0:n.sdkVersions)||void 0===r?void 0:r[e];if(!o)return{};var a=o.relatedPackages,s=o.facebookReactVersion,u=o.facebookReactNativeVersion,l=s?{react:s,"react-dom":s}:void 0;return i(i(i({},a),l),{"react-native":u})},e}();n.WantedDependencyVersions=u},{"./utils":628,"snack-content":556}],615:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.SnackIdentityState=n.webPlayerURL=n.snackpubURL=n.snackagerURL=n.apiURL=void 0;var i=e("snack-content");n.apiURL="https://exp.host",n.snackagerURL="https://snackager.expo.io",n.snackpubURL="https://snackpub.expo.dev",n.webPlayerURL="https://snack-web-player.s3.us-west-1.amazonaws.com/v2/%%SDK_VERSION%%",n.SnackIdentityState={sdkVersion:i.defaultSdkVersion,name:"",description:"",dependencies:{},missingDependencies:{},files:{},connectedClients:{},transports:{},disabled:!1,unsaved:!1,online:!1,url:"",channel:""};var r={apiURL:n.apiURL,snackagerURL:n.snackagerURL,snackpubURL:n.snackpubURL,sdkVersion:i.defaultSdkVersion,webPlayerURL:n.webPlayerURL};n.default=r},{"snack-content":556}],616:[function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.Snack=n.defaultConfig=n.getDeprecatedModule=n.standardizeDependencies=n.isFeatureSupported=n.getSupportedSDKVersions=n.isValidSemver=n.getPreloadedModules=n.isModulePreloaded=void 0;var a=e("snack-content");Object.defineProperty(n,"isModulePreloaded",{enumerable:!0,get:function(){return a.isModulePreloaded}}),Object.defineProperty(n,"getPreloadedModules",{enumerable:!0,get:function(){return a.getPreloadedModules}}),Object.defineProperty(n,"isValidSemver",{enumerable:!0,get:function(){return a.isValidSemver}}),Object.defineProperty(n,"getSupportedSDKVersions",{enumerable:!0,get:function(){return a.getSupportedSDKVersions}}),Object.defineProperty(n,"isFeatureSupported",{enumerable:!0,get:function(){return a.isFeatureSupported}}),Object.defineProperty(n,"standardizeDependencies",{enumerable:!0,get:function(){return a.standardizeDependencies}}),Object.defineProperty(n,"getDeprecatedModule",{enumerable:!0,get:function(){return a.getDeprecatedModule}});var s=o(e("./Session"));n.Snack=s.default;var u=o(e("./defaultConfig"));n.defaultConfig=u.default,r(e("./transports"),n),r(e("./types"),n)},{"./Session":612,"./defaultConfig":615,"./transports":624,"./types":627,"snack-content":556}],617:[function(e,t,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.getFileDiff=void 0;var o=e("diff"),a=e("snack-content"),s=e("ua-parser-js"),u=r(e("../FileUploader")),l=e("../defaultConfig"),c={files:l.SnackIdentityState.files,dependencies:l.SnackIdentityState.dependencies,sdkVersion:l.SnackIdentityState.sdkVersion};function d(e,t){var n=o.createPatch("code",e,t,"","",{context:0});if(n)return n;throw new Error("Error creating a file diff")}n.getFileDiff=d;var p=function(){function e(e){var t=this;this.code=c,this.placeholderURLs={},this.uploadedURLs={},this.onFileUploaded=function(e,n,i){var r=e.path;if(delete t.placeholderURLs[r],n&&(t.uploadedURLs[r]=n,!Object.keys(t.placeholderURLs).length)){var o=t.createCodeMessage(t.code,t.codeMessage,t.code);t.verifyCodeMessageSize(o)&&t.callback(o,t.code)}},this.logger=e.logger,this.callback=e.callback,this.verifyCodeMessageSize=e.verifyCodeMessageSize,this.maxDiffPlaceholder=e.maxDiffPlaceholder,this.codeUploader=e.apiURL?new u.default({apiURL:e.apiURL,logger:e.logger,callback:this.onFileUploaded}):void 0}return e.prototype.setCode=function(e){var t,n,i;if(e!==this.code){var r=this.code,o=e.files;for(var a in this.code=e,r.files)r.files[a].contents!==(null===(t=o[a])||void 0===t?void 0:t.contents)&&(delete this.placeholderURLs[a],delete this.uploadedURLs[a],null===(n=this.codeUploader)||void 0===n||n.remove(a,r.files[a]));var s=this.createCodeMessage(e,this.codeMessage,r);if(this.codeMessage=s,this.verifyCodeMessageSize(s))Object.keys(this.placeholderURLs).length||this.callback(s,e);else{if(this.codeUploader)for(var u=Object.keys(o).filter((function(e){return"CODE"===o[e].type})).sort((function(e,t){return o[t].contents.length-o[e].contents.length})),l=0;l<u.length;l++){a=u[l];if(!this.uploadedURLs[a]&&!this.placeholderURLs[a]){var c=o[a];if(this.placeholderURLs[a]="https://snack-code-uploads.s3.us-west-1.amazonaws.com/~asset/xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",this.codeUploader.add(a,c),s.diff[a]="",s.s3url[a]=this.placeholderURLs[a],this.verifyCodeMessageSize(s))return}}null===(i=this.logger)||void 0===i||i.error("Message size is too large")}}},e.prototype.createCodeMessage=function(e,t,n){var r=e.files,o=e.dependencies,u=e.sdkVersion,l=i({},r),c={};for(var p in r){var h=r[p];this.uploadedURLs[p]||this.placeholderURLs[p]?(l[p]="",c[p]=this.uploadedURLs[p]||this.placeholderURLs[p]):("CODE"===h.type?(null==t?void 0:t.diff[p])&&(null==n?void 0:n.files[p].contents)===e.files[p].contents?l[p]=t.diff[p]:this.maxDiffPlaceholder&&h.contents.length>=this.maxDiffPlaceholder.length?l[p]=this.maxDiffPlaceholder:l[p]=d("",h.contents):l[p]="","ASSET"===h.type&&"string"==typeof h.contents&&(c[p]=h.contents))}var f={};for(var m in o){var g=o[m];g.handle&&!a.isModulePreloaded(m,u)&&(f[m]={version:g.version,handle:g.handle,resolved:g.handle.substring(g.handle.lastIndexOf("@")+1)})}var y={expoSDKVersion:e.sdkVersion};if("undefined"!=typeof navigator&&navigator.userAgent){var v=new s.UAParser(navigator.userAgent).getResult();y.webHostName=window.location.hostname,y.webOSArchitecture=v.cpu.architecture,y.webOSFamily=v.os.name,y.webOSVersion=v.os.version,y.webLayoutEngine=v.engine.name,y.webDeviceType=v.device.type,y.webBrowser=v.browser.name,y.webBrowserVersion=v.browser.version}return{type:"CODE",diff:l,s3url:c,dependencies:f,metadata:y}},e}();n.default=p},{"../FileUploader":610,"../defaultConfig":615,diff:631,"snack-content":556,"ua-parser-js":865}],618:[function(e,t,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(){this.listener=null}return e.prototype.emitSuccessed=function(e){void 0!==this.lastEmitState&&"TRANSPORT_CONNECTION_FAILED"!==this.lastEmitState||(this.emit(i({name:"TRANSPORT_CONNECTION_SUCCEEDED"},e)),this.lastEmitState="TRANSPORT_CONNECTION_SUCCEEDED")},e.prototype.emitFailed=function(e){void 0===this.lastEmitState&&e.attempts>=5&&(this.emit(i({name:"TRANSPORT_CONNECTION_FAILED"},e)),this.lastEmitState="TRANSPORT_CONNECTION_FAILED")},e.prototype.resetState=function(){this.lastEmitState=void 0},e.prototype.setUpdateListener=function(e){this.listener=e},e.prototype.emit=function(e){var t;null===(t=this.listener)||void 0===t||t.call(this,e)},e}();n.default=new r},{}],619:[function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var r=i(e("./TransportImplPubNub")),o=i(e("./TransportImplSocketIO")),a=function(){function e(e){this.transports=[new r.default(e),new o.default(e)]}return e.prototype.addEventListener=function(e,t){for(var n=0,i=this.transports;n<i.length;n++){i[n].addEventListener(e,t)}},e.prototype.removeEventListener=function(e,t){for(var n=0,i=this.transports;n<i.length;n++){i[n].removeEventListener(e,t)}},e.prototype.postMessage=function(e){for(var t=0,n=this.transports;t<n.length;t++){n[t].postMessage(e)}},e}();n.default=a},{"./TransportImplPubNub":621,"./TransportImplSocketIO":622}],620:[function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((i=i.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var a=o(e("./CodeMessageBuilder")),s=e("../Logger"),u=function(){function e(t){var n=this;this.connectionsCount=0,this.onCodeMessageReady=function(e){var t;n.codeMessage=e,null===(t=n.logger)||void 0===t||t.comm("Sending code...",n.logSuffix),n.publish(e)};var i=t.apiURL,r=t.channel,o=t.verbose;this.channel=null!=r?r:"",this.logger=o?s.createLogger(!0):void 0,this.logSuffix=t.name?" ("+t.name+")":"",this.codeMessageBuilder=r?new a.default({verifyCodeMessageSize:this.onVerifyCodeMessageSize,callback:this.onCodeMessageReady,apiURL:i,logger:this.logger,maxDiffPlaceholder:"X".repeat(e.CODE_SIZE_LIMIT_FOR_DIFF)}):new a.default({verifyCodeMessageSize:function(){return!0},callback:this.onCodeMessageReady,logger:this.logger})}return e.prototype.addEventListener=function(e,t){this.callback=t},e.prototype.removeEventListener=function(e,t){this.callback=void 0},e.prototype.postMessage=function(e){switch(e.type){case"start":this.start();break;case"stop":this.stop();break;case"update_code":this.codeMessageBuilder.setCode(e.data);break;case"protocol_message":this.publish(e.data);break;case"synthetic_event":this.onSyntheticEvent(e.data)}},e.prototype.handleMessage=function(e,t){this.onProtocolMessage(e,t)},e.prototype.handleChannelEvent=function(e,t){var n,i,r;if("join"===e)try{var o=JSON.parse(t);this.connectionsCount++,null===(n=this.callback)||void 0===n||n.call(this,{type:"connect",connectionId:t,data:o}),this.codeMessage&&(null===(i=this.logger)||void 0===i||i.comm("Sending code...",this.logSuffix),this.publish(this.codeMessage))}catch(e){}else this.connectionsCount=Math.max(this.connectionsCount-1,0),null===(r=this.callback)||void 0===r||r.call(this,{type:"disconnect",connectionId:t,data:{}})},e.prototype.onProtocolMessage=function(e,t){var n,i;"RESEND_CODE"===t.type?this.codeMessage&&(null===(n=this.logger)||void 0===n||n.comm("Resending code...",this.logSuffix),this.publish(this.codeMessage)):null===(i=this.callback)||void 0===i||i.call(this,{type:"protocol_message",connectionId:e,data:t})},e.prototype.publish=function(e){var t,n,o;return i(this,void 0,void 0,(function(){var i;return r(this,(function(r){switch(r.label){case 0:if(!this.connectionsCount)return[2];if(!this.isStarted())return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.sendAsync(this.channel,e)];case 2:return r.sent(),[3,4];case 3:return i=r.sent(),null===(t=this.logger)||void 0===t||t.error("Failed to publish message",e.type,i,this.logSuffix),[3,4];case 4:return[3,6];case 5:null===(n=this.callback)||void 0===n||n.call(this,{type:"synthetic_event",data:e}),r.label=6;case 6:return null===(o=this.callback)||void 0===o||o.call(this,{type:"send_message",data:e}),[2]}}))}))},e.prototype.onSyntheticEvent=function(e){var t,n,i;if("string"==typeof e)try{var r=JSON.parse(e);switch(r.type){case"CONNECT":this.connectionsCount++,null===(t=this.callback)||void 0===t||t.call(this,{type:"connect",connectionId:JSON.stringify(r.device),data:r.device});break;case"DISCONNECT":this.connectionsCount=Math.max(this.connectionsCount-1,0),null===(n=this.callback)||void 0===n||n.call(this,{type:"disconnect",connectionId:JSON.stringify(r.device),data:{}});break;case"MESSAGE":this.onProtocolMessage(JSON.stringify(r.message.device),r.message)}}catch(t){null===(i=this.logger)||void 0===i||i.error("Failed to parse postMessage",t,e,this.logSuffix)}},e.CODE_SIZE_LIMIT_FOR_DIFF=32768,e}();n.default=u},{"../Logger":611,"./CodeMessageBuilder":617}],621:[function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((i=i.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.calcPubNubCodeMessageSize=void 0;var u=s(e("pubnub")),l=s(e("./TransportImplBase"));function c(e,t){return encodeURIComponent(e+JSON.stringify(t).replace(/[!~*'()]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))).length+200}n.calcPubNubCodeMessageSize=c;var d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onPubNubPresence=function(e){switch(e.action){case"join":t.handleChannelEvent("join",e.uuid);break;case"timeout":case"leave":t.handleChannelEvent("leave",e.uuid)}},t.onPubNubMessage=function(e){var n=e.message;t.handleMessage(e.publisher,n)},t.onPubNubStatus=function(e){},t}return r(t,e),t.prototype.start=function(){var e;this.stop(),this.pubNubClientId||(this.pubNubClientId=u.default.generateUUID()),this.channel&&(null===(e=this.logger)||void 0===e||e.comm("Starting channel...",this.channel,this.logSuffix),this.pubNub=new u.default({publishKey:"pub-c-2a7fd67b-333d-40db-ad2d-3255f8835f70",subscribeKey:"sub-c-0b655000-d784-11e6-b950-02ee2ddab7fe",uuid:this.pubNubClientId,ssl:!0,presenceTimeout:600,heartbeatInterval:60}),this.pubNub.addListener({presence:this.onPubNubPresence,message:this.onPubNubMessage,status:this.onPubNubStatus}),this.pubNub.subscribe({channels:[this.channel],withPresence:!0}))},t.prototype.stop=function(){var e;this.pubNub&&(null===(e=this.logger)||void 0===e||e.comm("Stopping...",this.logSuffix),this.pubNub.removeListener({presence:this.onPubNubPresence,message:this.onPubNubMessage,status:this.onPubNubStatus}),this.pubNub.unsubscribe({channels:[this.channel]}),this.pubNub.stop(),this.pubNub=void 0)},t.prototype.isStarted=function(){return null!=this.pubNub},t.prototype.sendAsync=function(e,t){var n;return o(this,void 0,void 0,(function(){return a(this,(function(i){switch(i.label){case 0:return[4,null===(n=this.pubNub)||void 0===n?void 0:n.publish({channel:e,message:t})];case 1:return i.sent(),[2]}}))}))},t.prototype.onVerifyCodeMessageSize=function(e){var t=0;for(var n in e.diff)t+=n.length+e.diff[n].length;return!(t>=l.default.CODE_SIZE_LIMIT_FOR_DIFF)&&c(this.channel,e)<l.default.CODE_SIZE_LIMIT_FOR_DIFF},t}(l.default);n.default=d},{"./TransportImplBase":620,pubnub:520}],622:[function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var a=e("socket.io-client"),s=o(e("./ConnectionMetricsEmitter")),u=o(e("./TransportImplBase")),l=function(e){function t(t){var n=e.call(this,t)||this;n.socket=null,n.onMessage=function(e){var t=e.sender,i=e.message;n.handleMessage(t,i)},n.onJoinChannel=function(e){var t,i=e.sender;""!==i&&i!==(null===(t=n.socket)||void 0===t?void 0:t.id)&&n.handleChannelEvent("join",i)},n.onLeaveChannel=function(e){var t,i=e.sender;""!==i&&i!==(null===(t=n.socket)||void 0===t?void 0:t.id)&&n.handleChannelEvent("leave",i)};var i=t.snackpubURL;if(!i)throw new Error("The `snackpubURL` option is unspecified.");return n.snackpubURL=i,n.connectionAttempts=0,n}return r(t,e),t.prototype.start=function(){var e=this;this.stop(),this.startTime=Date.now(),this.socket=a.io(this.snackpubURL,{transports:["websocket"]}),this.socket.on("connect",(function(){var t,n;null===(t=e.socket)||void 0===t||t.emit("subscribeChannel",{channel:e.channel,sender:null===(n=e.socket)||void 0===n?void 0:n.id}),e.startTime&&s.default.emitSuccessed({timeMs:Date.now()-e.startTime,attempts:e.connectionAttempts})})),this.socket.io.on("reconnect_attempt",(function(t){e.connectionAttempts=t,e.startTime&&s.default.emitFailed({timeMs:Date.now()-e.startTime,attempts:t})})),this.socket.on("message",this.onMessage),this.socket.on("joinChannel",this.onJoinChannel),this.socket.on("leaveChannel",this.onLeaveChannel),this.socket.on("terminate",(function(t){var n,i;null===(n=e.logger)||void 0===n||n.comm("Terminating connection: "+t),null===(i=e.socket)||void 0===i||i.disconnect()}))},t.prototype.stop=function(){var e;null!=this.socket&&(null===(e=this.logger)||void 0===e||e.comm("Stopping...",this.logSuffix),this.socket.offAny(),this.socket.close(),this.socket=null),this.startTime=void 0},t.prototype.isStarted=function(){return null!=this.socket},t.prototype.sendAsync=function(e,t){var n;return null===(n=this.socket)||void 0===n||n.emit("message",{channel:e,message:t,sender:this.socket.id}),Promise.resolve()},t.prototype.onVerifyCodeMessageSize=function(e){var t=0;for(var n in e.diff)t+=n.length+e.diff[n].length;return t<u.default.CODE_SIZE_LIMIT_FOR_DIFF},t}(u.default);n.default=l},{"./ConnectionMetricsEmitter":618,"./TransportImplBase":620,"socket.io-client":819}],623:[function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((i=i.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var u=s(e("assert")),l=function(e){function t(t){var n=e.call(this,{name:t.name,verbose:t.verbose})||this;n.status="stopped",n.handleDomWindowMessage=function(e){var t;if(e.origin===n.origin)try{var i=JSON.parse(e.data),r=i.type;if("CONNECT"===r){var o=JSON.stringify(i.device);n.handleChannelEvent("join",o)}else if("DISCONNECT"===r){o=JSON.stringify(i.device);n.handleChannelEvent("leave",o)}else if("MESSAGE"===r){o=JSON.stringify(i.message.device);n.handleMessage(o,i.message)}}catch(i){null===(t=n.logger)||void 0===t||t.warn("Invalid message",e.data)}};var i=new URL(t.webPlayerURL).origin;return n.currentWindow=t.window,n.targetWindowRef=t.ref,n.status="stopped",n.origin=i,n}return r(t,e),t.prototype.start=function(){var e;u.default(this.currentWindow),null===(e=this.currentWindow)||void 0===e||e.addEventListener("message",this.handleDomWindowMessage,!1),this.status="started"},t.prototype.stop=function(){u.default(this.currentWindow),this.currentWindow.removeEventListener("message",this.handleDomWindowMessage,!1),this.currentWindow=void 0,this.targetWindowRef=void 0,this.status="stopped"},t.prototype.isStarted=function(){return"started"===this.status&&null!=this.currentWindow},t.prototype.sendAsync=function(e,t){var n;return o(this,void 0,void 0,(function(){var e;return a(this,(function(i){return u.default(this.isStarted),e=null===(n=this.targetWindowRef)||void 0===n?void 0:n.current,u.default(e),e.postMessage(JSON.stringify(t),this.origin),[2]}))}))},t.prototype.onVerifyCodeMessageSize=function(e){return!0},t}(s(e("./TransportImplBase")).default);n.default=l},{"./TransportImplBase":620,assert:273}],624:[function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.createTrafficMirroringTransport=n.createTransport=n.ConnectionMetricsEmitter=void 0;var a=o(e("./TrafficMirroringTransport")),s=o(e("./TransportImplSocketIO"));r(e("./types"),n),r(e("./ConnectionMetricsEmitter"),n);var u=e("./ConnectionMetricsEmitter");Object.defineProperty(n,"ConnectionMetricsEmitter",{enumerable:!0,get:function(){return o(u).default}}),n.createTransport=function(e){return new s.default(e)},n.createTrafficMirroringTransport=function(e){return new a.default(e)}},{"./ConnectionMetricsEmitter":618,"./TrafficMirroringTransport":619,"./TransportImplSocketIO":622,"./types":625}],625:[function(e,t,n){arguments[4][560][0].apply(n,arguments)},{dup:560}],626:[function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.getWebPlayerIFrameURL=n.createWebPlayerTransport=void 0;var r=i(e("./TransportImplWebPlayer"));n.createWebPlayerTransport=function(e){return new r.default(e)},n.getWebPlayerIFrameURL=function(e,t,n,i){if(!(t<"40.0.0"||"undefined"==typeof window))return e.replace("%%SDK_VERSION%%",t.split(".")[0])+"/index.html?initialUrl="+encodeURIComponent(n)+"&origin="+encodeURIComponent(window.location.origin)+"&verbose="+i}},{"./TransportImplWebPlayer":623}],627:[function(e,t,n){arguments[4][560][0].apply(n,arguments)},{dup:560}],628:[function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.createUserHeader=n.createError=n.createURL=n.createChannel=n.fetch=void 0;var r=i(e("fetch-ponyfill")),o=e("nanoid"),a=r.default().fetch;n.fetch=a;var s="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ!_",u=o.customAlphabet(s,10);n.createChannel=function(e){if((e=null!=e?e:u()).length<6)throw new Error("Please use a channel id with more entropy");for(var t=0,n=e;t<n.length;t++){var i=n[t];if(s.indexOf(i)<0)throw new Error("Channel id contains invalid characters")}return e},n.createURL=function(e,t,n,i){return n?i?i.startsWith("@")?"exp://"+e+"/"+i+"+"+n:"exp://"+e+"/@snack/"+i+"+"+n:"exp://"+e+"/@snack/sdk."+t+"-"+n:i?"exp://"+e+"/"+(i.match(/.*\/.*/)?i:"@snack/"+i):""},n.createError=function(e){var t=new Error(e.message);return e.name&&(t.name=e.name),e.fileName&&(t.fileName=e.fileName),e.lineNumber&&(t.lineNumber=e.lineNumber),e.columnNumber&&(t.columnNumber=e.columnNumber),e.stack&&(t.stack=e.stack),t},n.createUserHeader=function(e){return(null==e?void 0:e.sessionSecret)?{"Expo-Session":e.sessionSecret}:(null==e?void 0:e.accessToken)?{Authorization:"Bearer "+e.accessToken}:{}}},{"fetch-ponyfill":428,nanoid:511}],629:[function(e,t,n){(function(i){n.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;e.splice(1,0,n,"color: inherit");let i=0,r=0;e[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(i++,"%c"===e&&(r=i))})),e.splice(r,0,n)},n.save=function(e){try{e?n.storage.setItem("debug",e):n.storage.removeItem("debug")}catch(e){}},n.load=function(){let e;try{e=n.storage.getItem("debug")}catch(e){}!e&&void 0!==i&&"env"in i&&(e=i.env.DEBUG);return e},n.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},n.storage=function(){try{return localStorage}catch(e){}}(),n.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),n.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],n.log=console.debug||console.log||(()=>{}),t.exports=e("./common")(n);const{formatters:r}=t.exports;r.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(this,e("_process"))},{"./common":630,_process:519}],630:[function(e,t,n){t.exports=function(t){function n(e){let t,r,o,a=null;function s(...e){if(!s.enabled)return;const i=s,r=Number(new Date),o=r-(t||r);i.diff=o,i.prev=t,i.curr=r,t=r,e[0]=n.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((t,r)=>{if("%%"===t)return"%";a++;const o=n.formatters[r];if("function"==typeof o){const n=e[a];t=o.call(i,n),e.splice(a,1),a--}return t})),n.formatArgs.call(i,e);(i.log||n.log).apply(i,e)}return s.namespace=e,s.useColors=n.useColors(),s.color=n.selectColor(e),s.extend=i,s.destroy=n.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==a?a:(r!==n.namespaces&&(r=n.namespaces,o=n.enabled(e)),o),set:e=>{a=e}}),"function"==typeof n.init&&n.init(s),s}function i(e,t){const i=n(this.namespace+(void 0===t?":":t)+e);return i.log=this.log,i}function r(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return n.debug=n,n.default=n,n.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},n.disable=function(){const e=[...n.names.map(r),...n.skips.map(r).map((e=>"-"+e))].join(",");return n.enable(""),e},n.enable=function(e){let t;n.save(e),n.namespaces=e,n.names=[],n.skips=[];const i=("string"==typeof e?e:"").split(/[\s,]+/),r=i.length;for(t=0;t<r;t++)i[t]&&("-"===(e=i[t].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.slice(1)+"$")):n.names.push(new RegExp("^"+e+"$")))},n.enabled=function(e){if("*"===e[e.length-1])return!0;let t,i;for(t=0,i=n.skips.length;t<i;t++)if(n.skips[t].test(e))return!1;for(t=0,i=n.names.length;t<i;t++)if(n.names[t].test(e))return!0;return!1},n.humanize=e("ms"),n.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(t).forEach((e=>{n[e]=t[e]})),n.names=[],n.skips=[],n.formatters={},n.selectColor=function(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return n.colors[Math.abs(t)%n.colors.length]},n.enable(n.load()),n}},{ms:773}],631:[function(e,t,n){
/*!

 diff v4.0.1

Software License Agreement (BSD License)

Copyright (c) 2009-2015, Kevin Decker <kpdecker@gmail.com>

All rights reserved.

Redistribution and use of this software in source and binary forms, with or without modification,
are permitted provided that the following conditions are met:

* Redistributions of source code must retain the above
  copyright notice, this list of conditions and the
  following disclaimer.

* Redistributions in binary form must reproduce the above
  copyright notice, this list of conditions and the
  following disclaimer in the documentation and/or other
  materials provided with the distribution.

* Neither the name of Kevin Decker nor the names of its
  contributors may be used to endorse or promote products
  derived from this software without specific prior
  written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR
IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND
FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR
CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER
IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT
OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
@license
*/
!function(e,i){"object"==typeof n&&void 0!==t?i(n):"function"==typeof define&&define.amd?define(["exports"],i):i((e=e||self).Diff={})}(this,(function(e){"use strict";function t(){}function n(e,t,n,i,r){for(var o=0,a=t.length,s=0,u=0;o<a;o++){var l=t[o];if(l.removed){if(l.value=e.join(i.slice(u,u+l.count)),u+=l.count,o&&t[o-1].added){var c=t[o-1];t[o-1]=t[o],t[o]=c}}else{if(!l.added&&r){var d=n.slice(s,s+l.count);d=d.map((function(e,t){var n=i[u+t];return n.length>e.length?n:e})),l.value=e.join(d)}else l.value=e.join(n.slice(s,s+l.count));s+=l.count,l.added||(u+=l.count)}}var p=t[a-1];return a>1&&"string"==typeof p.value&&(p.added||p.removed)&&e.equals("",p.value)&&(t[a-2].value+=p.value,t.pop()),t}function i(e){return{newPos:e.newPos,components:e.components.slice(0)}}t.prototype={diff:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r.callback;"function"==typeof r&&(o=r,r={}),this.options=r;var a=this;function s(e){return o?(setTimeout((function(){o(void 0,e)}),0),!0):e}e=this.castInput(e),t=this.castInput(t),e=this.removeEmpty(this.tokenize(e));var u=(t=this.removeEmpty(this.tokenize(t))).length,l=e.length,c=1,d=u+l,p=[{newPos:-1,components:[]}],h=this.extractCommon(p[0],t,e,0);if(p[0].newPos+1>=u&&h+1>=l)return s([{value:this.join(t),count:t.length}]);function f(){for(var r=-1*c;r<=c;r+=2){var o=void 0,d=p[r-1],h=p[r+1],f=(h?h.newPos:0)-r;d&&(p[r-1]=void 0);var m=d&&d.newPos+1<u,g=h&&0<=f&&f<l;if(m||g){if(!m||g&&d.newPos<h.newPos?(o=i(h),a.pushComponent(o.components,void 0,!0)):((o=d).newPos++,a.pushComponent(o.components,!0,void 0)),f=a.extractCommon(o,t,e,r),o.newPos+1>=u&&f+1>=l)return s(n(a,o.components,t,e,a.useLongestToken));p[r]=o}else p[r]=void 0}c++}if(o)!function e(){setTimeout((function(){if(c>d)return o();f()||e()}),0)}();else for(;c<=d;){var m=f();if(m)return m}},pushComponent:function(e,t,n){var i=e[e.length-1];i&&i.added===t&&i.removed===n?e[e.length-1]={count:i.count+1,added:t,removed:n}:e.push({count:1,added:t,removed:n})},extractCommon:function(e,t,n,i){for(var r=t.length,o=n.length,a=e.newPos,s=a-i,u=0;a+1<r&&s+1<o&&this.equals(t[a+1],n[s+1]);)a++,s++,u++;return u&&e.components.push({count:u}),e.newPos=a,s},equals:function(e,t){return this.options.comparator?this.options.comparator(e,t):e===t||this.options.ignoreCase&&e.toLowerCase()===t.toLowerCase()},removeEmpty:function(e){for(var t=[],n=0;n<e.length;n++)e[n]&&t.push(e[n]);return t},castInput:function(e){return e},tokenize:function(e){return e.split("")},join:function(e){return e.join("")}};var r=new t;function o(e,t){if("function"==typeof e)t.callback=e;else if(e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var a=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,s=/\S/,u=new t;u.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!s.test(e)&&!s.test(t)},u.tokenize=function(e){for(var t=e.split(/(\s+|[()[\]{}'"]|\b)/),n=0;n<t.length-1;n++)!t[n+1]&&t[n+2]&&a.test(t[n])&&a.test(t[n+2])&&(t[n]+=t[n+2],t.splice(n+1,2),n--);return t};var l=new t;function c(e,t,n){return l.diff(e,t,n)}l.tokenize=function(e){var t=[],n=e.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(var i=0;i<n.length;i++){var r=n[i];i%2&&!this.options.newlineIsToken?t[t.length-1]+=r:(this.options.ignoreWhitespace&&(r=r.trim()),t.push(r))}return t};var d=new t;d.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};var p=new t;function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function f(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}p.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};var m=Object.prototype.toString,g=new t;function y(e,t,n,i,r){var o,a;for(t=t||[],n=n||[],i&&(e=i(r,e)),o=0;o<t.length;o+=1)if(t[o]===e)return n[o];if("[object Array]"===m.call(e)){for(t.push(e),a=new Array(e.length),n.push(a),o=0;o<e.length;o+=1)a[o]=y(e[o],t,n,i,r);return t.pop(),n.pop(),a}if(e&&e.toJSON&&(e=e.toJSON()),"object"===h(e)&&null!==e){t.push(e),a={},n.push(a);var s,u=[];for(s in e)e.hasOwnProperty(s)&&u.push(s);for(u.sort(),o=0;o<u.length;o+=1)a[s=u[o]]=y(e[s],t,n,i,s);t.pop(),n.pop()}else a=e;return a}g.useLongestToken=!0,g.tokenize=l.tokenize,g.castInput=function(e){var t=this.options,n=t.undefinedReplacement,i=t.stringifyReplacer,r=void 0===i?function(e,t){return void 0===t?n:t}:i;return"string"==typeof e?e:JSON.stringify(y(e,null,null,r),r,"  ")},g.equals=function(e,n){return t.prototype.equals.call(g,e.replace(/,([\r\n])/g,"$1"),n.replace(/,([\r\n])/g,"$1"))};var v=new t;function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.split(/\r\n|[\n\v\f\r\x85]/),i=e.match(/\r\n|[\n\v\f\r\x85]/g)||[],r=[],o=0;function a(){var e={};for(r.push(e);o<n.length;){var i=n[o];if(/^(\-\-\-|\+\+\+|@@)\s/.test(i))break;var a=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(i);a&&(e.index=a[1]),o++}for(s(e),s(e),e.hunks=[];o<n.length;){var l=n[o];if(/^(Index:|diff|\-\-\-|\+\+\+)\s/.test(l))break;if(/^@@/.test(l))e.hunks.push(u());else{if(l&&t.strict)throw new Error("Unknown line "+(o+1)+" "+JSON.stringify(l));o++}}}function s(e){var t=/^(---|\+\+\+)\s+(.*)$/.exec(n[o]);if(t){var i="---"===t[1]?"old":"new",r=t[2].split("\t",2),a=r[0].replace(/\\\\/g,"\\");/^".*"$/.test(a)&&(a=a.substr(1,a.length-2)),e[i+"FileName"]=a,e[i+"Header"]=(r[1]||"").trim(),o++}}function u(){for(var e=o,r=n[o++].split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),a={oldStart:+r[1],oldLines:+r[2]||1,newStart:+r[3],newLines:+r[4]||1,lines:[],linedelimiters:[]},s=0,u=0;o<n.length&&!(0===n[o].indexOf("--- ")&&o+2<n.length&&0===n[o+1].indexOf("+++ ")&&0===n[o+2].indexOf("@@"));o++){var l=0==n[o].length&&o!=n.length-1?" ":n[o][0];if("+"!==l&&"-"!==l&&" "!==l&&"\\"!==l)break;a.lines.push(n[o]),a.linedelimiters.push(i[o]||"\n"),"+"===l?s++:"-"===l?u++:" "===l&&(s++,u++)}if(s||1!==a.newLines||(a.newLines=0),u||1!==a.oldLines||(a.oldLines=0),t.strict){if(s!==a.newLines)throw new Error("Added line count did not match for hunk at line "+(e+1));if(u!==a.oldLines)throw new Error("Removed line count did not match for hunk at line "+(e+1))}return a}for(;o<n.length;)a();return r}function b(e,t,n){var i=!0,r=!1,o=!1,a=1;return function s(){if(i&&!o){if(r?a++:i=!1,e+a<=n)return a;o=!0}if(!r)return o||(i=!0),t<=e-a?-a++:(r=!0,s())}}function w(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof t&&(t=_(t)),Array.isArray(t)){if(t.length>1)throw new Error("applyPatch only works with a single input.");t=t[0]}var i,r,o=e.split(/\r\n|[\n\v\f\r\x85]/),a=e.match(/\r\n|[\n\v\f\r\x85]/g)||[],s=t.hunks,u=n.compareLine||function(e,t,n,i){return t===i},l=0,c=n.fuzzFactor||0,d=0,p=0;function h(e,t){for(var n=0;n<e.lines.length;n++){var i=e.lines[n],r=i.length>0?i[0]:" ",a=i.length>0?i.substr(1):i;if(" "===r||"-"===r){if(!u(t+1,o[t],r,a)&&++l>c)return!1;t++}}return!0}for(var f=0;f<s.length;f++){for(var m=s[f],g=o.length-m.oldLines,y=0,v=p+m.oldStart-1,w=b(v,d,g);void 0!==y;y=w())if(h(m,v+y)){m.offset=p+=y;break}if(void 0===y)return!1;d=m.offset+m.oldStart+m.oldLines}for(var E=0,S=0;S<s.length;S++){var T=s[S],C=T.oldStart+T.offset+E-1;E+=T.newLines-T.oldLines,C<0&&(C=0);for(var x=0;x<T.lines.length;x++){var A=T.lines[x],k=A.length>0?A[0]:" ",I=A.length>0?A.substr(1):A,D=T.linedelimiters[x];if(" "===k)C++;else if("-"===k)o.splice(C,1),a.splice(C,1);else if("+"===k)o.splice(C,0,I),a.splice(C,0,D),C++;else if("\\"===k){var O=T.lines[x-1]?T.lines[x-1][0]:null;"+"===O?i=!0:"-"===O&&(r=!0)}}}if(i)for(;!o[o.length-1];)o.pop(),a.pop();else r&&(o.push(""),a.push("\n"));for(var P=0;P<o.length-1;P++)o[P]=o[P]+a[P];return o.join("")}function E(e,t,n,i,r,o,a){a||(a={}),void 0===a.context&&(a.context=4);var s=c(n,i,a);function u(e){return e.map((function(e){return" "+e}))}s.push({value:"",lines:[]});for(var l=[],d=0,p=0,h=[],m=1,g=1,y=function(e){var t=s[e],r=t.lines||t.value.replace(/\n$/,"").split("\n");if(t.lines=r,t.added||t.removed){var o;if(!d){var c=s[e-1];d=m,p=g,c&&(h=a.context>0?u(c.lines.slice(-a.context)):[],d-=h.length,p-=h.length)}(o=h).push.apply(o,f(r.map((function(e){return(t.added?"+":"-")+e})))),t.added?g+=r.length:m+=r.length}else{if(d)if(r.length<=2*a.context&&e<s.length-2){var y;(y=h).push.apply(y,f(u(r)))}else{var v,_=Math.min(r.length,a.context);(v=h).push.apply(v,f(u(r.slice(0,_))));var b={oldStart:d,oldLines:m-d+_,newStart:p,newLines:g-p+_,lines:h};if(e>=s.length-2&&r.length<=a.context){var w=/\n$/.test(n),E=/\n$/.test(i),S=0==r.length&&h.length>b.oldLines;!w&&S&&h.splice(b.oldLines,0,"\\ No newline at end of file"),(w||S)&&E||h.push("\\ No newline at end of file")}l.push(b),d=0,p=0,h=[]}m+=r.length,g+=r.length}},v=0;v<s.length;v++)y(v);return{oldFileName:e,newFileName:t,oldHeader:r,newHeader:o,hunks:l}}function S(e,t,n,i,r,o,a){var s=E(e,t,n,i,r,o,a),u=[];e==t&&u.push("Index: "+e),u.push("==================================================================="),u.push("--- "+s.oldFileName+(void 0===s.oldHeader?"":"\t"+s.oldHeader)),u.push("+++ "+s.newFileName+(void 0===s.newHeader?"":"\t"+s.newHeader));for(var l=0;l<s.hunks.length;l++){var c=s.hunks[l];u.push("@@ -"+c.oldStart+","+c.oldLines+" +"+c.newStart+","+c.newLines+" @@"),u.push.apply(u,c.lines)}return u.join("\n")+"\n"}function T(e,t){if(t.length>e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function C(e){var t=U(e.lines),n=t.oldLines,i=t.newLines;void 0!==n?e.oldLines=n:delete e.oldLines,void 0!==i?e.newLines=i:delete e.newLines}function x(e,t){if("string"==typeof e){if(/^@@/m.test(e)||/^Index:/m.test(e))return _(e)[0];if(!t)throw new Error("Must provide a base reference or pass in a patch");return E(void 0,void 0,t,e)}return e}function A(e){return e.newFileName&&e.newFileName!==e.oldFileName}function k(e,t,n){return t===n?t:(e.conflict=!0,{mine:t,theirs:n})}function I(e,t){return e.oldStart<t.oldStart&&e.oldStart+e.oldLines<t.oldStart}function D(e,t){return{oldStart:e.oldStart,oldLines:e.oldLines,newStart:e.newStart+t,newLines:e.newLines,lines:e.lines}}function O(e,t,n,i,r){var o={offset:t,lines:n,index:0},a={offset:i,lines:r,index:0};for(L(e,o,a),L(e,a,o);o.index<o.lines.length&&a.index<a.lines.length;){var s=o.lines[o.index],u=a.lines[a.index];if("-"!==s[0]&&"+"!==s[0]||"-"!==u[0]&&"+"!==u[0])if("+"===s[0]&&" "===u[0]){var l;(l=e.lines).push.apply(l,f(F(o)))}else if("+"===u[0]&&" "===s[0]){var c;(c=e.lines).push.apply(c,f(F(a)))}else"-"===s[0]&&" "===u[0]?N(e,o,a):"-"===u[0]&&" "===s[0]?N(e,a,o,!0):s===u?(e.lines.push(s),o.index++,a.index++):R(e,F(o),F(a));else P(e,o,a)}M(e,o),M(e,a),C(e)}function P(e,t,n){var i,r,o=F(t),a=F(n);if(j(o)&&j(a)){var s,u;if(T(o,a)&&B(n,o,o.length-a.length))return void(s=e.lines).push.apply(s,f(o));if(T(a,o)&&B(t,a,a.length-o.length))return void(u=e.lines).push.apply(u,f(a))}else if(r=a,(i=o).length===r.length&&T(i,r)){var l;return void(l=e.lines).push.apply(l,f(o))}R(e,o,a)}function N(e,t,n,i){var r,o=F(t),a=function(e,t){var n=[],i=[],r=0,o=!1,a=!1;for(;r<t.length&&e.index<e.lines.length;){var s=e.lines[e.index],u=t[r];if("+"===u[0])break;if(o=o||" "!==s[0],i.push(u),r++,"+"===s[0])for(a=!0;"+"===s[0];)n.push(s),s=e.lines[++e.index];u.substr(1)===s.substr(1)?(n.push(s),e.index++):a=!0}"+"===(t[r]||"")[0]&&o&&(a=!0);if(a)return n;for(;r<t.length;)i.push(t[r++]);return{merged:i,changes:n}}(n,o);a.merged?(r=e.lines).push.apply(r,f(a.merged)):R(e,i?a:o,i?o:a)}function R(e,t,n){e.conflict=!0,e.lines.push({conflict:!0,mine:t,theirs:n})}function L(e,t,n){for(;t.offset<n.offset&&t.index<t.lines.length;){var i=t.lines[t.index++];e.lines.push(i),t.offset++}}function M(e,t){for(;t.index<t.lines.length;){var n=t.lines[t.index++];e.lines.push(n)}}function F(e){for(var t=[],n=e.lines[e.index][0];e.index<e.lines.length;){var i=e.lines[e.index];if("-"===n&&"+"===i[0]&&(n="+"),n!==i[0])break;t.push(i),e.index++}return t}function j(e){return e.reduce((function(e,t){return e&&"-"===t[0]}),!0)}function B(e,t,n){for(var i=0;i<n;i++){var r=t[t.length-n+i].substr(1);if(e.lines[e.index+i]!==" "+r)return!1}return e.index+=n,!0}function U(e){var t=0,n=0;return e.forEach((function(e){if("string"!=typeof e){var i=U(e.mine),r=U(e.theirs);void 0!==t&&(i.oldLines===r.oldLines?t+=i.oldLines:t=void 0),void 0!==n&&(i.newLines===r.newLines?n+=i.newLines:n=void 0)}else void 0===n||"+"!==e[0]&&" "!==e[0]||n++,void 0===t||"-"!==e[0]&&" "!==e[0]||t++})),{oldLines:t,newLines:n}}function H(e){var t=e;return t=(t=(t=(t=t.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/"/g,"&quot;")}v.tokenize=function(e){return e.slice()},v.join=v.removeEmpty=function(e){return e},e.Diff=t,e.diffChars=function(e,t,n){return r.diff(e,t,n)},e.diffWords=function(e,t,n){return n=o(n,{ignoreWhitespace:!0}),u.diff(e,t,n)},e.diffWordsWithSpace=function(e,t,n){return u.diff(e,t,n)},e.diffLines=c,e.diffTrimmedLines=function(e,t,n){var i=o(n,{ignoreWhitespace:!0});return l.diff(e,t,i)},e.diffSentences=function(e,t,n){return d.diff(e,t,n)},e.diffCss=function(e,t,n){return p.diff(e,t,n)},e.diffJson=function(e,t,n){return g.diff(e,t,n)},e.diffArrays=function(e,t,n){return v.diff(e,t,n)},e.structuredPatch=E,e.createTwoFilesPatch=S,e.createPatch=function(e,t,n,i,r,o){return S(e,e,t,n,i,r,o)},e.applyPatch=w,e.applyPatches=function(e,t){"string"==typeof e&&(e=_(e));var n=0;!function i(){var r=e[n++];if(!r)return t.complete();t.loadFile(r,(function(e,n){if(e)return t.complete(e);var o=w(n,r,t);t.patched(r,o,(function(e){if(e)return t.complete(e);i()}))}))}()},e.parsePatch=_,e.merge=function(e,t,n){e=x(e,n),t=x(t,n);var i={};(e.index||t.index)&&(i.index=e.index||t.index),(e.newFileName||t.newFileName)&&(A(e)?A(t)?(i.oldFileName=k(i,e.oldFileName,t.oldFileName),i.newFileName=k(i,e.newFileName,t.newFileName),i.oldHeader=k(i,e.oldHeader,t.oldHeader),i.newHeader=k(i,e.newHeader,t.newHeader)):(i.oldFileName=e.oldFileName,i.newFileName=e.newFileName,i.oldHeader=e.oldHeader,i.newHeader=e.newHeader):(i.oldFileName=t.oldFileName||e.oldFileName,i.newFileName=t.newFileName||e.newFileName,i.oldHeader=t.oldHeader||e.oldHeader,i.newHeader=t.newHeader||e.newHeader)),i.hunks=[];for(var r=0,o=0,a=0,s=0;r<e.hunks.length||o<t.hunks.length;){var u=e.hunks[r]||{oldStart:1/0},l=t.hunks[o]||{oldStart:1/0};if(I(u,l))i.hunks.push(D(u,a)),r++,s+=u.newLines-u.oldLines;else if(I(l,u))i.hunks.push(D(l,s)),o++,a+=l.newLines-l.oldLines;else{var c={oldStart:Math.min(u.oldStart,l.oldStart),oldLines:0,newStart:Math.min(u.newStart+a,l.oldStart+s),newLines:0,lines:[]};O(c,u.oldStart,u.lines,l.oldStart,l.lines),o++,r++,i.hunks.push(c)}}return i},e.convertChangesToDMP=function(e){for(var t,n,i=[],r=0;r<e.length;r++)n=(t=e[r]).added?1:t.removed?-1:0,i.push([n,t.value]);return i},e.convertChangesToXML=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];i.added?t.push("<ins>"):i.removed&&t.push("<del>"),t.push(H(i.value)),i.added?t.push("</ins>"):i.removed&&t.push("</del>")}return t.join("")},e.canonicalize=y,Object.defineProperty(e,"__esModule",{value:!0})}))},{}],632:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.hasCORS=void 0;let i=!1;try{i="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){}n.hasCORS=i},{}],633:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.decode=n.encode=void 0,n.encode=function(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},n.decode=function(e){let t={},n=e.split("&");for(let e=0,i=n.length;e<i;e++){let i=n[e].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}},{}],634:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.parse=void 0;const i=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];n.parse=function(e){const t=e,n=e.indexOf("["),o=e.indexOf("]");-1!=n&&-1!=o&&(e=e.substring(0,n)+e.substring(n,o).replace(/:/g,";")+e.substring(o,e.length));let a=i.exec(e||""),s={},u=14;for(;u--;)s[r[u]]=a[u]||"";return-1!=n&&-1!=o&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=function(e,t){const n=/\/{2,9}/g,i=t.replace(n,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||i.splice(0,1);"/"==t.slice(-1)&&i.splice(i.length-1,1);return i}(0,s.path),s.queryKey=function(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,i){t&&(n[t]=i)})),n}(0,s.query),s}},{}],635:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.yeast=n.decode=n.encode=void 0;const i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),r={};let o,a=0,s=0;function u(e){let t="";do{t=i[e%64]+t,e=Math.floor(e/64)}while(e>0);return t}for(n.encode=u,n.decode=function(e){let t=0;for(s=0;s<e.length;s++)t=64*t+r[e.charAt(s)];return t},n.yeast=function(){const e=u(+new Date);return e!==o?(a=0,o=e):e+"."+u(a++)};s<64;s++)r[i[s]]=s},{}],636:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.globalThisShim=void 0,n.globalThisShim="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")()},{}],637:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.nextTick=n.parse=n.installTimerFunctions=n.transports=n.Transport=n.protocol=n.Socket=void 0;const i=e("./socket.js");Object.defineProperty(n,"Socket",{enumerable:!0,get:function(){return i.Socket}}),n.protocol=i.Socket.protocol;var r=e("./transport.js");Object.defineProperty(n,"Transport",{enumerable:!0,get:function(){return r.Transport}});var o=e("./transports/index.js");Object.defineProperty(n,"transports",{enumerable:!0,get:function(){return o.transports}});var a=e("./util.js");Object.defineProperty(n,"installTimerFunctions",{enumerable:!0,get:function(){return a.installTimerFunctions}});var s=e("./contrib/parseuri.js");Object.defineProperty(n,"parse",{enumerable:!0,get:function(){return s.parse}});var u=e("./transports/websocket-constructor.js");Object.defineProperty(n,"nextTick",{enumerable:!0,get:function(){return u.nextTick}})},{"./contrib/parseuri.js":634,"./socket.js":638,"./transport.js":639,"./transports/index.js":640,"./transports/websocket-constructor.js":642,"./util.js":645}],638:[function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.Socket=void 0;const r=e("./transports/index.js"),o=e("./util.js"),a=e("./contrib/parseqs.js"),s=e("./contrib/parseuri.js"),u=i(e("debug")),l=e("@socket.io/component-emitter"),c=e("engine.io-parser"),d=(0,u.default)("engine.io-client:socket");class p extends l.Emitter{constructor(e,t={}){super(),e&&"object"==typeof e&&(t=e,e=null),e?(e=(0,s.parse)(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=(0,s.parse)(t.host).host),(0,o.installTimerFunctions)(this,t),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=t.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},t),this.opts.path=this.opts.path.replace(/\/$/,"")+"/","string"==typeof this.opts.query&&(this.opts.query=(0,a.decode)(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){d('creating transport "%s"',e);const t=Object.assign({},this.opts.query);t.EIO=c.protocol,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts.transportOptions[e],this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return d("options: %j",n),new r.transports[e](n)}open(){let e;if(this.opts.rememberUpgrade&&p.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return d("error while creating transport: %s",e),this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}setTransport(e){d("setting transport %s",e.name),this.transport&&(d("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(e=>this.onClose("transport close",e)))}probe(e){d('probing transport "%s"',e);let t=this.createTransport(e),n=!1;p.priorWebsocketSuccess=!1;const i=()=>{n||(d('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",(i=>{if(!n)if("pong"===i.type&&"probe"===i.data){if(d('probe transport "%s" pong',e),this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;p.priorWebsocketSuccess="websocket"===t.name,d('pausing current transport "%s"',this.transport.name),this.transport.pause((()=>{n||"closed"!==this.readyState&&(d("changing transport and sending upgrade packet"),l(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())}))}else{d('probe transport "%s" failed',e);const n=new Error("probe error");n.transport=t.name,this.emitReserved("upgradeError",n)}})))};function r(){n||(n=!0,l(),t.close(),t=null)}const o=n=>{const i=new Error("probe error: "+n);i.transport=t.name,r(),d('probe transport "%s" failed because of error: %s',e,n),this.emitReserved("upgradeError",i)};function a(){o("transport closed")}function s(){o("socket closed")}function u(e){t&&e.name!==t.name&&(d('"%s" works - aborting "%s"',e.name,t.name),r())}const l=()=>{t.removeListener("open",i),t.removeListener("error",o),t.removeListener("close",a),this.off("close",s),this.off("upgrading",u)};t.once("open",i),t.once("error",o),t.once("close",a),this.once("close",s),this.once("upgrading",u),t.open()}onOpen(){if(d("socket open"),this.readyState="open",p.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause){d("starting upgrade probes");let e=0;const t=this.upgrades.length;for(;e<t;e++)this.probe(this.upgrades[e])}}onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(d('socket receive: type "%s", data "%s"',e.type,e.data),this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}else d('packet received with socket readyState "%s"',this.readyState)}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((()=>{this.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();d("flushing %d packets in socket",e.length),this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let t=0;t<this.writeBuffer.length;t++){const n=this.writeBuffer[t].data;if(n&&(e+=(0,o.byteLength)(n)),t>0&&e>this.maxPayload)return d("only send %d out of %d packets",t,this.writeBuffer.length),this.writeBuffer.slice(0,t);e+=2}return d("payload size is %d (max: %d)",e,this.maxPayload),this.writeBuffer}write(e,t,n){return this.sendPacket("message",e,t,n),this}send(e,t,n){return this.sendPacket("message",e,t,n),this}sendPacket(e,t,n,i){if("function"==typeof t&&(i=t,t=void 0),"function"==typeof n&&(i=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const r={type:e,data:t,options:n};this.emitReserved("packetCreate",r),this.writeBuffer.push(r),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this.onClose("forced close"),d("socket closing - telling transport to close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?n():e()})):this.upgrading?n():e()),this}onError(e){d("socket error %j",e),p.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(d('socket close with reason: "%s"',e),this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const t=[];let n=0;const i=e.length;for(;n<i;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}n.Socket=p,p.protocol=c.protocol},{"./contrib/parseqs.js":633,"./contrib/parseuri.js":634,"./transports/index.js":640,"./util.js":645,"@socket.io/component-emitter":246,debug:629,"engine.io-parser":650}],639:[function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.Transport=void 0;const r=e("engine.io-parser"),o=e("@socket.io/component-emitter"),a=e("./util.js"),s=(0,i(e("debug")).default)("engine.io-client:transport");class u extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class l extends o.Emitter{constructor(e){super(),this.writable=!1,(0,a.installTimerFunctions)(this,e),this.opts=e,this.query=e.query,this.readyState="",this.socket=e.socket}onError(e,t,n){return super.emitReserved("error",new u(e,t,n)),this}open(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState?this.write(e):s("transport is not open, discarding packets")}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=(0,r.decodePacket)(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}}n.Transport=l},{"./util.js":645,"@socket.io/component-emitter":246,debug:629,"engine.io-parser":650}],640:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.transports=void 0;const i=e("./polling.js"),r=e("./websocket.js");n.transports={websocket:r.WS,polling:i.Polling}},{"./polling.js":641,"./websocket.js":643}],641:[function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.Request=n.Polling=void 0;const r=e("../transport.js"),o=i(e("debug")),a=e("../contrib/yeast.js"),s=e("../contrib/parseqs.js"),u=e("engine.io-parser"),l=e("./xmlhttprequest.js"),c=e("@socket.io/component-emitter"),d=e("../util.js"),p=e("../globalThis.js"),h=(0,o.default)("engine.io-client:polling");function f(){}const m=null!=new l.XHR({xdomain:!1}).responseType;class g extends r.Transport{constructor(e){if(super(e),this.polling=!1,"undefined"!=typeof location){const t="https:"===location.protocol;let n=location.port;n||(n=t?"443":"80"),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||n!==e.port,this.xs=e.secure!==t}const t=e&&e.forceBase64;this.supportsBinary=m&&!t}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const t=()=>{h("paused"),this.readyState="paused",e()};if(this.polling||!this.writable){let e=0;this.polling&&(h("we are currently polling - waiting to pause"),e++,this.once("pollComplete",(function(){h("pre-pause polling complete"),--e||t()}))),this.writable||(h("we are currently writing - waiting to pause"),e++,this.once("drain",(function(){h("pre-pause writing complete"),--e||t()})))}else t()}poll(){h("polling"),this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){h("polling got data %s",e);(0,u.decodePayload)(e,this.socket.binaryType).forEach((e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState?this.poll():h('ignoring poll - transport state "%s"',this.readyState))}doClose(){const e=()=>{h("writing close packet"),this.write([{type:"close"}])};"open"===this.readyState?(h("transport open - closing"),e()):(h("transport not open - deferring close"),this.once("open",e))}write(e){this.writable=!1,(0,u.encodePayload)(e,(e=>{this.doWrite(e,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){let e=this.query||{};const t=this.opts.secure?"https":"http";let n="";!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=(0,a.yeast)()),this.supportsBinary||e.sid||(e.b64=1),this.opts.port&&("https"===t&&443!==Number(this.opts.port)||"http"===t&&80!==Number(this.opts.port))&&(n=":"+this.opts.port);const i=(0,s.encode)(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(i.length?"?"+i:"")}request(e={}){return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new y(this.uri(),e)}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",((e,t)=>{this.onError("xhr post error",e,t)}))}doPoll(){h("xhr poll");const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",((e,t)=>{this.onError("xhr poll error",e,t)})),this.pollXhr=e}}n.Polling=g;class y extends c.Emitter{constructor(e,t){super(),(0,d.installTimerFunctions)(this,t),this.opts=t,this.method=t.method||"GET",this.uri=e,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.create()}create(){const e=(0,d.pick)(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;const t=this.xhr=new l.XHR(e);try{h("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0);for(let e in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(e)&&t.setRequestHeader(e,this.opts.extraHeaders[e])}}catch(e){}if("POST"===this.method)try{t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{t.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in t&&(t.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(t.timeout=this.opts.requestTimeout),t.onreadystatechange=()=>{4===t.readyState&&(200===t.status||1223===t.status?this.onLoad():this.setTimeoutFn((()=>{this.onError("number"==typeof t.status?t.status:0)}),0))},h("xhr data %s",this.data),t.send(this.data)}catch(e){return void this.setTimeoutFn((()=>{this.onError(e)}),0)}"undefined"!=typeof document&&(this.index=y.requestsCount++,y.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=f,e)try{this.xhr.abort()}catch(e){}"undefined"!=typeof document&&delete y.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}if(n.Request=y,y.requestsCount=0,y.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",v);else if("function"==typeof addEventListener){const e="onpagehide"in p.globalThisShim?"pagehide":"unload";addEventListener(e,v,!1)}function v(){for(let e in y.requests)y.requests.hasOwnProperty(e)&&y.requests[e].abort()}},{"../contrib/parseqs.js":633,"../contrib/yeast.js":635,"../globalThis.js":636,"../transport.js":639,"../util.js":645,"./xmlhttprequest.js":644,"@socket.io/component-emitter":246,debug:629,"engine.io-parser":650}],642:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.defaultBinaryType=n.usingBrowserWebSocket=n.WebSocket=n.nextTick=void 0;const i=e("../globalThis.js");n.nextTick="function"==typeof Promise&&"function"==typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),n.WebSocket=i.globalThisShim.WebSocket||i.globalThisShim.MozWebSocket,n.usingBrowserWebSocket=!0,n.defaultBinaryType="arraybuffer"},{"../globalThis.js":636}],643:[function(e,t,n){(function(t){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.WS=void 0;const r=e("../transport.js"),o=e("../contrib/parseqs.js"),a=e("../contrib/yeast.js"),s=e("../util.js"),u=e("./websocket-constructor.js"),l=i(e("debug")),c=e("engine.io-parser"),d=(0,l.default)("engine.io-client:websocket"),p="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class h extends r.Transport{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),t=this.opts.protocols,n=p?{}:(0,s.pick)(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=u.usingBrowserWebSocket&&!p?t?new u.WebSocket(e,t):new u.WebSocket(e):new u.WebSocket(e,t,n)}catch(e){return this.emitReserved("error",e)}this.ws.binaryType=this.socket.binaryType||u.defaultBinaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const i=e[n],r=n===e.length-1;(0,c.encodePacket)(i,this.supportsBinary,(e=>{const n={};if(!u.usingBrowserWebSocket&&(i.options&&(n.compress=i.options.compress),this.opts.perMessageDeflate)){("string"==typeof e?t.byteLength(e):e.length)<this.opts.perMessageDeflate.threshold&&(n.compress=!1)}try{u.usingBrowserWebSocket?this.ws.send(e):this.ws.send(e,n)}catch(e){d("websocket closed before onclose event")}r&&(0,u.nextTick)((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){let e=this.query||{};const t=this.opts.secure?"wss":"ws";let n="";this.opts.port&&("wss"===t&&443!==Number(this.opts.port)||"ws"===t&&80!==Number(this.opts.port))&&(n=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=(0,a.yeast)()),this.supportsBinary||(e.b64=1);const i=(0,o.encode)(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(i.length?"?"+i:"")}check(){return!!u.WebSocket}}n.WS=h}).call(this,e("buffer").Buffer)},{"../contrib/parseqs.js":633,"../contrib/yeast.js":635,"../transport.js":639,"../util.js":645,"./websocket-constructor.js":642,buffer:285,debug:629,"engine.io-parser":650}],644:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.XHR=void 0;const i=e("../contrib/has-cors.js"),r=e("../globalThis.js");n.XHR=function(e){const t=e.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!t||i.hasCORS))return new XMLHttpRequest}catch(e){}if(!t)try{return new(r.globalThisShim[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}},{"../contrib/has-cors.js":632,"../globalThis.js":636}],645:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.byteLength=n.installTimerFunctions=n.pick=void 0;const i=e("./globalThis.js");n.pick=function(e,...t){return t.reduce(((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t)),{})};const r=setTimeout,o=clearTimeout;n.installTimerFunctions=function(e,t){t.useNativeTimers?(e.setTimeoutFn=r.bind(i.globalThisShim),e.clearTimeoutFn=o.bind(i.globalThisShim)):(e.setTimeoutFn=setTimeout.bind(i.globalThisShim),e.clearTimeoutFn=clearTimeout.bind(i.globalThisShim))};n.byteLength=function(e){return"string"==typeof e?function(e){let t=0,n=0;for(let i=0,r=e.length;i<r;i++)t=e.charCodeAt(i),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(i++,n+=4);return n}(e):Math.ceil(1.33*(e.byteLength||e.size))}},{"./globalThis.js":636}],646:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ERROR_PACKET=n.PACKET_TYPES_REVERSE=n.PACKET_TYPES=void 0;const i=Object.create(null);n.PACKET_TYPES=i,i.open="0",i.close="1",i.ping="2",i.pong="3",i.message="4",i.upgrade="5",i.noop="6";const r=Object.create(null);n.PACKET_TYPES_REVERSE=r,Object.keys(i).forEach((e=>{r[i[e]]=e}));n.ERROR_PACKET={type:"error",data:"parser error"}},{}],647:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.decode=n.encode=void 0;const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let e=0;e<i.length;e++)r[i.charCodeAt(e)]=e;n.encode=e=>{let t,n=new Uint8Array(e),r=n.length,o="";for(t=0;t<r;t+=3)o+=i[n[t]>>2],o+=i[(3&n[t])<<4|n[t+1]>>4],o+=i[(15&n[t+1])<<2|n[t+2]>>6],o+=i[63&n[t+2]];return r%3==2?o=o.substring(0,o.length-1)+"=":r%3==1&&(o=o.substring(0,o.length-2)+"=="),o};n.decode=e=>{let t,n,i,o,a,s=.75*e.length,u=e.length,l=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);const c=new ArrayBuffer(s),d=new Uint8Array(c);for(t=0;t<u;t+=4)n=r[e.charCodeAt(t)],i=r[e.charCodeAt(t+1)],o=r[e.charCodeAt(t+2)],a=r[e.charCodeAt(t+3)],d[l++]=n<<2|i>>4,d[l++]=(15&i)<<4|o>>2,d[l++]=(3&o)<<6|63&a;return c}},{}],648:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const i=e("./commons.js"),r=e("./contrib/base64-arraybuffer.js"),o="function"==typeof ArrayBuffer,a=(e,t)=>{if(o){const n=(0,r.decode)(e);return s(n,t)}return{base64:!0,data:e}},s=(e,t)=>"blob"===t&&e instanceof ArrayBuffer?new Blob([e]):e;n.default=(e,t)=>{if("string"!=typeof e)return{type:"message",data:s(e,t)};const n=e.charAt(0);if("b"===n)return{type:"message",data:a(e.substring(1),t)};return i.PACKET_TYPES_REVERSE[n]?e.length>1?{type:i.PACKET_TYPES_REVERSE[n],data:e.substring(1)}:{type:i.PACKET_TYPES_REVERSE[n]}:i.ERROR_PACKET}},{"./commons.js":646,"./contrib/base64-arraybuffer.js":647}],649:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const i=e("./commons.js"),r="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),o="function"==typeof ArrayBuffer,a=(e,t)=>{const n=new FileReader;return n.onload=function(){const e=n.result.split(",")[1];t("b"+(e||""))},n.readAsDataURL(e)};n.default=({type:e,data:t},n,s)=>{return r&&t instanceof Blob?n?s(t):a(t,s):o&&(t instanceof ArrayBuffer||(u=t,"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(u):u&&u.buffer instanceof ArrayBuffer))?n?s(t):a(new Blob([t]),s):s(i.PACKET_TYPES[e]+(t||""));var u}},{"./commons.js":646}],650:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.decodePayload=n.decodePacket=n.encodePayload=n.encodePacket=n.protocol=void 0;const i=e("./encodePacket.js");n.encodePacket=i.default;const r=e("./decodePacket.js");n.decodePacket=r.default;const o=String.fromCharCode(30);n.encodePayload=(e,t)=>{const n=e.length,r=new Array(n);let a=0;e.forEach(((e,s)=>{(0,i.default)(e,!1,(e=>{r[s]=e,++a===n&&t(r.join(o))}))}))};n.decodePayload=(e,t)=>{const n=e.split(o),i=[];for(let e=0;e<n.length;e++){const o=(0,r.default)(n[e],t);if(i.push(o),"error"===o.type)break}return i},n.protocol=4},{"./decodePacket.js":648,"./encodePacket.js":649}],651:[function(e,t,n){var i=e("./_getNative")(e("./_root"),"DataView");t.exports=i},{"./_getNative":703,"./_root":738}],652:[function(e,t,n){var i=e("./_hashClear"),r=e("./_hashDelete"),o=e("./_hashGet"),a=e("./_hashHas"),s=e("./_hashSet");function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}u.prototype.clear=i,u.prototype.delete=r,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},{"./_hashClear":709,"./_hashDelete":710,"./_hashGet":711,"./_hashHas":712,"./_hashSet":713}],653:[function(e,t,n){var i=e("./_listCacheClear"),r=e("./_listCacheDelete"),o=e("./_listCacheGet"),a=e("./_listCacheHas"),s=e("./_listCacheSet");function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}u.prototype.clear=i,u.prototype.delete=r,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},{"./_listCacheClear":720,"./_listCacheDelete":721,"./_listCacheGet":722,"./_listCacheHas":723,"./_listCacheSet":724}],654:[function(e,t,n){var i=e("./_getNative")(e("./_root"),"Map");t.exports=i},{"./_getNative":703,"./_root":738}],655:[function(e,t,n){var i=e("./_mapCacheClear"),r=e("./_mapCacheDelete"),o=e("./_mapCacheGet"),a=e("./_mapCacheHas"),s=e("./_mapCacheSet");function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}u.prototype.clear=i,u.prototype.delete=r,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},{"./_mapCacheClear":725,"./_mapCacheDelete":726,"./_mapCacheGet":727,"./_mapCacheHas":728,"./_mapCacheSet":729}],656:[function(e,t,n){var i=e("./_getNative")(e("./_root"),"Promise");t.exports=i},{"./_getNative":703,"./_root":738}],657:[function(e,t,n){var i=e("./_getNative")(e("./_root"),"Set");t.exports=i},{"./_getNative":703,"./_root":738}],658:[function(e,t,n){var i=e("./_MapCache"),r=e("./_setCacheAdd"),o=e("./_setCacheHas");function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new i;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=r,a.prototype.has=o,t.exports=a},{"./_MapCache":655,"./_setCacheAdd":739,"./_setCacheHas":740}],659:[function(e,t,n){var i=e("./_ListCache"),r=e("./_stackClear"),o=e("./_stackDelete"),a=e("./_stackGet"),s=e("./_stackHas"),u=e("./_stackSet");function l(e){var t=this.__data__=new i(e);this.size=t.size}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=a,l.prototype.has=s,l.prototype.set=u,t.exports=l},{"./_ListCache":653,"./_stackClear":742,"./_stackDelete":743,"./_stackGet":744,"./_stackHas":745,"./_stackSet":746}],660:[function(e,t,n){var i=e("./_root").Symbol;t.exports=i},{"./_root":738}],661:[function(e,t,n){var i=e("./_root").Uint8Array;t.exports=i},{"./_root":738}],662:[function(e,t,n){var i=e("./_getNative")(e("./_root"),"WeakMap");t.exports=i},{"./_getNative":703,"./_root":738}],663:[function(e,t,n){t.exports=function(e,t){for(var n=-1,i=null==e?0:e.length,r=0,o=[];++n<i;){var a=e[n];t(a,n,e)&&(o[r++]=a)}return o}},{}],664:[function(e,t,n){var i=e("./_baseTimes"),r=e("./isArguments"),o=e("./isArray"),a=e("./isBuffer"),s=e("./_isIndex"),u=e("./isTypedArray"),l=Object.prototype.hasOwnProperty;t.exports=function(e,t){var n=o(e),c=!n&&r(e),d=!n&&!c&&a(e),p=!n&&!c&&!d&&u(e),h=n||c||d||p,f=h?i(e.length,String):[],m=f.length;for(var g in e)!t&&!l.call(e,g)||h&&("length"==g||d&&("offset"==g||"parent"==g)||p&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||f.push(g);return f}},{"./_baseTimes":688,"./_isIndex":714,"./isArguments":754,"./isArray":755,"./isBuffer":757,"./isTypedArray":764}],665:[function(e,t,n){t.exports=function(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}},{}],666:[function(e,t,n){t.exports=function(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}},{}],667:[function(e,t,n){t.exports=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}},{}],668:[function(e,t,n){var i=e("./eq");t.exports=function(e,t){for(var n=e.length;n--;)if(i(e[n][0],t))return n;return-1}},{"./eq":750}],669:[function(e,t,n){var i=e("./_defineProperty");t.exports=function(e,t,n){"__proto__"==t&&i?i(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},{"./_defineProperty":695}],670:[function(e,t,n){var i=e("./_createBaseFor")();t.exports=i},{"./_createBaseFor":694}],671:[function(e,t,n){var i=e("./_baseFor"),r=e("./keys");t.exports=function(e,t){return e&&i(e,t,r)}},{"./_baseFor":670,"./keys":765}],672:[function(e,t,n){var i=e("./_castPath"),r=e("./_toKey");t.exports=function(e,t){for(var n=0,o=(t=i(t,e)).length;null!=e&&n<o;)e=e[r(t[n++])];return n&&n==o?e:void 0}},{"./_castPath":692,"./_toKey":748}],673:[function(e,t,n){var i=e("./_arrayPush"),r=e("./isArray");t.exports=function(e,t,n){var o=t(e);return r(e)?o:i(o,n(e))}},{"./_arrayPush":666,"./isArray":755}],674:[function(e,t,n){var i=e("./_Symbol"),r=e("./_getRawTag"),o=e("./_objectToString"),a=i?i.toStringTag:void 0;t.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?r(e):o(e)}},{"./_Symbol":660,"./_getRawTag":704,"./_objectToString":736}],675:[function(e,t,n){t.exports=function(e,t){return null!=e&&t in Object(e)}},{}],676:[function(e,t,n){var i=e("./_baseGetTag"),r=e("./isObjectLike");t.exports=function(e){return r(e)&&"[object Arguments]"==i(e)}},{"./_baseGetTag":674,"./isObjectLike":762}],677:[function(e,t,n){var i=e("./_baseIsEqualDeep"),r=e("./isObjectLike");t.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!r(t)&&!r(n)?t!=t&&n!=n:i(t,n,o,a,e,s))}},{"./_baseIsEqualDeep":678,"./isObjectLike":762}],678:[function(e,t,n){var i=e("./_Stack"),r=e("./_equalArrays"),o=e("./_equalByTag"),a=e("./_equalObjects"),s=e("./_getTag"),u=e("./isArray"),l=e("./isBuffer"),c=e("./isTypedArray"),d="[object Arguments]",p="[object Array]",h="[object Object]",f=Object.prototype.hasOwnProperty;t.exports=function(e,t,n,m,g,y){var v=u(e),_=u(t),b=v?p:s(e),w=_?p:s(t),E=(b=b==d?h:b)==h,S=(w=w==d?h:w)==h,T=b==w;if(T&&l(e)){if(!l(t))return!1;v=!0,E=!1}if(T&&!E)return y||(y=new i),v||c(e)?r(e,t,n,m,g,y):o(e,t,b,n,m,g,y);if(!(1&n)){var C=E&&f.call(e,"__wrapped__"),x=S&&f.call(t,"__wrapped__");if(C||x){var A=C?e.value():e,k=x?t.value():t;return y||(y=new i),g(A,k,n,m,y)}}return!!T&&(y||(y=new i),a(e,t,n,m,g,y))}},{"./_Stack":659,"./_equalArrays":696,"./_equalByTag":697,"./_equalObjects":698,"./_getTag":706,"./isArray":755,"./isBuffer":757,"./isTypedArray":764}],679:[function(e,t,n){var i=e("./_Stack"),r=e("./_baseIsEqual");t.exports=function(e,t,n,o){var a=n.length,s=a,u=!o;if(null==e)return!s;for(e=Object(e);a--;){var l=n[a];if(u&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<s;){var c=(l=n[a])[0],d=e[c],p=l[1];if(u&&l[2]){if(void 0===d&&!(c in e))return!1}else{var h=new i;if(o)var f=o(d,p,c,e,t,h);if(!(void 0===f?r(p,d,3,o,h):f))return!1}}return!0}},{"./_Stack":659,"./_baseIsEqual":677}],680:[function(e,t,n){var i=e("./isFunction"),r=e("./_isMasked"),o=e("./isObject"),a=e("./_toSource"),s=/^\[object .+?Constructor\]$/,u=Function.prototype,l=Object.prototype,c=u.toString,d=l.hasOwnProperty,p=RegExp("^"+c.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(e){return!(!o(e)||r(e))&&(i(e)?p:s).test(a(e))}},{"./_isMasked":717,"./_toSource":749,"./isFunction":759,"./isObject":761}],681:[function(e,t,n){var i=e("./_baseGetTag"),r=e("./isLength"),o=e("./isObjectLike"),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(e){return o(e)&&r(e.length)&&!!a[i(e)]}},{"./_baseGetTag":674,"./isLength":760,"./isObjectLike":762}],682:[function(e,t,n){var i=e("./_baseMatches"),r=e("./_baseMatchesProperty"),o=e("./identity"),a=e("./isArray"),s=e("./property");t.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?r(e[0],e[1]):i(e):s(e)}},{"./_baseMatches":684,"./_baseMatchesProperty":685,"./identity":753,"./isArray":755,"./property":768}],683:[function(e,t,n){var i=e("./_isPrototype"),r=e("./_nativeKeys"),o=Object.prototype.hasOwnProperty;t.exports=function(e){if(!i(e))return r(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},{"./_isPrototype":718,"./_nativeKeys":734}],684:[function(e,t,n){var i=e("./_baseIsMatch"),r=e("./_getMatchData"),o=e("./_matchesStrictComparable");t.exports=function(e){var t=r(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||i(n,e,t)}}},{"./_baseIsMatch":679,"./_getMatchData":702,"./_matchesStrictComparable":731}],685:[function(e,t,n){var i=e("./_baseIsEqual"),r=e("./get"),o=e("./hasIn"),a=e("./_isKey"),s=e("./_isStrictComparable"),u=e("./_matchesStrictComparable"),l=e("./_toKey");t.exports=function(e,t){return a(e)&&s(t)?u(l(e),t):function(n){var a=r(n,e);return void 0===a&&a===t?o(n,e):i(t,a,3)}}},{"./_baseIsEqual":677,"./_isKey":715,"./_isStrictComparable":719,"./_matchesStrictComparable":731,"./_toKey":748,"./get":751,"./hasIn":752}],686:[function(e,t,n){t.exports=function(e){return function(t){return null==t?void 0:t[e]}}},{}],687:[function(e,t,n){var i=e("./_baseGet");t.exports=function(e){return function(t){return i(t,e)}}},{"./_baseGet":672}],688:[function(e,t,n){t.exports=function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}},{}],689:[function(e,t,n){var i=e("./_Symbol"),r=e("./_arrayMap"),o=e("./isArray"),a=e("./isSymbol"),s=i?i.prototype:void 0,u=s?s.toString:void 0;t.exports=function e(t){if("string"==typeof t)return t;if(o(t))return r(t,e)+"";if(a(t))return u?u.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},{"./_Symbol":660,"./_arrayMap":665,"./isArray":755,"./isSymbol":763}],690:[function(e,t,n){t.exports=function(e){return function(t){return e(t)}}},{}],691:[function(e,t,n){t.exports=function(e,t){return e.has(t)}},{}],692:[function(e,t,n){var i=e("./isArray"),r=e("./_isKey"),o=e("./_stringToPath"),a=e("./toString");t.exports=function(e,t){return i(e)?e:r(e,t)?[e]:o(a(e))}},{"./_isKey":715,"./_stringToPath":747,"./isArray":755,"./toString":771}],693:[function(e,t,n){var i=e("./_root")["__core-js_shared__"];t.exports=i},{"./_root":738}],694:[function(e,t,n){t.exports=function(e){return function(t,n,i){for(var r=-1,o=Object(t),a=i(t),s=a.length;s--;){var u=a[e?s:++r];if(!1===n(o[u],u,o))break}return t}}},{}],695:[function(e,t,n){var i=e("./_getNative"),r=function(){try{var e=i(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();t.exports=r},{"./_getNative":703}],696:[function(e,t,n){var i=e("./_SetCache"),r=e("./_arraySome"),o=e("./_cacheHas");t.exports=function(e,t,n,a,s,u){var l=1&n,c=e.length,d=t.length;if(c!=d&&!(l&&d>c))return!1;var p=u.get(e),h=u.get(t);if(p&&h)return p==t&&h==e;var f=-1,m=!0,g=2&n?new i:void 0;for(u.set(e,t),u.set(t,e);++f<c;){var y=e[f],v=t[f];if(a)var _=l?a(v,y,f,t,e,u):a(y,v,f,e,t,u);if(void 0!==_){if(_)continue;m=!1;break}if(g){if(!r(t,(function(e,t){if(!o(g,t)&&(y===e||s(y,e,n,a,u)))return g.push(t)}))){m=!1;break}}else if(y!==v&&!s(y,v,n,a,u)){m=!1;break}}return u.delete(e),u.delete(t),m}},{"./_SetCache":658,"./_arraySome":667,"./_cacheHas":691}],697:[function(e,t,n){var i=e("./_Symbol"),r=e("./_Uint8Array"),o=e("./eq"),a=e("./_equalArrays"),s=e("./_mapToArray"),u=e("./_setToArray"),l=i?i.prototype:void 0,c=l?l.valueOf:void 0;t.exports=function(e,t,n,i,l,d,p){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new r(e),new r(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=s;case"[object Set]":var f=1&i;if(h||(h=u),e.size!=t.size&&!f)return!1;var m=p.get(e);if(m)return m==t;i|=2,p.set(e,t);var g=a(h(e),h(t),i,l,d,p);return p.delete(e),g;case"[object Symbol]":if(c)return c.call(e)==c.call(t)}return!1}},{"./_Symbol":660,"./_Uint8Array":661,"./_equalArrays":696,"./_mapToArray":730,"./_setToArray":741,"./eq":750}],698:[function(e,t,n){var i=e("./_getAllKeys"),r=Object.prototype.hasOwnProperty;t.exports=function(e,t,n,o,a,s){var u=1&n,l=i(e),c=l.length;if(c!=i(t).length&&!u)return!1;for(var d=c;d--;){var p=l[d];if(!(u?p in t:r.call(t,p)))return!1}var h=s.get(e),f=s.get(t);if(h&&f)return h==t&&f==e;var m=!0;s.set(e,t),s.set(t,e);for(var g=u;++d<c;){var y=e[p=l[d]],v=t[p];if(o)var _=u?o(v,y,p,t,e,s):o(y,v,p,e,t,s);if(!(void 0===_?y===v||a(y,v,n,o,s):_)){m=!1;break}g||(g="constructor"==p)}if(m&&!g){var b=e.constructor,w=t.constructor;b==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(m=!1)}return s.delete(e),s.delete(t),m}},{"./_getAllKeys":700}],699:[function(e,t,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],700:[function(e,t,n){var i=e("./_baseGetAllKeys"),r=e("./_getSymbols"),o=e("./keys");t.exports=function(e){return i(e,o,r)}},{"./_baseGetAllKeys":673,"./_getSymbols":705,"./keys":765}],701:[function(e,t,n){var i=e("./_isKeyable");t.exports=function(e,t){var n=e.__data__;return i(t)?n["string"==typeof t?"string":"hash"]:n.map}},{"./_isKeyable":716}],702:[function(e,t,n){var i=e("./_isStrictComparable"),r=e("./keys");t.exports=function(e){for(var t=r(e),n=t.length;n--;){var o=t[n],a=e[o];t[n]=[o,a,i(a)]}return t}},{"./_isStrictComparable":719,"./keys":765}],703:[function(e,t,n){var i=e("./_baseIsNative"),r=e("./_getValue");t.exports=function(e,t){var n=r(e,t);return i(n)?n:void 0}},{"./_baseIsNative":680,"./_getValue":707}],704:[function(e,t,n){var i=e("./_Symbol"),r=Object.prototype,o=r.hasOwnProperty,a=r.toString,s=i?i.toStringTag:void 0;t.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var i=!0}catch(e){}var r=a.call(e);return i&&(t?e[s]=n:delete e[s]),r}},{"./_Symbol":660}],705:[function(e,t,n){var i=e("./_arrayFilter"),r=e("./stubArray"),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),i(a(e),(function(t){return o.call(e,t)})))}:r;t.exports=s},{"./_arrayFilter":663,"./stubArray":769}],706:[function(e,t,n){var i=e("./_DataView"),r=e("./_Map"),o=e("./_Promise"),a=e("./_Set"),s=e("./_WeakMap"),u=e("./_baseGetTag"),l=e("./_toSource"),c="[object Map]",d="[object Promise]",p="[object Set]",h="[object WeakMap]",f="[object DataView]",m=l(i),g=l(r),y=l(o),v=l(a),_=l(s),b=u;(i&&b(new i(new ArrayBuffer(1)))!=f||r&&b(new r)!=c||o&&b(o.resolve())!=d||a&&b(new a)!=p||s&&b(new s)!=h)&&(b=function(e){var t=u(e),n="[object Object]"==t?e.constructor:void 0,i=n?l(n):"";if(i)switch(i){case m:return f;case g:return c;case y:return d;case v:return p;case _:return h}return t}),t.exports=b},{"./_DataView":651,"./_Map":654,"./_Promise":656,"./_Set":657,"./_WeakMap":662,"./_baseGetTag":674,"./_toSource":749}],707:[function(e,t,n){t.exports=function(e,t){return null==e?void 0:e[t]}},{}],708:[function(e,t,n){var i=e("./_castPath"),r=e("./isArguments"),o=e("./isArray"),a=e("./_isIndex"),s=e("./isLength"),u=e("./_toKey");t.exports=function(e,t,n){for(var l=-1,c=(t=i(t,e)).length,d=!1;++l<c;){var p=u(t[l]);if(!(d=null!=e&&n(e,p)))break;e=e[p]}return d||++l!=c?d:!!(c=null==e?0:e.length)&&s(c)&&a(p,c)&&(o(e)||r(e))}},{"./_castPath":692,"./_isIndex":714,"./_toKey":748,"./isArguments":754,"./isArray":755,"./isLength":760}],709:[function(e,t,n){var i=e("./_nativeCreate");t.exports=function(){this.__data__=i?i(null):{},this.size=0}},{"./_nativeCreate":733}],710:[function(e,t,n){t.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},{}],711:[function(e,t,n){var i=e("./_nativeCreate"),r=Object.prototype.hasOwnProperty;t.exports=function(e){var t=this.__data__;if(i){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return r.call(t,e)?t[e]:void 0}},{"./_nativeCreate":733}],712:[function(e,t,n){var i=e("./_nativeCreate"),r=Object.prototype.hasOwnProperty;t.exports=function(e){var t=this.__data__;return i?void 0!==t[e]:r.call(t,e)}},{"./_nativeCreate":733}],713:[function(e,t,n){var i=e("./_nativeCreate");t.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=i&&void 0===t?"__lodash_hash_undefined__":t,this}},{"./_nativeCreate":733}],714:[function(e,t,n){var i=/^(?:0|[1-9]\d*)$/;t.exports=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&i.test(e))&&e>-1&&e%1==0&&e<t}},{}],715:[function(e,t,n){var i=e("./isArray"),r=e("./isSymbol"),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(e,t){if(i(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!r(e))||(a.test(e)||!o.test(e)||null!=t&&e in Object(t))}},{"./isArray":755,"./isSymbol":763}],716:[function(e,t,n){t.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},{}],717:[function(e,t,n){var i,r=e("./_coreJsData"),o=(i=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"";t.exports=function(e){return!!o&&o in e}},{"./_coreJsData":693}],718:[function(e,t,n){var i=Object.prototype;t.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||i)}},{}],719:[function(e,t,n){var i=e("./isObject");t.exports=function(e){return e==e&&!i(e)}},{"./isObject":761}],720:[function(e,t,n){t.exports=function(){this.__data__=[],this.size=0}},{}],721:[function(e,t,n){var i=e("./_assocIndexOf"),r=Array.prototype.splice;t.exports=function(e){var t=this.__data__,n=i(t,e);return!(n<0)&&(n==t.length-1?t.pop():r.call(t,n,1),--this.size,!0)}},{"./_assocIndexOf":668}],722:[function(e,t,n){var i=e("./_assocIndexOf");t.exports=function(e){var t=this.__data__,n=i(t,e);return n<0?void 0:t[n][1]}},{"./_assocIndexOf":668}],723:[function(e,t,n){var i=e("./_assocIndexOf");t.exports=function(e){return i(this.__data__,e)>-1}},{"./_assocIndexOf":668}],724:[function(e,t,n){var i=e("./_assocIndexOf");t.exports=function(e,t){var n=this.__data__,r=i(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}},{"./_assocIndexOf":668}],725:[function(e,t,n){var i=e("./_Hash"),r=e("./_ListCache"),o=e("./_Map");t.exports=function(){this.size=0,this.__data__={hash:new i,map:new(o||r),string:new i}}},{"./_Hash":652,"./_ListCache":653,"./_Map":654}],726:[function(e,t,n){var i=e("./_getMapData");t.exports=function(e){var t=i(this,e).delete(e);return this.size-=t?1:0,t}},{"./_getMapData":701}],727:[function(e,t,n){var i=e("./_getMapData");t.exports=function(e){return i(this,e).get(e)}},{"./_getMapData":701}],728:[function(e,t,n){var i=e("./_getMapData");t.exports=function(e){return i(this,e).has(e)}},{"./_getMapData":701}],729:[function(e,t,n){var i=e("./_getMapData");t.exports=function(e,t){var n=i(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}},{"./_getMapData":701}],730:[function(e,t,n){t.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}},{}],731:[function(e,t,n){t.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},{}],732:[function(e,t,n){var i=e("./memoize");t.exports=function(e){var t=i(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},{"./memoize":767}],733:[function(e,t,n){var i=e("./_getNative")(Object,"create");t.exports=i},{"./_getNative":703}],734:[function(e,t,n){var i=e("./_overArg")(Object.keys,Object);t.exports=i},{"./_overArg":737}],735:[function(e,t,n){var i=e("./_freeGlobal"),r="object"==typeof n&&n&&!n.nodeType&&n,o=r&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===r&&i.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();t.exports=s},{"./_freeGlobal":699}],736:[function(e,t,n){var i=Object.prototype.toString;t.exports=function(e){return i.call(e)}},{}],737:[function(e,t,n){t.exports=function(e,t){return function(n){return e(t(n))}}},{}],738:[function(e,t,n){var i=e("./_freeGlobal"),r="object"==typeof self&&self&&self.Object===Object&&self,o=i||r||Function("return this")();t.exports=o},{"./_freeGlobal":699}],739:[function(e,t,n){t.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},{}],740:[function(e,t,n){t.exports=function(e){return this.__data__.has(e)}},{}],741:[function(e,t,n){t.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},{}],742:[function(e,t,n){var i=e("./_ListCache");t.exports=function(){this.__data__=new i,this.size=0}},{"./_ListCache":653}],743:[function(e,t,n){t.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},{}],744:[function(e,t,n){t.exports=function(e){return this.__data__.get(e)}},{}],745:[function(e,t,n){t.exports=function(e){return this.__data__.has(e)}},{}],746:[function(e,t,n){var i=e("./_ListCache"),r=e("./_Map"),o=e("./_MapCache");t.exports=function(e,t){var n=this.__data__;if(n instanceof i){var a=n.__data__;if(!r||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},{"./_ListCache":653,"./_Map":654,"./_MapCache":655}],747:[function(e,t,n){var i=e("./_memoizeCapped"),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=i((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(r,(function(e,n,i,r){t.push(i?r.replace(o,"$1"):n||e)})),t}));t.exports=a},{"./_memoizeCapped":732}],748:[function(e,t,n){var i=e("./isSymbol");t.exports=function(e){if("string"==typeof e||i(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},{"./isSymbol":763}],749:[function(e,t,n){var i=Function.prototype.toString;t.exports=function(e){if(null!=e){try{return i.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},{}],750:[function(e,t,n){t.exports=function(e,t){return e===t||e!=e&&t!=t}},{}],751:[function(e,t,n){var i=e("./_baseGet");t.exports=function(e,t,n){var r=null==e?void 0:i(e,t);return void 0===r?n:r}},{"./_baseGet":672}],752:[function(e,t,n){var i=e("./_baseHasIn"),r=e("./_hasPath");t.exports=function(e,t){return null!=e&&r(e,t,i)}},{"./_baseHasIn":675,"./_hasPath":708}],753:[function(e,t,n){t.exports=function(e){return e}},{}],754:[function(e,t,n){var i=e("./_baseIsArguments"),r=e("./isObjectLike"),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=i(function(){return arguments}())?i:function(e){return r(e)&&a.call(e,"callee")&&!s.call(e,"callee")};t.exports=u},{"./_baseIsArguments":676,"./isObjectLike":762}],755:[function(e,t,n){var i=Array.isArray;t.exports=i},{}],756:[function(e,t,n){var i=e("./isFunction"),r=e("./isLength");t.exports=function(e){return null!=e&&r(e.length)&&!i(e)}},{"./isFunction":759,"./isLength":760}],757:[function(e,t,n){var i=e("./_root"),r=e("./stubFalse"),o="object"==typeof n&&n&&!n.nodeType&&n,a=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===o?i.Buffer:void 0,u=(s?s.isBuffer:void 0)||r;t.exports=u},{"./_root":738,"./stubFalse":770}],758:[function(e,t,n){var i=e("./_baseIsEqual");t.exports=function(e,t){return i(e,t)}},{"./_baseIsEqual":677}],759:[function(e,t,n){var i=e("./_baseGetTag"),r=e("./isObject");t.exports=function(e){if(!r(e))return!1;var t=i(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},{"./_baseGetTag":674,"./isObject":761}],760:[function(e,t,n){t.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},{}],761:[function(e,t,n){t.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},{}],762:[function(e,t,n){t.exports=function(e){return null!=e&&"object"==typeof e}},{}],763:[function(e,t,n){var i=e("./_baseGetTag"),r=e("./isObjectLike");t.exports=function(e){return"symbol"==typeof e||r(e)&&"[object Symbol]"==i(e)}},{"./_baseGetTag":674,"./isObjectLike":762}],764:[function(e,t,n){var i=e("./_baseIsTypedArray"),r=e("./_baseUnary"),o=e("./_nodeUtil"),a=o&&o.isTypedArray,s=a?r(a):i;t.exports=s},{"./_baseIsTypedArray":681,"./_baseUnary":690,"./_nodeUtil":735}],765:[function(e,t,n){var i=e("./_arrayLikeKeys"),r=e("./_baseKeys"),o=e("./isArrayLike");t.exports=function(e){return o(e)?i(e):r(e)}},{"./_arrayLikeKeys":664,"./_baseKeys":683,"./isArrayLike":756}],766:[function(e,t,n){var i=e("./_baseAssignValue"),r=e("./_baseForOwn"),o=e("./_baseIteratee");t.exports=function(e,t){var n={};return t=o(t,3),r(e,(function(e,r,o){i(n,r,t(e,r,o))})),n}},{"./_baseAssignValue":669,"./_baseForOwn":671,"./_baseIteratee":682}],767:[function(e,t,n){var i=e("./_MapCache");function r(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=e.apply(this,i);return n.cache=o.set(r,a)||o,a};return n.cache=new(r.Cache||i),n}r.Cache=i,t.exports=r},{"./_MapCache":655}],768:[function(e,t,n){var i=e("./_baseProperty"),r=e("./_basePropertyDeep"),o=e("./_isKey"),a=e("./_toKey");t.exports=function(e){return o(e)?i(a(e)):r(e)}},{"./_baseProperty":686,"./_basePropertyDeep":687,"./_isKey":715,"./_toKey":748}],769:[function(e,t,n){t.exports=function(){return[]}},{}],770:[function(e,t,n){t.exports=function(){return!1}},{}],771:[function(e,t,n){var i=e("./_baseToString");t.exports=function(e){return null==e?"":i(e)}},{"./_baseToString":689}],772:[function(e,t,n){arguments[4][561][0].apply(n,arguments)},{dup:561,yallist:828}],773:[function(e,t,n){var i=1e3,r=60*i,o=60*r,a=24*o,s=7*a,u=365.25*a;function l(e,t,n,i){var r=t>=1.5*n;return Math.round(e/n)+" "+i+(r?"s":"")}t.exports=function(e,t){t=t||{};var n=typeof e;if("string"===n&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*u;case"weeks":case"week":case"w":return n*s;case"days":case"day":case"d":return n*a;case"hours":case"hour":case"hrs":case"hr":case"h":return n*o;case"minutes":case"minute":case"mins":case"min":case"m":return n*r;case"seconds":case"second":case"secs":case"sec":case"s":return n*i;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}(e);if("number"===n&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=a)return l(e,t,a,"day");if(t>=o)return l(e,t,o,"hour");if(t>=r)return l(e,t,r,"minute");if(t>=i)return l(e,t,i,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=a)return Math.round(e/a)+"d";if(t>=o)return Math.round(e/o)+"h";if(t>=r)return Math.round(e/r)+"m";if(t>=i)return Math.round(e/i)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},{}],774:[function(e,t,n){arguments[4][562][0].apply(n,arguments)},{"../functions/cmp":778,"../internal/debug":803,"../internal/parse-options":805,"../internal/re":806,"./range":775,"./semver":776,dup:562}],775:[function(e,t,n){arguments[4][563][0].apply(n,arguments)},{"../internal/constants":802,"../internal/debug":803,"../internal/parse-options":805,"../internal/re":806,"./comparator":774,"./semver":776,dup:563,"lru-cache":772}],776:[function(e,t,n){arguments[4][564][0].apply(n,arguments)},{"../internal/constants":802,"../internal/debug":803,"../internal/identifiers":804,"../internal/parse-options":805,"../internal/re":806,dup:564}],777:[function(e,t,n){arguments[4][565][0].apply(n,arguments)},{"./parse":793,dup:565}],778:[function(e,t,n){arguments[4][566][0].apply(n,arguments)},{"./eq":784,"./gt":785,"./gte":786,"./lt":788,"./lte":789,"./neq":792,dup:566}],779:[function(e,t,n){arguments[4][567][0].apply(n,arguments)},{"../classes/semver":776,"../internal/re":806,"./parse":793,dup:567}],780:[function(e,t,n){arguments[4][568][0].apply(n,arguments)},{"../classes/semver":776,dup:568}],781:[function(e,t,n){arguments[4][569][0].apply(n,arguments)},{"./compare":782,dup:569}],782:[function(e,t,n){arguments[4][570][0].apply(n,arguments)},{"../classes/semver":776,dup:570}],783:[function(e,t,n){arguments[4][571][0].apply(n,arguments)},{"./parse.js":793,dup:571}],784:[function(e,t,n){arguments[4][572][0].apply(n,arguments)},{"./compare":782,dup:572}],785:[function(e,t,n){arguments[4][573][0].apply(n,arguments)},{"./compare":782,dup:573}],786:[function(e,t,n){arguments[4][574][0].apply(n,arguments)},{"./compare":782,dup:574}],787:[function(e,t,n){arguments[4][575][0].apply(n,arguments)},{"../classes/semver":776,dup:575}],788:[function(e,t,n){arguments[4][576][0].apply(n,arguments)},{"./compare":782,dup:576}],789:[function(e,t,n){arguments[4][577][0].apply(n,arguments)},{"./compare":782,dup:577}],790:[function(e,t,n){arguments[4][578][0].apply(n,arguments)},{"../classes/semver":776,dup:578}],791:[function(e,t,n){arguments[4][579][0].apply(n,arguments)},{"../classes/semver":776,dup:579}],792:[function(e,t,n){arguments[4][580][0].apply(n,arguments)},{"./compare":782,dup:580}],793:[function(e,t,n){arguments[4][581][0].apply(n,arguments)},{"../classes/semver":776,dup:581}],794:[function(e,t,n){arguments[4][582][0].apply(n,arguments)},{"../classes/semver":776,dup:582}],795:[function(e,t,n){arguments[4][583][0].apply(n,arguments)},{"./parse":793,dup:583}],796:[function(e,t,n){arguments[4][584][0].apply(n,arguments)},{"./compare":782,dup:584}],797:[function(e,t,n){arguments[4][585][0].apply(n,arguments)},{"./compare-build":780,dup:585}],798:[function(e,t,n){arguments[4][586][0].apply(n,arguments)},{"../classes/range":775,dup:586}],799:[function(e,t,n){arguments[4][587][0].apply(n,arguments)},{"./compare-build":780,dup:587}],800:[function(e,t,n){arguments[4][588][0].apply(n,arguments)},{"./parse":793,dup:588}],801:[function(e,t,n){arguments[4][589][0].apply(n,arguments)},{"./classes/comparator":774,"./classes/range":775,"./classes/semver":776,"./functions/clean":777,"./functions/cmp":778,"./functions/coerce":779,"./functions/compare":782,"./functions/compare-build":780,"./functions/compare-loose":781,"./functions/diff":783,"./functions/eq":784,"./functions/gt":785,"./functions/gte":786,"./functions/inc":787,"./functions/lt":788,"./functions/lte":789,"./functions/major":790,"./functions/minor":791,"./functions/neq":792,"./functions/parse":793,"./functions/patch":794,"./functions/prerelease":795,"./functions/rcompare":796,"./functions/rsort":797,"./functions/satisfies":798,"./functions/sort":799,"./functions/valid":800,"./internal/constants":802,"./internal/identifiers":804,"./internal/re":806,"./ranges/gtr":807,"./ranges/intersects":808,"./ranges/ltr":809,"./ranges/max-satisfying":810,"./ranges/min-satisfying":811,"./ranges/min-version":812,"./ranges/outside":813,"./ranges/simplify":814,"./ranges/subset":815,"./ranges/to-comparators":816,"./ranges/valid":817,dup:589}],802:[function(e,t,n){arguments[4][590][0].apply(n,arguments)},{dup:590}],803:[function(e,t,n){arguments[4][591][0].apply(n,arguments)},{_process:519,dup:591}],804:[function(e,t,n){arguments[4][592][0].apply(n,arguments)},{dup:592}],805:[function(e,t,n){arguments[4][593][0].apply(n,arguments)},{dup:593}],806:[function(e,t,n){arguments[4][594][0].apply(n,arguments)},{"./constants":802,"./debug":803,dup:594}],807:[function(e,t,n){arguments[4][595][0].apply(n,arguments)},{"./outside":813,dup:595}],808:[function(e,t,n){arguments[4][596][0].apply(n,arguments)},{"../classes/range":775,dup:596}],809:[function(e,t,n){arguments[4][597][0].apply(n,arguments)},{"./outside":813,dup:597}],810:[function(e,t,n){arguments[4][598][0].apply(n,arguments)},{"../classes/range":775,"../classes/semver":776,dup:598}],811:[function(e,t,n){arguments[4][599][0].apply(n,arguments)},{"../classes/range":775,"../classes/semver":776,dup:599}],812:[function(e,t,n){arguments[4][600][0].apply(n,arguments)},{"../classes/range":775,"../classes/semver":776,"../functions/gt":785,dup:600}],813:[function(e,t,n){arguments[4][601][0].apply(n,arguments)},{"../classes/comparator":774,"../classes/range":775,"../classes/semver":776,"../functions/gt":785,"../functions/gte":786,"../functions/lt":788,"../functions/lte":789,"../functions/satisfies":798,dup:601}],814:[function(e,t,n){arguments[4][602][0].apply(n,arguments)},{"../functions/compare.js":782,"../functions/satisfies.js":798,dup:602}],815:[function(e,t,n){arguments[4][603][0].apply(n,arguments)},{"../classes/comparator.js":774,"../classes/range.js":775,"../functions/compare.js":782,"../functions/satisfies.js":798,dup:603}],816:[function(e,t,n){arguments[4][604][0].apply(n,arguments)},{"../classes/range":775,dup:604}],817:[function(e,t,n){arguments[4][605][0].apply(n,arguments)},{"../classes/range":775,dup:605}],818:[function(e,t,n){"use strict";function i(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Object.defineProperty(n,"__esModule",{value:!0}),n.Backoff=void 0,n.Backoff=i,i.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},i.prototype.reset=function(){this.attempts=0},i.prototype.setMin=function(e){this.ms=e},i.prototype.setMax=function(e){this.max=e},i.prototype.setJitter=function(e){this.jitter=e}},{}],819:[function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.connect=n.io=n.Socket=n.Manager=n.protocol=void 0;const r=e("./url.js"),o=e("./manager.js");Object.defineProperty(n,"Manager",{enumerable:!0,get:function(){return o.Manager}});const a=e("./socket.js");Object.defineProperty(n,"Socket",{enumerable:!0,get:function(){return a.Socket}});const s=i(e("debug")).default("socket.io-client"),u={};function l(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};const n=r.url(e,t.path||"/socket.io"),i=n.source,a=n.id,l=n.path,c=u[a]&&l in u[a].nsps;let d;return t.forceNew||t["force new connection"]||!1===t.multiplex||c?(s("ignoring socket cache for %s",i),d=new o.Manager(i,t)):(u[a]||(s("new io instance for %s",i),u[a]=new o.Manager(i,t)),d=u[a]),n.query&&!t.query&&(t.query=n.queryKey),d.socket(n.path,t)}n.io=l,n.connect=l,n.default=l,Object.assign(l,{Manager:o.Manager,Socket:a.Socket,io:l,connect:l});var c=e("socket.io-parser");Object.defineProperty(n,"protocol",{enumerable:!0,get:function(){return c.protocol}}),t.exports=l},{"./manager.js":820,"./socket.js":822,"./url.js":823,debug:629,"socket.io-parser":825}],820:[function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.Manager=void 0;const s=e("engine.io-client"),u=e("./socket.js"),l=o(e("socket.io-parser")),c=e("./on.js"),d=e("./contrib/backo2.js"),p=e("@socket.io/component-emitter"),h=a(e("debug")).default("socket.io-client:manager");class f extends p.Emitter{constructor(e,t){var n;super(),this.nsps={},this.subs=[],e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,s.installTimerFunctions(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(n=t.randomizationFactor)&&void 0!==n?n:.5),this.backoff=new d.Backoff({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;const i=t.parser||l;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(h("readyState %s",this._readyState),~this._readyState.indexOf("open"))return this;h("opening %s",this.uri),this.engine=new s.Socket(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=c.on(t,"open",(function(){n.onopen(),e&&e()})),r=c.on(t,"error",(t=>{h("error"),n.cleanup(),n._readyState="closed",this.emitReserved("error",t),e?e(t):n.maybeReconnectOnOpen()}));if(!1!==this._timeout){const e=this._timeout;h("connect attempt will timeout after %d",e),0===e&&i();const n=this.setTimeoutFn((()=>{h("connect attempt timed out after %d",e),i(),t.close(),t.emit("error",new Error("timeout"))}),e);this.opts.autoUnref&&n.unref(),this.subs.push((function(){clearTimeout(n)}))}return this.subs.push(i),this.subs.push(r),this}connect(e){return this.open(e)}onopen(){h("open"),this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(c.on(e,"ping",this.onping.bind(this)),c.on(e,"data",this.ondata.bind(this)),c.on(e,"error",this.onerror.bind(this)),c.on(e,"close",this.onclose.bind(this)),c.on(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(e){this.onclose("parse error",e)}}ondecoded(e){s.nextTick((()=>{this.emitReserved("packet",e)}),this.setTimeoutFn)}onerror(e){h("error",e),this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n||(n=new u.Socket(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const e of t){if(this.nsps[e].active)return void h("socket %s is still active, skipping close",e)}this._close()}_packet(e){h("writing packet %j",e);const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){h("cleanup"),this.subs.forEach((e=>e())),this.subs.length=0,this.decoder.destroy()}_close(){h("disconnect"),this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,t){h("closed due to %s",e),this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)h("reconnect failed"),this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();h("will wait %dms before reconnect attempt",t),this._reconnecting=!0;const n=this.setTimeoutFn((()=>{e.skipReconnect||(h("attempting reconnect"),this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open((t=>{t?(h("reconnect attempt error"),e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):(h("reconnect success"),e.onreconnect())})))}),t);this.opts.autoUnref&&n.unref(),this.subs.push((function(){clearTimeout(n)}))}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}n.Manager=f},{"./contrib/backo2.js":818,"./on.js":821,"./socket.js":822,"@socket.io/component-emitter":246,debug:629,"engine.io-client":637,"socket.io-parser":825}],821:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.on=void 0,n.on=function(e,t,n){return e.on(t,n),function(){e.off(t,n)}}},{}],822:[function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.Socket=void 0;const r=e("socket.io-parser"),o=e("./on.js"),a=e("@socket.io/component-emitter"),s=i(e("debug")).default("socket.io-client:socket"),u=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class l extends a.Emitter{constructor(e,t,n){super(),this.connected=!1,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[o.on(e,"open",this.onopen.bind(this)),o.on(e,"packet",this.onpacket.bind(this)),o.on(e,"error",this.onerror.bind(this)),o.on(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){if(u.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');t.unshift(e);const n={type:r.PacketType.EVENT,data:t,options:{}};if(n.options.compress=!1!==this.flags.compress,"function"==typeof t[t.length-1]){const e=this.ids++;s("emitting packet with ack id %d",e);const i=t.pop();this._registerAckCallback(e,i),n.id=e}const i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!i||!this.connected)?s("discard packet as the transport is not currently writable"):this.connected?(this.notifyOutgoingListeners(n),this.packet(n)):this.sendBuffer.push(n),this.flags={},this}_registerAckCallback(e,t){const n=this.flags.timeout;if(void 0===n)return void(this.acks[e]=t);const i=this.io.setTimeoutFn((()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&(s("removing packet with ack id %d from the buffer",e),this.sendBuffer.splice(t,1));s("event with ack id %d has timed out after %d ms",e,n),t.call(this,new Error("operation has timed out"))}),n);this.acks[e]=(...e)=>{this.io.clearTimeoutFn(i),t.apply(this,[null,...e])}}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){s("transport is open - connecting"),"function"==typeof this.auth?this.auth((e=>{this.packet({type:r.PacketType.CONNECT,data:e})})):this.packet({type:r.PacketType.CONNECT,data:this.auth})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){s("close (%s)",e),this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case r.PacketType.CONNECT:if(e.data&&e.data.sid){const t=e.data.sid;this.onconnect(t)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case r.PacketType.EVENT:case r.PacketType.BINARY_EVENT:this.onevent(e);break;case r.PacketType.ACK:case r.PacketType.BINARY_ACK:this.onack(e);break;case r.PacketType.DISCONNECT:this.ondisconnect();break;case r.PacketType.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];s("emitting event %j",t),null!=e.id&&(s("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e)}ack(e){const t=this;let n=!1;return function(...i){n||(n=!0,s("sending ack %j",i),t.packet({type:r.PacketType.ACK,id:e,data:i}))}}onack(e){const t=this.acks[e.id];"function"==typeof t?(s("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):s("bad ack %s",e.id)}onconnect(e){s("socket connected with id %s",e),this.id=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach((e=>this.emitEvent(e))),this.receiveBuffer=[],this.sendBuffer.forEach((e=>{this.notifyOutgoingListeners(e),this.packet(e)})),this.sendBuffer=[]}ondisconnect(){s("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((e=>e())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&(s("performing disconnect (%s)",this.nsp),this.packet({type:r.PacketType.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}n.Socket=l},{"./on.js":821,"@socket.io/component-emitter":246,debug:629,"socket.io-parser":825}],823:[function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.url=void 0;const r=e("engine.io-client"),o=i(e("debug")).default("socket.io-client:url");n.url=function(e,t="",n){let i=e;n=n||"undefined"!=typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(o("protocol-less url %s",e),e=void 0!==n?n.protocol+"//"+e:"https://"+e),o("parse %s",e),i=r.parse(e)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const a=-1!==i.host.indexOf(":")?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+a+":"+i.port+t,i.href=i.protocol+"://"+a+(n&&n.port===i.port?"":":"+i.port),i}},{debug:629,"engine.io-client":637}],824:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.reconstructPacket=n.deconstructPacket=void 0;const i=e("./is-binary.js");function r(e,t){if(!e)return e;if((0,i.isBinary)(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){const n=new Array(e.length);for(let i=0;i<e.length;i++)n[i]=r(e[i],t);return n}if("object"==typeof e&&!(e instanceof Date)){const n={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=r(e[i],t));return n}return e}function o(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"==typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=o(e[n],t);else if("object"==typeof e)for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=o(e[n],t));return e}n.deconstructPacket=function(e){const t=[],n=e.data,i=e;return i.data=r(n,t),i.attachments=t.length,{packet:i,buffers:t}},n.reconstructPacket=function(e,t){return e.data=o(e.data,t),delete e.attachments,e}},{"./is-binary.js":826}],825:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Decoder=n.Encoder=n.PacketType=n.protocol=void 0;const i=e("@socket.io/component-emitter"),r=e("./binary.js"),o=e("./is-binary.js"),a=(0,e("debug").default)("socket.io-parser"),s=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"];var u;n.protocol=5,function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(u=n.PacketType||(n.PacketType={}));function l(e){return"[object Object]"===Object.prototype.toString.call(e)}n.Encoder=class{constructor(e){this.replacer=e}encode(e){return a("encoding packet %j",e),e.type!==u.EVENT&&e.type!==u.ACK||!(0,o.hasBinary)(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===u.EVENT?u.BINARY_EVENT:u.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==u.BINARY_EVENT&&e.type!==u.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),a("encoded %j as %s",e,t),t}encodeAsBinary(e){const t=(0,r.deconstructPacket)(e),n=this.encodeAsString(t.packet),i=t.buffers;return i.unshift(n),i}};class c extends i.Emitter{constructor(e){super(),this.reviver=e}add(e){let t;if("string"==typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===u.BINARY_EVENT;n||t.type===u.BINARY_ACK?(t.type=n?u.EVENT:u.ACK,this.reconstructor=new d(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!(0,o.isBinary)(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(void 0===u[n.type])throw new Error("unknown packet type "+n.type);if(n.type===u.BINARY_EVENT||n.type===u.BINARY_ACK){const i=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const r=e.substring(i,t);if(r!=Number(r)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(r)}if("/"===e.charAt(t+1)){const i=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}n.nsp=e.substring(i,t)}else n.nsp="/";const i=e.charAt(t+1);if(""!==i&&Number(i)==i){const i=t+1;for(;++t;){const n=e.charAt(t);if(null==n||Number(n)!=n){--t;break}if(t===e.length)break}n.id=Number(e.substring(i,t+1))}if(e.charAt(++t)){const i=this.tryParse(e.substr(t));if(!c.isPayloadValid(n.type,i))throw new Error("invalid payload");n.data=i}return a("decoded %s as %j",e,n),n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(e){return!1}}static isPayloadValid(e,t){switch(e){case u.CONNECT:return l(t);case u.DISCONNECT:return void 0===t;case u.CONNECT_ERROR:return"string"==typeof t||l(t);case u.EVENT:case u.BINARY_EVENT:return Array.isArray(t)&&("number"==typeof t[0]||"string"==typeof t[0]&&-1===s.indexOf(t[0]));case u.ACK:case u.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}n.Decoder=c;class d{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=(0,r.reconstructPacket)(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}},{"./binary.js":824,"./is-binary.js":826,"@socket.io/component-emitter":246,debug:629}],826:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.hasBinary=n.isBinary=void 0;const i="function"==typeof ArrayBuffer,r=Object.prototype.toString,o="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===r.call(Blob),a="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===r.call(File);function s(e){return i&&(e instanceof ArrayBuffer||(e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||o&&e instanceof Blob||a&&e instanceof File}n.isBinary=s,n.hasBinary=function e(t,n){if(!t||"object"!=typeof t)return!1;if(Array.isArray(t)){for(let n=0,i=t.length;n<i;n++)if(e(t[n]))return!0;return!1}if(s(t))return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return e(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return!0;return!1}},{}],827:[function(e,t,n){arguments[4][606][0].apply(n,arguments)},{dup:606}],828:[function(e,t,n){arguments[4][607][0].apply(n,arguments)},{"./iterator.js":827,dup:607}],829:[function(e,t,n){var i=e("./url"),r=e("socket.io-parser"),o=e("./manager"),a=e("debug")("socket.io-client");t.exports=n=u;var s=n.managers={};function u(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,r=i(e),u=r.source,l=r.id,c=r.path,d=s[l]&&c in s[l].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||d?(a("ignoring socket cache for %s",u),n=o(u,t)):(s[l]||(a("new io instance for %s",u),s[l]=o(u,t)),n=s[l]),r.query&&!t.query?t.query=r.query:t&&"object"==typeof t.query&&(t.query=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}(t.query)),n.socket(r.path,t)}n.protocol=r.protocol,n.connect=u,n.Manager=e("./manager"),n.Socket=e("./socket")},{"./manager":830,"./socket":832,"./url":833,debug:835,"socket.io-parser":839}],830:[function(e,t,n){var i=e("engine.io-client"),r=e("./socket"),o=e("component-emitter"),a=e("socket.io-parser"),s=e("./on"),u=e("component-bind"),l=e("debug")("socket.io-client:manager"),c=e("indexof"),d=e("backo2"),p=Object.prototype.hasOwnProperty;function h(e,t){if(!(this instanceof h))return new h(e,t);e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new d({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[],this.encoder=new a.Encoder,this.decoder=new a.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}t.exports=h,h.prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)p.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},h.prototype.updateSocketIds=function(){for(var e in this.nsps)p.call(this.nsps,e)&&(this.nsps[e].id=this.engine.id)},o(h.prototype),h.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},h.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},h.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},h.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},h.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},h.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},h.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},h.prototype.open=h.prototype.connect=function(e,t){if(l("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;l("opening %s",this.uri),this.engine=i(this.uri,this.opts);var n=this.engine,r=this;this.readyState="opening",this.skipReconnect=!1;var o=s(n,"open",(function(){r.onopen(),e&&e()})),a=s(n,"error",(function(t){if(l("connect_error"),r.cleanup(),r.readyState="closed",r.emitAll("connect_error",t),e){var n=new Error("Connection error");n.data=t,e(n)}else r.maybeReconnectOnOpen()}));if(!1!==this._timeout){var u=this._timeout;l("connect attempt will timeout after %d",u);var c=setTimeout((function(){l("connect attempt timed out after %d",u),o.destroy(),n.close(),n.emit("error","timeout"),r.emitAll("connect_timeout",u)}),u);this.subs.push({destroy:function(){clearTimeout(c)}})}return this.subs.push(o),this.subs.push(a),this},h.prototype.onopen=function(){l("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(s(e,"data",u(this,"ondata"))),this.subs.push(s(e,"ping",u(this,"onping"))),this.subs.push(s(e,"pong",u(this,"onpong"))),this.subs.push(s(e,"error",u(this,"onerror"))),this.subs.push(s(e,"close",u(this,"onclose"))),this.subs.push(s(this.decoder,"decoded",u(this,"ondecoded")))},h.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},h.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},h.prototype.ondata=function(e){this.decoder.add(e)},h.prototype.ondecoded=function(e){this.emit("packet",e)},h.prototype.onerror=function(e){l("error",e),this.emitAll("error",e)},h.prototype.socket=function(e,t){var n=this.nsps[e];if(!n){n=new r(this,e,t),this.nsps[e]=n;var i=this;n.on("connecting",o),n.on("connect",(function(){n.id=i.engine.id})),this.autoConnect&&o()}function o(){~c(i.connecting,n)||i.connecting.push(n)}return n},h.prototype.destroy=function(e){var t=c(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},h.prototype.packet=function(e){l("writing packet %j",e);var t=this;e.query&&0===e.type&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,(function(n){for(var i=0;i<n.length;i++)t.engine.write(n[i],e.options);t.encoding=!1,t.processPacketQueue()})))},h.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},h.prototype.cleanup=function(){l("cleanup");for(var e=this.subs.length,t=0;t<e;t++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},h.prototype.close=h.prototype.disconnect=function(){l("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},h.prototype.onclose=function(e){l("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},h.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)l("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();l("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout((function(){e.skipReconnect||(l("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open((function(t){t?(l("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(l("reconnect success"),e.onreconnect())})))}),t);this.subs.push({destroy:function(){clearTimeout(n)}})}},h.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},{"./on":831,"./socket":832,backo2:278,"component-bind":290,"component-emitter":834,debug:835,"engine.io-client":365,indexof:470,"socket.io-parser":839}],831:[function(e,t,n){t.exports=function(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}},{}],832:[function(e,t,n){var i=e("socket.io-parser"),r=e("component-emitter"),o=e("to-array"),a=e("./on"),s=e("component-bind"),u=e("debug")("socket.io-client:socket"),l=e("has-binary");t.exports=p;var c={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},d=r.prototype.emit;function p(e,t,n){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}r(p.prototype),p.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[a(e,"open",s(this,"onopen")),a(e,"packet",s(this,"onpacket")),a(e,"close",s(this,"onclose"))]}},p.prototype.open=p.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting")),this},p.prototype.send=function(){var e=o(arguments);return e.unshift("message"),this.emit.apply(this,e),this},p.prototype.emit=function(e){if(c.hasOwnProperty(e))return d.apply(this,arguments),this;var t=o(arguments),n=i.EVENT;l(t)&&(n=i.BINARY_EVENT);var r={type:n,data:t,options:{}};return r.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(u("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),r.id=this.ids++),this.connected?this.packet(r):this.sendBuffer.push(r),delete this.flags,this},p.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},p.prototype.onopen=function(){u("transport is open - connecting"),"/"!==this.nsp&&(this.query?this.packet({type:i.CONNECT,query:this.query}):this.packet({type:i.CONNECT}))},p.prototype.onclose=function(e){u("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},p.prototype.onpacket=function(e){if(e.nsp===this.nsp)switch(e.type){case i.CONNECT:this.onconnect();break;case i.EVENT:case i.BINARY_EVENT:this.onevent(e);break;case i.ACK:case i.BINARY_ACK:this.onack(e);break;case i.DISCONNECT:this.ondisconnect();break;case i.ERROR:this.emit("error",e.data)}},p.prototype.onevent=function(e){var t=e.data||[];u("emitting event %j",t),null!=e.id&&(u("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?d.apply(this,t):this.receiveBuffer.push(t)},p.prototype.ack=function(e){var t=this,n=!1;return function(){if(!n){n=!0;var r=o(arguments);u("sending ack %j",r);var a=l(r)?i.BINARY_ACK:i.ACK;t.packet({type:a,id:e,data:r})}}},p.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(u("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):u("bad ack %s",e.id)},p.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},p.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)d.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},p.prototype.ondisconnect=function(){u("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},p.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},p.prototype.close=p.prototype.disconnect=function(){return this.connected&&(u("performing disconnect (%s)",this.nsp),this.packet({type:i.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},p.prototype.compress=function(e){return this.flags=this.flags||{},this.flags.compress=e,this}},{"./on":831,"component-bind":290,"component-emitter":834,debug:835,"has-binary":464,"socket.io-parser":839,"to-array":857}],833:[function(e,t,n){(function(n){var i=e("parseuri"),r=e("debug")("socket.io-client:url");t.exports=function(e,t){var o=e;t=t||n.location,null==e&&(e=t.protocol+"//"+t.host);"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?t.protocol+e:t.host+e),/^(https?|wss?):\/\//.test(e)||(r("protocol-less url %s",e),e=void 0!==t?t.protocol+"//"+e:"https://"+e),r("parse %s",e),o=i(e));o.port||(/^(http|ws)$/.test(o.protocol)?o.port="80":/^(http|ws)s$/.test(o.protocol)&&(o.port="443"));o.path=o.path||"/";var a=-1!==o.host.indexOf(":")?"["+o.host+"]":o.host;return o.id=o.protocol+"://"+a+":"+o.port,o.href=o.protocol+"://"+a+(t&&t.port===o.port?"":":"+o.port),o}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{debug:835,parseuri:517}],834:[function(e,t,n){arguments[4][375][0].apply(n,arguments)},{dup:375}],835:[function(e,t,n){arguments[4][376][0].apply(n,arguments)},{"./debug":836,_process:519,dup:376}],836:[function(e,t,n){arguments[4][377][0].apply(n,arguments)},{dup:377,ms:837}],837:[function(e,t,n){arguments[4][378][0].apply(n,arguments)},{dup:378}],838:[function(e,t,n){(function(t){var i=e("isarray"),r=e("./is-buffer");n.deconstructPacket=function(e){var t=[],n=e.data;var o=e;return o.data=function e(n){if(!n)return n;if(r(n)){var o={_placeholder:!0,num:t.length};return t.push(n),o}if(i(n)){for(var a=new Array(n.length),s=0;s<n.length;s++)a[s]=e(n[s]);return a}if("object"==typeof n&&!(n instanceof Date)){a={};for(var u in n)a[u]=e(n[u]);return a}return n}(n),o.attachments=t.length,{packet:o,buffers:t}},n.reconstructPacket=function(e,t){return e.data=function e(n){if(n&&n._placeholder)return t[n.num];if(i(n)){for(var r=0;r<n.length;r++)n[r]=e(n[r]);return n}if(n&&"object"==typeof n){for(var o in n)n[o]=e(n[o]);return n}return n}(e.data),e.attachments=void 0,e},n.removeBlobs=function(e,n){var o=0,a=e;!function e(s,u,l){if(!s)return s;if(t.Blob&&s instanceof Blob||t.File&&s instanceof File){o++;var c=new FileReader;c.onload=function(){l?l[u]=this.result:a=this.result,--o||n(a)},c.readAsArrayBuffer(s)}else if(i(s))for(var d=0;d<s.length;d++)e(s[d],d,s);else if(s&&"object"==typeof s&&!r(s))for(var p in s)e(s[p],p,s)}(a),o||n(a)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./is-buffer":840,isarray:844}],839:[function(e,t,n){var i=e("debug")("socket.io-parser"),r=e("json3"),o=e("component-emitter"),a=e("./binary"),s=e("./is-buffer");function u(){}function l(e){var t="",o=!1;return t+=e.type,n.BINARY_EVENT!=e.type&&n.BINARY_ACK!=e.type||(t+=e.attachments,t+="-"),e.nsp&&"/"!=e.nsp&&(o=!0,t+=e.nsp),null!=e.id&&(o&&(t+=",",o=!1),t+=e.id),null!=e.data&&(o&&(t+=","),t+=r.stringify(e.data)),i("encoded %j as %s",e,t),t}function c(){this.reconstructor=null}function d(e){this.reconPack=e,this.buffers=[]}function p(e){return{type:n.ERROR,data:"parser error"}}n.protocol=4,n.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],n.CONNECT=0,n.DISCONNECT=1,n.EVENT=2,n.ACK=3,n.ERROR=4,n.BINARY_EVENT=5,n.BINARY_ACK=6,n.Encoder=u,n.Decoder=c,u.prototype.encode=function(e,t){(i("encoding packet %j",e),n.BINARY_EVENT==e.type||n.BINARY_ACK==e.type)?function(e,t){function n(e){var n=a.deconstructPacket(e),i=l(n.packet),r=n.buffers;r.unshift(i),t(r)}a.removeBlobs(e,n)}(e,t):t([l(e)])},o(c.prototype),c.prototype.add=function(e){var t;if("string"==typeof e)t=function(e){var t={},o=0;if(t.type=Number(e.charAt(0)),null==n.types[t.type])return p();if(n.BINARY_EVENT==t.type||n.BINARY_ACK==t.type){for(var a="";"-"!=e.charAt(++o)&&(a+=e.charAt(o),o!=e.length););if(a!=Number(a)||"-"!=e.charAt(o))throw new Error("Illegal attachments");t.attachments=Number(a)}if("/"==e.charAt(o+1))for(t.nsp="";++o;){if(","==(u=e.charAt(o)))break;if(t.nsp+=u,o==e.length)break}else t.nsp="/";var s=e.charAt(o+1);if(""!==s&&Number(s)==s){for(t.id="";++o;){var u;if(null==(u=e.charAt(o))||Number(u)!=u){--o;break}if(t.id+=e.charAt(o),o==e.length)break}t.id=Number(t.id)}e.charAt(++o)&&(t=function(e,t){try{e.data=r.parse(t)}catch(e){return p()}return e}(t,e.substr(o)));return i("decoded %s as %j",e,t),t}(e),n.BINARY_EVENT==t.type||n.BINARY_ACK==t.type?(this.reconstructor=new d(t),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",t)):this.emit("decoded",t);else{if(!s(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(t=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",t))}},c.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},d.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length==this.reconPack.attachments){var t=a.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},d.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},{"./binary":838,"./is-buffer":840,"component-emitter":841,debug:842,json3:499}],840:[function(e,t,n){(function(e){t.exports=function(t){return e.Buffer&&e.Buffer.isBuffer(t)||e.ArrayBuffer&&t instanceof ArrayBuffer}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],841:[function(e,t,n){function i(e){if(e)return function(e){for(var t in i.prototype)e[t]=i.prototype[t];return e}(e)}t.exports=i,i.prototype.on=i.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},i.prototype.once=function(e,t){var n=this;function i(){n.off(e,i),t.apply(this,arguments)}return this._callbacks=this._callbacks||{},i.fn=t,this.on(e,i),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,i=this._callbacks[e];if(!i)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var r=0;r<i.length;r++)if((n=i[r])===t||n.fn===t){i.splice(r,1);break}return this},i.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n)for(var i=0,r=(n=n.slice(0)).length;i<r;++i)n[i].apply(this,t);return this},i.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},i.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],842:[function(e,t,n){function i(){var e;try{e=n.storage.debug}catch(e){}return e}(n=t.exports=e("./debug")).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},n.formatArgs=function(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff),!t)return e;var i="color: "+this.color;e=[e[0],i,"color: inherit"].concat(Array.prototype.slice.call(e,1));var r=0,o=0;return e[0].replace(/%[a-z%]/g,(function(e){"%%"!==e&&(r++,"%c"===e&&(o=r))})),e.splice(o,0,i),e},n.save=function(e){try{null==e?n.storage.removeItem("debug"):n.storage.debug=e}catch(e){}},n.load=i,n.useColors=function(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31},n.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(e){return JSON.stringify(e)},n.enable(i())},{"./debug":843}],843:[function(e,t,n){n=t.exports=function(e){function t(){}function r(){var e=r,t=+new Date,a=t-(i||t);e.diff=a,e.prev=i,e.curr=t,i=t,null==e.useColors&&(e.useColors=n.useColors()),null==e.color&&e.useColors&&(e.color=o());var s=Array.prototype.slice.call(arguments);s[0]=n.coerce(s[0]),"string"!=typeof s[0]&&(s=["%o"].concat(s));var u=0;s[0]=s[0].replace(/%([a-z%])/g,(function(t,i){if("%%"===t)return t;u++;var r=n.formatters[i];if("function"==typeof r){var o=s[u];t=r.call(e,o),s.splice(u,1),u--}return t})),"function"==typeof n.formatArgs&&(s=n.formatArgs.apply(e,s));var l=r.log||n.log||console.log.bind(console);l.apply(e,s)}t.enabled=!1,r.enabled=!0;var a=n.enabled(e)?r:t;return a.namespace=e,a},n.coerce=function(e){return e instanceof Error?e.stack||e.message:e},n.disable=function(){n.enable("")},n.enable=function(e){n.save(e);for(var t=(e||"").split(/[\s,]+/),i=t.length,r=0;r<i;r++)t[r]&&("-"===(e=t[r].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")))},n.enabled=function(e){var t,i;for(t=0,i=n.skips.length;t<i;t++)if(n.skips[t].test(e))return!1;for(t=0,i=n.names.length;t<i;t++)if(n.names[t].test(e))return!0;return!1},n.humanize=e("ms"),n.names=[],n.skips=[],n.formatters={};var i,r=0;function o(){return n.colors[r++%n.colors.length]}},{ms:845}],844:[function(e,t,n){arguments[4][465][0].apply(n,arguments)},{dup:465}],845:[function(e,t,n){var i=1e3,r=60*i,o=60*r,a=24*o,s=365.25*a;function u(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}t.exports=function(e,t){return t=t||{},"string"==typeof e?function(e){if((e=""+e).length>1e4)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*s;case"days":case"day":case"d":return n*a;case"hours":case"hour":case"hrs":case"hr":case"h":return n*o;case"minutes":case"minute":case"mins":case"min":case"m":return n*r;case"seconds":case"second":case"secs":case"sec":case"s":return n*i;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n}}(e):t.long?u(n=e,a,"day")||u(n,o,"hour")||u(n,r,"minute")||u(n,i,"second")||n+" ms":function(e){return e>=a?Math.round(e/a)+"d":e>=o?Math.round(e/o)+"h":e>=r?Math.round(e/r)+"m":e>=i?Math.round(e/i)+"s":e+"ms"}(e);var n}},{}],846:[function(e,t,n){var i=e("./util"),r=Object.prototype.hasOwnProperty,o="undefined"!=typeof Map;function a(){this._array=[],this._set=o?new Map:Object.create(null)}a.fromArray=function(e,t){for(var n=new a,i=0,r=e.length;i<r;i++)n.add(e[i],t);return n},a.prototype.size=function(){return o?this._set.size:Object.getOwnPropertyNames(this._set).length},a.prototype.add=function(e,t){var n=o?e:i.toSetString(e),a=o?this.has(e):r.call(this._set,n),s=this._array.length;a&&!t||this._array.push(e),a||(o?this._set.set(e,s):this._set[n]=s)},a.prototype.has=function(e){if(o)return this._set.has(e);var t=i.toSetString(e);return r.call(this._set,t)},a.prototype.indexOf=function(e){if(o){var t=this._set.get(e);if(t>=0)return t}else{var n=i.toSetString(e);if(r.call(this._set,n))return this._set[n]}throw new Error('"'+e+'" is not in the set.')},a.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},a.prototype.toArray=function(){return this._array.slice()},n.ArraySet=a},{"./util":855}],847:[function(e,t,n){var i=e("./base64");n.encode=function(e){var t,n="",r=function(e){return e<0?1+(-e<<1):0+(e<<1)}(e);do{t=31&r,(r>>>=5)>0&&(t|=32),n+=i.encode(t)}while(r>0);return n},n.decode=function(e,t,n){var r,o,a,s,u=e.length,l=0,c=0;do{if(t>=u)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(o=i.decode(e.charCodeAt(t++))))throw new Error("Invalid base64 digit: "+e.charAt(t-1));r=!!(32&o),l+=(o&=31)<<c,c+=5}while(r);n.value=(s=(a=l)>>1,1==(1&a)?-s:s),n.rest=t}},{"./base64":848}],848:[function(e,t,n){var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");n.encode=function(e){if(0<=e&&e<i.length)return i[e];throw new TypeError("Must be between 0 and 63: "+e)},n.decode=function(e){return 65<=e&&e<=90?e-65:97<=e&&e<=122?e-97+26:48<=e&&e<=57?e-48+52:43==e?62:47==e?63:-1}},{}],849:[function(e,t,n){function i(e,t,r,o,a,s){var u=Math.floor((t-e)/2)+e,l=a(r,o[u],!0);return 0===l?u:l>0?t-u>1?i(u,t,r,o,a,s):s==n.LEAST_UPPER_BOUND?t<o.length?t:-1:u:u-e>1?i(e,u,r,o,a,s):s==n.LEAST_UPPER_BOUND?u:e<0?-1:e}n.GREATEST_LOWER_BOUND=1,n.LEAST_UPPER_BOUND=2,n.search=function(e,t,r,o){if(0===t.length)return-1;var a=i(-1,t.length,e,t,r,o||n.GREATEST_LOWER_BOUND);if(a<0)return-1;for(;a-1>=0&&0===r(t[a],t[a-1],!0);)--a;return a}},{}],850:[function(e,t,n){var i=e("./util");function r(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}r.prototype.unsortedForEach=function(e,t){this._array.forEach(e,t)},r.prototype.add=function(e){var t,n,r,o,a,s;t=this._last,n=e,r=t.generatedLine,o=n.generatedLine,a=t.generatedColumn,s=n.generatedColumn,o>r||o==r&&s>=a||i.compareByGeneratedPositionsInflated(t,n)<=0?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))},r.prototype.toArray=function(){return this._sorted||(this._array.sort(i.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},n.MappingList=r},{"./util":855}],851:[function(e,t,n){function i(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function r(e,t,n,o){if(n<o){var a=n-1;i(e,(c=n,d=o,Math.round(c+Math.random()*(d-c))),o);for(var s=e[o],u=n;u<o;u++)t(e[u],s)<=0&&i(e,a+=1,u);i(e,a+1,u);var l=a+1;r(e,t,n,l-1),r(e,t,l+1,o)}var c,d}n.quickSort=function(e,t){r(e,t,0,e.length-1)}},{}],852:[function(e,t,n){var i=e("./util"),r=e("./binary-search"),o=e("./array-set").ArraySet,a=e("./base64-vlq"),s=e("./quick-sort").quickSort;function u(e,t){var n=e;return"string"==typeof e&&(n=i.parseSourceMapInput(e)),null!=n.sections?new d(n,t):new l(n,t)}function l(e,t){var n=e;"string"==typeof e&&(n=i.parseSourceMapInput(e));var r=i.getArg(n,"version"),a=i.getArg(n,"sources"),s=i.getArg(n,"names",[]),u=i.getArg(n,"sourceRoot",null),l=i.getArg(n,"sourcesContent",null),c=i.getArg(n,"mappings"),d=i.getArg(n,"file",null);if(r!=this._version)throw new Error("Unsupported version: "+r);u&&(u=i.normalize(u)),a=a.map(String).map(i.normalize).map((function(e){return u&&i.isAbsolute(u)&&i.isAbsolute(e)?i.relative(u,e):e})),this._names=o.fromArray(s.map(String),!0),this._sources=o.fromArray(a,!0),this._absoluteSources=this._sources.toArray().map((function(e){return i.computeSourceURL(u,e,t)})),this.sourceRoot=u,this.sourcesContent=l,this._mappings=c,this._sourceMapURL=t,this.file=d}function c(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function d(e,t){var n=e;"string"==typeof e&&(n=i.parseSourceMapInput(e));var r=i.getArg(n,"version"),a=i.getArg(n,"sections");if(r!=this._version)throw new Error("Unsupported version: "+r);this._sources=new o,this._names=new o;var s={line:-1,column:0};this._sections=a.map((function(e){if(e.url)throw new Error("Support for url field in sections not implemented.");var n=i.getArg(e,"offset"),r=i.getArg(n,"line"),o=i.getArg(n,"column");if(r<s.line||r===s.line&&o<s.column)throw new Error("Section offsets must be ordered and non-overlapping.");return s=n,{generatedOffset:{generatedLine:r+1,generatedColumn:o+1},consumer:new u(i.getArg(e,"map"),t)}}))}u.fromSourceMap=function(e,t){return l.fromSourceMap(e,t)},u.prototype._version=3,u.prototype.__generatedMappings=null,Object.defineProperty(u.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),u.prototype.__originalMappings=null,Object.defineProperty(u.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),u.prototype._charIsMappingSeparator=function(e,t){var n=e.charAt(t);return";"===n||","===n},u.prototype._parseMappings=function(e,t){throw new Error("Subclasses must implement _parseMappings")},u.GENERATED_ORDER=1,u.ORIGINAL_ORDER=2,u.GREATEST_LOWER_BOUND=1,u.LEAST_UPPER_BOUND=2,u.prototype.eachMapping=function(e,t,n){var r,o=t||null;switch(n||u.GENERATED_ORDER){case u.GENERATED_ORDER:r=this._generatedMappings;break;case u.ORIGINAL_ORDER:r=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var a=this.sourceRoot;r.map((function(e){var t=null===e.source?null:this._sources.at(e.source);return{source:t=i.computeSourceURL(a,t,this._sourceMapURL),generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:null===e.name?null:this._names.at(e.name)}}),this).forEach(e,o)},u.prototype.allGeneratedPositionsFor=function(e){var t=i.getArg(e,"line"),n={source:i.getArg(e,"source"),originalLine:t,originalColumn:i.getArg(e,"column",0)};if(n.source=this._findSourceIndex(n.source),n.source<0)return[];var o=[],a=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",i.compareByOriginalPositions,r.LEAST_UPPER_BOUND);if(a>=0){var s=this._originalMappings[a];if(void 0===e.column)for(var u=s.originalLine;s&&s.originalLine===u;)o.push({line:i.getArg(s,"generatedLine",null),column:i.getArg(s,"generatedColumn",null),lastColumn:i.getArg(s,"lastGeneratedColumn",null)}),s=this._originalMappings[++a];else for(var l=s.originalColumn;s&&s.originalLine===t&&s.originalColumn==l;)o.push({line:i.getArg(s,"generatedLine",null),column:i.getArg(s,"generatedColumn",null),lastColumn:i.getArg(s,"lastGeneratedColumn",null)}),s=this._originalMappings[++a]}return o},n.SourceMapConsumer=u,l.prototype=Object.create(u.prototype),l.prototype.consumer=u,l.prototype._findSourceIndex=function(e){var t,n=e;if(null!=this.sourceRoot&&(n=i.relative(this.sourceRoot,n)),this._sources.has(n))return this._sources.indexOf(n);for(t=0;t<this._absoluteSources.length;++t)if(this._absoluteSources[t]==e)return t;return-1},l.fromSourceMap=function(e,t){var n=Object.create(l.prototype),r=n._names=o.fromArray(e._names.toArray(),!0),a=n._sources=o.fromArray(e._sources.toArray(),!0);n.sourceRoot=e._sourceRoot,n.sourcesContent=e._generateSourcesContent(n._sources.toArray(),n.sourceRoot),n.file=e._file,n._sourceMapURL=t,n._absoluteSources=n._sources.toArray().map((function(e){return i.computeSourceURL(n.sourceRoot,e,t)}));for(var u=e._mappings.toArray().slice(),d=n.__generatedMappings=[],p=n.__originalMappings=[],h=0,f=u.length;h<f;h++){var m=u[h],g=new c;g.generatedLine=m.generatedLine,g.generatedColumn=m.generatedColumn,m.source&&(g.source=a.indexOf(m.source),g.originalLine=m.originalLine,g.originalColumn=m.originalColumn,m.name&&(g.name=r.indexOf(m.name)),p.push(g)),d.push(g)}return s(n.__originalMappings,i.compareByOriginalPositions),n},l.prototype._version=3,Object.defineProperty(l.prototype,"sources",{get:function(){return this._absoluteSources.slice()}}),l.prototype._parseMappings=function(e,t){for(var n,r,o,u,l,d=1,p=0,h=0,f=0,m=0,g=0,y=e.length,v=0,_={},b={},w=[],E=[];v<y;)if(";"===e.charAt(v))d++,v++,p=0;else if(","===e.charAt(v))v++;else{for((n=new c).generatedLine=d,u=v;u<y&&!this._charIsMappingSeparator(e,u);u++);if(o=_[r=e.slice(v,u)])v+=r.length;else{for(o=[];v<u;)a.decode(e,v,b),l=b.value,v=b.rest,o.push(l);if(2===o.length)throw new Error("Found a source, but no line and column");if(3===o.length)throw new Error("Found a source and line, but no column");_[r]=o}n.generatedColumn=p+o[0],p=n.generatedColumn,o.length>1&&(n.source=m+o[1],m+=o[1],n.originalLine=h+o[2],h=n.originalLine,n.originalLine+=1,n.originalColumn=f+o[3],f=n.originalColumn,o.length>4&&(n.name=g+o[4],g+=o[4])),E.push(n),"number"==typeof n.originalLine&&w.push(n)}s(E,i.compareByGeneratedPositionsDeflated),this.__generatedMappings=E,s(w,i.compareByOriginalPositions),this.__originalMappings=w},l.prototype._findMapping=function(e,t,n,i,o,a){if(e[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[n]);if(e[i]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[i]);return r.search(e,t,o,a)},l.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var t=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var n=this._generatedMappings[e+1];if(t.generatedLine===n.generatedLine){t.lastGeneratedColumn=n.generatedColumn-1;continue}}t.lastGeneratedColumn=1/0}},l.prototype.originalPositionFor=function(e){var t={generatedLine:i.getArg(e,"line"),generatedColumn:i.getArg(e,"column")},n=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",i.compareByGeneratedPositionsDeflated,i.getArg(e,"bias",u.GREATEST_LOWER_BOUND));if(n>=0){var r=this._generatedMappings[n];if(r.generatedLine===t.generatedLine){var o=i.getArg(r,"source",null);null!==o&&(o=this._sources.at(o),o=i.computeSourceURL(this.sourceRoot,o,this._sourceMapURL));var a=i.getArg(r,"name",null);return null!==a&&(a=this._names.at(a)),{source:o,line:i.getArg(r,"originalLine",null),column:i.getArg(r,"originalColumn",null),name:a}}}return{source:null,line:null,column:null,name:null}},l.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&(this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some((function(e){return null==e})))},l.prototype.sourceContentFor=function(e,t){if(!this.sourcesContent)return null;var n=this._findSourceIndex(e);if(n>=0)return this.sourcesContent[n];var r,o=e;if(null!=this.sourceRoot&&(o=i.relative(this.sourceRoot,o)),null!=this.sourceRoot&&(r=i.urlParse(this.sourceRoot))){var a=o.replace(/^file:\/\//,"");if("file"==r.scheme&&this._sources.has(a))return this.sourcesContent[this._sources.indexOf(a)];if((!r.path||"/"==r.path)&&this._sources.has("/"+o))return this.sourcesContent[this._sources.indexOf("/"+o)]}if(t)return null;throw new Error('"'+o+'" is not in the SourceMap.')},l.prototype.generatedPositionFor=function(e){var t=i.getArg(e,"source");if((t=this._findSourceIndex(t))<0)return{line:null,column:null,lastColumn:null};var n={source:t,originalLine:i.getArg(e,"line"),originalColumn:i.getArg(e,"column")},r=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",i.compareByOriginalPositions,i.getArg(e,"bias",u.GREATEST_LOWER_BOUND));if(r>=0){var o=this._originalMappings[r];if(o.source===n.source)return{line:i.getArg(o,"generatedLine",null),column:i.getArg(o,"generatedColumn",null),lastColumn:i.getArg(o,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},n.BasicSourceMapConsumer=l,d.prototype=Object.create(u.prototype),d.prototype.constructor=u,d.prototype._version=3,Object.defineProperty(d.prototype,"sources",{get:function(){for(var e=[],t=0;t<this._sections.length;t++)for(var n=0;n<this._sections[t].consumer.sources.length;n++)e.push(this._sections[t].consumer.sources[n]);return e}}),d.prototype.originalPositionFor=function(e){var t={generatedLine:i.getArg(e,"line"),generatedColumn:i.getArg(e,"column")},n=r.search(t,this._sections,(function(e,t){var n=e.generatedLine-t.generatedOffset.generatedLine;return n||e.generatedColumn-t.generatedOffset.generatedColumn})),o=this._sections[n];return o?o.consumer.originalPositionFor({line:t.generatedLine-(o.generatedOffset.generatedLine-1),column:t.generatedColumn-(o.generatedOffset.generatedLine===t.generatedLine?o.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}},d.prototype.hasContentsOfAllSources=function(){return this._sections.every((function(e){return e.consumer.hasContentsOfAllSources()}))},d.prototype.sourceContentFor=function(e,t){for(var n=0;n<this._sections.length;n++){var i=this._sections[n].consumer.sourceContentFor(e,!0);if(i)return i}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},d.prototype.generatedPositionFor=function(e){for(var t=0;t<this._sections.length;t++){var n=this._sections[t];if(-1!==n.consumer._findSourceIndex(i.getArg(e,"source"))){var r=n.consumer.generatedPositionFor(e);if(r)return{line:r.line+(n.generatedOffset.generatedLine-1),column:r.column+(n.generatedOffset.generatedLine===r.line?n.generatedOffset.generatedColumn-1:0)}}}return{line:null,column:null}},d.prototype._parseMappings=function(e,t){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var r=this._sections[n],o=r.consumer._generatedMappings,a=0;a<o.length;a++){var u=o[a],l=r.consumer._sources.at(u.source);l=i.computeSourceURL(r.consumer.sourceRoot,l,this._sourceMapURL),this._sources.add(l),l=this._sources.indexOf(l);var c=null;u.name&&(c=r.consumer._names.at(u.name),this._names.add(c),c=this._names.indexOf(c));var d={source:l,generatedLine:u.generatedLine+(r.generatedOffset.generatedLine-1),generatedColumn:u.generatedColumn+(r.generatedOffset.generatedLine===u.generatedLine?r.generatedOffset.generatedColumn-1:0),originalLine:u.originalLine,originalColumn:u.originalColumn,name:c};this.__generatedMappings.push(d),"number"==typeof d.originalLine&&this.__originalMappings.push(d)}s(this.__generatedMappings,i.compareByGeneratedPositionsDeflated),s(this.__originalMappings,i.compareByOriginalPositions)},n.IndexedSourceMapConsumer=d},{"./array-set":846,"./base64-vlq":847,"./binary-search":849,"./quick-sort":851,"./util":855}],853:[function(e,t,n){var i=e("./base64-vlq"),r=e("./util"),o=e("./array-set").ArraySet,a=e("./mapping-list").MappingList;function s(e){e||(e={}),this._file=r.getArg(e,"file",null),this._sourceRoot=r.getArg(e,"sourceRoot",null),this._skipValidation=r.getArg(e,"skipValidation",!1),this._sources=new o,this._names=new o,this._mappings=new a,this._sourcesContents=null}s.prototype._version=3,s.fromSourceMap=function(e){var t=e.sourceRoot,n=new s({file:e.file,sourceRoot:t});return e.eachMapping((function(e){var i={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(i.source=e.source,null!=t&&(i.source=r.relative(t,i.source)),i.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(i.name=e.name)),n.addMapping(i)})),e.sources.forEach((function(i){var o=i;null!==t&&(o=r.relative(t,i)),n._sources.has(o)||n._sources.add(o);var a=e.sourceContentFor(i);null!=a&&n.setSourceContent(i,a)})),n},s.prototype.addMapping=function(e){var t=r.getArg(e,"generated"),n=r.getArg(e,"original",null),i=r.getArg(e,"source",null),o=r.getArg(e,"name",null);this._skipValidation||this._validateMapping(t,n,i,o),null!=i&&(i=String(i),this._sources.has(i)||this._sources.add(i)),null!=o&&(o=String(o),this._names.has(o)||this._names.add(o)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=n&&n.line,originalColumn:null!=n&&n.column,source:i,name:o})},s.prototype.setSourceContent=function(e,t){var n=e;null!=this._sourceRoot&&(n=r.relative(this._sourceRoot,n)),null!=t?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[r.toSetString(n)]=t):this._sourcesContents&&(delete this._sourcesContents[r.toSetString(n)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},s.prototype.applySourceMap=function(e,t,n){var i=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');i=e.file}var a=this._sourceRoot;null!=a&&(i=r.relative(a,i));var s=new o,u=new o;this._mappings.unsortedForEach((function(t){if(t.source===i&&null!=t.originalLine){var o=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=o.source&&(t.source=o.source,null!=n&&(t.source=r.join(n,t.source)),null!=a&&(t.source=r.relative(a,t.source)),t.originalLine=o.line,t.originalColumn=o.column,null!=o.name&&(t.name=o.name))}var l=t.source;null==l||s.has(l)||s.add(l);var c=t.name;null==c||u.has(c)||u.add(c)}),this),this._sources=s,this._names=u,e.sources.forEach((function(t){var i=e.sourceContentFor(t);null!=i&&(null!=n&&(t=r.join(n,t)),null!=a&&(t=r.relative(a,t)),this.setSourceContent(t,i))}),this)},s.prototype._validateMapping=function(e,t,n,i){if(t&&"number"!=typeof t.line&&"number"!=typeof t.column)throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if((!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0)||t||n||i)&&!(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&n))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:n,original:t,name:i}))},s.prototype._serializeMappings=function(){for(var e,t,n,o,a=0,s=1,u=0,l=0,c=0,d=0,p="",h=this._mappings.toArray(),f=0,m=h.length;f<m;f++){if(e="",(t=h[f]).generatedLine!==s)for(a=0;t.generatedLine!==s;)e+=";",s++;else if(f>0){if(!r.compareByGeneratedPositionsInflated(t,h[f-1]))continue;e+=","}e+=i.encode(t.generatedColumn-a),a=t.generatedColumn,null!=t.source&&(o=this._sources.indexOf(t.source),e+=i.encode(o-d),d=o,e+=i.encode(t.originalLine-1-l),l=t.originalLine-1,e+=i.encode(t.originalColumn-u),u=t.originalColumn,null!=t.name&&(n=this._names.indexOf(t.name),e+=i.encode(n-c),c=n)),p+=e}return p},s.prototype._generateSourcesContent=function(e,t){return e.map((function(e){if(!this._sourcesContents)return null;null!=t&&(e=r.relative(t,e));var n=r.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,n)?this._sourcesContents[n]:null}),this)},s.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},s.prototype.toString=function(){return JSON.stringify(this.toJSON())},n.SourceMapGenerator=s},{"./array-set":846,"./base64-vlq":847,"./mapping-list":850,"./util":855}],854:[function(e,t,n){var i=e("./source-map-generator").SourceMapGenerator,r=e("./util"),o=/(\r?\n)/,a="$$$isSourceNode$$$";function s(e,t,n,i,r){this.children=[],this.sourceContents={},this.line=null==e?null:e,this.column=null==t?null:t,this.source=null==n?null:n,this.name=null==r?null:r,this[a]=!0,null!=i&&this.add(i)}s.fromStringWithSourceMap=function(e,t,n){var i=new s,a=e.split(o),u=0,l=function(){return e()+(e()||"");function e(){return u<a.length?a[u++]:void 0}},c=1,d=0,p=null;return t.eachMapping((function(e){if(null!==p){if(!(c<e.generatedLine)){var t=(n=a[u]||"").substr(0,e.generatedColumn-d);return a[u]=n.substr(e.generatedColumn-d),d=e.generatedColumn,h(p,t),void(p=e)}h(p,l()),c++,d=0}for(;c<e.generatedLine;)i.add(l()),c++;if(d<e.generatedColumn){var n=a[u]||"";i.add(n.substr(0,e.generatedColumn)),a[u]=n.substr(e.generatedColumn),d=e.generatedColumn}p=e}),this),u<a.length&&(p&&h(p,l()),i.add(a.splice(u).join(""))),t.sources.forEach((function(e){var o=t.sourceContentFor(e);null!=o&&(null!=n&&(e=r.join(n,e)),i.setSourceContent(e,o))})),i;function h(e,t){if(null===e||void 0===e.source)i.add(t);else{var o=n?r.join(n,e.source):e.source;i.add(new s(e.originalLine,e.originalColumn,o,t,e.name))}}},s.prototype.add=function(e){if(Array.isArray(e))e.forEach((function(e){this.add(e)}),this);else{if(!e[a]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);e&&this.children.push(e)}return this},s.prototype.prepend=function(e){if(Array.isArray(e))for(var t=e.length-1;t>=0;t--)this.prepend(e[t]);else{if(!e[a]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);this.children.unshift(e)}return this},s.prototype.walk=function(e){for(var t,n=0,i=this.children.length;n<i;n++)(t=this.children[n])[a]?t.walk(e):""!==t&&e(t,{source:this.source,line:this.line,column:this.column,name:this.name})},s.prototype.join=function(e){var t,n,i=this.children.length;if(i>0){for(t=[],n=0;n<i-1;n++)t.push(this.children[n]),t.push(e);t.push(this.children[n]),this.children=t}return this},s.prototype.replaceRight=function(e,t){var n=this.children[this.children.length-1];return n[a]?n.replaceRight(e,t):"string"==typeof n?this.children[this.children.length-1]=n.replace(e,t):this.children.push("".replace(e,t)),this},s.prototype.setSourceContent=function(e,t){this.sourceContents[r.toSetString(e)]=t},s.prototype.walkSourceContents=function(e){for(var t=0,n=this.children.length;t<n;t++)this.children[t][a]&&this.children[t].walkSourceContents(e);var i=Object.keys(this.sourceContents);for(t=0,n=i.length;t<n;t++)e(r.fromSetString(i[t]),this.sourceContents[i[t]])},s.prototype.toString=function(){var e="";return this.walk((function(t){e+=t})),e},s.prototype.toStringWithSourceMap=function(e){var t={code:"",line:1,column:0},n=new i(e),r=!1,o=null,a=null,s=null,u=null;return this.walk((function(e,i){t.code+=e,null!==i.source&&null!==i.line&&null!==i.column?(o===i.source&&a===i.line&&s===i.column&&u===i.name||n.addMapping({source:i.source,original:{line:i.line,column:i.column},generated:{line:t.line,column:t.column},name:i.name}),o=i.source,a=i.line,s=i.column,u=i.name,r=!0):r&&(n.addMapping({generated:{line:t.line,column:t.column}}),o=null,r=!1);for(var l=0,c=e.length;l<c;l++)10===e.charCodeAt(l)?(t.line++,t.column=0,l+1===c?(o=null,r=!1):r&&n.addMapping({source:i.source,original:{line:i.line,column:i.column},generated:{line:t.line,column:t.column},name:i.name})):t.column++})),this.walkSourceContents((function(e,t){n.setSourceContent(e,t)})),{code:t.code,map:n}},n.SourceNode=s},{"./source-map-generator":853,"./util":855}],855:[function(e,t,n){n.getArg=function(e,t,n){if(t in e)return e[t];if(3===arguments.length)return n;throw new Error('"'+t+'" is a required argument.')};var i=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,r=/^data:.+\,.+$/;function o(e){var t=e.match(i);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function a(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}function s(e){var t=e,i=o(e);if(i){if(!i.path)return e;t=i.path}for(var r,s=n.isAbsolute(t),u=t.split(/\/+/),l=0,c=u.length-1;c>=0;c--)"."===(r=u[c])?u.splice(c,1):".."===r?l++:l>0&&(""===r?(u.splice(c+1,l),l=0):(u.splice(c,2),l--));return""===(t=u.join("/"))&&(t=s?"/":"."),i?(i.path=t,a(i)):t}function u(e,t){""===e&&(e="."),""===t&&(t=".");var n=o(t),i=o(e);if(i&&(e=i.path||"/"),n&&!n.scheme)return i&&(n.scheme=i.scheme),a(n);if(n||t.match(r))return t;if(i&&!i.host&&!i.path)return i.host=t,a(i);var u="/"===t.charAt(0)?t:s(e.replace(/\/+$/,"")+"/"+t);return i?(i.path=u,a(i)):u}n.urlParse=o,n.urlGenerate=a,n.normalize=s,n.join=u,n.isAbsolute=function(e){return"/"===e.charAt(0)||i.test(e)},n.relative=function(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");for(var n=0;0!==t.indexOf(e+"/");){var i=e.lastIndexOf("/");if(i<0)return t;if((e=e.slice(0,i)).match(/^([^\/]+:\/)?\/*$/))return t;++n}return Array(n+1).join("../")+t.substr(e.length+1)};var l=!("__proto__"in Object.create(null));function c(e){return e}function d(e){if(!e)return!1;var t=e.length;if(t<9)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(var n=t-10;n>=0;n--)if(36!==e.charCodeAt(n))return!1;return!0}function p(e,t){return e===t?0:null===e?1:null===t?-1:e>t?1:-1}n.toSetString=l?c:function(e){return d(e)?"$"+e:e},n.fromSetString=l?c:function(e){return d(e)?e.slice(1):e},n.compareByOriginalPositions=function(e,t,n){var i=p(e.source,t.source);return 0!==i||0!==(i=e.originalLine-t.originalLine)||0!==(i=e.originalColumn-t.originalColumn)||n||0!==(i=e.generatedColumn-t.generatedColumn)||0!==(i=e.generatedLine-t.generatedLine)?i:p(e.name,t.name)},n.compareByGeneratedPositionsDeflated=function(e,t,n){var i=e.generatedLine-t.generatedLine;return 0!==i||0!==(i=e.generatedColumn-t.generatedColumn)||n||0!==(i=p(e.source,t.source))||0!==(i=e.originalLine-t.originalLine)||0!==(i=e.originalColumn-t.originalColumn)?i:p(e.name,t.name)},n.compareByGeneratedPositionsInflated=function(e,t){var n=e.generatedLine-t.generatedLine;return 0!==n||0!==(n=e.generatedColumn-t.generatedColumn)||0!==(n=p(e.source,t.source))||0!==(n=e.originalLine-t.originalLine)||0!==(n=e.originalColumn-t.originalColumn)?n:p(e.name,t.name)},n.parseSourceMapInput=function(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))},n.computeSourceURL=function(e,t,n){if(t=t||"",e&&("/"!==e[e.length-1]&&"/"!==t[0]&&(e+="/"),t=e+t),n){var i=o(n);if(!i)throw new Error("sourceMapURL could not be parsed");if(i.path){var r=i.path.lastIndexOf("/");r>=0&&(i.path=i.path.substring(0,r+1))}t=u(a(i),t)}return s(t)}},{}],856:[function(e,t,n){n.SourceMapGenerator=e("./lib/source-map-generator").SourceMapGenerator,n.SourceMapConsumer=e("./lib/source-map-consumer").SourceMapConsumer,n.SourceNode=e("./lib/source-node").SourceNode},{"./lib/source-map-consumer":852,"./lib/source-map-generator":853,"./lib/source-node":854}],857:[function(e,t,n){t.exports=function(e,t){for(var n=[],i=(t=t||0)||0;i<e.length;i++)n[i-t]=e[i];return n}},{}],858:[function(e,t,n){!function(e){e(["jquery"],(function(e){return function(){var t,n,i,r=0,o="error",a="info",s="success",u="warning",l={clear:function(n,i){var r=f();t||c(r);d(n,r,i)||function(n){for(var i=t.children(),r=i.length-1;r>=0;r--)d(e(i[r]),n)}(r)},remove:function(n){var i=f();t||c(i);if(n&&0===e(":focus",n).length)return void m(n);t.children().length&&t.remove()},error:function(e,t,n){return h({type:o,iconClass:f().iconClasses.error,message:e,optionsOverride:n,title:t})},getContainer:c,info:function(e,t,n){return h({type:a,iconClass:f().iconClasses.info,message:e,optionsOverride:n,title:t})},options:{},subscribe:function(e){n=e},success:function(e,t,n){return h({type:s,iconClass:f().iconClasses.success,message:e,optionsOverride:n,title:t})},version:"2.1.4",warning:function(e,t,n){return h({type:u,iconClass:f().iconClasses.warning,message:e,optionsOverride:n,title:t})}};return l;function c(n,i){return n||(n=f()),(t=e("#"+n.containerId)).length||i&&(t=function(n){return(t=e("<div/>").attr("id",n.containerId).addClass(n.positionClass)).appendTo(e(n.target)),t}(n)),t}function d(t,n,i){var r=!(!i||!i.force)&&i.force;return!(!t||!r&&0!==e(":focus",t).length)&&(t[n.hideMethod]({duration:n.hideDuration,easing:n.hideEasing,complete:function(){m(t)}}),!0)}function p(e){n&&n(e)}function h(n){var o=f(),a=n.iconClass||o.iconClass;if(void 0!==n.optionsOverride&&(o=e.extend(o,n.optionsOverride),a=n.optionsOverride.iconClass||a),!function(e,t){if(e.preventDuplicates){if(t.message===i)return!0;i=t.message}return!1}(o,n)){r++,t=c(o,!0);var s=null,u=e("<div/>"),l=e("<div/>"),d=e("<div/>"),h=e("<div/>"),g=e(o.closeHtml),y={intervalId:null,hideEta:null,maxHideTime:null},v={toastId:r,state:"visible",startTime:new Date,options:o,map:n};return n.iconClass&&u.addClass(o.toastClass).addClass(a),function(){if(n.title){var e=n.title;o.escapeHtml&&(e=_(n.title)),l.append(e).addClass(o.titleClass),u.append(l)}}(),function(){if(n.message){var e=n.message;o.escapeHtml&&(e=_(n.message)),d.append(e).addClass(o.messageClass),u.append(d)}}(),o.closeButton&&(g.addClass(o.closeClass).attr("role","button"),u.prepend(g)),o.progressBar&&(h.addClass(o.progressClass),u.prepend(h)),o.rtl&&u.addClass("rtl"),o.newestOnTop?t.prepend(u):t.append(u),function(){var e="";switch(n.iconClass){case"toast-success":case"toast-info":e="polite";break;default:e="assertive"}u.attr("aria-live",e)}(),u.hide(),u[o.showMethod]({duration:o.showDuration,easing:o.showEasing,complete:o.onShown}),o.timeOut>0&&(s=setTimeout(b,o.timeOut),y.maxHideTime=parseFloat(o.timeOut),y.hideEta=(new Date).getTime()+y.maxHideTime,o.progressBar&&(y.intervalId=setInterval(S,10))),function(){o.closeOnHover&&u.hover(E,w);!o.onclick&&o.tapToDismiss&&u.click(b);o.closeButton&&g&&g.click((function(e){e.stopPropagation?e.stopPropagation():void 0!==e.cancelBubble&&!0!==e.cancelBubble&&(e.cancelBubble=!0),o.onCloseClick&&o.onCloseClick(e),b(!0)}));o.onclick&&u.click((function(e){o.onclick(e),b()}))}(),p(v),o.debug&&console&&console.log(v),u}function _(e){return null==e&&(e=""),e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function b(t){var n=t&&!1!==o.closeMethod?o.closeMethod:o.hideMethod,i=t&&!1!==o.closeDuration?o.closeDuration:o.hideDuration,r=t&&!1!==o.closeEasing?o.closeEasing:o.hideEasing;if(!e(":focus",u).length||t)return clearTimeout(y.intervalId),u[n]({duration:i,easing:r,complete:function(){m(u),clearTimeout(s),o.onHidden&&"hidden"!==v.state&&o.onHidden(),v.state="hidden",v.endTime=new Date,p(v)}})}function w(){(o.timeOut>0||o.extendedTimeOut>0)&&(s=setTimeout(b,o.extendedTimeOut),y.maxHideTime=parseFloat(o.extendedTimeOut),y.hideEta=(new Date).getTime()+y.maxHideTime)}function E(){clearTimeout(s),y.hideEta=0,u.stop(!0,!0)[o.showMethod]({duration:o.showDuration,easing:o.showEasing})}function S(){var e=(y.hideEta-(new Date).getTime())/y.maxHideTime*100;h.width(e+"%")}}function f(){return e.extend({},{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,closeOnHover:!0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:!1,target:"body",closeHtml:'<button type="button">&times;</button>',closeClass:"toast-close-button",newestOnTop:!0,preventDuplicates:!1,progressBar:!1,progressClass:"toast-progress",rtl:!1},l.options)}function m(e){t||(t=c()),e.is(":visible")||(e.remove(),e=null,0===t.children().length&&(t.remove(),i=void 0))}}()}))}("function"==typeof define&&define.amd?define:function(n,i){void 0!==t&&t.exports?t.exports=i(e("jquery")):window.toastr=i(window.jQuery)})},{jquery:473}],859:[function(e,t,n){!function(e,i){"object"==typeof n&&void 0!==t?i(n):"function"==typeof define&&define.amd?define(["exports"],i):i(e.topojson=e.topojson||{})}(this,(function(e){"use strict";function t(){}function n(e){if(!e)return t;var n,i,r=e.scale[0],o=e.scale[1],a=e.translate[0],s=e.translate[1];return function(e,t){t||(n=i=0),e[0]=(n+=e[0])*r+a,e[1]=(i+=e[1])*o+s}}function i(e,t){for(var n=0,i=e.length;n<i;){var r=n+i>>>1;e[r]<t?n=r+1:i=r}return n}function r(e,t){var n={type:"Feature",id:t.id,properties:t.properties||{},geometry:o(e,t)};return null==t.id&&delete n.id,n}function o(e,t){var i=n(e.transform),r=e.arcs;function o(e,t){t.length&&t.pop();for(var n,o=r[e<0?~e:e],a=0,s=o.length;a<s;++a)t.push(n=o[a].slice()),i(n,a);e<0&&function(e,t){for(var n,i=e.length,r=i-t;r<--i;)n=e[r],e[r++]=e[i],e[i]=n}(t,s)}function a(e){return e=e.slice(),i(e,0),e}function s(e){for(var t=[],n=0,i=e.length;n<i;++n)o(e[n],t);return t.length<2&&t.push(t[0].slice()),t}function u(e){for(var t=s(e);t.length<4;)t.push(t[0].slice());return t}function l(e){return e.map(u)}var c={Point:function(e){return a(e.coordinates)},MultiPoint:function(e){return e.coordinates.map(a)},LineString:function(e){return s(e.arcs)},MultiLineString:function(e){return e.arcs.map(s)},Polygon:function(e){return l(e.arcs)},MultiPolygon:function(e){return e.arcs.map(l)}};return function e(t){var n=t.type;return"GeometryCollection"===n?{type:n,geometries:t.geometries.map(e)}:n in c?{type:n,coordinates:c[n](t)}:null}(t)}function a(e,t){var n={},i={},r={},o=[],a=-1;function s(e,t){for(var i in e){var r=e[i];delete t[r.start],delete r.start,delete r.end,r.forEach((function(e){n[e<0?~e:e]=1})),o.push(r)}}return t.forEach((function(n,i){var r,o=e.arcs[n<0?~n:n];o.length<3&&!o[1][0]&&!o[1][1]&&(r=t[++a],t[a]=n,t[i]=r)})),t.forEach((function(t){var n,o,a=function(t){var n,i=e.arcs[t<0?~t:t],r=i[0];e.transform?(n=[0,0],i.forEach((function(e){n[0]+=e[0],n[1]+=e[1]}))):n=i[i.length-1];return t<0?[n,r]:[r,n]}(t),s=a[0],u=a[1];if(n=r[s])if(delete r[n.end],n.push(t),n.end=u,o=i[u]){delete i[o.start];var l=o===n?n:n.concat(o);i[l.start=n.start]=r[l.end=o.end]=l}else i[n.start]=r[n.end]=n;else if(n=i[u])if(delete i[n.start],n.unshift(t),n.start=s,o=r[s]){delete r[o.end];var c=o===n?n:o.concat(n);i[c.start=o.start]=r[c.end=n.end]=c}else i[n.start]=r[n.end]=n;else i[(n=[t]).start=s]=r[n.end=u]=n})),s(r,i),s(i,r),t.forEach((function(e){n[e<0?~e:e]||o.push([e])})),o}function s(e,t,n){var i=[];function r(e){var t=e<0?~e:e;(c[t]||(c[t]=[])).push({i:e,g:l})}function o(e){e.forEach(r)}function s(e){e.forEach(o)}function u(e){"GeometryCollection"===e.type?e.geometries.forEach(u):e.type in d&&(l=e,d[e.type](e.arcs))}if(arguments.length>1){var l,c=[],d={LineString:o,MultiLineString:s,Polygon:s,MultiPolygon:function(e){e.forEach(s)}};u(t),c.forEach(arguments.length<3?function(e){i.push(e[0].i)}:function(e){n(e[0].g,e[e.length-1].g)&&i.push(e[0].i)})}else for(var p=0,h=e.arcs.length;p<h;++p)i.push(p);return{type:"MultiLineString",arcs:a(e,i)}}function u(e){var t=e[0],n=e[1],i=e[2];return Math.abs((t[0]-i[0])*(n[1]-t[1])-(t[0]-n[0])*(i[1]-t[1]))}function l(e,t){var n={},i=[],r=[];function s(e){e.forEach((function(t){t.forEach((function(t){(n[t=t<0?~t:t]||(n[t]=[])).push(e)}))})),i.push(e)}function u(t){return Math.abs(function(e){for(var t,n=-1,i=e.length,r=e[i-1],o=0;++n<i;)t=r,r=e[n],o+=t[0]*r[1]-t[1]*r[0];return o/2}(o(e,{type:"Polygon",arcs:[t]}).coordinates[0]))}return t.forEach((function(e){"Polygon"===e.type?s(e.arcs):"MultiPolygon"===e.type&&e.arcs.forEach(s)})),i.forEach((function(e){if(!e._){var t=[],i=[e];for(e._=1,r.push(t);e=i.pop();)t.push(e),e.forEach((function(e){e.forEach((function(e){n[e<0?~e:e].forEach((function(e){e._||(e._=1,i.push(e))}))}))}))}})),i.forEach((function(e){delete e._})),{type:"MultiPolygon",arcs:r.map((function(t){var i,r=[];if(t.forEach((function(e){e.forEach((function(e){e.forEach((function(e){n[e<0?~e:e].length<2&&r.push(e)}))}))})),(i=(r=a(e,r)).length)>1)for(var o,s,l=1,c=u(r[0]);l<i;++l)(o=u(r[l]))>c&&(s=r[0],r[0]=r[l],r[l]=s,c=o);return r}))}}function c(e,t){return e[1][2]-t[1][2]}e.version="1.6.27",e.mesh=function(e){return o(e,s.apply(this,arguments))},e.meshArcs=s,e.merge=function(e){return o(e,l.apply(this,arguments))},e.mergeArcs=l,e.feature=function(e,t){return"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map((function(t){return r(e,t)}))}:r(e,t)},e.neighbors=function(e){var t={},n=e.map((function(){return[]}));function r(e,n){e.forEach((function(e){e<0&&(e=~e);var i=t[e];i?i.push(n):t[e]=[n]}))}function o(e,t){e.forEach((function(e){r(e,t)}))}var a={LineString:r,MultiLineString:o,Polygon:o,MultiPolygon:function(e,t){e.forEach((function(e){o(e,t)}))}};for(var s in e.forEach((function e(t,n){"GeometryCollection"===t.type?t.geometries.forEach((function(t){e(t,n)})):t.type in a&&a[t.type](t.arcs,n)})),t)for(var u=t[s],l=u.length,c=0;c<l;++c)for(var d=c+1;d<l;++d){var p,h=u[c],f=u[d];(p=n[h])[s=i(p,f)]!==f&&p.splice(s,0,f),(p=n[f])[s=i(p,h)]!==h&&p.splice(s,0,h)}return n},e.presimplify=function(e,i){var r=n(e.transform),o=function(e){if(!e)return t;var n,i,r=e.scale[0],o=e.scale[1],a=e.translate[0],s=e.translate[1];return function(e,t){t||(n=i=0);var u=Math.round((e[0]-a)/r),l=Math.round((e[1]-s)/o);e[0]=u-n,e[1]=l-i,n=u,i=l}}(e.transform),a=function(){var e={},t=[],n=0;function i(e,n){for(;n>0;){var i=(n+1>>1)-1,r=t[i];if(c(e,r)>=0)break;t[r._=n]=r,t[e._=n=i]=e}}function r(e,i){for(;;){var r=i+1<<1,o=r-1,a=i,s=t[a];if(o<n&&c(t[o],s)<0&&(s=t[a=o]),r<n&&c(t[r],s)<0&&(s=t[a=r]),a===i)break;t[s._=i]=s,t[e._=i=a]=e}}return e.push=function(e){return i(t[e._=n]=e,n++),n},e.pop=function(){if(!(n<=0)){var e,i=t[0];return--n>0&&(e=t[n],r(t[e._=0]=e,0)),i}},e.remove=function(e){var o,a=e._;if(t[a]===e)return a!==--n&&(c(o=t[n],e)<0?i:r)(t[o._=a]=o,a),a},e}();function s(e){a.remove(e),e[1][2]=i(e),a.push(e)}return i||(i=u),e.arcs.forEach((function(e){var t,n,u,l,c=[],d=0;for(n=0,u=e.length;n<u;++n)l=e[n],r(e[n]=[l[0],l[1],1/0],n);for(n=1,u=e.length-1;n<u;++n)(t=e.slice(n-1,n+2))[1][2]=i(t),c.push(t),a.push(t);for(n=0,u=c.length;n<u;++n)(t=c[n]).previous=c[n-1],t.next=c[n+1];for(;t=a.pop();){var p=t.previous,h=t.next;t[1][2]<d?t[1][2]=d:d=t[1][2],p&&(p.next=h,p[2]=t[2],s(p)),h&&(h.previous=p,h[0]=t[0],s(h))}e.forEach(o)})),e},Object.defineProperty(e,"__esModule",{value:!0})}))},{}],860:[function(e,t,n){"use strict";var i=e("../prototype/is");t.exports=function(e){if("function"!=typeof e)return!1;if(!hasOwnProperty.call(e,"length"))return!1;try{if("number"!=typeof e.length)return!1;if("function"!=typeof e.call)return!1;if("function"!=typeof e.apply)return!1}catch(e){return!1}return!i(e)}},{"../prototype/is":863}],861:[function(e,t,n){"use strict";var i=e("../value/is"),r={object:!0,function:!0,undefined:!0};t.exports=function(e){return!!i(e)&&hasOwnProperty.call(r,typeof e)}},{"../value/is":864}],862:[function(e,t,n){"use strict";var i=e("../function/is"),r=/^\s*class[\s{/}]/,o=Function.prototype.toString;t.exports=function(e){return!!i(e)&&!r.test(o.call(e))}},{"../function/is":860}],863:[function(e,t,n){"use strict";var i=e("../object/is");t.exports=function(e){if(!i(e))return!1;try{return!!e.constructor&&e.constructor.prototype===e}catch(e){return!1}}},{"../object/is":861}],864:[function(e,t,n){"use strict";t.exports=function(e){return null!=e}},{}],865:[function(e,t,n){
/*!@license
 * UAParser.js v0.7.28
 * Lightweight JavaScript-based User-Agent string parser
 * https://github.com/faisalman/ua-parser-js
 *
 * Copyright  2012-2021 Faisal Salman <f@faisalman.com>
 * Licensed under MIT License
 */
!function(e,i){"use strict";var r="function",o="undefined",a="object",s="string",u="model",l="name",c="type",d="vendor",p="version",h="architecture",f="console",m="mobile",g="tablet",y="smarttv",v="wearable",_="embedded",b={extend:function(e,t){var n={};for(var i in e)t[i]&&t[i].length%2==0?n[i]=t[i].concat(e[i]):n[i]=e[i];return n},has:function(e,t){return typeof e===s&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return typeof e===s?e.replace(/[^\d\.]/g,"").split(".")[0]:i},trim:function(e,t){return e=e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),typeof t===o?e:e.substring(0,255)}},w={rgx:function(e,t){for(var n,o,s,u,l,c,d=0;d<t.length&&!l;){var p=t[d],h=t[d+1];for(n=o=0;n<p.length&&!l;)if(l=p[n++].exec(e))for(s=0;s<h.length;s++)c=l[++o],typeof(u=h[s])===a&&u.length>0?2==u.length?typeof u[1]==r?this[u[0]]=u[1].call(this,c):this[u[0]]=u[1]:3==u.length?typeof u[1]!==r||u[1].exec&&u[1].test?this[u[0]]=c?c.replace(u[1],u[2]):i:this[u[0]]=c?u[1].call(this,c,u[2]):i:4==u.length&&(this[u[0]]=c?u[3].call(this,c.replace(u[1],u[2])):i):this[u]=c||i;d+=2}},str:function(e,t){for(var n in t)if(typeof t[n]===a&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(b.has(t[n][r],e))return"?"===n?i:n}else if(b.has(t[n],e))return"?"===n?i:n;return e}},E={browser:{oldSafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}},oldEdge:{version:{.1:"12.",21:"13.",31:"14.",39:"15.",41:"16.",42:"17.",44:"18."}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},S={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[p,[l,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[p,[l,"Edge"]],[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]{3,6})\b.+version\/([\w\.-]+)/i,/(opera)(?:.+version\/|[\/\s]+)([\w\.]+)/i],[l,p],[/opios[\/\s]+([\w\.]+)/i],[p,[l,"Opera Mini"]],[/\sopr\/([\w\.]+)/i],[p,[l,"Opera"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i,/(ba?idubrowser)[\/\s]?([\w\.]+)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i,/(rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([\w\.]+)/i,/(weibo)__([\d\.]+)/i],[l,p],[/(?:[\s\/]uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[p,[l,"UCBrowser"]],[/(?:windowswechat)?\sqbcore\/([\w\.]+)\b.*(?:windowswechat)?/i],[p,[l,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[p,[l,"WeChat"]],[/konqueror\/([\w\.]+)/i],[p,[l,"Konqueror"]],[/trident.+rv[:\s]([\w\.]{1,9})\b.+like\sgecko/i],[p,[l,"IE"]],[/yabrowser\/([\w\.]+)/i],[p,[l,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[l,/(.+)/,"$1 Secure Browser"],p],[/focus\/([\w\.]+)/i],[p,[l,"Firefox Focus"]],[/opt\/([\w\.]+)/i],[p,[l,"Opera Touch"]],[/coc_coc_browser\/([\w\.]+)/i],[p,[l,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[p,[l,"Dolphin"]],[/coast\/([\w\.]+)/i],[p,[l,"Opera Coast"]],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[p,[l,"MIUI Browser"]],[/fxios\/([\w\.-]+)/i],[p,[l,"Firefox"]],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[[l,"360 Browser"]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[l,/(.+)/,"$1 Browser"],p],[/(comodo_dragon)\/([\w\.]+)/i],[[l,/_/g," "],p],[/\s(electron)\/([\w\.]+)\ssafari/i,/(tesla)(?:\sqtcarbrowser|\/(20[12]\d\.[\w\.-]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/\s]?([\w\.]+)/i],[l,p],[/(MetaSr)[\/\s]?([\w\.]+)/i,/(LBBROWSER)/i],[l],[/;fbav\/([\w\.]+);/i],[p,[l,"Facebook"]],[/FBAN\/FBIOS|FB_IAB\/FB4A/i],[[l,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/\s]([\w\.-]+)/i],[l,p],[/\bgsa\/([\w\.]+)\s.*safari\//i],[p,[l,"GSA"]],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[p,[l,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[l,"Chrome WebView"],p],[/droid.+\sversion\/([\w\.]+)\b.+(?:mobile\ssafari|safari)/i],[p,[l,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[l,p],[/version\/([\w\.]+)\s.*mobile\/\w+\s(safari)/i],[p,[l,"Mobile Safari"]],[/version\/([\w\.]+)\s.*(mobile\s?safari|safari)/i],[p,l],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[l,[p,w.str,E.browser.oldSafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[l,p],[/(navigator|netscape)\/([\w\.-]+)/i],[[l,"Netscape"],p],[/ile\svr;\srv:([\w\.]+)\).+firefox/i],[p,[l,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(firefox)\/([\w\.]+)\s[\w\s\-]+\/[\w\.]+$/i,/(mozilla)\/([\w\.]+)\s.+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[l,p]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[h,"amd64"]],[/(ia32(?=;))/i],[[h,b.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[h,"ia32"]],[/\b(aarch64|armv?8e?l?)\b/i],[[h,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[h,"armhf"]],[/windows\s(ce|mobile);\sppc;/i],[[h,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[h,/ower/,"",b.lowerize]],[/(sun4\w)[;\)]/i],[[h,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?:64|(?=v(?:[1-7]|[5-7]1)l?|;|eabi))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[h,b.lowerize]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus\s10)/i],[u,[d,"Samsung"],[c,g]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy\snexus)/i,/\ssamsung[\s-]([\w-]+)/i,/sec-(sgh\w+)/i],[u,[d,"Samsung"],[c,m]],[/\((ip(?:hone|od)[\s\w]*);/i],[u,[d,"Apple"],[c,m]],[/\((ipad);[\w\s\),;-]+apple/i,/applecoremedia\/[\w\.]+\s\((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[u,[d,"Apple"],[c,g]],[/\b((?:agr|ags[23]|bah2?|sht?)-a?[lw]\d{2})/i],[u,[d,"Huawei"],[c,g]],[/d\/huawei([\w\s-]+)[;\)]/i,/\b(nexus\s6p|vog-[at]?l\d\d|ane-[at]?l[x\d]\d|eml-a?l\d\da?|lya-[at]?l\d[\dc]|clt-a?l\d\di?|ele-l\d\d)/i,/\b(\w{2,4}-[atu][ln][01259][019])[;\)\s]/i],[u,[d,"Huawei"],[c,m]],[/\b(poco[\s\w]+)(?:\sbuild|\))/i,/\b;\s(\w+)\sbuild\/hm\1/i,/\b(hm[\s\-_]?note?[\s_]?(?:\d\w)?)\sbuild/i,/\b(redmi[\s\-_]?(?:note|k)?[\w\s_]+)(?:\sbuild|\))/i,/\b(mi[\s\-_]?(?:a\d|one|one[\s_]plus|note lte)?[\s_]?(?:\d?\w?)[\s_]?(?:plus)?)\sbuild/i],[[u,/_/g," "],[d,"Xiaomi"],[c,m]],[/\b(mi[\s\-_]?(?:pad)(?:[\w\s_]+))(?:\sbuild|\))/i],[[u,/_/g," "],[d,"Xiaomi"],[c,g]],[/;\s(\w+)\sbuild.+\soppo/i,/\s(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007)\b/i],[u,[d,"OPPO"],[c,m]],[/\svivo\s(\w+)(?:\sbuild|\))/i,/\s(v[12]\d{3}\w?[at])(?:\sbuild|;)/i],[u,[d,"Vivo"],[c,m]],[/\s(rmx[12]\d{3})(?:\sbuild|;)/i],[u,[d,"Realme"],[c,m]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)\b[\w\s]+build\//i,/\smot(?:orola)?[\s-](\w*)/i,/((?:moto[\s\w\(\)]+|xt\d{3,4}|nexus\s6)(?=\sbuild|\)))/i],[u,[d,"Motorola"],[c,m]],[/\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[u,[d,"Motorola"],[c,g]],[/((?=lg)?[vl]k\-?\d{3})\sbuild|\s3\.[\s\w;-]{10}lg?-([06cv9]{3,4})/i],[u,[d,"LG"],[c,g]],[/(lm-?f100[nv]?|nexus\s[45])/i,/lg[e;\s\/-]+((?!browser|netcast)\w+)/i,/\blg(\-?[\d\w]+)\sbuild/i],[u,[d,"LG"],[c,m]],[/(ideatab[\w\-\s]+)/i,/lenovo\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+)|yt[\d\w-]{6}|tb[\d\w-]{6})/i],[u,[d,"Lenovo"],[c,g]],[/(?:maemo|nokia).*(n900|lumia\s\d+)/i,/nokia[\s_-]?([\w\.-]*)/i],[[u,/_/g," "],[d,"Nokia"],[c,m]],[/droid.+;\s(pixel\sc)[\s)]/i],[u,[d,"Google"],[c,g]],[/droid.+;\s(pixel[\s\daxl]{0,6})(?:\sbuild|\))/i],[u,[d,"Google"],[c,m]],[/droid.+\s([c-g]\d{4}|so[-l]\w+|xq-a\w[4-7][12])(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[u,[d,"Sony"],[c,m]],[/sony\stablet\s[ps]\sbuild\//i,/(?:sony)?sgp\w+(?:\sbuild\/|\))/i],[[u,"Xperia Tablet"],[d,"Sony"],[c,g]],[/\s(kb2005|in20[12]5|be20[12][59])\b/i,/\ba000(1)\sbuild/i,/\boneplus\s(a\d{4})[\s)]/i],[u,[d,"OnePlus"],[c,m]],[/(alexa)webm/i,/(kf[a-z]{2}wi)(\sbuild\/|\))/i,/(kf[a-z]+)(\sbuild\/|\)).+silk\//i],[u,[d,"Amazon"],[c,g]],[/(sd|kf)[0349hijorstuw]+(\sbuild\/|\)).+silk\//i],[[u,"Fire Phone"],[d,"Amazon"],[c,m]],[/\((playbook);[\w\s\),;-]+(rim)/i],[u,d,[c,g]],[/((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10;\s(\w+)/i],[u,[d,"BlackBerry"],[c,m]],[/(?:\b|asus_)(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus\s7|padfone|p00[cj])/i],[u,[d,"ASUS"],[c,g]],[/\s(z[es]6[027][01][km][ls]|zenfone\s\d\w?)\b/i],[u,[d,"ASUS"],[c,m]],[/(nexus\s9)/i],[u,[d,"HTC"],[c,g]],[/(htc)[;_\s-]{1,2}([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[d,[u,/_/g," "],[c,m]],[/droid[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[u,[d,"Acer"],[c,g]],[/droid.+;\s(m[1-5]\snote)\sbuild/i,/\bmz-([\w-]{2,})/i],[u,[d,"Meizu"],[c,m]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i,/(microsoft);\s(lumia[\s\w]+)/i,/(lenovo)[_\s-]?([\w-]+)/i,/linux;.+(jolla);/i,/droid.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[d,u,[c,m]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i,/[;\/]\s?(le[\s\-]+pan)[\s\-]+(\w{1,9})\sbuild/i,/[;\/]\s?(trinity)[\-\s]*(t\d{3})\sbuild/i,/\b(gigaset)[\s\-]+(q\w{1,9})\sbuild/i,/\b(vodafone)\s([\w\s]+)(?:\)|\sbuild)/i],[d,u,[c,g]],[/\s(surface\sduo)\s/i],[u,[d,"Microsoft"],[c,g]],[/droid\s[\d\.]+;\s(fp\du?)\sbuild/i],[u,[d,"Fairphone"],[c,m]],[/\s(u304aa)\sbuild/i],[u,[d,"AT&T"],[c,m]],[/sie-(\w*)/i],[u,[d,"Siemens"],[c,m]],[/[;\/]\s?(rct\w+)\sbuild/i],[u,[d,"RCA"],[c,g]],[/[;\/\s](venue[\d\s]{2,7})\sbuild/i],[u,[d,"Dell"],[c,g]],[/[;\/]\s?(q(?:mv|ta)\w+)\sbuild/i],[u,[d,"Verizon"],[c,g]],[/[;\/]\s(?:barnes[&\s]+noble\s|bn[rt])([\w\s\+]*)\sbuild/i],[u,[d,"Barnes & Noble"],[c,g]],[/[;\/]\s(tm\d{3}\w+)\sbuild/i],[u,[d,"NuVision"],[c,g]],[/;\s(k88)\sbuild/i],[u,[d,"ZTE"],[c,g]],[/;\s(nx\d{3}j)\sbuild/i],[u,[d,"ZTE"],[c,m]],[/[;\/]\s?(gen\d{3})\sbuild.*49h/i],[u,[d,"Swiss"],[c,m]],[/[;\/]\s?(zur\d{3})\sbuild/i],[u,[d,"Swiss"],[c,g]],[/[;\/]\s?((zeki)?tb.*\b)\sbuild/i],[u,[d,"Zeki"],[c,g]],[/[;\/]\s([yr]\d{2})\sbuild/i,/[;\/]\s(dragon[\-\s]+touch\s|dt)(\w{5})\sbuild/i],[[d,"Dragon Touch"],u,[c,g]],[/[;\/]\s?(ns-?\w{0,9})\sbuild/i],[u,[d,"Insignia"],[c,g]],[/[;\/]\s?((nxa|Next)-?\w{0,9})\sbuild/i],[u,[d,"NextBook"],[c,g]],[/[;\/]\s?(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05]))\sbuild/i],[[d,"Voice"],u,[c,m]],[/[;\/]\s?(lvtel\-)?(v1[12])\sbuild/i],[[d,"LvTel"],u,[c,m]],[/;\s(ph-1)\s/i],[u,[d,"Essential"],[c,m]],[/[;\/]\s?(v(100md|700na|7011|917g).*\b)\sbuild/i],[u,[d,"Envizen"],[c,g]],[/[;\/]\s?(trio[\s\w\-\.]+)\sbuild/i],[u,[d,"MachSpeed"],[c,g]],[/[;\/]\s?tu_(1491)\sbuild/i],[u,[d,"Rotor"],[c,g]],[/(shield[\w\s]+)\sbuild/i],[u,[d,"Nvidia"],[c,g]],[/(sprint)\s(\w+)/i],[d,u,[c,m]],[/(kin\.[onetw]{3})/i],[[u,/\./g," "],[d,"Microsoft"],[c,m]],[/droid\s[\d\.]+;\s(cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[u,[d,"Zebra"],[c,g]],[/droid\s[\d\.]+;\s(ec30|ps20|tc[2-8]\d[kx])\)/i],[u,[d,"Zebra"],[c,m]],[/\s(ouya)\s/i,/(nintendo)\s([wids3utch]+)/i],[d,u,[c,f]],[/droid.+;\s(shield)\sbuild/i],[u,[d,"Nvidia"],[c,f]],[/(playstation\s[345portablevi]+)/i],[u,[d,"Sony"],[c,f]],[/[\s\(;](xbox(?:\sone)?(?!;\sxbox))[\s\);]/i],[u,[d,"Microsoft"],[c,f]],[/smart-tv.+(samsung)/i],[d,[c,y]],[/hbbtv.+maple;(\d+)/i],[[u,/^/,"SmartTV"],[d,"Samsung"],[c,y]],[/(?:linux;\snetcast.+smarttv|lg\snetcast\.tv-201\d)/i],[[d,"LG"],[c,y]],[/(apple)\s?tv/i],[d,[u,"Apple TV"],[c,y]],[/crkey/i],[[u,"Chromecast"],[d,"Google"],[c,y]],[/droid.+aft([\w])(\sbuild\/|\))/i],[u,[d,"Amazon"],[c,y]],[/\(dtv[\);].+(aquos)/i],[u,[d,"Sharp"],[c,y]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[d,b.trim],[u,b.trim],[c,y]],[/[\s\/\(](android\s|smart[-\s]?|opera\s)tv[;\)\s]/i],[[c,y]],[/((pebble))app\/[\d\.]+\s/i],[d,u,[c,v]],[/droid.+;\s(glass)\s\d/i],[u,[d,"Google"],[c,v]],[/droid\s[\d\.]+;\s(wt63?0{2,3})\)/i],[u,[d,"Zebra"],[c,v]],[/(tesla)(?:\sqtcarbrowser|\/20[12]\d\.[\w\.-]+)/i],[d,[c,_]],[/droid .+?; ([^;]+?)(?: build|\) applewebkit).+? mobile safari/i],[u,[c,m]],[/droid .+?;\s([^;]+?)(?: build|\) applewebkit).+?(?! mobile) safari/i],[u,[c,g]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[c,b.lowerize]],[/(android[\w\.\s\-]{0,9});.+build/i],[u,[d,"Generic"]],[/(phone)/i],[[c,m]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[p,[l,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[p,[l,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[l,p],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[p,l]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[l,p],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)(?!.+xbox)/i],[l,[p,w.str,E.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[l,"Windows"],[p,w.str,E.os.windows.version]],[/ip[honead]{2,4}\b(?:.*os\s([\w]+)\slike\smac|;\sopera)/i,/cfnetwork\/.+darwin/i],[[p,/_/g,"."],[l,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)(?!.+haiku)/i],[[l,"Mac OS"],[p,/_/g,"."]],[/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/\s]([\w\.]+)/i,/\((series40);/i],[l,p],[/\(bb(10);/i],[p,[l,"BlackBerry"]],[/(?:symbian\s?os|symbos|s60(?=;)|series60)[\/\s-]?([\w\.]*)/i],[p,[l,"Symbian"]],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[l,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[p,[l,"webOS"]],[/crkey\/([\d\.]+)/i],[p,[l,"Chromecast"]],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[l,"Chromium OS"],p],[/(nintendo|playstation)\s([wids345portablevuch]+)/i,/(xbox);\s+xbox\s([^\);]+)/i,/(mint)[\/\s\(\)]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?=\slinux)|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus|raspbian)(?:\sgnu\/linux)?(?:\slinux)?[\/\s-]?(?!chrom|package)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i,/\s([frentopc-]{0,4}bsd|dragonfly)\s?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku)\s(\w+)/i],[l,p],[/(sunos)\s?([\w\.\d]*)/i],[[l,"Solaris"],p],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[l,p]]},T=function(t,n){if("object"==typeof t&&(n=t,t=i),!(this instanceof T))return new T(t,n).getResult();var r=t||(void 0!==e&&e.navigator&&e.navigator.userAgent?e.navigator.userAgent:""),o=n?b.extend(S,n):S;return this.getBrowser=function(){var e={name:i,version:i};return w.rgx.call(e,r,o.browser),e.major=b.major(e.version),e},this.getCPU=function(){var e={architecture:i};return w.rgx.call(e,r,o.cpu),e},this.getDevice=function(){var e={vendor:i,model:i,type:i};return w.rgx.call(e,r,o.device),e},this.getEngine=function(){var e={name:i,version:i};return w.rgx.call(e,r,o.engine),e},this.getOS=function(){var e={name:i,version:i};return w.rgx.call(e,r,o.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=typeof e===s&&e.length>255?b.trim(e,255):e,this},this.setUA(r),this};T.VERSION="0.7.28",T.BROWSER={NAME:l,MAJOR:"major",VERSION:p},T.CPU={ARCHITECTURE:h},T.DEVICE={MODEL:u,VENDOR:d,TYPE:c,CONSOLE:f,MOBILE:m,SMARTTV:y,TABLET:g,WEARABLE:v,EMBEDDED:_},T.ENGINE={NAME:l,VERSION:p},T.OS={NAME:l,VERSION:p},typeof n!==o?(typeof t!==o&&t.exports&&(n=t.exports=T),n.UAParser=T):"function"==typeof define&&define.amd?define((function(){return T})):void 0!==e&&(e.UAParser=T);var C=void 0!==e&&(e.jQuery||e.Zepto);if(C&&!C.ua){var x=new T;C.ua=x.getResult(),C.ua.get=function(){return x.getUA()},C.ua.set=function(e){x.setUA(e);var t=x.getResult();for(var n in t)C.ua[n]=t[n]}}}("object"==typeof window?window:this)},{}],866:[function(e,t,n){var i,r,o,a,s,u;i=this,r=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,o=/^(?=([^\/?#]*))\1([^]*)$/,a=/(?:\/|^)\.(?=\/)/g,s=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,u={buildAbsoluteURL:function(e,t,n){if(n=n||{},e=e.trim(),!(t=t.trim())){if(!n.alwaysNormalize)return e;var i=u.parseURL(e);if(!i)throw new Error("Error trying to parse base URL.");return i.path=u.normalizePath(i.path),u.buildURLFromParts(i)}var r=u.parseURL(t);if(!r)throw new Error("Error trying to parse relative URL.");if(r.scheme)return n.alwaysNormalize?(r.path=u.normalizePath(r.path),u.buildURLFromParts(r)):t;var a=u.parseURL(e);if(!a)throw new Error("Error trying to parse base URL.");if(!a.netLoc&&a.path&&"/"!==a.path[0]){var s=o.exec(a.path);a.netLoc=s[1],a.path=s[2]}a.netLoc&&!a.path&&(a.path="/");var l={scheme:a.scheme,netLoc:r.netLoc,path:null,params:r.params,query:r.query,fragment:r.fragment};if(!r.netLoc&&(l.netLoc=a.netLoc,"/"!==r.path[0]))if(r.path){var c=a.path,d=c.substring(0,c.lastIndexOf("/")+1)+r.path;l.path=u.normalizePath(d)}else l.path=a.path,r.params||(l.params=a.params,r.query||(l.query=a.query));return null===l.path&&(l.path=n.alwaysNormalize?u.normalizePath(r.path):r.path),u.buildURLFromParts(l)},parseURL:function(e){var t=r.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(a,"");e.length!==(e=e.replace(s,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},"object"==typeof n&&"object"==typeof t?t.exports=u:"function"==typeof define&&define.amd?define([],(function(){return u})):"object"==typeof n?n.URLToolkit=u:i.URLToolkit=u},{}],867:[function(e,t,n){"use strict";var i=new RegExp("^(?:@([^/]+?)[/])?([^/]+?)$"),r=e("builtins"),o=["node_modules","favicon.ico"];(t.exports=function(e){var t=[],n=[];if(null===e)return n.push("name cannot be null"),a(t,n);if(void 0===e)return n.push("name cannot be undefined"),a(t,n);if("string"!=typeof e)return n.push("name must be a string"),a(t,n);if(e.length||n.push("name length must be greater than zero"),e.match(/^\./)&&n.push("name cannot start with a period"),e.match(/^_/)&&n.push("name cannot start with an underscore"),e.trim()!==e&&n.push("name cannot contain leading or trailing spaces"),o.forEach((function(t){e.toLowerCase()===t&&n.push(t+" is a blacklisted name")})),r.forEach((function(n){e.toLowerCase()===n&&t.push(n+" is a core module name")})),e.length>214&&t.push("name can no longer contain more than 214 characters"),e.toLowerCase()!==e&&t.push("name can no longer contain capital letters"),/[~'!()*]/.test(e.split("/").slice(-1)[0])&&t.push('name can no longer contain special characters ("~\'!()*")'),encodeURIComponent(e)!==e){var s=e.match(i);if(s){var u=s[1],l=s[2];if(encodeURIComponent(u)===u&&encodeURIComponent(l)===l)return a(t,n)}n.push("name can only contain URL-friendly characters")}return a(t,n)}).scopedPackagePattern=i;var a=function(e,t){var n={validForNewPackages:0===t.length&&0===e.length,validForOldPackages:0===t.length,warnings:e,errors:t};return n.warnings.length||delete n.warnings,n.errors.length||delete n.errors,n}},{builtins:868}],868:[function(e,t,n){t.exports=["assert","buffer","child_process","cluster","console","constants","crypto","dgram","dns","domain","events","fs","http","https","module","net","os","path","process","punycode","querystring","readline","repl","stream","string_decoder","timers","tls","tty","url","util","v8","vm","zlib"]},{}],869:[function(e,t,n){(function(n){
/**
 * @license
 * Video.js 7.19.2 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/main/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>
 */
"use strict";var i=e("global/window"),r=e("global/document"),o=e("@babel/runtime/helpers/extends"),a=e("keycode"),s=e("@babel/runtime/helpers/assertThisInitialized"),u=e("@babel/runtime/helpers/inheritsLoose"),l=e("safe-json-parse/tuple"),c=e("@videojs/xhr"),d=e("videojs-vtt.js"),p=e("@babel/runtime/helpers/construct"),h=e("@babel/runtime/helpers/inherits"),f=e("@videojs/vhs-utils/cjs/resolve-url.js"),m=e("m3u8-parser"),g=e("@videojs/vhs-utils/cjs/codecs.js"),y=e("@videojs/vhs-utils/cjs/media-types.js"),v=e("@videojs/vhs-utils/cjs/byte-helpers"),_=e("mpd-parser"),b=e("mux.js/lib/tools/parse-sidx"),w=e("@videojs/vhs-utils/cjs/id3-helpers"),E=e("@videojs/vhs-utils/cjs/containers"),S=e("mux.js/lib/utils/clock");function T(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}for(var C,x=T(i),A=T(r),k=T(o),I=T(a),D=T(s),O=T(u),P=T(l),N=T(c),R=T(d),L=T(p),M=T(h),F=T(f),j=T(b),B="7.19.2",U={},H=function(e,t){return U[e]=U[e]||[],t&&(U[e]=U[e].concat(t)),U[e]},$=function(e,t){var n=H(e).indexOf(t);return!(n<=-1)&&(U[e]=U[e].slice(),U[e].splice(n,1),!0)},G={prefixed:!0},q=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],V=q[0],z=0;z<q.length;z++)if(q[z][1]in A.default){C=q[z];break}if(C){for(var W=0;W<C.length;W++)G[V[W]]=C[W];G.prefixed=C[0]!==V[0]}var K=[];var Y=function e(t){var n,i="info",r=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n("log",i,t)};return n=function(e,t){return function(n,i,r){var o=t.levels[i],a=new RegExp("^("+o+")$");if("log"!==n&&r.unshift(n.toUpperCase()+":"),r.unshift(e+":"),K){K.push([].concat(r));var s=K.length-1e3;K.splice(0,s>0?s:0)}if(x.default.console){var u=x.default.console[n];u||"debug"!==n||(u=x.default.console.info||x.default.console.log),u&&o&&a.test(n)&&u[Array.isArray(r)?"apply":"call"](x.default.console,r)}}}(t,r),r.createLogger=function(n){return e(t+": "+n)},r.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:i},r.level=function(e){if("string"==typeof e){if(!r.levels.hasOwnProperty(e))throw new Error('"'+e+'" in not a valid log level');i=e}return i},(r.history=function(){return K?[].concat(K):[]}).filter=function(e){return(K||[]).filter((function(t){return new RegExp(".*"+e+".*").test(t[0])}))},r.history.clear=function(){K&&(K.length=0)},r.history.disable=function(){null!==K&&(K.length=0,K=null)},r.history.enable=function(){null===K&&(K=[])},r.error=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n("error",i,t)},r.warn=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n("warn",i,t)},r.debug=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n("debug",i,t)},r}("VIDEOJS"),J=Y.createLogger,X=Object.prototype.toString,Q=function(e){return te(e)?Object.keys(e):[]};function Z(e,t){Q(e).forEach((function(n){return t(e[n],n)}))}function ee(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return Object.assign?k.default.apply(void 0,[e].concat(n)):(n.forEach((function(t){t&&Z(t,(function(t,n){e[n]=t}))})),e)}function te(e){return!!e&&"object"==typeof e}function ne(e){return te(e)&&"[object Object]"===X.call(e)&&e.constructor===Object}function ie(e,t){if(!e||!t)return"";if("function"==typeof x.default.getComputedStyle){var n;try{n=x.default.getComputedStyle(e)}catch(e){return""}return n?n.getPropertyValue(t)||n[t]:""}return""}var re,oe=x.default.navigator&&x.default.navigator.userAgent||"",ae=/AppleWebKit\/([\d.]+)/i.exec(oe),se=ae?parseFloat(ae.pop()):null,ue=/iPod/i.test(oe),le=(re=oe.match(/OS (\d+)_/i))&&re[1]?re[1]:null,ce=/Android/i.test(oe),de=function(){var e=oe.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;var t=e[1]&&parseFloat(e[1]),n=e[2]&&parseFloat(e[2]);return t&&n?parseFloat(e[1]+"."+e[2]):t||null}(),pe=ce&&de<5&&se<537,he=/Firefox/i.test(oe),fe=/Edg/i.test(oe),me=!fe&&(/Chrome/i.test(oe)||/CriOS/i.test(oe)),ge=function(){var e=oe.match(/(Chrome|CriOS)\/(\d+)/);return e&&e[2]?parseFloat(e[2]):null}(),ye=function(){var e=/MSIE\s(\d+)\.\d/.exec(oe),t=e&&parseFloat(e[1]);return!t&&/Trident\/7.0/i.test(oe)&&/rv:11.0/.test(oe)&&(t=11),t}(),ve=/Safari/i.test(oe)&&!me&&!ce&&!fe,_e=/Windows/i.test(oe),be=Boolean(ke()&&("ontouchstart"in x.default||x.default.navigator.maxTouchPoints||x.default.DocumentTouch&&x.default.document instanceof x.default.DocumentTouch)),we=/iPad/i.test(oe)||ve&&be&&!/iPhone/i.test(oe),Ee=/iPhone/i.test(oe)&&!we,Se=Ee||we||ue,Te=(ve||Se)&&!me,Ce=Object.freeze({__proto__:null,IS_IPOD:ue,IOS_VERSION:le,IS_ANDROID:ce,ANDROID_VERSION:de,IS_NATIVE_ANDROID:pe,IS_FIREFOX:he,IS_EDGE:fe,IS_CHROME:me,CHROME_VERSION:ge,IE_VERSION:ye,IS_SAFARI:ve,IS_WINDOWS:_e,TOUCH_ENABLED:be,IS_IPAD:we,IS_IPHONE:Ee,IS_IOS:Se,IS_ANY_SAFARI:Te});function xe(e){return"string"==typeof e&&Boolean(e.trim())}function Ae(e){if(e.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function ke(){return A.default===x.default.document}function Ie(e){return te(e)&&1===e.nodeType}function De(){try{return x.default.parent!==x.default.self}catch(e){return!0}}function Oe(e){return function(t,n){if(!xe(t))return A.default[e](null);xe(n)&&(n=A.default.querySelector(n));var i=Ie(n)?n:A.default;return i[e]&&i[e](t)}}function Pe(e,t,n,i){void 0===e&&(e="div"),void 0===t&&(t={}),void 0===n&&(n={});var r=A.default.createElement(e);return Object.getOwnPropertyNames(t).forEach((function(e){var n=t[e];-1!==e.indexOf("aria-")||"role"===e||"type"===e?(Y.warn("Setting attributes in the second argument of createEl()\nhas been deprecated. Use the third argument instead.\ncreateEl(type, properties, attributes). Attempting to set "+e+" to "+n+"."),r.setAttribute(e,n)):"textContent"===e?Ne(r,n):r[e]===n&&"tabIndex"!==e||(r[e]=n)})),Object.getOwnPropertyNames(n).forEach((function(e){r.setAttribute(e,n[e])})),i&&Qe(r,i),r}function Ne(e,t){return void 0===e.textContent?e.innerText=t:e.textContent=t,e}function Re(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function Le(e,t){return Ae(t),e.classList?e.classList.contains(t):(n=t,new RegExp("(^|\\s)"+n+"($|\\s)")).test(e.className);var n}function Me(e,t){return e.classList?e.classList.add(t):Le(e,t)||(e.className=(e.className+" "+t).trim()),e}function Fe(e,t){return e?(e.classList?e.classList.remove(t):(Ae(t),e.className=e.className.split(/\s+/).filter((function(e){return e!==t})).join(" ")),e):(Y.warn("removeClass was called with an element that doesn't exist"),null)}function je(e,t,n){var i=Le(e,t);if("function"==typeof n&&(n=n(e,t)),"boolean"!=typeof n&&(n=!i),n!==i)return n?Me(e,t):Fe(e,t),e}function Be(e,t){Object.getOwnPropertyNames(t).forEach((function(n){var i=t[n];null==i||!1===i?e.removeAttribute(n):e.setAttribute(n,!0===i?"":i)}))}function Ue(e){var t={},n=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(e&&e.attributes&&e.attributes.length>0)for(var i=e.attributes,r=i.length-1;r>=0;r--){var o=i[r].name,a=i[r].value;"boolean"!=typeof e[o]&&-1===n.indexOf(","+o+",")||(a=null!==a),t[o]=a}return t}function He(e,t){return e.getAttribute(t)}function $e(e,t,n){e.setAttribute(t,n)}function Ge(e,t){e.removeAttribute(t)}function qe(){A.default.body.focus(),A.default.onselectstart=function(){return!1}}function Ve(){A.default.onselectstart=function(){return!0}}function ze(e){if(e&&e.getBoundingClientRect&&e.parentNode){var t=e.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach((function(e){void 0!==t[e]&&(n[e]=t[e])})),n.height||(n.height=parseFloat(ie(e,"height"))),n.width||(n.width=parseFloat(ie(e,"width"))),n}}function We(e){if(!e||e&&!e.offsetParent)return{left:0,top:0,width:0,height:0};for(var t=e.offsetWidth,n=e.offsetHeight,i=0,r=0;e.offsetParent&&e!==A.default[G.fullscreenElement];)i+=e.offsetLeft,r+=e.offsetTop,e=e.offsetParent;return{left:i,top:r,width:t,height:n}}function Ke(e,t){var n={x:0,y:0};if(Se)for(var i=e;i&&"html"!==i.nodeName.toLowerCase();){var r=ie(i,"transform");if(/^matrix/.test(r)){var o=r.slice(7,-1).split(/,\s/).map(Number);n.x+=o[4],n.y+=o[5]}else if(/^matrix3d/.test(r)){var a=r.slice(9,-1).split(/,\s/).map(Number);n.x+=a[12],n.y+=a[13]}i=i.parentNode}var s={},u=We(t.target),l=We(e),c=l.width,d=l.height,p=t.offsetY-(l.top-u.top),h=t.offsetX-(l.left-u.left);return t.changedTouches&&(h=t.changedTouches[0].pageX-l.left,p=t.changedTouches[0].pageY+l.top,Se&&(h-=n.x,p-=n.y)),s.y=1-Math.max(0,Math.min(1,p/d)),s.x=Math.max(0,Math.min(1,h/c)),s}function Ye(e){return te(e)&&3===e.nodeType}function Je(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function Xe(e){return"function"==typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map((function(e){return"function"==typeof e&&(e=e()),Ie(e)||Ye(e)?e:"string"==typeof e&&/\S/.test(e)?A.default.createTextNode(e):void 0})).filter((function(e){return e}))}function Qe(e,t){return Xe(t).forEach((function(t){return e.appendChild(t)})),e}function Ze(e,t){return Qe(Je(e),t)}function et(e){return void 0===e.button&&void 0===e.buttons||(0===e.button&&void 0===e.buttons||("mouseup"===e.type&&0===e.button&&0===e.buttons||0===e.button&&1===e.buttons))}var tt,nt=Oe("querySelector"),it=Oe("querySelectorAll"),rt=Object.freeze({__proto__:null,isReal:ke,isEl:Ie,isInFrame:De,createEl:Pe,textContent:Ne,prependTo:Re,hasClass:Le,addClass:Me,removeClass:Fe,toggleClass:je,setAttributes:Be,getAttributes:Ue,getAttribute:He,setAttribute:$e,removeAttribute:Ge,blockTextSelection:qe,unblockTextSelection:Ve,getBoundingClientRect:ze,findPosition:We,getPointerPosition:Ke,isTextNode:Ye,emptyEl:Je,normalizeContent:Xe,appendContent:Qe,insertContent:Ze,isSingleLeftClick:et,$:nt,$$:it}),ot=!1,at=function(){if(!1!==tt.options.autoSetup){var e=Array.prototype.slice.call(A.default.getElementsByTagName("video")),t=Array.prototype.slice.call(A.default.getElementsByTagName("audio")),n=Array.prototype.slice.call(A.default.getElementsByTagName("video-js")),i=e.concat(t,n);if(i&&i.length>0)for(var r=0,o=i.length;r<o;r++){var a=i[r];if(!a||!a.getAttribute){st(1);break}void 0===a.player&&null!==a.getAttribute("data-setup")&&tt(a)}else ot||st(1)}};function st(e,t){ke()&&(t&&(tt=t),x.default.setTimeout(at,e))}function ut(){ot=!0,x.default.removeEventListener("load",ut)}ke()&&("complete"===A.default.readyState?ut():x.default.addEventListener("load",ut));var lt,ct=function(e){var t=A.default.createElement("style");return t.className=e,t},dt=function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t},pt=3;function ht(){return pt++}x.default.WeakMap||(lt=function(){function e(){this.vdata="vdata"+Math.floor(x.default.performance&&x.default.performance.now()||Date.now()),this.data={}}var t=e.prototype;return t.set=function(e,t){var n=e[this.vdata]||ht();return e[this.vdata]||(e[this.vdata]=n),this.data[n]=t,this},t.get=function(e){var t=e[this.vdata];if(t)return this.data[t];Y("We have no data for this element",e)},t.has=function(e){return e[this.vdata]in this.data},t.delete=function(e){var t=e[this.vdata];t&&(delete this.data[t],delete e[this.vdata])},e}());var ft,mt=x.default.WeakMap?new WeakMap:new lt;function gt(e,t){if(mt.has(e)){var n=mt.get(e);0===n.handlers[t].length&&(delete n.handlers[t],e.removeEventListener?e.removeEventListener(t,n.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&mt.delete(e)}}function yt(e,t,n,i){n.forEach((function(n){e(t,n,i)}))}function vt(e){if(e.fixed_)return e;function t(){return!0}function n(){return!1}if(!e||!e.isPropagationStopped||!e.isImmediatePropagationStopped){var i=e||x.default.event;for(var r in e={},i)"layerX"!==r&&"layerY"!==r&&"keyLocation"!==r&&"webkitMovementX"!==r&&"webkitMovementY"!==r&&("returnValue"===r&&i.preventDefault||(e[r]=i[r]));if(e.target||(e.target=e.srcElement||A.default),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){i.preventDefault&&i.preventDefault(),e.returnValue=!1,i.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){i.stopPropagation&&i.stopPropagation(),e.cancelBubble=!0,i.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=n,e.stopImmediatePropagation=function(){i.stopImmediatePropagation&&i.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=n,null!==e.clientX&&void 0!==e.clientX){var o=A.default.documentElement,a=A.default.body;e.pageX=e.clientX+(o&&o.scrollLeft||a&&a.scrollLeft||0)-(o&&o.clientLeft||a&&a.clientLeft||0),e.pageY=e.clientY+(o&&o.scrollTop||a&&a.scrollTop||0)-(o&&o.clientTop||a&&a.clientTop||0)}e.which=e.charCode||e.keyCode,null!==e.button&&void 0!==e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e.fixed_=!0,e}var _t=["touchstart","touchmove"];function bt(e,t,n){if(Array.isArray(t))return yt(bt,e,t,n);mt.has(e)||mt.set(e,{});var i=mt.get(e);if(i.handlers||(i.handlers={}),i.handlers[t]||(i.handlers[t]=[]),n.guid||(n.guid=ht()),i.handlers[t].push(n),i.dispatcher||(i.disabled=!1,i.dispatcher=function(t,n){if(!i.disabled){t=vt(t);var r=i.handlers[t.type];if(r)for(var o=r.slice(0),a=0,s=o.length;a<s&&!t.isImmediatePropagationStopped();a++)try{o[a].call(e,t,n)}catch(e){Y.error(e)}}}),1===i.handlers[t].length)if(e.addEventListener){var r=!1;(function(){if("boolean"!=typeof ft){ft=!1;try{var e=Object.defineProperty({},"passive",{get:function(){ft=!0}});x.default.addEventListener("test",null,e),x.default.removeEventListener("test",null,e)}catch(e){}}return ft})()&&_t.indexOf(t)>-1&&(r={passive:!0}),e.addEventListener(t,i.dispatcher,r)}else e.attachEvent&&e.attachEvent("on"+t,i.dispatcher)}function wt(e,t,n){if(mt.has(e)){var i=mt.get(e);if(i.handlers){if(Array.isArray(t))return yt(wt,e,t,n);var r=function(e,t){i.handlers[t]=[],gt(e,t)};if(void 0!==t){var o=i.handlers[t];if(o)if(n){if(n.guid)for(var a=0;a<o.length;a++)o[a].guid===n.guid&&o.splice(a--,1);gt(e,t)}else r(e,t)}else for(var s in i.handlers)Object.prototype.hasOwnProperty.call(i.handlers||{},s)&&r(e,s)}}}function Et(e,t,n){var i=mt.has(e)?mt.get(e):{},r=e.parentNode||e.ownerDocument;if("string"==typeof t?t={type:t,target:e}:t.target||(t.target=e),t=vt(t),i.dispatcher&&i.dispatcher.call(e,t,n),r&&!t.isPropagationStopped()&&!0===t.bubbles)Et.call(null,r,t,n);else if(!r&&!t.defaultPrevented&&t.target&&t.target[t.type]){mt.has(t.target)||mt.set(t.target,{});var o=mt.get(t.target);t.target[t.type]&&(o.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),o.disabled=!1)}return!t.defaultPrevented}function St(e,t,n){if(Array.isArray(t))return yt(St,e,t,n);var i=function i(){wt(e,t,i),n.apply(this,arguments)};i.guid=n.guid=n.guid||ht(),bt(e,t,i)}function Tt(e,t,n){var i=function i(){wt(e,t,i),n.apply(this,arguments)};i.guid=n.guid=n.guid||ht(),bt(e,t,i)}var Ct,xt=Object.freeze({__proto__:null,fixEvent:vt,on:bt,off:wt,trigger:Et,one:St,any:Tt}),At=30,kt=function(e,t,n){t.guid||(t.guid=ht());var i=t.bind(e);return i.guid=n?n+"_"+t.guid:t.guid,i},It=function(e,t){var n=x.default.performance.now();return function(){var i=x.default.performance.now();i-n>=t&&(e.apply(void 0,arguments),n=i)}},Dt=function(){};Dt.prototype.allowedEvents_={},Dt.prototype.on=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},bt(this,e,t),this.addEventListener=n},Dt.prototype.addEventListener=Dt.prototype.on,Dt.prototype.off=function(e,t){wt(this,e,t)},Dt.prototype.removeEventListener=Dt.prototype.off,Dt.prototype.one=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},St(this,e,t),this.addEventListener=n},Dt.prototype.any=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},Tt(this,e,t),this.addEventListener=n},Dt.prototype.trigger=function(e){var t=e.type||e;"string"==typeof e&&(e={type:t}),e=vt(e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),Et(this,e)},Dt.prototype.dispatchEvent=Dt.prototype.trigger,Dt.prototype.queueTrigger=function(e){var t=this;Ct||(Ct=new Map);var n=e.type||e,i=Ct.get(this);i||(i=new Map,Ct.set(this,i));var r=i.get(n);i.delete(n),x.default.clearTimeout(r);var o=x.default.setTimeout((function(){0===i.size&&(i=null,Ct.delete(t)),t.trigger(e)}),0);i.set(n,o)};var Ot=function(e){return"function"==typeof e.name?e.name():"string"==typeof e.name?e.name:e.name_?e.name_:e.constructor&&e.constructor.name?e.constructor.name:typeof e},Pt=function(e){return e instanceof Dt||!!e.eventBusEl_&&["on","one","off","trigger"].every((function(t){return"function"==typeof e[t]}))},Nt=function(e){return"string"==typeof e&&/\S/.test(e)||Array.isArray(e)&&!!e.length},Rt=function(e,t,n){if(!e||!e.nodeName&&!Pt(e))throw new Error("Invalid target for "+Ot(t)+"#"+n+"; must be a DOM node or evented object.")},Lt=function(e,t,n){if(!Nt(e))throw new Error("Invalid event type for "+Ot(t)+"#"+n+"; must be a non-empty string or array.")},Mt=function(e,t,n){if("function"!=typeof e)throw new Error("Invalid listener for "+Ot(t)+"#"+n+"; must be a function.")},Ft=function(e,t,n){var i,r,o,a=t.length<3||t[0]===e||t[0]===e.eventBusEl_;return a?(i=e.eventBusEl_,t.length>=3&&t.shift(),r=t[0],o=t[1]):(i=t[0],r=t[1],o=t[2]),Rt(i,e,n),Lt(r,e,n),Mt(o,e,n),{isTargetingSelf:a,target:i,type:r,listener:o=kt(e,o)}},jt=function(e,t,n,i){Rt(e,e,t),e.nodeName?xt[t](e,n,i):e[t](n,i)},Bt={on:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var r=Ft(this,n,"on"),o=r.isTargetingSelf,a=r.target,s=r.type,u=r.listener;if(jt(a,"on",s,u),!o){var l=function(){return e.off(a,s,u)};l.guid=u.guid;var c=function(){return e.off("dispose",l)};c.guid=u.guid,jt(this,"on","dispose",l),jt(a,"on","dispose",c)}},one:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var r=Ft(this,n,"one"),o=r.isTargetingSelf,a=r.target,s=r.type,u=r.listener;if(o)jt(a,"one",s,u);else{var l=function t(){e.off(a,s,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];u.apply(null,i)};l.guid=u.guid,jt(a,"one",s,l)}},any:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var r=Ft(this,n,"any"),o=r.isTargetingSelf,a=r.target,s=r.type,u=r.listener;if(o)jt(a,"any",s,u);else{var l=function t(){e.off(a,s,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];u.apply(null,i)};l.guid=u.guid,jt(a,"any",s,l)}},off:function(e,t,n){if(!e||Nt(e))wt(this.eventBusEl_,e,t);else{var i=e,r=t;Rt(i,this,"off"),Lt(r,this,"off"),Mt(n,this,"off"),n=kt(this,n),this.off("dispose",n),i.nodeName?(wt(i,r,n),wt(i,"dispose",n)):Pt(i)&&(i.off(r,n),i.off("dispose",n))}},trigger:function(e,t){Rt(this.eventBusEl_,this,"trigger");var n=e&&"string"!=typeof e?e.type:e;if(!Nt(n)){var i="Invalid event type for "+Ot(this)+"#trigger; must be a non-empty string or object with a type key that has a non-empty value.";if(!e)throw new Error(i);(this.log||Y).error(i)}return Et(this.eventBusEl_,e,t)}};function Ut(e,t){void 0===t&&(t={});var n=t.eventBusKey;if(n){if(!e[n].nodeName)throw new Error('The eventBusKey "'+n+'" does not refer to an element.');e.eventBusEl_=e[n]}else e.eventBusEl_=Pe("span",{className:"vjs-event-bus"});return ee(e,Bt),e.eventedCallbacks&&e.eventedCallbacks.forEach((function(e){e()})),e.on("dispose",(function(){e.off(),[e,e.el_,e.eventBusEl_].forEach((function(e){e&&mt.has(e)&&mt.delete(e)})),x.default.setTimeout((function(){e.eventBusEl_=null}),0)})),e}var Ht={state:{},setState:function(e){var t,n=this;return"function"==typeof e&&(e=e()),Z(e,(function(e,i){n.state[i]!==e&&((t=t||{})[i]={from:n.state[i],to:e}),n.state[i]=e})),t&&Pt(this)&&this.trigger({changes:t,type:"statechanged"}),t}};function $t(e,t){return ee(e,Ht),e.state=ee({},e.state,t),"function"==typeof e.handleStateChanged&&Pt(e)&&e.on("statechanged",e.handleStateChanged),e}var Gt=function(e){return"string"!=typeof e?e:e.replace(/./,(function(e){return e.toLowerCase()}))},qt=function(e){return"string"!=typeof e?e:e.replace(/./,(function(e){return e.toUpperCase()}))};function Vt(){for(var e={},t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return n.forEach((function(t){t&&Z(t,(function(t,n){ne(t)?(ne(e[n])||(e[n]={}),e[n]=Vt(e[n],t)):e[n]=t}))})),e}var zt=function(){function e(){this.map_={}}var t=e.prototype;return t.has=function(e){return e in this.map_},t.delete=function(e){var t=this.has(e);return delete this.map_[e],t},t.set=function(e,t){return this.map_[e]=t,this},t.forEach=function(e,t){for(var n in this.map_)e.call(t,this.map_[n],n,this)},e}(),Wt=x.default.Map?x.default.Map:zt,Kt=function(){function e(){this.set_={}}var t=e.prototype;return t.has=function(e){return e in this.set_},t.delete=function(e){var t=this.has(e);return delete this.set_[e],t},t.add=function(e){return this.set_[e]=1,this},t.forEach=function(e,t){for(var n in this.set_)e.call(t,n,n,this)},e}(),Yt=x.default.Set?x.default.Set:Kt,Jt=function(){function e(e,t,n){var i=this;if(!e&&this.play?this.player_=e=this:this.player_=e,this.isDisposed_=!1,this.parentComponent_=null,this.options_=Vt({},this.options_),t=this.options_=Vt(this.options_,t),this.id_=t.id||t.el&&t.el.id,!this.id_){var r=e&&e.id&&e.id()||"no_player";this.id_=r+"_component_"+ht()}this.name_=t.name||null,t.el?this.el_=t.el:!1!==t.createEl&&(this.el_=this.createEl()),t.className&&this.el_&&t.className.split(" ").forEach((function(e){return i.addClass(e)})),!1!==t.evented&&(Ut(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),$t(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Yt,this.setIntervalIds_=new Yt,this.rafIds_=new Yt,this.namedRafs_=new Wt,this.clearingTimersOnDispose_=!1,!1!==t.initChildren&&this.initChildren(),this.ready(n),!1!==t.reportTouchActivity&&this.enableTouchActivity()}var t=e.prototype;return t.dispose=function(){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var e=this.children_.length-1;e>=0;e--)this.children_[e].dispose&&this.children_[e].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),this.el_=null),this.player_=null}},t.isDisposed=function(){return Boolean(this.isDisposed_)},t.player=function(){return this.player_},t.options=function(e){return e?(this.options_=Vt(this.options_,e),this.options_):this.options_},t.el=function(){return this.el_},t.createEl=function(e,t,n){return Pe(e,t,n)},t.localize=function(e,t,n){void 0===n&&(n=e);var i=this.player_.language&&this.player_.language(),r=this.player_.languages&&this.player_.languages(),o=r&&r[i],a=i&&i.split("-")[0],s=r&&r[a],u=n;return o&&o[e]?u=o[e]:s&&s[e]&&(u=s[e]),t&&(u=u.replace(/\{(\d+)\}/g,(function(e,n){var i=t[n-1],r=i;return void 0===i&&(r=e),r}))),u},t.handleLanguagechange=function(){},t.contentEl=function(){return this.contentEl_||this.el_},t.id=function(){return this.id_},t.name=function(){return this.name_},t.children=function(){return this.children_},t.getChildById=function(e){return this.childIndex_[e]},t.getChild=function(e){if(e)return this.childNameIndex_[e]},t.getDescendant=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t=t.reduce((function(e,t){return e.concat(t)}),[]);for(var i=this,r=0;r<t.length;r++)if(!(i=i.getChild(t[r]))||!i.getChild)return;return i},t.addChild=function(t,n,i){var r,o;if(void 0===n&&(n={}),void 0===i&&(i=this.children_.length),"string"==typeof t){o=qt(t);var a=n.componentClass||o;n.name=o;var s=e.getComponent(a);if(!s)throw new Error("Component "+a+" does not exist");if("function"!=typeof s)return null;r=new s(this.player_||this,n)}else r=t;if(r.parentComponent_&&r.parentComponent_.removeChild(r),this.children_.splice(i,0,r),r.parentComponent_=this,"function"==typeof r.id&&(this.childIndex_[r.id()]=r),(o=o||r.name&&qt(r.name()))&&(this.childNameIndex_[o]=r,this.childNameIndex_[Gt(o)]=r),"function"==typeof r.el&&r.el()){var u=null;this.children_[i+1]&&(this.children_[i+1].el_?u=this.children_[i+1].el_:Ie(this.children_[i+1])&&(u=this.children_[i+1])),this.contentEl().insertBefore(r.el(),u)}return r},t.removeChild=function(e){if("string"==typeof e&&(e=this.getChild(e)),e&&this.children_){for(var t=!1,n=this.children_.length-1;n>=0;n--)if(this.children_[n]===e){t=!0,this.children_.splice(n,1);break}if(t){e.parentComponent_=null,this.childIndex_[e.id()]=null,this.childNameIndex_[qt(e.name())]=null,this.childNameIndex_[Gt(e.name())]=null;var i=e.el();i&&i.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}}},t.initChildren=function(){var t=this,n=this.options_.children;if(n){var i,r=this.options_,o=e.getComponent("Tech");(i=Array.isArray(n)?n:Object.keys(n)).concat(Object.keys(this.options_).filter((function(e){return!i.some((function(t){return"string"==typeof t?e===t:e===t.name}))}))).map((function(e){var i,r;return"string"==typeof e?r=n[i=e]||t.options_[i]||{}:(i=e.name,r=e),{name:i,opts:r}})).filter((function(t){var n=e.getComponent(t.opts.componentClass||qt(t.name));return n&&!o.isTech(n)})).forEach((function(e){var n=e.name,i=e.opts;if(void 0!==r[n]&&(i=r[n]),!1!==i){!0===i&&(i={}),i.playerOptions=t.options_.playerOptions;var o=t.addChild(n,i);o&&(t[n]=o)}}))}},t.buildCSSClass=function(){return""},t.ready=function(e,t){if(void 0===t&&(t=!1),e)return this.isReady_?void(t?e.call(this):this.setTimeout(e,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(e))},t.triggerReady=function(){this.isReady_=!0,this.setTimeout((function(){var e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach((function(e){e.call(this)}),this),this.trigger("ready")}),1)},t.$=function(e,t){return nt(e,t||this.contentEl())},t.$$=function(e,t){return it(e,t||this.contentEl())},t.hasClass=function(e){return Le(this.el_,e)},t.addClass=function(e){Me(this.el_,e)},t.removeClass=function(e){Fe(this.el_,e)},t.toggleClass=function(e,t){je(this.el_,e,t)},t.show=function(){this.removeClass("vjs-hidden")},t.hide=function(){this.addClass("vjs-hidden")},t.lockShowing=function(){this.addClass("vjs-lock-showing")},t.unlockShowing=function(){this.removeClass("vjs-lock-showing")},t.getAttribute=function(e){return He(this.el_,e)},t.setAttribute=function(e,t){$e(this.el_,e,t)},t.removeAttribute=function(e){Ge(this.el_,e)},t.width=function(e,t){return this.dimension("width",e,t)},t.height=function(e,t){return this.dimension("height",e,t)},t.dimensions=function(e,t){this.width(e,!0),this.height(t)},t.dimension=function(e,t,n){if(void 0!==t)return null!==t&&t==t||(t=0),-1!==(""+t).indexOf("%")||-1!==(""+t).indexOf("px")?this.el_.style[e]=t:this.el_.style[e]="auto"===t?"":t+"px",void(n||this.trigger("componentresize"));if(!this.el_)return 0;var i=this.el_.style[e],r=i.indexOf("px");return-1!==r?parseInt(i.slice(0,r),10):parseInt(this.el_["offset"+qt(e)],10)},t.currentDimension=function(e){var t=0;if("width"!==e&&"height"!==e)throw new Error("currentDimension only accepts width or height value");if(t=ie(this.el_,e),0===(t=parseFloat(t))||isNaN(t)){var n="offset"+qt(e);t=this.el_[n]}return t},t.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},t.currentWidth=function(){return this.currentDimension("width")},t.currentHeight=function(){return this.currentDimension("height")},t.focus=function(){this.el_.focus()},t.blur=function(){this.el_.blur()},t.handleKeyDown=function(e){this.player_&&(I.default.isEventKey(e,"Tab")||e.stopPropagation(),this.player_.handleKeyDown(e))},t.handleKeyPress=function(e){this.handleKeyDown(e)},t.emitTapEvents=function(){var e,t=0,n=null;this.on("touchstart",(function(i){1===i.touches.length&&(n={pageX:i.touches[0].pageX,pageY:i.touches[0].pageY},t=x.default.performance.now(),e=!0)})),this.on("touchmove",(function(t){if(t.touches.length>1)e=!1;else if(n){var i=t.touches[0].pageX-n.pageX,r=t.touches[0].pageY-n.pageY;Math.sqrt(i*i+r*r)>10&&(e=!1)}}));var i=function(){e=!1};this.on("touchleave",i),this.on("touchcancel",i),this.on("touchend",(function(i){(n=null,!0===e)&&(x.default.performance.now()-t<200&&(i.preventDefault(),this.trigger("tap")))}))},t.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var e,t=kt(this.player(),this.player().reportUserActivity);this.on("touchstart",(function(){t(),this.clearInterval(e),e=this.setInterval(t,250)}));var n=function(n){t(),this.clearInterval(e)};this.on("touchmove",t),this.on("touchend",n),this.on("touchcancel",n)}},t.setTimeout=function(e,t){var n,i=this;return e=kt(this,e),this.clearTimersOnDispose_(),n=x.default.setTimeout((function(){i.setTimeoutIds_.has(n)&&i.setTimeoutIds_.delete(n),e()}),t),this.setTimeoutIds_.add(n),n},t.clearTimeout=function(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),x.default.clearTimeout(e)),e},t.setInterval=function(e,t){e=kt(this,e),this.clearTimersOnDispose_();var n=x.default.setInterval(e,t);return this.setIntervalIds_.add(n),n},t.clearInterval=function(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),x.default.clearInterval(e)),e},t.requestAnimationFrame=function(e){var t,n=this;return this.supportsRaf_?(this.clearTimersOnDispose_(),e=kt(this,e),t=x.default.requestAnimationFrame((function(){n.rafIds_.has(t)&&n.rafIds_.delete(t),e()})),this.rafIds_.add(t),t):this.setTimeout(e,1e3/60)},t.requestNamedAnimationFrame=function(e,t){var n=this;if(!this.namedRafs_.has(e)){this.clearTimersOnDispose_(),t=kt(this,t);var i=this.requestAnimationFrame((function(){t(),n.namedRafs_.has(e)&&n.namedRafs_.delete(e)}));return this.namedRafs_.set(e,i),e}},t.cancelNamedAnimationFrame=function(e){this.namedRafs_.has(e)&&(this.cancelAnimationFrame(this.namedRafs_.get(e)),this.namedRafs_.delete(e))},t.cancelAnimationFrame=function(e){return this.supportsRaf_?(this.rafIds_.has(e)&&(this.rafIds_.delete(e),x.default.cancelAnimationFrame(e)),e):this.clearTimeout(e)},t.clearTimersOnDispose_=function(){var e=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",(function(){[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach((function(t){var n=t[0],i=t[1];e[n].forEach((function(t,n){return e[i](n)}))})),e.clearingTimersOnDispose_=!1})))},e.registerComponent=function(t,n){if("string"!=typeof t||!t)throw new Error('Illegal component name, "'+t+'"; must be a non-empty string.');var i,r=e.getComponent("Tech"),o=r&&r.isTech(n),a=e===n||e.prototype.isPrototypeOf(n.prototype);if(o||!a)throw i=o?"techs must be registered using Tech.registerTech()":"must be a Component subclass",new Error('Illegal component, "'+t+'"; '+i+".");t=qt(t),e.components_||(e.components_={});var s=e.getComponent("Player");if("Player"===t&&s&&s.players){var u=s.players,l=Object.keys(u);if(u&&l.length>0&&l.map((function(e){return u[e]})).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return e.components_[t]=n,e.components_[Gt(t)]=n,n},e.getComponent=function(t){if(t&&e.components_)return e.components_[t]},e}();function Xt(e,t,n,i){return function(e,t,n){if("number"!=typeof t||t<0||t>n)throw new Error("Failed to execute '"+e+"' on 'TimeRanges': The index provided ("+t+") is non-numeric or out of bounds (0-"+n+").")}(e,i,n.length-1),n[i][t]}function Qt(e){var t;return t=void 0===e||0===e.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:e.length,start:Xt.bind(null,"start",0,e),end:Xt.bind(null,"end",1,e)},x.default.Symbol&&x.default.Symbol.iterator&&(t[x.default.Symbol.iterator]=function(){return(e||[]).values()}),t}function Zt(e,t){return Array.isArray(e)?Qt(e):void 0===e||void 0===t?Qt():Qt([[e,t]])}function en(e,t){var n,i,r=0;if(!t)return 0;e&&e.length||(e=Zt(0,0));for(var o=0;o<e.length;o++)n=e.start(o),(i=e.end(o))>t&&(i=t),r+=i-n;return r/t}function tn(e){if(e instanceof tn)return e;"number"==typeof e?this.code=e:"string"==typeof e?this.message=e:te(e)&&("number"==typeof e.code&&(this.code=e.code),ee(this,e)),this.message||(this.message=tn.defaultMessages[this.code]||"")}Jt.prototype.supportsRaf_="function"==typeof x.default.requestAnimationFrame&&"function"==typeof x.default.cancelAnimationFrame,Jt.registerComponent("Component",Jt),tn.prototype.code=0,tn.prototype.message="",tn.prototype.status=null,tn.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],tn.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var nn=0;nn<tn.errorTypes.length;nn++)tn[tn.errorTypes[nn]]=nn,tn.prototype[tn.errorTypes[nn]]=nn;function rn(e){return null!=e&&"function"==typeof e.then}function on(e){rn(e)&&e.then(null,(function(e){}))}var an=function(e){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((function(t,n,i){return e[n]&&(t[n]=e[n]),t}),{cues:e.cues&&Array.prototype.map.call(e.cues,(function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}}))})},sn=function(e){var t=e.$$("track"),n=Array.prototype.map.call(t,(function(e){return e.track}));return Array.prototype.map.call(t,(function(e){var t=an(e.track);return e.src&&(t.src=e.src),t})).concat(Array.prototype.filter.call(e.textTracks(),(function(e){return-1===n.indexOf(e)})).map(an))},un=function(e,t){return e.forEach((function(e){var n=t.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach((function(e){return n.addCue(e)}))})),t.textTracks()},ln=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).handleKeyDown_=function(e){return i.handleKeyDown(e)},i.close_=function(e){return i.close(e)},i.opened_=i.hasBeenOpened_=i.hasBeenFilled_=!1,i.closeable(!i.options_.uncloseable),i.content(i.options_.content),i.contentEl_=Pe("div",{className:"vjs-modal-dialog-content"},{role:"document"}),i.descEl_=Pe("p",{className:"vjs-modal-dialog-description vjs-control-text",id:i.el().getAttribute("aria-describedby")}),Ne(i.descEl_,i.description()),i.el_.appendChild(i.descEl_),i.el_.appendChild(i.contentEl_),i}O.default(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},n.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,e.prototype.dispose.call(this)},n.buildCSSClass=function(){return"vjs-modal-dialog vjs-hidden "+e.prototype.buildCSSClass.call(this)},n.label=function(){return this.localize(this.options_.label||"Modal Window")},n.description=function(){var e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e},n.open=function(){if(!this.opened_){var e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},n.opened=function(e){return"boolean"==typeof e&&this[e?"open":"close"](),this.opened_},n.close=function(){if(this.opened_){var e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},n.closeable=function(e){if("boolean"==typeof e){var t=this.closeable_=!!e,n=this.getChild("closeButton");if(t&&!n){var i=this.contentEl_;this.contentEl_=this.el_,n=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=i,this.on(n,"close",this.close_)}!t&&n&&(this.off(n,"close",this.close_),this.removeChild(n),n.dispose())}return this.closeable_},n.fill=function(){this.fillWith(this.content())},n.fillWith=function(e){var t=this.contentEl(),n=t.parentNode,i=t.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(t),this.empty(),Ze(t,e),this.trigger("modalfill"),i?n.insertBefore(t,i):n.appendChild(t);var r=this.getChild("closeButton");r&&n.appendChild(r.el_)},n.empty=function(){this.trigger("beforemodalempty"),Je(this.contentEl()),this.trigger("modalempty")},n.content=function(e){return void 0!==e&&(this.content_=e),this.content_},n.conditionalFocus_=function(){var e=A.default.activeElement,t=this.player_.el_;this.previouslyActiveEl_=null,(t.contains(e)||t===e)&&(this.previouslyActiveEl_=e,this.focus())},n.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},n.handleKeyDown=function(e){if(e.stopPropagation(),I.default.isEventKey(e,"Escape")&&this.closeable())return e.preventDefault(),void this.close();if(I.default.isEventKey(e,"Tab")){for(var t,n=this.focusableEls_(),i=this.el_.querySelector(":focus"),r=0;r<n.length;r++)if(i===n[r]){t=r;break}A.default.activeElement===this.el_&&(t=0),e.shiftKey&&0===t?(n[n.length-1].focus(),e.preventDefault()):e.shiftKey||t!==n.length-1||(n[0].focus(),e.preventDefault())}},n.focusableEls_=function(){var e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,(function(e){return(e instanceof x.default.HTMLAnchorElement||e instanceof x.default.HTMLAreaElement)&&e.hasAttribute("href")||(e instanceof x.default.HTMLInputElement||e instanceof x.default.HTMLSelectElement||e instanceof x.default.HTMLTextAreaElement||e instanceof x.default.HTMLButtonElement)&&!e.hasAttribute("disabled")||e instanceof x.default.HTMLIFrameElement||e instanceof x.default.HTMLObjectElement||e instanceof x.default.HTMLEmbedElement||e.hasAttribute("tabindex")&&-1!==e.getAttribute("tabindex")||e.hasAttribute("contenteditable")}))},t}(Jt);ln.prototype.options_={pauseOnOpen:!0,temporary:!0},Jt.registerComponent("ModalDialog",ln);var cn=function(e){function t(t){var n;void 0===t&&(t=[]),(n=e.call(this)||this).tracks_=[],Object.defineProperty(D.default(n),"length",{get:function(){return this.tracks_.length}});for(var i=0;i<t.length;i++)n.addTrack(t[i]);return n}O.default(t,e);var n=t.prototype;return n.addTrack=function(e){var t=this,n=this.tracks_.length;""+n in this||Object.defineProperty(this,n,{get:function(){return this.tracks_[n]}}),-1===this.tracks_.indexOf(e)&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this})),e.labelchange_=function(){t.trigger({track:e,type:"labelchange",target:t})},Pt(e)&&e.addEventListener("labelchange",e.labelchange_)},n.removeTrack=function(e){for(var t,n=0,i=this.length;n<i;n++)if(this[n]===e){(t=this[n]).off&&t.off(),this.tracks_.splice(n,1);break}t&&this.trigger({track:t,type:"removetrack",target:this})},n.getTrackById=function(e){for(var t=null,n=0,i=this.length;n<i;n++){var r=this[n];if(r.id===e){t=r;break}}return t},t}(Dt);for(var dn in cn.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"},cn.prototype.allowedEvents_)cn.prototype["on"+dn]=null;var pn=function(e,t){for(var n=0;n<e.length;n++)Object.keys(e[n]).length&&t.id!==e[n].id&&(e[n].enabled=!1)},hn=function(e){function t(t){var n;void 0===t&&(t=[]);for(var i=t.length-1;i>=0;i--)if(t[i].enabled){pn(t,t[i]);break}return(n=e.call(this,t)||this).changing_=!1,n}O.default(t,e);var n=t.prototype;return n.addTrack=function(t){var n=this;t.enabled&&pn(this,t),e.prototype.addTrack.call(this,t),t.addEventListener&&(t.enabledChange_=function(){n.changing_||(n.changing_=!0,pn(n,t),n.changing_=!1,n.trigger("change"))},t.addEventListener("enabledchange",t.enabledChange_))},n.removeTrack=function(t){e.prototype.removeTrack.call(this,t),t.removeEventListener&&t.enabledChange_&&(t.removeEventListener("enabledchange",t.enabledChange_),t.enabledChange_=null)},t}(cn),fn=function(e,t){for(var n=0;n<e.length;n++)Object.keys(e[n]).length&&t.id!==e[n].id&&(e[n].selected=!1)},mn=function(e){function t(t){var n;void 0===t&&(t=[]);for(var i=t.length-1;i>=0;i--)if(t[i].selected){fn(t,t[i]);break}return(n=e.call(this,t)||this).changing_=!1,Object.defineProperty(D.default(n),"selectedIndex",{get:function(){for(var e=0;e<this.length;e++)if(this[e].selected)return e;return-1},set:function(){}}),n}O.default(t,e);var n=t.prototype;return n.addTrack=function(t){var n=this;t.selected&&fn(this,t),e.prototype.addTrack.call(this,t),t.addEventListener&&(t.selectedChange_=function(){n.changing_||(n.changing_=!0,fn(n,t),n.changing_=!1,n.trigger("change"))},t.addEventListener("selectedchange",t.selectedChange_))},n.removeTrack=function(t){e.prototype.removeTrack.call(this,t),t.removeEventListener&&t.selectedChange_&&(t.removeEventListener("selectedchange",t.selectedChange_),t.selectedChange_=null)},t}(cn),gn=function(e){function t(){return e.apply(this,arguments)||this}O.default(t,e);var n=t.prototype;return n.addTrack=function(t){var n=this;e.prototype.addTrack.call(this,t),this.queueChange_||(this.queueChange_=function(){return n.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return n.trigger("selectedlanguagechange")}),t.addEventListener("modechange",this.queueChange_);-1===["metadata","chapters"].indexOf(t.kind)&&t.addEventListener("modechange",this.triggerSelectedlanguagechange_)},n.removeTrack=function(t){e.prototype.removeTrack.call(this,t),t.removeEventListener&&(this.queueChange_&&t.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&t.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},t}(cn),yn=function(){function e(e){void 0===e&&(e=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var t=0,n=e.length;t<n;t++)this.addTrackElement_(e[t])}var t=e.prototype;return t.addTrackElement_=function(e){var t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.trackElements_[t]}}),-1===this.trackElements_.indexOf(e)&&this.trackElements_.push(e)},t.getTrackElementByTrack_=function(e){for(var t,n=0,i=this.trackElements_.length;n<i;n++)if(e===this.trackElements_[n].track){t=this.trackElements_[n];break}return t},t.removeTrackElement_=function(e){for(var t=0,n=this.trackElements_.length;t<n;t++)if(e===this.trackElements_[t]){this.trackElements_[t].track&&"function"==typeof this.trackElements_[t].track.off&&this.trackElements_[t].track.off(),"function"==typeof this.trackElements_[t].off&&this.trackElements_[t].off(),this.trackElements_.splice(t,1);break}},e}(),vn=function(){function e(t){e.prototype.setCues_.call(this,t),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var t=e.prototype;return t.setCues_=function(e){var t=this.length||0,n=0,i=e.length;this.cues_=e,this.length_=e.length;var r=function(e){""+e in this||Object.defineProperty(this,""+e,{get:function(){return this.cues_[e]}})};if(t<i)for(n=t;n<i;n++)r.call(this,n)},t.getCueById=function(e){for(var t=null,n=0,i=this.length;n<i;n++){var r=this[n];if(r.id===e){t=r;break}}return t},e}(),_n={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},bn={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},wn={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},En={disabled:"disabled",hidden:"hidden",showing:"showing"},Sn=function(e){function t(t){var n;void 0===t&&(t={}),n=e.call(this)||this;var i={id:t.id||"vjs_track_"+ht(),kind:t.kind||"",language:t.language||""},r=t.label||"",o=function(e){Object.defineProperty(D.default(n),e,{get:function(){return i[e]},set:function(){}})};for(var a in i)o(a);return Object.defineProperty(D.default(n),"label",{get:function(){return r},set:function(e){e!==r&&(r=e,this.trigger("labelchange"))}}),n}return O.default(t,e),t}(Dt),Tn=function(e){var t=["protocol","hostname","port","pathname","search","hash","host"],n=A.default.createElement("a");n.href=e;for(var i={},r=0;r<t.length;r++)i[t[r]]=n[t[r]];return"http:"===i.protocol&&(i.host=i.host.replace(/:80$/,"")),"https:"===i.protocol&&(i.host=i.host.replace(/:443$/,"")),i.protocol||(i.protocol=x.default.location.protocol),i.host||(i.host=x.default.location.host),i},Cn=function(e){if(!e.match(/^https?:\/\//)){var t=A.default.createElement("a");t.href=e,e=t.href}return e},xn=function(e){if("string"==typeof e){var t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(e);if(t)return t.pop().toLowerCase()}return""},An=function(e,t){void 0===t&&(t=x.default.location);var n=Tn(e);return(":"===n.protocol?t.protocol:n.protocol)+n.host!==t.protocol+t.host},kn=Object.freeze({__proto__:null,parseUrl:Tn,getAbsoluteURL:Cn,getFileExtension:xn,isCrossOrigin:An}),In=function(e,t){var n=new x.default.WebVTT.Parser(x.default,x.default.vttjs,x.default.WebVTT.StringDecoder()),i=[];n.oncue=function(e){t.addCue(e)},n.onparsingerror=function(e){i.push(e)},n.onflush=function(){t.trigger({type:"loadeddata",target:t})},n.parse(e),i.length>0&&(x.default.console&&x.default.console.groupCollapsed&&x.default.console.groupCollapsed("Text Track parsing errors for "+t.src),i.forEach((function(e){return Y.error(e)})),x.default.console&&x.default.console.groupEnd&&x.default.console.groupEnd()),n.flush()},Dn=function(e,t){var n={uri:e},i=An(e);i&&(n.cors=i);var r="use-credentials"===t.tech_.crossOrigin();r&&(n.withCredentials=r),N.default(n,kt(this,(function(e,n,i){if(e)return Y.error(e,n);t.loaded_=!0,"function"!=typeof x.default.WebVTT?t.tech_&&t.tech_.any(["vttjsloaded","vttjserror"],(function(e){if("vttjserror"!==e.type)return In(i,t);Y.error("vttjs failed to load, stopping trying to process "+t.src)})):In(i,t)})))},On=function(e){function t(t){var n;if(void 0===t&&(t={}),!t.tech)throw new Error("A tech was not provided.");var i=Vt(t,{kind:wn[t.kind]||"subtitles",language:t.language||t.srclang||""}),r=En[i.mode]||"disabled",o=i.default;"metadata"!==i.kind&&"chapters"!==i.kind||(r="hidden"),(n=e.call(this,i)||this).tech_=i.tech,n.cues_=[],n.activeCues_=[],n.preload_=!1!==n.tech_.preloadTextTracks;var a=new vn(n.cues_),s=new vn(n.activeCues_),u=!1;n.timeupdateHandler=kt(D.default(n),(function(){this.tech_.isDisposed()||(this.tech_.isReady_?(this.activeCues=this.activeCues,u&&(this.trigger("cuechange"),u=!1),this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler)):this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler))}));return n.tech_.one("dispose",(function(){n.stopTracking()})),"disabled"!==r&&n.startTracking(),Object.defineProperties(D.default(n),{default:{get:function(){return o},set:function(){}},mode:{get:function(){return r},set:function(e){En[e]&&r!==e&&(r=e,this.preload_||"disabled"===r||0!==this.cues.length||Dn(this.src,this),this.stopTracking(),"disabled"!==r&&this.startTracking(),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?a:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return s;for(var e=this.tech_.currentTime(),t=[],n=0,i=this.cues.length;n<i;n++){var r=this.cues[n];(r.startTime<=e&&r.endTime>=e||r.startTime===r.endTime&&r.startTime<=e&&r.startTime+.5>=e)&&t.push(r)}if(u=!1,t.length!==this.activeCues_.length)u=!0;else for(var o=0;o<t.length;o++)-1===this.activeCues_.indexOf(t[o])&&(u=!0);return this.activeCues_=t,s.setCues_(this.activeCues_),s},set:function(){}}}),i.src?(n.src=i.src,n.preload_||(n.loaded_=!0),(n.preload_||"subtitles"!==i.kind&&"captions"!==i.kind)&&Dn(n.src,D.default(n))):n.loaded_=!0,n}O.default(t,e);var n=t.prototype;return n.startTracking=function(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler)},n.stopTracking=function(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0)},n.addCue=function(e){var t=e;if(x.default.vttjs&&!(e instanceof x.default.vttjs.VTTCue)){for(var n in t=new x.default.vttjs.VTTCue(e.startTime,e.endTime,e.text),e)n in t||(t[n]=e[n]);t.id=e.id,t.originalCue_=e}for(var i=this.tech_.textTracks(),r=0;r<i.length;r++)i[r]!==this&&i[r].removeCue(t);this.cues_.push(t),this.cues.setCues_(this.cues_)},n.removeCue=function(e){for(var t=this.cues_.length;t--;){var n=this.cues_[t];if(n===e||n.originalCue_&&n.originalCue_===e){this.cues_.splice(t,1),this.cues.setCues_(this.cues_);break}}},t}(Sn);On.prototype.allowedEvents_={cuechange:"cuechange"};var Pn=function(e){function t(t){var n;void 0===t&&(t={});var i=Vt(t,{kind:bn[t.kind]||""});n=e.call(this,i)||this;var r=!1;return Object.defineProperty(D.default(n),"enabled",{get:function(){return r},set:function(e){"boolean"==typeof e&&e!==r&&(r=e,this.trigger("enabledchange"))}}),i.enabled&&(n.enabled=i.enabled),n.loaded_=!0,n}return O.default(t,e),t}(Sn),Nn=function(e){function t(t){var n;void 0===t&&(t={});var i=Vt(t,{kind:_n[t.kind]||""});n=e.call(this,i)||this;var r=!1;return Object.defineProperty(D.default(n),"selected",{get:function(){return r},set:function(e){"boolean"==typeof e&&e!==r&&(r=e,this.trigger("selectedchange"))}}),i.selected&&(n.selected=i.selected),n}return O.default(t,e),t}(Sn),Rn=function(e){function t(t){var n,i;void 0===t&&(t={}),n=e.call(this)||this;var r=new On(t);return n.kind=r.kind,n.src=r.src,n.srclang=r.language,n.label=r.label,n.default=r.default,Object.defineProperties(D.default(n),{readyState:{get:function(){return i}},track:{get:function(){return r}}}),i=0,r.addEventListener("loadeddata",(function(){i=2,n.trigger({type:"load",target:D.default(n)})})),n}return O.default(t,e),t}(Dt);Rn.prototype.allowedEvents_={load:"load"},Rn.NONE=0,Rn.LOADING=1,Rn.LOADED=2,Rn.ERROR=3;var Ln={audio:{ListClass:hn,TrackClass:Pn,capitalName:"Audio"},video:{ListClass:mn,TrackClass:Nn,capitalName:"Video"},text:{ListClass:gn,TrackClass:On,capitalName:"Text"}};Object.keys(Ln).forEach((function(e){Ln[e].getterName=e+"Tracks",Ln[e].privateName=e+"Tracks_"}));var Mn={remoteText:{ListClass:gn,TrackClass:On,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:yn,TrackClass:Rn,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},Fn=k.default({},Ln,Mn);Mn.names=Object.keys(Mn),Ln.names=Object.keys(Ln),Fn.names=[].concat(Mn.names).concat(Ln.names);var jn=function(e){function t(t,n){var i;return void 0===t&&(t={}),void 0===n&&(n=function(){}),t.reportTouchActivity=!1,(i=e.call(this,null,t,n)||this).onDurationChange_=function(e){return i.onDurationChange(e)},i.trackProgress_=function(e){return i.trackProgress(e)},i.trackCurrentTime_=function(e){return i.trackCurrentTime(e)},i.stopTrackingCurrentTime_=function(e){return i.stopTrackingCurrentTime(e)},i.disposeSourceHandler_=function(e){return i.disposeSourceHandler(e)},i.queuedHanders_=new Set,i.hasStarted_=!1,i.on("playing",(function(){this.hasStarted_=!0})),i.on("loadstart",(function(){this.hasStarted_=!1})),Fn.names.forEach((function(e){var n=Fn[e];t&&t[n.getterName]&&(i[n.privateName]=t[n.getterName])})),i.featuresProgressEvents||i.manualProgressOn(),i.featuresTimeupdateEvents||i.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach((function(e){!1===t["native"+e+"Tracks"]&&(i["featuresNative"+e+"Tracks"]=!1)})),!1===t.nativeCaptions||!1===t.nativeTextTracks?i.featuresNativeTextTracks=!1:!0!==t.nativeCaptions&&!0!==t.nativeTextTracks||(i.featuresNativeTextTracks=!0),i.featuresNativeTextTracks||i.emulateTextTracks(),i.preloadTextTracks=!1!==t.preloadTextTracks,i.autoRemoteTextTracks_=new Fn.text.ListClass,i.initTrackListeners(),t.nativeControlsForTouch||i.emitTapEvents(),i.constructor&&(i.name_=i.constructor.name||"Unknown Tech"),i}O.default(t,e);var n=t.prototype;return n.triggerSourceset=function(e){var t=this;this.isReady_||this.one("ready",(function(){return t.setTimeout((function(){return t.triggerSourceset(e)}),1)})),this.trigger({src:e,type:"sourceset"})},n.manualProgressOn=function(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)},n.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)},n.trackProgress=function(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(kt(this,(function(){var e=this.bufferedPercent();this.bufferedPercent_!==e&&this.trigger("progress"),this.bufferedPercent_=e,1===e&&this.stopTrackingProgress()})),500)},n.onDurationChange=function(e){this.duration_=this.duration()},n.buffered=function(){return Zt(0,0)},n.bufferedPercent=function(){return en(this.buffered(),this.duration_)},n.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},n.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)},n.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)},n.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval((function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}),250)},n.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.dispose=function(){this.clearTracks(Ln.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),e.prototype.dispose.call(this)},n.clearTracks=function(e){var t=this;(e=[].concat(e)).forEach((function(e){for(var n=t[e+"Tracks"]()||[],i=n.length;i--;){var r=n[i];"text"===e&&t.removeRemoteTextTrack(r),n.removeTrack(r)}}))},n.cleanupAutoTextTracks=function(){for(var e=this.autoRemoteTextTracks_||[],t=e.length;t--;){var n=e[t];this.removeRemoteTextTrack(n)}},n.reset=function(){},n.crossOrigin=function(){},n.setCrossOrigin=function(){},n.error=function(e){return void 0!==e&&(this.error_=new tn(e),this.trigger("error")),this.error_},n.played=function(){return this.hasStarted_?Zt(0,0):Zt()},n.play=function(){},n.setScrubbing=function(){},n.scrubbing=function(){},n.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.initTrackListeners=function(){var e=this;Ln.names.forEach((function(t){var n=Ln[t],i=function(){e.trigger(t+"trackchange")},r=e[n.getterName]();r.addEventListener("removetrack",i),r.addEventListener("addtrack",i),e.on("dispose",(function(){r.removeEventListener("removetrack",i),r.removeEventListener("addtrack",i)}))}))},n.addWebVttScript_=function(){var e=this;if(!x.default.WebVTT)if(A.default.body.contains(this.el())){if(!this.options_["vtt.js"]&&ne(R.default)&&Object.keys(R.default).length>0)return void this.trigger("vttjsloaded");var t=A.default.createElement("script");t.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",t.onload=function(){e.trigger("vttjsloaded")},t.onerror=function(){e.trigger("vttjserror")},this.on("dispose",(function(){t.onload=null,t.onerror=null})),x.default.WebVTT=!0,this.el().parentNode.appendChild(t)}else this.ready(this.addWebVttScript_)},n.emulateTextTracks=function(){var e=this,t=this.textTracks(),n=this.remoteTextTracks(),i=function(e){return t.addTrack(e.track)},r=function(e){return t.removeTrack(e.track)};n.on("addtrack",i),n.on("removetrack",r),this.addWebVttScript_();var o=function(){return e.trigger("texttrackchange")},a=function(){o();for(var e=0;e<t.length;e++){var n=t[e];n.removeEventListener("cuechange",o),"showing"===n.mode&&n.addEventListener("cuechange",o)}};a(),t.addEventListener("change",a),t.addEventListener("addtrack",a),t.addEventListener("removetrack",a),this.on("dispose",(function(){n.off("addtrack",i),n.off("removetrack",r),t.removeEventListener("change",a),t.removeEventListener("addtrack",a),t.removeEventListener("removetrack",a);for(var e=0;e<t.length;e++){t[e].removeEventListener("cuechange",o)}}))},n.addTextTrack=function(e,t,n){if(!e)throw new Error("TextTrack kind is required but was not provided");return function(e,t,n,i,r){void 0===r&&(r={});var o=e.textTracks();r.kind=t,n&&(r.label=n),i&&(r.language=i),r.tech=e;var a=new Fn.text.TrackClass(r);return o.addTrack(a),a}(this,e,t,n)},n.createRemoteTextTrack=function(e){var t=Vt(e,{tech:this});return new Mn.remoteTextEl.TrackClass(t)},n.addRemoteTextTrack=function(e,t){var n=this;void 0===e&&(e={});var i=this.createRemoteTextTrack(e);return!0!==t&&!1!==t&&(Y.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),t=!0),this.remoteTextTrackEls().addTrackElement_(i),this.remoteTextTracks().addTrack(i.track),!0!==t&&this.ready((function(){return n.autoRemoteTextTracks_.addTrack(i.track)})),i},n.removeRemoteTextTrack=function(e){var t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)},n.getVideoPlaybackQuality=function(){return{}},n.requestPictureInPicture=function(){var e=this.options_.Promise||x.default.Promise;if(e)return e.reject()},n.disablePictureInPicture=function(){return!0},n.setDisablePictureInPicture=function(){},n.requestVideoFrameCallback=function(e){var t=this,n=ht();return this.paused()?(this.queuedHanders_.add(n),this.one("playing",(function(){t.queuedHanders_.has(n)&&(t.queuedHanders_.delete(n),e())}))):this.requestNamedAnimationFrame(n,e),n},n.cancelVideoFrameCallback=function(e){this.queuedHanders_.has(e)?this.queuedHanders_.delete(e):this.cancelNamedAnimationFrame(e)},n.setPoster=function(){},n.playsinline=function(){},n.setPlaysinline=function(){},n.overrideNativeAudioTracks=function(){},n.overrideNativeVideoTracks=function(){},n.canPlayType=function(){return""},t.canPlayType=function(){return""},t.canPlaySource=function(e,n){return t.canPlayType(e.type)},t.isTech=function(e){return e.prototype instanceof t||e instanceof t||e===t},t.registerTech=function(e,n){if(t.techs_||(t.techs_={}),!t.isTech(n))throw new Error("Tech "+e+" must be a Tech");if(!t.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!t.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=qt(e),t.techs_[e]=n,t.techs_[Gt(e)]=n,"Tech"!==e&&t.defaultTechOrder_.push(e),n},t.getTech=function(e){if(e)return t.techs_&&t.techs_[e]?t.techs_[e]:(e=qt(e),x.default&&x.default.videojs&&x.default.videojs[e]?(Y.warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),x.default.videojs[e]):void 0)},t}(Jt);Fn.names.forEach((function(e){var t=Fn[e];jn.prototype[t.getterName]=function(){return this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName]}})),jn.prototype.featuresVolumeControl=!0,jn.prototype.featuresMuteControl=!0,jn.prototype.featuresFullscreenResize=!1,jn.prototype.featuresPlaybackRate=!1,jn.prototype.featuresProgressEvents=!1,jn.prototype.featuresSourceset=!1,jn.prototype.featuresTimeupdateEvents=!1,jn.prototype.featuresNativeTextTracks=!1,jn.prototype.featuresVideoFrameCallback=!1,jn.withSourceHandlers=function(e){e.registerSourceHandler=function(t,n){var i=e.sourceHandlers;i||(i=e.sourceHandlers=[]),void 0===n&&(n=i.length),i.splice(n,0,t)},e.canPlayType=function(t){for(var n,i=e.sourceHandlers||[],r=0;r<i.length;r++)if(n=i[r].canPlayType(t))return n;return""},e.selectSourceHandler=function(t,n){for(var i=e.sourceHandlers||[],r=0;r<i.length;r++)if(i[r].canHandleSource(t,n))return i[r];return null},e.canPlaySource=function(t,n){var i=e.selectSourceHandler(t,n);return i?i.canHandleSource(t,n):""};["seekable","seeking","duration"].forEach((function(e){var t=this[e];"function"==typeof t&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})}),e.prototype),e.prototype.setSource=function(t){var n=e.selectSourceHandler(t,this.options_);n||(e.nativeSourceHandler?n=e.nativeSourceHandler:Y.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),n!==e.nativeSourceHandler&&(this.currentSource_=t),this.sourceHandler_=n.handleSource(t,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},e.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},Jt.registerComponent("Tech",jn),jn.registerTech("Tech",jn),jn.defaultTechOrder_=[];var Bn={},Un={},Hn={};function $n(e,t,n){e.setTimeout((function(){return Kn(t,Bn[t.type],n,e)}),1)}function Gn(e,t,n,i){void 0===i&&(i=null);var r="call"+qt(n),o=e.reduce(Wn(r),i),a=o===Hn,s=a?null:t[n](o);return function(e,t,n,i){for(var r=e.length-1;r>=0;r--){var o=e[r];o[t]&&o[t](i,n)}}(e,n,s,a),s}var qn={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},Vn={setCurrentTime:1,setMuted:1,setVolume:1},zn={play:1,pause:1};function Wn(e){return function(t,n){return t===Hn?Hn:n[e]?n[e](t):t}}function Kn(e,t,n,i,r,o){void 0===e&&(e={}),void 0===t&&(t=[]),void 0===r&&(r=[]),void 0===o&&(o=!1);var a=t,s=a[0],u=a.slice(1);if("string"==typeof s)Kn(e,Bn[s],n,i,r,o);else if(s){var l=function(e,t){var n=Un[e.id()],i=null;if(null==n)return i=t(e),Un[e.id()]=[[t,i]],i;for(var r=0;r<n.length;r++){var o=n[r],a=o[0],s=o[1];a===t&&(i=s)}return null===i&&(i=t(e),n.push([t,i])),i}(i,s);if(!l.setSource)return r.push(l),Kn(e,u,n,i,r,o);l.setSource(ee({},e),(function(t,a){if(t)return Kn(e,u,n,i,r,o);r.push(l),Kn(a,e.type===a.type?u:Bn[a.type],n,i,r,o)}))}else u.length?Kn(e,u,n,i,r,o):o?n(e,r):Kn(e,Bn["*"],n,i,r,!0)}var Yn={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},Jn=function(e){void 0===e&&(e="");var t=xn(e);return Yn[t.toLowerCase()]||""},Xn=function e(t){if(Array.isArray(t)){var n=[];t.forEach((function(t){t=e(t),Array.isArray(t)?n=n.concat(t):te(t)&&n.push(t)})),t=n}else t="string"==typeof t&&t.trim()?[Qn({src:t})]:te(t)&&"string"==typeof t.src&&t.src&&t.src.trim()?[Qn(t)]:[];return t};function Qn(e){if(!e.type){var t=Jn(e.src);t&&(e.type=t)}return e}var Zn=function(e){function t(t,n,i){var r,o=Vt({createEl:!1},n);if(r=e.call(this,t,o,i)||this,n.playerOptions.sources&&0!==n.playerOptions.sources.length)t.src(n.playerOptions.sources);else for(var a=0,s=n.playerOptions.techOrder;a<s.length;a++){var u=qt(s[a]),l=jn.getTech(u);if(u||(l=Jt.getComponent(u)),l&&l.isSupported()){t.loadTech_(u);break}}return r}return O.default(t,e),t}(Jt);Jt.registerComponent("MediaLoader",Zn);var ei=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).options_.controlText&&i.controlText(i.options_.controlText),i.handleMouseOver_=function(e){return i.handleMouseOver(e)},i.handleMouseOut_=function(e){return i.handleMouseOut(e)},i.handleClick_=function(e){return i.handleClick(e)},i.handleKeyDown_=function(e){return i.handleKeyDown(e)},i.emitTapEvents(),i.enable(),i}O.default(t,e);var n=t.prototype;return n.createEl=function(e,t,n){void 0===e&&(e="div"),void 0===t&&(t={}),void 0===n&&(n={}),t=ee({className:this.buildCSSClass(),tabIndex:0},t),"button"===e&&Y.error("Creating a ClickableComponent with an HTML element of "+e+" is not supported; use a Button instead."),n=ee({role:"button"},n),this.tabIndex_=t.tabIndex;var i=Pe(e,t,n);return i.appendChild(Pe("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(i),i},n.dispose=function(){this.controlTextEl_=null,e.prototype.dispose.call(this)},n.createControlTextEl=function(e){return this.controlTextEl_=Pe("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_},n.controlText=function(e,t){if(void 0===t&&(t=this.el()),void 0===e)return this.controlText_||"Need Text";var n=this.localize(e);this.controlText_=e,Ne(this.controlTextEl_,n),this.nonIconControl||this.player_.options_.noUITitleAttributes||t.setAttribute("title",n)},n.buildCSSClass=function(){return"vjs-control vjs-button "+e.prototype.buildCSSClass.call(this)},n.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))},n.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)},n.handleLanguagechange=function(){this.controlText(this.controlText_)},n.handleClick=function(e){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},n.handleKeyDown=function(t){I.default.isEventKey(t,"Space")||I.default.isEventKey(t,"Enter")?(t.preventDefault(),t.stopPropagation(),this.trigger("click")):e.prototype.handleKeyDown.call(this,t)},t}(Jt);Jt.registerComponent("ClickableComponent",ei);var ti=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).update(),i.update_=function(e){return i.update(e)},t.on("posterchange",i.update_),i}O.default(t,e);var n=t.prototype;return n.dispose=function(){this.player().off("posterchange",this.update_),e.prototype.dispose.call(this)},n.createEl=function(){return Pe("div",{className:"vjs-poster",tabIndex:-1})},n.update=function(e){var t=this.player().poster();this.setSrc(t),t?this.show():this.hide()},n.setSrc=function(e){var t="";e&&(t='url("'+e+'")'),this.el_.style.backgroundImage=t},n.handleClick=function(e){if(this.player_.controls()){var t=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;!this.player_.tech(!0)||(ye||fe)&&t||this.player_.tech(!0).focus(),this.player_.paused()?on(this.player_.play()):this.player_.pause()}},t}(ei);Jt.registerComponent("PosterImage",ti);var ni={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function ii(e,t){var n;if(4===e.length)n=e[1]+e[1]+e[2]+e[2]+e[3]+e[3];else{if(7!==e.length)throw new Error("Invalid color code provided, "+e+"; must be formatted as e.g. #f0e or #f604e2.");n=e.slice(1)}return"rgba("+parseInt(n.slice(0,2),16)+","+parseInt(n.slice(2,4),16)+","+parseInt(n.slice(4,6),16)+","+t+")"}function ri(e,t,n){try{e.style[t]=n}catch(e){return}}var oi=function(e){function t(t,n,i){var r;r=e.call(this,t,n,i)||this;var o=function(e){return r.updateDisplay(e)};return t.on("loadstart",(function(e){return r.toggleDisplay(e)})),t.on("texttrackchange",o),t.on("loadedmetadata",(function(e){return r.preselectTrack(e)})),t.ready(kt(D.default(r),(function(){if(t.tech_&&t.tech_.featuresNativeTextTracks)this.hide();else{t.on("fullscreenchange",o),t.on("playerresize",o),x.default.addEventListener("orientationchange",o),t.on("dispose",(function(){return x.default.removeEventListener("orientationchange",o)}));for(var e=this.options_.playerOptions.tracks||[],n=0;n<e.length;n++)this.player_.addRemoteTextTrack(e[n],!0);this.preselectTrack()}}))),r}O.default(t,e);var n=t.prototype;return n.preselectTrack=function(){for(var e,t,n,i={captions:1,subtitles:1},r=this.player_.textTracks(),o=this.player_.cache_.selectedLanguage,a=0;a<r.length;a++){var s=r[a];o&&o.enabled&&o.language&&o.language===s.language&&s.kind in i?s.kind===o.kind?n=s:n||(n=s):o&&!o.enabled?(n=null,e=null,t=null):s.default&&("descriptions"!==s.kind||e?s.kind in i&&!t&&(t=s):e=s)}n?n.mode="showing":t?t.mode="showing":e&&(e.mode="showing")},n.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})},n.clearDisplay=function(){"function"==typeof x.default.WebVTT&&x.default.WebVTT.processCues(x.default,[],this.el_)},n.updateDisplay=function(){var e=this.player_.textTracks(),t=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),t){for(var n=[],i=0;i<e.length;++i){var r=e[i];"showing"===r.mode&&n.push(r)}this.updateForTrack(n)}else{for(var o=null,a=null,s=e.length;s--;){var u=e[s];"showing"===u.mode&&("descriptions"===u.kind?o=u:a=u)}a?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(a)):o&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(o))}},n.updateDisplayState=function(e){for(var t=this.player_.textTrackSettings.getValues(),n=e.activeCues,i=n.length;i--;){var r=n[i];if(r){var o=r.displayState;if(t.color&&(o.firstChild.style.color=t.color),t.textOpacity&&ri(o.firstChild,"color",ii(t.color||"#fff",t.textOpacity)),t.backgroundColor&&(o.firstChild.style.backgroundColor=t.backgroundColor),t.backgroundOpacity&&ri(o.firstChild,"backgroundColor",ii(t.backgroundColor||"#000",t.backgroundOpacity)),t.windowColor&&(t.windowOpacity?ri(o,"backgroundColor",ii(t.windowColor,t.windowOpacity)):o.style.backgroundColor=t.windowColor),t.edgeStyle&&("dropshadow"===t.edgeStyle?o.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222":"raised"===t.edgeStyle?o.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px #222":"depressed"===t.edgeStyle?o.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222":"uniform"===t.edgeStyle&&(o.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222")),t.fontPercent&&1!==t.fontPercent){var a=x.default.parseFloat(o.style.fontSize);o.style.fontSize=a*t.fontPercent+"px",o.style.height="auto",o.style.top="auto"}t.fontFamily&&"default"!==t.fontFamily&&("small-caps"===t.fontFamily?o.firstChild.style.fontVariant="small-caps":o.firstChild.style.fontFamily=ni[t.fontFamily])}}},n.updateForTrack=function(e){if(Array.isArray(e)||(e=[e]),"function"==typeof x.default.WebVTT&&!e.every((function(e){return!e.activeCues}))){for(var t=[],n=0;n<e.length;++n)for(var i=e[n],r=0;r<i.activeCues.length;++r)t.push(i.activeCues[r]);x.default.WebVTT.processCues(x.default,t,this.el_);for(var o=0;o<e.length;++o){for(var a=e[o],s=0;s<a.activeCues.length;++s){var u=a.activeCues[s].displayState;Me(u,"vjs-text-track-cue"),Me(u,"vjs-text-track-cue-"+(a.language?a.language:o)),a.language&&$e(u,"lang",a.language)}this.player_.textTrackSettings&&this.updateDisplayState(a)}}},t}(Jt);Jt.registerComponent("TextTrackDisplay",oi);var ai=function(e){function t(){return e.apply(this,arguments)||this}return O.default(t,e),t.prototype.createEl=function(){var t=this.player_.isAudio(),n=this.localize(t?"Audio Player":"Video Player"),i=Pe("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[n])}),r=e.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return r.appendChild(i),r},t}(Jt);Jt.registerComponent("LoadingSpinner",ai);var si=function(e){function t(){return e.apply(this,arguments)||this}O.default(t,e);var n=t.prototype;return n.createEl=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n={});var i=Pe("button",t=ee({className:this.buildCSSClass()},t),n=ee({type:"button"},n));return i.appendChild(Pe("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(i),i},n.addChild=function(e,t){void 0===t&&(t={});var n=this.constructor.name;return Y.warn("Adding an actionable (user controllable) child to a Button ("+n+") is not supported; use a ClickableComponent instead."),Jt.prototype.addChild.call(this,e,t)},n.enable=function(){e.prototype.enable.call(this),this.el_.removeAttribute("disabled")},n.disable=function(){e.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},n.handleKeyDown=function(t){I.default.isEventKey(t,"Space")||I.default.isEventKey(t,"Enter")?t.stopPropagation():e.prototype.handleKeyDown.call(this,t)},t}(ei);Jt.registerComponent("Button",si);var ui=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).mouseused_=!1,i.on("mousedown",(function(e){return i.handleMouseDown(e)})),i}O.default(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-big-play-button"},n.handleClick=function(e){var t=this.player_.play();if(this.mouseused_&&e.clientX&&e.clientY){var n=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;return on(t),void(!this.player_.tech(!0)||(ye||fe)&&n||this.player_.tech(!0).focus())}var i=this.player_.getChild("controlBar"),r=i&&i.getChild("playToggle");if(r){var o=function(){return r.focus()};rn(t)?t.then(o,(function(){})):this.setTimeout(o,1)}else this.player_.tech(!0).focus()},n.handleKeyDown=function(t){this.mouseused_=!1,e.prototype.handleKeyDown.call(this,t)},n.handleMouseDown=function(e){this.mouseused_=!0},t}(si);ui.prototype.controlText_="Play Video",Jt.registerComponent("BigPlayButton",ui);var li=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).controlText(n&&n.controlText||i.localize("Close")),i}O.default(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-close-button "+e.prototype.buildCSSClass.call(this)},n.handleClick=function(e){this.trigger({type:"close",bubbles:!1})},n.handleKeyDown=function(t){I.default.isEventKey(t,"Esc")?(t.preventDefault(),t.stopPropagation(),this.trigger("click")):e.prototype.handleKeyDown.call(this,t)},t}(si);Jt.registerComponent("CloseButton",li);var ci=function(e){function t(t,n){var i;return void 0===n&&(n={}),i=e.call(this,t,n)||this,n.replay=void 0===n.replay||n.replay,i.on(t,"play",(function(e){return i.handlePlay(e)})),i.on(t,"pause",(function(e){return i.handlePause(e)})),n.replay&&i.on(t,"ended",(function(e){return i.handleEnded(e)})),i}O.default(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-play-control "+e.prototype.buildCSSClass.call(this)},n.handleClick=function(e){this.player_.paused()?on(this.player_.play()):this.player_.pause()},n.handleSeeked=function(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)},n.handlePlay=function(e){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},n.handlePause=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},n.handleEnded=function(e){var t=this;this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",(function(e){return t.handleSeeked(e)}))},t}(si);ci.prototype.controlText_="Play",Jt.registerComponent("PlayToggle",ci);var di=function(e,t){e=e<0?0:e;var n=Math.floor(e%60),i=Math.floor(e/60%60),r=Math.floor(e/3600),o=Math.floor(t/60%60),a=Math.floor(t/3600);return(isNaN(e)||e===1/0)&&(r=i=n="-"),(r=r>0||a>0?r+":":"")+(i=((r||o>=10)&&i<10?"0"+i:i)+":")+(n=n<10?"0"+n:n)},pi=di;function hi(e,t){return void 0===t&&(t=e),pi(e,t)}var fi=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).on(t,["timeupdate","ended"],(function(e){return i.updateContent(e)})),i.updateTextNode_(),i}O.default(t,e);var n=t.prototype;return n.createEl=function(){var t=this.buildCSSClass(),n=e.prototype.createEl.call(this,"div",{className:t+" vjs-time-control vjs-control"}),i=Pe("span",{className:"vjs-control-text",textContent:this.localize(this.labelText_)+""},{role:"presentation"});return n.appendChild(i),this.contentEl_=Pe("span",{className:t+"-display"},{"aria-live":"off",role:"presentation"}),n.appendChild(this.contentEl_),n},n.dispose=function(){this.contentEl_=null,this.textNode_=null,e.prototype.dispose.call(this)},n.updateTextNode_=function(e){var t=this;void 0===e&&(e=0),e=hi(e),this.formattedTime_!==e&&(this.formattedTime_=e,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",(function(){if(t.contentEl_){var e=t.textNode_;e&&t.contentEl_.firstChild!==e&&(e=null,Y.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),t.textNode_=A.default.createTextNode(t.formattedTime_),t.textNode_&&(e?t.contentEl_.replaceChild(t.textNode_,e):t.contentEl_.appendChild(t.textNode_))}})))},n.updateContent=function(e){},t}(Jt);fi.prototype.labelText_="Time",fi.prototype.controlText_="Time",Jt.registerComponent("TimeDisplay",fi);var mi=function(e){function t(){return e.apply(this,arguments)||this}O.default(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-current-time"},n.updateContent=function(e){var t;t=this.player_.ended()?this.player_.duration():this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(t)},t}(fi);mi.prototype.labelText_="Current Time",mi.prototype.controlText_="Current Time",Jt.registerComponent("CurrentTimeDisplay",mi);var gi=function(e){function t(t,n){var i,r=function(e){return i.updateContent(e)};return(i=e.call(this,t,n)||this).on(t,"durationchange",r),i.on(t,"loadstart",r),i.on(t,"loadedmetadata",r),i}O.default(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-duration"},n.updateContent=function(e){var t=this.player_.duration();this.updateTextNode_(t)},t}(fi);gi.prototype.labelText_="Duration",gi.prototype.controlText_="Duration",Jt.registerComponent("DurationDisplay",gi);var yi=function(e){function t(){return e.apply(this,arguments)||this}return O.default(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),n=e.prototype.createEl.call(this,"div"),i=e.prototype.createEl.call(this,"span",{textContent:"/"});return n.appendChild(i),t.appendChild(n),t},t}(Jt);Jt.registerComponent("TimeDivider",yi);var vi=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).on(t,"durationchange",(function(e){return i.updateContent(e)})),i}O.default(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-remaining-time"},n.createEl=function(){var t=e.prototype.createEl.call(this);return!1!==this.options_.displayNegative&&t.insertBefore(Pe("span",{},{"aria-hidden":!0},"-"),this.contentEl_),t},n.updateContent=function(e){var t;"number"==typeof this.player_.duration()&&(t=this.player_.ended()?0:this.player_.remainingTimeDisplay?this.player_.remainingTimeDisplay():this.player_.remainingTime(),this.updateTextNode_(t))},t}(fi);vi.prototype.labelText_="Remaining Time",vi.prototype.controlText_="Remaining Time",Jt.registerComponent("RemainingTimeDisplay",vi);var _i=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).updateShowing(),i.on(i.player(),"durationchange",(function(e){return i.updateShowing(e)})),i}O.default(t,e);var n=t.prototype;return n.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=Pe("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(Pe("span",{className:"vjs-control-text",textContent:this.localize("Stream Type")+""})),this.contentEl_.appendChild(A.default.createTextNode(this.localize("LIVE"))),t.appendChild(this.contentEl_),t},n.dispose=function(){this.contentEl_=null,e.prototype.dispose.call(this)},n.updateShowing=function(e){this.player().duration()===1/0?this.show():this.hide()},t}(Jt);Jt.registerComponent("LiveDisplay",_i);var bi=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).updateLiveEdgeStatus(),i.player_.liveTracker&&(i.updateLiveEdgeStatusHandler_=function(e){return i.updateLiveEdgeStatus(e)},i.on(i.player_.liveTracker,"liveedgechange",i.updateLiveEdgeStatusHandler_)),i}O.default(t,e);var n=t.prototype;return n.createEl=function(){var t=e.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=Pe("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),t.appendChild(this.textEl_),t},n.updateLiveEdgeStatus=function(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},n.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},n.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,e.prototype.dispose.call(this)},t}(si);bi.prototype.controlText_="Seek to live, currently playing live",Jt.registerComponent("SeekToLive",bi);var wi=function(e,t,n){return e=Number(e),Math.min(n,Math.max(t,isNaN(e)?t:e))},Ei=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).handleMouseDown_=function(e){return i.handleMouseDown(e)},i.handleMouseUp_=function(e){return i.handleMouseUp(e)},i.handleKeyDown_=function(e){return i.handleKeyDown(e)},i.handleClick_=function(e){return i.handleClick(e)},i.handleMouseMove_=function(e){return i.handleMouseMove(e)},i.update_=function(e){return i.update(e)},i.bar=i.getChild(i.options_.barName),i.vertical(!!i.options_.vertical),i.enable(),i}O.default(t,e);var n=t.prototype;return n.enabled=function(){return this.enabled_},n.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},n.disable=function(){if(this.enabled()){var e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},n.createEl=function(t,n,i){return void 0===n&&(n={}),void 0===i&&(i={}),n.className=n.className+" vjs-slider",n=ee({tabIndex:0},n),i=ee({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},i),e.prototype.createEl.call(this,t,n,i)},n.handleMouseDown=function(e){var t=this.bar.el_.ownerDocument;"mousedown"===e.type&&e.preventDefault(),"touchstart"!==e.type||me||e.preventDefault(),qe(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove_),this.on(t,"mouseup",this.handleMouseUp_),this.on(t,"touchmove",this.handleMouseMove_),this.on(t,"touchend",this.handleMouseUp_),this.handleMouseMove(e,!0)},n.handleMouseMove=function(e){},n.handleMouseUp=function(){var e=this.bar.el_.ownerDocument;Ve(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.update()},n.update=function(){var e=this;if(this.el_&&this.bar){var t=this.getProgress();return t===this.progress_||(this.progress_=t,this.requestNamedAnimationFrame("Slider#update",(function(){var n=e.vertical()?"height":"width";e.bar.el().style[n]=(100*t).toFixed(2)+"%"}))),t}},n.getProgress=function(){return Number(wi(this.getPercent(),0,1).toFixed(4))},n.calculateDistance=function(e){var t=Ke(this.el_,e);return this.vertical()?t.y:t.x},n.handleKeyDown=function(t){I.default.isEventKey(t,"Left")||I.default.isEventKey(t,"Down")?(t.preventDefault(),t.stopPropagation(),this.stepBack()):I.default.isEventKey(t,"Right")||I.default.isEventKey(t,"Up")?(t.preventDefault(),t.stopPropagation(),this.stepForward()):e.prototype.handleKeyDown.call(this,t)},n.handleClick=function(e){e.stopPropagation(),e.preventDefault()},n.vertical=function(e){if(void 0===e)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},t}(Jt);Jt.registerComponent("Slider",Ei);var Si=function(e,t){return wi(e/t*100,0,100).toFixed(2)+"%"},Ti=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).partEls_=[],i.on(t,"progress",(function(e){return i.update(e)})),i}O.default(t,e);var n=t.prototype;return n.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-load-progress"}),n=Pe("span",{className:"vjs-control-text"}),i=Pe("span",{textContent:this.localize("Loaded")}),r=A.default.createTextNode(": ");return this.percentageEl_=Pe("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),t.appendChild(n),n.appendChild(i),n.appendChild(r),n.appendChild(this.percentageEl_),t},n.dispose=function(){this.partEls_=null,this.percentageEl_=null,e.prototype.dispose.call(this)},n.update=function(e){var t=this;this.requestNamedAnimationFrame("LoadProgressBar#update",(function(){var e=t.player_.liveTracker,n=t.player_.buffered(),i=e&&e.isLive()?e.seekableEnd():t.player_.duration(),r=t.player_.bufferedEnd(),o=t.partEls_,a=Si(r,i);t.percent_!==a&&(t.el_.style.width=a,Ne(t.percentageEl_,a),t.percent_=a);for(var s=0;s<n.length;s++){var u=n.start(s),l=n.end(s),c=o[s];c||(c=t.el_.appendChild(Pe()),o[s]=c),c.dataset.start===u&&c.dataset.end===l||(c.dataset.start=u,c.dataset.end=l,c.style.left=Si(u,r),c.style.width=Si(l-u,r))}for(var d=o.length;d>n.length;d--)t.el_.removeChild(o[d-1]);o.length=n.length}))},t}(Jt);Jt.registerComponent("LoadProgressBar",Ti);var Ci=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).update=It(kt(D.default(i),i.update),At),i}O.default(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},n.update=function(e,t,n){var i=We(this.el_),r=ze(this.player_.el()),o=e.width*t;if(r&&i){var a=e.left-r.left+o,s=e.width-o+(r.right-e.right),u=i.width/2;a<u?u+=u-a:s<u&&(u=s),u<0?u=0:u>i.width&&(u=i.width),u=Math.round(u),this.el_.style.right="-"+u+"px",this.write(n)}},n.write=function(e){Ne(this.el_,e)},n.updateTime=function(e,t,n,i){var r=this;this.requestNamedAnimationFrame("TimeTooltip#updateTime",(function(){var o,a=r.player_.duration();if(r.player_.liveTracker&&r.player_.liveTracker.isLive()){var s=r.player_.liveTracker.liveWindow(),u=s-t*s;o=(u<1?"":"-")+hi(u,s)}else o=hi(n,a);r.update(e,t,o),i&&i()}))},t}(Jt);Jt.registerComponent("TimeTooltip",Ci);var xi=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).update=It(kt(D.default(i),i.update),At),i}O.default(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},n.update=function(e,t){var n=this.getChild("timeTooltip");if(n){var i=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();n.updateTime(e,t,i)}},t}(Jt);xi.prototype.options_={children:[]},Se||ce||xi.prototype.options_.children.push("timeTooltip"),Jt.registerComponent("PlayProgressBar",xi);var Ai=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).update=It(kt(D.default(i),i.update),At),i}O.default(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},n.update=function(e,t){var n=this,i=t*this.player_.duration();this.getChild("timeTooltip").updateTime(e,t,i,(function(){n.el_.style.left=e.width*t+"px"}))},t}(Jt);Ai.prototype.options_={children:["timeTooltip"]},Jt.registerComponent("MouseTimeDisplay",Ai);var ki=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).setEventHandlers_(),i}O.default(t,e);var n=t.prototype;return n.setEventHandlers_=function(){var e=this;this.update_=kt(this,this.update),this.update=It(this.update_,At),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=function(t){return e.enableInterval_(t)},this.disableIntervalHandler_=function(t){return e.disableInterval_(t)},this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in A.default&&"visibilityState"in A.default&&this.on(A.default,"visibilitychange",this.toggleVisibility_)},n.toggleVisibility_=function(e){"hidden"===A.default.visibilityState?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(e)):(this.player_.ended()||this.player_.paused()||this.enableInterval_(),this.update())},n.enableInterval_=function(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,At))},n.disableInterval_=function(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&e&&"ended"!==e.type||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)},n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},n.update=function(t){var n=this;if("hidden"!==A.default.visibilityState){var i=e.prototype.update.call(this);return this.requestNamedAnimationFrame("SeekBar#update",(function(){var e=n.player_.ended()?n.player_.duration():n.getCurrentTime_(),t=n.player_.liveTracker,r=n.player_.duration();t&&t.isLive()&&(r=n.player_.liveTracker.liveCurrentTime()),n.percent_!==i&&(n.el_.setAttribute("aria-valuenow",(100*i).toFixed(2)),n.percent_=i),n.currentTime_===e&&n.duration_===r||(n.el_.setAttribute("aria-valuetext",n.localize("progress bar timing: currentTime={1} duration={2}",[hi(e,r),hi(r,r)],"{1} of {2}")),n.currentTime_=e,n.duration_=r),n.bar&&n.bar.update(ze(n.el()),n.getProgress())})),i}},n.userSeek_=function(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)},n.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},n.getPercent=function(){var e,t=this.getCurrentTime_(),n=this.player_.liveTracker;return n&&n.isLive()?(e=(t-n.seekableStart())/n.liveWindow(),n.atLiveEdge()&&(e=1)):e=t/this.player_.duration(),e},n.handleMouseDown=function(t){et(t)&&(t.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),e.prototype.handleMouseDown.call(this,t))},n.handleMouseMove=function(e,t){if(void 0===t&&(t=!1),et(e)){var n;t||this.player_.scrubbing()||this.player_.scrubbing(!0);var i=this.calculateDistance(e),r=this.player_.liveTracker;if(r&&r.isLive()){if(i>=.99)return void r.seekToLiveEdge();var o=r.seekableStart(),a=r.liveCurrentTime();if((n=o+i*r.liveWindow())>=a&&(n=a),n<=o&&(n=o+.1),n===1/0)return}else(n=i*this.player_.duration())===this.player_.duration()&&(n-=.1);this.userSeek_(n)}},n.enable=function(){e.prototype.enable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.show()},n.disable=function(){e.prototype.disable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.hide()},n.handleMouseUp=function(t){e.prototype.handleMouseUp.call(this,t),t&&t.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?on(this.player_.play()):this.update_()},n.stepForward=function(){this.userSeek_(this.player_.currentTime()+5)},n.stepBack=function(){this.userSeek_(this.player_.currentTime()-5)},n.handleAction=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},n.handleKeyDown=function(t){var n=this.player_.liveTracker;if(I.default.isEventKey(t,"Space")||I.default.isEventKey(t,"Enter"))t.preventDefault(),t.stopPropagation(),this.handleAction(t);else if(I.default.isEventKey(t,"Home"))t.preventDefault(),t.stopPropagation(),this.userSeek_(0);else if(I.default.isEventKey(t,"End"))t.preventDefault(),t.stopPropagation(),n&&n.isLive()?this.userSeek_(n.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(I.default(t))){t.preventDefault(),t.stopPropagation();var i=10*(I.default.codes[I.default(t)]-I.default.codes[0])/100;n&&n.isLive()?this.userSeek_(n.seekableStart()+n.liveWindow()*i):this.userSeek_(this.player_.duration()*i)}else I.default.isEventKey(t,"PgDn")?(t.preventDefault(),t.stopPropagation(),this.userSeek_(this.player_.currentTime()-60)):I.default.isEventKey(t,"PgUp")?(t.preventDefault(),t.stopPropagation(),this.userSeek_(this.player_.currentTime()+60)):e.prototype.handleKeyDown.call(this,t)},n.dispose=function(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in A.default&&"visibilityState"in A.default&&this.off(A.default,"visibilitychange",this.toggleVisibility_),e.prototype.dispose.call(this)},t}(Ei);ki.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},Se||ce||ki.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),Jt.registerComponent("SeekBar",ki);var Ii=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).handleMouseMove=It(kt(D.default(i),i.handleMouseMove),At),i.throttledHandleMouseSeek=It(kt(D.default(i),i.handleMouseSeek),At),i.handleMouseUpHandler_=function(e){return i.handleMouseUp(e)},i.handleMouseDownHandler_=function(e){return i.handleMouseDown(e)},i.enable(),i}O.default(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},n.handleMouseMove=function(e){var t=this.getChild("seekBar");if(t){var n=t.getChild("playProgressBar"),i=t.getChild("mouseTimeDisplay");if(n||i){var r=t.el(),o=We(r),a=Ke(r,e).x;a=wi(a,0,1),i&&i.update(o,a),n&&n.update(o,t.getProgress())}}},n.handleMouseSeek=function(e){var t=this.getChild("seekBar");t&&t.handleMouseMove(e)},n.enabled=function(){return this.enabled_},n.disable=function(){if(this.children().forEach((function(e){return e.disable&&e.disable()})),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){var e=this.getChild("seekBar");this.player_.scrubbing(!1),e.videoWasPlaying&&on(this.player_.play())}},n.enable=function(){this.children().forEach((function(e){return e.enable&&e.enable()})),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},n.removeListenersAddedOnMousedownAndTouchstart=function(){var e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUpHandler_),this.off(e,"touchend",this.handleMouseUpHandler_)},n.handleMouseDown=function(e){var t=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseDown(e),this.on(t,"mousemove",this.throttledHandleMouseSeek),this.on(t,"touchmove",this.throttledHandleMouseSeek),this.on(t,"mouseup",this.handleMouseUpHandler_),this.on(t,"touchend",this.handleMouseUpHandler_)},n.handleMouseUp=function(e){var t=this.getChild("seekBar");t&&t.handleMouseUp(e),this.removeListenersAddedOnMousedownAndTouchstart()},t}(Jt);Ii.prototype.options_={children:["seekBar"]},Jt.registerComponent("ProgressControl",Ii);var Di=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).on(t,["enterpictureinpicture","leavepictureinpicture"],(function(e){return i.handlePictureInPictureChange(e)})),i.on(t,["disablepictureinpicturechanged","loadedmetadata"],(function(e){return i.handlePictureInPictureEnabledChange(e)})),i.on(t,["loadedmetadata","audioonlymodechange","audiopostermodechange"],(function(){"audio"===t.currentType().substring(0,5)||t.audioPosterMode()||t.audioOnlyMode()?(t.isInPictureInPicture()&&t.exitPictureInPicture(),i.hide()):i.show()})),i.disable(),i}O.default(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-picture-in-picture-control "+e.prototype.buildCSSClass.call(this)},n.handlePictureInPictureEnabledChange=function(){A.default.pictureInPictureEnabled&&!1===this.player_.disablePictureInPicture()?this.enable():this.disable()},n.handlePictureInPictureChange=function(e){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture"),this.handlePictureInPictureEnabledChange()},n.handleClick=function(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},t}(si);Di.prototype.controlText_="Picture-in-Picture",Jt.registerComponent("PictureInPictureToggle",Di);var Oi=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).on(t,"fullscreenchange",(function(e){return i.handleFullscreenChange(e)})),!1===A.default[t.fsApi_.fullscreenEnabled]&&i.disable(),i}O.default(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-fullscreen-control "+e.prototype.buildCSSClass.call(this)},n.handleFullscreenChange=function(e){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},n.handleClick=function(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},t}(si);Oi.prototype.controlText_="Fullscreen",Jt.registerComponent("FullscreenToggle",Oi);var Pi=function(e){function t(){return e.apply(this,arguments)||this}return O.default(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-volume-level"});return t.appendChild(e.prototype.createEl.call(this,"span",{className:"vjs-control-text"})),t},t}(Jt);Jt.registerComponent("VolumeLevel",Pi);var Ni=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).update=It(kt(D.default(i),i.update),At),i}O.default(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})},n.update=function(e,t,n,i){if(!n){var r=ze(this.el_),o=ze(this.player_.el()),a=e.width*t;if(!o||!r)return;var s=e.left-o.left+a,u=e.width-a+(o.right-e.right),l=r.width/2;s<l?l+=l-s:u<l&&(l=u),l<0?l=0:l>r.width&&(l=r.width),this.el_.style.right="-"+l+"px"}this.write(i+"%")},n.write=function(e){Ne(this.el_,e)},n.updateVolume=function(e,t,n,i,r){var o=this;this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",(function(){o.update(e,t,n,i.toFixed(0)),r&&r()}))},t}(Jt);Jt.registerComponent("VolumeLevelTooltip",Ni);var Ri=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).update=It(kt(D.default(i),i.update),At),i}O.default(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},n.update=function(e,t,n){var i=this,r=100*t;this.getChild("volumeLevelTooltip").updateVolume(e,t,n,r,(function(){n?i.el_.style.bottom=e.height*t+"px":i.el_.style.left=e.width*t+"px"}))},t}(Jt);Ri.prototype.options_={children:["volumeLevelTooltip"]},Jt.registerComponent("MouseVolumeLevelDisplay",Ri);var Li=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).on("slideractive",(function(e){return i.updateLastVolume_(e)})),i.on(t,"volumechange",(function(e){return i.updateARIAAttributes(e)})),t.ready((function(){return i.updateARIAAttributes()})),i}O.default(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},n.handleMouseDown=function(t){et(t)&&e.prototype.handleMouseDown.call(this,t)},n.handleMouseMove=function(e){var t=this.getChild("mouseVolumeLevelDisplay");if(t){var n=this.el(),i=ze(n),r=this.vertical(),o=Ke(n,e);o=r?o.y:o.x,o=wi(o,0,1),t.update(i,o,r)}et(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))},n.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},n.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},n.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},n.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},n.updateARIAAttributes=function(e){var t=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",t),this.el_.setAttribute("aria-valuetext",t+"%")},n.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},n.updateLastVolume_=function(){var e=this,t=this.player_.volume();this.one("sliderinactive",(function(){0===e.player_.volume()&&e.player_.lastVolume_(t)}))},t}(Ei);Li.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},Se||ce||Li.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay"),Li.prototype.playerEvent="volumechange",Jt.registerComponent("VolumeBar",Li);var Mi=function(e){function t(t,n){var i;return void 0===n&&(n={}),n.vertical=n.vertical||!1,(void 0===n.volumeBar||ne(n.volumeBar))&&(n.volumeBar=n.volumeBar||{},n.volumeBar.vertical=n.vertical),i=e.call(this,t,n)||this,function(e,t){t.tech_&&!t.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",(function(){t.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")}))}(D.default(i),t),i.throttledHandleMouseMove=It(kt(D.default(i),i.handleMouseMove),At),i.handleMouseUpHandler_=function(e){return i.handleMouseUp(e)},i.on("mousedown",(function(e){return i.handleMouseDown(e)})),i.on("touchstart",(function(e){return i.handleMouseDown(e)})),i.on("mousemove",(function(e){return i.handleMouseMove(e)})),i.on(i.volumeBar,["focus","slideractive"],(function(){i.volumeBar.addClass("vjs-slider-active"),i.addClass("vjs-slider-active"),i.trigger("slideractive")})),i.on(i.volumeBar,["blur","sliderinactive"],(function(){i.volumeBar.removeClass("vjs-slider-active"),i.removeClass("vjs-slider-active"),i.trigger("sliderinactive")})),i}O.default(t,e);var n=t.prototype;return n.createEl=function(){var t="vjs-volume-horizontal";return this.options_.vertical&&(t="vjs-volume-vertical"),e.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+t})},n.handleMouseDown=function(e){var t=this.el_.ownerDocument;this.on(t,"mousemove",this.throttledHandleMouseMove),this.on(t,"touchmove",this.throttledHandleMouseMove),this.on(t,"mouseup",this.handleMouseUpHandler_),this.on(t,"touchend",this.handleMouseUpHandler_)},n.handleMouseUp=function(e){var t=this.el_.ownerDocument;this.off(t,"mousemove",this.throttledHandleMouseMove),this.off(t,"touchmove",this.throttledHandleMouseMove),this.off(t,"mouseup",this.handleMouseUpHandler_),this.off(t,"touchend",this.handleMouseUpHandler_)},n.handleMouseMove=function(e){this.volumeBar.handleMouseMove(e)},t}(Jt);Mi.prototype.options_={children:["volumeBar"]},Jt.registerComponent("VolumeControl",Mi);var Fi=function(e){function t(t,n){var i;return i=e.call(this,t,n)||this,function(e,t){t.tech_&&!t.tech_.featuresMuteControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",(function(){t.tech_.featuresMuteControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")}))}(D.default(i),t),i.on(t,["loadstart","volumechange"],(function(e){return i.update(e)})),i}O.default(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-mute-control "+e.prototype.buildCSSClass.call(this)},n.handleClick=function(e){var t=this.player_.volume(),n=this.player_.lastVolume_();if(0===t){var i=n<.1?.1:n;this.player_.volume(i),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},n.update=function(e){this.updateIcon_(),this.updateControlText_()},n.updateIcon_=function(){var e=this.player_.volume(),t=3;Se&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),0===e||this.player_.muted()?t=0:e<.33?t=1:e<.67&&(t=2);for(var n=0;n<4;n++)Fe(this.el_,"vjs-vol-"+n);Me(this.el_,"vjs-vol-"+t)},n.updateControlText_=function(){var e=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==e&&this.controlText(e)},t}(si);Fi.prototype.controlText_="Mute",Jt.registerComponent("MuteToggle",Fi);var ji=function(e){function t(t,n){var i;return void 0===n&&(n={}),void 0!==n.inline?n.inline=n.inline:n.inline=!0,(void 0===n.volumeControl||ne(n.volumeControl))&&(n.volumeControl=n.volumeControl||{},n.volumeControl.vertical=!n.inline),(i=e.call(this,t,n)||this).handleKeyPressHandler_=function(e){return i.handleKeyPress(e)},i.on(t,["loadstart"],(function(e){return i.volumePanelState_(e)})),i.on(i.muteToggle,"keyup",(function(e){return i.handleKeyPress(e)})),i.on(i.volumeControl,"keyup",(function(e){return i.handleVolumeControlKeyUp(e)})),i.on("keydown",(function(e){return i.handleKeyPress(e)})),i.on("mouseover",(function(e){return i.handleMouseOver(e)})),i.on("mouseout",(function(e){return i.handleMouseOut(e)})),i.on(i.volumeControl,["slideractive"],i.sliderActive_),i.on(i.volumeControl,["sliderinactive"],i.sliderInactive_),i}O.default(t,e);var n=t.prototype;return n.sliderActive_=function(){this.addClass("vjs-slider-active")},n.sliderInactive_=function(){this.removeClass("vjs-slider-active")},n.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},n.createEl=function(){var t="vjs-volume-panel-horizontal";return this.options_.inline||(t="vjs-volume-panel-vertical"),e.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+t})},n.dispose=function(){this.handleMouseOut(),e.prototype.dispose.call(this)},n.handleVolumeControlKeyUp=function(e){I.default.isEventKey(e,"Esc")&&this.muteToggle.focus()},n.handleMouseOver=function(e){this.addClass("vjs-hover"),bt(A.default,"keyup",this.handleKeyPressHandler_)},n.handleMouseOut=function(e){this.removeClass("vjs-hover"),wt(A.default,"keyup",this.handleKeyPressHandler_)},n.handleKeyPress=function(e){I.default.isEventKey(e,"Esc")&&this.handleMouseOut()},t}(Jt);ji.prototype.options_={children:["muteToggle","volumeControl"]},Jt.registerComponent("VolumePanel",ji);var Bi=function(e){function t(t,n){var i;return i=e.call(this,t,n)||this,n&&(i.menuButton_=n.menuButton),i.focusedChild_=-1,i.on("keydown",(function(e){return i.handleKeyDown(e)})),i.boundHandleBlur_=function(e){return i.handleBlur(e)},i.boundHandleTapClick_=function(e){return i.handleTapClick(e)},i}O.default(t,e);var n=t.prototype;return n.addEventListenerForItem=function(e){e instanceof Jt&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))},n.removeEventListenerForItem=function(e){e instanceof Jt&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))},n.removeChild=function(t){"string"==typeof t&&(t=this.getChild(t)),this.removeEventListenerForItem(t),e.prototype.removeChild.call(this,t)},n.addItem=function(e){var t=this.addChild(e);t&&this.addEventListenerForItem(t)},n.createEl=function(){var t=this.options_.contentElType||"ul";this.contentEl_=Pe(t,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var n=e.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return n.appendChild(this.contentEl_),bt(n,"click",(function(e){e.preventDefault(),e.stopImmediatePropagation()})),n},n.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,e.prototype.dispose.call(this)},n.handleBlur=function(e){var t=e.relatedTarget||A.default.activeElement;if(!this.children().some((function(e){return e.el()===t}))){var n=this.menuButton_;n&&n.buttonPressed_&&t!==n.el().firstChild&&n.unpressButton()}},n.handleTapClick=function(e){if(this.menuButton_){this.menuButton_.unpressButton();var t=this.children();if(!Array.isArray(t))return;var n=t.filter((function(t){return t.el()===e.target}))[0];if(!n)return;"CaptionSettingsMenuItem"!==n.name()&&this.menuButton_.focus()}},n.handleKeyDown=function(e){I.default.isEventKey(e,"Left")||I.default.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(I.default.isEventKey(e,"Right")||I.default.isEventKey(e,"Up"))&&(e.preventDefault(),e.stopPropagation(),this.stepBack())},n.stepForward=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_+1),this.focus(e)},n.stepBack=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_-1),this.focus(e)},n.focus=function(e){void 0===e&&(e=0);var t=this.children().slice();t.length&&t[0].hasClass("vjs-menu-title")&&t.shift(),t.length>0&&(e<0?e=0:e>=t.length&&(e=t.length-1),this.focusedChild_=e,t[e].el_.focus())},t}(Jt);Jt.registerComponent("Menu",Bi);var Ui=function(e){function t(t,n){var i;void 0===n&&(n={}),(i=e.call(this,t,n)||this).menuButton_=new si(t,n),i.menuButton_.controlText(i.controlText_),i.menuButton_.el_.setAttribute("aria-haspopup","true");var r=si.prototype.buildCSSClass();i.menuButton_.el_.className=i.buildCSSClass()+" "+r,i.menuButton_.removeClass("vjs-control"),i.addChild(i.menuButton_),i.update(),i.enabled_=!0;var o=function(e){return i.handleClick(e)};return i.handleMenuKeyUp_=function(e){return i.handleMenuKeyUp(e)},i.on(i.menuButton_,"tap",o),i.on(i.menuButton_,"click",o),i.on(i.menuButton_,"keydown",(function(e){return i.handleKeyDown(e)})),i.on(i.menuButton_,"mouseenter",(function(){i.addClass("vjs-hover"),i.menu.show(),bt(A.default,"keyup",i.handleMenuKeyUp_)})),i.on("mouseleave",(function(e){return i.handleMouseLeave(e)})),i.on("keydown",(function(e){return i.handleSubmenuKeyDown(e)})),i}O.default(t,e);var n=t.prototype;return n.update=function(){var e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))},n.createMenu=function(){var e=new Bi(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var t=Pe("li",{className:"vjs-menu-title",textContent:qt(this.options_.title),tabIndex:-1}),n=new Jt(this.player_,{el:t});e.addItem(n)}if(this.items=this.createItems(),this.items)for(var i=0;i<this.items.length;i++)e.addItem(this.items[i]);return e},n.createItems=function(){},n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},n.buildWrapperCSSClass=function(){var t="vjs-menu-button";return!0===this.options_.inline?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+si.prototype.buildCSSClass()+" "+e.prototype.buildCSSClass.call(this)},n.buildCSSClass=function(){var t="vjs-menu-button";return!0===this.options_.inline?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+e.prototype.buildCSSClass.call(this)},n.controlText=function(e,t){return void 0===t&&(t=this.menuButton_.el()),this.menuButton_.controlText(e,t)},n.dispose=function(){this.handleMouseLeave(),e.prototype.dispose.call(this)},n.handleClick=function(e){this.buttonPressed_?this.unpressButton():this.pressButton()},n.handleMouseLeave=function(e){this.removeClass("vjs-hover"),wt(A.default,"keyup",this.handleMenuKeyUp_)},n.focus=function(){this.menuButton_.focus()},n.blur=function(){this.menuButton_.blur()},n.handleKeyDown=function(e){I.default.isEventKey(e,"Esc")||I.default.isEventKey(e,"Tab")?(this.buttonPressed_&&this.unpressButton(),I.default.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus())):(I.default.isEventKey(e,"Up")||I.default.isEventKey(e,"Down"))&&(this.buttonPressed_||(e.preventDefault(),this.pressButton()))},n.handleMenuKeyUp=function(e){(I.default.isEventKey(e,"Esc")||I.default.isEventKey(e,"Tab"))&&this.removeClass("vjs-hover")},n.handleSubmenuKeyPress=function(e){this.handleSubmenuKeyDown(e)},n.handleSubmenuKeyDown=function(e){(I.default.isEventKey(e,"Esc")||I.default.isEventKey(e,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),I.default.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus()))},n.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),Se&&De())return;this.menu.focus()}},n.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},n.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},n.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},t}(Jt);Jt.registerComponent("MenuButton",Ui);var Hi=function(e){function t(t,n){var i,r=n.tracks;if((i=e.call(this,t,n)||this).items.length<=1&&i.hide(),!r)return D.default(i);var o=kt(D.default(i),i.update);return r.addEventListener("removetrack",o),r.addEventListener("addtrack",o),r.addEventListener("labelchange",o),i.player_.on("ready",o),i.player_.on("dispose",(function(){r.removeEventListener("removetrack",o),r.removeEventListener("addtrack",o),r.removeEventListener("labelchange",o)})),i}return O.default(t,e),t}(Ui);Jt.registerComponent("TrackButton",Hi);var $i=["Tab","Esc","Up","Down","Right","Left"],Gi=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).selectable=n.selectable,i.isSelected_=n.selected||!1,i.multiSelectable=n.multiSelectable,i.selected(i.isSelected_),i.selectable?i.multiSelectable?i.el_.setAttribute("role","menuitemcheckbox"):i.el_.setAttribute("role","menuitemradio"):i.el_.setAttribute("role","menuitem"),i}O.default(t,e);var n=t.prototype;return n.createEl=function(t,n,i){this.nonIconControl=!0;var r=e.prototype.createEl.call(this,"li",ee({className:"vjs-menu-item",tabIndex:-1},n),i);return r.replaceChild(Pe("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)}),r.querySelector(".vjs-icon-placeholder")),r},n.handleKeyDown=function(t){$i.some((function(e){return I.default.isEventKey(t,e)}))||e.prototype.handleKeyDown.call(this,t)},n.handleClick=function(e){this.selected(!0)},n.selected=function(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},t}(ei);Jt.registerComponent("MenuItem",Gi);var qi=function(e){function t(t,n){var i,r=n.track,o=t.textTracks();n.label=r.label||r.language||"Unknown",n.selected="showing"===r.mode,(i=e.call(this,t,n)||this).track=r,i.kinds=(n.kinds||[n.kind||i.track.kind]).filter(Boolean);var a,s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];i.handleTracksChange.apply(D.default(i),t)},u=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];i.handleSelectedLanguageChange.apply(D.default(i),t)};(t.on(["loadstart","texttrackchange"],s),o.addEventListener("change",s),o.addEventListener("selectedlanguagechange",u),i.on("dispose",(function(){t.off(["loadstart","texttrackchange"],s),o.removeEventListener("change",s),o.removeEventListener("selectedlanguagechange",u)})),void 0===o.onchange)&&i.on(["tap","click"],(function(){if("object"!=typeof x.default.Event)try{a=new x.default.Event("change")}catch(e){}a||(a=A.default.createEvent("Event")).initEvent("change",!0,!0),o.dispatchEvent(a)}));return i.handleTracksChange(),i}O.default(t,e);var n=t.prototype;return n.handleClick=function(t){var n=this.track,i=this.player_.textTracks();if(e.prototype.handleClick.call(this,t),i)for(var r=0;r<i.length;r++){var o=i[r];-1!==this.kinds.indexOf(o.kind)&&(o===n?"showing"!==o.mode&&(o.mode="showing"):"disabled"!==o.mode&&(o.mode="disabled"))}},n.handleTracksChange=function(e){var t="showing"===this.track.mode;t!==this.isSelected_&&this.selected(t)},n.handleSelectedLanguageChange=function(e){if("showing"===this.track.mode){var t=this.player_.cache_.selectedLanguage;if(t&&t.enabled&&t.language===this.track.language&&t.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},n.dispose=function(){this.track=null,e.prototype.dispose.call(this)},t}(Gi);Jt.registerComponent("TextTrackMenuItem",qi);var Vi=function(e){function t(t,n){return n.track={player:t,kind:n.kind,kinds:n.kinds,default:!1,mode:"disabled"},n.kinds||(n.kinds=[n.kind]),n.label?n.track.label=n.label:n.track.label=n.kinds.join(" and ")+" off",n.selectable=!0,n.multiSelectable=!1,e.call(this,t,n)||this}O.default(t,e);var n=t.prototype;return n.handleTracksChange=function(e){for(var t=this.player().textTracks(),n=!0,i=0,r=t.length;i<r;i++){var o=t[i];if(this.options_.kinds.indexOf(o.kind)>-1&&"showing"===o.mode){n=!1;break}}n!==this.isSelected_&&this.selected(n)},n.handleSelectedLanguageChange=function(e){for(var t=this.player().textTracks(),n=!0,i=0,r=t.length;i<r;i++){var o=t[i];if(["captions","descriptions","subtitles"].indexOf(o.kind)>-1&&"showing"===o.mode){n=!1;break}}n&&(this.player_.cache_.selectedLanguage={enabled:!1})},t}(qi);Jt.registerComponent("OffTextTrackMenuItem",Vi);var zi=function(e){function t(t,n){return void 0===n&&(n={}),n.tracks=t.textTracks(),e.call(this,t,n)||this}return O.default(t,e),t.prototype.createItems=function(e,t){var n;void 0===e&&(e=[]),void 0===t&&(t=qi),this.label_&&(n=this.label_+" off"),e.push(new Vi(this.player_,{kinds:this.kinds_,kind:this.kind_,label:n})),this.hideThreshold_+=1;var i=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var r=0;r<i.length;r++){var o=i[r];if(this.kinds_.indexOf(o.kind)>-1){var a=new t(this.player_,{track:o,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});a.addClass("vjs-"+o.kind+"-menu-item"),e.push(a)}}return e},t}(Hi);Jt.registerComponent("TextTrackButton",zi);var Wi=function(e){function t(t,n){var i,r=n.track,o=n.cue,a=t.currentTime();return n.selectable=!0,n.multiSelectable=!1,n.label=o.text,n.selected=o.startTime<=a&&a<o.endTime,(i=e.call(this,t,n)||this).track=r,i.cue=o,i}return O.default(t,e),t.prototype.handleClick=function(t){e.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime)},t}(Gi);Jt.registerComponent("ChaptersTrackMenuItem",Wi);var Ki=function(e){function t(t,n,i){var r;return(r=e.call(this,t,n,i)||this).selectCurrentItem_=function(){r.items.forEach((function(e){e.selected(r.track_.activeCues[0]===e.cue)}))},r}O.default(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildWrapperCSSClass.call(this)},n.update=function(t){if(!t||!t.track||"chapters"===t.track.kind){var n=this.findChaptersTrack();n!==this.track_?(this.setTrack(n),e.prototype.update.call(this)):(!this.items||n&&n.cues&&n.cues.length!==this.items.length)&&e.prototype.update.call(this)}},n.setTrack=function(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);t&&t.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";var n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}},n.findChaptersTrack=function(){for(var e=this.player_.textTracks()||[],t=e.length-1;t>=0;t--){var n=e[t];if(n.kind===this.kind_)return n}},n.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(qt(this.kind_))},n.createMenu=function(){return this.options_.title=this.getMenuCaption(),e.prototype.createMenu.call(this)},n.createItems=function(){var e=[];if(!this.track_)return e;var t=this.track_.cues;if(!t)return e;for(var n=0,i=t.length;n<i;n++){var r=t[n],o=new Wi(this.player_,{track:this.track_,cue:r});e.push(o)}return e},t}(zi);Ki.prototype.kind_="chapters",Ki.prototype.controlText_="Chapters",Jt.registerComponent("ChaptersButton",Ki);var Yi=function(e){function t(t,n,i){var r;r=e.call(this,t,n,i)||this;var o=t.textTracks(),a=kt(D.default(r),r.handleTracksChange);return o.addEventListener("change",a),r.on("dispose",(function(){o.removeEventListener("change",a)})),r}O.default(t,e);var n=t.prototype;return n.handleTracksChange=function(e){for(var t=this.player().textTracks(),n=!1,i=0,r=t.length;i<r;i++){var o=t[i];if(o.kind!==this.kind_&&"showing"===o.mode){n=!0;break}}n?this.disable():this.enable()},n.buildCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildWrapperCSSClass.call(this)},t}(zi);Yi.prototype.kind_="descriptions",Yi.prototype.controlText_="Descriptions",Jt.registerComponent("DescriptionsButton",Yi);var Ji=function(e){function t(t,n,i){return e.call(this,t,n,i)||this}O.default(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildWrapperCSSClass.call(this)},t}(zi);Ji.prototype.kind_="subtitles",Ji.prototype.controlText_="Subtitles",Jt.registerComponent("SubtitlesButton",Ji);var Xi=function(e){function t(t,n){var i;return n.track={player:t,kind:n.kind,label:n.kind+" settings",selectable:!1,default:!1,mode:"disabled"},n.selectable=!1,n.name="CaptionSettingsMenuItem",(i=e.call(this,t,n)||this).addClass("vjs-texttrack-settings"),i.controlText(", opens "+n.kind+" settings dialog"),i}return O.default(t,e),t.prototype.handleClick=function(e){this.player().getChild("textTrackSettings").open()},t}(qi);Jt.registerComponent("CaptionSettingsMenuItem",Xi);var Qi=function(e){function t(t,n,i){return e.call(this,t,n,i)||this}O.default(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-captions-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-captions-button "+e.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new Xi(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),e.prototype.createItems.call(this,t)},t}(zi);Qi.prototype.kind_="captions",Qi.prototype.controlText_="Captions",Jt.registerComponent("CaptionsButton",Qi);var Zi=function(e){function t(){return e.apply(this,arguments)||this}return O.default(t,e),t.prototype.createEl=function(t,n,i){var r=e.prototype.createEl.call(this,t,n,i),o=r.querySelector(".vjs-menu-item-text");return"captions"===this.options_.track.kind&&(o.appendChild(Pe("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),o.appendChild(Pe("span",{className:"vjs-control-text",textContent:" "+this.localize("Captions")}))),r},t}(qi);Jt.registerComponent("SubsCapsMenuItem",Zi);var er=function(e){function t(t,n){var i;return void 0===n&&(n={}),(i=e.call(this,t,n)||this).label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(i.player_.language_)>-1&&(i.label_="captions"),i.menuButton_.controlText(qt(i.label_)),i}O.default(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-subs-caps-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+e.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new Xi(this.player_,{kind:this.label_})),this.hideThreshold_+=1),t=e.prototype.createItems.call(this,t,Zi)},t}(zi);er.prototype.kinds_=["captions","subtitles"],er.prototype.controlText_="Subtitles",Jt.registerComponent("SubsCapsButton",er);var tr=function(e){function t(t,n){var i,r=n.track,o=t.audioTracks();n.label=r.label||r.language||"Unknown",n.selected=r.enabled,(i=e.call(this,t,n)||this).track=r,i.addClass("vjs-"+r.kind+"-menu-item");var a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];i.handleTracksChange.apply(D.default(i),t)};return o.addEventListener("change",a),i.on("dispose",(function(){o.removeEventListener("change",a)})),i}O.default(t,e);var n=t.prototype;return n.createEl=function(t,n,i){var r=e.prototype.createEl.call(this,t,n,i),o=r.querySelector(".vjs-menu-item-text");return"main-desc"===this.options_.track.kind&&(o.appendChild(Pe("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),o.appendChild(Pe("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),r},n.handleClick=function(t){if(e.prototype.handleClick.call(this,t),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks)for(var n=this.player_.audioTracks(),i=0;i<n.length;i++){var r=n[i];r!==this.track&&(r.enabled=r===this.track)}},n.handleTracksChange=function(e){this.selected(this.track.enabled)},t}(Gi);Jt.registerComponent("AudioTrackMenuItem",tr);var nr=function(e){function t(t,n){return void 0===n&&(n={}),n.tracks=t.audioTracks(),e.call(this,t,n)||this}O.default(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-audio-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-audio-button "+e.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(e){void 0===e&&(e=[]),this.hideThreshold_=1;for(var t=this.player_.audioTracks(),n=0;n<t.length;n++){var i=t[n];e.push(new tr(this.player_,{track:i,selectable:!0,multiSelectable:!1}))}return e},t}(Hi);nr.prototype.controlText_="Audio Track",Jt.registerComponent("AudioTrackButton",nr);var ir=function(e){function t(t,n){var i,r=n.rate,o=parseFloat(r,10);return n.label=r,n.selected=o===t.playbackRate(),n.selectable=!0,n.multiSelectable=!1,(i=e.call(this,t,n)||this).label=r,i.rate=o,i.on(t,"ratechange",(function(e){return i.update(e)})),i}O.default(t,e);var n=t.prototype;return n.handleClick=function(t){e.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},n.update=function(e){this.selected(this.player().playbackRate()===this.rate)},t}(Gi);ir.prototype.contentElType="button",Jt.registerComponent("PlaybackRateMenuItem",ir);var rr=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).menuButton_.el_.setAttribute("aria-describedby",i.labelElId_),i.updateVisibility(),i.updateLabel(),i.on(t,"loadstart",(function(e){return i.updateVisibility(e)})),i.on(t,"ratechange",(function(e){return i.updateLabel(e)})),i.on(t,"playbackrateschange",(function(e){return i.handlePlaybackRateschange(e)})),i}O.default(t,e);var n=t.prototype;return n.createEl=function(){var t=e.prototype.createEl.call(this);return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=Pe("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),t.appendChild(this.labelEl_),t},n.dispose=function(){this.labelEl_=null,e.prototype.dispose.call(this)},n.buildCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){for(var e=this.playbackRates(),t=[],n=e.length-1;n>=0;n--)t.push(new ir(this.player(),{rate:e[n]+"x"}));return t},n.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},n.handleClick=function(e){var t=this.player().playbackRate(),n=this.playbackRates(),i=(n.indexOf(t)+1)%n.length;this.player().playbackRate(n[i])},n.handlePlaybackRateschange=function(e){this.update()},n.playbackRates=function(){var e=this.player();return e.playbackRates&&e.playbackRates()||[]},n.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},n.updateVisibility=function(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},n.updateLabel=function(e){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")},t}(Ui);rr.prototype.controlText_="Playback Rate",Jt.registerComponent("PlaybackRateMenuButton",rr);var or=function(e){function t(){return e.apply(this,arguments)||this}O.default(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-spacer "+e.prototype.buildCSSClass.call(this)},n.createEl=function(t,n,i){return void 0===t&&(t="div"),void 0===n&&(n={}),void 0===i&&(i={}),n.className||(n.className=this.buildCSSClass()),e.prototype.createEl.call(this,t,n,i)},t}(Jt);Jt.registerComponent("Spacer",or);var ar=function(e){function t(){return e.apply(this,arguments)||this}O.default(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-custom-control-spacer "+e.prototype.buildCSSClass.call(this)},n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),textContent:""})},t}(or);Jt.registerComponent("CustomControlSpacer",ar);var sr=function(e){function t(){return e.apply(this,arguments)||this}return O.default(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},t}(Jt);sr.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},"exitPictureInPicture"in A.default&&sr.prototype.options_.children.splice(sr.prototype.options_.children.length-1,0,"pictureInPictureToggle"),Jt.registerComponent("ControlBar",sr);var ur=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).on(t,"error",(function(e){return i.open(e)})),i}O.default(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-error-display "+e.prototype.buildCSSClass.call(this)},n.content=function(){var e=this.player().error();return e?this.localize(e.message):""},t}(ln);ur.prototype.options_=k.default({},ln.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),Jt.registerComponent("ErrorDisplay",ur);var lr="vjs-text-track-settings",cr=["#000","Black"],dr=["#00F","Blue"],pr=["#0FF","Cyan"],hr=["#0F0","Green"],fr=["#F0F","Magenta"],mr=["#F00","Red"],gr=["#FFF","White"],yr=["#FF0","Yellow"],vr=["1","Opaque"],_r=["0.5","Semi-Transparent"],br=["0","Transparent"],wr={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[cr,gr,mr,hr,dr,yr,fr,pr]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[vr,_r,br]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[gr,cr,mr,hr,dr,yr,fr,pr]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(e){return"1.00"===e?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[vr,_r]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[br,_r,vr]}};function Er(e,t){if(t&&(e=t(e)),e&&"none"!==e)return e}wr.windowColor.options=wr.backgroundColor.options;var Sr=function(e){function t(t,n){var i;return n.temporary=!1,(i=e.call(this,t,n)||this).updateDisplay=i.updateDisplay.bind(D.default(i)),i.fill(),i.hasBeenOpened_=i.hasBeenFilled_=!0,i.endDialog=Pe("p",{className:"vjs-control-text",textContent:i.localize("End of dialog window.")}),i.el().appendChild(i.endDialog),i.setDefaults(),void 0===n.persistTextTrackSettings&&(i.options_.persistTextTrackSettings=i.options_.playerOptions.persistTextTrackSettings),i.on(i.$(".vjs-done-button"),"click",(function(){i.saveSettings(),i.close()})),i.on(i.$(".vjs-default-button"),"click",(function(){i.setDefaults(),i.updateDisplay()})),Z(wr,(function(e){i.on(i.$(e.selector),"change",i.updateDisplay)})),i.options_.persistTextTrackSettings&&i.restoreSettings(),i}O.default(t,e);var n=t.prototype;return n.dispose=function(){this.endDialog=null,e.prototype.dispose.call(this)},n.createElSelect_=function(e,t,n){var i=this;void 0===t&&(t=""),void 0===n&&(n="label");var r=wr[e],o=r.id.replace("%s",this.id_),a=[t,o].join(" ").trim();return["<"+n+' id="'+o+'" class="'+("label"===n?"vjs-label":"")+'">',this.localize(r.label),"</"+n+">",'<select aria-labelledby="'+a+'">'].concat(r.options.map((function(e){var t=o+"-"+e[1].replace(/\W+/g,"");return['<option id="'+t+'" value="'+e[0]+'" ','aria-labelledby="'+a+" "+t+'">',i.localize(e[1]),"</option>"].join("")}))).concat("</select>").join("")},n.createElFgColor_=function(){var e="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",e),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",e),"</span>","</fieldset>"].join("")},n.createElBgColor_=function(){var e="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",e),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",e),"</span>","</fieldset>"].join("")},n.createElWinColor_=function(){var e="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",e),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",e),"</span>","</fieldset>"].join("")},n.createElColors_=function(){return Pe("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},n.createElFont_=function(){return Pe("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},n.createElControls_=function(){var e=this.localize("restore all settings to the default values");return Pe("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+e+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+e+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},n.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},n.label=function(){return this.localize("Caption Settings Dialog")},n.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},n.buildCSSClass=function(){return e.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},n.getValues=function(){var e,t,n,i=this;return t=function(e,t,n){var r,o,a=(r=i.$(t.selector),o=t.parser,Er(r.options[r.options.selectedIndex].value,o));return void 0!==a&&(e[n]=a),e},void 0===(n={})&&(n=0),Q(e=wr).reduce((function(n,i){return t(n,e[i],i)}),n)},n.setValues=function(e){var t=this;Z(wr,(function(n,i){!function(e,t,n){if(t)for(var i=0;i<e.options.length;i++)if(Er(e.options[i].value,n)===t){e.selectedIndex=i;break}}(t.$(n.selector),e[i],n.parser)}))},n.setDefaults=function(){var e=this;Z(wr,(function(t){var n=t.hasOwnProperty("default")?t.default:0;e.$(t.selector).selectedIndex=n}))},n.restoreSettings=function(){var e;try{e=JSON.parse(x.default.localStorage.getItem(lr))}catch(e){Y.warn(e)}e&&this.setValues(e)},n.saveSettings=function(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.keys(e).length?x.default.localStorage.setItem(lr,JSON.stringify(e)):x.default.localStorage.removeItem(lr)}catch(e){Y.warn(e)}}},n.updateDisplay=function(){var e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()},n.conditionalBlur_=function(){this.previouslyActiveEl_=null;var e=this.player_.controlBar,t=e&&e.subsCapsButton,n=e&&e.captionsButton;t?t.focus():n&&n.focus()},t}(ln);Jt.registerComponent("TextTrackSettings",Sr);var Tr=function(e){function t(t,n){var i,r=n.ResizeObserver||x.default.ResizeObserver;null===n.ResizeObserver&&(r=!1);var o=Vt({createEl:!r,reportTouchActivity:!1},n);return(i=e.call(this,t,o)||this).ResizeObserver=n.ResizeObserver||x.default.ResizeObserver,i.loadListener_=null,i.resizeObserver_=null,i.debouncedHandler_=function(e,t,n,i){var r;void 0===i&&(i=x.default);var o=function(){var o=this,a=arguments,s=function(){r=null,s=null,n||e.apply(o,a)};!r&&n&&e.apply(o,a),i.clearTimeout(r),r=i.setTimeout(s,t)};return o.cancel=function(){i.clearTimeout(r),r=null},o}((function(){i.resizeHandler()}),100,!1,D.default(i)),r?(i.resizeObserver_=new i.ResizeObserver(i.debouncedHandler_),i.resizeObserver_.observe(t.el())):(i.loadListener_=function(){if(i.el_&&i.el_.contentWindow){var e=i.debouncedHandler_,t=i.unloadListener_=function(){wt(this,"resize",e),wt(this,"unload",t),t=null};bt(i.el_.contentWindow,"unload",t),bt(i.el_.contentWindow,"resize",e)}},i.one("load",i.loadListener_)),i}O.default(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1},{"aria-hidden":"true"})},n.resizeHandler=function(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")},n.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,e.prototype.dispose.call(this)},t}(Jt);Jt.registerComponent("ResizeManager",Tr);var Cr={trackingThreshold:20,liveTolerance:15},xr=function(e){function t(t,n){var i,r=Vt(Cr,n,{createEl:!1});return(i=e.call(this,t,r)||this).handleVisibilityChange_=function(e){return i.handleVisibilityChange(e)},i.trackLiveHandler_=function(){return i.trackLive_()},i.handlePlay_=function(e){return i.handlePlay(e)},i.handleFirstTimeupdate_=function(e){return i.handleFirstTimeupdate(e)},i.handleSeeked_=function(e){return i.handleSeeked(e)},i.seekToLiveEdge_=function(e){return i.seekToLiveEdge(e)},i.reset_(),i.on(i.player_,"durationchange",(function(e){return i.handleDurationchange(e)})),i.on(i.player_,"canplay",(function(){return i.toggleTracking()})),ye&&"hidden"in A.default&&"visibilityState"in A.default&&i.on(A.default,"visibilitychange",i.handleVisibilityChange_),i}O.default(t,e);var n=t.prototype;return n.handleVisibilityChange=function(){this.player_.duration()===1/0&&(A.default.hidden?this.stopTracking():this.startTracking())},n.trackLive_=function(){var e=this.player_.seekable();if(e&&e.length){var t=Number(x.default.performance.now().toFixed(4)),n=-1===this.lastTime_?0:(t-this.lastTime_)/1e3;this.lastTime_=t,this.pastSeekEnd_=this.pastSeekEnd()+n;var i=this.liveCurrentTime(),r=this.player_.currentTime(),o=this.player_.paused()||this.seekedBehindLive_||Math.abs(i-r)>this.options_.liveTolerance;this.timeupdateSeen_&&i!==1/0||(o=!1),o!==this.behindLiveEdge_&&(this.behindLiveEdge_=o,this.trigger("liveedgechange"))}},n.handleDurationchange=function(){this.toggleTracking()},n.toggleTracking=function(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())},n.startTracking=function(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,At),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))},n.handleFirstTimeupdate=function(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)},n.handleSeeked=function(){var e=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&e>2,this.nextSeekedFromUser_=!1,this.trackLive_()},n.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)},n.reset_=function(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)},n.nextSeekedFromUser=function(){this.nextSeekedFromUser_=!0},n.stopTracking=function(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))},n.seekableEnd=function(){for(var e=this.player_.seekable(),t=[],n=e?e.length:0;n--;)t.push(e.end(n));return t.length?t.sort()[t.length-1]:1/0},n.seekableStart=function(){for(var e=this.player_.seekable(),t=[],n=e?e.length:0;n--;)t.push(e.start(n));return t.length?t.sort()[0]:0},n.liveWindow=function(){var e=this.liveCurrentTime();return e===1/0?0:e-this.seekableStart()},n.isLive=function(){return this.isTracking()},n.atLiveEdge=function(){return!this.behindLiveEdge()},n.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},n.pastSeekEnd=function(){var e=this.seekableEnd();return-1!==this.lastSeekEnd_&&e!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=e,this.pastSeekEnd_},n.behindLiveEdge=function(){return this.behindLiveEdge_},n.isTracking=function(){return"number"==typeof this.trackingInterval_},n.seekToLiveEdge=function(){this.seekedBehindLive_=!1,this.atLiveEdge()||(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))},n.dispose=function(){this.off(A.default,"visibilitychange",this.handleVisibilityChange_),this.stopTracking(),e.prototype.dispose.call(this)},t}(Jt);Jt.registerComponent("LiveTracker",xr);var Ar,kr=function(e){var t=e.el();if(t.hasAttribute("src"))return e.triggerSourceset(t.src),!0;var n=e.$$("source"),i=[],r="";if(!n.length)return!1;for(var o=0;o<n.length;o++){var a=n[o].src;a&&-1===i.indexOf(a)&&i.push(a)}return!!i.length&&(1===i.length&&(r=i[0]),e.triggerSourceset(r),!0)},Ir=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(e){var t=A.default.createElement(this.nodeName.toLowerCase());t.innerHTML=e;for(var n=A.default.createDocumentFragment();t.childNodes.length;)n.appendChild(t.childNodes[0]);return this.innerText="",x.default.Element.prototype.appendChild.call(this,n),this.innerHTML}}),Dr=function(e,t){for(var n={},i=0;i<e.length&&!((n=Object.getOwnPropertyDescriptor(e[i],t))&&n.set&&n.get);i++);return n.enumerable=!0,n.configurable=!0,n},Or=function(e){var t=e.el();if(!t.resetSourceWatch_){var n={},i=function(e){return Dr([e.el(),x.default.HTMLMediaElement.prototype,x.default.Element.prototype,Ir],"innerHTML")}(e),r=function(n){return function(){for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];var a=n.apply(t,r);return kr(e),a}};["append","appendChild","insertAdjacentHTML"].forEach((function(e){t[e]&&(n[e]=t[e],t[e]=r(n[e]))})),Object.defineProperty(t,"innerHTML",Vt(i,{set:r(i.set)})),t.resetSourceWatch_=function(){t.resetSourceWatch_=null,Object.keys(n).forEach((function(e){t[e]=n[e]})),Object.defineProperty(t,"innerHTML",i)},e.one("sourceset",t.resetSourceWatch_)}},Pr=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?Cn(x.default.Element.prototype.getAttribute.call(this,"src")):""},set:function(e){return x.default.Element.prototype.setAttribute.call(this,"src",e),e}}),Nr=function(e){if(e.featuresSourceset){var t=e.el();if(!t.resetSourceset_){var n=function(e){return Dr([e.el(),x.default.HTMLMediaElement.prototype,Pr],"src")}(e),i=t.setAttribute,r=t.load;Object.defineProperty(t,"src",Vt(n,{set:function(i){var r=n.set.call(t,i);return e.triggerSourceset(t.src),r}})),t.setAttribute=function(n,r){var o=i.call(t,n,r);return/src/i.test(n)&&e.triggerSourceset(t.src),o},t.load=function(){var n=r.call(t);return kr(e)||(e.triggerSourceset(""),Or(e)),n},t.currentSrc?e.triggerSourceset(t.currentSrc):kr(e)||Or(e),t.resetSourceset_=function(){t.resetSourceset_=null,t.load=r,t.setAttribute=i,Object.defineProperty(t,"src",n),t.resetSourceWatch_&&t.resetSourceWatch_()}}}},Rr=function(e,t,n,i){void 0===i&&(i=!0);var r=function(n){return Object.defineProperty(e,t,{value:n,enumerable:!0,writable:!0})},o={configurable:!0,enumerable:!0,get:function(){var e=n();return r(e),e}};return i&&(o.set=r),Object.defineProperty(e,t,o)},Lr=function(e){function t(t,n){var i;i=e.call(this,t,n)||this;var r=t.source,o=!1;if(r&&(i.el_.currentSrc!==r.src||t.tag&&3===t.tag.initNetworkState_)?i.setSource(r):i.handleLateInit_(i.el_),t.enableSourceset&&i.setupSourcesetHandling_(),i.isScrubbing_=!1,i.el_.hasChildNodes()){for(var a=i.el_.childNodes,s=a.length,u=[];s--;){var l=a[s];"track"===l.nodeName.toLowerCase()&&(i.featuresNativeTextTracks?(i.remoteTextTrackEls().addTrackElement_(l),i.remoteTextTracks().addTrack(l.track),i.textTracks().addTrack(l.track),o||i.el_.hasAttribute("crossorigin")||!An(l.src)||(o=!0)):u.push(l))}for(var c=0;c<u.length;c++)i.el_.removeChild(u[c])}return i.proxyNativeTracks_(),i.featuresNativeTextTracks&&o&&Y.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."),i.restoreMetadataTracksInIOSNativePlayer_(),(be||Ee||pe)&&!0===t.nativeControlsForTouch&&i.setControls(!0),i.proxyWebkitFullscreen_(),i.triggerReady(),i}O.default(t,e);var n=t.prototype;return n.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),t.disposeMediaElement(this.el_),this.options_=null,e.prototype.dispose.call(this)},n.setupSourcesetHandling_=function(){Nr(this)},n.restoreMetadataTracksInIOSNativePlayer_=function(){var e,t=this.textTracks(),n=function(){e=[];for(var n=0;n<t.length;n++){var i=t[n];"metadata"===i.kind&&e.push({track:i,storedMode:i.mode})}};n(),t.addEventListener("change",n),this.on("dispose",(function(){return t.removeEventListener("change",n)}));var i=function n(){for(var i=0;i<e.length;i++){var r=e[i];"disabled"===r.track.mode&&r.track.mode!==r.storedMode&&(r.track.mode=r.storedMode)}t.removeEventListener("change",n)};this.on("webkitbeginfullscreen",(function(){t.removeEventListener("change",n),t.removeEventListener("change",i),t.addEventListener("change",i)})),this.on("webkitendfullscreen",(function(){t.removeEventListener("change",n),t.addEventListener("change",n),t.removeEventListener("change",i)}))},n.overrideNative_=function(e,t){var n=this;if(t===this["featuresNative"+e+"Tracks"]){var i=e.toLowerCase();this[i+"TracksListeners_"]&&Object.keys(this[i+"TracksListeners_"]).forEach((function(e){n.el()[i+"Tracks"].removeEventListener(e,n[i+"TracksListeners_"][e])})),this["featuresNative"+e+"Tracks"]=!t,this[i+"TracksListeners_"]=null,this.proxyNativeTracksForType_(i)}},n.overrideNativeAudioTracks=function(e){this.overrideNative_("Audio",e)},n.overrideNativeVideoTracks=function(e){this.overrideNative_("Video",e)},n.proxyNativeTracksForType_=function(e){var t=this,n=Ln[e],i=this.el()[n.getterName],r=this[n.getterName]();if(this["featuresNative"+n.capitalName+"Tracks"]&&i&&i.addEventListener){var o={change:function(n){var i={type:"change",target:r,currentTarget:r,srcElement:r};r.trigger(i),"text"===e&&t[Mn.remoteText.getterName]().trigger(i)},addtrack:function(e){r.addTrack(e.track)},removetrack:function(e){r.removeTrack(e.track)}},a=function(){for(var e=[],t=0;t<r.length;t++){for(var n=!1,o=0;o<i.length;o++)if(i[o]===r[t]){n=!0;break}n||e.push(r[t])}for(;e.length;)r.removeTrack(e.shift())};this[n.getterName+"Listeners_"]=o,Object.keys(o).forEach((function(e){var n=o[e];i.addEventListener(e,n),t.on("dispose",(function(t){return i.removeEventListener(e,n)}))})),this.on("loadstart",a),this.on("dispose",(function(e){return t.off("loadstart",a)}))}},n.proxyNativeTracks_=function(){var e=this;Ln.names.forEach((function(t){e.proxyNativeTracksForType_(t)}))},n.createEl=function(){var e=this.options_.tag;if(!e||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(e){var n=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(n,e),t.disposeMediaElement(e),e=n}else{e=A.default.createElement("video");var i=Vt({},this.options_.tag&&Ue(this.options_.tag));be&&!0===this.options_.nativeControlsForTouch||delete i.controls,Be(e,ee(i,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}void 0!==this.options_.preload&&$e(e,"preload",this.options_.preload),void 0!==this.options_.disablePictureInPicture&&(e.disablePictureInPicture=this.options_.disablePictureInPicture);for(var r=["loop","muted","playsinline","autoplay"],o=0;o<r.length;o++){var a=r[o],s=this.options_[a];void 0!==s&&(s?$e(e,a,a):Ge(e,a),e[a]=s)}return e},n.handleLateInit_=function(e){if(0!==e.networkState&&3!==e.networkState){if(0===e.readyState){var t=!1,n=function(){t=!0};this.on("loadstart",n);var i=function(){t||this.trigger("loadstart")};return this.on("loadedmetadata",i),void this.ready((function(){this.off("loadstart",n),this.off("loadedmetadata",i),t||this.trigger("loadstart")}))}var r=["loadstart"];r.push("loadedmetadata"),e.readyState>=2&&r.push("loadeddata"),e.readyState>=3&&r.push("canplay"),e.readyState>=4&&r.push("canplaythrough"),this.ready((function(){r.forEach((function(e){this.trigger(e)}),this)}))}},n.setScrubbing=function(e){this.isScrubbing_=e},n.scrubbing=function(){return this.isScrubbing_},n.setCurrentTime=function(e){try{this.isScrubbing_&&this.el_.fastSeek&&Te?this.el_.fastSeek(e):this.el_.currentTime=e}catch(e){Y(e,"Video is not ready. (Video.js)")}},n.duration=function(){var e=this;if(this.el_.duration===1/0&&ce&&me&&0===this.el_.currentTime){return this.on("timeupdate",(function t(){e.el_.currentTime>0&&(e.el_.duration===1/0&&e.trigger("durationchange"),e.off("timeupdate",t))})),NaN}return this.el_.duration||NaN},n.width=function(){return this.el_.offsetWidth},n.height=function(){return this.el_.offsetHeight},n.proxyWebkitFullscreen_=function(){var e=this;if("webkitDisplayingFullscreen"in this.el_){var t=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},n=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",t),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",n),this.on("dispose",(function(){e.off("webkitbeginfullscreen",n),e.off("webkitendfullscreen",t)}))}},n.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var e=x.default.navigator&&x.default.navigator.userAgent||"";if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},n.enterFullScreen=function(){var e=this.el_;if(e.paused&&e.networkState<=e.HAVE_METADATA)on(this.el_.play()),this.setTimeout((function(){e.pause();try{e.webkitEnterFullScreen()}catch(e){this.trigger("fullscreenerror",e)}}),0);else try{e.webkitEnterFullScreen()}catch(e){this.trigger("fullscreenerror",e)}},n.exitFullScreen=function(){this.el_.webkitDisplayingFullscreen?this.el_.webkitExitFullScreen():this.trigger("fullscreenerror",new Error("The video is not fullscreen"))},n.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},n.requestVideoFrameCallback=function(t){return this.featuresVideoFrameCallback?this.el_.requestVideoFrameCallback(t):e.prototype.requestVideoFrameCallback.call(this,t)},n.cancelVideoFrameCallback=function(t){this.featuresVideoFrameCallback?this.el_.cancelVideoFrameCallback(t):e.prototype.cancelVideoFrameCallback.call(this,t)},n.src=function(e){if(void 0===e)return this.el_.src;this.setSrc(e)},n.reset=function(){t.resetMediaElement(this.el_)},n.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},n.setControls=function(e){this.el_.controls=!!e},n.addTextTrack=function(t,n,i){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,n,i):e.prototype.addTextTrack.call(this,t,n,i)},n.createRemoteTextTrack=function(t){if(!this.featuresNativeTextTracks)return e.prototype.createRemoteTextTrack.call(this,t);var n=A.default.createElement("track");return t.kind&&(n.kind=t.kind),t.label&&(n.label=t.label),(t.language||t.srclang)&&(n.srclang=t.language||t.srclang),t.default&&(n.default=t.default),t.id&&(n.id=t.id),t.src&&(n.src=t.src),n},n.addRemoteTextTrack=function(t,n){var i=e.prototype.addRemoteTextTrack.call(this,t,n);return this.featuresNativeTextTracks&&this.el().appendChild(i),i},n.removeRemoteTextTrack=function(t){if(e.prototype.removeRemoteTextTrack.call(this,t),this.featuresNativeTextTracks)for(var n=this.$$("track"),i=n.length;i--;)t!==n[i]&&t!==n[i].track||this.el().removeChild(n[i])},n.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var e={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),x.default.performance&&"function"==typeof x.default.performance.now?e.creationTime=x.default.performance.now():x.default.performance&&x.default.performance.timing&&"number"==typeof x.default.performance.timing.navigationStart&&(e.creationTime=x.default.Date.now()-x.default.performance.timing.navigationStart),e},t}(jn);Rr(Lr,"TEST_VID",(function(){if(ke()){var e=A.default.createElement("video"),t=A.default.createElement("track");return t.kind="captions",t.srclang="en",t.label="English",e.appendChild(t),e}})),Lr.isSupported=function(){try{Lr.TEST_VID.volume=.5}catch(e){return!1}return!(!Lr.TEST_VID||!Lr.TEST_VID.canPlayType)},Lr.canPlayType=function(e){return Lr.TEST_VID.canPlayType(e)},Lr.canPlaySource=function(e,t){return Lr.canPlayType(e.type)},Lr.canControlVolume=function(){try{var e=Lr.TEST_VID.volume;Lr.TEST_VID.volume=e/2+.1;var t=e!==Lr.TEST_VID.volume;return t&&Se?(x.default.setTimeout((function(){Lr&&Lr.prototype&&(Lr.prototype.featuresVolumeControl=e!==Lr.TEST_VID.volume)})),!1):t}catch(e){return!1}},Lr.canMuteVolume=function(){try{var e=Lr.TEST_VID.muted;return Lr.TEST_VID.muted=!e,Lr.TEST_VID.muted?$e(Lr.TEST_VID,"muted","muted"):Ge(Lr.TEST_VID,"muted"),e!==Lr.TEST_VID.muted}catch(e){return!1}},Lr.canControlPlaybackRate=function(){if(ce&&me&&ge<58)return!1;try{var e=Lr.TEST_VID.playbackRate;return Lr.TEST_VID.playbackRate=e/2+.1,e!==Lr.TEST_VID.playbackRate}catch(e){return!1}},Lr.canOverrideAttributes=function(){try{var e=function(){};Object.defineProperty(A.default.createElement("video"),"src",{get:e,set:e}),Object.defineProperty(A.default.createElement("audio"),"src",{get:e,set:e}),Object.defineProperty(A.default.createElement("video"),"innerHTML",{get:e,set:e}),Object.defineProperty(A.default.createElement("audio"),"innerHTML",{get:e,set:e})}catch(e){return!1}return!0},Lr.supportsNativeTextTracks=function(){return Te||Se&&me},Lr.supportsNativeVideoTracks=function(){return!(!Lr.TEST_VID||!Lr.TEST_VID.videoTracks)},Lr.supportsNativeAudioTracks=function(){return!(!Lr.TEST_VID||!Lr.TEST_VID.audioTracks)},Lr.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach((function(e){var t=e[0],n=e[1];Rr(Lr.prototype,t,(function(){return Lr[n]()}),!0)})),Lr.prototype.featuresVolumeControl=Lr.canControlVolume(),Lr.prototype.movingMediaElementInDOM=!Se,Lr.prototype.featuresFullscreenResize=!0,Lr.prototype.featuresProgressEvents=!0,Lr.prototype.featuresTimeupdateEvents=!0,Lr.prototype.featuresVideoFrameCallback=!(!Lr.TEST_VID||!Lr.TEST_VID.requestVideoFrameCallback),Lr.patchCanPlayType=function(){de>=4&&!he&&!me&&(Ar=Lr.TEST_VID&&Lr.TEST_VID.constructor.prototype.canPlayType,Lr.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&/^application\/(?:x-|vnd\.apple\.)mpegurl/i.test(e)?"maybe":Ar.call(this,e)})},Lr.unpatchCanPlayType=function(){var e=Lr.TEST_VID.constructor.prototype.canPlayType;return Ar&&(Lr.TEST_VID.constructor.prototype.canPlayType=Ar),e},Lr.patchCanPlayType(),Lr.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},Lr.resetMediaElement=function(e){if(e){for(var t=e.querySelectorAll("source"),n=t.length;n--;)e.removeChild(t[n]);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach((function(e){Lr.prototype[e]=function(){return this.el_[e]||this.el_.hasAttribute(e)}})),["muted","defaultMuted","autoplay","loop","playsinline"].forEach((function(e){Lr.prototype["set"+qt(e)]=function(t){this.el_[e]=t,t?this.el_.setAttribute(e,e):this.el_.removeAttribute(e)}})),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach((function(e){Lr.prototype[e]=function(){return this.el_[e]}})),["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach((function(e){Lr.prototype["set"+qt(e)]=function(t){this.el_[e]=t}})),["pause","load","play"].forEach((function(e){Lr.prototype[e]=function(){return this.el_[e]()}})),jn.withSourceHandlers(Lr),Lr.nativeSourceHandler={},Lr.nativeSourceHandler.canPlayType=function(e){try{return Lr.TEST_VID.canPlayType(e)}catch(e){return""}},Lr.nativeSourceHandler.canHandleSource=function(e,t){if(e.type)return Lr.nativeSourceHandler.canPlayType(e.type);if(e.src){var n=xn(e.src);return Lr.nativeSourceHandler.canPlayType("video/"+n)}return""},Lr.nativeSourceHandler.handleSource=function(e,t,n){t.setSrc(e.src)},Lr.nativeSourceHandler.dispose=function(){},Lr.registerSourceHandler(Lr.nativeSourceHandler),jn.registerTech("Html5",Lr);var Mr=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],Fr={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},jr=["tiny","xsmall","small","medium","large","xlarge","huge"],Br={};jr.forEach((function(e){var t="x"===e.charAt(0)?"x-"+e.substring(1):e;Br[e]="vjs-layout-"+t}));var Ur={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},Hr=function(e){function t(n,i,r){var o;if(n.id=n.id||i.id||"vjs_video_"+ht(),(i=ee(t.getTagSettings(n),i)).initChildren=!1,i.createEl=!1,i.evented=!1,i.reportTouchActivity=!1,!i.language)if("function"==typeof n.closest){var a=n.closest("[lang]");a&&a.getAttribute&&(i.language=a.getAttribute("lang"))}else for(var s=n;s&&1===s.nodeType;){if(Ue(s).hasOwnProperty("lang")){i.language=s.getAttribute("lang");break}s=s.parentNode}if((o=e.call(this,null,i,r)||this).boundDocumentFullscreenChange_=function(e){return o.documentFullscreenChange_(e)},o.boundFullWindowOnEscKey_=function(e){return o.fullWindowOnEscKey(e)},o.boundUpdateStyleEl_=function(e){return o.updateStyleEl_(e)},o.boundApplyInitTime_=function(e){return o.applyInitTime_(e)},o.boundUpdateCurrentBreakpoint_=function(e){return o.updateCurrentBreakpoint_(e)},o.boundHandleTechClick_=function(e){return o.handleTechClick_(e)},o.boundHandleTechDoubleClick_=function(e){return o.handleTechDoubleClick_(e)},o.boundHandleTechTouchStart_=function(e){return o.handleTechTouchStart_(e)},o.boundHandleTechTouchMove_=function(e){return o.handleTechTouchMove_(e)},o.boundHandleTechTouchEnd_=function(e){return o.handleTechTouchEnd_(e)},o.boundHandleTechTap_=function(e){return o.handleTechTap_(e)},o.isFullscreen_=!1,o.log=J(o.id_),o.fsApi_=G,o.isPosterFromTech_=!1,o.queuedCallbacks_=[],o.isReady_=!1,o.hasStarted_=!1,o.userActive_=!1,o.debugEnabled_=!1,o.audioOnlyMode_=!1,o.audioPosterMode_=!1,o.audioOnlyCache_={playerHeight:null,hiddenChildren:[]},!o.options_||!o.options_.techOrder||!o.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(o.tag=n,o.tagAttributes=n&&Ue(n),o.language(o.options_.language),i.languages){var u={};Object.getOwnPropertyNames(i.languages).forEach((function(e){u[e.toLowerCase()]=i.languages[e]})),o.languages_=u}else o.languages_=t.prototype.options_.languages;o.resetCache_(),o.poster_=i.poster||"",o.controls_=!!i.controls,n.controls=!1,n.removeAttribute("controls"),o.changingSrc_=!1,o.playCallbacks_=[],o.playTerminatedQueue_=[],n.hasAttribute("autoplay")?o.autoplay(!0):o.autoplay(o.options_.autoplay),i.plugins&&Object.keys(i.plugins).forEach((function(e){if("function"!=typeof o[e])throw new Error('plugin "'+e+'" does not exist')})),o.scrubbing_=!1,o.el_=o.createEl(),Ut(D.default(o),{eventBusKey:"el_"}),o.fsApi_.requestFullscreen&&(bt(A.default,o.fsApi_.fullscreenchange,o.boundDocumentFullscreenChange_),o.on(o.fsApi_.fullscreenchange,o.boundDocumentFullscreenChange_)),o.fluid_&&o.on(["playerreset","resize"],o.boundUpdateStyleEl_);var l=Vt(o.options_);i.plugins&&Object.keys(i.plugins).forEach((function(e){o[e](i.plugins[e])})),i.debug&&o.debug(!0),o.options_.playerOptions=l,o.middleware_=[],o.playbackRates(i.playbackRates),o.initChildren(),o.isAudio("audio"===n.nodeName.toLowerCase()),o.controls()?o.addClass("vjs-controls-enabled"):o.addClass("vjs-controls-disabled"),o.el_.setAttribute("role","region"),o.isAudio()?o.el_.setAttribute("aria-label",o.localize("Audio Player")):o.el_.setAttribute("aria-label",o.localize("Video Player")),o.isAudio()&&o.addClass("vjs-audio"),o.flexNotSupported_()&&o.addClass("vjs-no-flex"),be&&o.addClass("vjs-touch-enabled"),Se||o.addClass("vjs-workinghover"),t.players[o.id_]=D.default(o);var c=B.split(".")[0];return o.addClass("vjs-v"+c),o.userActive(!0),o.reportUserActivity(),o.one("play",(function(e){return o.listenForUserActivity_(e)})),o.on("stageclick",(function(e){return o.handleStageClick_(e)})),o.on("keydown",(function(e){return o.handleKeyDown(e)})),o.on("languagechange",(function(e){return o.handleLanguagechange(e)})),o.breakpoints(o.options_.breakpoints),o.responsive(o.options_.responsive),o.on("ready",(function(){o.audioPosterMode(o.options_.audioPosterMode),o.audioOnlyMode(o.options_.audioOnlyMode)})),o}O.default(t,e);var n=t.prototype;return n.dispose=function(){var n=this;this.trigger("dispose"),this.off("dispose"),wt(A.default,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),wt(A.default,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),t.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),Un[this.id()]=null,Fn.names.forEach((function(e){var t=Fn[e],i=n[t.getterName]();i&&i.off&&i.off()})),e.prototype.dispose.call(this)},n.createEl=function(){var t,n=this.tag,i=this.playerElIngest_=n.parentNode&&n.parentNode.hasAttribute&&n.parentNode.hasAttribute("data-vjs-player"),r="video-js"===this.tag.tagName.toLowerCase();i?t=this.el_=n.parentNode:r||(t=this.el_=e.prototype.createEl.call(this,"div"));var o=Ue(n);if(r){for(t=this.el_=n,n=this.tag=A.default.createElement("video");t.children.length;)n.appendChild(t.firstChild);Le(t,"video-js")||Me(t,"video-js"),t.appendChild(n),i=this.playerElIngest_=t,Object.keys(t).forEach((function(e){try{n[e]=t[e]}catch(e){}}))}if(n.setAttribute("tabindex","-1"),o.tabindex="-1",(ye||me&&_e)&&(n.setAttribute("role","application"),o.role="application"),n.removeAttribute("width"),n.removeAttribute("height"),"width"in o&&delete o.width,"height"in o&&delete o.height,Object.getOwnPropertyNames(o).forEach((function(e){r&&"class"===e||t.setAttribute(e,o[e]),r&&n.setAttribute(e,o[e])})),n.playerId=n.id,n.id+="_html5_api",n.className="vjs-tech",n.player=t.player=this,this.addClass("vjs-paused"),!0!==x.default.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=ct("vjs-styles-dimensions");var a=nt(".vjs-styles-defaults"),s=nt("head");s.insertBefore(this.styleEl_,a?a.nextSibling:s.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);for(var u=n.getElementsByTagName("a"),l=0;l<u.length;l++){var c=u.item(l);Me(c,"vjs-hidden"),c.setAttribute("hidden","hidden")}return n.initNetworkState_=n.networkState,n.parentNode&&!i&&n.parentNode.insertBefore(t,n),Re(n,t),this.children_.unshift(n),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=t,t},n.crossOrigin=function(e){if(!e)return this.techGet_("crossOrigin");"anonymous"===e||"use-credentials"===e?this.techCall_("setCrossOrigin",e):Y.warn('crossOrigin must be "anonymous" or "use-credentials", given "'+e+'"')},n.width=function(e){return this.dimension("width",e)},n.height=function(e){return this.dimension("height",e)},n.dimension=function(e,t){var n=e+"_";if(void 0===t)return this[n]||0;if(""===t||"auto"===t)return this[n]=void 0,void this.updateStyleEl_();var i=parseFloat(t);isNaN(i)?Y.error('Improper value "'+t+'" supplied for for '+e):(this[n]=i,this.updateStyleEl_())},n.fluid=function(e){var t,n,i=this;if(void 0===e)return!!this.fluid_;this.fluid_=!!e,Pt(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),n=function(){i.on(["playerreset","resize"],i.boundUpdateStyleEl_)},Pt(t=this)?n():(t.eventedCallbacks||(t.eventedCallbacks=[]),t.eventedCallbacks.push(n))):this.removeClass("vjs-fluid"),this.updateStyleEl_()},n.fill=function(e){if(void 0===e)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},n.aspectRatio=function(e){if(void 0===e)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()},n.updateStyleEl_=function(){if(!0!==x.default.VIDEOJS_NO_DYNAMIC_STYLE){var e,t,n,i=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),r=i[1]/i[0];e=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/r:this.videoWidth()||300,t=void 0!==this.height_?this.height_:e*r,n=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(n),dt(this.styleEl_,"\n      ."+n+" {\n        width: "+e+"px;\n        height: "+t+"px;\n      }\n\n      ."+n+".vjs-fluid:not(.vjs-audio-only-mode) {\n        padding-top: "+100*r+"%;\n      }\n    ")}else{var o="number"==typeof this.width_?this.width_:this.options_.width,a="number"==typeof this.height_?this.height_:this.options_.height,s=this.tech_&&this.tech_.el();s&&(o>=0&&(s.width=o),a>=0&&(s.height=a))}},n.loadTech_=function(e,t){var n=this;this.tech_&&this.unloadTech_();var i=qt(e),r=e.charAt(0).toLowerCase()+e.slice(1);"Html5"!==i&&this.tag&&(jn.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=i,this.isReady_=!1;var o=this.autoplay();("string"==typeof this.autoplay()||!0===this.autoplay()&&this.options_.normalizeAutoplay)&&(o=!1);var a={source:t,autoplay:o,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+r+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};Fn.names.forEach((function(e){var t=Fn[e];a[t.getterName]=n[t.privateName]})),ee(a,this.options_[i]),ee(a,this.options_[r]),ee(a,this.options_[e.toLowerCase()]),this.tag&&(a.tag=this.tag),t&&t.src===this.cache_.src&&this.cache_.currentTime>0&&(a.startTime=this.cache_.currentTime);var s=jn.getTech(e);if(!s)throw new Error("No Tech named '"+i+"' exists! '"+i+"' should be registered using videojs.registerTech()'");this.tech_=new s(a),this.tech_.ready(kt(this,this.handleTechReady_),!0),un(this.textTracksJson_||[],this.tech_),Mr.forEach((function(e){n.on(n.tech_,e,(function(t){return n["handleTech"+qt(e)+"_"](t)}))})),Object.keys(Fr).forEach((function(e){n.on(n.tech_,e,(function(t){0===n.tech_.playbackRate()&&n.tech_.seeking()?n.queuedCallbacks_.push({callback:n["handleTech"+Fr[e]+"_"].bind(n),event:t}):n["handleTech"+Fr[e]+"_"](t)}))})),this.on(this.tech_,"loadstart",(function(e){return n.handleTechLoadStart_(e)})),this.on(this.tech_,"sourceset",(function(e){return n.handleTechSourceset_(e)})),this.on(this.tech_,"waiting",(function(e){return n.handleTechWaiting_(e)})),this.on(this.tech_,"ended",(function(e){return n.handleTechEnded_(e)})),this.on(this.tech_,"seeking",(function(e){return n.handleTechSeeking_(e)})),this.on(this.tech_,"play",(function(e){return n.handleTechPlay_(e)})),this.on(this.tech_,"firstplay",(function(e){return n.handleTechFirstPlay_(e)})),this.on(this.tech_,"pause",(function(e){return n.handleTechPause_(e)})),this.on(this.tech_,"durationchange",(function(e){return n.handleTechDurationChange_(e)})),this.on(this.tech_,"fullscreenchange",(function(e,t){return n.handleTechFullscreenChange_(e,t)})),this.on(this.tech_,"fullscreenerror",(function(e,t){return n.handleTechFullscreenError_(e,t)})),this.on(this.tech_,"enterpictureinpicture",(function(e){return n.handleTechEnterPictureInPicture_(e)})),this.on(this.tech_,"leavepictureinpicture",(function(e){return n.handleTechLeavePictureInPicture_(e)})),this.on(this.tech_,"error",(function(e){return n.handleTechError_(e)})),this.on(this.tech_,"posterchange",(function(e){return n.handleTechPosterChange_(e)})),this.on(this.tech_,"textdata",(function(e){return n.handleTechTextData_(e)})),this.on(this.tech_,"ratechange",(function(e){return n.handleTechRateChange_(e)})),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===i&&this.tag||Re(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},n.unloadTech_=function(){var e=this;Fn.names.forEach((function(t){var n=Fn[t];e[n.privateName]=e[n.getterName]()})),this.textTracksJson_=sn(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},n.tech=function(e){return void 0===e&&Y.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"),this.tech_},n.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)},n.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)},n.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},n.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(!0===this.autoplay()&&this.options_.normalizeAutoplay?"play":this.autoplay())},n.manualAutoplay_=function(e){var t=this;if(this.tech_&&"string"==typeof e){var n,i=function(){var e=t.muted();t.muted(!0);var n=function(){t.muted(e)};t.playTerminatedQueue_.push(n);var i=t.play();if(rn(i))return i.catch((function(e){throw n(),new Error("Rejection at manualAutoplay. Restoring muted value. "+(e||""))}))};if("any"!==e||this.muted()?n="muted"!==e||this.muted()?this.play():i():rn(n=this.play())&&(n=n.catch(i)),rn(n))return n.then((function(){t.trigger({type:"autoplay-success",autoplay:e})})).catch((function(){t.trigger({type:"autoplay-failure",autoplay:e})}))}},n.updateSourceCaches_=function(e){void 0===e&&(e="");var t=e,n="";"string"!=typeof t&&(t=e.src,n=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],t&&!n&&(n=function(e,t){if(!t)return"";if(e.cache_.source.src===t&&e.cache_.source.type)return e.cache_.source.type;var n=e.cache_.sources.filter((function(e){return e.src===t}));if(n.length)return n[0].type;for(var i=e.$$("source"),r=0;r<i.length;r++){var o=i[r];if(o.type&&o.src&&o.src===t)return o.type}return Jn(t)}(this,t)),this.cache_.source=Vt({},e,{src:t,type:n});for(var i=this.cache_.sources.filter((function(e){return e.src&&e.src===t})),r=[],o=this.$$("source"),a=[],s=0;s<o.length;s++){var u=Ue(o[s]);r.push(u),u.src&&u.src===t&&a.push(u.src)}a.length&&!i.length?this.cache_.sources=r:i.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=t},n.handleTechSourceset_=function(e){var t=this;if(!this.changingSrc_){var n=function(e){return t.updateSourceCaches_(e)},i=this.currentSource().src,r=e.src;i&&!/^blob:/.test(i)&&/^blob:/.test(r)&&(!this.lastSource_||this.lastSource_.tech!==r&&this.lastSource_.player!==i)&&(n=function(){}),n(r),e.src||this.tech_.any(["sourceset","loadstart"],(function(e){if("sourceset"!==e.type){var n=t.techGet("currentSrc");t.lastSource_.tech=n,t.updateSourceCaches_(n)}}))}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})},n.hasStarted=function(e){if(void 0===e)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},n.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},n.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach((function(e){return e.callback(e.event)})),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},n.handleTechWaiting_=function(){var e=this;this.addClass("vjs-waiting"),this.trigger("waiting");var t=this.currentTime();this.on("timeupdate",(function n(){t!==e.currentTime()&&(e.removeClass("vjs-waiting"),e.off("timeupdate",n))}))},n.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},n.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},n.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},n.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},n.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},n.handleTechFirstPlay_=function(){this.options_.starttime&&(Y.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},n.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},n.handleTechEnded_=function(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},n.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},n.handleTechClick_=function(e){this.controls_&&(void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.click&&!1===this.options_.userActions.click||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.click?this.options_.userActions.click.call(this,e):this.paused()?on(this.play()):this.pause()))},n.handleTechDoubleClick_=function(e){this.controls_&&(Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),(function(t){return t.contains(e.target)}))||void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.doubleClick&&!1===this.options_.userActions.doubleClick||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.doubleClick?this.options_.userActions.doubleClick.call(this,e):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()))},n.handleTechTap_=function(){this.userActive(!this.userActive())},n.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},n.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},n.handleTechTouchEnd_=function(e){e.cancelable&&e.preventDefault()},n.handleStageClick_=function(){this.reportUserActivity()},n.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},n.documentFullscreenChange_=function(e){var t=e.target.player;if(!t||t===this){var n=this.el(),i=A.default[this.fsApi_.fullscreenElement]===n;!i&&n.matches?i=n.matches(":"+this.fsApi_.fullscreen):!i&&n.msMatchesSelector&&(i=n.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(i)}},n.handleTechFullscreenChange_=function(e,t){var n=this;t&&(t.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",(function(){n.removeClass("vjs-ios-native-fs")}))),this.isFullscreen(t.isFullscreen))},n.handleTechFullscreenError_=function(e,t){this.trigger("fullscreenerror",t)},n.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},n.handleTechEnterPictureInPicture_=function(e){this.isInPictureInPicture(!0)},n.handleTechLeavePictureInPicture_=function(e){this.isInPictureInPicture(!1)},n.handleTechError_=function(){var e=this.tech_.error();this.error(e)},n.handleTechTextData_=function(){var e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)},n.getCache=function(){return this.cache_},n.resetCache_=function(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}},n.techCall_=function(e,t){this.ready((function(){if(e in Vn)return function(e,t,n,i){return t[n](e.reduce(Wn(n),i))}(this.middleware_,this.tech_,e,t);if(e in zn)return Gn(this.middleware_,this.tech_,e,t);try{this.tech_&&this.tech_[e](t)}catch(e){throw Y(e),e}}),!0)},n.techGet_=function(e){if(this.tech_&&this.tech_.isReady_){if(e in qn)return function(e,t,n){return e.reduceRight(Wn(n),t[n]())}(this.middleware_,this.tech_,e);if(e in zn)return Gn(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(t){if(void 0===this.tech_[e])throw Y("Video.js: "+e+" method not defined for "+this.techName_+" playback technology.",t),t;if("TypeError"===t.name)throw Y("Video.js: "+e+" unavailable on "+this.techName_+" playback technology element.",t),this.tech_.isReady_=!1,t;throw Y(t),t}}},n.play=function(){var e=this,t=this.options_.Promise||x.default.Promise;return t?new t((function(t){e.play_(t)})):this.play_()},n.play_=function(e){var t=this;void 0===e&&(e=on),this.playCallbacks_.push(e);var n=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc()));if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!n)return this.waitToPlay_=function(e){t.play_()},this.one(["ready","loadstart"],this.waitToPlay_),void(n||!Te&&!Se||this.load());var i=this.techGet_("play");null===i?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(i)},n.runPlayTerminatedQueue_=function(){var e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach((function(e){e()}))},n.runPlayCallbacks_=function(e){var t=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],t.forEach((function(t){t(e)}))},n.pause=function(){this.techCall_("pause")},n.paused=function(){return!1!==this.techGet_("paused")},n.played=function(){return this.techGet_("played")||Zt(0,0)},n.scrubbing=function(e){if(void 0===e)return this.scrubbing_;this.scrubbing_=!!e,this.techCall_("setScrubbing",this.scrubbing_),e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},n.currentTime=function(e){return void 0!==e?(e<0&&(e=0),this.isReady_&&!this.changingSrc_&&this.tech_&&this.tech_.isReady_?(this.techCall_("setCurrentTime",e),void(this.cache_.initTime=0)):(this.cache_.initTime=e,this.off("canplay",this.boundApplyInitTime_),void this.one("canplay",this.boundApplyInitTime_))):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},n.applyInitTime_=function(){this.currentTime(this.cache_.initTime)},n.duration=function(e){if(void 0===e)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(e=parseFloat(e))<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(e)||this.trigger("durationchange"))},n.remainingTime=function(){return this.duration()-this.currentTime()},n.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},n.buffered=function(){var e=this.techGet_("buffered");return e&&e.length||(e=Zt(0,0)),e},n.bufferedPercent=function(){return en(this.buffered(),this.duration())},n.bufferedEnd=function(){var e=this.buffered(),t=this.duration(),n=e.end(e.length-1);return n>t&&(n=t),n},n.volume=function(e){var t;return void 0!==e?(t=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=t,this.techCall_("setVolume",t),void(t>0&&this.lastVolume_(t))):(t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t)},n.muted=function(e){if(void 0===e)return this.techGet_("muted")||!1;this.techCall_("setMuted",e)},n.defaultMuted=function(e){return void 0!==e?this.techCall_("setDefaultMuted",e):this.techGet_("defaultMuted")||!1},n.lastVolume_=function(e){if(void 0===e||0===e)return this.cache_.lastVolume;this.cache_.lastVolume=e},n.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},n.isFullscreen=function(e){if(void 0!==e){var t=this.isFullscreen_;return this.isFullscreen_=Boolean(e),this.isFullscreen_!==t&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),void this.toggleFullscreenClass_()}return this.isFullscreen_},n.requestFullscreen=function(e){var t=this.options_.Promise||x.default.Promise;if(t){var n=this;return new t((function(t,i){function r(){n.off("fullscreenerror",a),n.off("fullscreenchange",o)}function o(){r(),t()}function a(e,t){r(),i(t)}n.one("fullscreenchange",o),n.one("fullscreenerror",a);var s=n.requestFullscreenHelper_(e);s&&(s.then(r,r),s.then(t,i))}))}return this.requestFullscreenHelper_()},n.requestFullscreenHelper_=function(e){var t,n=this;if(this.fsApi_.prefixed||(t=this.options_.fullscreen&&this.options_.fullscreen.options||{},void 0!==e&&(t=e)),this.fsApi_.requestFullscreen){var i=this.el_[this.fsApi_.requestFullscreen](t);return i&&i.then((function(){return n.isFullscreen(!0)}),(function(){return n.isFullscreen(!1)})),i}this.tech_.supportsFullScreen()&&!0==!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()},n.exitFullscreen=function(){var e=this.options_.Promise||x.default.Promise;if(e){var t=this;return new e((function(e,n){function i(){t.off("fullscreenerror",o),t.off("fullscreenchange",r)}function r(){i(),e()}function o(e,t){i(),n(t)}t.one("fullscreenchange",r),t.one("fullscreenerror",o);var a=t.exitFullscreenHelper_();a&&(a.then(i,i),a.then(e,n))}))}return this.exitFullscreenHelper_()},n.exitFullscreenHelper_=function(){var e=this;if(this.fsApi_.requestFullscreen){var t=A.default[this.fsApi_.exitFullscreen]();return t&&on(t.then((function(){return e.isFullscreen(!1)}))),t}this.tech_.supportsFullScreen()&&!0==!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()},n.enterFullWindow=function(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=A.default.documentElement.style.overflow,bt(A.default,"keydown",this.boundFullWindowOnEscKey_),A.default.documentElement.style.overflow="hidden",Me(A.default.body,"vjs-full-window"),this.trigger("enterFullWindow")},n.fullWindowOnEscKey=function(e){I.default.isEventKey(e,"Esc")&&!0===this.isFullscreen()&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())},n.exitFullWindow=function(){this.isFullscreen(!1),this.isFullWindow=!1,wt(A.default,"keydown",this.boundFullWindowOnEscKey_),A.default.documentElement.style.overflow=this.docOrigOverflow,Fe(A.default.body,"vjs-full-window"),this.trigger("exitFullWindow")},n.disablePictureInPicture=function(e){if(void 0===e)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",e),this.options_.disablePictureInPicture=e,this.trigger("disablepictureinpicturechanged")},n.isInPictureInPicture=function(e){return void 0!==e?(this.isInPictureInPicture_=!!e,void this.togglePictureInPictureClass_()):!!this.isInPictureInPicture_},n.requestPictureInPicture=function(){if("pictureInPictureEnabled"in A.default&&!1===this.disablePictureInPicture())return this.techGet_("requestPictureInPicture")},n.exitPictureInPicture=function(){if("pictureInPictureEnabled"in A.default)return A.default.exitPictureInPicture()},n.handleKeyDown=function(e){var t=this.options_.userActions;if(t&&t.hotkeys){(function(e){var t=e.tagName.toLowerCase();if(e.isContentEditable)return!0;if("input"===t)return-1===["button","checkbox","hidden","radio","reset","submit"].indexOf(e.type);return-1!==["textarea"].indexOf(t)})(this.el_.ownerDocument.activeElement)||("function"==typeof t.hotkeys?t.hotkeys.call(this,e):this.handleHotkeys(e))}},n.handleHotkeys=function(e){var t=this.options_.userActions?this.options_.userActions.hotkeys:{},n=t.fullscreenKey,i=void 0===n?function(e){return I.default.isEventKey(e,"f")}:n,r=t.muteKey,o=void 0===r?function(e){return I.default.isEventKey(e,"m")}:r,a=t.playPauseKey,s=void 0===a?function(e){return I.default.isEventKey(e,"k")||I.default.isEventKey(e,"Space")}:a;if(i.call(this,e)){e.preventDefault(),e.stopPropagation();var u=Jt.getComponent("FullscreenToggle");!1!==A.default[this.fsApi_.fullscreenEnabled]&&u.prototype.handleClick.call(this,e)}else if(o.call(this,e)){e.preventDefault(),e.stopPropagation(),Jt.getComponent("MuteToggle").prototype.handleClick.call(this,e)}else if(s.call(this,e)){e.preventDefault(),e.stopPropagation(),Jt.getComponent("PlayToggle").prototype.handleClick.call(this,e)}},n.canPlayType=function(e){for(var t,n=0,i=this.options_.techOrder;n<i.length;n++){var r=i[n],o=jn.getTech(r);if(o||(o=Jt.getComponent(r)),o){if(o.isSupported()&&(t=o.canPlayType(e)))return t}else Y.error('The "'+r+'" tech is undefined. Skipped browser support check for that tech.')}return""},n.selectSource=function(e){var t,n=this,i=this.options_.techOrder.map((function(e){return[e,jn.getTech(e)]})).filter((function(e){var t=e[0],n=e[1];return n?n.isSupported():(Y.error('The "'+t+'" tech is undefined. Skipped browser support check for that tech.'),!1)})),r=function(e,t,n){var i;return e.some((function(e){return t.some((function(t){if(i=n(e,t))return!0}))})),i},o=function(e,t){var i=e[0];if(e[1].canPlaySource(t,n.options_[i.toLowerCase()]))return{source:t,tech:i}};return(this.options_.sourceOrder?r(e,i,(t=o,function(e,n){return t(n,e)})):r(i,e,o))||!1},n.handleSrc_=function(e,t){var n=this;if(void 0===e)return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();var i=Xn(e);if(i.length){if(this.changingSrc_=!0,t||(this.cache_.sources=i),this.updateSourceCaches_(i[0]),$n(this,i[0],(function(e,r){var o,a;if(n.middleware_=r,t||(n.cache_.sources=i),n.updateSourceCaches_(e),n.src_(e))return i.length>1?n.handleSrc_(i.slice(1)):(n.changingSrc_=!1,n.setTimeout((function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})}),0),void n.triggerReady());o=r,a=n.tech_,o.forEach((function(e){return e.setTech&&e.setTech(a)}))})),this.options_.retryOnError&&i.length>1){var r=function(){n.error(null),n.handleSrc_(i.slice(1),!0)},o=function(){n.off("error",r)};this.one("error",r),this.one("playing",o),this.resetRetryOnError_=function(){n.off("error",r),n.off("playing",o)}}}else this.setTimeout((function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})}),0)},n.src=function(e){return this.handleSrc_(e,!1)},n.src_=function(e){var t,n,i=this,r=this.selectSource([e]);return!r||(t=r.tech,n=this.techName_,qt(t)!==qt(n)?(this.changingSrc_=!0,this.loadTech_(r.tech,r.source),this.tech_.ready((function(){i.changingSrc_=!1})),!1):(this.ready((function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1}),!0),!1))},n.load=function(){this.techCall_("load")},n.reset=function(){var e=this,t=this.options_.Promise||x.default.Promise;this.paused()||!t?this.doReset_():on(this.play().then((function(){return e.doReset_()})))},n.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),Pt(this)&&this.trigger("playerreset")},n.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},n.resetProgressBar_=function(){this.currentTime(0);var e=this.controlBar,t=e.durationDisplay,n=e.remainingTimeDisplay;t&&t.updateContent(),n&&n.updateContent()},n.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},n.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},n.currentSources=function(){var e=this.currentSource(),t=[];return 0!==Object.keys(e).length&&t.push(e),this.cache_.sources||t},n.currentSource=function(){return this.cache_.source||{}},n.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},n.currentType=function(){return this.currentSource()&&this.currentSource().type||""},n.preload=function(e){return void 0!==e?(this.techCall_("setPreload",e),void(this.options_.preload=e)):this.techGet_("preload")},n.autoplay=function(e){if(void 0===e)return this.options_.autoplay||!1;var t;"string"==typeof e&&/(any|play|muted)/.test(e)||!0===e&&this.options_.normalizeAutoplay?(this.options_.autoplay=e,this.manualAutoplay_("string"==typeof e?e:"play"),t=!1):this.options_.autoplay=!!e,t=void 0===t?this.options_.autoplay:t,this.tech_&&this.techCall_("setAutoplay",t)},n.playsinline=function(e){return void 0!==e?(this.techCall_("setPlaysinline",e),this.options_.playsinline=e,this):this.techGet_("playsinline")},n.loop=function(e){return void 0!==e?(this.techCall_("setLoop",e),void(this.options_.loop=e)):this.techGet_("loop")},n.poster=function(e){if(void 0===e)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))},n.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},n.controls=function(e){if(void 0===e)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},n.usingNativeControls=function(e){if(void 0===e)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},n.error=function(e){var t=this;if(void 0===e)return this.error_||null;if(H("beforeerror").forEach((function(n){var i=n(t,e);te(i)&&!Array.isArray(i)||"string"==typeof i||"number"==typeof i||null===i?e=i:t.log.error("please return a value that MediaError expects in beforeerror hooks")})),this.options_.suppressNotSupportedError&&e&&4===e.code){var n=function(){this.error(e)};return this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],n),void this.one("loadstart",(function(){this.off(["click","touchstart"],n)}))}if(null===e)return this.error_=e,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close());this.error_=new tn(e),this.addClass("vjs-error"),Y.error("(CODE:"+this.error_.code+" "+tn.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"),H("error").forEach((function(e){return e(t,t.error_)}))},n.reportUserActivity=function(e){this.userActivity_=!0},n.userActive=function(e){if(void 0===e)return this.userActive_;if((e=!!e)!==this.userActive_){if(this.userActive_=e,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",(function(e){e.stopPropagation(),e.preventDefault()})),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},n.listenForUserActivity_=function(){var e,t,n,i=kt(this,this.reportUserActivity),r=function(t){i(),this.clearInterval(e)};this.on("mousedown",(function(){i(),this.clearInterval(e),e=this.setInterval(i,250)})),this.on("mousemove",(function(e){e.screenX===t&&e.screenY===n||(t=e.screenX,n=e.screenY,i())})),this.on("mouseup",r),this.on("mouseleave",r);var o,a=this.getChild("controlBar");!a||Se||ce||(a.on("mouseenter",(function(e){0!==this.player().options_.inactivityTimeout&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0})),a.on("mouseleave",(function(e){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout}))),this.on("keydown",i),this.on("keyup",i),this.setInterval((function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(o);var e=this.options_.inactivityTimeout;e<=0||(o=this.setTimeout((function(){this.userActivity_||this.userActive(!1)}),e))}}),250)},n.playbackRate=function(e){if(void 0===e)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",e)},n.defaultPlaybackRate=function(e){return void 0!==e?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},n.isAudio=function(e){if(void 0===e)return!!this.isAudio_;this.isAudio_=!!e},n.enableAudioOnlyUI_=function(){var e=this;this.addClass("vjs-audio-only-mode");var t=this.children(),n=this.getChild("ControlBar"),i=n&&n.currentHeight();t.forEach((function(t){t!==n&&t.el_&&!t.hasClass("vjs-hidden")&&(t.hide(),e.audioOnlyCache_.hiddenChildren.push(t))})),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.height(i),this.trigger("audioonlymodechange")},n.disableAudioOnlyUI_=function(){this.removeClass("vjs-audio-only-mode"),this.audioOnlyCache_.hiddenChildren.forEach((function(e){return e.show()})),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")},n.audioOnlyMode=function(e){var t=this;if("boolean"!=typeof e||e===this.audioOnlyMode_)return this.audioOnlyMode_;this.audioOnlyMode_=e;var n=this.options_.Promise||x.default.Promise;if(n){if(e){var i=[];return this.isInPictureInPicture()&&i.push(this.exitPictureInPicture()),this.isFullscreen()&&i.push(this.exitFullscreen()),this.audioPosterMode()&&i.push(this.audioPosterMode(!1)),n.all(i).then((function(){return t.enableAudioOnlyUI_()}))}return n.resolve().then((function(){return t.disableAudioOnlyUI_()}))}e?(this.isInPictureInPicture()&&this.exitPictureInPicture(),this.isFullscreen()&&this.exitFullscreen(),this.enableAudioOnlyUI_()):this.disableAudioOnlyUI_()},n.enablePosterModeUI_=function(){(this.tech_&&this.tech_).hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")},n.disablePosterModeUI_=function(){(this.tech_&&this.tech_).show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")},n.audioPosterMode=function(e){var t=this;if("boolean"!=typeof e||e===this.audioPosterMode_)return this.audioPosterMode_;this.audioPosterMode_=e;var n=this.options_.Promise||x.default.Promise;return n?e?this.audioOnlyMode()?this.audioOnlyMode(!1).then((function(){t.enablePosterModeUI_()})):n.resolve().then((function(){t.enablePosterModeUI_()})):n.resolve().then((function(){t.disablePosterModeUI_()})):e?(this.audioOnlyMode()&&this.audioOnlyMode(!1),void this.enablePosterModeUI_()):void this.disablePosterModeUI_()},n.addTextTrack=function(e,t,n){if(this.tech_)return this.tech_.addTextTrack(e,t,n)},n.addRemoteTextTrack=function(e,t){if(this.tech_)return this.tech_.addRemoteTextTrack(e,t)},n.removeRemoteTextTrack=function(e){void 0===e&&(e={});var t=e.track;if(t||(t=e),this.tech_)return this.tech_.removeRemoteTextTrack(t)},n.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},n.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},n.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},n.language=function(e){if(void 0===e)return this.language_;this.language_!==String(e).toLowerCase()&&(this.language_=String(e).toLowerCase(),Pt(this)&&this.trigger("languagechange"))},n.languages=function(){return Vt(t.prototype.options_.languages,this.languages_)},n.toJSON=function(){var e=Vt(this.options_),t=e.tracks;e.tracks=[];for(var n=0;n<t.length;n++){var i=t[n];(i=Vt(i)).player=void 0,e.tracks[n]=i}return e},n.createModal=function(e,t){var n=this;(t=t||{}).content=e||"";var i=new ln(this,t);return this.addChild(i),i.on("dispose",(function(){n.removeChild(i)})),i.open(),i},n.updateCurrentBreakpoint_=function(){if(this.responsive())for(var e=this.currentBreakpoint(),t=this.currentWidth(),n=0;n<jr.length;n++){var i=jr[n];if(t<=this.breakpoints_[i]){if(e===i)return;e&&this.removeClass(Br[e]),this.addClass(Br[i]),this.breakpoint_=i;break}}},n.removeCurrentBreakpoint_=function(){var e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)},n.breakpoints=function(e){return void 0===e||(this.breakpoint_="",this.breakpoints_=ee({},Ur,e),this.updateCurrentBreakpoint_()),ee(this.breakpoints_)},n.responsive=function(e){return void 0===e?this.responsive_:(e=Boolean(e))!==this.responsive_?(this.responsive_=e,e?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e):void 0},n.currentBreakpoint=function(){return this.breakpoint_},n.currentBreakpointClass=function(){return Br[this.breakpoint_]||""},n.loadMedia=function(e,t){var n=this;if(e&&"object"==typeof e){this.reset(),this.cache_.media=Vt(e);var i=this.cache_.media,r=i.artwork,o=i.poster,a=i.src,s=i.textTracks;!r&&o&&(this.cache_.media.artwork=[{src:o,type:Jn(o)}]),a&&this.src(a),o&&this.poster(o),Array.isArray(s)&&s.forEach((function(e){return n.addRemoteTextTrack(e,!1)})),this.ready(t)}},n.getMedia=function(){if(!this.cache_.media){var e=this.poster(),t={src:this.currentSources(),textTracks:Array.prototype.map.call(this.remoteTextTracks(),(function(e){return{kind:e.kind,label:e.label,language:e.language,src:e.src}}))};return e&&(t.poster=e,t.artwork=[{src:t.poster,type:Jn(t.poster)}]),t}return Vt(this.cache_.media)},t.getTagSettings=function(e){var t={sources:[],tracks:[]},n=Ue(e),i=n["data-setup"];if(Le(e,"vjs-fill")&&(n.fill=!0),Le(e,"vjs-fluid")&&(n.fluid=!0),null!==i){var r=P.default(i||"{}"),o=r[0],a=r[1];o&&Y.error(o),ee(n,a)}if(ee(t,n),e.hasChildNodes())for(var s=e.childNodes,u=0,l=s.length;u<l;u++){var c=s[u],d=c.nodeName.toLowerCase();"source"===d?t.sources.push(Ue(c)):"track"===d&&t.tracks.push(Ue(c))}return t},n.flexNotSupported_=function(){var e=A.default.createElement("i");return!("flexBasis"in e.style||"webkitFlexBasis"in e.style||"mozFlexBasis"in e.style||"msFlexBasis"in e.style||"msFlexOrder"in e.style)},n.debug=function(e){if(void 0===e)return this.debugEnabled_;e?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)},n.playbackRates=function(e){if(void 0===e)return this.cache_.playbackRates;Array.isArray(e)&&e.every((function(e){return"number"==typeof e}))&&(this.cache_.playbackRates=e,this.trigger("playbackrateschange"))},t}(Jt);Fn.names.forEach((function(e){var t=Fn[e];Hr.prototype[t.getterName]=function(){return this.tech_?this.tech_[t.getterName]():(this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName])}})),Hr.prototype.crossorigin=Hr.prototype.crossOrigin,Hr.players={};var $r=x.default.navigator;Hr.prototype.options_={techOrder:jn.defaultTechOrder_,html5:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:$r&&($r.languages&&$r.languages[0]||$r.userLanguage||$r.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1},["ended","seeking","seekable","networkState","readyState"].forEach((function(e){Hr.prototype[e]=function(){return this.techGet_(e)}})),Mr.forEach((function(e){Hr.prototype["handleTech"+qt(e)+"_"]=function(){return this.trigger(e)}})),Jt.registerComponent("Player",Hr);var Gr="plugin",qr={},Vr=function(e){return qr.hasOwnProperty(e)},zr=function(e){return Vr(e)?qr[e]:void 0},Wr=function(e,t){e.activePlugins_=e.activePlugins_||{},e.activePlugins_[t]=!0},Kr=function(e,t,n){var i=(n?"before":"")+"pluginsetup";e.trigger(i,t),e.trigger(i+":"+t.name,t)},Yr=function(e,t){return t.prototype.name=e,function(){Kr(this,{name:e,plugin:t,instance:null},!0);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=L.default(t,[this].concat(i));return this[e]=function(){return o},Kr(this,o.getEventHash()),o}},Jr=function(){function e(t){if(this.constructor===e)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=t,this.log||(this.log=this.player.log.createLogger(this.name)),Ut(this),delete this.trigger,$t(this,this.constructor.defaultState),Wr(t,this.name),this.dispose=this.dispose.bind(this),t.on("dispose",this.dispose)}var t=e.prototype;return t.version=function(){return this.constructor.VERSION},t.getEventHash=function(e){return void 0===e&&(e={}),e.name=this.name,e.plugin=this.constructor,e.instance=this,e},t.trigger=function(e,t){return void 0===t&&(t={}),Et(this.eventBusEl_,e,this.getEventHash(t))},t.handleStateChanged=function(e){},t.dispose=function(){var e=this.name,t=this.player;this.trigger("dispose"),this.off(),t.off("dispose",this.dispose),t.activePlugins_[e]=!1,this.player=this.state=null,t[e]=Yr(e,qr[e])},e.isBasic=function(t){var n="string"==typeof t?zr(t):t;return"function"==typeof n&&!e.prototype.isPrototypeOf(n.prototype)},e.registerPlugin=function(t,n){if("string"!=typeof t)throw new Error('Illegal plugin name, "'+t+'", must be a string, was '+typeof t+".");if(Vr(t))Y.warn('A plugin named "'+t+'" already exists. You may want to avoid re-registering plugins!');else if(Hr.prototype.hasOwnProperty(t))throw new Error('Illegal plugin name, "'+t+'", cannot share a name with an existing player method!');if("function"!=typeof n)throw new Error('Illegal plugin for "'+t+'", must be a function, was '+typeof n+".");return qr[t]=n,t!==Gr&&(e.isBasic(n)?Hr.prototype[t]=function(e,t){var n=function(){Kr(this,{name:e,plugin:t,instance:null},!0);var n=t.apply(this,arguments);return Wr(this,e),Kr(this,{name:e,plugin:t,instance:n}),n};return Object.keys(t).forEach((function(e){n[e]=t[e]})),n}(t,n):Hr.prototype[t]=Yr(t,n)),n},e.deregisterPlugin=function(e){if(e===Gr)throw new Error("Cannot de-register base plugin.");Vr(e)&&(delete qr[e],delete Hr.prototype[e])},e.getPlugins=function(e){var t;return void 0===e&&(e=Object.keys(qr)),e.forEach((function(e){var n=zr(e);n&&((t=t||{})[e]=n)})),t},e.getPluginVersion=function(e){var t=zr(e);return t&&t.VERSION||""},e}();Jr.getPlugin=zr,Jr.BASE_PLUGIN_NAME=Gr,Jr.registerPlugin(Gr,Jr),Hr.prototype.usingPlugin=function(e){return!!this.activePlugins_&&!0===this.activePlugins_[e]},Hr.prototype.hasPlugin=function(e){return!!Vr(e)};var Xr=function(e){return 0===e.indexOf("#")?e.slice(1):e};function Qr(e,t,n){var i=Qr.getPlayer(e);if(i)return t&&Y.warn('Player "'+e+'" is already initialised. Options will not be applied.'),n&&i.ready(n),i;var r="string"==typeof e?nt("#"+Xr(e)):e;if(!Ie(r))throw new TypeError("The element or ID supplied is not valid. (videojs)");r.ownerDocument.defaultView&&r.ownerDocument.body.contains(r)||Y.warn("The element supplied is not included in the DOM"),t=t||{},H("beforesetup").forEach((function(e){var n=e(r,Vt(t));te(n)&&!Array.isArray(n)?t=Vt(t,n):Y.error("please return an object in beforesetup hooks")}));var o=Jt.getComponent("Player");return i=new o(r,t,n),H("setup").forEach((function(e){return e(i)})),i}if(Qr.hooks_=U,Qr.hooks=H,Qr.hook=function(e,t){H(e,t)},Qr.hookOnce=function(e,t){H(e,[].concat(t).map((function(t){return function n(){return $(e,n),t.apply(void 0,arguments)}})))},Qr.removeHook=$,!0!==x.default.VIDEOJS_NO_DYNAMIC_STYLE&&ke()){var Zr=nt(".vjs-styles-defaults");if(!Zr){Zr=ct("vjs-styles-defaults");var eo=nt("head");eo&&eo.insertBefore(Zr,eo.firstChild),dt(Zr,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid:not(.vjs-audio-only-mode) {\n        padding-top: 56.25%\n      }\n    ")}}st(1,Qr),Qr.VERSION=B,Qr.options=Hr.prototype.options_,Qr.getPlayers=function(){return Hr.players},Qr.getPlayer=function(e){var t,n=Hr.players;if("string"==typeof e){var i=Xr(e),r=n[i];if(r)return r;t=nt("#"+i)}else t=e;if(Ie(t)){var o=t,a=o.player,s=o.playerId;if(a||n[s])return a||n[s]}},Qr.getAllPlayers=function(){return Object.keys(Hr.players).map((function(e){return Hr.players[e]})).filter(Boolean)},Qr.players=Hr.players,Qr.getComponent=Jt.getComponent,Qr.registerComponent=function(e,t){jn.isTech(t)&&Y.warn("The "+e+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),Jt.registerComponent.call(Jt,e,t)},Qr.getTech=jn.getTech,Qr.registerTech=jn.registerTech,Qr.use=function(e,t){Bn[e]=Bn[e]||[],Bn[e].push(t)},Object.defineProperty(Qr,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(Qr.middleware,"TERMINATOR",{value:Hn,writeable:!1,enumerable:!0}),Qr.browser=Ce,Qr.TOUCH_ENABLED=be,Qr.extend=function(e,t){void 0===t&&(t={});var n=function(){e.apply(this,arguments)},i={};for(var r in"object"==typeof t?(t.constructor!==Object.prototype.constructor&&(n=t.constructor),i=t):"function"==typeof t&&(n=t),M.default(n,e),e&&(n.super_=e),i)i.hasOwnProperty(r)&&(n.prototype[r]=i[r]);return n},Qr.mergeOptions=Vt,Qr.bind=kt,Qr.registerPlugin=Jr.registerPlugin,Qr.deregisterPlugin=Jr.deregisterPlugin,Qr.plugin=function(e,t){return Y.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Jr.registerPlugin(e,t)},Qr.getPlugins=Jr.getPlugins,Qr.getPlugin=Jr.getPlugin,Qr.getPluginVersion=Jr.getPluginVersion,Qr.addLanguage=function(e,t){var n;return e=(""+e).toLowerCase(),Qr.options.languages=Vt(Qr.options.languages,((n={})[e]=t,n)),Qr.options.languages[e]},Qr.log=Y,Qr.createLogger=J,Qr.createTimeRange=Qr.createTimeRanges=Zt,Qr.formatTime=hi,Qr.setFormatTime=function(e){pi=e},Qr.resetFormatTime=function(){pi=di},Qr.parseUrl=Tn,Qr.isCrossOrigin=An,Qr.EventTarget=Dt,Qr.on=bt,Qr.one=St,Qr.off=wt,Qr.trigger=Et,Qr.xhr=N.default,Qr.TextTrack=On,Qr.AudioTrack=Pn,Qr.VideoTrack=Nn,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach((function(e){Qr[e]=function(){return Y.warn("videojs."+e+"() is deprecated; use videojs.dom."+e+"() instead"),rt[e].apply(null,arguments)}})),Qr.computedStyle=ie,Qr.dom=rt,Qr.url=kn,Qr.defineLazyProperty=Rr,Qr.addLanguage("en",{"Non-Fullscreen":"Exit Fullscreen"});
/*! @name @videojs/http-streaming @version 2.14.2 @license Apache-2.0 */
var to=F.default,no=function(e,t,n){return e&&n&&n.responseURL&&t!==n.responseURL?n.responseURL:t},io=function(e){return Qr.log.debug?Qr.log.debug.bind(Qr,"VHS:",e+" >"):function(){}},ro=1/30,oo=.1,ao=function(e,t){var n,i=[];if(e&&e.length)for(n=0;n<e.length;n++)t(e.start(n),e.end(n))&&i.push([e.start(n),e.end(n)]);return Qr.createTimeRanges(i)},so=function(e,t){return ao(e,(function(e,n){return e-oo<=t&&n+oo>=t}))},uo=function(e,t){return ao(e,(function(e){return e-ro>=t}))},lo=function(e){var t=[];if(!e||!e.length)return"";for(var n=0;n<e.length;n++)t.push(e.start(n)+" => "+e.end(n));return t.join(", ")},co=function(e){for(var t=[],n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t},po=function(e){if(e&&e.length&&e.end)return e.end(e.length-1)},ho=function(e,t){var n=0;if(!e||!e.length)return n;for(var i=0;i<e.length;i++){var r=e.start(i),o=e.end(i);t>o||(n+=t>r&&t<=o?o-t:o-r)}return n},fo=Qr.createTimeRange,mo=function(e,t){if(!t.preload)return t.duration;var n=0;return(t.parts||[]).forEach((function(e){n+=e.duration})),(t.preloadHints||[]).forEach((function(t){"PART"===t.type&&(n+=e.partTargetDuration)})),n},go=function(e){return(e.segments||[]).reduce((function(e,t,n){return t.parts?t.parts.forEach((function(i,r){e.push({duration:i.duration,segmentIndex:n,partIndex:r,part:i,segment:t})})):e.push({duration:t.duration,segmentIndex:n,partIndex:null,segment:t,part:null}),e}),[])},yo=function(e){var t=e.segments&&e.segments.length&&e.segments[e.segments.length-1];return t&&t.parts||[]},vo=function(e){var t=e.preloadSegment;if(t){var n=t.parts,i=(t.preloadHints||[]).reduce((function(e,t){return e+("PART"===t.type?1:0)}),0);return i+=n&&n.length?n.length:0}},_o=function(e,t){if(t.endList)return 0;if(e&&e.suggestedPresentationDelay)return e.suggestedPresentationDelay;var n=yo(t).length>0;return n&&t.serverControl&&t.serverControl.partHoldBack?t.serverControl.partHoldBack:n&&t.partTargetDuration?3*t.partTargetDuration:t.serverControl&&t.serverControl.holdBack?t.serverControl.holdBack:t.targetDuration?3*t.targetDuration:0},bo=function(e,t,n){if(void 0===t&&(t=e.mediaSequence+e.segments.length),t<e.mediaSequence)return 0;var i=function(e,t){var n=0,i=t-e.mediaSequence,r=e.segments[i];if(r){if(void 0!==r.start)return{result:r.start,precise:!0};if(void 0!==r.end)return{result:r.end-r.duration,precise:!0}}for(;i--;){if(void 0!==(r=e.segments[i]).end)return{result:n+r.end,precise:!0};if(n+=mo(e,r),void 0!==r.start)return{result:n+r.start,precise:!0}}return{result:n,precise:!1}}(e,t);if(i.precise)return i.result;var r=function(e,t){for(var n,i=0,r=t-e.mediaSequence;r<e.segments.length;r++){if(void 0!==(n=e.segments[r]).start)return{result:n.start-i,precise:!0};if(i+=mo(e,n),void 0!==n.end)return{result:n.end-i,precise:!0}}return{result:-1,precise:!1}}(e,t);return r.precise?r.result:i.result+n},wo=function(e,t,n){if(!e)return 0;if("number"!=typeof n&&(n=0),void 0===t){if(e.totalDuration)return e.totalDuration;if(!e.endList)return x.default.Infinity}return bo(e,t,n)},Eo=function(e){var t=e.defaultDuration,n=e.durationList,i=e.startIndex,r=e.endIndex,o=0;if(i>r){var a=[r,i];i=a[0],r=a[1]}if(i<0){for(var s=i;s<Math.min(0,r);s++)o+=t;i=0}for(var u=i;u<r;u++)o+=n[u].duration;return o},So=function(e,t,n,i){if(!e||!e.segments)return null;if(e.endList)return wo(e);if(null===t)return null;t=t||0;var r=bo(e,e.mediaSequence+e.segments.length,t);return n&&(r-=i="number"==typeof i?i:_o(null,e)),Math.max(0,r)},To=function(e){return e.excludeUntil&&e.excludeUntil>Date.now()},Co=function(e){return e.excludeUntil&&e.excludeUntil===1/0},xo=function(e){var t=To(e);return!e.disabled&&!t},Ao=function(e,t){return t.attributes&&t.attributes[e]},ko=function(e,t){if(1===e.playlists.length)return!0;var n=t.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===e.playlists.filter((function(e){return!!xo(e)&&(e.attributes.BANDWIDTH||0)<n})).length},Io=function(e,t){return!(!e&&!t||!e&&t||e&&!t)&&(e===t||(!(!e.id||!t.id||e.id!==t.id)||(!(!e.resolvedUri||!t.resolvedUri||e.resolvedUri!==t.resolvedUri)||!(!e.uri||!t.uri||e.uri!==t.uri))))},Do=function(e,t){var n=e&&e.mediaGroups&&e.mediaGroups.AUDIO||{},i=!1;for(var r in n){for(var o in n[r])if(i=t(n[r][o]))break;if(i)break}return!!i},Oo=function(e){if(!e||!e.playlists||!e.playlists.length)return Do(e,(function(e){return e.playlists&&e.playlists.length||e.uri}));for(var t=function(t){var n=e.playlists[t],i=n.attributes&&n.attributes.CODECS;return i&&i.split(",").every((function(e){return g.isAudioCodec(e)}))||Do(e,(function(e){return Io(n,e)}))?"continue":{v:!1}},n=0;n<e.playlists.length;n++){var i=t(n);if("continue"!==i&&"object"==typeof i)return i.v}return!0},Po={liveEdgeDelay:_o,duration:wo,seekable:function(e,t,n){var i=t||0,r=So(e,t,!0,n);return null===r?fo():fo(i,r)},getMediaInfoForTime:function(e){for(var t=e.playlist,n=e.currentTime,i=e.startingSegmentIndex,r=e.startingPartIndex,o=e.startTime,a=e.experimentalExactManifestTimings,s=n-o,u=go(t),l=0,c=0;c<u.length;c++){var d=u[c];if(i===d.segmentIndex&&("number"!=typeof r||"number"!=typeof d.partIndex||r===d.partIndex)){l=c;break}}if(s<0){if(l>0)for(var p=l-1;p>=0;p--){var h=u[p];if(s+=h.duration,a){if(s<0)continue}else if(s+ro<=0)continue;return{partIndex:h.partIndex,segmentIndex:h.segmentIndex,startTime:o-Eo({defaultDuration:t.targetDuration,durationList:u,startIndex:l,endIndex:p})}}return{partIndex:u[0]&&u[0].partIndex||null,segmentIndex:u[0]&&u[0].segmentIndex||0,startTime:n}}if(l<0){for(var f=l;f<0;f++)if((s-=t.targetDuration)<0)return{partIndex:u[0]&&u[0].partIndex||null,segmentIndex:u[0]&&u[0].segmentIndex||0,startTime:n};l=0}for(var m=l;m<u.length;m++){var g=u[m];if(s-=g.duration,a){if(s>0)continue}else if(s-ro>=0)continue;return{partIndex:g.partIndex,segmentIndex:g.segmentIndex,startTime:o+Eo({defaultDuration:t.targetDuration,durationList:u,startIndex:l,endIndex:m})}}return{segmentIndex:u[u.length-1].segmentIndex,partIndex:u[u.length-1].partIndex,startTime:n}},isEnabled:xo,isDisabled:function(e){return e.disabled},isBlacklisted:To,isIncompatible:Co,playlistEnd:So,isAes:function(e){for(var t=0;t<e.segments.length;t++)if(e.segments[t].key)return!0;return!1},hasAttribute:Ao,estimateSegmentRequestTime:function(e,t,n,i){return void 0===i&&(i=0),Ao("BANDWIDTH",n)?(e*n.attributes.BANDWIDTH-8*i)/t:NaN},isLowestEnabledRendition:ko,isAudioOnly:Oo,playlistMatch:Io,segmentDurationWithParts:mo},No=Qr.log,Ro=function(e,t){return e+"-"+t},Lo=function(e,t){e.mediaGroups&&["AUDIO","SUBTITLES"].forEach((function(n){if(e.mediaGroups[n])for(var i in e.mediaGroups[n])for(var r in e.mediaGroups[n][i]){var o=e.mediaGroups[n][i][r];t(o,n,i,r)}}))},Mo=function(e){var t=e.playlist,n=e.uri,i=e.id;t.id=i,t.playlistErrors_=0,n&&(t.uri=n),t.attributes=t.attributes||{}},Fo=function(e,t){e.uri=t;for(var n=0;n<e.playlists.length;n++)if(!e.playlists[n].uri){var i="placeholder-uri-"+n;e.playlists[n].uri=i}var r=Oo(e);Lo(e,(function(t,n,i,o){var a="placeholder-uri-"+n+"-"+i+"-"+o;if(!t.playlists||!t.playlists.length){if(r&&"AUDIO"===n&&!t.uri)for(var s=0;s<e.playlists.length;s++){var u=e.playlists[s];if(u.attributes&&u.attributes.AUDIO&&u.attributes.AUDIO===i)return}t.playlists=[k.default({},t)]}t.playlists.forEach((function(t,n){var i=Ro(n,a);t.uri?t.resolvedUri=t.resolvedUri||to(e.uri,t.uri):(t.uri=0===n?a:i,t.resolvedUri=t.uri),t.id=t.id||i,t.attributes=t.attributes||{},e.playlists[t.id]=t,e.playlists[t.uri]=t}))})),function(e){for(var t=e.playlists.length;t--;){var n=e.playlists[t];Mo({playlist:n,id:Ro(t,n.uri)}),n.resolvedUri=to(e.uri,n.uri),e.playlists[n.id]=n,e.playlists[n.uri]=n,n.attributes.BANDWIDTH||No.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}}(e),function(e){Lo(e,(function(t){t.uri&&(t.resolvedUri=to(e.uri,t.uri))}))}(e)},jo=Qr.mergeOptions,Bo=Qr.EventTarget,Uo=function(e,t){if(!e)return t;var n=jo(e,t);if(e.preloadHints&&!t.preloadHints&&delete n.preloadHints,e.parts&&!t.parts)delete n.parts;else if(e.parts&&t.parts)for(var i=0;i<t.parts.length;i++)e.parts&&e.parts[i]&&(n.parts[i]=jo(e.parts[i],t.parts[i]));return!e.skipped&&t.skipped&&(n.skipped=!1),e.preload&&!t.preload&&(n.preload=!1),n},Ho=function(e,t){!e.resolvedUri&&e.uri&&(e.resolvedUri=to(t,e.uri)),e.key&&!e.key.resolvedUri&&(e.key.resolvedUri=to(t,e.key.uri)),e.map&&!e.map.resolvedUri&&(e.map.resolvedUri=to(t,e.map.uri)),e.map&&e.map.key&&!e.map.key.resolvedUri&&(e.map.key.resolvedUri=to(t,e.map.key.uri)),e.parts&&e.parts.length&&e.parts.forEach((function(e){e.resolvedUri||(e.resolvedUri=to(t,e.uri))})),e.preloadHints&&e.preloadHints.length&&e.preloadHints.forEach((function(e){e.resolvedUri||(e.resolvedUri=to(t,e.uri))}))},$o=function(e){var t=e.segments||[],n=e.preloadSegment;if(n&&n.parts&&n.parts.length){if(n.preloadHints)for(var i=0;i<n.preloadHints.length;i++)if("MAP"===n.preloadHints[i].type)return t;n.duration=e.targetDuration,n.preload=!0,t.push(n)}return t},Go=function(e,t){return e===t||e.segments&&t.segments&&e.segments.length===t.segments.length&&e.endList===t.endList&&e.mediaSequence===t.mediaSequence&&e.preloadSegment===t.preloadSegment},qo=function(e,t,n){void 0===n&&(n=Go);var i=jo(e,{}),r=i.playlists[t.id];if(!r)return null;if(n(r,t))return null;t.segments=$o(t);var o=jo(r,t);if(o.preloadSegment&&!t.preloadSegment&&delete o.preloadSegment,r.segments){if(t.skip){t.segments=t.segments||[];for(var a=0;a<t.skip.skippedSegments;a++)t.segments.unshift({skipped:!0})}o.segments=function(e,t,n){var i=e.slice(),r=t.slice();n=n||0;for(var o,a=[],s=0;s<r.length;s++){var u=i[s+n],l=r[s];u?(o=u.map||o,a.push(Uo(u,l))):(o&&!l.map&&(l.map=o),a.push(l))}return a}(r.segments,t.segments,t.mediaSequence-r.mediaSequence)}o.segments.forEach((function(e){Ho(e,o.resolvedUri)}));for(var s=0;s<i.playlists.length;s++)i.playlists[s].id===t.id&&(i.playlists[s]=o);return i.playlists[t.id]=o,i.playlists[t.uri]=o,Lo(e,(function(e,n,i,r){if(e.playlists)for(var a=0;a<e.playlists.length;a++)t.id===e.playlists[a].id&&(e.playlists[a]=o)})),i},Vo=function(e,t){var n=e.segments||[],i=n[n.length-1],r=i&&i.parts&&i.parts[i.parts.length-1],o=r&&r.duration||i&&i.duration;return t&&o?1e3*o:500*(e.partTargetDuration||e.targetDuration||10)},zo=function(e){function t(t,n,i){var r;if(void 0===i&&(i={}),r=e.call(this)||this,!t)throw new Error("A non-empty playlist URL or object is required");r.logger_=io("PlaylistLoader");var o=i,a=o.withCredentials,s=void 0!==a&&a,u=o.handleManifestRedirects,l=void 0!==u&&u;r.src=t,r.vhs_=n,r.withCredentials=s,r.handleManifestRedirects=l;var c=n.options_;return r.customTagParsers=c&&c.customTagParsers||[],r.customTagMappers=c&&c.customTagMappers||[],r.experimentalLLHLS=c&&c.experimentalLLHLS||!1,Qr.browser.IE_VERSION&&(r.experimentalLLHLS=!1),r.state="HAVE_NOTHING",r.handleMediaupdatetimeout_=r.handleMediaupdatetimeout_.bind(D.default(r)),r.on("mediaupdatetimeout",r.handleMediaupdatetimeout_),r}O.default(t,e);var n=t.prototype;return n.handleMediaupdatetimeout_=function(){var e=this;if("HAVE_METADATA"===this.state){var t=this.media(),n=to(this.master.uri,t.uri);this.experimentalLLHLS&&(n=function(e,t){if(t.endList||!t.serverControl)return e;var n={};if(t.serverControl.canBlockReload){var i=t.preloadSegment,r=t.mediaSequence+t.segments.length;if(i){var o=i.parts||[],a=vo(t)-1;a>-1&&a!==o.length-1&&(n._HLS_part=a),(a>-1||o.length)&&r--}n._HLS_msn=r}if(t.serverControl&&t.serverControl.canSkipUntil&&(n._HLS_skip=t.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(n).length){var s=new x.default.URL(e);["_HLS_skip","_HLS_msn","_HLS_part"].forEach((function(e){n.hasOwnProperty(e)&&s.searchParams.set(e,n[e])})),e=s.toString()}return e}(n,t)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:n,withCredentials:this.withCredentials},(function(t,n){if(e.request)return t?e.playlistRequestError(e.request,e.media(),"HAVE_METADATA"):void e.haveMetadata({playlistString:e.request.responseText,url:e.media().uri,id:e.media().id})}))}},n.playlistRequestError=function(e,t,n){var i=t.uri,r=t.id;this.request=null,n&&(this.state=n),this.error={playlist:this.master.playlists[r],status:e.status,message:"HLS playlist request error at URL: "+i+".",responseText:e.responseText,code:e.status>=500?4:2},this.trigger("error")},n.parseManifest_=function(e){var t=this,n=e.url;return function(e){var t=e.onwarn,n=e.oninfo,i=e.manifestString,r=e.customTagParsers,o=void 0===r?[]:r,a=e.customTagMappers,s=void 0===a?[]:a,u=e.experimentalLLHLS,l=new m.Parser;t&&l.on("warn",t),n&&l.on("info",n),o.forEach((function(e){return l.addParser(e)})),s.forEach((function(e){return l.addTagMapper(e)})),l.push(i),l.end();var c=l.manifest;if(u||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach((function(e){c.hasOwnProperty(e)&&delete c[e]})),c.segments&&c.segments.forEach((function(e){["parts","preloadHints"].forEach((function(t){e.hasOwnProperty(t)&&delete e[t]}))}))),!c.targetDuration){var d=10;c.segments&&c.segments.length&&(d=c.segments.reduce((function(e,t){return Math.max(e,t.duration)}),0)),t&&t("manifest has no targetDuration defaulting to "+d),c.targetDuration=d}var p=yo(c);if(p.length&&!c.partTargetDuration){var h=p.reduce((function(e,t){return Math.max(e,t.duration)}),0);t&&(t("manifest has no partTargetDuration defaulting to "+h),No.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),c.partTargetDuration=h}return c}({onwarn:function(e){var i=e.message;return t.logger_("m3u8-parser warn for "+n+": "+i)},oninfo:function(e){var i=e.message;return t.logger_("m3u8-parser info for "+n+": "+i)},manifestString:e.manifestString,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,experimentalLLHLS:this.experimentalLLHLS})},n.haveMetadata=function(e){var t=e.playlistString,n=e.playlistObject,i=e.url,r=e.id;this.request=null,this.state="HAVE_METADATA";var o=n||this.parseManifest_({url:i,manifestString:t});o.lastRequest=Date.now(),Mo({playlist:o,uri:i,id:r});var a=qo(this.master,o);this.targetDuration=o.partTargetDuration||o.targetDuration,this.pendingMedia_=null,a?(this.master=a,this.media_=this.master.playlists[r]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(Vo(this.media(),!!a)),this.trigger("loadedplaylist")},n.dispose=function(){this.trigger("dispose"),this.stopRequest(),x.default.clearTimeout(this.mediaUpdateTimeout),x.default.clearTimeout(this.finalRenditionTimeout),this.off()},n.stopRequest=function(){if(this.request){var e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}},n.media=function(e,t){var n=this;if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);if("string"==typeof e){if(!this.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.master.playlists[e]}if(x.default.clearTimeout(this.finalRenditionTimeout),t){var i=(e.partTargetDuration||e.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=x.default.setTimeout(this.media.bind(this,e,!1),i)}else{var r=this.state,o=!this.media_||e.id!==this.media_.id,a=this.master.playlists[e.id];if(a&&a.endList||e.endList&&e.segments.length)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,void(o&&(this.trigger("mediachanging"),"HAVE_MASTER"===r?this.trigger("loadedmetadata"):this.trigger("mediachange")));if(this.updateMediaUpdateTimeout_(Vo(e,!0)),o){if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=e,this.request=this.vhs_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials},(function(t,i){if(n.request){if(e.lastRequest=Date.now(),e.resolvedUri=no(n.handleManifestRedirects,e.resolvedUri,i),t)return n.playlistRequestError(n.request,e,r);n.haveMetadata({playlistString:i.responseText,url:e.uri,id:e.id}),"HAVE_MASTER"===r?n.trigger("loadedmetadata"):n.trigger("mediachange")}}))}}},n.pause=function(){this.mediaUpdateTimeout&&(x.default.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")},n.load=function(e){var t=this;this.mediaUpdateTimeout&&(x.default.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);var n=this.media();if(e){var i=n?(n.partTargetDuration||n.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=x.default.setTimeout((function(){t.mediaUpdateTimeout=null,t.load()}),i)}else this.started?n&&!n.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()},n.updateMediaUpdateTimeout_=function(e){var t=this;this.mediaUpdateTimeout&&(x.default.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.media()&&!this.media().endList&&(this.mediaUpdateTimeout=x.default.setTimeout((function(){t.mediaUpdateTimeout=null,t.trigger("mediaupdatetimeout"),t.updateMediaUpdateTimeout_(e)}),e))},n.start=function(){var e=this;if(this.started=!0,"object"==typeof this.src)return this.src.uri||(this.src.uri=x.default.location.href),this.src.resolvedUri=this.src.uri,void setTimeout((function(){e.setupInitialPlaylist(e.src)}),0);this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},(function(t,n){if(e.request){if(e.request=null,t)return e.error={status:n.status,message:"HLS playlist request error at URL: "+e.src+".",responseText:n.responseText,code:2},"HAVE_NOTHING"===e.state&&(e.started=!1),e.trigger("error");e.src=no(e.handleManifestRedirects,e.src,n);var i=e.parseManifest_({manifestString:n.responseText,url:e.src});e.setupInitialPlaylist(i)}}))},n.srcUri=function(){return"string"==typeof this.src?this.src:this.src.uri},n.setupInitialPlaylist=function(e){if(this.state="HAVE_MASTER",e.playlists)return this.master=e,Fo(this.master,this.srcUri()),e.playlists.forEach((function(e){e.segments=$o(e),e.segments.forEach((function(t){Ho(t,e.resolvedUri)}))})),this.trigger("loadedplaylist"),void(this.request||this.media(this.master.playlists[0]));var t=this.srcUri()||x.default.location.href;this.master=function(e,t){var n=Ro(0,t),i={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:x.default.location.href,resolvedUri:x.default.location.href,playlists:[{uri:t,id:n,resolvedUri:t,attributes:{}}]};return i.playlists[n]=i.playlists[0],i.playlists[t]=i.playlists[0],i}(0,t),this.haveMetadata({playlistObject:e,url:t,id:this.master.playlists[0].id}),this.trigger("loadedmetadata")},t}(Bo),Wo=Qr.xhr,Ko=Qr.mergeOptions,Yo=function(e,t,n,i){var r="arraybuffer"===e.responseType?e.response:e.responseText;!t&&r&&(e.responseTime=Date.now(),e.roundTripTime=e.responseTime-e.requestTime,e.bytesReceived=r.byteLength||r.length,e.bandwidth||(e.bandwidth=Math.floor(e.bytesReceived/e.roundTripTime*8*1e3))),n.headers&&(e.responseHeaders=n.headers),t&&"ETIMEDOUT"===t.code&&(e.timedout=!0),t||e.aborted||200===n.statusCode||206===n.statusCode||0===n.statusCode||(t=new Error("XHR Failed with a response of: "+(e&&(r||e.responseText)))),i(t,e)},Jo=function(){var e=function e(t,n){t=Ko({timeout:45e3},t);var i=e.beforeRequest||Qr.Vhs.xhr.beforeRequest;if(i&&"function"==typeof i){var r=i(t);r&&(t=r)}var o=(!0===Qr.Vhs.xhr.original?Wo:Qr.Vhs.xhr)(t,(function(e,t){return Yo(o,e,t,n)})),a=o.abort;return o.abort=function(){return o.aborted=!0,a.apply(o,arguments)},o.uri=t.uri,o.requestTime=Date.now(),o};return e.original=!0,e},Xo=function(e){var t,n={};return e.byterange&&(n.Range="bytes="+(t=e.byterange).offset+"-"+("bigint"==typeof t.offset||"bigint"==typeof t.length?x.default.BigInt(t.offset)+x.default.BigInt(t.length)-x.default.BigInt(1):t.offset+t.length-1)),n},Qo=function(e,t){return e.start(t)+"-"+e.end(t)},Zo=function(e,t){var n=e.toString(16);return"00".substring(0,2-n.length)+n+(t%2?" ":"")},ea=function(e){return e>=32&&e<126?String.fromCharCode(e):"."},ta=function(e){var t={};return Object.keys(e).forEach((function(n){var i=e[n];v.isArrayBufferView(i)?t[n]={bytes:i.buffer,byteOffset:i.byteOffset,byteLength:i.byteLength}:t[n]=i})),t},na=function(e){var t=e.byterange||{length:1/0,offset:0};return[t.length,t.offset,e.resolvedUri].join(",")},ia=function(e){return e.resolvedUri},ra=function(e){for(var t=Array.prototype.slice.call(e),n=16,i="",r=0;r<t.length/n;r++)i+=t.slice(r*n,r*n+n).map(Zo).join("")+" "+t.slice(r*n,r*n+n).map(ea).join("")+"\n";return i},oa=Object.freeze({__proto__:null,createTransferableMessage:ta,initSegmentId:na,segmentKeyId:ia,hexDump:ra,tagDump:function(e){var t=e.bytes;return ra(t)},textRanges:function(e){var t,n="";for(t=0;t<e.length;t++)n+=Qo(e,t)+" ";return n}}),aa=function(e){var t=e.playlist,n=e.time,i=void 0===n?void 0:n,r=e.callback;if(!r)throw new Error("getProgramTime: callback must be provided");if(!t||void 0===i)return r({message:"getProgramTime: playlist and time must be provided"});var o=function(e,t){if(!t||!t.segments||0===t.segments.length)return null;for(var n,i=0,r=0;r<t.segments.length&&!(e<=(i=(n=t.segments[r]).videoTimingInfo?n.videoTimingInfo.transmuxedPresentationEnd:i+n.duration));r++);var o=t.segments[t.segments.length-1];if(o.videoTimingInfo&&o.videoTimingInfo.transmuxedPresentationEnd<e)return null;if(e>i){if(e>i+.25*o.duration)return null;n=o}return{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:i-n.duration,type:n.videoTimingInfo?"accurate":"estimate"}}(i,t);if(!o)return r({message:"valid programTime was not found"});if("estimate"===o.type)return r({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:o.estimatedStart});var a={mediaSeconds:i},s=function(e,t){if(!t.dateTimeObject)return null;var n=t.videoTimingInfo.transmuxerPrependedSeconds,i=e-(t.videoTimingInfo.transmuxedPresentationStart+n);return new Date(t.dateTimeObject.getTime()+1e3*i)}(i,o.segment);return s&&(a.programDateTime=s.toISOString()),r(null,a)},sa=function e(t){var n=t.programTime,i=t.playlist,r=t.retryCount,o=void 0===r?2:r,a=t.seekTo,s=t.pauseAfterSeek,u=void 0===s||s,l=t.tech,c=t.callback;if(!c)throw new Error("seekToProgramTime: callback must be provided");if(void 0===n||!i||!a)return c({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!i.endList&&!l.hasStarted_)return c({message:"player must be playing a live stream to start buffering"});if(!function(e){if(!e.segments||0===e.segments.length)return!1;for(var t=0;t<e.segments.length;t++)if(!e.segments[t].dateTimeObject)return!1;return!0}(i))return c({message:"programDateTime tags must be provided in the manifest "+i.resolvedUri});var d=function(e,t){var n;try{n=new Date(e)}catch(e){return null}if(!t||!t.segments||0===t.segments.length)return null;var i=t.segments[0];if(n<i.dateTimeObject)return null;for(var r=0;r<t.segments.length-1&&(i=t.segments[r],!(n<t.segments[r+1].dateTimeObject));r++);var o,a=t.segments[t.segments.length-1],s=a.dateTimeObject,u=a.videoTimingInfo?(o=a.videoTimingInfo).transmuxedPresentationEnd-o.transmuxedPresentationStart-o.transmuxerPrependedSeconds:a.duration+.25*a.duration;return n>new Date(s.getTime()+1e3*u)?null:(n>s&&(i=a),{segment:i,estimatedStart:i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationStart:Po.duration(t,t.mediaSequence+t.segments.indexOf(i)),type:i.videoTimingInfo?"accurate":"estimate"})}(n,i);if(!d)return c({message:n+" was not found in the stream"});var p=d.segment,h=function(e,t){var n,i;try{n=new Date(e),i=new Date(t)}catch(e){}var r=n.getTime();return(i.getTime()-r)/1e3}(p.dateTimeObject,n);if("estimate"===d.type)return 0===o?c({message:n+" is not buffered yet. Try again"}):(a(d.estimatedStart+h),void l.one("seeked",(function(){e({programTime:n,playlist:i,retryCount:o-1,seekTo:a,pauseAfterSeek:u,tech:l,callback:c})})));var f=p.start+h;l.one("seeked",(function(){return c(null,l.currentTime())})),u&&l.pause(),a(f)},ua=function(e,t){if(4===e.readyState)return t()},la=Qr.EventTarget,ca=Qr.mergeOptions,da=function(e,t){if(!Go(e,t))return!1;if(e.sidx&&t.sidx&&(e.sidx.offset!==t.sidx.offset||e.sidx.length!==t.sidx.length))return!1;if(!e.sidx&&t.sidx||e.sidx&&!t.sidx)return!1;if(e.segments&&!t.segments||!e.segments&&t.segments)return!1;if(!e.segments&&!t.segments)return!0;for(var n=0;n<e.segments.length;n++){var i=e.segments[n],r=t.segments[n];if(i.uri!==r.uri)return!1;if(i.byterange||r.byterange){var o=i.byterange,a=r.byterange;if(o&&!a||!o&&a)return!1;if(o.offset!==a.offset||o.length!==a.length)return!1}}return!0},pa=function(e,t){var n,i,r={};for(var o in e){var a=e[o].sidx;if(a){var s=_.generateSidxKey(a);if(!t[s])break;var u=t[s].sidxInfo;n=u,i=a,(Boolean(!n.map&&!i.map)||Boolean(n.map&&i.map&&n.map.byterange.offset===i.map.byterange.offset&&n.map.byterange.length===i.map.byterange.length))&&n.uri===i.uri&&n.byterange.offset===i.byterange.offset&&n.byterange.length===i.byterange.length&&(r[s]=t[s])}}return r},ha=function(e){function t(t,n,i,r){var o;void 0===i&&(i={}),(o=e.call(this)||this).masterPlaylistLoader_=r||D.default(o),r||(o.isMaster_=!0);var a=i,s=a.withCredentials,u=void 0!==s&&s,l=a.handleManifestRedirects,c=void 0!==l&&l;if(o.vhs_=n,o.withCredentials=u,o.handleManifestRedirects=c,!t)throw new Error("A non-empty playlist URL or object is required");return o.on("minimumUpdatePeriod",(function(){o.refreshXml_()})),o.on("mediaupdatetimeout",(function(){o.refreshMedia_(o.media().id)})),o.state="HAVE_NOTHING",o.loadedPlaylists_={},o.logger_=io("DashPlaylistLoader"),o.isMaster_?(o.masterPlaylistLoader_.srcUrl=t,o.masterPlaylistLoader_.sidxMapping_={}):o.childPlaylist_=t,o}O.default(t,e);var n=t.prototype;return n.requestErrored_=function(e,t,n){return!this.request||(this.request=null,e?(this.error="object"!=typeof e||e instanceof Error?{status:t.status,message:"DASH request error at URL: "+t.uri,response:t.response,code:2}:e,n&&(this.state=n),this.trigger("error"),!0):void 0)},n.addSidxSegments_=function(e,t,n){var i=this,r=e.sidx&&_.generateSidxKey(e.sidx);if(e.sidx&&r&&!this.masterPlaylistLoader_.sidxMapping_[r]){var o=no(this.handleManifestRedirects,e.sidx.resolvedUri),a=function(o,a){if(!i.requestErrored_(o,a,t)){var s,u=i.masterPlaylistLoader_.sidxMapping_;try{s=j.default(v.toUint8(a.response).subarray(8))}catch(e){return void i.requestErrored_(e,a,t)}return u[r]={sidxInfo:e.sidx,sidx:s},_.addSidxSegmentsToPlaylist(e,s,e.sidx.resolvedUri),n(!0)}};this.request=function(e,t,n){var i,r=[],o=!1,a=function(e,t,i,r){return t.abort(),o=!0,n(e,t,i,r)},s=function(e,t){if(!o){if(e)return a(e,t,"",r);var n=t.responseText.substring(r&&r.byteLength||0,t.responseText.length);if(r=v.concatTypedArrays(r,v.stringToBytes(n,!0)),i=i||w.getId3Offset(r),r.length<10||i&&r.length<i+2)return ua(t,(function(){return a(e,t,"",r)}));var s=E.detectContainerForBytes(r);return"ts"===s&&r.length<188||!s&&r.length<376?ua(t,(function(){return a(e,t,"",r)})):a(null,t,s,r)}},u={uri:e,beforeSend:function(e){e.overrideMimeType("text/plain; charset=x-user-defined"),e.addEventListener("progress",(function(t){return t.total,t.loaded,Yo(e,null,{statusCode:e.status},s)}))}},l=t(u,(function(e,t){return Yo(l,e,t,s)}));return l}(o,this.vhs_.xhr,(function(t,n,r,s){if(t)return a(t,n);if(!r||"mp4"!==r)return a({status:n.status,message:"Unsupported "+(r||"unknown")+" container type for sidx segment at URL: "+o,response:"",playlist:e,internal:!0,blacklistDuration:1/0,code:2},n);var u=e.sidx.byterange,l=u.offset,c=u.length;if(s.length>=c+l)return a(t,{response:s.subarray(l,l+c),status:n.status,uri:n.uri});i.request=i.vhs_.xhr({uri:o,responseType:"arraybuffer",headers:Xo({byterange:e.sidx.byterange})},a)}))}else this.mediaRequest_=x.default.setTimeout((function(){return n(!1)}),0)},n.dispose=function(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},x.default.clearTimeout(this.minimumUpdatePeriodTimeout_),x.default.clearTimeout(this.mediaRequest_),x.default.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.off()},n.hasPendingRequest=function(){return this.request||this.mediaRequest_},n.stopRequest=function(){if(this.request){var e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}},n.media=function(e){var t=this;if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var n=this.state;if("string"==typeof e){if(!this.masterPlaylistLoader_.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.masterPlaylistLoader_.master.playlists[e]}var i=!this.media_||e.id!==this.media_.id;if(i&&this.loadedPlaylists_[e.id]&&this.loadedPlaylists_[e.id].endList)return this.state="HAVE_METADATA",this.media_=e,void(i&&(this.trigger("mediachanging"),this.trigger("mediachange")));i&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(e,n,(function(i){t.haveMetadata({startingState:n,playlist:e})})))},n.haveMetadata=function(e){var t=e.startingState,n=e.playlist;this.state="HAVE_METADATA",this.loadedPlaylists_[n.id]=n,this.mediaRequest_=null,this.refreshMedia_(n.id),"HAVE_MASTER"===t?this.trigger("loadedmetadata"):this.trigger("mediachange")},n.pause=function(){this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),x.default.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMaster_&&(x.default.clearTimeout(this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_),this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_=null),"HAVE_NOTHING"===this.state&&(this.started=!1)},n.load=function(e){var t=this;x.default.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;var n=this.media();if(e){var i=n?n.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=x.default.setTimeout((function(){return t.load()}),i)}else this.started?n&&!n.endList?(this.isMaster_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist"):this.start()},n.start=function(){var e=this;this.started=!0,this.isMaster_?this.requestMaster_((function(t,n){e.haveMaster_(),e.hasPendingRequest()||e.media_||e.media(e.masterPlaylistLoader_.master.playlists[0])})):this.mediaRequest_=x.default.setTimeout((function(){return e.haveMaster_()}),0)},n.requestMaster_=function(e){var t=this;this.request=this.vhs_.xhr({uri:this.masterPlaylistLoader_.srcUrl,withCredentials:this.withCredentials},(function(n,i){if(!t.requestErrored_(n,i)){var r=i.responseText!==t.masterPlaylistLoader_.masterXml_;return t.masterPlaylistLoader_.masterXml_=i.responseText,i.responseHeaders&&i.responseHeaders.date?t.masterLoaded_=Date.parse(i.responseHeaders.date):t.masterLoaded_=Date.now(),t.masterPlaylistLoader_.srcUrl=no(t.handleManifestRedirects,t.masterPlaylistLoader_.srcUrl,i),r?(t.handleMaster_(),void t.syncClientServerClock_((function(){return e(i,r)}))):e(i,r)}"HAVE_NOTHING"===t.state&&(t.started=!1)}))},n.syncClientServerClock_=function(e){var t=this,n=_.parseUTCTiming(this.masterPlaylistLoader_.masterXml_);return null===n?(this.masterPlaylistLoader_.clientOffset_=this.masterLoaded_-Date.now(),e()):"DIRECT"===n.method?(this.masterPlaylistLoader_.clientOffset_=n.value-Date.now(),e()):void(this.request=this.vhs_.xhr({uri:to(this.masterPlaylistLoader_.srcUrl,n.value),method:n.method,withCredentials:this.withCredentials},(function(i,r){if(t.request){if(i)return t.masterPlaylistLoader_.clientOffset_=t.masterLoaded_-Date.now(),e();var o;o="HEAD"===n.method?r.responseHeaders&&r.responseHeaders.date?Date.parse(r.responseHeaders.date):t.masterLoaded_:Date.parse(r.responseText),t.masterPlaylistLoader_.clientOffset_=o-Date.now(),e()}})))},n.haveMaster_=function(){this.state="HAVE_MASTER",this.isMaster_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)},n.handleMaster_=function(){this.mediaRequest_=null;var e,t,n,i,r,o,a,s=this.masterPlaylistLoader_.master,u=(e={masterXml:this.masterPlaylistLoader_.masterXml_,srcUrl:this.masterPlaylistLoader_.srcUrl,clientOffset:this.masterPlaylistLoader_.clientOffset_,sidxMapping:this.masterPlaylistLoader_.sidxMapping_,previousManifest:s},t=e.masterXml,n=e.srcUrl,i=e.clientOffset,r=e.sidxMapping,o=e.previousManifest,a=_.parse(t,{manifestUri:n,clientOffset:i,sidxMapping:r,previousManifest:o}),Fo(a,n),a);s&&(u=function(e,t,n){for(var i=!0,r=ca(e,{duration:t.duration,minimumUpdatePeriod:t.minimumUpdatePeriod,timelineStarts:t.timelineStarts}),o=0;o<t.playlists.length;o++){var a=t.playlists[o];if(a.sidx){var s=_.generateSidxKey(a.sidx);n&&n[s]&&n[s].sidx&&_.addSidxSegmentsToPlaylist(a,n[s].sidx,a.sidx.resolvedUri)}var u=qo(r,a,da);u&&(r=u,i=!1)}return Lo(t,(function(e,t,n,o){if(e.playlists&&e.playlists.length){var a=e.playlists[0].id,s=qo(r,e.playlists[0],da);s&&((r=s).mediaGroups[t][n][o].playlists[0]=r.playlists[a],i=!1)}})),t.minimumUpdatePeriod!==e.minimumUpdatePeriod&&(i=!1),i?null:r}(s,u,this.masterPlaylistLoader_.sidxMapping_)),this.masterPlaylistLoader_.master=u||s;var l=this.masterPlaylistLoader_.master.locations&&this.masterPlaylistLoader_.master.locations[0];return l&&l!==this.masterPlaylistLoader_.srcUrl&&(this.masterPlaylistLoader_.srcUrl=l),(!s||u&&u.minimumUpdatePeriod!==s.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),Boolean(u)},n.updateMinimumUpdatePeriodTimeout_=function(){var e=this.masterPlaylistLoader_;e.createMupOnMedia_&&(e.off("loadedmetadata",e.createMupOnMedia_),e.createMupOnMedia_=null),e.minimumUpdatePeriodTimeout_&&(x.default.clearTimeout(e.minimumUpdatePeriodTimeout_),e.minimumUpdatePeriodTimeout_=null);var t=e.master&&e.master.minimumUpdatePeriod;0===t&&(e.media()?t=1e3*e.media().targetDuration:(e.createMupOnMedia_=e.updateMinimumUpdatePeriodTimeout_,e.one("loadedmetadata",e.createMupOnMedia_))),"number"!=typeof t||t<=0?t<0&&this.logger_("found invalid minimumUpdatePeriod of "+t+", not setting a timeout"):this.createMUPTimeout_(t)},n.createMUPTimeout_=function(e){var t=this.masterPlaylistLoader_;t.minimumUpdatePeriodTimeout_=x.default.setTimeout((function(){t.minimumUpdatePeriodTimeout_=null,t.trigger("minimumUpdatePeriod"),t.createMUPTimeout_(e)}),e)},n.refreshXml_=function(){var e=this;this.requestMaster_((function(t,n){var i,r,o;n&&(e.media_&&(e.media_=e.masterPlaylistLoader_.master.playlists[e.media_.id]),e.masterPlaylistLoader_.sidxMapping_=(i=e.masterPlaylistLoader_.master,r=e.masterPlaylistLoader_.sidxMapping_,o=pa(i.playlists,r),Lo(i,(function(e,t,n,i){if(e.playlists&&e.playlists.length){var a=e.playlists;o=ca(o,pa(a,r))}})),o),e.addSidxSegments_(e.media(),e.state,(function(t){e.refreshMedia_(e.media().id)})))}))},n.refreshMedia_=function(e){var t=this;if(!e)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMaster_&&this.handleMaster_();var n=this.masterPlaylistLoader_.master.playlists,i=!this.media_||this.media_!==n[e];if(i?this.media_=n[e]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){!function e(){t.media().endList||(t.mediaUpdateTimeout=x.default.setTimeout((function(){t.trigger("mediaupdatetimeout"),e()}),Vo(t.media(),Boolean(i))))}()}this.trigger("loadedplaylist")},t}(la),fa={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30},ma=function(e){return e.on=e.addEventListener,e.off=e.removeEventListener,e},ga=function(e){return function(){var t=function(e){try{return URL.createObjectURL(new Blob([e],{type:"application/javascript"}))}catch(n){var t=new BlobBuilder;return t.append(e),URL.createObjectURL(t.getBlob())}}(e),n=ma(new Worker(t));n.objURL=t;var i=n.terminate;return n.on=n.addEventListener,n.off=n.removeEventListener,n.terminate=function(){return URL.revokeObjectURL(t),i.call(this)},n}},ya=function(e){return"var browserWorkerPolyFill = "+ma.toString()+";\nbrowserWorkerPolyFill(self);\n"+e},va=function(e){return e.toString().replace(/^function.+?{/,"").slice(0,-1)},_a=ya(va((function(){var e=function(){this.init=function(){var e={};this.on=function(t,n){e[t]||(e[t]=[]),e[t]=e[t].concat(n)},this.off=function(t,n){var i;return!!e[t]&&(i=e[t].indexOf(n),e[t]=e[t].slice(),e[t].splice(i,1),i>-1)},this.trigger=function(t){var n,i,r,o;if(n=e[t])if(2===arguments.length)for(r=n.length,i=0;i<r;++i)n[i].call(this,arguments[1]);else{for(o=[],i=arguments.length,i=1;i<arguments.length;++i)o.push(arguments[i]);for(r=n.length,i=0;i<r;++i)n[i].apply(this,o)}},this.dispose=function(){e={}}}};e.prototype.pipe=function(e){return this.on("data",(function(t){e.push(t)})),this.on("done",(function(t){e.flush(t)})),this.on("partialdone",(function(t){e.partialFlush(t)})),this.on("endedtimeline",(function(t){e.endTimeline(t)})),this.on("reset",(function(t){e.reset(t)})),e},e.prototype.push=function(e){this.trigger("data",e)},e.prototype.flush=function(e){this.trigger("done",e)},e.prototype.partialFlush=function(e){this.trigger("partialdone",e)},e.prototype.endTimeline=function(e){this.trigger("endedtimeline",e)},e.prototype.reset=function(e){this.trigger("reset",e)};var t,i,r,o,a,s,u,l,c,d,p,h,f,m,g,y,v,_,b,w,E,S,T,C,x,A,k,I,D,O,P,N,R,L,M,F,j,B,U,H,$=e,G=Math.pow(2,32),q={getUint64:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.getBigUint64?(t=n.getBigUint64(0))<Number.MAX_SAFE_INTEGER?Number(t):t:n.getUint32(0)*G+n.getUint32(4)},MAX_UINT32:G},V=q.MAX_UINT32;!function(){var e;if(S={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(e in S)S.hasOwnProperty(e)&&(S[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);T=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),x=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),C=new Uint8Array([0,0,0,1]),A=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),k=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),I={video:A,audio:k},P=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),O=new Uint8Array([0,0,0,0,0,0,0,0]),N=new Uint8Array([0,0,0,0,0,0,0,0]),R=N,L=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),M=N,D=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),t=function(e){var t,n,i=[],r=0;for(t=1;t<arguments.length;t++)i.push(arguments[t]);for(t=i.length;t--;)r+=i[t].byteLength;for(n=new Uint8Array(r+8),new DataView(n.buffer,n.byteOffset,n.byteLength).setUint32(0,n.byteLength),n.set(e,4),t=0,r=8;t<i.length;t++)n.set(i[t],r),r+=i[t].byteLength;return n},i=function(){return t(S.dinf,t(S.dref,P))},r=function(e){return t(S.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,e.audioobjecttype<<3|e.samplingfrequencyindex>>>1,e.samplingfrequencyindex<<7|e.channelcount<<3,6,1,2]))},g=function(e){return t(S.hdlr,I[e])},m=function(e){var n=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,e.duration>>>24&255,e.duration>>>16&255,e.duration>>>8&255,255&e.duration,85,196,0,0]);return e.samplerate&&(n[12]=e.samplerate>>>24&255,n[13]=e.samplerate>>>16&255,n[14]=e.samplerate>>>8&255,n[15]=255&e.samplerate),t(S.mdhd,n)},f=function(e){return t(S.mdia,m(e),g(e.type),s(e))},a=function(e){return t(S.mfhd,new Uint8Array([0,0,0,0,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e]))},s=function(e){return t(S.minf,"video"===e.type?t(S.vmhd,D):t(S.smhd,O),i(),v(e))},u=function(e,n){for(var i=[],r=n.length;r--;)i[r]=b(n[r]);return t.apply(null,[S.moof,a(e)].concat(i))},l=function(e){for(var n=e.length,i=[];n--;)i[n]=p(e[n]);return t.apply(null,[S.moov,d(4294967295)].concat(i).concat(c(e)))},c=function(e){for(var n=e.length,i=[];n--;)i[n]=w(e[n]);return t.apply(null,[S.mvex].concat(i))},d=function(e){var n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return t(S.mvhd,n)},y=function(e){var n,i,r=e.samples||[],o=new Uint8Array(4+r.length);for(i=0;i<r.length;i++)n=r[i].flags,o[i+4]=n.dependsOn<<4|n.isDependedOn<<2|n.hasRedundancy;return t(S.sdtp,o)},v=function(e){return t(S.stbl,_(e),t(S.stts,M),t(S.stsc,R),t(S.stsz,L),t(S.stco,N))},_=function(e){return t(S.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===e.type?F(e):j(e))},F=function(e){var n,i,r=e.sps||[],o=e.pps||[],a=[],s=[];for(n=0;n<r.length;n++)a.push((65280&r[n].byteLength)>>>8),a.push(255&r[n].byteLength),a=a.concat(Array.prototype.slice.call(r[n]));for(n=0;n<o.length;n++)s.push((65280&o[n].byteLength)>>>8),s.push(255&o[n].byteLength),s=s.concat(Array.prototype.slice.call(o[n]));if(i=[S.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&e.width)>>8,255&e.width,(65280&e.height)>>8,255&e.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),t(S.avcC,new Uint8Array([1,e.profileIdc,e.profileCompatibility,e.levelIdc,255].concat([r.length],a,[o.length],s))),t(S.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],e.sarRatio){var u=e.sarRatio[0],l=e.sarRatio[1];i.push(t(S.pasp,new Uint8Array([(4278190080&u)>>24,(16711680&u)>>16,(65280&u)>>8,255&u,(4278190080&l)>>24,(16711680&l)>>16,(65280&l)>>8,255&l])))}return t.apply(null,i)},j=function(e){return t(S.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&e.channelcount)>>8,255&e.channelcount,(65280&e.samplesize)>>8,255&e.samplesize,0,0,0,0,(65280&e.samplerate)>>8,255&e.samplerate,0,0]),r(e))},h=function(e){var n=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,0,(4278190080&e.duration)>>24,(16711680&e.duration)>>16,(65280&e.duration)>>8,255&e.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&e.width)>>8,255&e.width,0,0,(65280&e.height)>>8,255&e.height,0,0]);return t(S.tkhd,n)},b=function(e){var n,i,r,o,a,s;return n=t(S.tfhd,new Uint8Array([0,0,0,58,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),a=Math.floor(e.baseMediaDecodeTime/V),s=Math.floor(e.baseMediaDecodeTime%V),i=t(S.tfdt,new Uint8Array([1,0,0,0,a>>>24&255,a>>>16&255,a>>>8&255,255&a,s>>>24&255,s>>>16&255,s>>>8&255,255&s])),92,"audio"===e.type?(r=E(e,92),t(S.traf,n,i,r)):(o=y(e),r=E(e,o.length+92),t(S.traf,n,i,r,o))},p=function(e){return e.duration=e.duration||4294967295,t(S.trak,h(e),f(e))},w=function(e){var n=new Uint8Array([0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==e.type&&(n[n.length-1]=0),t(S.trex,n)},H=function(e,t){var n=0,i=0,r=0,o=0;return e.length&&(void 0!==e[0].duration&&(n=1),void 0!==e[0].size&&(i=2),void 0!==e[0].flags&&(r=4),void 0!==e[0].compositionTimeOffset&&(o=8)),[0,0,n|i|r|o,1,(4278190080&e.length)>>>24,(16711680&e.length)>>>16,(65280&e.length)>>>8,255&e.length,(4278190080&t)>>>24,(16711680&t)>>>16,(65280&t)>>>8,255&t]},U=function(e,n){var i,r,o,a,s,u;for(n+=20+16*(a=e.samples||[]).length,o=H(a,n),(r=new Uint8Array(o.length+16*a.length)).set(o),i=o.length,u=0;u<a.length;u++)s=a[u],r[i++]=(4278190080&s.duration)>>>24,r[i++]=(16711680&s.duration)>>>16,r[i++]=(65280&s.duration)>>>8,r[i++]=255&s.duration,r[i++]=(4278190080&s.size)>>>24,r[i++]=(16711680&s.size)>>>16,r[i++]=(65280&s.size)>>>8,r[i++]=255&s.size,r[i++]=s.flags.isLeading<<2|s.flags.dependsOn,r[i++]=s.flags.isDependedOn<<6|s.flags.hasRedundancy<<4|s.flags.paddingValue<<1|s.flags.isNonSyncSample,r[i++]=61440&s.flags.degradationPriority,r[i++]=15&s.flags.degradationPriority,r[i++]=(4278190080&s.compositionTimeOffset)>>>24,r[i++]=(16711680&s.compositionTimeOffset)>>>16,r[i++]=(65280&s.compositionTimeOffset)>>>8,r[i++]=255&s.compositionTimeOffset;return t(S.trun,r)},B=function(e,n){var i,r,o,a,s,u;for(n+=20+8*(a=e.samples||[]).length,o=H(a,n),(i=new Uint8Array(o.length+8*a.length)).set(o),r=o.length,u=0;u<a.length;u++)s=a[u],i[r++]=(4278190080&s.duration)>>>24,i[r++]=(16711680&s.duration)>>>16,i[r++]=(65280&s.duration)>>>8,i[r++]=255&s.duration,i[r++]=(4278190080&s.size)>>>24,i[r++]=(16711680&s.size)>>>16,i[r++]=(65280&s.size)>>>8,i[r++]=255&s.size;return t(S.trun,i)},E=function(e,t){return"audio"===e.type?B(e,t):U(e,t)};o=function(){return t(S.ftyp,T,C,T,x)};var z,W,K,Y,J,X,Q,Z,ee=function(e){return t(S.mdat,e)},te=u,ne=function(e){var t,n=o(),i=l(e);return(t=new Uint8Array(n.byteLength+i.byteLength)).set(n),t.set(i,n.byteLength),t},ie=function(e,t){var n={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}};return n.dataOffset=t,n.compositionTimeOffset=e.pts-e.dts,n.duration=e.duration,n.size=4*e.length,n.size+=e.byteLength,e.keyFrame&&(n.flags.dependsOn=2,n.flags.isNonSyncSample=0),n},re=function(e){var t,n,i=[],r=[];for(r.byteLength=0,r.nalCount=0,r.duration=0,i.byteLength=0,t=0;t<e.length;t++)"access_unit_delimiter_rbsp"===(n=e[t]).nalUnitType?(i.length&&(i.duration=n.dts-i.dts,r.byteLength+=i.byteLength,r.nalCount+=i.length,r.duration+=i.duration,r.push(i)),(i=[n]).byteLength=n.data.byteLength,i.pts=n.pts,i.dts=n.dts):("slice_layer_without_partitioning_rbsp_idr"===n.nalUnitType&&(i.keyFrame=!0),i.duration=n.dts-i.dts,i.byteLength+=n.data.byteLength,i.push(n));return r.length&&(!i.duration||i.duration<=0)&&(i.duration=r[r.length-1].duration),r.byteLength+=i.byteLength,r.nalCount+=i.length,r.duration+=i.duration,r.push(i),r},oe=function(e){var t,n,i=[],r=[];for(i.byteLength=0,i.nalCount=0,i.duration=0,i.pts=e[0].pts,i.dts=e[0].dts,r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=e[0].pts,r.dts=e[0].dts,t=0;t<e.length;t++)(n=e[t]).keyFrame?(i.length&&(r.push(i),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration),(i=[n]).nalCount=n.length,i.byteLength=n.byteLength,i.pts=n.pts,i.dts=n.dts,i.duration=n.duration):(i.duration+=n.duration,i.nalCount+=n.length,i.byteLength+=n.byteLength,i.push(n));return r.length&&i.duration<=0&&(i.duration=r[r.length-1].duration),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration,r.push(i),r},ae=function(e){var t;return!e[0][0].keyFrame&&e.length>1&&(t=e.shift(),e.byteLength-=t.byteLength,e.nalCount-=t.nalCount,e[0][0].dts=t.dts,e[0][0].pts=t.pts,e[0][0].duration+=t.duration),e},se=function(e,t){var n,i,r,o,a,s=t||0,u=[];for(n=0;n<e.length;n++)for(o=e[n],i=0;i<o.length;i++)a=o[i],s+=(r=ie(a,s)).size,u.push(r);return u},ue=function(e){var t,n,i,r,o,a,s=0,u=e.byteLength,l=e.nalCount,c=new Uint8Array(u+4*l),d=new DataView(c.buffer);for(t=0;t<e.length;t++)for(r=e[t],n=0;n<r.length;n++)for(o=r[n],i=0;i<o.length;i++)a=o[i],d.setUint32(s,a.data.byteLength),s+=4,c.set(a.data,s),s+=a.data.byteLength;return c},le=[33,16,5,32,164,27],ce=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],de=function(e){for(var t=[];e--;)t.push(0);return t},pe=function(){if(!z){var e={96e3:[le,[227,64],de(154),[56]],88200:[le,[231],de(170),[56]],64e3:[le,[248,192],de(240),[56]],48e3:[le,[255,192],de(268),[55,148,128],de(54),[112]],44100:[le,[255,192],de(268),[55,163,128],de(84),[112]],32e3:[le,[255,192],de(268),[55,234],de(226),[112]],24e3:[le,[255,192],de(268),[55,255,128],de(268),[111,112],de(126),[224]],16e3:[le,[255,192],de(268),[55,255,128],de(268),[111,255],de(269),[223,108],de(195),[1,192]],12e3:[ce,de(268),[3,127,248],de(268),[6,255,240],de(268),[13,255,224],de(268),[27,253,128],de(259),[56]],11025:[ce,de(268),[3,127,248],de(268),[6,255,240],de(268),[13,255,224],de(268),[27,255,192],de(268),[55,175,128],de(108),[112]],8e3:[ce,de(268),[3,121,16],de(47),[7]]};t=e,z=Object.keys(t).reduce((function(e,n){return e[n]=new Uint8Array(t[n].reduce((function(e,t){return e.concat(t)}),[])),e}),{})}var t;return z},he=9e4;X=function(e,t){return W(J(e,t))},Q=function(e,t){return K(Y(e),t)},Z=function(e,t,n){return Y(n?e:e-t)};var fe=he,me=W=function(e){return e*he},ge=(K=function(e,t){return e*t},Y=function(e){return e/he}),ye=(J=function(e,t){return e/t},X),ve=Q,_e=Z,be=function(e,t,n,i){var r,o,a,s,u,l=0,c=0,d=0;if(t.length&&(r=ye(e.baseMediaDecodeTime,e.samplerate),o=Math.ceil(fe/(e.samplerate/1024)),n&&i&&(l=r-Math.max(n,i),d=(c=Math.floor(l/o))*o),!(c<1||d>fe/2))){for((a=pe()[e.samplerate])||(a=t[0].data),s=0;s<c;s++)u=t[0],t.splice(0,0,{data:a,dts:u.dts-o,pts:u.pts-o});return e.baseMediaDecodeTime-=Math.floor(ve(d,e.samplerate)),d}},we=function(e,t,n){return t.minSegmentDts>=n?e:(t.minSegmentDts=1/0,e.filter((function(e){return e.dts>=n&&(t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),t.minSegmentPts=t.minSegmentDts,!0)})))},Ee=function(e){var t,n,i=[];for(t=0;t<e.length;t++)n=e[t],i.push({size:n.data.byteLength,duration:1024});return i},Se=function(e){var t,n,i=0,r=new Uint8Array(function(e){var t,n=0;for(t=0;t<e.length;t++)n+=e[t].data.byteLength;return n}(e));for(t=0;t<e.length;t++)n=e[t],r.set(n.data,i),i+=n.data.byteLength;return r},Te=fe,Ce=function(e){delete e.minSegmentDts,delete e.maxSegmentDts,delete e.minSegmentPts,delete e.maxSegmentPts},xe=function(e,t){var n,i=e.minSegmentDts;return t||(i-=e.timelineStartInfo.dts),n=e.timelineStartInfo.baseMediaDecodeTime,n+=i,n=Math.max(0,n),"audio"===e.type&&(n*=e.samplerate/Te,n=Math.floor(n)),n},Ae=function(e,t){"number"==typeof t.pts&&(void 0===e.timelineStartInfo.pts&&(e.timelineStartInfo.pts=t.pts),void 0===e.minSegmentPts?e.minSegmentPts=t.pts:e.minSegmentPts=Math.min(e.minSegmentPts,t.pts),void 0===e.maxSegmentPts?e.maxSegmentPts=t.pts:e.maxSegmentPts=Math.max(e.maxSegmentPts,t.pts)),"number"==typeof t.dts&&(void 0===e.timelineStartInfo.dts&&(e.timelineStartInfo.dts=t.dts),void 0===e.minSegmentDts?e.minSegmentDts=t.dts:e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),void 0===e.maxSegmentDts?e.maxSegmentDts=t.dts:e.maxSegmentDts=Math.max(e.maxSegmentDts,t.dts))},ke=function(e){for(var t=0,n={payloadType:-1,payloadSize:0},i=0,r=0;t<e.byteLength&&128!==e[t];){for(;255===e[t];)i+=255,t++;for(i+=e[t++];255===e[t];)r+=255,t++;if(r+=e[t++],!n.payload&&4===i){if("GA94"===String.fromCharCode(e[t+3],e[t+4],e[t+5],e[t+6])){n.payloadType=i,n.payloadSize=r,n.payload=e.subarray(t,t+r);break}n.payload=void 0}t+=r,i=0,r=0}return n},Ie=function(e){return 181!==e.payload[0]||49!=(e.payload[1]<<8|e.payload[2])||"GA94"!==String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])||3!==e.payload[7]?null:e.payload.subarray(8,e.payload.length-1)},De=function(e,t){var n,i,r,o,a=[];if(!(64&t[0]))return a;for(i=31&t[0],n=0;n<i;n++)o={type:3&t[(r=3*n)+2],pts:e},4&t[r+2]&&(o.ccData=t[r+3]<<8|t[r+4],a.push(o));return a},Oe=function(e){for(var t,n,i=e.byteLength,r=[],o=1;o<i-2;)0===e[o]&&0===e[o+1]&&3===e[o+2]?(r.push(o+2),o+=2):o++;if(0===r.length)return e;t=i-r.length,n=new Uint8Array(t);var a=0;for(o=0;o<t;a++,o++)a===r[0]&&(a++,r.shift()),n[o]=e[a];return n},Pe=4,Ne=function e(t){t=t||{},e.prototype.init.call(this),this.parse708captions_="boolean"!=typeof t.parse708captions||t.parse708captions,this.captionPackets_=[],this.ccStreams_=[new Ge(0,0),new Ge(0,1),new Ge(1,0),new Ge(1,1)],this.parse708captions_&&(this.cc708Stream_=new je({captionServices:t.captionServices})),this.reset(),this.ccStreams_.forEach((function(e){e.on("data",this.trigger.bind(this,"data")),e.on("partialdone",this.trigger.bind(this,"partialdone")),e.on("done",this.trigger.bind(this,"done"))}),this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};(Ne.prototype=new $).push=function(e){var t,n,i;if("sei_rbsp"===e.nalUnitType&&(t=ke(e.escapedRBSP)).payload&&t.payloadType===Pe&&(n=Ie(t)))if(e.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(e.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));i=De(e.pts,n),this.captionPackets_=this.captionPackets_.concat(i),this.latestDts_!==e.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=e.dts}},Ne.prototype.flushCCStreams=function(e){this.ccStreams_.forEach((function(t){return"flush"===e?t.flush():t.partialFlush()}),this)},Ne.prototype.flushStream=function(e){this.captionPackets_.length?(this.captionPackets_.forEach((function(e,t){e.presortIndex=t})),this.captionPackets_.sort((function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts})),this.captionPackets_.forEach((function(e){e.type<2?this.dispatchCea608Packet(e):this.dispatchCea708Packet(e)}),this),this.captionPackets_.length=0,this.flushCCStreams(e)):this.flushCCStreams(e)},Ne.prototype.flush=function(){return this.flushStream("flush")},Ne.prototype.partialFlush=function(){return this.flushStream("partialFlush")},Ne.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach((function(e){e.reset()}))},Ne.prototype.dispatchCea608Packet=function(e){this.setsTextOrXDSActive(e)?this.activeCea608Channel_[e.type]=null:this.setsChannel1Active(e)?this.activeCea608Channel_[e.type]=0:this.setsChannel2Active(e)&&(this.activeCea608Channel_[e.type]=1),null!==this.activeCea608Channel_[e.type]&&this.ccStreams_[(e.type<<1)+this.activeCea608Channel_[e.type]].push(e)},Ne.prototype.setsChannel1Active=function(e){return 4096==(30720&e.ccData)},Ne.prototype.setsChannel2Active=function(e){return 6144==(30720&e.ccData)},Ne.prototype.setsTextOrXDSActive=function(e){return 256==(28928&e.ccData)||4138==(30974&e.ccData)||6186==(30974&e.ccData)},Ne.prototype.dispatchCea708Packet=function(e){this.parse708captions_&&this.cc708Stream_.push(e)};var Re={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},Le=function(e){return 32<=e&&e<=127||160<=e&&e<=255},Me=function(e){this.windowNum=e,this.reset()};Me.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},Me.prototype.getText=function(){return this.rows.join("\n")},Me.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},Me.prototype.newLine=function(e){for(this.rows.length>=this.virtualRowCount&&"function"==typeof this.beforeRowOverflow&&this.beforeRowOverflow(e),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},Me.prototype.isEmpty=function(){return 0===this.rows.length||1===this.rows.length&&""===this.rows[0]},Me.prototype.addText=function(e){this.rows[this.rowIdx]+=e},Me.prototype.backspace=function(){if(!this.isEmpty()){var e=this.rows[this.rowIdx];this.rows[this.rowIdx]=e.substr(0,e.length-1)}};var Fe=function(e,t,n){this.serviceNum=e,this.text="",this.currentWindow=new Me(-1),this.windows=[],this.stream=n,"string"==typeof t&&this.createTextDecoder(t)};Fe.prototype.init=function(e,t){this.startPts=e;for(var n=0;n<8;n++)this.windows[n]=new Me(n),"function"==typeof t&&(this.windows[n].beforeRowOverflow=t)},Fe.prototype.setCurrentWindow=function(e){this.currentWindow=this.windows[e]},Fe.prototype.createTextDecoder=function(e){if("undefined"==typeof TextDecoder)this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(e)}catch(t){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+e+" encoding. "+t})}};var je=function e(t){t=t||{},e.prototype.init.call(this);var n,i=this,r=t.captionServices||{},o={};Object.keys(r).forEach((function(e){n=r[e],/^SERVICE/.test(e)&&(o[e]=n.encoding)})),this.serviceEncodings=o,this.current708Packet=null,this.services={},this.push=function(e){3===e.type?(i.new708Packet(),i.add708Bytes(e)):(null===i.current708Packet&&i.new708Packet(),i.add708Bytes(e))}};je.prototype=new $,je.prototype.new708Packet=function(){null!==this.current708Packet&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},je.prototype.add708Bytes=function(e){var t=e.ccData,n=t>>>8,i=255&t;this.current708Packet.ptsVals.push(e.pts),this.current708Packet.data.push(n),this.current708Packet.data.push(i)},je.prototype.push708Packet=function(){var e=this.current708Packet,t=e.data,n=null,i=null,r=0,o=t[r++];for(e.seq=o>>6,e.sizeCode=63&o;r<t.length;r++)i=31&(o=t[r++]),7===(n=o>>5)&&i>0&&(n=o=t[r++]),this.pushServiceBlock(n,r,i),i>0&&(r+=i-1)},je.prototype.pushServiceBlock=function(e,t,n){var i,r=t,o=this.current708Packet.data,a=this.services[e];for(a||(a=this.initService(e,r));r<t+n&&r<o.length;r++)i=o[r],Le(i)?r=this.handleText(r,a):24===i?r=this.multiByteCharacter(r,a):16===i?r=this.extendedCommands(r,a):128<=i&&i<=135?r=this.setCurrentWindow(r,a):152<=i&&i<=159?r=this.defineWindow(r,a):136===i?r=this.clearWindows(r,a):140===i?r=this.deleteWindows(r,a):137===i?r=this.displayWindows(r,a):138===i?r=this.hideWindows(r,a):139===i?r=this.toggleWindows(r,a):151===i?r=this.setWindowAttributes(r,a):144===i?r=this.setPenAttributes(r,a):145===i?r=this.setPenColor(r,a):146===i?r=this.setPenLocation(r,a):143===i?a=this.reset(r,a):8===i?a.currentWindow.backspace():12===i?a.currentWindow.clearText():13===i?a.currentWindow.pendingNewLine=!0:14===i?a.currentWindow.clearText():141===i&&r++},je.prototype.extendedCommands=function(e,t){var n=this.current708Packet.data[++e];return Le(n)&&(e=this.handleText(e,t,{isExtended:!0})),e},je.prototype.getPts=function(e){return this.current708Packet.ptsVals[Math.floor(e/2)]},je.prototype.initService=function(e,t){var n,i,r=this;return(n="SERVICE"+e)in this.serviceEncodings&&(i=this.serviceEncodings[n]),this.services[e]=new Fe(e,i,r),this.services[e].init(this.getPts(t),(function(t){r.flushDisplayed(t,r.services[e])})),this.services[e]},je.prototype.handleText=function(e,t,n){var i,r,o,a,s=n&&n.isExtended,u=n&&n.isMultiByte,l=this.current708Packet.data,c=s?4096:0,d=l[e],p=l[e+1],h=t.currentWindow;return t.textDecoder_&&!s?(u?(r=[d,p],e++):r=[d],i=t.textDecoder_.decode(new Uint8Array(r))):(a=Re[o=c|d]||o,i=4096&o&&o===a?"":String.fromCharCode(a)),h.pendingNewLine&&!h.isEmpty()&&h.newLine(this.getPts(e)),h.pendingNewLine=!1,h.addText(i),e},je.prototype.multiByteCharacter=function(e,t){var n=this.current708Packet.data,i=n[e+1],r=n[e+2];return Le(i)&&Le(r)&&(e=this.handleText(++e,t,{isMultiByte:!0})),e},je.prototype.setCurrentWindow=function(e,t){var n=7&this.current708Packet.data[e];return t.setCurrentWindow(n),e},je.prototype.defineWindow=function(e,t){var n=this.current708Packet.data,i=n[e],r=7&i;t.setCurrentWindow(r);var o=t.currentWindow;return i=n[++e],o.visible=(32&i)>>5,o.rowLock=(16&i)>>4,o.columnLock=(8&i)>>3,o.priority=7&i,i=n[++e],o.relativePositioning=(128&i)>>7,o.anchorVertical=127&i,i=n[++e],o.anchorHorizontal=i,i=n[++e],o.anchorPoint=(240&i)>>4,o.rowCount=15&i,i=n[++e],o.columnCount=63&i,i=n[++e],o.windowStyle=(56&i)>>3,o.penStyle=7&i,o.virtualRowCount=o.rowCount+1,e},je.prototype.setWindowAttributes=function(e,t){var n=this.current708Packet.data,i=n[e],r=t.currentWindow.winAttr;return i=n[++e],r.fillOpacity=(192&i)>>6,r.fillRed=(48&i)>>4,r.fillGreen=(12&i)>>2,r.fillBlue=3&i,i=n[++e],r.borderType=(192&i)>>6,r.borderRed=(48&i)>>4,r.borderGreen=(12&i)>>2,r.borderBlue=3&i,i=n[++e],r.borderType+=(128&i)>>5,r.wordWrap=(64&i)>>6,r.printDirection=(48&i)>>4,r.scrollDirection=(12&i)>>2,r.justify=3&i,i=n[++e],r.effectSpeed=(240&i)>>4,r.effectDirection=(12&i)>>2,r.displayEffect=3&i,e},je.prototype.flushDisplayed=function(e,t){for(var n=[],i=0;i<8;i++)t.windows[i].visible&&!t.windows[i].isEmpty()&&n.push(t.windows[i].getText());t.endPts=e,t.text=n.join("\n\n"),this.pushCaption(t),t.startPts=e},je.prototype.pushCaption=function(e){""!==e.text&&(this.trigger("data",{startPts:e.startPts,endPts:e.endPts,text:e.text,stream:"cc708_"+e.serviceNum}),e.text="",e.startPts=e.endPts)},je.prototype.displayWindows=function(e,t){var n=this.current708Packet.data[++e],i=this.getPts(e);this.flushDisplayed(i,t);for(var r=0;r<8;r++)n&1<<r&&(t.windows[r].visible=1);return e},je.prototype.hideWindows=function(e,t){var n=this.current708Packet.data[++e],i=this.getPts(e);this.flushDisplayed(i,t);for(var r=0;r<8;r++)n&1<<r&&(t.windows[r].visible=0);return e},je.prototype.toggleWindows=function(e,t){var n=this.current708Packet.data[++e],i=this.getPts(e);this.flushDisplayed(i,t);for(var r=0;r<8;r++)n&1<<r&&(t.windows[r].visible^=1);return e},je.prototype.clearWindows=function(e,t){var n=this.current708Packet.data[++e],i=this.getPts(e);this.flushDisplayed(i,t);for(var r=0;r<8;r++)n&1<<r&&t.windows[r].clearText();return e},je.prototype.deleteWindows=function(e,t){var n=this.current708Packet.data[++e],i=this.getPts(e);this.flushDisplayed(i,t);for(var r=0;r<8;r++)n&1<<r&&t.windows[r].reset();return e},je.prototype.setPenAttributes=function(e,t){var n=this.current708Packet.data,i=n[e],r=t.currentWindow.penAttr;return i=n[++e],r.textTag=(240&i)>>4,r.offset=(12&i)>>2,r.penSize=3&i,i=n[++e],r.italics=(128&i)>>7,r.underline=(64&i)>>6,r.edgeType=(56&i)>>3,r.fontStyle=7&i,e},je.prototype.setPenColor=function(e,t){var n=this.current708Packet.data,i=n[e],r=t.currentWindow.penColor;return i=n[++e],r.fgOpacity=(192&i)>>6,r.fgRed=(48&i)>>4,r.fgGreen=(12&i)>>2,r.fgBlue=3&i,i=n[++e],r.bgOpacity=(192&i)>>6,r.bgRed=(48&i)>>4,r.bgGreen=(12&i)>>2,r.bgBlue=3&i,i=n[++e],r.edgeRed=(48&i)>>4,r.edgeGreen=(12&i)>>2,r.edgeBlue=3&i,e},je.prototype.setPenLocation=function(e,t){var n=this.current708Packet.data,i=n[e],r=t.currentWindow.penLoc;return t.currentWindow.pendingNewLine=!0,i=n[++e],r.row=15&i,i=n[++e],r.column=63&i,e},je.prototype.reset=function(e,t){var n=this.getPts(e);return this.flushDisplayed(n,t),this.initService(t.serviceNum,e)};var Be={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Ue=function(e){return null===e?"":(e=Be[e]||e,String.fromCharCode(e))},He=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],$e=function(){for(var e=[],t=15;t--;)e.push("");return e},Ge=function e(t,n){e.prototype.init.call(this),this.field_=t||0,this.dataChannel_=n||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(e){var t,n,i,r,o;if((t=32639&e.ccData)!==this.lastControlCode_){if(4096==(61440&t)?this.lastControlCode_=t:t!==this.PADDING_&&(this.lastControlCode_=null),i=t>>>8,r=255&t,t!==this.PADDING_)if(t===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(t===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(e.pts),this.flushDisplayed(e.pts),n=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=n,this.startPts_=e.pts;else if(t===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(e.pts);else if(t===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(e.pts);else if(t===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(e.pts);else if(t===this.CARRIAGE_RETURN_)this.clearFormatting(e.pts),this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts;else if(t===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(t===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(e.pts),this.displayed_=$e();else if(t===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=$e();else if(t===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(e.pts),this.displayed_=$e()),this.mode_="paintOn",this.startPts_=e.pts;else if(this.isSpecialCharacter(i,r))o=Ue((i=(3&i)<<8)|r),this[this.mode_](e.pts,o),this.column_++;else if(this.isExtCharacter(i,r))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),o=Ue((i=(3&i)<<8)|r),this[this.mode_](e.pts,o),this.column_++;else if(this.isMidRowCode(i,r))this.clearFormatting(e.pts),this[this.mode_](e.pts," "),this.column_++,14==(14&r)&&this.addFormatting(e.pts,["i"]),1==(1&r)&&this.addFormatting(e.pts,["u"]);else if(this.isOffsetControlCode(i,r))this.column_+=3&r;else if(this.isPAC(i,r)){var a=He.indexOf(7968&t);"rollUp"===this.mode_&&(a-this.rollUpRows_+1<0&&(a=this.rollUpRows_-1),this.setRollUp(e.pts,a)),a!==this.row_&&(this.clearFormatting(e.pts),this.row_=a),1&r&&-1===this.formatting_.indexOf("u")&&this.addFormatting(e.pts,["u"]),16==(16&t)&&(this.column_=4*((14&t)>>1)),this.isColorPAC(r)&&14==(14&r)&&this.addFormatting(e.pts,["i"])}else this.isNormalChar(i)&&(0===r&&(r=null),o=Ue(i),o+=Ue(r),this[this.mode_](e.pts,o),this.column_+=o.length)}else this.lastControlCode_=null}};Ge.prototype=new $,Ge.prototype.flushDisplayed=function(e){var t=this.displayed_.map((function(e,t){try{return e.trim()}catch(e){return this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+t+"."}),""}}),this).join("\n").replace(/^\n+|\n+$/g,"");t.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,text:t,stream:this.name_})},Ge.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=$e(),this.nonDisplayed_=$e(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},Ge.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},Ge.prototype.isSpecialCharacter=function(e,t){return e===this.EXT_&&t>=48&&t<=63},Ge.prototype.isExtCharacter=function(e,t){return(e===this.EXT_+1||e===this.EXT_+2)&&t>=32&&t<=63},Ge.prototype.isMidRowCode=function(e,t){return e===this.EXT_&&t>=32&&t<=47},Ge.prototype.isOffsetControlCode=function(e,t){return e===this.OFFSET_&&t>=33&&t<=35},Ge.prototype.isPAC=function(e,t){return e>=this.BASE_&&e<this.BASE_+8&&t>=64&&t<=127},Ge.prototype.isColorPAC=function(e){return e>=64&&e<=79||e>=96&&e<=127},Ge.prototype.isNormalChar=function(e){return e>=32&&e<=127},Ge.prototype.setRollUp=function(e,t){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(e),this.nonDisplayed_=$e(),this.displayed_=$e()),void 0!==t&&t!==this.row_)for(var n=0;n<this.rollUpRows_;n++)this.displayed_[t-n]=this.displayed_[this.row_-n],this.displayed_[this.row_-n]="";void 0===t&&(t=this.row_),this.topRow_=t-this.rollUpRows_+1},Ge.prototype.addFormatting=function(e,t){this.formatting_=this.formatting_.concat(t);var n=t.reduce((function(e,t){return e+"<"+t+">"}),"");this[this.mode_](e,n)},Ge.prototype.clearFormatting=function(e){if(this.formatting_.length){var t=this.formatting_.reverse().reduce((function(e,t){return e+"</"+t+">"}),"");this.formatting_=[],this[this.mode_](e,t)}},Ge.prototype.popOn=function(e,t){var n=this.nonDisplayed_[this.row_];n+=t,this.nonDisplayed_[this.row_]=n},Ge.prototype.rollUp=function(e,t){var n=this.displayed_[this.row_];n+=t,this.displayed_[this.row_]=n},Ge.prototype.shiftRowsUp_=function(){var e;for(e=0;e<this.topRow_;e++)this.displayed_[e]="";for(e=this.row_+1;e<15;e++)this.displayed_[e]="";for(e=this.topRow_;e<this.row_;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[this.row_]=""},Ge.prototype.paintOn=function(e,t){var n=this.displayed_[this.row_];n+=t,this.displayed_[this.row_]=n};var qe={CaptionStream:Ne,Cea608Stream:Ge,Cea708Stream:je},Ve={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},ze="shared",We=function(e,t){var n=1;for(e>t&&(n=-1);Math.abs(t-e)>4294967296;)e+=8589934592*n;return e},Ke=function e(t){var n,i;e.prototype.init.call(this),this.type_=t||ze,this.push=function(e){this.type_!==ze&&e.type!==this.type_||(void 0===i&&(i=e.dts),e.dts=We(e.dts,i),e.pts=We(e.pts,i),n=e.dts,this.trigger("data",e))},this.flush=function(){i=n,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){i=void 0,n=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};Ke.prototype=new $;var Ye,Je=Ke,Xe=We,Qe=function(e,t,n){var i,r="";for(i=t;i<n;i++)r+="%"+("00"+e[i].toString(16)).slice(-2);return r},Ze=function(e,t,n){return decodeURIComponent(Qe(e,t,n))},et=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},tt={TXXX:function(e){var t;if(3===e.data[0]){for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=Ze(e.data,1,t),e.value=Ze(e.data,t+1,e.data.length).replace(/\0*$/,"");break}e.data=e.value}},WXXX:function(e){var t;if(3===e.data[0])for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=Ze(e.data,1,t),e.url=Ze(e.data,t+1,e.data.length);break}},PRIV:function(e){var t,n;for(t=0;t<e.data.length;t++)if(0===e.data[t]){e.owner=(n=e.data,unescape(Qe(n,0,t)));break}e.privateData=e.data.subarray(t+1),e.data=e.privateData}};Ye=function(e){var t,n={descriptor:e&&e.descriptor},i=0,r=[],o=0;if(Ye.prototype.init.call(this),this.dispatchType=Ve.METADATA_STREAM_TYPE.toString(16),n.descriptor)for(t=0;t<n.descriptor.length;t++)this.dispatchType+=("00"+n.descriptor[t].toString(16)).slice(-2);this.push=function(e){var t,n,a,s,u;if("timed-metadata"===e.type)if(e.dataAlignmentIndicator&&(o=0,r.length=0),0===r.length&&(e.data.length<10||e.data[0]!=="I".charCodeAt(0)||e.data[1]!=="D".charCodeAt(0)||e.data[2]!=="3".charCodeAt(0)))this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});else if(r.push(e),o+=e.data.byteLength,1===r.length&&(i=et(e.data.subarray(6,10)),i+=10),!(o<i)){for(t={data:new Uint8Array(i),frames:[],pts:r[0].pts,dts:r[0].dts},u=0;u<i;)t.data.set(r[0].data.subarray(0,i-u),u),u+=r[0].data.byteLength,o-=r[0].data.byteLength,r.shift();n=10,64&t.data[5]&&(n+=4,n+=et(t.data.subarray(10,14)),i-=et(t.data.subarray(16,20)));do{if((a=et(t.data.subarray(n+4,n+8)))<1)return void this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping metadata parsing."});if((s={id:String.fromCharCode(t.data[n],t.data[n+1],t.data[n+2],t.data[n+3]),data:t.data.subarray(n+10,n+a+10)}).key=s.id,tt[s.id]&&(tt[s.id](s),"com.apple.streaming.transportStreamTimestamp"===s.owner)){var l=s.data,c=(1&l[3])<<30|l[4]<<22|l[5]<<14|l[6]<<6|l[7]>>>2;c*=4,c+=3&l[7],s.timeStamp=c,void 0===t.pts&&void 0===t.dts&&(t.pts=s.timeStamp,t.dts=s.timeStamp),this.trigger("timestamp",s)}t.frames.push(s),n+=10,n+=a}while(n<i);this.trigger("data",t)}}},Ye.prototype=new $;var nt,it,rt,ot=Ye,at=Je,st=188;(nt=function(){var e=new Uint8Array(st),t=0;nt.prototype.init.call(this),this.push=function(n){var i,r=0,o=st;for(t?((i=new Uint8Array(n.byteLength+t)).set(e.subarray(0,t)),i.set(n,t),t=0):i=n;o<i.byteLength;)71!==i[r]||71!==i[o]?(r++,o++):(this.trigger("data",i.subarray(r,o)),r+=st,o+=st);r<i.byteLength&&(e.set(i.subarray(r),0),t=i.byteLength-r)},this.flush=function(){t===st&&71===e[0]&&(this.trigger("data",e),t=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){t=0,this.trigger("reset")}}).prototype=new $,it=function(){var e,t,n,i;it.prototype.init.call(this),i=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,e=function(e,i){var r=0;i.payloadUnitStartIndicator&&(r+=e[r]+1),"pat"===i.type?t(e.subarray(r),i):n(e.subarray(r),i)},t=function(e,t){t.section_number=e[7],t.last_section_number=e[8],i.pmtPid=(31&e[10])<<8|e[11],t.pmtPid=i.pmtPid},n=function(e,t){var n,r;if(1&e[5]){for(i.programMapTable={video:null,audio:null,"timed-metadata":{}},n=3+((15&e[1])<<8|e[2])-4,r=12+((15&e[10])<<8|e[11]);r<n;){var o=e[r],a=(31&e[r+1])<<8|e[r+2];o===Ve.H264_STREAM_TYPE&&null===i.programMapTable.video?i.programMapTable.video=a:o===Ve.ADTS_STREAM_TYPE&&null===i.programMapTable.audio?i.programMapTable.audio=a:o===Ve.METADATA_STREAM_TYPE&&(i.programMapTable["timed-metadata"][a]=o),r+=5+((15&e[r+3])<<8|e[r+4])}t.programMapTable=i.programMapTable}},this.push=function(t){var n={},i=4;if(n.payloadUnitStartIndicator=!!(64&t[1]),n.pid=31&t[1],n.pid<<=8,n.pid|=t[2],(48&t[3])>>>4>1&&(i+=t[i]+1),0===n.pid)n.type="pat",e(t.subarray(i),n),this.trigger("data",n);else if(n.pid===this.pmtPid)for(n.type="pmt",e(t.subarray(i),n),this.trigger("data",n);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([t,i,n]):this.processPes_(t,i,n)},this.processPes_=function(e,t,n){n.pid===this.programMapTable.video?n.streamType=Ve.H264_STREAM_TYPE:n.pid===this.programMapTable.audio?n.streamType=Ve.ADTS_STREAM_TYPE:n.streamType=this.programMapTable["timed-metadata"][n.pid],n.type="pes",n.data=e.subarray(t),this.trigger("data",n)}},it.prototype=new $,it.STREAM_TYPES={h264:27,adts:15},rt=function(){var e,t=this,n=!1,i={data:[],size:0},r={data:[],size:0},o={data:[],size:0},a=function(e,n,i){var r,o,a=new Uint8Array(e.size),s={type:n},u=0,l=0;if(e.data.length&&!(e.size<9)){for(s.trackId=e.data[0].pid,u=0;u<e.data.length;u++)o=e.data[u],a.set(o.data,l),l+=o.data.byteLength;var c,d,p,h;d=s,h=(c=a)[0]<<16|c[1]<<8|c[2],d.data=new Uint8Array,1===h&&(d.packetLength=6+(c[4]<<8|c[5]),d.dataAlignmentIndicator=0!=(4&c[6]),192&(p=c[7])&&(d.pts=(14&c[9])<<27|(255&c[10])<<20|(254&c[11])<<12|(255&c[12])<<5|(254&c[13])>>>3,d.pts*=4,d.pts+=(6&c[13])>>>1,d.dts=d.pts,64&p&&(d.dts=(14&c[14])<<27|(255&c[15])<<20|(254&c[16])<<12|(255&c[17])<<5|(254&c[18])>>>3,d.dts*=4,d.dts+=(6&c[18])>>>1)),d.data=c.subarray(9+c[8])),r="video"===n||s.packetLength<=e.size,(i||r)&&(e.size=0,e.data.length=0),r&&t.trigger("data",s)}};rt.prototype.init.call(this),this.push=function(s){({pat:function(){},pes:function(){var e,t;switch(s.streamType){case Ve.H264_STREAM_TYPE:e=i,t="video";break;case Ve.ADTS_STREAM_TYPE:e=r,t="audio";break;case Ve.METADATA_STREAM_TYPE:e=o,t="timed-metadata";break;default:return}s.payloadUnitStartIndicator&&a(e,t,!0),e.data.push(s),e.size+=s.data.byteLength},pmt:function(){var i={type:"metadata",tracks:[]};null!==(e=s.programMapTable).video&&i.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.video,codec:"avc",type:"video"}),null!==e.audio&&i.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.audio,codec:"adts",type:"audio"}),n=!0,t.trigger("data",i)}})[s.type]()},this.reset=function(){i.size=0,i.data.length=0,r.size=0,r.data.length=0,this.trigger("reset")},this.flushStreams_=function(){a(i,"video"),a(r,"audio"),a(o,"timed-metadata")},this.flush=function(){if(!n&&e){var i={type:"metadata",tracks:[]};null!==e.video&&i.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.video,codec:"avc",type:"video"}),null!==e.audio&&i.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.audio,codec:"adts",type:"audio"}),t.trigger("data",i)}n=!1,this.flushStreams_(),this.trigger("done")}},rt.prototype=new $;var ut={PAT_PID:0,MP2T_PACKET_LENGTH:st,TransportPacketStream:nt,TransportParseStream:it,ElementaryStream:rt,TimestampRolloverStream:at,CaptionStream:qe.CaptionStream,Cea608Stream:qe.Cea608Stream,Cea708Stream:qe.Cea708Stream,MetadataStream:ot};for(var lt in Ve)Ve.hasOwnProperty(lt)&&(ut[lt]=Ve[lt]);var ct,dt=ut,pt=fe,ht=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];ct=function(e){var t,n=0;ct.prototype.init.call(this),this.skipWarn_=function(e,t){this.trigger("log",{level:"warn",message:"adts skiping bytes "+e+" to "+t+" in frame "+n+" outside syncword"})},this.push=function(i){var r,o,a,s,u,l=0;if(e||(n=0),"audio"===i.type){var c;for(t&&t.length?(a=t,(t=new Uint8Array(a.byteLength+i.data.byteLength)).set(a),t.set(i.data,a.byteLength)):t=i.data;l+7<t.length;)if(255===t[l]&&240==(246&t[l+1])){if("number"==typeof c&&(this.skipWarn_(c,l),c=null),o=2*(1&~t[l+1]),r=(3&t[l+3])<<11|t[l+4]<<3|(224&t[l+5])>>5,u=(s=1024*(1+(3&t[l+6])))*pt/ht[(60&t[l+2])>>>2],t.byteLength-l<r)break;this.trigger("data",{pts:i.pts+n*u,dts:i.dts+n*u,sampleCount:s,audioobjecttype:1+(t[l+2]>>>6&3),channelcount:(1&t[l+2])<<2|(192&t[l+3])>>>6,samplerate:ht[(60&t[l+2])>>>2],samplingfrequencyindex:(60&t[l+2])>>>2,samplesize:16,data:t.subarray(l+7+o,l+r)}),n++,l+=r}else"number"!=typeof c&&(c=l),l++;"number"==typeof c&&(this.skipWarn_(c,l),c=null),t=t.subarray(l)}},this.flush=function(){n=0,this.trigger("done")},this.reset=function(){t=void 0,this.trigger("reset")},this.endTimeline=function(){t=void 0,this.trigger("endedtimeline")}},ct.prototype=new $;var ft,mt,gt,yt=ct,vt=function(e){var t=e.byteLength,n=0,i=0;this.length=function(){return 8*t},this.bitsAvailable=function(){return 8*t+i},this.loadWord=function(){var r=e.byteLength-t,o=new Uint8Array(4),a=Math.min(4,t);if(0===a)throw new Error("no bytes available");o.set(e.subarray(r,r+a)),n=new DataView(o.buffer).getUint32(0),i=8*a,t-=a},this.skipBits=function(e){var r;i>e?(n<<=e,i-=e):(e-=i,e-=8*(r=Math.floor(e/8)),t-=r,this.loadWord(),n<<=e,i-=e)},this.readBits=function(e){var r=Math.min(i,e),o=n>>>32-r;return(i-=r)>0?n<<=r:t>0&&this.loadWord(),(r=e-r)>0?o<<r|this.readBits(r):o},this.skipLeadingZeros=function(){var e;for(e=0;e<i;++e)if(0!=(n&2147483648>>>e))return n<<=e,i-=e,e;return this.loadWord(),e+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var e=this.skipLeadingZeros();return this.readBits(e+1)-1},this.readExpGolomb=function(){var e=this.readUnsignedExpGolomb();return 1&e?1+e>>>1:-1*(e>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};mt=function(){var e,t,n=0;mt.prototype.init.call(this),this.push=function(i){var r;t?((r=new Uint8Array(t.byteLength+i.data.byteLength)).set(t),r.set(i.data,t.byteLength),t=r):t=i.data;for(var o=t.byteLength;n<o-3;n++)if(1===t[n+2]){e=n+5;break}for(;e<o;)switch(t[e]){case 0:if(0!==t[e-1]){e+=2;break}if(0!==t[e-2]){e++;break}n+3!==e-2&&this.trigger("data",t.subarray(n+3,e-2));do{e++}while(1!==t[e]&&e<o);n=e-2,e+=3;break;case 1:if(0!==t[e-1]||0!==t[e-2]){e+=3;break}this.trigger("data",t.subarray(n+3,e-2)),n=e-2,e+=3;break;default:e+=3}t=t.subarray(n),e-=n,n=0},this.reset=function(){t=null,n=0,this.trigger("reset")},this.flush=function(){t&&t.byteLength>3&&this.trigger("data",t.subarray(n+3)),t=null,n=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},mt.prototype=new $,gt={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},ft=function(){var e,t,n,i,r,o,a,s=new mt;ft.prototype.init.call(this),e=this,this.push=function(e){"video"===e.type&&(t=e.trackId,n=e.pts,i=e.dts,s.push(e))},s.on("data",(function(a){var s={trackId:t,pts:n,dts:i,data:a,nalUnitTypeCode:31&a[0]};switch(s.nalUnitTypeCode){case 5:s.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:s.nalUnitType="sei_rbsp",s.escapedRBSP=r(a.subarray(1));break;case 7:s.nalUnitType="seq_parameter_set_rbsp",s.escapedRBSP=r(a.subarray(1)),s.config=o(s.escapedRBSP);break;case 8:s.nalUnitType="pic_parameter_set_rbsp";break;case 9:s.nalUnitType="access_unit_delimiter_rbsp"}e.trigger("data",s)})),s.on("done",(function(){e.trigger("done")})),s.on("partialdone",(function(){e.trigger("partialdone")})),s.on("reset",(function(){e.trigger("reset")})),s.on("endedtimeline",(function(){e.trigger("endedtimeline")})),this.flush=function(){s.flush()},this.partialFlush=function(){s.partialFlush()},this.reset=function(){s.reset()},this.endTimeline=function(){s.endTimeline()},a=function(e,t){var n,i=8,r=8;for(n=0;n<e;n++)0!==r&&(r=(i+t.readExpGolomb()+256)%256),i=0===r?i:r},r=function(e){for(var t,n,i=e.byteLength,r=[],o=1;o<i-2;)0===e[o]&&0===e[o+1]&&3===e[o+2]?(r.push(o+2),o+=2):o++;if(0===r.length)return e;t=i-r.length,n=new Uint8Array(t);var a=0;for(o=0;o<t;a++,o++)a===r[0]&&(a++,r.shift()),n[o]=e[a];return n},o=function(e){var t,n,i,r,o,s,u,l,c,d,p,h,f=0,m=0,g=0,y=0,v=[1,1];if(n=(t=new vt(e)).readUnsignedByte(),r=t.readUnsignedByte(),i=t.readUnsignedByte(),t.skipUnsignedExpGolomb(),gt[n]&&(3===(o=t.readUnsignedExpGolomb())&&t.skipBits(1),t.skipUnsignedExpGolomb(),t.skipUnsignedExpGolomb(),t.skipBits(1),t.readBoolean()))for(p=3!==o?8:12,h=0;h<p;h++)t.readBoolean()&&a(h<6?16:64,t);if(t.skipUnsignedExpGolomb(),0===(s=t.readUnsignedExpGolomb()))t.readUnsignedExpGolomb();else if(1===s)for(t.skipBits(1),t.skipExpGolomb(),t.skipExpGolomb(),u=t.readUnsignedExpGolomb(),h=0;h<u;h++)t.skipExpGolomb();if(t.skipUnsignedExpGolomb(),t.skipBits(1),l=t.readUnsignedExpGolomb(),c=t.readUnsignedExpGolomb(),0===(d=t.readBits(1))&&t.skipBits(1),t.skipBits(1),t.readBoolean()&&(f=t.readUnsignedExpGolomb(),m=t.readUnsignedExpGolomb(),g=t.readUnsignedExpGolomb(),y=t.readUnsignedExpGolomb()),t.readBoolean()&&t.readBoolean()){switch(t.readUnsignedByte()){case 1:v=[1,1];break;case 2:v=[12,11];break;case 3:v=[10,11];break;case 4:v=[16,11];break;case 5:v=[40,33];break;case 6:v=[24,11];break;case 7:v=[20,11];break;case 8:v=[32,11];break;case 9:v=[80,33];break;case 10:v=[18,11];break;case 11:v=[15,11];break;case 12:v=[64,33];break;case 13:v=[160,99];break;case 14:v=[4,3];break;case 15:v=[3,2];break;case 16:v=[2,1];break;case 255:v=[t.readUnsignedByte()<<8|t.readUnsignedByte(),t.readUnsignedByte()<<8|t.readUnsignedByte()]}v&&(v[0],v[1])}return{profileIdc:n,levelIdc:i,profileCompatibility:r,width:16*(l+1)-2*f-2*m,height:(2-d)*(c+1)*16-2*g-2*y,sarRatio:v}}},ft.prototype=new $;var _t,bt={H264Stream:ft,NalByteStream:mt},wt=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],Et=function(e,t){var n=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return n=n>=0?n:0,(16&e[t+5])>>4?n+20:n+10},St=function e(t,n){return t.length-n<10||t[n]!=="I".charCodeAt(0)||t[n+1]!=="D".charCodeAt(0)||t[n+2]!=="3".charCodeAt(0)?n:e(t,n+=Et(t,n))},Tt=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},Ct={isLikelyAacData:function(e){var t=St(e,0);return e.length>=t+2&&255==(255&e[t])&&240==(240&e[t+1])&&16==(22&e[t+1])},parseId3TagSize:Et,parseAdtsSize:function(e,t){var n=(224&e[t+5])>>5,i=e[t+4]<<3;return 6144&e[t+3]|i|n},parseType:function(e,t){return e[t]==="I".charCodeAt(0)&&e[t+1]==="D".charCodeAt(0)&&e[t+2]==="3".charCodeAt(0)?"timed-metadata":!0&e[t]&&240==(240&e[t+1])?"audio":null},parseSampleRate:function(e){for(var t=0;t+5<e.length;){if(255===e[t]&&240==(246&e[t+1]))return wt[(60&e[t+2])>>>2];t++}return null},parseAacTimestamp:function(e){var t,n,i;t=10,64&e[5]&&(t+=4,t+=Tt(e.subarray(10,14)));do{if((n=Tt(e.subarray(t+4,t+8)))<1)return null;if("PRIV"===String.fromCharCode(e[t],e[t+1],e[t+2],e[t+3])){i=e.subarray(t+10,t+n+10);for(var r=0;r<i.byteLength;r++)if(0===i[r]){var o=unescape(function(e,t,n){var i,r="";for(i=t;i<n;i++)r+="%"+("00"+e[i].toString(16)).slice(-2);return r}(i,0,r));if("com.apple.streaming.transportStreamTimestamp"===o){var a=i.subarray(r+1),s=(1&a[3])<<30|a[4]<<22|a[5]<<14|a[6]<<6|a[7]>>>2;return s*=4,s+=3&a[7]}break}}t+=10,t+=n}while(t<e.byteLength);return null}};(_t=function(){var e=new Uint8Array,t=0;_t.prototype.init.call(this),this.setTimestamp=function(e){t=e},this.push=function(n){var i,r,o,a,s=0,u=0;for(e.length?(a=e.length,(e=new Uint8Array(n.byteLength+a)).set(e.subarray(0,a)),e.set(n,a)):e=n;e.length-u>=3;)if(e[u]!=="I".charCodeAt(0)||e[u+1]!=="D".charCodeAt(0)||e[u+2]!=="3".charCodeAt(0))if(255!=(255&e[u])||240!=(240&e[u+1]))u++;else{if(e.length-u<7)break;if(u+(s=Ct.parseAdtsSize(e,u))>e.length)break;o={type:"audio",data:e.subarray(u,u+s),pts:t,dts:t},this.trigger("data",o),u+=s}else{if(e.length-u<10)break;if(u+(s=Ct.parseId3TagSize(e,u))>e.length)break;r={type:"timed-metadata",data:e.subarray(u,u+s)},this.trigger("data",r),u+=s}i=e.length-u,e=i>0?e.subarray(u):new Uint8Array},this.reset=function(){e=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){e=new Uint8Array,this.trigger("endedtimeline")}}).prototype=new $;var xt,At,kt,It,Dt=_t,Ot=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],Pt=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],Nt=bt.H264Stream,Rt=Ct.isLikelyAacData,Lt=fe,Mt=function(e,t){t.stream=e,this.trigger("log",t)},Ft=function(e,t){for(var n=Object.keys(t),i=0;i<n.length;i++){var r=n[i];"headOfPipeline"!==r&&t[r].on&&t[r].on("log",Mt.bind(e,r))}},jt=function(e,t){var n;if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},Bt=function(e,t,n,i,r,o){return{start:{dts:e,pts:e+(n-t)},end:{dts:e+(i-t),pts:e+(r-n)},prependedContentDuration:o,baseMediaDecodeTime:e}};At=function(e,t){var n,i=[],r=0,o=0,a=1/0;n=(t=t||{}).firstSequenceNumber||0,At.prototype.init.call(this),this.push=function(t){Ae(e,t),e&&Ot.forEach((function(n){e[n]=t[n]})),i.push(t)},this.setEarliestDts=function(e){r=e},this.setVideoBaseMediaDecodeTime=function(e){a=e},this.setAudioAppendStart=function(e){o=e},this.flush=function(){var s,u,l,c,d,p,h;0!==i.length?(s=we(i,e,r),e.baseMediaDecodeTime=xe(e,t.keepOriginalTimestamps),h=be(e,s,o,a),e.samples=Ee(s),l=ee(Se(s)),i=[],u=te(n,[e]),c=new Uint8Array(u.byteLength+l.byteLength),n++,c.set(u),c.set(l,u.byteLength),Ce(e),d=Math.ceil(1024*Lt/e.samplerate),s.length&&(p=s.length*d,this.trigger("segmentTimingInfo",Bt(ye(e.baseMediaDecodeTime,e.samplerate),s[0].dts,s[0].pts,s[0].dts+p,s[0].pts+p,h||0)),this.trigger("timingInfo",{start:s[0].pts,end:s[0].pts+p})),this.trigger("data",{track:e,boxes:c}),this.trigger("done","AudioSegmentStream")):this.trigger("done","AudioSegmentStream")},this.reset=function(){Ce(e),i=[],this.trigger("reset")}},At.prototype=new $,xt=function(e,t){var n,i,r,o=[],a=[];n=(t=t||{}).firstSequenceNumber||0,xt.prototype.init.call(this),delete e.minPTS,this.gopCache_=[],this.push=function(t){Ae(e,t),"seq_parameter_set_rbsp"!==t.nalUnitType||i||(i=t.config,e.sps=[t.data],Pt.forEach((function(t){e[t]=i[t]}),this)),"pic_parameter_set_rbsp"!==t.nalUnitType||r||(r=t.data,e.pps=[t.data]),o.push(t)},this.flush=function(){for(var i,r,s,u,l,c,d,p,h=0;o.length&&"access_unit_delimiter_rbsp"!==o[0].nalUnitType;)o.shift();if(0===o.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(i=re(o),(s=oe(i))[0][0].keyFrame||((r=this.getGopForFusion_(o[0],e))?(h=r.duration,s.unshift(r),s.byteLength+=r.byteLength,s.nalCount+=r.nalCount,s.pts=r.pts,s.dts=r.dts,s.duration+=r.duration):s=ae(s)),a.length){var f;if(!(f=t.alignGopsAtEnd?this.alignGopsAtEnd_(s):this.alignGopsAtStart_(s)))return this.gopCache_.unshift({gop:s.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");Ce(e),s=f}Ae(e,s),e.samples=se(s),l=ee(ue(s)),e.baseMediaDecodeTime=xe(e,t.keepOriginalTimestamps),this.trigger("processedGopsInfo",s.map((function(e){return{pts:e.pts,dts:e.dts,byteLength:e.byteLength}}))),d=s[0],p=s[s.length-1],this.trigger("segmentTimingInfo",Bt(e.baseMediaDecodeTime,d.dts,d.pts,p.dts+p.duration,p.pts+p.duration,h)),this.trigger("timingInfo",{start:s[0].pts,end:s[s.length-1].pts+s[s.length-1].duration}),this.gopCache_.unshift({gop:s.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.trigger("baseMediaDecodeTime",e.baseMediaDecodeTime),this.trigger("timelineStartInfo",e.timelineStartInfo),u=te(n,[e]),c=new Uint8Array(u.byteLength+l.byteLength),n++,c.set(u),c.set(l,u.byteLength),this.trigger("data",{track:e,boxes:c}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),o=[],this.gopCache_.length=0,a.length=0,this.trigger("reset")},this.resetStream_=function(){Ce(e),i=void 0,r=void 0},this.getGopForFusion_=function(t){var n,i,r,o,a,s=1/0;for(a=0;a<this.gopCache_.length;a++)r=(o=this.gopCache_[a]).gop,e.pps&&jt(e.pps[0],o.pps[0])&&e.sps&&jt(e.sps[0],o.sps[0])&&(r.dts<e.timelineStartInfo.dts||(n=t.dts-r.dts-r.duration)>=-1e4&&n<=45e3&&(!i||s>n)&&(i=o,s=n));return i?i.gop:null},this.alignGopsAtStart_=function(e){var t,n,i,r,o,s,u,l;for(o=e.byteLength,s=e.nalCount,u=e.duration,t=n=0;t<a.length&&n<e.length&&(i=a[t],r=e[n],i.pts!==r.pts);)r.pts>i.pts?t++:(n++,o-=r.byteLength,s-=r.nalCount,u-=r.duration);return 0===n?e:n===e.length?null:((l=e.slice(n)).byteLength=o,l.duration=u,l.nalCount=s,l.pts=l[0].pts,l.dts=l[0].dts,l)},this.alignGopsAtEnd_=function(e){var t,n,i,r,o,s,u;for(t=a.length-1,n=e.length-1,o=null,s=!1;t>=0&&n>=0;){if(i=a[t],r=e[n],i.pts===r.pts){s=!0;break}i.pts>r.pts?t--:(t===a.length-1&&(o=n),n--)}if(!s&&null===o)return null;if(0===(u=s?n:o))return e;var l=e.slice(u),c=l.reduce((function(e,t){return e.byteLength+=t.byteLength,e.duration+=t.duration,e.nalCount+=t.nalCount,e}),{byteLength:0,duration:0,nalCount:0});return l.byteLength=c.byteLength,l.duration=c.duration,l.nalCount=c.nalCount,l.pts=l[0].pts,l.dts=l[0].dts,l},this.alignGopsWith=function(e){a=e}},xt.prototype=new $,It=function(e,t){this.numberOfTracks=0,this.metadataStream=t,void 0!==(e=e||{}).remux?this.remuxTracks=!!e.remux:this.remuxTracks=!0,"boolean"==typeof e.keepOriginalTimestamps?this.keepOriginalTimestamps=e.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,It.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):(this.pendingTracks.push(e.track),this.pendingBytes+=e.boxes.byteLength,"video"===e.track.type&&(this.videoTrack=e.track,this.pendingBoxes.push(e.boxes)),void("audio"===e.track.type&&(this.audioTrack=e.track,this.pendingBoxes.unshift(e.boxes))))}},It.prototype=new $,It.prototype.flush=function(e){var t,n,i,r,o=0,a={captions:[],captionStreams:{},metadata:[],info:{}},s=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}if(this.videoTrack?(s=this.videoTrack.timelineStartInfo.pts,Pt.forEach((function(e){a.info[e]=this.videoTrack[e]}),this)):this.audioTrack&&(s=this.audioTrack.timelineStartInfo.pts,Ot.forEach((function(e){a.info[e]=this.audioTrack[e]}),this)),this.videoTrack||this.audioTrack){for(1===this.pendingTracks.length?a.type=this.pendingTracks[0].type:a.type="combined",this.emittedTracks+=this.pendingTracks.length,i=ne(this.pendingTracks),a.initSegment=new Uint8Array(i.byteLength),a.initSegment.set(i),a.data=new Uint8Array(this.pendingBytes),r=0;r<this.pendingBoxes.length;r++)a.data.set(this.pendingBoxes[r],o),o+=this.pendingBoxes[r].byteLength;for(r=0;r<this.pendingCaptions.length;r++)(t=this.pendingCaptions[r]).startTime=_e(t.startPts,s,this.keepOriginalTimestamps),t.endTime=_e(t.endPts,s,this.keepOriginalTimestamps),a.captionStreams[t.stream]=!0,a.captions.push(t);for(r=0;r<this.pendingMetadata.length;r++)(n=this.pendingMetadata[r]).cueTime=_e(n.pts,s,this.keepOriginalTimestamps),a.metadata.push(n);for(a.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",a),r=0;r<a.captions.length;r++)t=a.captions[r],this.trigger("caption",t);for(r=0;r<a.metadata.length;r++)n=a.metadata[r],this.trigger("id3Frame",n)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},It.prototype.setRemux=function(e){this.remuxTracks=e},kt=function(e){var t,n,i=this,r=!0;kt.prototype.init.call(this),e=e||{},this.baseMediaDecodeTime=e.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var r={};this.transmuxPipeline_=r,r.type="aac",r.metadataStream=new dt.MetadataStream,r.aacStream=new Dt,r.audioTimestampRolloverStream=new dt.TimestampRolloverStream("audio"),r.timedMetadataTimestampRolloverStream=new dt.TimestampRolloverStream("timed-metadata"),r.adtsStream=new yt,r.coalesceStream=new It(e,r.metadataStream),r.headOfPipeline=r.aacStream,r.aacStream.pipe(r.audioTimestampRolloverStream).pipe(r.adtsStream),r.aacStream.pipe(r.timedMetadataTimestampRolloverStream).pipe(r.metadataStream).pipe(r.coalesceStream),r.metadataStream.on("timestamp",(function(e){r.aacStream.setTimestamp(e.timeStamp)})),r.aacStream.on("data",(function(o){"timed-metadata"!==o.type&&"audio"!==o.type||r.audioSegmentStream||(n=n||{timelineStartInfo:{baseMediaDecodeTime:i.baseMediaDecodeTime},codec:"adts",type:"audio"},r.coalesceStream.numberOfTracks++,r.audioSegmentStream=new At(n,e),r.audioSegmentStream.on("log",i.getLogTrigger_("audioSegmentStream")),r.audioSegmentStream.on("timingInfo",i.trigger.bind(i,"audioTimingInfo")),r.adtsStream.pipe(r.audioSegmentStream).pipe(r.coalesceStream),i.trigger("trackinfo",{hasAudio:!!n,hasVideo:!!t}))})),r.coalesceStream.on("data",this.trigger.bind(this,"data")),r.coalesceStream.on("done",this.trigger.bind(this,"done")),Ft(this,r)},this.setupTsPipeline=function(){var r={};this.transmuxPipeline_=r,r.type="ts",r.metadataStream=new dt.MetadataStream,r.packetStream=new dt.TransportPacketStream,r.parseStream=new dt.TransportParseStream,r.elementaryStream=new dt.ElementaryStream,r.timestampRolloverStream=new dt.TimestampRolloverStream,r.adtsStream=new yt,r.h264Stream=new Nt,r.captionStream=new dt.CaptionStream(e),r.coalesceStream=new It(e,r.metadataStream),r.headOfPipeline=r.packetStream,r.packetStream.pipe(r.parseStream).pipe(r.elementaryStream).pipe(r.timestampRolloverStream),r.timestampRolloverStream.pipe(r.h264Stream),r.timestampRolloverStream.pipe(r.adtsStream),r.timestampRolloverStream.pipe(r.metadataStream).pipe(r.coalesceStream),r.h264Stream.pipe(r.captionStream).pipe(r.coalesceStream),r.elementaryStream.on("data",(function(o){var a;if("metadata"===o.type){for(a=o.tracks.length;a--;)t||"video"!==o.tracks[a].type?n||"audio"!==o.tracks[a].type||((n=o.tracks[a]).timelineStartInfo.baseMediaDecodeTime=i.baseMediaDecodeTime):(t=o.tracks[a]).timelineStartInfo.baseMediaDecodeTime=i.baseMediaDecodeTime;t&&!r.videoSegmentStream&&(r.coalesceStream.numberOfTracks++,r.videoSegmentStream=new xt(t,e),r.videoSegmentStream.on("log",i.getLogTrigger_("videoSegmentStream")),r.videoSegmentStream.on("timelineStartInfo",(function(t){n&&!e.keepOriginalTimestamps&&(n.timelineStartInfo=t,r.audioSegmentStream.setEarliestDts(t.dts-i.baseMediaDecodeTime))})),r.videoSegmentStream.on("processedGopsInfo",i.trigger.bind(i,"gopInfo")),r.videoSegmentStream.on("segmentTimingInfo",i.trigger.bind(i,"videoSegmentTimingInfo")),r.videoSegmentStream.on("baseMediaDecodeTime",(function(e){n&&r.audioSegmentStream.setVideoBaseMediaDecodeTime(e)})),r.videoSegmentStream.on("timingInfo",i.trigger.bind(i,"videoTimingInfo")),r.h264Stream.pipe(r.videoSegmentStream).pipe(r.coalesceStream)),n&&!r.audioSegmentStream&&(r.coalesceStream.numberOfTracks++,r.audioSegmentStream=new At(n,e),r.audioSegmentStream.on("log",i.getLogTrigger_("audioSegmentStream")),r.audioSegmentStream.on("timingInfo",i.trigger.bind(i,"audioTimingInfo")),r.audioSegmentStream.on("segmentTimingInfo",i.trigger.bind(i,"audioSegmentTimingInfo")),r.adtsStream.pipe(r.audioSegmentStream).pipe(r.coalesceStream)),i.trigger("trackinfo",{hasAudio:!!n,hasVideo:!!t})}})),r.coalesceStream.on("data",this.trigger.bind(this,"data")),r.coalesceStream.on("id3Frame",(function(e){e.dispatchType=r.metadataStream.dispatchType,i.trigger("id3Frame",e)})),r.coalesceStream.on("caption",this.trigger.bind(this,"caption")),r.coalesceStream.on("done",this.trigger.bind(this,"done")),Ft(this,r)},this.setBaseMediaDecodeTime=function(i){var r=this.transmuxPipeline_;e.keepOriginalTimestamps||(this.baseMediaDecodeTime=i),n&&(n.timelineStartInfo.dts=void 0,n.timelineStartInfo.pts=void 0,Ce(n),r.audioTimestampRolloverStream&&r.audioTimestampRolloverStream.discontinuity()),t&&(r.videoSegmentStream&&(r.videoSegmentStream.gopCache_=[]),t.timelineStartInfo.dts=void 0,t.timelineStartInfo.pts=void 0,Ce(t),r.captionStream.reset()),r.timestampRolloverStream&&r.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(e){n&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)},this.setRemux=function(t){var n=this.transmuxPipeline_;e.remux=t,n&&n.coalesceStream&&n.coalesceStream.setRemux(t)},this.alignGopsWith=function(e){t&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(e)},this.getLogTrigger_=function(e){var t=this;return function(n){n.stream=e,t.trigger("log",n)}},this.push=function(e){if(r){var t=Rt(e);t&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():t||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),r=!1}this.transmuxPipeline_.headOfPipeline.push(e)},this.flush=function(){r=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},kt.prototype=new $;var Ut,Ht,$t,Gt={Transmuxer:kt,VideoSegmentStream:xt,AudioSegmentStream:At,AUDIO_PROPERTIES:Ot,VIDEO_PROPERTIES:Pt,generateSegmentTimingInfo:Bt},qt=function(e){return e>>>0},Vt=function(e){var t="";return t+=String.fromCharCode(e[0]),t+=String.fromCharCode(e[1]),t+=String.fromCharCode(e[2]),t+=String.fromCharCode(e[3])},zt=qt,Wt=function e(t,n){var i,r,o,a,s,u=[];if(!n.length)return null;for(i=0;i<t.byteLength;)r=zt(t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3]),o=Vt(t.subarray(i+4,i+8)),a=r>1?i+r:t.byteLength,o===n[0]&&(1===n.length?u.push(t.subarray(i+8,a)):(s=e(t.subarray(i+8,a),n.slice(1))).length&&(u=u.concat(s))),i=a;return u},Kt=qt,Yt=q.getUint64,Jt=function(e){var t={version:e[0],flags:new Uint8Array(e.subarray(1,4))};return 1===t.version?t.baseMediaDecodeTime=Yt(e.subarray(4)):t.baseMediaDecodeTime=Kt(e[4]<<24|e[5]<<16|e[6]<<8|e[7]),t},Xt=function(e){return{isLeading:(12&e[0])>>>2,dependsOn:3&e[0],isDependedOn:(192&e[1])>>>6,hasRedundancy:(48&e[1])>>>4,paddingValue:(14&e[1])>>>1,isNonSyncSample:1&e[1],degradationPriority:e[2]<<8|e[3]}},Qt=function(e){var t,n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]},i=new DataView(e.buffer,e.byteOffset,e.byteLength),r=1&n.flags[2],o=4&n.flags[2],a=1&n.flags[1],s=2&n.flags[1],u=4&n.flags[1],l=8&n.flags[1],c=i.getUint32(4),d=8;for(r&&(n.dataOffset=i.getInt32(d),d+=4),o&&c&&(t={flags:Xt(e.subarray(d,d+4))},d+=4,a&&(t.duration=i.getUint32(d),d+=4),s&&(t.size=i.getUint32(d),d+=4),l&&(1===n.version?t.compositionTimeOffset=i.getInt32(d):t.compositionTimeOffset=i.getUint32(d),d+=4),n.samples.push(t),c--);c--;)t={},a&&(t.duration=i.getUint32(d),d+=4),s&&(t.size=i.getUint32(d),d+=4),u&&(t.flags=Xt(e.subarray(d,d+4)),d+=4),l&&(1===n.version?t.compositionTimeOffset=i.getInt32(d):t.compositionTimeOffset=i.getUint32(d),d+=4),n.samples.push(t);return n},Zt=function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:n.getUint32(4)},r=1&i.flags[2],o=2&i.flags[2],a=8&i.flags[2],s=16&i.flags[2],u=32&i.flags[2],l=65536&i.flags[0],c=131072&i.flags[0];return t=8,r&&(t+=4,i.baseDataOffset=n.getUint32(12),t+=4),o&&(i.sampleDescriptionIndex=n.getUint32(t),t+=4),a&&(i.defaultSampleDuration=n.getUint32(t),t+=4),s&&(i.defaultSampleSize=n.getUint32(t),t+=4),u&&(i.defaultSampleFlags=n.getUint32(t)),l&&(i.durationIsEmpty=!0),!r&&c&&(i.baseDataOffsetIsMoof=!0),i},en="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n?n:"undefined"!=typeof self?self:{},tn="undefined"!=typeof window?window:void 0!==en?en:"undefined"!=typeof self?self:{},nn=Oe,rn=qe.CaptionStream,on=function(e,t){for(var n=e,i=0;i<t.length;i++){var r=t[i];if(n<r.size)return r;n-=r.size}return null},an=function(e,t){var n=Wt(e,["moof","traf"]),i=Wt(e,["mdat"]),r={},o=[];return i.forEach((function(e,t){var i=n[t];o.push({mdat:e,traf:i})})),o.forEach((function(e){var n,i,o=e.mdat,a=e.traf,s=Wt(a,["tfhd"]),u=Zt(s[0]),l=u.trackId,c=Wt(a,["tfdt"]),d=c.length>0?Jt(c[0]).baseMediaDecodeTime:0,p=Wt(a,["trun"]);t===l&&p.length>0&&(n=function(e,t,n){var i=t,r=n.defaultSampleDuration||0,o=n.defaultSampleSize||0,a=n.trackId,s=[];return e.forEach((function(e){var t=Qt(e).samples;t.forEach((function(e){void 0===e.duration&&(e.duration=r),void 0===e.size&&(e.size=o),e.trackId=a,e.dts=i,void 0===e.compositionTimeOffset&&(e.compositionTimeOffset=0),"bigint"==typeof i?(e.pts=i+tn.BigInt(e.compositionTimeOffset),i+=tn.BigInt(e.duration)):(e.pts=i+e.compositionTimeOffset,i+=e.duration)})),s=s.concat(t)})),s}(p,d,u),i=function(e,t,n){var i,r,o,a,s=new DataView(e.buffer,e.byteOffset,e.byteLength),u={logs:[],seiNals:[]};for(r=0;r+4<e.length;r+=o)if(o=s.getUint32(r),r+=4,!(o<=0))switch(31&e[r]){case 6:var l=e.subarray(r+1,r+1+o),c=on(r,t);if(i={nalUnitType:"sei_rbsp",size:o,data:l,escapedRBSP:nn(l),trackId:n},c)i.pts=c.pts,i.dts=c.dts,a=c;else{if(!a){u.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+r+" for trackId "+n+". See mux.js#223."});break}i.pts=a.pts,i.dts=a.dts}u.seiNals.push(i)}return u}(o,n,l),r[l]||(r[l]={seiNals:[],logs:[]}),r[l].seiNals=r[l].seiNals.concat(i.seiNals),r[l].logs=r[l].logs.concat(i.logs))})),r},sn=function(){var e,t,n,i,r,o,a=!1;this.isInitialized=function(){return a},this.init=function(t){e=new rn,a=!0,o=!!t&&t.isPartial,e.on("data",(function(e){e.startTime=e.startPts/i,e.endTime=e.endPts/i,r.captions.push(e),r.captionStreams[e.stream]=!0})),e.on("log",(function(e){r.logs.push(e)}))},this.isNewInit=function(e,t){return!(e&&0===e.length||t&&"object"==typeof t&&0===Object.keys(t).length)&&(n!==e[0]||i!==t[n])},this.parse=function(e,o,a){var s;if(!this.isInitialized())return null;if(!o||!a)return null;if(this.isNewInit(o,a))n=o[0],i=a[n];else if(null===n||!i)return t.push(e),null;for(;t.length>0;){var u=t.shift();this.parse(u,o,a)}return s=function(e,t,n){if(null===t)return null;var i=an(e,t)[t]||{};return{seiNals:i.seiNals,logs:i.logs,timescale:n}}(e,n,i),s&&s.logs&&(r.logs=r.logs.concat(s.logs)),null!==s&&s.seiNals?(this.pushNals(s.seiNals),this.flushStream(),r):r.logs.length?{logs:r.logs,captions:[],captionStreams:[]}:null},this.pushNals=function(t){if(!this.isInitialized()||!t||0===t.length)return null;t.forEach((function(t){e.push(t)}))},this.flushStream=function(){if(!this.isInitialized())return null;o?e.partialFlush():e.flush()},this.clearParsedCaptions=function(){r.captions=[],r.captionStreams={},r.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;e.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){t=[],n=null,i=null,r?this.clearParsedCaptions():r={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},un=qt,ln=function(e){return("00"+e.toString(16)).slice(-2)},cn=q.getUint64;Ut=function(e,t){var n=Wt(t,["moof","traf"]).reduce((function(t,n){var i,r,o=Wt(n,["tfhd"])[0],a=un(o[4]<<24|o[5]<<16|o[6]<<8|o[7]),s=e[a]||9e4,u=Wt(n,["tfdt"])[0],l=new DataView(u.buffer,u.byteOffset,u.byteLength);return"bigint"==typeof(i=1===u[0]?cn(u.subarray(4,12)):l.getUint32(4))?r=i/tn.BigInt(s):"number"!=typeof i||isNaN(i)||(r=i/s),r<Number.MAX_SAFE_INTEGER&&(r=Number(r)),r<t&&(t=r),t}),1/0);return"bigint"==typeof n||isFinite(n)?n:0},$t=function(e){var t=0===e[0]?12:20;return un(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])},Ht=function(e){var t=Wt(e,["moov","trak"]),n=[];return t.forEach((function(e){var t,i,r={},o=Wt(e,["tkhd"])[0];o&&(i=(t=new DataView(o.buffer,o.byteOffset,o.byteLength)).getUint8(0),r.id=0===i?t.getUint32(12):t.getUint32(20));var a=Wt(e,["mdia","hdlr"])[0];if(a){var s=Vt(a.subarray(8,12));r.type="vide"===s?"video":"soun"===s?"audio":s}var u=Wt(e,["mdia","minf","stbl","stsd"])[0];if(u){var l=u.subarray(8);r.codec=Vt(l.subarray(4,8));var c,d=Wt(l,[r.codec])[0];d&&(/^[asm]vc[1-9]$/i.test(r.codec)?(c=d.subarray(78),"avcC"===Vt(c.subarray(4,8))&&c.length>11?(r.codec+=".",r.codec+=ln(c[9]),r.codec+=ln(c[10]),r.codec+=ln(c[11])):r.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(r.codec)?(c=d.subarray(28),"esds"===Vt(c.subarray(4,8))&&c.length>20&&0!==c[19]?(r.codec+="."+ln(c[19]),r.codec+="."+ln(c[20]>>>2&63).replace(/^0/,"")):r.codec="mp4a.40.2"):r.codec=r.codec.toLowerCase())}var p=Wt(e,["mdia","mdhd"])[0];p&&(r.timescale=$t(p)),n.push(r)})),n};var dn=Ut,pn=Ht,hn=function(e){var t=31&e[1];return t<<=8,t|=e[2]},fn=function(e){return!!(64&e[1])},mn=function(e){var t=0;return(48&e[3])>>>4>1&&(t+=e[4]+1),t},gn=function(e){switch(e){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},yn={parseType:function(e,t){var n=hn(e);return 0===n?"pat":n===t?"pmt":t?"pes":null},parsePat:function(e){var t=fn(e),n=4+mn(e);return t&&(n+=e[n]+1),(31&e[n+10])<<8|e[n+11]},parsePmt:function(e){var t={},n=fn(e),i=4+mn(e);if(n&&(i+=e[i]+1),1&e[i+5]){var r;r=3+((15&e[i+1])<<8|e[i+2])-4;for(var o=12+((15&e[i+10])<<8|e[i+11]);o<r;){var a=i+o;t[(31&e[a+1])<<8|e[a+2]]=e[a],o+=5+((15&e[a+3])<<8|e[a+4])}return t}},parsePayloadUnitStartIndicator:fn,parsePesType:function(e,t){switch(t[hn(e)]){case Ve.H264_STREAM_TYPE:return"video";case Ve.ADTS_STREAM_TYPE:return"audio";case Ve.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},parsePesTime:function(e){if(!fn(e))return null;var t=4+mn(e);if(t>=e.byteLength)return null;var n,i=null;return 192&(n=e[t+7])&&((i={}).pts=(14&e[t+9])<<27|(255&e[t+10])<<20|(254&e[t+11])<<12|(255&e[t+12])<<5|(254&e[t+13])>>>3,i.pts*=4,i.pts+=(6&e[t+13])>>>1,i.dts=i.pts,64&n&&(i.dts=(14&e[t+14])<<27|(255&e[t+15])<<20|(254&e[t+16])<<12|(255&e[t+17])<<5|(254&e[t+18])>>>3,i.dts*=4,i.dts+=(6&e[t+18])>>>1)),i},videoPacketContainsKeyFrame:function(e){for(var t=4+mn(e),n=e.subarray(t),i=0,r=0,o=!1;r<n.byteLength-3;r++)if(1===n[r+2]){i=r+5;break}for(;i<n.byteLength;)switch(n[i]){case 0:if(0!==n[i-1]){i+=2;break}if(0!==n[i-2]){i++;break}r+3!==i-2&&"slice_layer_without_partitioning_rbsp_idr"===gn(31&n[r+3])&&(o=!0);do{i++}while(1!==n[i]&&i<n.length);r=i-2,i+=3;break;case 1:if(0!==n[i-1]||0!==n[i-2]){i+=3;break}"slice_layer_without_partitioning_rbsp_idr"===gn(31&n[r+3])&&(o=!0),r=i-2,i+=3;break;default:i+=3}return n=n.subarray(r),i-=r,r=0,n&&n.byteLength>3&&"slice_layer_without_partitioning_rbsp_idr"===gn(31&n[r+3])&&(o=!0),o}},vn=Xe,_n={};_n.ts=yn,_n.aac=Ct;var bn=fe,wn=188,En=71,Sn=function(e,t,n){for(var i,r,o,a,s=0,u=wn,l=!1;u<=e.byteLength;)if(e[s]!==En||e[u]!==En&&u!==e.byteLength)s++,u++;else{if(i=e.subarray(s,u),"pes"===_n.ts.parseType(i,t.pid))r=_n.ts.parsePesType(i,t.table),o=_n.ts.parsePayloadUnitStartIndicator(i),"audio"===r&&o&&(a=_n.ts.parsePesTime(i))&&(a.type="audio",n.audio.push(a),l=!0);if(l)break;s+=wn,u+=wn}for(s=(u=e.byteLength)-wn,l=!1;s>=0;)if(e[s]!==En||e[u]!==En&&u!==e.byteLength)s--,u--;else{if(i=e.subarray(s,u),"pes"===_n.ts.parseType(i,t.pid))r=_n.ts.parsePesType(i,t.table),o=_n.ts.parsePayloadUnitStartIndicator(i),"audio"===r&&o&&(a=_n.ts.parsePesTime(i))&&(a.type="audio",n.audio.push(a),l=!0);if(l)break;s-=wn,u-=wn}},Tn=function(e,t,n){for(var i,r,o,a,s,u,l,c=0,d=wn,p=!1,h={data:[],size:0};d<e.byteLength;)if(e[c]!==En||e[d]!==En)c++,d++;else{if(i=e.subarray(c,d),"pes"===_n.ts.parseType(i,t.pid))if(r=_n.ts.parsePesType(i,t.table),o=_n.ts.parsePayloadUnitStartIndicator(i),"video"===r&&(o&&!p&&(a=_n.ts.parsePesTime(i))&&(a.type="video",n.video.push(a),p=!0),!n.firstKeyFrame)){if(o&&0!==h.size){for(s=new Uint8Array(h.size),u=0;h.data.length;)l=h.data.shift(),s.set(l,u),u+=l.byteLength;if(_n.ts.videoPacketContainsKeyFrame(s)){var f=_n.ts.parsePesTime(s);f?(n.firstKeyFrame=f,n.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}h.size=0}h.data.push(i),h.size+=i.byteLength}if(p&&n.firstKeyFrame)break;c+=wn,d+=wn}for(c=(d=e.byteLength)-wn,p=!1;c>=0;)if(e[c]!==En||e[d]!==En)c--,d--;else{if(i=e.subarray(c,d),"pes"===_n.ts.parseType(i,t.pid))r=_n.ts.parsePesType(i,t.table),o=_n.ts.parsePayloadUnitStartIndicator(i),"video"===r&&o&&(a=_n.ts.parsePesTime(i))&&(a.type="video",n.video.push(a),p=!0);if(p)break;c-=wn,d-=wn}},Cn=function(e){var t={pid:null,table:null},n={};for(var i in function(e,t){for(var n,i=0,r=wn;r<e.byteLength;)if(e[i]!==En||e[r]!==En)i++,r++;else{switch(n=e.subarray(i,r),_n.ts.parseType(n,t.pid)){case"pat":t.pid=_n.ts.parsePat(n);break;case"pmt":var o=_n.ts.parsePmt(n);t.table=t.table||{},Object.keys(o).forEach((function(e){t.table[e]=o[e]}))}i+=wn,r+=wn}}(e,t),t.table){if(t.table.hasOwnProperty(i))switch(t.table[i]){case Ve.H264_STREAM_TYPE:n.video=[],Tn(e,t,n),0===n.video.length&&delete n.video;break;case Ve.ADTS_STREAM_TYPE:n.audio=[],Sn(e,t,n),0===n.audio.length&&delete n.audio}}return n},xn=function(e,t){var n;return n=_n.aac.isLikelyAacData(e)?function(e){for(var t,n=!1,i=0,r=null,o=null,a=0,s=0;e.length-s>=3;){switch(_n.aac.parseType(e,s)){case"timed-metadata":if(e.length-s<10){n=!0;break}if((a=_n.aac.parseId3TagSize(e,s))>e.length){n=!0;break}null===o&&(t=e.subarray(s,s+a),o=_n.aac.parseAacTimestamp(t)),s+=a;break;case"audio":if(e.length-s<7){n=!0;break}if((a=_n.aac.parseAdtsSize(e,s))>e.length){n=!0;break}null===r&&(t=e.subarray(s,s+a),r=_n.aac.parseSampleRate(t)),i++,s+=a;break;default:s++}if(n)return null}if(null===r||null===o)return null;var u=bn/r;return{audio:[{type:"audio",dts:o,pts:o},{type:"audio",dts:o+1024*i*u,pts:o+1024*i*u}]}}(e):Cn(e),n&&(n.audio||n.video)?(function(e,t){if(e.audio&&e.audio.length){var n=t;(void 0===n||isNaN(n))&&(n=e.audio[0].dts),e.audio.forEach((function(e){e.dts=vn(e.dts,n),e.pts=vn(e.pts,n),e.dtsTime=e.dts/bn,e.ptsTime=e.pts/bn}))}if(e.video&&e.video.length){var i=t;if((void 0===i||isNaN(i))&&(i=e.video[0].dts),e.video.forEach((function(e){e.dts=vn(e.dts,i),e.pts=vn(e.pts,i),e.dtsTime=e.dts/bn,e.ptsTime=e.pts/bn})),e.firstKeyFrame){var r=e.firstKeyFrame;r.dts=vn(r.dts,i),r.pts=vn(r.pts,i),r.dtsTime=r.dts/bn,r.ptsTime=r.pts/bn}}}(n,t),n):null},An=function(){function e(e,t){this.options=t||{},this.self=e,this.init()}var t=e.prototype;return t.init=function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new Gt.Transmuxer(this.options),function(e,t){t.on("data",(function(t){var n=t.initSegment;t.initSegment={data:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength};var i=t.data;t.data=i.buffer,e.postMessage({action:"data",segment:t,byteOffset:i.byteOffset,byteLength:i.byteLength},[t.data])})),t.on("done",(function(t){e.postMessage({action:"done"})})),t.on("gopInfo",(function(t){e.postMessage({action:"gopInfo",gopInfo:t})})),t.on("videoSegmentTimingInfo",(function(t){var n={start:{decode:ge(t.start.dts),presentation:ge(t.start.pts)},end:{decode:ge(t.end.dts),presentation:ge(t.end.pts)},baseMediaDecodeTime:ge(t.baseMediaDecodeTime)};t.prependedContentDuration&&(n.prependedContentDuration=ge(t.prependedContentDuration)),e.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:n})})),t.on("audioSegmentTimingInfo",(function(t){var n={start:{decode:ge(t.start.dts),presentation:ge(t.start.pts)},end:{decode:ge(t.end.dts),presentation:ge(t.end.pts)},baseMediaDecodeTime:ge(t.baseMediaDecodeTime)};t.prependedContentDuration&&(n.prependedContentDuration=ge(t.prependedContentDuration)),e.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:n})})),t.on("id3Frame",(function(t){e.postMessage({action:"id3Frame",id3Frame:t})})),t.on("caption",(function(t){e.postMessage({action:"caption",caption:t})})),t.on("trackinfo",(function(t){e.postMessage({action:"trackinfo",trackInfo:t})})),t.on("audioTimingInfo",(function(t){e.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:ge(t.start),end:ge(t.end)}})})),t.on("videoTimingInfo",(function(t){e.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:ge(t.start),end:ge(t.end)}})})),t.on("log",(function(t){e.postMessage({action:"log",log:t})}))}(this.self,this.transmuxer)},t.pushMp4Captions=function(e){this.captionParser||(this.captionParser=new sn,this.captionParser.init());var t=new Uint8Array(e.data,e.byteOffset,e.byteLength),n=this.captionParser.parse(t,e.trackIds,e.timescales);this.self.postMessage({action:"mp4Captions",captions:n&&n.captions||[],logs:n&&n.logs||[],data:t.buffer},[t.buffer])},t.probeMp4StartTime=function(e){var t=e.timescales,n=e.data,i=dn(t,n);this.self.postMessage({action:"probeMp4StartTime",startTime:i,data:n},[n.buffer])},t.probeMp4Tracks=function(e){var t=e.data,n=pn(t);this.self.postMessage({action:"probeMp4Tracks",tracks:n,data:t},[t.buffer])},t.probeTs=function(e){var t=e.data,n=e.baseStartTime,i="number"!=typeof n||isNaN(n)?void 0:n*fe,r=xn(t,i),o=null;r&&((o={hasVideo:r.video&&2===r.video.length||!1,hasAudio:r.audio&&2===r.audio.length||!1}).hasVideo&&(o.videoStart=r.video[0].ptsTime),o.hasAudio&&(o.audioStart=r.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:o,data:t},[t.buffer])},t.clearAllMp4Captions=function(){this.captionParser&&this.captionParser.clearAllCaptions()},t.clearParsedMp4Captions=function(){this.captionParser&&this.captionParser.clearParsedCaptions()},t.push=function(e){var t=new Uint8Array(e.data,e.byteOffset,e.byteLength);this.transmuxer.push(t)},t.reset=function(){this.transmuxer.reset()},t.setTimestampOffset=function(e){var t=e.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(me(t)))},t.setAudioAppendStart=function(e){this.transmuxer.setAudioAppendStart(Math.ceil(me(e.appendStart)))},t.setRemux=function(e){this.transmuxer.setRemux(e.remux)},t.flush=function(e){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})},t.endTimeline=function(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})},t.alignGopsWith=function(e){this.transmuxer.alignGopsWith(e.gopsToAlignWith.slice())},e}();self.onmessage=function(e){"init"===e.data.action&&e.data.options?this.messageHandlers=new An(self,e.data.options):(this.messageHandlers||(this.messageHandlers=new An(self)),e.data&&e.data.action&&"init"!==e.data.action&&this.messageHandlers[e.data.action]&&this.messageHandlers[e.data.action](e.data))}}))),ba=ga(_a),wa=function(e){var t=e.transmuxer,n=e.bytes,i=e.audioAppendStart,r=e.gopsToAlignWith,o=e.remux,a=e.onData,s=e.onTrackInfo,u=e.onAudioTimingInfo,l=e.onVideoTimingInfo,c=e.onVideoSegmentTimingInfo,d=e.onAudioSegmentTimingInfo,p=e.onId3,h=e.onCaptions,f=e.onDone,m=e.onEndedTimeline,g=e.onTransmuxerLog,y=e.isEndOfTimeline,v={buffer:[]},_=y;if(t.onmessage=function(n){t.currentTransmux===e&&("data"===n.data.action&&function(e,t,n){var i=e.data.segment,r=i.type,o=i.initSegment,a=i.captions,s=i.captionStreams,u=i.metadata,l=i.videoFrameDtsTime,c=i.videoFramePtsTime;t.buffer.push({captions:a,captionStreams:s,metadata:u});var d=e.data.segment.boxes||{data:e.data.segment.data},p={type:r,data:new Uint8Array(d.data,d.data.byteOffset,d.data.byteLength),initSegment:new Uint8Array(o.data,o.byteOffset,o.byteLength)};void 0!==l&&(p.videoFrameDtsTime=l),void 0!==c&&(p.videoFramePtsTime=c),n(p)}(n,v,a),"trackinfo"===n.data.action&&s(n.data.trackInfo),"gopInfo"===n.data.action&&function(e,t){t.gopInfo=e.data.gopInfo}(n,v),"audioTimingInfo"===n.data.action&&u(n.data.audioTimingInfo),"videoTimingInfo"===n.data.action&&l(n.data.videoTimingInfo),"videoSegmentTimingInfo"===n.data.action&&c(n.data.videoSegmentTimingInfo),"audioSegmentTimingInfo"===n.data.action&&d(n.data.audioSegmentTimingInfo),"id3Frame"===n.data.action&&p([n.data.id3Frame],n.data.id3Frame.dispatchType),"caption"===n.data.action&&h(n.data.caption),"endedtimeline"===n.data.action&&(_=!1,m()),"log"===n.data.action&&g(n.data.log),"transmuxed"===n.data.type&&(_||(t.onmessage=null,function(e){var t=e.transmuxedData,n=e.callback;t.buffer=[],n(t)}({transmuxedData:v,callback:f}),Ea(t))))},i&&t.postMessage({action:"setAudioAppendStart",appendStart:i}),Array.isArray(r)&&t.postMessage({action:"alignGopsWith",gopsToAlignWith:r}),void 0!==o&&t.postMessage({action:"setRemux",remux:o}),n.byteLength){var b=n instanceof ArrayBuffer?n:n.buffer,w=n instanceof ArrayBuffer?0:n.byteOffset;t.postMessage({action:"push",data:b,byteOffset:w,byteLength:n.byteLength},[b])}y&&t.postMessage({action:"endTimeline"}),t.postMessage({action:"flush"})},Ea=function(e){e.currentTransmux=null,e.transmuxQueue.length&&(e.currentTransmux=e.transmuxQueue.shift(),"function"==typeof e.currentTransmux?e.currentTransmux():wa(e.currentTransmux))},Sa=function(e,t){e.postMessage({action:t}),Ea(e)},Ta=function(e,t){if(!t.currentTransmux)return t.currentTransmux=e,void Sa(t,e);t.transmuxQueue.push(Sa.bind(null,t,e))},Ca=function(e){if(!e.transmuxer.currentTransmux)return e.transmuxer.currentTransmux=e,void wa(e);e.transmuxer.transmuxQueue.push(e)},xa=function(e){Ta("reset",e)},Aa=function(e){var t=new ba;t.currentTransmux=null,t.transmuxQueue=[];var n=t.terminate;return t.terminate=function(){return t.currentTransmux=null,t.transmuxQueue.length=0,n.call(t)},t.postMessage({action:"init",options:e}),t},ka=function(e){var t=e.transmuxer,n=e.endAction||e.action,i=e.callback,r=k.default({},e,{endAction:null,transmuxer:null,callback:null});if(t.addEventListener("message",(function r(o){o.data.action===n&&(t.removeEventListener("message",r),o.data.data&&(o.data.data=new Uint8Array(o.data.data,e.byteOffset||0,e.byteLength||o.data.data.byteLength),e.data&&(e.data=o.data.data)),i(o.data))})),e.data){var o=e.data instanceof ArrayBuffer;r.byteOffset=o?0:e.data.byteOffset,r.byteLength=e.data.byteLength;var a=[o?e.data:e.data.buffer];t.postMessage(r,a)}else t.postMessage(r)},Ia=2,Da=-101,Oa=-102,Pa=function(e){e.forEach((function(e){e.abort()}))},Na=function(e,t){return t.timedout?{status:t.status,message:"HLS request timed-out at URL: "+t.uri,code:Da,xhr:t}:t.aborted?{status:t.status,message:"HLS request aborted at URL: "+t.uri,code:Oa,xhr:t}:e?{status:t.status,message:"HLS request errored at URL: "+t.uri,code:Ia,xhr:t}:"arraybuffer"===t.responseType&&0===t.response.byteLength?{status:t.status,message:"Empty HLS response at URL: "+t.uri,code:Ia,xhr:t}:null},Ra=function(e,t,n){return function(i,r){var o=r.response,a=Na(i,r);if(a)return n(a,e);if(16!==o.byteLength)return n({status:r.status,message:"Invalid HLS key at URL: "+r.uri,code:Ia,xhr:r},e);for(var s=new DataView(o),u=new Uint32Array([s.getUint32(0),s.getUint32(4),s.getUint32(8),s.getUint32(12)]),l=0;l<t.length;l++)t[l].bytes=u;return n(null,e)}},La=function(e,t){var n=E.detectContainerForBytes(e.map.bytes);if("mp4"!==n){var i=e.map.resolvedUri||e.map.uri;return t({internal:!0,message:"Found unsupported "+(n||"unknown")+" container for initialization segment at URL: "+i,code:Ia})}ka({action:"probeMp4Tracks",data:e.map.bytes,transmuxer:e.transmuxer,callback:function(n){var i=n.tracks,r=n.data;return e.map.bytes=r,i.forEach((function(t){e.map.tracks=e.map.tracks||{},e.map.tracks[t.type]||(e.map.tracks[t.type]=t,"number"==typeof t.id&&t.timescale&&(e.map.timescales=e.map.timescales||{},e.map.timescales[t.id]=t.timescale))})),t(null)}})},Ma=function(e){var t=e.segment,n=e.finishProcessingFn,i=e.responseType;return function(e,r){var o=Na(e,r);if(o)return n(o,t);var a="arraybuffer"!==i&&r.responseText?function(e){for(var t=new Uint8Array(new ArrayBuffer(e.length)),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t.buffer}(r.responseText.substring(t.lastReachedChar||0)):r.response;return t.stats=function(e){return{bandwidth:e.bandwidth,bytesReceived:e.bytesReceived||0,roundTripTime:e.roundTripTime||0}}(r),t.key?t.encryptedBytes=new Uint8Array(a):t.bytes=new Uint8Array(a),n(null,t)}},Fa=function(e){var t=e.segment,n=e.bytes,i=e.trackInfoFn,r=e.timingInfoFn,o=e.videoSegmentTimingInfoFn,a=e.audioSegmentTimingInfoFn,s=e.id3Fn,u=e.captionsFn,l=e.isEndOfTimeline,c=e.endedTimelineFn,d=e.dataFn,p=e.doneFn,h=e.onTransmuxerLog,f=t.map&&t.map.tracks||{},m=Boolean(f.audio&&f.video),g=r.bind(null,t,"audio","start"),y=r.bind(null,t,"audio","end"),v=r.bind(null,t,"video","start"),_=r.bind(null,t,"video","end");ka({action:"probeTs",transmuxer:t.transmuxer,data:n,baseStartTime:t.baseStartTime,callback:function(e){t.bytes=n=e.data;var r=e.result;r&&(i(t,{hasAudio:r.hasAudio,hasVideo:r.hasVideo,isMuxed:m}),i=null,r.hasAudio&&!m&&g(r.audioStart),r.hasVideo&&v(r.videoStart),g=null,v=null),Ca({bytes:n,transmuxer:t.transmuxer,audioAppendStart:t.audioAppendStart,gopsToAlignWith:t.gopsToAlignWith,remux:m,onData:function(e){e.type="combined"===e.type?"video":e.type,d(t,e)},onTrackInfo:function(e){i&&(m&&(e.isMuxed=!0),i(t,e))},onAudioTimingInfo:function(e){g&&void 0!==e.start&&(g(e.start),g=null),y&&void 0!==e.end&&y(e.end)},onVideoTimingInfo:function(e){v&&void 0!==e.start&&(v(e.start),v=null),_&&void 0!==e.end&&_(e.end)},onVideoSegmentTimingInfo:function(e){o(e)},onAudioSegmentTimingInfo:function(e){a(e)},onId3:function(e,n){s(t,e,n)},onCaptions:function(e){u(t,[e])},isEndOfTimeline:l,onEndedTimeline:function(){c()},onTransmuxerLog:h,onDone:function(e){p&&(e.type="combined"===e.type?"video":e.type,p(null,t,e))}})}})},ja=function(e){var t=e.segment,n=e.bytes,i=e.trackInfoFn,r=e.timingInfoFn,o=e.videoSegmentTimingInfoFn,a=e.audioSegmentTimingInfoFn,s=e.id3Fn,u=e.captionsFn,l=e.isEndOfTimeline,c=e.endedTimelineFn,d=e.dataFn,p=e.doneFn,h=e.onTransmuxerLog,f=new Uint8Array(n);if(E.isLikelyFmp4MediaSegment(f)){t.isFmp4=!0;var m=t.map.tracks,g={isFmp4:!0,hasVideo:!!m.video,hasAudio:!!m.audio};m.audio&&m.audio.codec&&"enca"!==m.audio.codec&&(g.audioCodec=m.audio.codec),m.video&&m.video.codec&&"encv"!==m.video.codec&&(g.videoCodec=m.video.codec),m.video&&m.audio&&(g.isMuxed=!0),i(t,g);var y=function(e){d(t,{data:f,type:g.hasAudio&&!g.isMuxed?"audio":"video"}),e&&e.length&&u(t,e),p(null,t,{})};ka({action:"probeMp4StartTime",timescales:t.map.timescales,data:f,transmuxer:t.transmuxer,callback:function(e){var i=e.data,o=e.startTime;n=i.buffer,t.bytes=f=i,g.hasAudio&&!g.isMuxed&&r(t,"audio","start",o),g.hasVideo&&r(t,"video","start",o),m.video&&i.byteLength&&t.transmuxer?ka({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:t.transmuxer,data:f,timescales:t.map.timescales,trackIds:[m.video.id],callback:function(e){n=e.data.buffer,t.bytes=f=e.data,e.logs.forEach((function(e){h(Qr.mergeOptions(e,{stream:"mp4CaptionParser"}))})),y(e.captions)}}):y()}})}else if(t.transmuxer){if(void 0===t.container&&(t.container=E.detectContainerForBytes(f)),"ts"!==t.container&&"aac"!==t.container)return i(t,{hasAudio:!1,hasVideo:!1}),void p(null,t,{});Fa({segment:t,bytes:n,trackInfoFn:i,timingInfoFn:r,videoSegmentTimingInfoFn:o,audioSegmentTimingInfoFn:a,id3Fn:s,captionsFn:u,isEndOfTimeline:l,endedTimelineFn:c,dataFn:d,doneFn:p,onTransmuxerLog:h})}else p(null,t,{})},Ba=function(e,t){var n,i=e.id,r=e.key,o=e.encryptedBytes,a=e.decryptionWorker;a.addEventListener("message",(function e(n){if(n.data.source===i){a.removeEventListener("message",e);var r=n.data.decrypted;t(new Uint8Array(r.bytes,r.byteOffset,r.byteLength))}})),n=r.bytes.slice?r.bytes.slice():new Uint32Array(Array.prototype.slice.call(r.bytes)),a.postMessage(ta({source:i,encrypted:o,key:n,iv:r.iv}),[o.buffer,n.buffer])},Ua=function(e){var t=e.activeXhrs,n=e.decryptionWorker,i=e.trackInfoFn,r=e.timingInfoFn,o=e.videoSegmentTimingInfoFn,a=e.audioSegmentTimingInfoFn,s=e.id3Fn,u=e.captionsFn,l=e.isEndOfTimeline,c=e.endedTimelineFn,d=e.dataFn,p=e.doneFn,h=e.onTransmuxerLog,f=0,m=!1;return function(e,g){if(!m){if(e)return m=!0,Pa(t),p(e,g);if((f+=1)===t.length){var y=function(){if(g.encryptedBytes)return function(e){var t=e.decryptionWorker,n=e.segment,i=e.trackInfoFn,r=e.timingInfoFn,o=e.videoSegmentTimingInfoFn,a=e.audioSegmentTimingInfoFn,s=e.id3Fn,u=e.captionsFn,l=e.isEndOfTimeline,c=e.endedTimelineFn,d=e.dataFn,p=e.doneFn,h=e.onTransmuxerLog;Ba({id:n.requestId,key:n.key,encryptedBytes:n.encryptedBytes,decryptionWorker:t},(function(e){n.bytes=e,ja({segment:n,bytes:n.bytes,trackInfoFn:i,timingInfoFn:r,videoSegmentTimingInfoFn:o,audioSegmentTimingInfoFn:a,id3Fn:s,captionsFn:u,isEndOfTimeline:l,endedTimelineFn:c,dataFn:d,doneFn:p,onTransmuxerLog:h})}))}({decryptionWorker:n,segment:g,trackInfoFn:i,timingInfoFn:r,videoSegmentTimingInfoFn:o,audioSegmentTimingInfoFn:a,id3Fn:s,captionsFn:u,isEndOfTimeline:l,endedTimelineFn:c,dataFn:d,doneFn:p,onTransmuxerLog:h});ja({segment:g,bytes:g.bytes,trackInfoFn:i,timingInfoFn:r,videoSegmentTimingInfoFn:o,audioSegmentTimingInfoFn:a,id3Fn:s,captionsFn:u,isEndOfTimeline:l,endedTimelineFn:c,dataFn:d,doneFn:p,onTransmuxerLog:h})};if(g.endOfAllRequests=Date.now(),g.map&&g.map.encryptedBytes&&!g.map.bytes)return Ba({decryptionWorker:n,id:g.requestId+"-init",encryptedBytes:g.map.encryptedBytes,key:g.map.key},(function(e){g.map.bytes=e,La(g,(function(e){if(e)return Pa(t),p(e,g);y()}))}));y()}}}},Ha=function(e){var t=e.segment,n=e.progressFn;return e.trackInfoFn,e.timingInfoFn,e.videoSegmentTimingInfoFn,e.audioSegmentTimingInfoFn,e.id3Fn,e.captionsFn,e.isEndOfTimeline,e.endedTimelineFn,e.dataFn,function(e){if(!e.target.aborted)return t.stats=Qr.mergeOptions(t.stats,function(e){var t=e.target,n={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-t.requestTime||0};return n.bytesReceived=e.loaded,n.bandwidth=Math.floor(n.bytesReceived/n.roundTripTime*8*1e3),n}(e)),!t.stats.firstBytesReceivedAt&&t.stats.bytesReceived&&(t.stats.firstBytesReceivedAt=Date.now()),n(e,t)}},$a=function(e){var t=e.xhr,n=e.xhrOptions,i=e.decryptionWorker,r=e.segment,o=e.abortFn,a=e.progressFn,s=e.trackInfoFn,u=e.timingInfoFn,l=e.videoSegmentTimingInfoFn,c=e.audioSegmentTimingInfoFn,d=e.id3Fn,p=e.captionsFn,h=e.isEndOfTimeline,f=e.endedTimelineFn,m=e.dataFn,g=e.doneFn,y=e.onTransmuxerLog,v=[],_=Ua({activeXhrs:v,decryptionWorker:i,trackInfoFn:s,timingInfoFn:u,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:c,id3Fn:d,captionsFn:p,isEndOfTimeline:h,endedTimelineFn:f,dataFn:m,doneFn:g,onTransmuxerLog:y});if(r.key&&!r.key.bytes){var b=[r.key];r.map&&!r.map.bytes&&r.map.key&&r.map.key.resolvedUri===r.key.resolvedUri&&b.push(r.map.key);var w=t(Qr.mergeOptions(n,{uri:r.key.resolvedUri,responseType:"arraybuffer"}),Ra(r,b,_));v.push(w)}if(r.map&&!r.map.bytes){if(r.map.key&&(!r.key||r.key.resolvedUri!==r.map.key.resolvedUri)){var E=t(Qr.mergeOptions(n,{uri:r.map.key.resolvedUri,responseType:"arraybuffer"}),Ra(r,[r.map.key],_));v.push(E)}var S=Qr.mergeOptions(n,{uri:r.map.resolvedUri,responseType:"arraybuffer",headers:Xo(r.map)}),T=function(e){var t=e.segment,n=e.finishProcessingFn;return function(e,i){var r=Na(e,i);if(r)return n(r,t);var o=new Uint8Array(i.response);if(t.map.key)return t.map.encryptedBytes=o,n(null,t);t.map.bytes=o,La(t,(function(e){if(e)return e.xhr=i,e.status=i.status,n(e,t);n(null,t)}))}}({segment:r,finishProcessingFn:_}),C=t(S,T);v.push(C)}var x=Qr.mergeOptions(n,{uri:r.part&&r.part.resolvedUri||r.resolvedUri,responseType:"arraybuffer",headers:Xo(r)}),A=t(x,Ma({segment:r,finishProcessingFn:_,responseType:x.responseType}));A.addEventListener("progress",Ha({segment:r,progressFn:a,trackInfoFn:s,timingInfoFn:u,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:c,id3Fn:d,captionsFn:p,isEndOfTimeline:h,endedTimelineFn:f,dataFn:m})),v.push(A);var k={};return v.forEach((function(e){e.addEventListener("loadend",function(e){var t=e.loadendState,n=e.abortFn;return function(e){e.target.aborted&&n&&!t.calledAbortFn&&(n(),t.calledAbortFn=!0)}}({loadendState:k,abortFn:o}))})),function(){return Pa(v)}},Ga=io("CodecUtils"),qa=function(e,t){var n=t.attributes||{};return e&&e.mediaGroups&&e.mediaGroups.AUDIO&&n.AUDIO&&e.mediaGroups.AUDIO[n.AUDIO]},Va=function(e){var t={};return e.forEach((function(e){var n=e.mediaType,i=e.type,r=e.details;t[n]=t[n]||[],t[n].push(g.translateLegacyCodec(""+i+r))})),Object.keys(t).forEach((function(e){if(t[e].length>1)return Ga("multiple "+e+" codecs found as attributes: "+t[e].join(", ")+". Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs."),void(t[e]=null);t[e]=t[e][0]})),t},za=function(e){var t=0;return e.audio&&t++,e.video&&t++,t},Wa=function(e,t){var n=t.attributes||{},i=Va(function(e){var t=e.attributes||{};if(t.CODECS)return g.parseCodecs(t.CODECS)}(t)||[]);if(qa(e,t)&&!i.audio&&!function(e,t){if(!qa(e,t))return!0;var n=t.attributes||{},i=e.mediaGroups.AUDIO[n.AUDIO];for(var r in i)if(!i[r].uri&&!i[r].playlists)return!0;return!1}(e,t)){var r=Va(g.codecsFromDefault(e,n.AUDIO)||[]);r.audio&&(i.audio=r.audio)}return i},Ka=io("PlaylistSelector"),Ya=function(e){if(e&&e.playlist){var t=e.playlist;return JSON.stringify({id:t.id,bandwidth:e.bandwidth,width:e.width,height:e.height,codecs:t.attributes&&t.attributes.CODECS||""})}},Ja=function(e,t){if(!e)return"";var n=x.default.getComputedStyle(e);return n?n[t]:""},Xa=function(e,t){var n=e.slice();e.sort((function(e,i){var r=t(e,i);return 0===r?n.indexOf(e)-n.indexOf(i):r}))},Qa=function(e,t){var n,i;return e.attributes.BANDWIDTH&&(n=e.attributes.BANDWIDTH),n=n||x.default.Number.MAX_VALUE,t.attributes.BANDWIDTH&&(i=t.attributes.BANDWIDTH),n-(i=i||x.default.Number.MAX_VALUE)},Za=function(e,t,n,i,r,o){if(e){var a={bandwidth:t,width:n,height:i,limitRenditionByPlayerDimensions:r},s=e.playlists;Po.isAudioOnly(e)&&(s=o.getAudioTrackPlaylists_(),a.audioOnly=!0);var u=s.map((function(e){var t=e.attributes&&e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width,n=e.attributes&&e.attributes.RESOLUTION&&e.attributes.RESOLUTION.height;return{bandwidth:e.attributes&&e.attributes.BANDWIDTH||x.default.Number.MAX_VALUE,width:t,height:n,playlist:e}}));Xa(u,(function(e,t){return e.bandwidth-t.bandwidth}));var l=(u=u.filter((function(e){return!Po.isIncompatible(e.playlist)}))).filter((function(e){return Po.isEnabled(e.playlist)}));l.length||(l=u.filter((function(e){return!Po.isDisabled(e.playlist)})));var c=l.filter((function(e){return e.bandwidth*fa.BANDWIDTH_VARIANCE<t})),d=c[c.length-1],p=c.filter((function(e){return e.bandwidth===d.bandwidth}))[0];if(!1===r){var h=p||l[0]||u[0];if(h&&h.playlist){var f="sortedPlaylistReps";return p&&(f="bandwidthBestRep"),l[0]&&(f="enabledPlaylistReps"),Ka("choosing "+Ya(h)+" using "+f+" with options",a),h.playlist}return Ka("could not choose a playlist with options",a),null}var m=c.filter((function(e){return e.width&&e.height}));Xa(m,(function(e,t){return e.width-t.width}));var g=m.filter((function(e){return e.width===n&&e.height===i}));d=g[g.length-1];var y,v,_,b,w=g.filter((function(e){return e.bandwidth===d.bandwidth}))[0];if(w||(v=(y=m.filter((function(e){return e.width>n||e.height>i}))).filter((function(e){return e.width===y[0].width&&e.height===y[0].height})),d=v[v.length-1],_=v.filter((function(e){return e.bandwidth===d.bandwidth}))[0]),o.experimentalLeastPixelDiffSelector){var E=m.map((function(e){return e.pixelDiff=Math.abs(e.width-n)+Math.abs(e.height-i),e}));Xa(E,(function(e,t){return e.pixelDiff===t.pixelDiff?t.bandwidth-e.bandwidth:e.pixelDiff-t.pixelDiff})),b=E[0]}var S=b||_||w||p||l[0]||u[0];if(S&&S.playlist){var T="sortedPlaylistReps";return b?T="leastPixelDiffRep":_?T="resolutionPlusOneRep":w?T="resolutionBestRep":p?T="bandwidthBestRep":l[0]&&(T="enabledPlaylistReps"),Ka("choosing "+Ya(S)+" using "+T+" with options",a),S.playlist}return Ka("could not choose a playlist with options",a),null}},es=function(){var e=this.useDevicePixelRatio&&x.default.devicePixelRatio||1;return Za(this.playlists.master,this.systemBandwidth,parseInt(Ja(this.tech_.el(),"width"),10)*e,parseInt(Ja(this.tech_.el(),"height"),10)*e,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)},ts=function(e){var t=e.inbandTextTracks,n=e.metadataArray,i=e.timestampOffset,r=e.videoDuration;if(n){var o=x.default.WebKitDataCue||x.default.VTTCue,a=t.metadataTrack_;if(a&&(n.forEach((function(e){var t=e.cueTime+i;!("number"!=typeof t||x.default.isNaN(t)||t<0)&&t<1/0&&e.frames.forEach((function(e){var n=new o(t,t,e.value||e.url||e.data||"");n.frame=e,n.value=e,function(e){Object.defineProperties(e.frame,{id:{get:function(){return Qr.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),e.value.key}},value:{get:function(){return Qr.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),e.value.data}},privateData:{get:function(){return Qr.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),e.value.data}}})}(n),a.addCue(n)}))})),a.cues&&a.cues.length)){for(var s=a.cues,u=[],l=0;l<s.length;l++)s[l]&&u.push(s[l]);var c=u.reduce((function(e,t){var n=e[t.startTime]||[];return n.push(t),e[t.startTime]=n,e}),{}),d=Object.keys(c).sort((function(e,t){return Number(e)-Number(t)}));d.forEach((function(e,t){var n=c[e],i=Number(d[t+1])||r;n.forEach((function(e){e.endTime=i}))}))}}},ns=function(e,t,n){var i,r;if(n&&n.cues)for(i=n.cues.length;i--;)(r=n.cues[i]).startTime>=e&&r.endTime<=t&&n.removeCue(r)},is=function(e){return"number"==typeof e&&isFinite(e)},rs=1/60,os=function(e){var t=e.startOfSegment,n=e.duration,i=e.segment,r=e.part,o=e.playlist,a=o.mediaSequence,s=o.id,u=o.segments,l=void 0===u?[]:u,c=e.mediaIndex,d=e.partIndex,p=e.timeline,h=l.length-1,f="mediaIndex/partIndex increment";e.getMediaInfoForTime?f="getMediaInfoForTime ("+e.getMediaInfoForTime+")":e.isSyncRequest&&(f="getSyncSegmentCandidate (isSyncRequest)"),e.independent&&(f+=" with independent "+e.independent);var m="number"==typeof d,g=e.segment.uri?"segment":"pre-segment",y=m?vo({preloadSegment:i})-1:0;return g+" ["+(a+c)+"/"+(a+h)+"]"+(m?" part ["+d+"/"+y+"]":"")+" segment start/end ["+i.start+" => "+i.end+"]"+(m?" part start/end ["+r.start+" => "+r.end+"]":"")+" startOfSegment ["+t+"] duration ["+n+"] timeline ["+p+"] selected by ["+f+"] playlist ["+s+"]"},as=function(e){return e+"TimingInfo"},ss=function(e){var t=e.timelineChangeController,n=e.currentTimeline,i=e.segmentTimeline,r=e.loaderType,o=e.audioDisabled;if(n===i)return!1;if("audio"===r){var a=t.lastTimelineChange({type:"main"});return!a||a.to!==i}if("main"===r&&o){var s=t.pendingTimelineChange({type:"audio"});return!s||s.to!==i}return!1},us=function(e){var t=e.segmentDuration,n=e.maxDuration;return!!t&&Math.round(t)>n+ro},ls=function(e,t){if("hls"!==t)return null;var n,i,r=(n={audioTimingInfo:e.audioTimingInfo,videoTimingInfo:e.videoTimingInfo},i=0,["video","audio"].forEach((function(e){var t=n[e+"TimingInfo"];if(t){var r,o=t.start,a=t.end;"bigint"==typeof o||"bigint"==typeof a?r=x.default.BigInt(a)-x.default.BigInt(o):"number"==typeof o&&"number"==typeof a&&(r=a-o),void 0!==r&&r>i&&(i=r)}})),"bigint"==typeof i&&i<Number.MAX_SAFE_INTEGER&&(i=Number(i)),i);if(!r)return null;var o=e.playlist.targetDuration,a=us({segmentDuration:r,maxDuration:2*o}),s=us({segmentDuration:r,maxDuration:o}),u="Segment with index "+e.mediaIndex+" from playlist "+e.playlist.id+" has a duration of "+r+" when the reported duration is "+e.duration+" and the target duration is "+o+". For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1";return a||s?{severity:a?"warn":"info",message:u}:null},cs=function(e){function t(t,n){var i;if(i=e.call(this)||this,!t)throw new TypeError("Initialization settings are required");if("function"!=typeof t.currentTime)throw new TypeError("No currentTime getter specified");if(!t.mediaSource)throw new TypeError("No MediaSource specified");return i.bandwidth=t.bandwidth,i.throughput={rate:0,count:0},i.roundTrip=NaN,i.resetStats_(),i.mediaIndex=null,i.partIndex=null,i.hasPlayed_=t.hasPlayed,i.currentTime_=t.currentTime,i.seekable_=t.seekable,i.seeking_=t.seeking,i.duration_=t.duration,i.mediaSource_=t.mediaSource,i.vhs_=t.vhs,i.loaderType_=t.loaderType,i.currentMediaInfo_=void 0,i.startingMediaInfo_=void 0,i.segmentMetadataTrack_=t.segmentMetadataTrack,i.goalBufferLength_=t.goalBufferLength,i.sourceType_=t.sourceType,i.sourceUpdater_=t.sourceUpdater,i.inbandTextTracks_=t.inbandTextTracks,i.state_="INIT",i.timelineChangeController_=t.timelineChangeController,i.shouldSaveSegmentTimingInfo_=!0,i.parse708captions_=t.parse708captions,i.useDtsForTimestampOffset_=t.useDtsForTimestampOffset,i.captionServices_=t.captionServices,i.experimentalExactManifestTimings=t.experimentalExactManifestTimings,i.checkBufferTimeout_=null,i.error_=void 0,i.currentTimeline_=-1,i.pendingSegment_=null,i.xhrOptions_=null,i.pendingSegments_=[],i.audioDisabled_=!1,i.isPendingTimestampOffset_=!1,i.gopBuffer_=[],i.timeMapping_=0,i.safeAppend_=Qr.browser.IE_VERSION>=11,i.appendInitSegment_={audio:!0,video:!0},i.playlistOfLastInitSegment_={audio:null,video:null},i.callQueue_=[],i.loadQueue_=[],i.metadataQueue_={id3:[],caption:[]},i.waitingOnRemove_=!1,i.quotaExceededErrorRetryTimeout_=null,i.activeInitSegmentId_=null,i.initSegments_={},i.cacheEncryptionKeys_=t.cacheEncryptionKeys,i.keyCache_={},i.decrypter_=t.decrypter,i.syncController_=t.syncController,i.syncPoint_={segmentIndex:0,time:0},i.transmuxer_=i.createTransmuxer_(),i.triggerSyncInfoUpdate_=function(){return i.trigger("syncinfoupdate")},i.syncController_.on("syncinfoupdate",i.triggerSyncInfoUpdate_),i.mediaSource_.addEventListener("sourceopen",(function(){i.isEndOfStream_()||(i.ended_=!1)})),i.fetchAtBuffer_=!1,i.logger_=io("SegmentLoader["+i.loaderType_+"]"),Object.defineProperty(D.default(i),"state",{get:function(){return this.state_},set:function(e){e!==this.state_&&(this.logger_(this.state_+" -> "+e),this.state_=e,this.trigger("statechange"))}}),i.sourceUpdater_.on("ready",(function(){i.hasEnoughInfoToAppend_()&&i.processCallQueue_()})),"main"===i.loaderType_&&i.timelineChangeController_.on("pendingtimelinechange",(function(){i.hasEnoughInfoToAppend_()&&i.processCallQueue_()})),"audio"===i.loaderType_&&i.timelineChangeController_.on("timelinechange",(function(){i.hasEnoughInfoToLoad_()&&i.processLoadQueue_(),i.hasEnoughInfoToAppend_()&&i.processCallQueue_()})),i}O.default(t,e);var n=t.prototype;return n.createTransmuxer_=function(){return Aa({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})},n.resetStats_=function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0},n.dispose=function(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&x.default.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()},n.setAudio=function(e){this.audioDisabled_=!e,e?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())},n.abort=function(){"WAITING"===this.state?(this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()):this.pendingSegment_&&(this.pendingSegment_=null)},n.abort_=function(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,x.default.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null},n.checkForAbort_=function(e){return"APPENDING"!==this.state||this.pendingSegment_?!this.pendingSegment_||this.pendingSegment_.requestId!==e:(this.state="READY",!0)},n.error=function(e){return void 0!==e&&(this.logger_("error occurred:",e),this.error_=e),this.pendingSegment_=null,this.error_},n.endOfStream=function(){this.ended_=!0,this.transmuxer_&&xa(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")},n.buffered_=function(){var e=this.getMediaInfo_();if(!this.sourceUpdater_||!e)return Qr.createTimeRanges();if("main"===this.loaderType_){var t=e.hasAudio,n=e.hasVideo,i=e.isMuxed;if(n&&t&&!this.audioDisabled_&&!i)return this.sourceUpdater_.buffered();if(n)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()},n.initSegmentForMap=function(e,t){if(void 0===t&&(t=!1),!e)return null;var n=na(e),i=this.initSegments_[n];return t&&!i&&e.bytes&&(this.initSegments_[n]=i={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,tracks:e.tracks,timescales:e.timescales}),i||e},n.segmentKey=function(e,t){if(void 0===t&&(t=!1),!e)return null;var n=ia(e),i=this.keyCache_[n];this.cacheEncryptionKeys_&&t&&!i&&e.bytes&&(this.keyCache_[n]=i={resolvedUri:e.resolvedUri,bytes:e.bytes});var r={resolvedUri:(i||e).resolvedUri};return i&&(r.bytes=i.bytes),r},n.couldBeginLoading_=function(){return this.playlist_&&!this.paused()},n.load=function(){if(this.monitorBuffer_(),this.playlist_)return"INIT"===this.state&&this.couldBeginLoading_()?this.init_():void(!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY"))},n.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},n.playlist=function(e,t){if(void 0===t&&(t={}),e){var n=this.playlist_,i=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=t,"INIT"===this.state&&(e.syncInfo={mediaSequence:e.mediaSequence,time:0},"main"===this.loaderType_&&this.syncController_.setDateTimeMappingForStart(e));var r=null;if(n&&(n.id?r=n.id:n.uri&&(r=n.uri)),this.logger_("playlist update ["+r+" => "+(e.id||e.uri)+"]"),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(!n||n.uri!==e.uri)return null!==this.mediaIndex&&(e.endList?this.resyncLoader():this.resetLoader()),this.currentMediaInfo_=void 0,void this.trigger("playlistupdate");var o=e.mediaSequence-n.mediaSequence;if(this.logger_("live window shift ["+o+"]"),null!==this.mediaIndex)if(this.mediaIndex-=o,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{var a=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!a.parts||!a.parts.length||!a.parts[this.partIndex])){var s=this.mediaIndex;this.logger_("currently processing part (index "+this.partIndex+") no longer exists."),this.resetLoader(),this.mediaIndex=s}}i&&(i.mediaIndex-=o,i.mediaIndex<0?(i.mediaIndex=null,i.partIndex=null):(i.mediaIndex>=0&&(i.segment=e.segments[i.mediaIndex]),i.partIndex>=0&&i.segment.parts&&(i.part=i.segment.parts[i.partIndex]))),this.syncController_.saveExpiredSegmentInfo(n,e)}},n.pause=function(){this.checkBufferTimeout_&&(x.default.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)},n.paused=function(){return null===this.checkBufferTimeout_},n.resetEverything=function(e){this.ended_=!1,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,e),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))},n.resetLoader=function(){this.fetchAtBuffer_=!1,this.resyncLoader()},n.resyncLoader=function(){this.transmuxer_&&xa(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})},n.remove=function(e,t,n,i){if(void 0===n&&(n=function(){}),void 0===i&&(i=!1),t===1/0&&(t=this.duration_()),t<=e)this.logger_("skipping remove because end ${end} is <= start ${start}");else if(this.sourceUpdater_&&this.getMediaInfo_()){var r=1,o=function(){0===--r&&n()};for(var a in!i&&this.audioDisabled_||(r++,this.sourceUpdater_.removeAudio(e,t,o)),(i||"main"===this.loaderType_)&&(this.gopBuffer_=function(e,t,n,i){for(var r=Math.ceil((t-i)*S.ONE_SECOND_IN_TS),o=Math.ceil((n-i)*S.ONE_SECOND_IN_TS),a=e.slice(),s=e.length;s--&&!(e[s].pts<=o););if(-1===s)return a;for(var u=s+1;u--&&!(e[u].pts<=r););return u=Math.max(u,0),a.splice(u,s-u+1),a}(this.gopBuffer_,e,t,this.timeMapping_),r++,this.sourceUpdater_.removeVideo(e,t,o)),this.inbandTextTracks_)ns(e,t,this.inbandTextTracks_[a]);ns(e,t,this.segmentMetadataTrack_),o()}else this.logger_("skipping remove because no source updater or starting media info")},n.monitorBuffer_=function(){this.checkBufferTimeout_&&x.default.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=x.default.setTimeout(this.monitorBufferTick_.bind(this),1)},n.monitorBufferTick_=function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&x.default.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=x.default.setTimeout(this.monitorBufferTick_.bind(this),500)},n.fillBuffer_=function(){if(!this.sourceUpdater_.updating()){var e=this.chooseNextRequest_();e&&("number"==typeof e.timestampOffset&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline})),this.loadSegment_(e))}},n.isEndOfStream_=function(e,t,n){if(void 0===e&&(e=this.mediaIndex),void 0===t&&(t=this.playlist_),void 0===n&&(n=this.partIndex),!t||!this.mediaSource_)return!1;var i="number"==typeof e&&t.segments[e],r=e+1===t.segments.length,o=!i||!i.parts||n+1===i.parts.length;return t.endList&&"open"===this.mediaSource_.readyState&&r&&o},n.chooseNextRequest_=function(){var e=this.buffered_(),t=po(e)||0,n=ho(e,this.currentTime_()),i=!this.hasPlayed_()&&n>=1,r=n>=this.goalBufferLength_(),o=this.playlist_.segments;if(!o.length||i||r)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_());var a={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:Boolean(!this.syncPoint_)};if(a.isSyncRequest)a.mediaIndex=function(e,t,n){t=t||[];for(var i=[],r=0,o=0;o<t.length;o++){var a=t[o];if(e===a.timeline&&(i.push(o),(r+=a.duration)>n))return o}return 0===i.length?0:i[i.length-1]}(this.currentTimeline_,o,t);else if(null!==this.mediaIndex){var s=o[this.mediaIndex],u="number"==typeof this.partIndex?this.partIndex:-1;a.startOfSegment=s.end?s.end:t,s.parts&&s.parts[u+1]?(a.mediaIndex=this.mediaIndex,a.partIndex=u+1):a.mediaIndex=this.mediaIndex+1}else{var l=Po.getMediaInfoForTime({experimentalExactManifestTimings:this.experimentalExactManifestTimings,playlist:this.playlist_,currentTime:this.fetchAtBuffer_?t:this.currentTime_(),startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time}),c=l.segmentIndex,d=l.startTime,p=l.partIndex;a.getMediaInfoForTime=this.fetchAtBuffer_?"bufferedEnd "+t:"currentTime "+this.currentTime_(),a.mediaIndex=c,a.startOfSegment=d,a.partIndex=p}var h=o[a.mediaIndex],f=h&&"number"==typeof a.partIndex&&h.parts&&h.parts[a.partIndex];if(!h||"number"==typeof a.partIndex&&!f)return null;if("number"!=typeof a.partIndex&&h.parts&&(a.partIndex=0,f=h.parts[0]),!n&&f&&!f.independent)if(0===a.partIndex){var m=o[a.mediaIndex-1],g=m.parts&&m.parts.length&&m.parts[m.parts.length-1];g&&g.independent&&(a.mediaIndex-=1,a.partIndex=m.parts.length-1,a.independent="previous segment")}else h.parts[a.partIndex-1].independent&&(a.partIndex-=1,a.independent="previous part");var y=this.mediaSource_&&"ended"===this.mediaSource_.readyState;return a.mediaIndex>=o.length-1&&y&&!this.seeking_()?null:this.generateSegmentInfo_(a)},n.generateSegmentInfo_=function(e){var t=e.independent,n=e.playlist,i=e.mediaIndex,r=e.startOfSegment,o=e.isSyncRequest,a=e.partIndex,s=e.forceTimestampOffset,u=e.getMediaInfoForTime,l=n.segments[i],c="number"==typeof a&&l.parts[a],d={requestId:"segment-loader-"+Math.random(),uri:c&&c.resolvedUri||l.resolvedUri,mediaIndex:i,partIndex:c?a:null,isSyncRequest:o,startOfSegment:r,playlist:n,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:l.timeline,duration:c&&c.duration||l.duration,segment:l,part:c,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:u,independent:t},p=void 0!==s?s:this.isPendingTimestampOffset_;d.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:l.timeline,currentTimeline:this.currentTimeline_,startOfSegment:r,buffered:this.buffered_(),overrideCheck:p});var h=po(this.sourceUpdater_.audioBuffered());return"number"==typeof h&&(d.audioAppendStart=h-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(d.gopsToAlignWith=function(e,t,n){if(null==t||!e.length)return[];var i,r=Math.ceil((t-n+3)*S.ONE_SECOND_IN_TS);for(i=0;i<e.length&&!(e[i].pts>r);i++);return e.slice(i)}(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),d},n.timestampOffsetForSegment_=function(e){return n=(t=e).segmentTimeline,i=t.currentTimeline,r=t.startOfSegment,o=t.buffered,t.overrideCheck||n!==i?n<i?r:o.length?o.end(o.length-1):r:null;var t,n,i,r,o},n.earlyAbortWhenNeeded_=function(e){if(!this.vhs_.tech_.paused()&&this.xhrOptions_.timeout&&this.playlist_.attributes.BANDWIDTH&&!(Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)){var t=this.currentTime_(),n=e.bandwidth,i=this.pendingSegment_.duration,r=Po.estimateSegmentRequestTime(i,n,this.playlist_,e.bytesReceived),o=function(e,t,n){return void 0===n&&(n=1),((e.length?e.end(e.length-1):0)-t)/n}(this.buffered_(),t,this.vhs_.tech_.playbackRate())-1;if(!(r<=o)){var a=function(e){var t=e.master,n=e.currentTime,i=e.bandwidth,r=e.duration,o=e.segmentDuration,a=e.timeUntilRebuffer,s=e.currentTimeline,u=e.syncController,l=t.playlists.filter((function(e){return!Po.isIncompatible(e)})),c=l.filter(Po.isEnabled);c.length||(c=l.filter((function(e){return!Po.isDisabled(e)})));var d=c.filter(Po.hasAttribute.bind(null,"BANDWIDTH")).map((function(e){var t=u.getSyncPoint(e,r,s,n)?1:2;return{playlist:e,rebufferingImpact:Po.estimateSegmentRequestTime(o,i,e)*t-a}})),p=d.filter((function(e){return e.rebufferingImpact<=0}));return Xa(p,(function(e,t){return Qa(t.playlist,e.playlist)})),p.length?p[0]:(Xa(d,(function(e,t){return e.rebufferingImpact-t.rebufferingImpact})),d[0]||null)}({master:this.vhs_.playlists.master,currentTime:t,bandwidth:n,duration:this.duration_(),segmentDuration:i,timeUntilRebuffer:o,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(a){var s=r-o-a.rebufferingImpact,u=.5;o<=ro&&(u=1),!a.playlist||a.playlist.uri===this.playlist_.uri||s<u||(this.bandwidth=a.playlist.attributes.BANDWIDTH*fa.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}}}},n.handleAbort_=function(e){this.logger_("Aborting "+os(e)),this.mediaRequestsAborted+=1},n.handleProgress_=function(e,t){this.earlyAbortWhenNeeded_(t.stats),this.checkForAbort_(t.requestId)||this.trigger("progress")},n.handleTrackInfo_=function(e,t){this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId)||this.checkForIllegalMediaSwitch(t)||(t=t||{},function(e,t){if(!e&&!t||!e&&t||e&&!t)return!1;if(e===t)return!0;var n=Object.keys(e).sort(),i=Object.keys(t).sort();if(n.length!==i.length)return!1;for(var r=0;r<n.length;r++){var o=n[r];if(o!==i[r])return!1;if(e[o]!==t[o])return!1}return!0}(this.currentMediaInfo_,t)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=t,this.currentMediaInfo_=t,this.logger_("trackinfo update",t),this.trigger("trackinfo")),this.checkForAbort_(e.requestId)||(this.pendingSegment_.trackInfo=t,this.hasEnoughInfoToAppend_()&&this.processCallQueue_()))},n.handleTimingInfo_=function(e,t,n,i){if(this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId)){var r=this.pendingSegment_,o=as(t);r[o]=r[o]||{},r[o][n]=i,this.logger_("timinginfo: "+t+" - "+n+" - "+i),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}},n.handleCaptions_=function(e,t){var n=this;if(this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId))if(0!==t.length)if(this.pendingSegment_.hasAppendedData_){var i=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),r={};t.forEach((function(e){r[e.stream]=r[e.stream]||{startTime:1/0,captions:[],endTime:0};var t=r[e.stream];t.startTime=Math.min(t.startTime,e.startTime+i),t.endTime=Math.max(t.endTime,e.endTime+i),t.captions.push(e)})),Object.keys(r).forEach((function(e){var t=r[e],o=t.startTime,a=t.endTime,s=t.captions,u=n.inbandTextTracks_;n.logger_("adding cues from "+o+" -> "+a+" for "+e),function(e,t,n){if(!e[n]){t.trigger({type:"usage",name:"vhs-608"}),t.trigger({type:"usage",name:"hls-608"});var i=n;/^cc708_/.test(n)&&(i="SERVICE"+n.split("_")[1]);var r=t.textTracks().getTrackById(i);if(r)e[n]=r;else{var o=n,a=n,s=!1,u=(t.options_.vhs&&t.options_.vhs.captionServices||{})[i];u&&(o=u.label,a=u.language,s=u.default),e[n]=t.addRemoteTextTrack({kind:"captions",id:i,default:s,label:o,language:a},!1).track}}}(u,n.vhs_.tech_,e),ns(o,a,u[e]),function(e){var t=e.inbandTextTracks,n=e.captionArray,i=e.timestampOffset;if(n){var r=x.default.WebKitDataCue||x.default.VTTCue;n.forEach((function(e){var n=e.stream;t[n].addCue(new r(e.startTime+i,e.endTime+i,e.text))}))}}({captionArray:s,inbandTextTracks:u,timestampOffset:i})})),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}else this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,e,t));else this.logger_("SegmentLoader received no captions from a caption event")},n.handleId3_=function(e,t,n){if(this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId))if(this.pendingSegment_.hasAppendedData_){var i=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();!function(e,t,n){e.metadataTrack_||(e.metadataTrack_=n.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,e.metadataTrack_.inBandMetadataTrackDispatchType=t)}(this.inbandTextTracks_,n,this.vhs_.tech_),ts({inbandTextTracks:this.inbandTextTracks_,metadataArray:t,timestampOffset:i,videoDuration:this.duration_()})}else this.metadataQueue_.id3.push(this.handleId3_.bind(this,e,t,n))},n.processMetadataQueue_=function(){this.metadataQueue_.id3.forEach((function(e){return e()})),this.metadataQueue_.caption.forEach((function(e){return e()})),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]},n.processCallQueue_=function(){var e=this.callQueue_;this.callQueue_=[],e.forEach((function(e){return e()}))},n.processLoadQueue_=function(){var e=this.loadQueue_;this.loadQueue_=[],e.forEach((function(e){return e()}))},n.hasEnoughInfoToLoad_=function(){if("audio"!==this.loaderType_)return!0;var e=this.pendingSegment_;return!!e&&(!this.getCurrentMediaInfo_()||!ss({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},n.getCurrentMediaInfo_=function(e){return void 0===e&&(e=this.pendingSegment_),e&&e.trackInfo||this.currentMediaInfo_},n.getMediaInfo_=function(e){return void 0===e&&(e=this.pendingSegment_),this.getCurrentMediaInfo_(e)||this.startingMediaInfo_},n.hasEnoughInfoToAppend_=function(){if(!this.sourceUpdater_.ready())return!1;if(this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;var e=this.pendingSegment_,t=this.getCurrentMediaInfo_();if(!e||!t)return!1;var n=t.hasAudio,i=t.hasVideo,r=t.isMuxed;return!(i&&!e.videoTimingInfo)&&(!(n&&!this.audioDisabled_&&!r&&!e.audioTimingInfo)&&!ss({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},n.handleData_=function(e,t){if(this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId))if(!this.callQueue_.length&&this.hasEnoughInfoToAppend_()){var n=this.pendingSegment_;if(this.setTimeMapping_(n.timeline),this.updateMediaSecondsLoaded_(n.part||n.segment),"closed"!==this.mediaSource_.readyState){if(e.map&&(e.map=this.initSegmentForMap(e.map,!0),n.segment.map=e.map),e.key&&this.segmentKey(e.key,!0),n.isFmp4=e.isFmp4,n.timingInfo=n.timingInfo||{},n.isFmp4)this.trigger("fmp4"),n.timingInfo.start=n[as(t.type)].start;else{var i,r=this.getCurrentMediaInfo_(),o="main"===this.loaderType_&&r&&r.hasVideo;o&&(i=n.videoTimingInfo.start),n.timingInfo.start=this.trueSegmentStart_({currentStart:n.timingInfo.start,playlist:n.playlist,mediaIndex:n.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:o,firstVideoFrameTimeForData:i,videoTimingInfo:n.videoTimingInfo,audioTimingInfo:n.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(n,t.type),this.updateSourceBufferTimestampOffset_(n),n.isSyncRequest){this.updateTimingInfoEnd_(n),this.syncController_.saveSegmentTimingInfo({segmentInfo:n,shouldSaveTimelineMapping:"main"===this.loaderType_});var a=this.chooseNextRequest_();if(a.mediaIndex!==n.mediaIndex||a.partIndex!==n.partIndex)return void this.logger_("sync segment was incorrect, not appending");this.logger_("sync segment was correct, appending")}n.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(n,t)}}else this.callQueue_.push(this.handleData_.bind(this,e,t))},n.updateAppendInitSegmentStatus=function(e,t){"main"!==this.loaderType_||"number"!=typeof e.timestampOffset||e.changedTimestampOffset||(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[t]!==e.playlist&&(this.appendInitSegment_[t]=!0)},n.getInitSegmentAndUpdateState_=function(e){var t=e.type,n=e.initSegment,i=e.map,r=e.playlist;if(i){var o=na(i);if(this.activeInitSegmentId_===o)return null;n=this.initSegmentForMap(i,!0).bytes,this.activeInitSegmentId_=o}return n&&this.appendInitSegment_[t]?(this.playlistOfLastInitSegment_[t]=r,this.appendInitSegment_[t]=!1,this.activeInitSegmentId_=null,n):null},n.handleQuotaExceededError_=function(e,t){var n=this,i=e.segmentInfo,r=e.type,o=e.bytes,a=this.sourceUpdater_.audioBuffered(),s=this.sourceUpdater_.videoBuffered();a.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+co(a).join(", ")),s.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+co(s).join(", "));var u=a.length?a.start(0):0,l=a.length?a.end(a.length-1):0,c=s.length?s.start(0):0,d=s.length?s.end(s.length-1):0;if(l-u<=1&&d-c<=1)return this.logger_("On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: "+o.byteLength+", audio buffer: "+co(a).join(", ")+", video buffer: "+co(s).join(", ")+", "),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),void this.trigger("error");this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:i,type:r,bytes:o}));var p=this.currentTime_()-1;this.logger_("On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to "+p),this.remove(0,p,(function(){n.logger_("On QUOTA_EXCEEDED_ERR, retrying append in 1s"),n.waitingOnRemove_=!1,n.quotaExceededErrorRetryTimeout_=x.default.setTimeout((function(){n.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),n.quotaExceededErrorRetryTimeout_=null,n.processCallQueue_()}),1e3)}),!0)},n.handleAppendError_=function(e,t){var n=e.segmentInfo,i=e.type,r=e.bytes;t&&(22!==t.code?(this.logger_("Received non QUOTA_EXCEEDED_ERR on append",t),this.error(i+" append of "+r.length+"b failed for segment #"+n.mediaIndex+" in playlist "+n.playlist.id),this.trigger("appenderror")):this.handleQuotaExceededError_({segmentInfo:n,type:i,bytes:r}))},n.appendToSourceBuffer_=function(e){var t,n,i,r=e.segmentInfo,o=e.type,a=e.initSegment,s=e.data,u=e.bytes;if(!u){var l=[s],c=s.byteLength;a&&(l.unshift(a),c+=a.byteLength),i=0,(t={bytes:c,segments:l}).bytes&&(n=new Uint8Array(t.bytes),t.segments.forEach((function(e){n.set(e,i),i+=e.byteLength}))),u=n}this.sourceUpdater_.appendBuffer({segmentInfo:r,type:o,bytes:u},this.handleAppendError_.bind(this,{segmentInfo:r,type:o,bytes:u}))},n.handleSegmentTimingInfo_=function(e,t,n){if(this.pendingSegment_&&t===this.pendingSegment_.requestId){var i=this.pendingSegment_.segment,r=e+"TimingInfo";i[r]||(i[r]={}),i[r].transmuxerPrependedSeconds=n.prependedContentDuration||0,i[r].transmuxedPresentationStart=n.start.presentation,i[r].transmuxedDecodeStart=n.start.decode,i[r].transmuxedPresentationEnd=n.end.presentation,i[r].transmuxedDecodeEnd=n.end.decode,i[r].baseMediaDecodeTime=n.baseMediaDecodeTime}},n.appendData_=function(e,t){var n=t.type,i=t.data;if(i&&i.byteLength&&("audio"!==n||!this.audioDisabled_)){var r=this.getInitSegmentAndUpdateState_({type:n,initSegment:t.initSegment,playlist:e.playlist,map:e.isFmp4?e.segment.map:null});this.appendToSourceBuffer_({segmentInfo:e,type:n,initSegment:r,data:i})}},n.loadSegment_=function(e){var t=this;this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),"number"==typeof e.timestampOffset&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.hasEnoughInfoToLoad_()?this.updateTransmuxerAndRequestSegment_(e):this.loadQueue_.push((function(){var n=k.default({},e,{forceTimestampOffset:!0});k.default(e,t.generateSegmentInfo_(n)),t.isPendingTimestampOffset_=!1,t.updateTransmuxerAndRequestSegment_(e)}))},n.updateTransmuxerAndRequestSegment_=function(e){var t=this;this.shouldUpdateTransmuxerTimestampOffset_(e.timestampOffset)&&(this.gopBuffer_.length=0,e.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e.timestampOffset}));var n=this.createSimplifiedSegmentObj_(e),i=this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex),r=null!==this.mediaIndex,o=e.timeline!==this.currentTimeline_&&e.timeline>0,a=i||r&&o;this.logger_("Requesting "+os(e)),n.map&&!n.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),e.abortRequests=$a({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:n,abortFn:this.handleAbort_.bind(this,e),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",e.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",e.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:a,endedTimelineFn:function(){t.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:function(n){var i=n.message,r=n.level,o=n.stream;t.logger_(os(e)+" logged from transmuxer stream "+o+" as a "+r+": "+i)}})},n.trimBackBuffer_=function(e){var t=function(e,t,n){var i=t-fa.BACK_BUFFER_LENGTH;e.length&&(i=Math.max(i,e.start(0)));var r=t-n;return Math.min(r,i)}(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);t>0&&this.remove(0,t)},n.createSimplifiedSegmentObj_=function(e){var t=e.segment,n=e.part,i={resolvedUri:n?n.resolvedUri:t.resolvedUri,byterange:n?n.byterange:t.byterange,requestId:e.requestId,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,part:e.part},r=e.playlist.segments[e.mediaIndex-1];if(r&&r.timeline===t.timeline&&(r.videoTimingInfo?i.baseStartTime=r.videoTimingInfo.transmuxedDecodeEnd:r.audioTimingInfo&&(i.baseStartTime=r.audioTimingInfo.transmuxedDecodeEnd)),t.key){var o=t.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);i.key=this.segmentKey(t.key),i.key.iv=o}return t.map&&(i.map=this.initSegmentForMap(t.map)),i},n.saveTransferStats_=function(e){this.mediaRequests+=1,e&&(this.mediaBytesTransferred+=e.bytesReceived,this.mediaTransferDuration+=e.roundTripTime)},n.saveBandwidthRelatedStats_=function(e,t){this.pendingSegment_.byteLength=t.bytesReceived,e<rs?this.logger_("Ignoring segment's bandwidth because its duration of "+e+" is less than the min to record 0.016666666666666666"):(this.bandwidth=t.bandwidth,this.roundTrip=t.roundTripTime)},n.handleTimeout_=function(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate")},n.segmentRequestFinished_=function(e,t,n){if(this.callQueue_.length)this.callQueue_.push(this.segmentRequestFinished_.bind(this,e,t,n));else if(this.saveTransferStats_(t.stats),this.pendingSegment_&&t.requestId===this.pendingSegment_.requestId){if(e){if(this.pendingSegment_=null,this.state="READY",e.code===Oa)return;return this.pause(),e.code===Da?void this.handleTimeout_():(this.mediaRequestsErrored+=1,this.error(e),void this.trigger("error"))}var i=this.pendingSegment_;this.saveBandwidthRelatedStats_(i.duration,t.stats),i.endOfAllRequests=t.endOfAllRequests,n.gopInfo&&(this.gopBuffer_=function(e,t,n){if(!t.length)return e;if(n)return t.slice();for(var i=t[0].pts,r=0;r<e.length&&!(e[r].pts>=i);r++);return e.slice(0,r).concat(t)}(this.gopBuffer_,n.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(i)}},n.setTimeMapping_=function(e){var t=this.syncController_.mappingForTimeline(e);null!==t&&(this.timeMapping_=t)},n.updateMediaSecondsLoaded_=function(e){"number"==typeof e.start&&"number"==typeof e.end?this.mediaSecondsLoaded+=e.end-e.start:this.mediaSecondsLoaded+=e.duration},n.shouldUpdateTransmuxerTimestampOffset_=function(e){return null!==e&&("main"===this.loaderType_&&e!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&e!==this.sourceUpdater_.audioTimestampOffset())},n.trueSegmentStart_=function(e){var t=e.currentStart,n=e.playlist,i=e.mediaIndex,r=e.firstVideoFrameTimeForData,o=e.currentVideoTimestampOffset,a=e.useVideoTimingInfo,s=e.videoTimingInfo,u=e.audioTimingInfo;if(void 0!==t)return t;if(!a)return u.start;var l=n.segments[i-1];return 0!==i&&l&&void 0!==l.start&&l.end===r+o?s.start:r},n.waitForAppendsToComplete_=function(e){var t=this.getCurrentMediaInfo_(e);if(!t)return this.error({message:"No starting media returned, likely due to an unsupported media format.",blacklistDuration:1/0}),void this.trigger("error");var n=t.hasAudio,i=t.hasVideo,r=t.isMuxed,o="main"===this.loaderType_&&i,a=!this.audioDisabled_&&n&&!r;if(e.waitingOnAppends=0,!e.hasAppendedData_)return e.timingInfo||"number"!=typeof e.timestampOffset||(this.isPendingTimestampOffset_=!0),e.timingInfo={start:0},e.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(e),this.processMetadataQueue_()),void this.checkAppendsDone_(e);o&&e.waitingOnAppends++,a&&e.waitingOnAppends++,o&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,e)),a&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,e))},n.checkAppendsDone_=function(e){this.checkForAbort_(e.requestId)||(e.waitingOnAppends--,0===e.waitingOnAppends&&this.handleAppendsDone_())},n.checkForIllegalMediaSwitch=function(e){var t=function(e,t,n){return"main"===e&&t&&n?n.hasAudio||n.hasVideo?t.hasVideo&&!n.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!t.hasVideo&&n.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null}(this.loaderType_,this.getCurrentMediaInfo_(),e);return!!t&&(this.error({message:t,blacklistDuration:1/0}),this.trigger("error"),!0)},n.updateSourceBufferTimestampOffset_=function(e){if(null!==e.timestampOffset&&"number"==typeof e.timingInfo.start&&!e.changedTimestampOffset&&"main"===this.loaderType_){var t=!1;e.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e.segment.videoTimingInfo,audioTimingInfo:e.segment.audioTimingInfo,timingInfo:e.timingInfo}),e.changedTimestampOffset=!0,e.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(e.timestampOffset),t=!0),e.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(e.timestampOffset),t=!0),t&&this.trigger("timestampoffset")}},n.getSegmentStartTimeForTimestampOffsetCalculation_=function(e){var t=e.videoTimingInfo,n=e.audioTimingInfo,i=e.timingInfo;return this.useDtsForTimestampOffset_?t&&"number"==typeof t.transmuxedDecodeStart?t.transmuxedDecodeStart:n&&"number"==typeof n.transmuxedDecodeStart?n.transmuxedDecodeStart:i.start:i.start},n.updateTimingInfoEnd_=function(e){e.timingInfo=e.timingInfo||{};var t=this.getMediaInfo_(),n="main"===this.loaderType_&&t&&t.hasVideo&&e.videoTimingInfo?e.videoTimingInfo:e.audioTimingInfo;n&&(e.timingInfo.end="number"==typeof n.end?n.end:n.start+e.duration)},n.handleAppendsDone_=function(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var e=this.pendingSegment_;this.updateTimingInfoEnd_(e),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:"main"===this.loaderType_});var t=ls(e,this.sourceType_);if(t&&("warn"===t.severity?Qr.log.warn(t.message):this.logger_(t.message)),this.recordThroughput_(e),this.pendingSegment_=null,this.state="READY",!e.isSyncRequest||(this.trigger("syncinfoupdate"),e.hasAppendedData_)){this.logger_("Appended "+os(e)),this.addSegmentMetadataCue_(e),this.fetchAtBuffer_=!0,this.currentTimeline_!==e.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),"main"!==this.loaderType_||this.audioDisabled_||this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:e.timeline})),this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate");var n=e.segment,i=e.part,r=n.end&&this.currentTime_()-n.end>3*e.playlist.targetDuration,o=i&&i.end&&this.currentTime_()-i.end>3*e.playlist.partTargetDuration;if(r||o)return this.logger_("bad "+(r?"segment":"part")+" "+os(e)),void this.resetEverything();null!==this.mediaIndex&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=e.mediaIndex,this.partIndex=e.partIndex,this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex)&&this.endOfStream(),this.trigger("appended"),e.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()}else this.logger_("Throwing away un-appended sync request "+os(e))},n.recordThroughput_=function(e){if(e.duration<rs)this.logger_("Ignoring segment's throughput because its duration of "+e.duration+" is less than the min to record 0.016666666666666666");else{var t=this.throughput.rate,n=Date.now()-e.endOfAllRequests+1,i=Math.floor(e.byteLength/n*8*1e3);this.throughput.rate+=(i-t)/++this.throughput.count}},n.addSegmentMetadataCue_=function(e){if(this.segmentMetadataTrack_){var t=e.segment,n=t.start,i=t.end;if(is(n)&&is(i)){ns(n,i,this.segmentMetadataTrack_);var r=x.default.WebKitDataCue||x.default.VTTCue,o={custom:t.custom,dateTimeObject:t.dateTimeObject,dateTimeString:t.dateTimeString,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.id,start:n,end:i},a=new r(n,i,JSON.stringify(o));a.value=o,this.segmentMetadataTrack_.addCue(a)}}},t}(Qr.EventTarget);function ds(){}var ps,hs=function(e){return"string"!=typeof e?e:e.replace(/./,(function(e){return e.toUpperCase()}))},fs=["video","audio"],ms=function(e,t){var n=t[e+"Buffer"];return n&&n.updating||t.queuePending[e]},gs=function e(t,n){if(0!==n.queue.length){var i=0,r=n.queue[i];if("mediaSource"!==r.type){if("mediaSource"!==t&&n.ready()&&"closed"!==n.mediaSource.readyState&&!ms(t,n)){if(r.type!==t){if(i=function(e,t){for(var n=0;n<t.length;n++){var i=t[n];if("mediaSource"===i.type)return null;if(i.type===e)return n}return null}(t,n.queue),null===i)return;r=n.queue[i]}return n.queue.splice(i,1),n.queuePending[t]=r,r.action(t,n),r.doneFn?void 0:(n.queuePending[t]=null,void e(t,n))}}else n.updating()||"closed"===n.mediaSource.readyState||(n.queue.shift(),r.action(n),r.doneFn&&r.doneFn(),e("audio",n),e("video",n))}},ys=function(e,t){var n=t[e+"Buffer"],i=hs(e);n&&(n.removeEventListener("updateend",t["on"+i+"UpdateEnd_"]),n.removeEventListener("error",t["on"+i+"Error_"]),t.codecs[e]=null,t[e+"Buffer"]=null)},vs=function(e,t){return e&&t&&-1!==Array.prototype.indexOf.call(e.sourceBuffers,t)},_s=function(e,t,n){return function(i,r){var o=r[i+"Buffer"];if(vs(r.mediaSource,o)){r.logger_("Appending segment "+t.mediaIndex+"'s "+e.length+" bytes to "+i+"Buffer");try{o.appendBuffer(e)}catch(e){r.logger_("Error with code "+e.code+" "+(22===e.code?"(QUOTA_EXCEEDED_ERR) ":"")+"when appending segment "+t.mediaIndex+" to "+i+"Buffer"),r.queuePending[i]=null,n(e)}}}},bs=function(e,t){return function(n,i){var r=i[n+"Buffer"];if(vs(i.mediaSource,r)){i.logger_("Removing "+e+" to "+t+" from "+n+"Buffer");try{r.remove(e,t)}catch(r){i.logger_("Remove "+e+" to "+t+" from "+n+"Buffer failed")}}}},ws=function(e){return function(t,n){var i=n[t+"Buffer"];vs(n.mediaSource,i)&&(n.logger_("Setting "+t+"timestampOffset to "+e),i.timestampOffset=e)}},Es=function(e){return function(t,n){e()}},Ss=function(e){return function(t){if("open"===t.mediaSource.readyState){t.logger_("Calling mediaSource endOfStream("+(e||"")+")");try{t.mediaSource.endOfStream(e)}catch(e){Qr.log.warn("Failed to call media source endOfStream",e)}}}},Ts=function(e){return function(t){t.logger_("Setting mediaSource duration to "+e);try{t.mediaSource.duration=e}catch(e){Qr.log.warn("Failed to set media source duration",e)}}},Cs=function(){return function(e,t){if("open"===t.mediaSource.readyState){var n=t[e+"Buffer"];if(vs(t.mediaSource,n)){t.logger_("calling abort on "+e+"Buffer");try{n.abort()}catch(t){Qr.log.warn("Failed to abort on "+e+"Buffer",t)}}}}},xs=function(e,t){return function(n){var i=hs(e),r=g.getMimeForCodec(t);n.logger_("Adding "+e+"Buffer with codec "+t+" to mediaSource");var o=n.mediaSource.addSourceBuffer(r);o.addEventListener("updateend",n["on"+i+"UpdateEnd_"]),o.addEventListener("error",n["on"+i+"Error_"]),n.codecs[e]=t,n[e+"Buffer"]=o}},As=function(e){return function(t){var n=t[e+"Buffer"];if(ys(e,t),vs(t.mediaSource,n)){t.logger_("Removing "+e+"Buffer with codec "+t.codecs[e]+" from mediaSource");try{t.mediaSource.removeSourceBuffer(n)}catch(t){Qr.log.warn("Failed to removeSourceBuffer "+e+"Buffer",t)}}}},ks=function(e){return function(t,n){var i=n[t+"Buffer"],r=g.getMimeForCodec(e);vs(n.mediaSource,i)&&n.codecs[t]!==e&&(n.logger_("changing "+t+"Buffer codec from "+n.codecs[t]+" to "+e),i.changeType(r),n.codecs[t]=e)}},Is=function(e){var t=e.type,n=e.sourceUpdater,i=e.action,r=e.doneFn,o=e.name;n.queue.push({type:t,action:i,doneFn:r,name:o}),gs(t,n)},Ds=function(e,t){return function(n){if(t.queuePending[e]){var i=t.queuePending[e].doneFn;t.queuePending[e]=null,i&&i(t[e+"Error_"])}gs(e,t)}},Os=function(e){function t(t){var n;return(n=e.call(this)||this).mediaSource=t,n.sourceopenListener_=function(){return gs("mediaSource",D.default(n))},n.mediaSource.addEventListener("sourceopen",n.sourceopenListener_),n.logger_=io("SourceUpdater"),n.audioTimestampOffset_=0,n.videoTimestampOffset_=0,n.queue=[],n.queuePending={audio:null,video:null},n.delayedAudioAppendQueue_=[],n.videoAppendQueued_=!1,n.codecs={},n.onVideoUpdateEnd_=Ds("video",D.default(n)),n.onAudioUpdateEnd_=Ds("audio",D.default(n)),n.onVideoError_=function(e){n.videoError_=e},n.onAudioError_=function(e){n.audioError_=e},n.createdSourceBuffers_=!1,n.initializedEme_=!1,n.triggeredReady_=!1,n}O.default(t,e);var n=t.prototype;return n.initializedEme=function(){this.initializedEme_=!0,this.triggerReady()},n.hasCreatedSourceBuffers=function(){return this.createdSourceBuffers_},n.hasInitializedAnyEme=function(){return this.initializedEme_},n.ready=function(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()},n.createSourceBuffers=function(e){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(e),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())},n.triggerReady=function(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))},n.addSourceBuffer=function(e,t){Is({type:"mediaSource",sourceUpdater:this,action:xs(e,t),name:"addSourceBuffer"})},n.abort=function(e){Is({type:e,sourceUpdater:this,action:Cs(e),name:"abort"})},n.removeSourceBuffer=function(e){this.canRemoveSourceBuffer()?Is({type:"mediaSource",sourceUpdater:this,action:As(e),name:"removeSourceBuffer"}):Qr.log.error("removeSourceBuffer is not supported!")},n.canRemoveSourceBuffer=function(){return!Qr.browser.IE_VERSION&&!Qr.browser.IS_FIREFOX&&x.default.MediaSource&&x.default.MediaSource.prototype&&"function"==typeof x.default.MediaSource.prototype.removeSourceBuffer},t.canChangeType=function(){return x.default.SourceBuffer&&x.default.SourceBuffer.prototype&&"function"==typeof x.default.SourceBuffer.prototype.changeType},n.canChangeType=function(){return this.constructor.canChangeType()},n.changeType=function(e,t){this.canChangeType()?Is({type:e,sourceUpdater:this,action:ks(t),name:"changeType"}):Qr.log.error("changeType is not supported!")},n.addOrChangeSourceBuffers=function(e){var t=this;if(!e||"object"!=typeof e||0===Object.keys(e).length)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(e).forEach((function(n){var i=e[n];if(!t.hasCreatedSourceBuffers())return t.addSourceBuffer(n,i);t.canChangeType()&&t.changeType(n,i)}))},n.appendBuffer=function(e,t){var n=this,i=e.segmentInfo,r=e.type,o=e.bytes;if(this.processedAppend_=!0,"audio"===r&&this.videoBuffer&&!this.videoAppendQueued_)return this.delayedAudioAppendQueue_.push([e,t]),void this.logger_("delayed audio append of "+o.length+" until video append");if(Is({type:r,sourceUpdater:this,action:_s(o,i||{mediaIndex:-1},t),doneFn:t,name:"appendBuffer"}),"video"===r){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;var a=this.delayedAudioAppendQueue_.slice();this.logger_("queuing delayed audio "+a.length+" appendBuffers"),this.delayedAudioAppendQueue_.length=0,a.forEach((function(e){n.appendBuffer.apply(n,e)}))}},n.audioBuffered=function(){return vs(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:Qr.createTimeRange()},n.videoBuffered=function(){return vs(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:Qr.createTimeRange()},n.buffered=function(){var e=vs(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,t=vs(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return t&&!e?this.audioBuffered():e&&!t?this.videoBuffered():function(e,t){var n=null,i=null,r=0,o=[],a=[];if(!(e&&e.length&&t&&t.length))return Qr.createTimeRange();for(var s=e.length;s--;)o.push({time:e.start(s),type:"start"}),o.push({time:e.end(s),type:"end"});for(s=t.length;s--;)o.push({time:t.start(s),type:"start"}),o.push({time:t.end(s),type:"end"});for(o.sort((function(e,t){return e.time-t.time})),s=0;s<o.length;s++)"start"===o[s].type?2==++r&&(n=o[s].time):"end"===o[s].type&&1==--r&&(i=o[s].time),null!==n&&null!==i&&(a.push([n,i]),n=null,i=null);return Qr.createTimeRanges(a)}(this.audioBuffered(),this.videoBuffered())},n.setDuration=function(e,t){void 0===t&&(t=ds),Is({type:"mediaSource",sourceUpdater:this,action:Ts(e),name:"duration",doneFn:t})},n.endOfStream=function(e,t){void 0===e&&(e=null),void 0===t&&(t=ds),"string"!=typeof e&&(e=void 0),Is({type:"mediaSource",sourceUpdater:this,action:Ss(e),name:"endOfStream",doneFn:t})},n.removeAudio=function(e,t,n){void 0===n&&(n=ds),this.audioBuffered().length&&0!==this.audioBuffered().end(0)?Is({type:"audio",sourceUpdater:this,action:bs(e,t),doneFn:n,name:"remove"}):n()},n.removeVideo=function(e,t,n){void 0===n&&(n=ds),this.videoBuffered().length&&0!==this.videoBuffered().end(0)?Is({type:"video",sourceUpdater:this,action:bs(e,t),doneFn:n,name:"remove"}):n()},n.updating=function(){return!(!ms("audio",this)&&!ms("video",this))},n.audioTimestampOffset=function(e){return void 0!==e&&this.audioBuffer&&this.audioTimestampOffset_!==e&&(Is({type:"audio",sourceUpdater:this,action:ws(e),name:"timestampOffset"}),this.audioTimestampOffset_=e),this.audioTimestampOffset_},n.videoTimestampOffset=function(e){return void 0!==e&&this.videoBuffer&&this.videoTimestampOffset!==e&&(Is({type:"video",sourceUpdater:this,action:ws(e),name:"timestampOffset"}),this.videoTimestampOffset_=e),this.videoTimestampOffset_},n.audioQueueCallback=function(e){this.audioBuffer&&Is({type:"audio",sourceUpdater:this,action:Es(e),name:"callback"})},n.videoQueueCallback=function(e){this.videoBuffer&&Is({type:"video",sourceUpdater:this,action:Es(e),name:"callback"})},n.dispose=function(){var e=this;this.trigger("dispose"),fs.forEach((function(t){e.abort(t),e.canRemoveSourceBuffer()?e.removeSourceBuffer(t):e[t+"QueueCallback"]((function(){return ys(t,e)}))})),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()},t}(Qr.EventTarget),Ps=function(e){return decodeURIComponent(escape(String.fromCharCode.apply(null,e)))},Ns=new Uint8Array("\n\n".split("").map((function(e){return e.charCodeAt(0)}))),Rs=function(e){function t(t,n){var i;return void 0===n&&(n={}),(i=e.call(this,t,n)||this).mediaSource_=null,i.subtitlesTrack_=null,i.loaderType_="subtitle",i.featuresNativeTextTracks_=t.featuresNativeTextTracks,i.shouldSaveSegmentTimingInfo_=!1,i}O.default(t,e);var n=t.prototype;return n.createTransmuxer_=function(){return null},n.buffered_=function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return Qr.createTimeRanges();var e=this.subtitlesTrack_.cues,t=e[0].startTime,n=e[e.length-1].startTime;return Qr.createTimeRanges([[t,n]])},n.initSegmentForMap=function(e,t){if(void 0===t&&(t=!1),!e)return null;var n=na(e),i=this.initSegments_[n];if(t&&!i&&e.bytes){var r=Ns.byteLength+e.bytes.byteLength,o=new Uint8Array(r);o.set(e.bytes),o.set(Ns,e.bytes.byteLength),this.initSegments_[n]=i={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:o}}return i||e},n.couldBeginLoading_=function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()},n.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},n.track=function(e){return void 0===e||(this.subtitlesTrack_=e,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_()),this.subtitlesTrack_},n.remove=function(e,t){ns(e,t,this.subtitlesTrack_)},n.fillBuffer_=function(){var e=this,t=this.chooseNextRequest_();if(t){if(null===this.syncController_.timestampOffsetForTimeline(t.timeline)){return this.syncController_.one("timestampoffset",(function(){e.state="READY",e.paused()||e.monitorBuffer_()})),void(this.state="WAITING_ON_TIMELINE")}this.loadSegment_(t)}},n.timestampOffsetForSegment_=function(){return null},n.chooseNextRequest_=function(){return this.skipEmptySegments_(e.prototype.chooseNextRequest_.call(this))},n.skipEmptySegments_=function(e){for(;e&&e.segment.empty;){if(e.mediaIndex+1>=e.playlist.segments.length){e=null;break}e=this.generateSegmentInfo_({playlist:e.playlist,mediaIndex:e.mediaIndex+1,startOfSegment:e.startOfSegment+e.duration,isSyncRequest:e.isSyncRequest})}return e},n.stopForError=function(e){this.error(e),this.state="READY",this.pause(),this.trigger("error")},n.segmentRequestFinished_=function(e,t,n){var i=this;if(this.subtitlesTrack_){if(this.saveTransferStats_(t.stats),!this.pendingSegment_)return this.state="READY",void(this.mediaRequestsAborted+=1);if(e)return e.code===Da&&this.handleTimeout_(),e.code===Oa?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,void this.stopForError(e);var r=this.pendingSegment_;this.saveBandwidthRelatedStats_(r.duration,t.stats),this.state="APPENDING",this.trigger("appending");var o=r.segment;if(o.map&&(o.map.bytes=t.map.bytes),r.bytes=t.bytes,"function"!=typeof x.default.WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var a,s=function(){i.subtitlesTrack_.tech_.off("vttjsloaded",a),i.stopForError({message:"Error loading vtt.js"})};return a=function(){i.subtitlesTrack_.tech_.off("vttjserror",s),i.segmentRequestFinished_(e,t,n)},this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",a),void this.subtitlesTrack_.tech_.one("vttjserror",s)}o.requested=!0;try{this.parseVTTCues_(r)}catch(e){return void this.stopForError({message:e.message})}if(this.updateTimeMapping_(r,this.syncController_.timelines[r.timeline],this.playlist_),r.cues.length?r.timingInfo={start:r.cues[0].startTime,end:r.cues[r.cues.length-1].endTime}:r.timingInfo={start:r.startOfSegment,end:r.startOfSegment+r.duration},r.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");r.byteLength=r.bytes.byteLength,this.mediaSecondsLoaded+=o.duration,r.cues.forEach((function(e){i.subtitlesTrack_.addCue(i.featuresNativeTextTracks_?new x.default.VTTCue(e.startTime,e.endTime,e.text):e)})),function(e){var t=e.cues;if(t)for(var n=0;n<t.length;n++){for(var i=[],r=0,o=0;o<t.length;o++)t[n].startTime===t[o].startTime&&t[n].endTime===t[o].endTime&&t[n].text===t[o].text&&++r>1&&i.push(t[o]);i.length&&i.forEach((function(t){return e.removeCue(t)}))}}(this.subtitlesTrack_),this.handleAppendsDone_()}else this.state="READY"},n.handleData_=function(){},n.updateTimingInfoEnd_=function(){},n.parseVTTCues_=function(e){var t,n=!1;"function"==typeof x.default.TextDecoder?t=new x.default.TextDecoder("utf8"):(t=x.default.WebVTT.StringDecoder(),n=!0);var i=new x.default.WebVTT.Parser(x.default,x.default.vttjs,t);if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},i.oncue=e.cues.push.bind(e.cues),i.ontimestampmap=function(t){e.timestampmap=t},i.onparsingerror=function(e){Qr.log.warn("Error encountered when parsing cues: "+e.message)},e.segment.map){var r=e.segment.map.bytes;n&&(r=Ps(r)),i.parse(r)}var o=e.bytes;n&&(o=Ps(o)),i.parse(o),i.flush()},n.updateTimeMapping_=function(e,t,n){var i=e.segment;if(t)if(e.cues.length){var r=e.timestampmap,o=r.MPEGTS/S.ONE_SECOND_IN_TS-r.LOCAL+t.mapping;if(e.cues.forEach((function(e){e.startTime+=o,e.endTime+=o})),!n.syncInfo){var a=e.cues[0].startTime,s=e.cues[e.cues.length-1].startTime;n.syncInfo={mediaSequence:n.mediaSequence+e.mediaIndex,time:Math.min(a,s-i.duration)}}}else i.empty=!0},t}(cs),Ls=function(e,t){for(var n=e.cues,i=0;i<n.length;i++){var r=n[i];if(t>=r.adStartTime&&t<=r.adEndTime)return r}return null},Ms=[{name:"VOD",run:function(e,t,n,i,r){if(n!==1/0){return{time:0,segmentIndex:0,partIndex:null}}return null}},{name:"ProgramDateTime",run:function(e,t,n,i,r){if(!Object.keys(e.timelineToDatetimeMappings).length)return null;var o=null,a=null,s=go(t);r=r||0;for(var u=0;u<s.length;u++){var l=s[t.endList||0===r?u:s.length-(u+1)],c=l.segment,d=e.timelineToDatetimeMappings[c.timeline];if(d&&c.dateTimeObject){var p=c.dateTimeObject.getTime()/1e3+d;if(c.parts&&"number"==typeof l.partIndex)for(var h=0;h<l.partIndex;h++)p+=c.parts[h].duration;var f=Math.abs(r-p);if(null!==a&&(0===f||a<f))break;a=f,o={time:p,segmentIndex:l.segmentIndex,partIndex:l.partIndex}}}return o}},{name:"Segment",run:function(e,t,n,i,r){var o=null,a=null;r=r||0;for(var s=go(t),u=0;u<s.length;u++){var l=s[t.endList||0===r?u:s.length-(u+1)],c=l.segment,d=l.part&&l.part.start||c&&c.start;if(c.timeline===i&&void 0!==d){var p=Math.abs(r-d);if(null!==a&&a<p)break;(!o||null===a||a>=p)&&(a=p,o={time:d,segmentIndex:l.segmentIndex,partIndex:l.partIndex})}}return o}},{name:"Discontinuity",run:function(e,t,n,i,r){var o=null;if(r=r||0,t.discontinuityStarts&&t.discontinuityStarts.length)for(var a=null,s=0;s<t.discontinuityStarts.length;s++){var u=t.discontinuityStarts[s],l=t.discontinuitySequence+s+1,c=e.discontinuities[l];if(c){var d=Math.abs(r-c.time);if(null!==a&&a<d)break;(!o||null===a||a>=d)&&(a=d,o={time:c.time,segmentIndex:u,partIndex:null})}}return o}},{name:"Playlist",run:function(e,t,n,i,r){return t.syncInfo?{time:t.syncInfo.time,segmentIndex:t.syncInfo.mediaSequence-t.mediaSequence,partIndex:null}:null}}],Fs=function(e){function t(t){var n;return(n=e.call(this)||this).timelines=[],n.discontinuities=[],n.timelineToDatetimeMappings={},n.logger_=io("SyncController"),n}O.default(t,e);var n=t.prototype;return n.getSyncPoint=function(e,t,n,i){var r=this.runStrategies_(e,t,n,i);return r.length?this.selectSyncPoint_(r,{key:"time",value:i}):null},n.getExpiredTime=function(e,t){if(!e||!e.segments)return null;var n=this.runStrategies_(e,t,e.discontinuitySequence,0);if(!n.length)return null;var i=this.selectSyncPoint_(n,{key:"segmentIndex",value:0});return i.segmentIndex>0&&(i.time*=-1),Math.abs(i.time+Eo({defaultDuration:e.targetDuration,durationList:e.segments,startIndex:i.segmentIndex,endIndex:0}))},n.runStrategies_=function(e,t,n,i){for(var r=[],o=0;o<Ms.length;o++){var a=Ms[o],s=a.run(this,e,t,n,i);s&&(s.strategy=a.name,r.push({strategy:a.name,syncPoint:s}))}return r},n.selectSyncPoint_=function(e,t){for(var n=e[0].syncPoint,i=Math.abs(e[0].syncPoint[t.key]-t.value),r=e[0].strategy,o=1;o<e.length;o++){var a=Math.abs(e[o].syncPoint[t.key]-t.value);a<i&&(i=a,n=e[o].syncPoint,r=e[o].strategy)}return this.logger_("syncPoint for ["+t.key+": "+t.value+"] chosen with strategy ["+r+"]: [time:"+n.time+", segmentIndex:"+n.segmentIndex+("number"==typeof n.partIndex?",partIndex:"+n.partIndex:"")+"]"),n},n.saveExpiredSegmentInfo=function(e,t){var n=t.mediaSequence-e.mediaSequence;if(n>86400)Qr.log.warn("Not saving expired segment info. Media sequence gap "+n+" is too large.");else for(var i=n-1;i>=0;i--){var r=e.segments[i];if(r&&void 0!==r.start){t.syncInfo={mediaSequence:e.mediaSequence+i,time:r.start},this.logger_("playlist refresh sync: [time:"+t.syncInfo.time+", mediaSequence: "+t.syncInfo.mediaSequence+"]"),this.trigger("syncinfoupdate");break}}},n.setDateTimeMappingForStart=function(e){if(this.timelineToDatetimeMappings={},e.segments&&e.segments.length&&e.segments[0].dateTimeObject){var t=e.segments[0],n=t.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[t.timeline]=-n}},n.saveSegmentTimingInfo=function(e){var t=e.segmentInfo,n=e.shouldSaveTimelineMapping,i=this.calculateSegmentTimeMapping_(t,t.timingInfo,n),r=t.segment;i&&(this.saveDiscontinuitySyncInfo_(t),t.playlist.syncInfo||(t.playlist.syncInfo={mediaSequence:t.playlist.mediaSequence+t.mediaIndex,time:r.start}));var o=r.dateTimeObject;r.discontinuity&&n&&o&&(this.timelineToDatetimeMappings[r.timeline]=-o.getTime()/1e3)},n.timestampOffsetForTimeline=function(e){return void 0===this.timelines[e]?null:this.timelines[e].time},n.mappingForTimeline=function(e){return void 0===this.timelines[e]?null:this.timelines[e].mapping},n.calculateSegmentTimeMapping_=function(e,t,n){var i,r,o=e.segment,a=e.part,s=this.timelines[e.timeline];if("number"==typeof e.timestampOffset)s={time:e.startOfSegment,mapping:e.startOfSegment-t.start},n&&(this.timelines[e.timeline]=s,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+e.timeline+": [time: "+s.time+"] [mapping: "+s.mapping+"]")),i=e.startOfSegment,r=t.end+s.mapping;else{if(!s)return!1;i=t.start+s.mapping,r=t.end+s.mapping}return a&&(a.start=i,a.end=r),(!o.start||i<o.start)&&(o.start=i),o.end=r,!0},n.saveDiscontinuitySyncInfo_=function(e){var t=e.playlist,n=e.segment;if(n.discontinuity)this.discontinuities[n.timeline]={time:n.start,accuracy:0};else if(t.discontinuityStarts&&t.discontinuityStarts.length)for(var i=0;i<t.discontinuityStarts.length;i++){var r=t.discontinuityStarts[i],o=t.discontinuitySequence+i+1,a=r-e.mediaIndex,s=Math.abs(a);if(!this.discontinuities[o]||this.discontinuities[o].accuracy>s){var u=void 0;u=a<0?n.start-Eo({defaultDuration:t.targetDuration,durationList:t.segments,startIndex:e.mediaIndex,endIndex:r}):n.end+Eo({defaultDuration:t.targetDuration,durationList:t.segments,startIndex:e.mediaIndex+1,endIndex:r}),this.discontinuities[o]={time:u,accuracy:s}}}},n.dispose=function(){this.trigger("dispose"),this.off()},t}(Qr.EventTarget),js=function(e){function t(){var t;return(t=e.call(this)||this).pendingTimelineChanges_={},t.lastTimelineChanges_={},t}O.default(t,e);var n=t.prototype;return n.clearPendingTimelineChange=function(e){this.pendingTimelineChanges_[e]=null,this.trigger("pendingtimelinechange")},n.pendingTimelineChange=function(e){var t=e.type,n=e.from,i=e.to;return"number"==typeof n&&"number"==typeof i&&(this.pendingTimelineChanges_[t]={type:t,from:n,to:i},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[t]},n.lastTimelineChange=function(e){var t=e.type,n=e.from,i=e.to;return"number"==typeof n&&"number"==typeof i&&(this.lastTimelineChanges_[t]={type:t,from:n,to:i},delete this.pendingTimelineChanges_[t],this.trigger("timelinechange")),this.lastTimelineChanges_[t]},n.dispose=function(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()},t}(Qr.EventTarget),Bs=ya(va((function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n?n:"undefined"!=typeof self?self:{};function t(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&n.path)}},n.exports),n.exports}var i=t((function(e){function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}e.exports=function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e},e.exports.default=e.exports,e.exports.__esModule=!0})),r=t((function(e){function t(n,i){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.default=e.exports,e.exports.__esModule=!0,t(n,i)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0})),o=t((function(e){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)},e.exports.default=e.exports,e.exports.__esModule=!0})),a=function(){function e(){this.listeners={}}var t=e.prototype;return t.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},t.off=function(e,t){if(!this.listeners[e])return!1;var n=this.listeners[e].indexOf(t);return this.listeners[e]=this.listeners[e].slice(0),this.listeners[e].splice(n,1),n>-1},t.trigger=function(e){var t=this.listeners[e];if(t)if(2===arguments.length)for(var n=t.length,i=0;i<n;++i)t[i].call(this,arguments[1]);else for(var r=Array.prototype.slice.call(arguments,1),o=t.length,a=0;a<o;++a)t[a].apply(this,r)},t.dispose=function(){this.listeners={}},t.pipe=function(e){this.on("data",(function(t){e.push(t)}))},e}();
/*! @name aes-decrypter @version 3.1.3 @license Apache-2.0 */
var s,u=null,l=function(){function e(e){var t,n,i;u||(u=function(){var e,t,n,i,r,o,a,s,u=[[[],[],[],[],[]],[[],[],[],[],[]]],l=u[0],c=u[1],d=l[4],p=c[4],h=[],f=[];for(e=0;e<256;e++)f[(h[e]=e<<1^283*(e>>7))^e]=e;for(t=n=0;!d[t];t^=i||1,n=f[n]||1)for(o=(o=n^n<<1^n<<2^n<<3^n<<4)>>8^255&o^99,d[t]=o,p[o]=t,s=16843009*h[r=h[i=h[t]]]^65537*r^257*i^16843008*t,a=257*h[o]^16843008*o,e=0;e<4;e++)l[e][t]=a=a<<24^a>>>8,c[e][o]=s=s<<24^s>>>8;for(e=0;e<5;e++)l[e]=l[e].slice(0),c[e]=c[e].slice(0);return u}()),this._tables=[[u[0][0].slice(),u[0][1].slice(),u[0][2].slice(),u[0][3].slice(),u[0][4].slice()],[u[1][0].slice(),u[1][1].slice(),u[1][2].slice(),u[1][3].slice(),u[1][4].slice()]];var r=this._tables[0][4],o=this._tables[1],a=e.length,s=1;if(4!==a&&6!==a&&8!==a)throw new Error("Invalid aes key size");var l=e.slice(0),c=[];for(this._key=[l,c],t=a;t<4*a+28;t++)i=l[t-1],(t%a==0||8===a&&t%a==4)&&(i=r[i>>>24]<<24^r[i>>16&255]<<16^r[i>>8&255]<<8^r[255&i],t%a==0&&(i=i<<8^i>>>24^s<<24,s=s<<1^283*(s>>7))),l[t]=l[t-a]^i;for(n=0;t;n++,t--)i=l[3&n?t:t-4],c[n]=t<=4||n<4?i:o[0][r[i>>>24]]^o[1][r[i>>16&255]]^o[2][r[i>>8&255]]^o[3][r[255&i]]}return e.prototype.decrypt=function(e,t,n,i,r,o){var a,s,u,l,c=this._key[1],d=e^c[0],p=i^c[1],h=n^c[2],f=t^c[3],m=c.length/4-2,g=4,y=this._tables[1],v=y[0],_=y[1],b=y[2],w=y[3],E=y[4];for(l=0;l<m;l++)a=v[d>>>24]^_[p>>16&255]^b[h>>8&255]^w[255&f]^c[g],s=v[p>>>24]^_[h>>16&255]^b[f>>8&255]^w[255&d]^c[g+1],u=v[h>>>24]^_[f>>16&255]^b[d>>8&255]^w[255&p]^c[g+2],f=v[f>>>24]^_[d>>16&255]^b[p>>8&255]^w[255&h]^c[g+3],g+=4,d=a,p=s,h=u;for(l=0;l<4;l++)r[(3&-l)+o]=E[d>>>24]<<24^E[p>>16&255]<<16^E[h>>8&255]<<8^E[255&f]^c[g++],a=d,d=p,p=h,h=f,f=a},e}(),c=function(e){function t(){var t;return(t=e.call(this,a)||this).jobs=[],t.delay=1,t.timeout_=null,t}o(t,e);var n=t.prototype;return n.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},n.push=function(e){this.jobs.push(e),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},t}(a),d=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},p=function(){function e(t,n,i,r){var o=e.STEP,a=new Int32Array(t.buffer),s=new Uint8Array(t.byteLength),u=0;for(this.asyncStream_=new c,this.asyncStream_.push(this.decryptChunk_(a.subarray(u,u+o),n,i,s)),u=o;u<a.length;u+=o)i=new Uint32Array([d(a[u-4]),d(a[u-3]),d(a[u-2]),d(a[u-1])]),this.asyncStream_.push(this.decryptChunk_(a.subarray(u,u+o),n,i,s));this.asyncStream_.push((function(){
/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */
var e;r(null,(e=s).subarray(0,e.byteLength-e[e.byteLength-1]))}))}return e.prototype.decryptChunk_=function(e,t,n,i){return function(){var r=function(e,t,n){var i,r,o,a,s,u,c,p,h,f=new Int32Array(e.buffer,e.byteOffset,e.byteLength>>2),m=new l(Array.prototype.slice.call(t)),g=new Uint8Array(e.byteLength),y=new Int32Array(g.buffer);for(i=n[0],r=n[1],o=n[2],a=n[3],h=0;h<f.length;h+=4)s=d(f[h]),u=d(f[h+1]),c=d(f[h+2]),p=d(f[h+3]),m.decrypt(s,u,c,p,y,h),y[h]=d(y[h]^i),y[h+1]=d(y[h+1]^r),y[h+2]=d(y[h+2]^o),y[h+3]=d(y[h+3]^a),i=s,r=u,o=c,a=p;return g}(e,t,n);i.set(r,e.byteOffset)}},i(e,null,[{key:"STEP",get:function(){return 32e3}}]),e}();s="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};var h=s.BigInt||Number;h("0x1"),h("0x100"),h("0x10000"),h("0x1000000"),h("0x100000000"),h("0x10000000000"),h("0x1000000000000"),h("0x100000000000000"),h("0x10000000000000000");var f=function(e){var t={};return Object.keys(e).forEach((function(n){var i,r=e[n];i=r,("function"===ArrayBuffer.isView?ArrayBuffer.isView(i):i&&i.buffer instanceof ArrayBuffer)?t[n]={bytes:r.buffer,byteOffset:r.byteOffset,byteLength:r.byteLength}:t[n]=r})),t};self.onmessage=function(e){var t=e.data,n=new Uint8Array(t.encrypted.bytes,t.encrypted.byteOffset,t.encrypted.byteLength),i=new Uint32Array(t.key.bytes,t.key.byteOffset,t.key.byteLength/4),r=new Uint32Array(t.iv.bytes,t.iv.byteOffset,t.iv.byteLength/4);new p(n,i,r,(function(e,n){self.postMessage(f({source:t.source,decrypted:n}),[n.buffer])}))}}))),Us=ga(Bs),Hs=function(e){var t=e.default?"main":"alternative";return e.characteristics&&e.characteristics.indexOf("public.accessibility.describes-video")>=0&&(t="main-desc"),t},$s=function(e,t){e.abort(),e.pause(),t&&t.activePlaylistLoader&&(t.activePlaylistLoader.pause(),t.activePlaylistLoader=null)},Gs=function(e,t){t.activePlaylistLoader=e,e.load()},qs={AUDIO:function(e,t){return function(){var n=t.segmentLoaders[e],i=t.mediaTypes[e],r=t.blacklistCurrentPlaylist;$s(n,i);var o=i.activeTrack(),a=i.activeGroup(),s=(a.filter((function(e){return e.default}))[0]||a[0]).id,u=i.tracks[s];if(o!==u){for(var l in Qr.log.warn("Problem encountered loading the alternate audio track.Switching back to default."),i.tracks)i.tracks[l].enabled=i.tracks[l]===u;i.onTrackChanged()}else r({message:"Problem encountered loading the default audio track."})}},SUBTITLES:function(e,t){return function(){var n=t.segmentLoaders[e],i=t.mediaTypes[e];Qr.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),$s(n,i);var r=i.activeTrack();r&&(r.mode="disabled"),i.onTrackChanged()}}},Vs={AUDIO:function(e,t,n){if(t){var i=n.tech,r=n.requestOptions,o=n.segmentLoaders[e];t.on("loadedmetadata",(function(){var e=t.media();o.playlist(e,r),(!i.paused()||e.endList&&"none"!==i.preload())&&o.load()})),t.on("loadedplaylist",(function(){o.playlist(t.media(),r),i.paused()||o.load()})),t.on("error",qs[e](e,n))}},SUBTITLES:function(e,t,n){var i=n.tech,r=n.requestOptions,o=n.segmentLoaders[e],a=n.mediaTypes[e];t.on("loadedmetadata",(function(){var e=t.media();o.playlist(e,r),o.track(a.activeTrack()),(!i.paused()||e.endList&&"none"!==i.preload())&&o.load()})),t.on("loadedplaylist",(function(){o.playlist(t.media(),r),i.paused()||o.load()})),t.on("error",qs[e](e,n))}},zs={AUDIO:function(e,t){var n=t.vhs,i=t.sourceType,r=t.segmentLoaders[e],o=t.requestOptions,a=t.master.mediaGroups,s=t.mediaTypes[e],u=s.groups,l=s.tracks,c=s.logger_,d=t.masterPlaylistLoader,p=Oo(d.master);for(var h in a[e]&&0!==Object.keys(a[e]).length||(a[e]={main:{default:{default:!0}}},p&&(a[e].main.default.playlists=d.master.playlists)),a[e])for(var f in u[h]||(u[h]=[]),a[e][h]){var m=a[e][h][f],g=void 0;if(p?(c("AUDIO group '"+h+"' label '"+f+"' is a master playlist"),m.isMasterPlaylist=!0,g=null):g="vhs-json"===i&&m.playlists?new zo(m.playlists[0],n,o):m.resolvedUri?new zo(m.resolvedUri,n,o):m.playlists&&"dash"===i?new ha(m.playlists[0],n,o,d):null,m=Qr.mergeOptions({id:f,playlistLoader:g},m),Vs[e](e,m.playlistLoader,t),u[h].push(m),void 0===l[f]){var y=new Qr.AudioTrack({id:f,kind:Hs(m),enabled:!1,language:m.language,default:m.default,label:f});l[f]=y}}r.on("error",qs[e](e,t))},SUBTITLES:function(e,t){var n=t.tech,i=t.vhs,r=t.sourceType,o=t.segmentLoaders[e],a=t.requestOptions,s=t.master.mediaGroups,u=t.mediaTypes[e],l=u.groups,c=u.tracks,d=t.masterPlaylistLoader;for(var p in s[e])for(var h in l[p]||(l[p]=[]),s[e][p])if(!s[e][p][h].forced){var f=s[e][p][h],m=void 0;if("hls"===r)m=new zo(f.resolvedUri,i,a);else if("dash"===r){if(!f.playlists.filter((function(e){return e.excludeUntil!==1/0})).length)return;m=new ha(f.playlists[0],i,a,d)}else"vhs-json"===r&&(m=new zo(f.playlists?f.playlists[0]:f.resolvedUri,i,a));if(f=Qr.mergeOptions({id:h,playlistLoader:m},f),Vs[e](e,f.playlistLoader,t),l[p].push(f),void 0===c[h]){var g=n.addRemoteTextTrack({id:h,kind:"subtitles",default:f.default&&f.autoselect,language:f.language,label:h},!1).track;c[h]=g}}o.on("error",qs[e](e,t))},"CLOSED-CAPTIONS":function(e,t){var n=t.tech,i=t.master.mediaGroups,r=t.mediaTypes[e],o=r.groups,a=r.tracks;for(var s in i[e])for(var u in o[s]||(o[s]=[]),i[e][s]){var l=i[e][s][u];if(/^(?:CC|SERVICE)/.test(l.instreamId)){var c=n.options_.vhs&&n.options_.vhs.captionServices||{},d={label:u,language:l.language,instreamId:l.instreamId,default:l.default&&l.autoselect};if(c[d.instreamId]&&(d=Qr.mergeOptions(d,c[d.instreamId])),void 0===d.default&&delete d.default,o[s].push(Qr.mergeOptions({id:u},l)),void 0===a[u]){var p=n.addRemoteTextTrack({id:d.instreamId,kind:"captions",default:d.default,language:d.language,label:d.label},!1).track;a[u]=p}}}}},Ws=function e(t,n){for(var i=0;i<t.length;i++){if(Io(n,t[i]))return!0;if(t[i].playlists&&e(t[i].playlists,n))return!0}return!1},Ks={AUDIO:function(e,t){return function(){var n=t.mediaTypes[e].tracks;for(var i in n)if(n[i].enabled)return n[i];return null}},SUBTITLES:function(e,t){return function(){var n=t.mediaTypes[e].tracks;for(var i in n)if("showing"===n[i].mode||"hidden"===n[i].mode)return n[i];return null}}},Ys=function(e){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((function(t){zs[t](t,e)}));var t=e.mediaTypes,n=e.masterPlaylistLoader,i=e.tech,r=e.vhs,o=e.segmentLoaders,a=o.AUDIO,s=o.main;["AUDIO","SUBTITLES"].forEach((function(n){t[n].activeGroup=function(e,t){return function(n){var i=t.masterPlaylistLoader,r=t.mediaTypes[e].groups,o=i.media();if(!o)return null;var a=null;o.attributes[e]&&(a=r[o.attributes[e]]);var s=Object.keys(r);if(!a)if("AUDIO"===e&&s.length>1&&Oo(t.master))for(var u=0;u<s.length;u++){var l=r[s[u]];if(Ws(l,o)){a=l;break}}else r.main?a=r.main:1===s.length&&(a=r[s[0]]);return void 0===n?a:null!==n&&a&&a.filter((function(e){return e.id===n.id}))[0]||null}}(n,e),t[n].activeTrack=Ks[n](n,e),t[n].onGroupChanged=function(e,t){return function(){var n=t.segmentLoaders,i=n[e],r=n.main,o=t.mediaTypes[e],a=o.activeTrack(),s=o.getActiveGroup(),u=o.activePlaylistLoader,l=o.lastGroup_;s&&l&&s.id===l.id||(o.lastGroup_=s,o.lastTrack_=a,$s(i,o),s&&!s.isMasterPlaylist&&(s.playlistLoader?(i.resyncLoader(),Gs(s.playlistLoader,o)):u&&r.resetEverything()))}}(n,e),t[n].onGroupChanging=function(e,t){return function(){var n=t.segmentLoaders[e];t.mediaTypes[e].lastGroup_=null,n.abort(),n.pause()}}(n,e),t[n].onTrackChanged=function(e,t){return function(){var n=t.masterPlaylistLoader,i=t.segmentLoaders,r=i[e],o=i.main,a=t.mediaTypes[e],s=a.activeTrack(),u=a.getActiveGroup(),l=a.activePlaylistLoader,c=a.lastTrack_;if((!c||!s||c.id!==s.id)&&(a.lastGroup_=u,a.lastTrack_=s,$s(r,a),u)){if(u.isMasterPlaylist){if(!s||!c||s.id===c.id)return;var d=t.vhs.masterPlaylistController_,p=d.selectPlaylist();if(d.media()===p)return;return a.logger_("track change. Switching master audio from "+c.id+" to "+s.id),n.pause(),o.resetEverything(),void d.fastQualityChange_(p)}if("AUDIO"===e){if(!u.playlistLoader)return o.setAudio(!0),void o.resetEverything();r.setAudio(!0),o.setAudio(!1)}l!==u.playlistLoader?(r.track&&r.track(s),r.resetEverything(),Gs(u.playlistLoader,a)):Gs(u.playlistLoader,a)}}}(n,e),t[n].getActiveGroup=function(e,t){var n=t.mediaTypes;return function(){var t=n[e].activeTrack();return t?n[e].activeGroup(t):null}}(n,e)}));var u=t.AUDIO.activeGroup();if(u){var l=(u.filter((function(e){return e.default}))[0]||u[0]).id;t.AUDIO.tracks[l].enabled=!0,t.AUDIO.onGroupChanged(),t.AUDIO.onTrackChanged(),t.AUDIO.getActiveGroup().playlistLoader?(s.setAudio(!1),a.setAudio(!0)):s.setAudio(!0)}n.on("mediachange",(function(){["AUDIO","SUBTITLES"].forEach((function(e){return t[e].onGroupChanged()}))})),n.on("mediachanging",(function(){["AUDIO","SUBTITLES"].forEach((function(e){return t[e].onGroupChanging()}))}));var c=function(){t.AUDIO.onTrackChanged(),i.trigger({type:"usage",name:"vhs-audio-change"}),i.trigger({type:"usage",name:"hls-audio-change"})};for(var d in i.audioTracks().addEventListener("change",c),i.remoteTextTracks().addEventListener("change",t.SUBTITLES.onTrackChanged),r.on("dispose",(function(){i.audioTracks().removeEventListener("change",c),i.remoteTextTracks().removeEventListener("change",t.SUBTITLES.onTrackChanged)})),i.clearTracks("audio"),t.AUDIO.tracks)i.audioTracks().addTrack(t.AUDIO.tracks[d])},Js=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],Xs=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]},Qs=function(e){function t(t){var n;n=e.call(this)||this;var i=t.src,r=t.handleManifestRedirects,o=t.withCredentials,a=t.tech,s=t.bandwidth,u=t.externVhs,l=t.useCueTags,c=t.blacklistDuration,d=t.enableLowInitialPlaylist,p=t.sourceType,h=t.cacheEncryptionKeys,f=t.experimentalBufferBasedABR,m=t.experimentalLeastPixelDiffSelector,g=t.captionServices;if(!i)throw new Error("A non-empty playlist URL or JSON manifest string is required");var y,v=t.maxPlaylistRetries;null==v&&(v=1/0),ps=u,n.experimentalBufferBasedABR=Boolean(f),n.experimentalLeastPixelDiffSelector=Boolean(m),n.withCredentials=o,n.tech_=a,n.vhs_=a.vhs,n.sourceType_=p,n.useCueTags_=l,n.blacklistDuration=c,n.maxPlaylistRetries=v,n.enableLowInitialPlaylist=d,n.useCueTags_&&(n.cueTagsTrack_=n.tech_.addTextTrack("metadata","ad-cues"),n.cueTagsTrack_.inBandMetadataTrackDispatchType=""),n.requestOptions_={withCredentials:o,handleManifestRedirects:r,maxPlaylistRetries:v,timeout:null},n.on("error",n.pauseLoading),n.mediaTypes_=(y={},["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((function(e){y[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:ds,activeTrack:ds,getActiveGroup:ds,onGroupChanged:ds,onTrackChanged:ds,lastTrack_:null,logger_:io("MediaGroups["+e+"]")}})),y),n.mediaSource=new x.default.MediaSource,n.handleDurationChange_=n.handleDurationChange_.bind(D.default(n)),n.handleSourceOpen_=n.handleSourceOpen_.bind(D.default(n)),n.handleSourceEnded_=n.handleSourceEnded_.bind(D.default(n)),n.mediaSource.addEventListener("durationchange",n.handleDurationChange_),n.mediaSource.addEventListener("sourceopen",n.handleSourceOpen_),n.mediaSource.addEventListener("sourceended",n.handleSourceEnded_),n.seekable_=Qr.createTimeRanges(),n.hasPlayed_=!1,n.syncController_=new Fs(t),n.segmentMetadataTrack_=a.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,n.decrypter_=new Us,n.sourceUpdater_=new Os(n.mediaSource),n.inbandTextTracks_={},n.timelineChangeController_=new js;var _={vhs:n.vhs_,parse708captions:t.parse708captions,useDtsForTimestampOffset:t.useDtsForTimestampOffset,captionServices:g,mediaSource:n.mediaSource,currentTime:n.tech_.currentTime.bind(n.tech_),seekable:function(){return n.seekable()},seeking:function(){return n.tech_.seeking()},duration:function(){return n.duration()},hasPlayed:function(){return n.hasPlayed_},goalBufferLength:function(){return n.goalBufferLength()},bandwidth:s,syncController:n.syncController_,decrypter:n.decrypter_,sourceType:n.sourceType_,inbandTextTracks:n.inbandTextTracks_,cacheEncryptionKeys:h,sourceUpdater:n.sourceUpdater_,timelineChangeController:n.timelineChangeController_,experimentalExactManifestTimings:t.experimentalExactManifestTimings};n.masterPlaylistLoader_="dash"===n.sourceType_?new ha(i,n.vhs_,n.requestOptions_):new zo(i,n.vhs_,n.requestOptions_),n.setupMasterPlaylistLoaderListeners_(),n.mainSegmentLoader_=new cs(Qr.mergeOptions(_,{segmentMetadataTrack:n.segmentMetadataTrack_,loaderType:"main"}),t),n.audioSegmentLoader_=new cs(Qr.mergeOptions(_,{loaderType:"audio"}),t),n.subtitleSegmentLoader_=new Rs(Qr.mergeOptions(_,{loaderType:"vtt",featuresNativeTextTracks:n.tech_.featuresNativeTextTracks}),t),n.setupSegmentLoaderListeners_(),n.experimentalBufferBasedABR&&(n.masterPlaylistLoader_.one("loadedplaylist",(function(){return n.startABRTimer_()})),n.tech_.on("pause",(function(){return n.stopABRTimer_()})),n.tech_.on("play",(function(){return n.startABRTimer_()}))),Js.forEach((function(e){n[e+"_"]=Xs.bind(D.default(n),e)})),n.logger_=io("MPC"),n.triggeredFmp4Usage=!1,"none"===n.tech_.preload()?(n.loadOnPlay_=function(){n.loadOnPlay_=null,n.masterPlaylistLoader_.load()},n.tech_.one("play",n.loadOnPlay_)):n.masterPlaylistLoader_.load(),n.timeToLoadedData__=-1,n.mainAppendsToLoadedData__=-1,n.audioAppendsToLoadedData__=-1;var b="none"===n.tech_.preload()?"play":"loadstart";return n.tech_.one(b,(function(){var e=Date.now();n.tech_.one("loadeddata",(function(){n.timeToLoadedData__=Date.now()-e,n.mainAppendsToLoadedData__=n.mainSegmentLoader_.mediaAppends,n.audioAppendsToLoadedData__=n.audioSegmentLoader_.mediaAppends}))})),n}O.default(t,e);var n=t.prototype;return n.mainAppendsToLoadedData_=function(){return this.mainAppendsToLoadedData__},n.audioAppendsToLoadedData_=function(){return this.audioAppendsToLoadedData__},n.appendsToLoadedData_=function(){var e=this.mainAppendsToLoadedData_(),t=this.audioAppendsToLoadedData_();return-1===e||-1===t?-1:e+t},n.timeToLoadedData_=function(){return this.timeToLoadedData__},n.checkABR_=function(){var e=this.selectPlaylist();e&&this.shouldSwitchToMedia_(e)&&this.switchMedia_(e,"abr")},n.switchMedia_=function(e,t,n){var i=this.media(),r=i&&(i.id||i.uri),o=e.id||e.uri;r&&r!==o&&(this.logger_("switch media "+r+" -> "+o+" from "+t),this.tech_.trigger({type:"usage",name:"vhs-rendition-change-"+t})),this.masterPlaylistLoader_.media(e,n)},n.startABRTimer_=function(){var e=this;this.stopABRTimer_(),this.abrTimer_=x.default.setInterval((function(){return e.checkABR_()}),250)},n.stopABRTimer_=function(){this.tech_.scrubbing&&this.tech_.scrubbing()||(x.default.clearInterval(this.abrTimer_),this.abrTimer_=null)},n.getAudioTrackPlaylists_=function(){var e=this.master(),t=e&&e.playlists||[];if(!e||!e.mediaGroups||!e.mediaGroups.AUDIO)return t;var n,i=e.mediaGroups.AUDIO,r=Object.keys(i);if(Object.keys(this.mediaTypes_.AUDIO.groups).length)n=this.mediaTypes_.AUDIO.activeTrack();else{var o=i.main||r.length&&i[r[0]];for(var a in o)if(o[a].default){n={label:a};break}}if(!n)return t;var s=[];for(var u in i)if(i[u][n.label]){var l=i[u][n.label];if(l.playlists&&l.playlists.length)s.push.apply(s,l.playlists);else if(l.uri)s.push(l);else if(e.playlists.length)for(var c=0;c<e.playlists.length;c++){var d=e.playlists[c];d.attributes&&d.attributes.AUDIO&&d.attributes.AUDIO===u&&s.push(d)}}return s.length?s:t},n.setupMasterPlaylistLoaderListeners_=function(){var e=this;this.masterPlaylistLoader_.on("loadedmetadata",(function(){var t=e.masterPlaylistLoader_.media(),n=1.5*t.targetDuration*1e3;ko(e.masterPlaylistLoader_.master,e.masterPlaylistLoader_.media())?e.requestOptions_.timeout=0:e.requestOptions_.timeout=n,t.endList&&"none"!==e.tech_.preload()&&(e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.mainSegmentLoader_.load()),Ys({sourceType:e.sourceType_,segmentLoaders:{AUDIO:e.audioSegmentLoader_,SUBTITLES:e.subtitleSegmentLoader_,main:e.mainSegmentLoader_},tech:e.tech_,requestOptions:e.requestOptions_,masterPlaylistLoader:e.masterPlaylistLoader_,vhs:e.vhs_,master:e.master(),mediaTypes:e.mediaTypes_,blacklistCurrentPlaylist:e.blacklistCurrentPlaylist.bind(e)}),e.triggerPresenceUsage_(e.master(),t),e.setupFirstPlay(),!e.mediaTypes_.AUDIO.activePlaylistLoader||e.mediaTypes_.AUDIO.activePlaylistLoader.media()?e.trigger("selectedinitialmedia"):e.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",(function(){e.trigger("selectedinitialmedia")}))})),this.masterPlaylistLoader_.on("loadedplaylist",(function(){e.loadOnPlay_&&e.tech_.off("play",e.loadOnPlay_);var t=e.masterPlaylistLoader_.media();if(!t){var n;if(e.excludeUnsupportedVariants_(),e.enableLowInitialPlaylist&&(n=e.selectInitialPlaylist()),n||(n=e.selectPlaylist()),!n||!e.shouldSwitchToMedia_(n))return;if(e.initialMedia_=n,e.switchMedia_(e.initialMedia_,"initial"),!("vhs-json"===e.sourceType_&&e.initialMedia_.segments))return;t=e.initialMedia_}e.handleUpdatedMediaPlaylist(t)})),this.masterPlaylistLoader_.on("error",(function(){e.blacklistCurrentPlaylist(e.masterPlaylistLoader_.error)})),this.masterPlaylistLoader_.on("mediachanging",(function(){e.mainSegmentLoader_.abort(),e.mainSegmentLoader_.pause()})),this.masterPlaylistLoader_.on("mediachange",(function(){var t=e.masterPlaylistLoader_.media(),n=1.5*t.targetDuration*1e3;ko(e.masterPlaylistLoader_.master,e.masterPlaylistLoader_.media())?e.requestOptions_.timeout=0:e.requestOptions_.timeout=n,e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.mainSegmentLoader_.load(),e.tech_.trigger({type:"mediachange",bubbles:!0})})),this.masterPlaylistLoader_.on("playlistunchanged",(function(){var t=e.masterPlaylistLoader_.media();"playlist-unchanged"!==t.lastExcludeReason_&&(e.stuckAtPlaylistEnd_(t)&&(e.blacklistCurrentPlaylist({message:"Playlist no longer updating.",reason:"playlist-unchanged"}),e.tech_.trigger("playliststuck")))})),this.masterPlaylistLoader_.on("renditiondisabled",(function(){e.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"}),e.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})})),this.masterPlaylistLoader_.on("renditionenabled",(function(){e.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"}),e.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})}))},n.handleUpdatedMediaPlaylist=function(e){this.useCueTags_&&this.updateAdCues_(e),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.updateDuration(!e.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())},n.triggerPresenceUsage_=function(e,t){var n=e.mediaGroups||{},i=!0,r=Object.keys(n.AUDIO);for(var o in n.AUDIO)for(var a in n.AUDIO[o]){n.AUDIO[o][a].uri||(i=!1)}i&&(this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),this.tech_.trigger({type:"usage",name:"hls-demuxed"})),Object.keys(n.SUBTITLES).length&&(this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),this.tech_.trigger({type:"usage",name:"hls-webvtt"})),ps.Playlist.isAes(t)&&(this.tech_.trigger({type:"usage",name:"vhs-aes"}),this.tech_.trigger({type:"usage",name:"hls-aes"})),r.length&&Object.keys(n.AUDIO[r[0]]).length>1&&(this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.tech_.trigger({type:"usage",name:"hls-alternate-audio"})),this.useCueTags_&&(this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"}),this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"}))},n.shouldSwitchToMedia_=function(e){var t=this.masterPlaylistLoader_.media()||this.masterPlaylistLoader_.pendingMedia_,n=this.tech_.currentTime(),i=this.bufferLowWaterLine(),r=this.bufferHighWaterLine();return function(e){var t=e.currentPlaylist,n=e.buffered,i=e.currentTime,r=e.nextPlaylist,o=e.bufferLowWaterLine,a=e.bufferHighWaterLine,s=e.duration,u=e.experimentalBufferBasedABR,l=e.log;if(!r)return Qr.log.warn("We received no playlist to switch to. Please check your stream."),!1;var c="allowing switch "+(t&&t.id||"null")+" -> "+r.id;if(!t)return l(c+" as current playlist is not set"),!0;if(r.id===t.id)return!1;var d=Boolean(so(n,i).length);if(!t.endList)return d||"number"!=typeof t.partTargetDuration?(l(c+" as current playlist is live"),!0):(l("not "+c+" as current playlist is live llhls, but currentTime isn't in buffered."),!1);var p=ho(n,i),h=u?fa.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:fa.MAX_BUFFER_LOW_WATER_LINE;if(s<h)return l(c+" as duration < max low water line ("+s+" < "+h+")"),!0;var f=r.attributes.BANDWIDTH,m=t.attributes.BANDWIDTH;if(f<m&&(!u||p<a)){var g=c+" as next bandwidth < current bandwidth ("+f+" < "+m+")";return u&&(g+=" and forwardBuffer < bufferHighWaterLine ("+p+" < "+a+")"),l(g),!0}if((!u||f>m)&&p>=o){var y=c+" as forwardBuffer >= bufferLowWaterLine ("+p+" >= "+o+")";return u&&(y+=" and next bandwidth > current bandwidth ("+f+" > "+m+")"),l(y),!0}return l("not "+c+" as no switching criteria met"),!1}({buffered:this.tech_.buffered(),currentTime:n,currentPlaylist:t,nextPlaylist:e,bufferLowWaterLine:i,bufferHighWaterLine:r,duration:this.duration(),experimentalBufferBasedABR:this.experimentalBufferBasedABR,log:this.logger_})},n.setupSegmentLoaderListeners_=function(){var e=this;this.experimentalBufferBasedABR||(this.mainSegmentLoader_.on("bandwidthupdate",(function(){var t=e.selectPlaylist();e.shouldSwitchToMedia_(t)&&e.switchMedia_(t,"bandwidthupdate"),e.tech_.trigger("bandwidthupdate")})),this.mainSegmentLoader_.on("progress",(function(){e.trigger("progress")}))),this.mainSegmentLoader_.on("error",(function(){e.blacklistCurrentPlaylist(e.mainSegmentLoader_.error())})),this.mainSegmentLoader_.on("appenderror",(function(){e.error=e.mainSegmentLoader_.error_,e.trigger("error")})),this.mainSegmentLoader_.on("syncinfoupdate",(function(){e.onSyncInfoUpdate_()})),this.mainSegmentLoader_.on("timestampoffset",(function(){e.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"}),e.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})})),this.audioSegmentLoader_.on("syncinfoupdate",(function(){e.onSyncInfoUpdate_()})),this.audioSegmentLoader_.on("appenderror",(function(){e.error=e.audioSegmentLoader_.error_,e.trigger("error")})),this.mainSegmentLoader_.on("ended",(function(){e.logger_("main segment loader ended"),e.onEndOfStream()})),this.mainSegmentLoader_.on("earlyabort",(function(t){e.experimentalBufferBasedABR||(e.delegateLoaders_("all",["abort"]),e.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},120))}));var t=function(){if(!e.sourceUpdater_.hasCreatedSourceBuffers())return e.tryToCreateSourceBuffers_();var t=e.getCodecsOrExclude_();t&&e.sourceUpdater_.addOrChangeSourceBuffers(t)};this.mainSegmentLoader_.on("trackinfo",t),this.audioSegmentLoader_.on("trackinfo",t),this.mainSegmentLoader_.on("fmp4",(function(){e.triggeredFmp4Usage||(e.tech_.trigger({type:"usage",name:"vhs-fmp4"}),e.tech_.trigger({type:"usage",name:"hls-fmp4"}),e.triggeredFmp4Usage=!0)})),this.audioSegmentLoader_.on("fmp4",(function(){e.triggeredFmp4Usage||(e.tech_.trigger({type:"usage",name:"vhs-fmp4"}),e.tech_.trigger({type:"usage",name:"hls-fmp4"}),e.triggeredFmp4Usage=!0)})),this.audioSegmentLoader_.on("ended",(function(){e.logger_("audioSegmentLoader ended"),e.onEndOfStream()}))},n.mediaSecondsLoaded_=function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)},n.load=function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()},n.smoothQualityChange_=function(e){void 0===e&&(e=this.selectPlaylist()),this.fastQualityChange_(e)},n.fastQualityChange_=function(e){var t=this;void 0===e&&(e=this.selectPlaylist()),e!==this.masterPlaylistLoader_.media()?(this.switchMedia_(e,"fast-quality"),this.mainSegmentLoader_.resetEverything((function(){Qr.browser.IE_VERSION||Qr.browser.IS_EDGE?t.tech_.setCurrentTime(t.tech_.currentTime()+.04):t.tech_.setCurrentTime(t.tech_.currentTime())}))):this.logger_("skipping fastQualityChange because new media is same as old")},n.play=function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();var e=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0)?this.tech_.setCurrentTime(e.end(e.length-1)):void 0}},n.setupFirstPlay=function(){var e=this,t=this.masterPlaylistLoader_.media();if(!t||this.tech_.paused()||this.hasPlayed_)return!1;if(!t.endList){var n=this.seekable();if(!n.length)return!1;if(Qr.browser.IE_VERSION&&0===this.tech_.readyState())return this.tech_.one("loadedmetadata",(function(){e.trigger("firstplay"),e.tech_.setCurrentTime(n.end(0)),e.hasPlayed_=!0})),!1;this.trigger("firstplay"),this.tech_.setCurrentTime(n.end(0))}return this.hasPlayed_=!0,this.load(),!0},n.handleSourceOpen_=function(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){var e=this.tech_.play();void 0!==e&&"function"==typeof e.then&&e.then(null,(function(e){}))}this.trigger("sourceopen")},n.handleSourceEnded_=function(){if(this.inbandTextTracks_.metadataTrack_){var e=this.inbandTextTracks_.metadataTrack_.cues;if(e&&e.length){var t=this.duration();e[e.length-1].endTime=isNaN(t)||Math.abs(t)===1/0?Number.MAX_VALUE:t}}},n.handleDurationChange_=function(){this.tech_.trigger("durationchange")},n.onEndOfStream=function(){var e=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){var t=this.mainSegmentLoader_.getCurrentMediaInfo_();e=!t||t.hasVideo?e&&this.audioSegmentLoader_.ended_:this.audioSegmentLoader_.ended_}e&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())},n.stuckAtPlaylistEnd_=function(e){if(!this.seekable().length)return!1;var t=this.syncController_.getExpiredTime(e,this.duration());if(null===t)return!1;var n=ps.Playlist.playlistEnd(e,t),i=this.tech_.currentTime(),r=this.tech_.buffered();if(!r.length)return n-i<=oo;var o=r.end(r.length-1);return o-i<=oo&&n-o<=oo},n.blacklistCurrentPlaylist=function(e,t){void 0===e&&(e={});var n=e.playlist||this.masterPlaylistLoader_.media();if(t=t||e.blacklistDuration||this.blacklistDuration,!n)return this.error=e,void("open"!==this.mediaSource.readyState?this.trigger("error"):this.sourceUpdater_.endOfStream("network"));n.playlistErrors_++;var i,r=this.masterPlaylistLoader_.master.playlists,o=r.filter(xo),a=1===o.length&&o[0]===n;if(1===r.length&&t!==1/0)return Qr.log.warn("Problem encountered with playlist "+n.id+". Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(a);if(a){var s=!1;r.forEach((function(e){if(e!==n){var t=e.excludeUntil;void 0!==t&&t!==1/0&&(s=!0,delete e.excludeUntil)}})),s&&(Qr.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}i=n.playlistErrors_>this.maxPlaylistRetries?1/0:Date.now()+1e3*t,n.excludeUntil=i,e.reason&&(n.lastExcludeReason_=e.reason),this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-blacklisted"}),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"});var u=this.selectPlaylist();if(!u)return this.error="Playback cannot continue. No available working or supported playlists.",void this.trigger("error");var l=e.internal?this.logger_:Qr.log.warn,c=e.message?" "+e.message:"";l((e.internal?"Internal problem":"Problem")+" encountered with playlist "+n.id+"."+c+" Switching to playlist "+u.id+"."),u.attributes.AUDIO!==n.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),u.attributes.SUBTITLES!==n.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);var d=u.targetDuration/2*1e3||5e3,p="number"==typeof u.lastRequest&&Date.now()-u.lastRequest<=d;return this.switchMedia_(u,"exclude",a||p)},n.pauseLoading=function(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()},n.delegateLoaders_=function(e,t){var n=this,i=[],r="all"===e;(r||"main"===e)&&i.push(this.masterPlaylistLoader_);var o=[];(r||"audio"===e)&&o.push("AUDIO"),(r||"subtitle"===e)&&(o.push("CLOSED-CAPTIONS"),o.push("SUBTITLES")),o.forEach((function(e){var t=n.mediaTypes_[e]&&n.mediaTypes_[e].activePlaylistLoader;t&&i.push(t)})),["main","audio","subtitle"].forEach((function(t){var r=n[t+"SegmentLoader_"];!r||e!==t&&"all"!==e||i.push(r)})),i.forEach((function(e){return t.forEach((function(t){"function"==typeof e[t]&&e[t]()}))}))},n.setCurrentTime=function(e){var t=so(this.tech_.buffered(),e);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?t&&t.length?e:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0},n.duration=function(){if(!this.masterPlaylistLoader_)return 0;var e=this.masterPlaylistLoader_.media();return e?e.endList?this.mediaSource?this.mediaSource.duration:ps.Playlist.duration(e):1/0:0},n.seekable=function(){return this.seekable_},n.onSyncInfoUpdate_=function(){var e;if(this.masterPlaylistLoader_){var t=this.masterPlaylistLoader_.media();if(t){var n=this.syncController_.getExpiredTime(t,this.duration());if(null!==n){var i=this.masterPlaylistLoader_.master,r=ps.Playlist.seekable(t,n,ps.Playlist.liveEdgeDelay(i,t));if(0!==r.length){if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(t=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),null===(n=this.syncController_.getExpiredTime(t,this.duration())))return;if(0===(e=ps.Playlist.seekable(t,n,ps.Playlist.liveEdgeDelay(i,t))).length)return}var o,a;this.seekable_&&this.seekable_.length&&(o=this.seekable_.end(0),a=this.seekable_.start(0)),e?e.start(0)>r.end(0)||r.start(0)>e.end(0)?this.seekable_=r:this.seekable_=Qr.createTimeRanges([[e.start(0)>r.start(0)?e.start(0):r.start(0),e.end(0)<r.end(0)?e.end(0):r.end(0)]]):this.seekable_=r,this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===o&&this.seekable_.start(0)===a||(this.logger_("seekable updated ["+lo(this.seekable_)+"]"),this.tech_.trigger("seekablechanged"))}}}}},n.updateDuration=function(e){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),"open"!==this.mediaSource.readyState)return this.updateDuration_=this.updateDuration.bind(this,e),void this.mediaSource.addEventListener("sourceopen",this.updateDuration_);if(e){var t=this.seekable();if(!t.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<t.end(t.length-1))&&this.sourceUpdater_.setDuration(t.end(t.length-1))}else{var n=this.tech_.buffered(),i=ps.Playlist.duration(this.masterPlaylistLoader_.media());n.length>0&&(i=Math.max(i,n.end(n.length-1))),this.mediaSource.duration!==i&&this.sourceUpdater_.setDuration(i)}},n.dispose=function(){var e=this;this.trigger("dispose"),this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach((function(t){var n=e.mediaTypes_[t].groups;for(var i in n)n[i].forEach((function(e){e.playlistLoader&&e.playlistLoader.dispose()}))})),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()},n.master=function(){return this.masterPlaylistLoader_.master},n.media=function(){return this.masterPlaylistLoader_.media()||this.initialMedia_},n.areMediaTypesKnown_=function(){var e=!!this.mediaTypes_.AUDIO.activePlaylistLoader,t=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),n=!e||!!this.audioSegmentLoader_.getCurrentMediaInfo_();return!(!t||!n)},n.getCodecsOrExclude_=function(){var e=this,t={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}};t.video=t.main;var n=Wa(this.master(),this.media()),i={},r=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(t.main.hasVideo&&(i.video=n.video||t.main.videoCodec||g.DEFAULT_VIDEO_CODEC),t.main.isMuxed&&(i.video+=","+(n.audio||t.main.audioCodec||g.DEFAULT_AUDIO_CODEC)),(t.main.hasAudio&&!t.main.isMuxed||t.audio.hasAudio||r)&&(i.audio=n.audio||t.main.audioCodec||t.audio.audioCodec||g.DEFAULT_AUDIO_CODEC,t.audio.isFmp4=t.main.hasAudio&&!t.main.isMuxed?t.main.isFmp4:t.audio.isFmp4),i.audio||i.video){var o,a={};if(["video","audio"].forEach((function(e){if(i.hasOwnProperty(e)&&(r=t[e].isFmp4,s=i[e],!(r?g.browserSupportsCodec(s):g.muxerSupportsCodec(s)))){var n=t[e].isFmp4?"browser":"muxer";a[n]=a[n]||[],a[n].push(i[e]),"audio"===e&&(o=n)}var r,s})),r&&o&&this.media().attributes.AUDIO){var s=this.media().attributes.AUDIO;this.master().playlists.forEach((function(t){(t.attributes&&t.attributes.AUDIO)===s&&t!==e.media()&&(t.excludeUntil=1/0)})),this.logger_("excluding audio group "+s+" as "+o+' does not support codec(s): "'+i.audio+'"')}if(!Object.keys(a).length){if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){var u=[];if(["video","audio"].forEach((function(t){var n=(g.parseCodecs(e.sourceUpdater_.codecs[t]||"")[0]||{}).type,r=(g.parseCodecs(i[t]||"")[0]||{}).type;n&&r&&n.toLowerCase()!==r.toLowerCase()&&u.push('"'+e.sourceUpdater_.codecs[t]+'" -> "'+i[t]+'"')})),u.length)return void this.blacklistCurrentPlaylist({playlist:this.media(),message:"Codec switching not supported: "+u.join(", ")+".",blacklistDuration:1/0,internal:!0})}return i}var l=Object.keys(a).reduce((function(e,t){return e&&(e+=", "),e+=t+' does not support codec(s): "'+a[t].join(",")+'"'}),"")+".";this.blacklistCurrentPlaylist({playlist:this.media(),internal:!0,message:l,blacklistDuration:1/0})}else this.blacklistCurrentPlaylist({playlist:this.media(),message:"Could not determine codecs for playlist.",blacklistDuration:1/0})},n.tryToCreateSourceBuffers_=function(){if("open"===this.mediaSource.readyState&&!this.sourceUpdater_.hasCreatedSourceBuffers()&&this.areMediaTypesKnown_()){var e=this.getCodecsOrExclude_();if(e){this.sourceUpdater_.createSourceBuffers(e);var t=[e.video,e.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(t)}}},n.excludeUnsupportedVariants_=function(){var e=this,t=this.master().playlists,n=[];Object.keys(t).forEach((function(i){var r=t[i];if(-1===n.indexOf(r.id)){n.push(r.id);var o=Wa(e.master,r),a=[];!o.audio||g.muxerSupportsCodec(o.audio)||g.browserSupportsCodec(o.audio)||a.push("audio codec "+o.audio),!o.video||g.muxerSupportsCodec(o.video)||g.browserSupportsCodec(o.video)||a.push("video codec "+o.video),o.text&&"stpp.ttml.im1t"===o.text&&a.push("text codec "+o.text),a.length&&(r.excludeUntil=1/0,e.logger_("excluding "+r.id+" for unsupported: "+a.join(", ")))}}))},n.excludeIncompatibleVariants_=function(e){var t=this,n=[],i=this.master().playlists,r=Va(g.parseCodecs(e)),o=za(r),a=r.video&&g.parseCodecs(r.video)[0]||null,s=r.audio&&g.parseCodecs(r.audio)[0]||null;Object.keys(i).forEach((function(e){var r=i[e];if(-1===n.indexOf(r.id)&&r.excludeUntil!==1/0){n.push(r.id);var u=[],l=Wa(t.masterPlaylistLoader_.master,r),c=za(l);if(l.audio||l.video){if(c!==o&&u.push('codec count "'+c+'" !== "'+o+'"'),!t.sourceUpdater_.canChangeType()){var d=l.video&&g.parseCodecs(l.video)[0]||null,p=l.audio&&g.parseCodecs(l.audio)[0]||null;d&&a&&d.type.toLowerCase()!==a.type.toLowerCase()&&u.push('video codec "'+d.type+'" !== "'+a.type+'"'),p&&s&&p.type.toLowerCase()!==s.type.toLowerCase()&&u.push('audio codec "'+p.type+'" !== "'+s.type+'"')}u.length&&(r.excludeUntil=1/0,t.logger_("blacklisting "+r.id+": "+u.join(" && ")))}}}))},n.updateAdCues_=function(e){var t=0,n=this.seekable();n.length&&(t=n.start(0)),function(e,t,n){if(void 0===n&&(n=0),e.segments)for(var i,r=n,o=0;o<e.segments.length;o++){var a=e.segments[o];if(i||(i=Ls(t,r+a.duration/2)),i){if("cueIn"in a){i.endTime=r,i.adEndTime=r,r+=a.duration,i=null;continue}if(r<i.endTime){r+=a.duration;continue}i.endTime+=a.duration}else if("cueOut"in a&&((i=new x.default.VTTCue(r,r+a.duration,a.cueOut)).adStartTime=r,i.adEndTime=r+parseFloat(a.cueOut),t.addCue(i)),"cueOutCont"in a){var s=a.cueOutCont.split("/").map(parseFloat),u=s[0],l=s[1];(i=new x.default.VTTCue(r,r+a.duration,"")).adStartTime=r-u,i.adEndTime=i.adStartTime+l,t.addCue(i)}r+=a.duration}}(e,this.cueTagsTrack_,t)},n.goalBufferLength=function(){var e=this.tech_.currentTime(),t=fa.GOAL_BUFFER_LENGTH,n=fa.GOAL_BUFFER_LENGTH_RATE,i=Math.max(t,fa.MAX_GOAL_BUFFER_LENGTH);return Math.min(t+e*n,i)},n.bufferLowWaterLine=function(){var e=this.tech_.currentTime(),t=fa.BUFFER_LOW_WATER_LINE,n=fa.BUFFER_LOW_WATER_LINE_RATE,i=Math.max(t,fa.MAX_BUFFER_LOW_WATER_LINE),r=Math.max(t,fa.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(t+e*n,this.experimentalBufferBasedABR?r:i)},n.bufferHighWaterLine=function(){return fa.BUFFER_HIGH_WATER_LINE},t}(Qr.EventTarget),Zs=function(e,t,n){var i,r,o,a=e.masterPlaylistController_,s=a[(e.options_.smoothQualityChange?"smooth":"fast")+"QualityChange_"].bind(a);if(t.attributes){var u=t.attributes.RESOLUTION;this.width=u&&u.width,this.height=u&&u.height,this.bandwidth=t.attributes.BANDWIDTH}this.codecs=Wa(a.master(),t),this.playlist=t,this.id=n,this.enabled=(i=e.playlists,r=t.id,o=s,function(e){var t=i.master.playlists[r],n=Co(t),a=xo(t);return void 0===e?a:(e?delete t.disabled:t.disabled=!0,e===a||n||(o(),e?i.trigger("renditionenabled"):i.trigger("renditiondisabled")),e)})},eu=["seeking","seeked","pause","playing","error"],tu=function(){function e(e){var t=this;this.masterPlaylistController_=e.masterPlaylistController,this.tech_=e.tech,this.seekable=e.seekable,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=e.liveRangeSafeTimeDelta,this.media=e.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=io("PlaybackWatcher"),this.logger_("initialize");var n=function(){return t.monitorCurrentTime_()},i=function(){return t.monitorCurrentTime_()},r=function(){return t.techWaiting_()},o=function(){return t.cancelTimer_()},a=this.masterPlaylistController_,s=["main","subtitle","audio"],u={};s.forEach((function(e){u[e]={reset:function(){return t.resetSegmentDownloads_(e)},updateend:function(){return t.checkSegmentDownloads_(e)}},a[e+"SegmentLoader_"].on("appendsdone",u[e].updateend),a[e+"SegmentLoader_"].on("playlistupdate",u[e].reset),t.tech_.on(["seeked","seeking"],u[e].reset)}));var l=function(e){["main","audio"].forEach((function(n){a[n+"SegmentLoader_"][e]("appended",t.seekingAppendCheck_)}))};this.seekingAppendCheck_=function(){t.fixesBadSeeks_()&&(t.consecutiveUpdates=0,t.lastRecordedTime=t.tech_.currentTime(),l("off"))},this.clearSeekingAppendCheck_=function(){return l("off")},this.watchForBadSeeking_=function(){t.clearSeekingAppendCheck_(),l("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",r),this.tech_.on(eu,o),this.tech_.on("canplay",i),this.tech_.one("play",n),this.dispose=function(){t.clearSeekingAppendCheck_(),t.logger_("dispose"),t.tech_.off("waiting",r),t.tech_.off(eu,o),t.tech_.off("canplay",i),t.tech_.off("play",n),t.tech_.off("seeking",t.watchForBadSeeking_),t.tech_.off("seeked",t.clearSeekingAppendCheck_),s.forEach((function(e){a[e+"SegmentLoader_"].off("appendsdone",u[e].updateend),a[e+"SegmentLoader_"].off("playlistupdate",u[e].reset),t.tech_.off(["seeked","seeking"],u[e].reset)})),t.checkCurrentTimeTimeout_&&x.default.clearTimeout(t.checkCurrentTimeTimeout_),t.cancelTimer_()}}var t=e.prototype;return t.monitorCurrentTime_=function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&x.default.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=x.default.setTimeout(this.monitorCurrentTime_.bind(this),250)},t.resetSegmentDownloads_=function(e){var t=this.masterPlaylistController_[e+"SegmentLoader_"];this[e+"StalledDownloads_"]>0&&this.logger_("resetting possible stalled download count for "+e+" loader"),this[e+"StalledDownloads_"]=0,this[e+"Buffered_"]=t.buffered_()},t.checkSegmentDownloads_=function(e){var t=this.masterPlaylistController_,n=t[e+"SegmentLoader_"],i=n.buffered_(),r=function(e,t){if(e===t)return!1;if(!e&&t||!t&&e)return!0;if(e.length!==t.length)return!0;for(var n=0;n<e.length;n++)if(e.start(n)!==t.start(n)||e.end(n)!==t.end(n))return!0;return!1}(this[e+"Buffered_"],i);this[e+"Buffered_"]=i,r?this.resetSegmentDownloads_(e):(this[e+"StalledDownloads_"]++,this.logger_("found #"+this[e+"StalledDownloads_"]+" "+e+" appends that did not increase buffer (possible stalled download)",{playlistId:n.playlist_&&n.playlist_.id,buffered:co(i)}),this[e+"StalledDownloads_"]<10||(this.logger_(e+" loader stalled download exclusion"),this.resetSegmentDownloads_(e),this.tech_.trigger({type:"usage",name:"vhs-"+e+"-download-exclusion"}),"subtitle"!==e&&t.blacklistCurrentPlaylist({message:"Excessive "+e+" segment downloading detected."},1/0)))},t.checkCurrentTime_=function(){if(!this.tech_.paused()&&!this.tech_.seeking()){var e=this.tech_.currentTime(),t=this.tech_.buffered();if(this.lastRecordedTime===e&&(!t.length||e+oo>=t.end(t.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&e===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):e===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=e)}},t.cancelTimer_=function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null},t.fixesBadSeeks_=function(){if(!this.tech_.seeking())return!1;var e,t=this.seekable(),n=this.tech_.currentTime();this.afterSeekableWindow_(t,n,this.media(),this.allowSeeksWithinUnsafeLiveWindow)&&(e=t.end(t.length-1));if(this.beforeSeekableWindow_(t,n)){var i=t.start(0);e=i+(i===t.end(0)?0:oo)}if(void 0!==e)return this.logger_("Trying to seek outside of seekable at time "+n+" with seekable range "+lo(t)+". Seeking to "+e+"."),this.tech_.setCurrentTime(e),!0;for(var r=this.masterPlaylistController_.sourceUpdater_,o=this.tech_.buffered(),a=r.audioBuffer?r.audioBuffered():null,s=r.videoBuffer?r.videoBuffered():null,u=this.media(),l=u.partTargetDuration?u.partTargetDuration:2*(u.targetDuration-ro),c=[a,s],d=0;d<c.length;d++){if(c[d])if(ho(c[d],n)<l)return!1}var p=uo(o,n);return 0!==p.length&&(e=p.start(0)+oo,this.logger_("Buffered region starts ("+p.start(0)+")  just beyond seek point ("+n+"). Seeking to "+e+"."),this.tech_.setCurrentTime(e),!0)},t.waiting_=function(){if(!this.techWaiting_()){var e=this.tech_.currentTime(),t=this.tech_.buffered(),n=so(t,e);return n.length&&e+3<=n.end(0)?(this.cancelTimer_(),this.tech_.setCurrentTime(e),this.logger_("Stopped at "+e+" while inside a buffered region ["+n.start(0)+" -> "+n.end(0)+"]. Attempting to resume playback by seeking to the current time."),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"}),void this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})):void 0}},t.techWaiting_=function(){var e=this.seekable(),t=this.tech_.currentTime();if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(e,t)){var n=e.end(e.length-1);return this.logger_("Fell out of live window at time "+t+". Seeking to live point (seekable end) "+n),this.cancelTimer_(),this.tech_.setCurrentTime(n),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var i=this.tech_.vhs.masterPlaylistController_.sourceUpdater_,r=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:i.audioBuffered(),videoBuffered:i.videoBuffered(),currentTime:t}))return this.cancelTimer_(),this.tech_.setCurrentTime(t),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;var o=uo(r,t);if(o.length>0){var a=o.start(0)-t;return this.logger_("Stopped at "+t+", setting timer for "+a+", seeking to "+o.start(0)),this.cancelTimer_(),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*a,t),!0}return!1},t.afterSeekableWindow_=function(e,t,n,i){if(void 0===i&&(i=!1),!e.length)return!1;var r=e.end(e.length-1)+oo;return!n.endList&&i&&(r=e.end(e.length-1)+3*n.targetDuration),t>r},t.beforeSeekableWindow_=function(e,t){return!!(e.length&&e.start(0)>0&&t<e.start(0)-this.liveRangeSafeTimeDelta)},t.videoUnderflow_=function(e){var t=e.videoBuffered,n=e.audioBuffered,i=e.currentTime;if(t){var r;if(t.length&&n.length){var o=so(t,i-3),a=so(t,i),s=so(n,i);s.length&&!a.length&&o.length&&(r={start:o.end(0),end:s.end(0)})}else{uo(t,i).length||(r=this.gapFromVideoUnderflow_(t,i))}return!!r&&(this.logger_("Encountered a gap in video from "+r.start+" to "+r.end+". Seeking to current time "+i),!0)}},t.skipTheGap_=function(e){var t=this.tech_.buffered(),n=this.tech_.currentTime(),i=uo(t,n);this.cancelTimer_(),0!==i.length&&n===e&&(this.logger_("skipTheGap_:","currentTime:",n,"scheduled currentTime:",e,"nextRange start:",i.start(0)),this.tech_.setCurrentTime(i.start(0)+ro),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))},t.gapFromVideoUnderflow_=function(e,t){for(var n=function(e){if(e.length<2)return Qr.createTimeRanges();for(var t=[],n=1;n<e.length;n++){var i=e.end(n-1),r=e.start(n);t.push([i,r])}return Qr.createTimeRanges(t)}(e),i=0;i<n.length;i++){var r=n.start(i),o=n.end(i);if(t-r<4&&t-r>2)return{start:r,end:o}}return null},e}(),nu={errorInterval:30,getSource:function(e){return e(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource())}},iu=function e(t,n){var i=0,r=0,o=Qr.mergeOptions(nu,n);t.ready((function(){t.trigger({type:"usage",name:"vhs-error-reload-initialized"}),t.trigger({type:"usage",name:"hls-error-reload-initialized"})}));var a=function(){r&&t.currentTime(r)},s=function(e){null!=e&&(r=t.duration()!==1/0&&t.currentTime()||0,t.one("loadedmetadata",a),t.src(e),t.trigger({type:"usage",name:"vhs-error-reload"}),t.trigger({type:"usage",name:"hls-error-reload"}),t.play())},u=function(){return Date.now()-i<1e3*o.errorInterval?(t.trigger({type:"usage",name:"vhs-error-reload-canceled"}),void t.trigger({type:"usage",name:"hls-error-reload-canceled"})):o.getSource&&"function"==typeof o.getSource?(i=Date.now(),o.getSource.call(t,s)):void Qr.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")},l=function e(){t.off("loadedmetadata",a),t.off("error",u),t.off("dispose",e)};t.on("error",u),t.on("dispose",l),t.reloadSourceOnError=function(n){l(),e(t,n)}},ru="2.14.2",ou={PlaylistLoader:zo,Playlist:Po,utils:oa,STANDARD_PLAYLIST_SELECTOR:es,INITIAL_PLAYLIST_SELECTOR:function(){var e=this,t=this.playlists.master.playlists.filter(Po.isEnabled);return Xa(t,(function(e,t){return Qa(e,t)})),t.filter((function(t){return!!Wa(e.playlists.master,t).video}))[0]||null},lastBandwidthSelector:es,movingAverageBandwidthSelector:function(e){var t=-1,n=-1;if(e<0||e>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){var i=this.useDevicePixelRatio&&x.default.devicePixelRatio||1;return t<0&&(t=this.systemBandwidth,n=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==n&&(t=e*this.systemBandwidth+(1-e)*t,n=this.systemBandwidth),Za(this.playlists.master,t,parseInt(Ja(this.tech_.el(),"width"),10)*i,parseInt(Ja(this.tech_.el(),"height"),10)*i,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)}},comparePlaylistBandwidth:Qa,comparePlaylistResolution:function(e,t){var n,i;return e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(n=e.attributes.RESOLUTION.width),n=n||x.default.Number.MAX_VALUE,t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(i=t.attributes.RESOLUTION.width),n===(i=i||x.default.Number.MAX_VALUE)&&e.attributes.BANDWIDTH&&t.attributes.BANDWIDTH?e.attributes.BANDWIDTH-t.attributes.BANDWIDTH:n-i},xhr:Jo()};Object.keys(fa).forEach((function(e){Object.defineProperty(ou,e,{get:function(){return Qr.log.warn("using Vhs."+e+" is UNSAFE be sure you know what you are doing"),fa[e]},set:function(t){Qr.log.warn("using Vhs."+e+" is UNSAFE be sure you know what you are doing"),"number"!=typeof t||t<0?Qr.log.warn("value of Vhs."+e+" must be greater than or equal to 0"):fa[e]=t}})}));var au="videojs-vhs",su=function(e,t){for(var n=t.media(),i=-1,r=0;r<e.length;r++)if(e[r].id===n.id){i=r;break}e.selectedIndex_=i,e.trigger({selectedIndex:i,type:"change"})};ou.canPlaySource=function(){return Qr.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var uu=function(e){var t=e.player,n=e.sourceKeySystems,i=e.audioMedia,r=e.mainPlaylists;if(!t.eme.initializeMediaKeys)return Promise.resolve();var o=function(e,t){return e.reduce((function(e,n){if(!n.contentProtection)return e;var i=t.reduce((function(e,t){var i=n.contentProtection[t];return i&&i.pssh&&(e[t]={pssh:i.pssh}),e}),{});return Object.keys(i).length&&e.push(i),e}),[])}(i?r.concat([i]):r,Object.keys(n)),a=[],s=[];return o.forEach((function(e){s.push(new Promise((function(e,n){t.tech_.one("keysessioncreated",e)}))),a.push(new Promise((function(n,i){t.eme.initializeMediaKeys({keySystems:e},(function(e){e?i(e):n()}))})))})),Promise.race([Promise.all(a),Promise.race(s)])},lu=function(e){var t=e.player,n=function(e,t,n){if(!e)return e;var i={};t&&t.attributes&&t.attributes.CODECS&&(i=Va(g.parseCodecs(t.attributes.CODECS))),n&&n.attributes&&n.attributes.CODECS&&(i.audio=n.attributes.CODECS);var r=g.getMimeForCodec(i.video),o=g.getMimeForCodec(i.audio),a={};for(var s in e)a[s]={},o&&(a[s].audioContentType=o),r&&(a[s].videoContentType=r),t.contentProtection&&t.contentProtection[s]&&t.contentProtection[s].pssh&&(a[s].pssh=t.contentProtection[s].pssh),"string"==typeof e[s]&&(a[s].url=e[s]);return Qr.mergeOptions(e,a)}(e.sourceKeySystems,e.media,e.audioMedia);return!!n&&(t.currentSource().keySystems=n,!(n&&!t.eme)||(Qr.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1))},cu=function(){if(!x.default.localStorage)return null;var e=x.default.localStorage.getItem(au);if(!e)return null;try{return JSON.parse(e)}catch(e){return null}};ou.supportsNativeHls=function(){if(!A.default||!A.default.createElement)return!1;var e=A.default.createElement("video");if(!Qr.getTech("Html5").isSupported())return!1;return["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some((function(t){return/maybe|probably/i.test(e.canPlayType(t))}))}(),ou.supportsNativeDash=!!(A.default&&A.default.createElement&&Qr.getTech("Html5").isSupported())&&/maybe|probably/i.test(A.default.createElement("video").canPlayType("application/dash+xml")),ou.supportsTypeNatively=function(e){return"hls"===e?ou.supportsNativeHls:"dash"===e&&ou.supportsNativeDash},ou.isSupported=function(){return Qr.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var du=function(e){function t(t,n,i){var r;if(r=e.call(this,n,Qr.mergeOptions(i.hls,i.vhs))||this,i.hls&&Object.keys(i.hls).length&&Qr.log.warn("Using hls options is deprecated. Please rename `hls` to `vhs` in your options object."),"number"==typeof i.initialBandwidth&&(r.options_.bandwidth=i.initialBandwidth),r.logger_=io("VhsHandler"),n.options_&&n.options_.playerId){var o=Qr(n.options_.playerId);o.hasOwnProperty("hls")||Object.defineProperty(o,"hls",{get:function(){return Qr.log.warn("player.hls is deprecated. Use player.tech().vhs instead."),n.trigger({type:"usage",name:"hls-player-access"}),D.default(r)},configurable:!0}),o.hasOwnProperty("vhs")||Object.defineProperty(o,"vhs",{get:function(){return Qr.log.warn("player.vhs is deprecated. Use player.tech().vhs instead."),n.trigger({type:"usage",name:"vhs-player-access"}),D.default(r)},configurable:!0}),o.hasOwnProperty("dash")||Object.defineProperty(o,"dash",{get:function(){return Qr.log.warn("player.dash is deprecated. Use player.tech().vhs instead."),D.default(r)},configurable:!0}),r.player_=o}if(r.tech_=n,r.source_=t,r.stats={},r.ignoreNextSeekingEvent_=!1,r.setOptions_(),r.options_.overrideNative&&n.overrideNativeAudioTracks&&n.overrideNativeVideoTracks)n.overrideNativeAudioTracks(!0),n.overrideNativeVideoTracks(!0);else if(r.options_.overrideNative&&(n.featuresNativeVideoTracks||n.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return r.on(A.default,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],(function(e){var t=A.default.fullscreenElement||A.default.webkitFullscreenElement||A.default.mozFullScreenElement||A.default.msFullscreenElement;t&&t.contains(r.tech_.el())?r.masterPlaylistController_.fastQualityChange_():r.masterPlaylistController_.checkABR_()})),r.on(r.tech_,"seeking",(function(){this.ignoreNextSeekingEvent_?this.ignoreNextSeekingEvent_=!1:this.setCurrentTime(this.tech_.currentTime())})),r.on(r.tech_,"error",(function(){this.tech_.error()&&this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()})),r.on(r.tech_,"play",r.play),r}O.default(t,e);var n=t.prototype;return n.setOptions_=function(){var e=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=!1!==this.options_.handleManifestRedirects,this.options_.limitRenditionByPlayerDimensions=!1!==this.options_.limitRenditionByPlayerDimensions,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage=void 0!==this.source_.useBandwidthFromLocalStorage?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,"number"!=typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!=typeof this.options_.bandwidth&&this.options_.useBandwidthFromLocalStorage){var t=cu();t&&t.bandwidth&&(this.options_.bandwidth=t.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),t&&t.throughput&&(this.options_.throughput=t.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=fa.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===fa.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","experimentalBufferBasedABR","liveRangeSafeTimeDelta","experimentalLLHLS","useNetworkInformationApi","useDtsForTimestampOffset","experimentalExactManifestTimings","experimentalLeastPixelDiffSelector"].forEach((function(t){void 0!==e.source_[t]&&(e.options_[t]=e.source_[t])})),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio},n.src=function(e,t){var n=this;if(e){var i;this.setOptions_(),this.options_.src=0===(i=this.source_.src).toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")?JSON.parse(i.substring(i.indexOf(",")+1)):i,this.options_.tech=this.tech_,this.options_.externVhs=ou,this.options_.sourceType=y.simpleTypeFromSourceType(t),this.options_.seekTo=function(e){n.tech_.setCurrentTime(e)},this.options_.smoothQualityChange&&Qr.log.warn("smoothQualityChange is deprecated and will be removed in the next major version"),this.masterPlaylistController_=new Qs(this.options_);var r=Qr.mergeOptions({liveRangeSafeTimeDelta:oo},this.options_,{seekable:function(){return n.seekable()},media:function(){return n.masterPlaylistController_.media()},masterPlaylistController:this.masterPlaylistController_});this.playbackWatcher_=new tu(r),this.masterPlaylistController_.on("error",(function(){var e=Qr.players[n.tech_.options_.playerId],t=n.masterPlaylistController_.error;"object"!=typeof t||t.code?"string"==typeof t&&(t={message:t,code:3}):t.code=3,e.error(t)}));var o=this.options_.experimentalBufferBasedABR?ou.movingAverageBandwidthSelector(.55):ou.STANDARD_PLAYLIST_SELECTOR;this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):o.bind(this),this.masterPlaylistController_.selectInitialPlaylist=ou.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(e){this.masterPlaylistController_.selectPlaylist=e.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=e,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){var e=this.masterPlaylistController_.mainSegmentLoader_.bandwidth,t=x.default.navigator.connection||x.default.navigator.mozConnection||x.default.navigator.webkitConnection,n=1e7;if(this.options_.useNetworkInformationApi&&t){var i=1e3*t.downlink*1e3;e=i>=n&&e>=n?Math.max(e,i):i}return e},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=e,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var e,t=1/(this.bandwidth||1);return e=this.throughput>0?1/this.throughput:0,Math.floor(1/(t+e))},set:function(){Qr.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return n.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return n.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return n.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return n.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return n.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return n.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return n.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return n.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},mediaAppends:{get:function(){return n.masterPlaylistController_.mediaAppends_()||0},enumerable:!0},mainAppendsToLoadedData:{get:function(){return n.masterPlaylistController_.mainAppendsToLoadedData_()||0},enumerable:!0},audioAppendsToLoadedData:{get:function(){return n.masterPlaylistController_.audioAppendsToLoadedData_()||0},enumerable:!0},appendsToLoadedData:{get:function(){return n.masterPlaylistController_.appendsToLoadedData_()||0},enumerable:!0},timeToLoadedData:{get:function(){return n.masterPlaylistController_.timeToLoadedData_()||0},enumerable:!0},buffered:{get:function(){return co(n.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return n.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return n.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return n.tech_.name_},enumerable:!0},duration:{get:function(){return n.tech_.duration()},enumerable:!0},master:{get:function(){return n.playlists.master},enumerable:!0},playerDimensions:{get:function(){return n.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return co(n.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return n.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",(function(){n.options_.useBandwidthFromLocalStorage&&function(e){if(!x.default.localStorage)return!1;var t=cu();t=t?Qr.mergeOptions(t,e):e;try{x.default.localStorage.setItem(au,JSON.stringify(t))}catch(e){return!1}}({bandwidth:n.bandwidth,throughput:Math.round(n.throughput)})})),this.masterPlaylistController_.on("selectedinitialmedia",(function(){var e;(e=n).representations=function(){var t=e.masterPlaylistController_.master(),n=Oo(t)?e.masterPlaylistController_.getAudioTrackPlaylists_():t.playlists;return n?n.filter((function(e){return!Co(e)})).map((function(t,n){return new Zs(e,t,t.id)})):[]}})),this.masterPlaylistController_.sourceUpdater_.on("createdsourcebuffers",(function(){n.setupEme_()})),this.on(this.masterPlaylistController_,"progress",(function(){this.tech_.trigger("progress")})),this.on(this.masterPlaylistController_,"firstplay",(function(){this.ignoreNextSeekingEvent_=!0})),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=x.default.URL.createObjectURL(this.masterPlaylistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}},n.createKeySessions_=function(){var e=this,t=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),uu({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:t&&t.media(),mainPlaylists:this.playlists.master.playlists}).then((function(){e.logger_("created EME key session"),e.masterPlaylistController_.sourceUpdater_.initializedEme()})).catch((function(t){e.logger_("error while creating EME key session",t),e.player_.error({message:"Failed to initialize media keys for EME",code:3})}))},n.handleWaitingForKey_=function(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()},n.setupEme_=function(){var e=this,t=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader,n=lu({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:t&&t.media()});this.player_.tech_.on("keystatuschange",(function(t){"output-restricted"===t.status&&e.masterPlaylistController_.blacklistCurrentPlaylist({playlist:e.masterPlaylistController_.media(),message:"DRM keystatus changed to "+t.status+". Playlist will fail to play. Check for HDCP content.",blacklistDuration:1/0})})),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),11!==Qr.browser.IE_VERSION&&n?this.createKeySessions_():this.masterPlaylistController_.sourceUpdater_.initializedEme()},n.setupQualityLevels_=function(){var e=this,t=Qr.players[this.tech_.options_.playerId];t&&t.qualityLevels&&!this.qualityLevels_&&(this.qualityLevels_=t.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",(function(){var t,n;t=e.qualityLevels_,(n=e).representations().forEach((function(e){t.addQualityLevel(e)})),su(t,n.playlists)})),this.playlists.on("mediachange",(function(){su(e.qualityLevels_,e.playlists)})))},t.version=function(){return{"@videojs/http-streaming":ru,"mux.js":"6.0.1","mpd-parser":"0.21.1","m3u8-parser":"4.7.1","aes-decrypter":"3.1.3"}},n.version=function(){return this.constructor.version()},n.canChangeType=function(){return Os.canChangeType()},n.play=function(){this.masterPlaylistController_.play()},n.setCurrentTime=function(e){this.masterPlaylistController_.setCurrentTime(e)},n.duration=function(){return this.masterPlaylistController_.duration()},n.seekable=function(){return this.masterPlaylistController_.seekable()},n.dispose=function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.tech_&&delete this.tech_.hls,this.mediaSourceUrl_&&x.default.URL.revokeObjectURL&&(x.default.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),e.prototype.dispose.call(this)},n.convertToProgramTime=function(e,t){return aa({playlist:this.masterPlaylistController_.media(),time:e,callback:t})},n.seekToProgramTime=function(e,t,n,i){return void 0===n&&(n=!0),void 0===i&&(i=2),sa({programTime:e,playlist:this.masterPlaylistController_.media(),retryCount:i,pauseAfterSeek:n,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:t})},t}(Qr.getComponent("Component")),pu={name:"videojs-http-streaming",VERSION:ru,canHandleSource:function(e,t){void 0===t&&(t={});var n=Qr.mergeOptions(Qr.options,t);return pu.canPlayType(e.type,n)},handleSource:function(e,t,n){void 0===n&&(n={});var i=Qr.mergeOptions(Qr.options,n);return t.vhs=new du(e,t,i),Qr.hasOwnProperty("hls")||Object.defineProperty(t,"hls",{get:function(){return Qr.log.warn("player.tech().hls is deprecated. Use player.tech().vhs instead."),t.vhs},configurable:!0}),t.vhs.xhr=Jo(),t.vhs.src(e.src,e.type),t.vhs},canPlayType:function(e,t){void 0===t&&(t={});var n=Qr.mergeOptions(Qr.options,t),i=n.vhs,r=(i=void 0===i?{}:i).overrideNative,o=void 0===r?!Qr.browser.IS_ANY_SAFARI:r,a=n.hls,s=(a=void 0===a?{}:a).overrideNative,u=void 0!==s&&s,l=y.simpleTypeFromSourceType(e);return l&&(!ou.supportsTypeNatively(l)||u||o)?"maybe":""}};(g.browserSupportsCodec("avc1.4d400d,mp4a.40.2")&&Qr.getTech("Html5").registerSourceHandler(pu,0),Qr.VhsHandler=du,Object.defineProperty(Qr,"HlsHandler",{get:function(){return Qr.log.warn("videojs.HlsHandler is deprecated. Use videojs.VhsHandler instead."),du},configurable:!0}),Qr.VhsSourceHandler=pu,Object.defineProperty(Qr,"HlsSourceHandler",{get:function(){return Qr.log.warn("videojs.HlsSourceHandler is deprecated. Use videojs.VhsSourceHandler instead."),pu},configurable:!0}),Qr.Vhs=ou,Object.defineProperty(Qr,"Hls",{get:function(){return Qr.log.warn("videojs.Hls is deprecated. Use videojs.Vhs instead."),ou},configurable:!0}),Qr.use||(Qr.registerComponent("Hls",ou),Qr.registerComponent("Vhs",ou)),Qr.options.vhs=Qr.options.vhs||{},Qr.options.hls=Qr.options.hls||{},Qr.getPlugin&&Qr.getPlugin("reloadSourceOnError"))||(Qr.registerPlugin||Qr.plugin)("reloadSourceOnError",(function(e){iu(this,e)}));t.exports=Qr}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"@babel/runtime/helpers/assertThisInitialized":238,"@babel/runtime/helpers/construct":239,"@babel/runtime/helpers/extends":240,"@babel/runtime/helpers/inherits":241,"@babel/runtime/helpers/inheritsLoose":242,"@videojs/vhs-utils/cjs/byte-helpers":247,"@videojs/vhs-utils/cjs/codecs.js":249,"@videojs/vhs-utils/cjs/containers":250,"@videojs/vhs-utils/cjs/id3-helpers":253,"@videojs/vhs-utils/cjs/media-types.js":255,"@videojs/vhs-utils/cjs/resolve-url.js":259,"@videojs/xhr":262,"global/document":429,"global/window":430,keycode:503,"m3u8-parser":505,"mpd-parser":507,"mux.js/lib/tools/parse-sidx":508,"mux.js/lib/utils/clock":509,"safe-json-parse/tuple":554,"videojs-vtt.js":870}],870:[function(e,t,n){var i=e("global/window"),r=t.exports={WebVTT:e("./vtt.js"),VTTCue:e("./vttcue.js"),VTTRegion:e("./vttregion.js")};i.vttjs=r,i.WebVTT=r.WebVTT;var o=r.VTTCue,a=r.VTTRegion,s=i.VTTCue,u=i.VTTRegion;r.shim=function(){i.VTTCue=o,i.VTTRegion=a},r.restore=function(){i.VTTCue=s,i.VTTRegion=u},i.VTTCue||r.shim()},{"./vtt.js":871,"./vttcue.js":872,"./vttregion.js":873,"global/window":430}],871:[function(e,t,n){var i=e("global/document"),r=Object.create||function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return e.prototype=t,new e}}();function o(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function a(e){function t(e,t,n,i){return 3600*(0|e)+60*(0|t)+(0|n)+(0|i)/1e3}var n=e.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return n?n[3]?t(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?t(n[1],n[2],0,n[4]):t(0,n[1],n[2],n[4]):null}function s(){this.values=r(null)}function u(e,t,n,i){var r=i?e.split(i):[e];for(var o in r)if("string"==typeof r[o]){var a=r[o].split(n);if(2===a.length)t(a[0],a[1])}}function l(e,t,n){var i=e;function r(){var t=a(e);if(null===t)throw new o(o.Errors.BadTimeStamp,"Malformed timestamp: "+i);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function l(){e=e.replace(/^\s+/,"")}if(l(),t.startTime=r(),l(),"--\x3e"!==e.substr(0,3))throw new o(o.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+i);e=e.substr(3),l(),t.endTime=r(),l(),function(e,t){var i=new s;u(e,(function(e,t){switch(e){case"region":for(var r=n.length-1;r>=0;r--)if(n[r].id===t){i.set(e,n[r].region);break}break;case"vertical":i.alt(e,t,["rl","lr"]);break;case"line":var o=t.split(","),a=o[0];i.integer(e,a),i.percent(e,a)&&i.set("snapToLines",!1),i.alt(e,a,["auto"]),2===o.length&&i.alt("lineAlign",o[1],["start","center","end"]);break;case"position":o=t.split(","),i.percent(e,o[0]),2===o.length&&i.alt("positionAlign",o[1],["start","center","end"]);break;case"size":i.percent(e,t);break;case"align":i.alt(e,t,["start","center","end","left","right"])}}),/:/,/\s/),t.region=i.get("region",null),t.vertical=i.get("vertical","");try{t.line=i.get("line","auto")}catch(e){}t.lineAlign=i.get("lineAlign","start"),t.snapToLines=i.get("snapToLines",!0),t.size=i.get("size",100);try{t.align=i.get("align","center")}catch(e){t.align=i.get("align","middle")}try{t.position=i.get("position","auto")}catch(e){t.position=i.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},t.align)}t.positionAlign=i.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},t.align)}(e,t)}o.prototype=r(Error.prototype),o.prototype.constructor=o,o.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},s.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,n){for(var i=0;i<n.length;++i)if(t===n[i]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t))>=0&&t<=100)&&(this.set(e,t),!0)}};var c=i.createElement&&i.createElement("textarea"),d={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},p={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},h={v:"title",lang:"lang"},f={rt:"ruby"};function m(e,t){function n(){if(!t)return null;var e,n=t.match(/^([^<]*)(<[^>]*>?)?/);return e=n[1]?n[1]:n[2],t=t.substr(e.length),e}function i(e,t){return!f[t.localName]||f[t.localName]===e.localName}function r(t,n){var i=d[t];if(!i)return null;var r=e.document.createElement(i),o=h[t];return o&&n&&(r[o]=n.trim()),r}for(var o,s,u=e.document.createElement("div"),l=u,m=[];null!==(o=n());)if("<"!==o[0])l.appendChild(e.document.createTextNode((s=o,c.innerHTML=s,s=c.textContent,c.textContent="",s)));else{if("/"===o[1]){m.length&&m[m.length-1]===o.substr(2).replace(">","")&&(m.pop(),l=l.parentNode);continue}var g,y=a(o.substr(1,o.length-2));if(y){g=e.document.createProcessingInstruction("timestamp",y),l.appendChild(g);continue}var v=o.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!v)continue;if(!(g=r(v[1],v[3])))continue;if(!i(l,g))continue;if(v[2]){var _=v[2].split(".");_.forEach((function(e){var t=/^bg_/.test(e),n=t?e.slice(3):e;if(p.hasOwnProperty(n)){var i=t?"background-color":"color",r=p[n];g.style[i]=r}})),g.className=_.join(" ")}m.push(v[1]),l.appendChild(g),l=g}return u}var g=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function y(e){for(var t=0;t<g.length;t++){var n=g[t];if(e>=n[0]&&e<=n[1])return!0}return!1}function v(e){var t=[],n="";if(!e||!e.childNodes)return"ltr";function i(e,t){for(var n=t.childNodes.length-1;n>=0;n--)e.push(t.childNodes[n])}function r(e){if(!e||!e.length)return null;var t=e.pop(),n=t.textContent||t.innerText;if(n){var o=n.match(/^.*(\n|\r)/);return o?(e.length=0,o[0]):n}return"ruby"===t.tagName?r(e):t.childNodes?(i(e,t),r(e)):void 0}for(i(t,e);n=r(t);)for(var o=0;o<n.length;o++)if(y(n.charCodeAt(o)))return"rtl";return"ltr"}function _(){}function b(e,t,n){_.call(this),this.cue=t,this.cueDiv=m(e,t.text);var i={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(i,this.cueDiv),this.div=e.document.createElement("div"),i={direction:v(this.cueDiv),writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===t.align?"center":t.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(i),this.div.appendChild(this.cueDiv);var r=0;switch(t.positionAlign){case"start":r=t.position;break;case"center":r=t.position-t.size/2;break;case"end":r=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(r,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(r,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function w(e){var t,n,i,r;if(e.div){n=e.div.offsetHeight,i=e.div.offsetWidth,r=e.div.offsetTop;var o=(o=e.div.childNodes)&&(o=o[0])&&o.getClientRects&&o.getClientRects();e=e.div.getBoundingClientRect(),t=o?Math.max(o[0]&&o[0].height||0,e.height/o.length):0}this.left=e.left,this.right=e.right,this.top=e.top||r,this.height=e.height||n,this.bottom=e.bottom||r+(e.height||n),this.width=e.width||i,this.lineHeight=void 0!==t?t:e.lineHeight}function E(e,t,n,i){var r=new w(t),o=t.cue,a=function(e){if("number"==typeof e.line&&(e.snapToLines||e.line>=0&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,n=t.textTrackList,i=0,r=0;r<n.length&&n[r]!==t;r++)"showing"===n[r].mode&&i++;return-1*++i}(o),s=[];if(o.snapToLines){var u;switch(o.vertical){case"":s=["+y","-y"],u="height";break;case"rl":s=["+x","-x"],u="width";break;case"lr":s=["-x","+x"],u="width"}var l=r.lineHeight,c=l*Math.round(a),d=n[u]+l,p=s[0];Math.abs(c)>d&&(c=c<0?-1:1,c*=Math.ceil(d/l)*l),a<0&&(c+=""===o.vertical?n.height:n.width,s=s.reverse()),r.move(p,c)}else{var h=r.lineHeight/n.height*100;switch(o.lineAlign){case"center":a-=h/2;break;case"end":a-=h}switch(o.vertical){case"":t.applyStyles({top:t.formatStyle(a,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(a,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(a,"%")})}s=["+y","-x","+x","-y"],r=new w(t)}var f=function(e,t){for(var r,o=new w(e),a=1,s=0;s<t.length;s++){for(;e.overlapsOppositeAxis(n,t[s])||e.within(n)&&e.overlapsAny(i);)e.move(t[s]);if(e.within(n))return e;var u=e.intersectPercentage(n);a>u&&(r=new w(e),a=u),e=new w(o)}return r||o}(r,s);t.move(f.toCSSCompatValues(n))}function S(){}_.prototype.applyStyles=function(e,t){for(var n in t=t||this.div,e)e.hasOwnProperty(n)&&(t.style[n]=e[n])},_.prototype.formatStyle=function(e,t){return 0===e?0:e+t},b.prototype=r(_.prototype),b.prototype.constructor=b,w.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},w.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},w.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},w.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},w.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},w.prototype.intersectPercentage=function(e){return Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left))*Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top))/(this.height*this.width)},w.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},w.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,n=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,i=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;return{left:(e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e).left,right:e.right,top:e.top||i,height:e.height||t,bottom:e.bottom||i+(e.height||t),width:e.width||n}},S.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},S.convertCueToDOMTree=function(e,t){return e&&t?m(e,t):null};S.processCues=function(e,t,n){if(!e||!t||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var i=e.document.createElement("div");if(i.style.position="absolute",i.style.left="0",i.style.right="0",i.style.top="0",i.style.bottom="0",i.style.margin="1.5%",n.appendChild(i),function(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}(t)){var r=[],o=w.getSimpleBoxPosition(i),a={font:Math.round(.05*o.height*100)/100+"px sans-serif"};!function(){for(var n,s,u=0;u<t.length;u++)s=t[u],n=new b(e,s,a),i.appendChild(n.div),E(0,n,o,r),s.displayState=n.div,r.push(w.getSimpleBoxPosition(n))}()}else for(var s=0;s<t.length;s++)i.appendChild(t[s].displayState)},S.Parser=function(e,t,n){n||(n=t,t={}),t||(t={}),this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]},S.Parser.prototype={reportOrThrowError:function(e){if(!(e instanceof o))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){var t=this;function n(){for(var e=t.buffer,n=0;n<e.length&&"\r"!==e[n]&&"\n"!==e[n];)++n;var i=e.substr(0,n);return"\r"===e[n]&&++n,"\n"===e[n]&&++n,t.buffer=e.substr(n),i}function i(e){e.match(/X-TIMESTAMP-MAP/)?u(e,(function(e,n){if("X-TIMESTAMP-MAP"===e)!function(e){var n=new s;u(e,(function(e,t){switch(e){case"MPEGT":n.integer(e+"S",t);break;case"LOCA":n.set(e+"L",a(t))}}),/[^\d]:/,/,/),t.ontimestampmap&&t.ontimestampmap({MPEGTS:n.get("MPEGTS"),LOCAL:n.get("LOCAL")})}(n)}),/=/):u(e,(function(e,n){if("Region"===e)!function(e){var n=new s;if(u(e,(function(e,t){switch(e){case"id":n.set(e,t);break;case"width":n.percent(e,t);break;case"lines":n.integer(e,t);break;case"regionanchor":case"viewportanchor":var i=t.split(",");if(2!==i.length)break;var r=new s;if(r.percent("x",i[0]),r.percent("y",i[1]),!r.has("x")||!r.has("y"))break;n.set(e+"X",r.get("x")),n.set(e+"Y",r.get("y"));break;case"scroll":n.alt(e,t,["up"])}}),/=/,/\s/),n.has("id")){var i=new(t.vttjs.VTTRegion||t.window.VTTRegion);i.width=n.get("width",100),i.lines=n.get("lines",3),i.regionAnchorX=n.get("regionanchorX",0),i.regionAnchorY=n.get("regionanchorY",100),i.viewportAnchorX=n.get("viewportanchorX",0),i.viewportAnchorY=n.get("viewportanchorY",100),i.scroll=n.get("scroll",""),t.onregion&&t.onregion(i),t.regionList.push({id:n.get("id"),region:i})}}(n)}),/:/)}e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));try{var r;if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;var c=(r=n()).match(/^WEBVTT([ \t].*)?$/);if(!c||!c[0])throw new o(o.Errors.BadSignature);t.state="HEADER"}for(var d=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(d?d=!1:r=n(),t.state){case"HEADER":/:/.test(r)?i(r):r||(t.state="ID");continue;case"NOTE":r||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(r)){t.state="NOTE";break}if(!r)continue;t.cue=new(t.vttjs.VTTCue||t.window.VTTCue)(0,0,"");try{t.cue.align="center"}catch(e){t.cue.align="middle"}if(t.state="CUE",-1===r.indexOf("--\x3e")){t.cue.id=r;continue}case"CUE":try{l(r,t.cue,t.regionList)}catch(e){t.reportOrThrowError(e),t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var p=-1!==r.indexOf("--\x3e");if(!r||p&&(d=!0)){t.oncue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}t.cue.text&&(t.cue.text+="\n"),t.cue.text+=r.replace(/\u2028/g,"\n").replace(/u2029/g,"\n");continue;case"BADCUE":r||(t.state="ID");continue}}}catch(e){t.reportOrThrowError(e),"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var e=this;try{if(e.buffer+=e.decoder.decode(),(e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state)throw new o(o.Errors.BadSignature)}catch(t){e.reportOrThrowError(t)}return e.onflush&&e.onflush(),this}},t.exports=S},{"global/document":429}],872:[function(e,t,n){var i={"":1,lr:1,rl:1},r={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function o(e){return"string"==typeof e&&(!!r[e.toLowerCase()]&&e.toLowerCase())}function a(e,t,n){this.hasBeenReset=!1;var r="",a=!1,s=e,u=t,l=n,c=null,d="",p=!0,h="auto",f="start",m="auto",g="auto",y=100,v="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return r},set:function(e){r=""+e}},pauseOnExit:{enumerable:!0,get:function(){return a},set:function(e){a=!!e}},startTime:{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");s=e,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");u=e,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return l},set:function(e){l=""+e,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return c},set:function(e){c=e,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return d},set:function(e){var t=function(e){return"string"==typeof e&&!!i[e.toLowerCase()]&&e.toLowerCase()}(e);if(!1===t)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");d=t,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return p},set:function(e){p=!!e,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return h},set:function(e){if("number"!=typeof e&&"auto"!==e)throw new SyntaxError("Line: an invalid number or illegal string was specified.");h=e,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return f},set:function(e){var t=o(e);t?(f=t,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return m},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");m=e,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return g},set:function(e){var t=o(e);t?(g=t,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return y},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");y=e,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return v},set:function(e){var t=o(e);if(!t)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");v=t,this.hasBeenReset=!0}}}),this.displayState=void 0}a.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},t.exports=a},{}],873:[function(e,t,n){var i={"":!0,up:!0};function r(e){return"number"==typeof e&&e>=0&&e<=100}t.exports=function(){var e=100,t=3,n=0,o=100,a=0,s=100,u="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return e},set:function(t){if(!r(t))throw new Error("Width must be between 0 and 100.");e=t}},lines:{enumerable:!0,get:function(){return t},set:function(e){if("number"!=typeof e)throw new TypeError("Lines must be set to a number.");t=e}},regionAnchorY:{enumerable:!0,get:function(){return o},set:function(e){if(!r(e))throw new Error("RegionAnchorX must be between 0 and 100.");o=e}},regionAnchorX:{enumerable:!0,get:function(){return n},set:function(e){if(!r(e))throw new Error("RegionAnchorY must be between 0 and 100.");n=e}},viewportAnchorY:{enumerable:!0,get:function(){return s},set:function(e){if(!r(e))throw new Error("ViewportAnchorY must be between 0 and 100.");s=e}},viewportAnchorX:{enumerable:!0,get:function(){return a},set:function(e){if(!r(e))throw new Error("ViewportAnchorX must be between 0 and 100.");a=e}},scroll:{enumerable:!0,get:function(){return u},set:function(e){var t=function(e){return"string"==typeof e&&!!i[e.toLowerCase()]&&e.toLowerCase()}(e);!1===t?console.warn("Scroll: an invalid or illegal string was specified."):u=t}}})}},{}],874:[function(e,t,n){(function(e){!function(i){var r="object"==typeof n&&n,o="object"==typeof t&&t&&t.exports==r&&t,a="object"==typeof e&&e;a.global!==a&&a.window!==a||(i=a);var s,u,l,c=String.fromCharCode;function d(e){for(var t,n,i=[],r=0,o=e.length;r<o;)(t=e.charCodeAt(r++))>=55296&&t<=56319&&r<o?56320==(64512&(n=e.charCodeAt(r++)))?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),r--):i.push(t);return i}function p(e,t){return c(e>>t&63|128)}function h(e){if(0==(4294967168&e))return c(e);var t="";return 0==(4294965248&e)?t=c(e>>6&31|192):0==(4294901760&e)?(t=c(e>>12&15|224),t+=p(e,6)):0==(4292870144&e)&&(t=c(e>>18&7|240),t+=p(e,12),t+=p(e,6)),t+=c(63&e|128)}function f(){if(l>=u)throw Error("Invalid byte index");var e=255&s[l];if(l++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function m(){var e,t;if(l>u)throw Error("Invalid byte index");if(l==u)return!1;if(e=255&s[l],l++,0==(128&e))return e;if(192==(224&e)){if((t=(31&e)<<6|f())>=128)return t;throw Error("Invalid continuation byte")}if(224==(240&e)){if((t=(15&e)<<12|f()<<6|f())>=2048)return t;throw Error("Invalid continuation byte")}if(240==(248&e)&&(t=(15&e)<<18|f()<<12|f()<<6|f())>=65536&&t<=1114111)return t;throw Error("Invalid WTF-8 detected")}var g={version:"1.0.0",encode:function(e){for(var t=d(e),n=t.length,i=-1,r="";++i<n;)r+=h(t[i]);return r},decode:function(e){s=d(e),u=s.length,l=0;for(var t,n=[];!1!==(t=m());)n.push(t);return function(e){for(var t,n=e.length,i=-1,r="";++i<n;)(t=e[i])>65535&&(r+=c((t-=65536)>>>10&1023|55296),t=56320|1023&t),r+=c(t);return r}(n)}};if("function"==typeof define&&"object"==typeof define.amd&&define.amd)define((function(){return g}));else if(r&&!r.nodeType)if(o)o.exports=g;else{var y={}.hasOwnProperty;for(var v in g)y.call(g,v)&&(r[v]=g[v])}else i.wtf8=g}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],875:[function(e,t,n){"use strict";var i,r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),o={},a=0,s=0;function u(e){var t="";do{t=r[e%64]+t,e=Math.floor(e/64)}while(e>0);return t}function l(){var e=u(+new Date);return e!==i?(a=0,i=e):e+"."+u(a++)}for(;s<64;s++)o[r[s]]=s;l.encode=u,l.decode=function(e){var t=0;for(s=0;s<e.length;s++)t=64*t+o[e.charAt(s)];return t},t.exports=l},{}]},{},[161]);